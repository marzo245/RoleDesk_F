"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/agora-rtc-react";
exports.ids = ["vendor-chunks/agora-rtc-react"];
exports.modules = {

/***/ "(ssr)/./node_modules/agora-rtc-react/dist/agora-rtc-react.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/agora-rtc-react/dist/agora-rtc-react.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AgoraRTCProvider: () => (/* binding */ K5),\n/* harmony export */   AgoraRTCReactError: () => (/* binding */ Oe),\n/* harmony export */   AgoraRTCScreenShareProvider: () => (/* binding */ J5),\n/* harmony export */   LocalAudioTrack: () => (/* binding */ TN),\n/* harmony export */   LocalUser: () => (/* binding */ h6),\n/* harmony export */   LocalVideoTrack: () => (/* binding */ RN),\n/* harmony export */   RemoteAudioTrack: () => (/* binding */ IN),\n/* harmony export */   RemoteUser: () => (/* binding */ O6),\n/* harmony export */   RemoteVideoTrack: () => (/* binding */ vN),\n/* harmony export */   TrackBoundary: () => (/* binding */ WK),\n/* harmony export */   VERSION: () => (/* binding */ k6),\n/* harmony export */   \"default\": () => (/* binding */ U6),\n/* harmony export */   useAutoPlayAudioTrack: () => (/* binding */ oh),\n/* harmony export */   useAutoPlayVideoTrack: () => (/* binding */ rh),\n/* harmony export */   useClientEvent: () => (/* binding */ j5),\n/* harmony export */   useConnectionState: () => (/* binding */ i4),\n/* harmony export */   useCurrentUID: () => (/* binding */ _4),\n/* harmony export */   useIsConnected: () => (/* binding */ In),\n/* harmony export */   useJoin: () => (/* binding */ I4),\n/* harmony export */   useLocalCameraTrack: () => (/* binding */ tK),\n/* harmony export */   useLocalMicrophoneTrack: () => (/* binding */ q4),\n/* harmony export */   useLocalScreenTrack: () => (/* binding */ VK),\n/* harmony export */   useNetworkQuality: () => (/* binding */ w4),\n/* harmony export */   usePublish: () => (/* binding */ U4),\n/* harmony export */   useRTCClient: () => (/* binding */ Ze),\n/* harmony export */   useRTCScreenShareClient: () => (/* binding */ X5),\n/* harmony export */   useRemoteAudioTracks: () => (/* binding */ dK),\n/* harmony export */   useRemoteUserTrack: () => (/* binding */ Wf),\n/* harmony export */   useRemoteUsers: () => (/* binding */ DK),\n/* harmony export */   useRemoteVideoTracks: () => (/* binding */ gK),\n/* harmony export */   useTrackEvent: () => (/* binding */ G5),\n/* harmony export */   useVolumeLevel: () => (/* binding */ B4)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n\n\n\n/**\n * @license agora-rtc-react\n * @version 2.3.0\n *\n * Copyright (c) Agora, Inc.\n *\n * This source code is licensed under the MIT license.\n */\n\nfunction yN(t,e){return e.forEach(function(n){n&&typeof n!=\"string\"&&!Array.isArray(n)&&Object.keys(n).forEach(function(i){if(i!==\"default\"&&!(i in t)){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}});}});}),Object.freeze(t)}var Vs=typeof globalThis<\"u\"?globalThis:typeof window<\"u\"?window:typeof global<\"u\"?global:typeof self<\"u\"?self:{};function ae(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,\"default\")?t.default:t}var Se=function(t){try{return !!t()}catch{return !0}},vu=!Se(function(){var t=function(){}.bind();return typeof t!=\"function\"||t.hasOwnProperty(\"prototype\")}),IA=vu,vA=Function.prototype,G_=vA.call,AN=IA&&vA.bind.bind(G_,G_),me=IA?AN:function(t){return function(){return G_.apply(t,arguments)}},hn=me({}.isPrototypeOf),cd=function(t){return t&&t.Math==Math&&t},We=cd(typeof globalThis==\"object\"&&globalThis)||cd(typeof window==\"object\"&&window)||cd(typeof self==\"object\"&&self)||cd(typeof Vs==\"object\"&&Vs)||function(){return this}()||Vs||Function(\"return this\")(),bN=vu,yA=Function.prototype,Xf=yA.apply,Qf=yA.call,vm=typeof Reflect==\"object\"&&Reflect.apply||(bN?Qf.bind(Xf):function(){return Qf.apply(Xf,arguments)}),AA=me,wN=AA({}.toString),ON=AA(\"\".slice),pr=function(t){return ON(wN(t),8,-1)},NN=pr,DN=me,gc=function(t){if(NN(t)===\"Function\")return DN(t)},uh=typeof document==\"object\"&&document.all,yu={all:uh,IS_HTMLDDA:uh===void 0&&uh!==void 0},PN=yu.all,He=yu.IS_HTMLDDA?function(t){return typeof t==\"function\"||t===PN}:function(t){return typeof t==\"function\"},Yc={},ri=!Se(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),kN=vu,dd=Function.prototype.call,Ke=kN?dd.bind(dd):function(){return dd.apply(dd,arguments)},Au={},bA={}.propertyIsEnumerable,wA=Object.getOwnPropertyDescriptor,LN=wA&&!bA.call({1:2},1);Au.f=LN?function(t){var e=wA(this,t);return !!e&&e.enumerable}:bA;var xr,rl,_o=function(t,e){return {enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},MN=Se,UN=pr,hh=Object,xN=me(\"\".split),bu=MN(function(){return !hh(\"z\").propertyIsEnumerable(0)})?function(t){return UN(t)==\"String\"?xN(t,\"\"):hh(t)}:hh,da=function(t){return t==null},VN=da,FN=TypeError,la=function(t){if(VN(t))throw FN(\"Can't call method on \"+t);return t},BN=bu,jN=la,Eo=function(t){return BN(jN(t))},Zf=He,GN=yu.all,Hn=yu.IS_HTMLDDA?function(t){return typeof t==\"object\"?t!==null:Zf(t)||t===GN}:function(t){return typeof t==\"object\"?t!==null:Zf(t)},Gi={},ph=Gi,_h=We,WN=He,$f=function(t){return WN(t)?t:void 0},Dn=function(t,e){return arguments.length<2?$f(ph[t])||$f(_h[t]):ph[t]&&ph[t][e]||_h[t]&&_h[t][e]},$o=typeof navigator<\"u\"&&String(navigator.userAgent)||\"\",OA=We,Eh=$o,tg=OA.process,eg=OA.Deno,ng=tg&&tg.versions||eg&&eg.version,ig=ng&&ng.v8;ig&&(rl=(xr=ig.split(\".\"))[0]>0&&xr[0]<4?1:+(xr[0]+xr[1])),!rl&&Eh&&(!(xr=Eh.match(/Edge\\/(\\d+)/))||xr[1]>=74)&&(xr=Eh.match(/Chrome\\/(\\d+)/))&&(rl=+xr[1]);var zo=rl,rg=zo,HN=Se,KN=We.String,ua=!!Object.getOwnPropertySymbols&&!HN(function(){var t=Symbol();return !KN(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&rg&&rg<41}),NA=ua&&!Symbol.sham&&typeof Symbol.iterator==\"symbol\",YN=Dn,qN=He,zN=hn,JN=Object,qc=NA?function(t){return typeof t==\"symbol\"}:function(t){var e=YN(\"Symbol\");return qN(e)&&zN(e.prototype,JN(t))},XN=String,ha=function(t){try{return XN(t)}catch{return \"Object\"}},QN=He,ZN=ha,$N=TypeError,yi=function(t){if(QN(t))return t;throw $N(ZN(t)+\" is not a function\")},tD=yi,eD=da,wu=function(t,e){var n=t[e];return eD(n)?void 0:tD(n)},mh=Ke,fh=He,gh=Hn,nD=TypeError,DA={exports:{}},og=We,iD=Object.defineProperty,rD=function(t,e){try{iD(og,t,{value:e,configurable:!0,writable:!0});}catch{og[t]=e;}return e},sg=\"__core-js_shared__\",ym=We[sg]||rD(sg,{}),ag=ym;(DA.exports=function(t,e){return ag[t]||(ag[t]=e!==void 0?e:{})})(\"versions\",[]).push({version:\"3.31.1\",mode:\"pure\",copyright:\"\\xA9 2014-2023 Denis Pushkarev (zloirock.ru)\",license:\"https://github.com/zloirock/core-js/blob/v3.31.1/LICENSE\",source:\"https://github.com/zloirock/core-js\"});var pa=DA.exports,oD=la,sD=Object,_r=function(t){return sD(oD(t))},aD=_r,cD=me({}.hasOwnProperty),Je=Object.hasOwn||function(t,e){return cD(aD(t),e)},dD=me,lD=0,uD=Math.random(),hD=dD(1 .toString),Am=function(t){return \"Symbol(\"+(t===void 0?\"\":t)+\")_\"+hD(++lD+uD,36)},pD=pa,cg=Je,_D=Am,ED=ua,mD=NA,ws=We.Symbol,Th=pD(\"wks\"),fD=mD?ws.for||ws:ws&&ws.withoutSetter||_D,pe=function(t){return cg(Th,t)||(Th[t]=ED&&cg(ws,t)?ws[t]:fD(\"Symbol.\"+t)),Th[t]},gD=Ke,dg=Hn,lg=qc,TD=wu,SD=function(t,e){var n,i;if(fh(n=t.toString)&&!gh(i=mh(n,t))||fh(n=t.valueOf)&&!gh(i=mh(n,t))||e!==\"string\")return i;throw nD(\"Can't convert object to primitive value\")},RD=TypeError,CD=pe(\"toPrimitive\"),ID=function(t,e){if(!dg(t)||lg(t))return t;var n,i=TD(t,CD);if(i){if(n=gD(i,t,e),!dg(n)||lg(n))return n;throw RD(\"Can't convert object to primitive value\")}return SD(t,e)},vD=qc,Ou=function(t){var e=ID(t,\"string\");return vD(e)?e:e+\"\"},ug=Hn,W_=We.document,yD=ug(W_)&&ug(W_.createElement),bm=function(t){return yD?W_.createElement(t):{}},AD=bm,PA=!ri&&!Se(function(){return Object.defineProperty(AD(\"div\"),\"a\",{get:function(){return 7}}).a!=7}),bD=ri,wD=Ke,OD=Au,ND=_o,DD=Eo,PD=Ou,kD=Je,LD=PA,hg=Object.getOwnPropertyDescriptor;Yc.f=bD?hg:function(t,e){if(t=DD(t),e=PD(e),LD)try{return hg(t,e)}catch{}if(kD(t,e))return ND(!wD(OD.f,t,e),t[e])};var MD=Se,UD=He,xD=/#|\\.prototype\\./,zc=function(t,e){var n=FD[VD(t)];return n==jD||n!=BD&&(UD(e)?MD(e):!!e)},VD=zc.normalize=function(t){return String(t).replace(xD,\".\").toLowerCase()},FD=zc.data={},BD=zc.NATIVE=\"N\",jD=zc.POLYFILL=\"P\",kA=zc,GD=yi,WD=vu,HD=gc(gc.bind),mo=function(t,e){return GD(t),e===void 0?t:WD?HD(t,e):function(){return t.apply(e,arguments)}},Ai={},LA=ri&&Se(function(){return Object.defineProperty(function(){},\"prototype\",{value:42,writable:!1}).prototype!=42}),KD=Hn,YD=String,qD=TypeError,Cn=function(t){if(KD(t))return t;throw qD(YD(t)+\" is not an object\")},zD=ri,JD=PA,XD=LA,ld=Cn,pg=Ou,QD=TypeError,Sh=Object.defineProperty,ZD=Object.getOwnPropertyDescriptor,Rh=\"enumerable\",Ch=\"configurable\",Ih=\"writable\";Ai.f=zD?XD?function(t,e,n){if(ld(t),e=pg(e),ld(n),typeof t==\"function\"&&e===\"prototype\"&&\"value\"in n&&Ih in n&&!n[Ih]){var i=ZD(t,e);i&&i[Ih]&&(t[e]=n.value,n={configurable:Ch in n?n[Ch]:i[Ch],enumerable:Rh in n?n[Rh]:i[Rh],writable:!1});}return Sh(t,e,n)}:Sh:function(t,e,n){if(ld(t),e=pg(e),ld(n),JD)try{return Sh(t,e,n)}catch{}if(\"get\"in n||\"set\"in n)throw QD(\"Accessors not supported\");return \"value\"in n&&(t[e]=n.value),t};var $D=Ai,tP=_o,fo=ri?function(t,e,n){return $D.f(t,e,tP(1,n))}:function(t,e,n){return t[e]=n,t},ud=We,eP=vm,nP=gc,iP=He,rP=Yc.f,oP=kA,os=Gi,sP=mo,ss=fo,_g=Je,aP=function(t){var e=function(n,i,r){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,i)}return new t(n,i,r)}return eP(t,this,arguments)};return e.prototype=t.prototype,e},xt=function(t,e){var n,i,r,o,s,a,c,d,l,u=t.target,h=t.global,p=t.stat,g=t.proto,E=h?ud:p?ud[u]:(ud[u]||{}).prototype,f=h?os:os[u]||ss(os,u,{})[u],S=f.prototype;for(o in e)i=!(n=oP(h?o:u+(p?\".\":\"#\")+o,t.forced))&&E&&_g(E,o),a=f[o],i&&(c=t.dontCallGetSet?(l=rP(E,o))&&l.value:E[o]),s=i&&c?c:e[o],i&&typeof a==typeof s||(d=t.bind&&i?sP(s,ud):t.wrap&&i?aP(s):g&&iP(s)?nP(s):s,(t.sham||s&&s.sham||a&&a.sham)&&ss(d,\"sham\",!0),ss(f,o,d),g&&(_g(os,r=u+\"Prototype\")||ss(os,r,{}),ss(os[r],o,s),t.real&&S&&(n||!S[o])&&ss(S,o,s)));},cP=Math.ceil,dP=Math.floor,lP=Math.trunc||function(t){var e=+t;return (e>0?dP:cP)(e)},uP=lP,wm=function(t){var e=+t;return e!=e||e===0?0:uP(e)},hP=wm,pP=Math.max,_P=Math.min,Om=function(t,e){var n=hP(t);return n<0?pP(n+e,0):_P(n,e)},EP=wm,mP=Math.min,MA=function(t){return t>0?mP(EP(t),9007199254740991):0},fP=MA,Lr=function(t){return fP(t.length)},gP=Eo,TP=Om,SP=Lr,Eg=function(t){return function(e,n,i){var r,o=gP(e),s=SP(o),a=TP(i,s);if(t&&n!=n){for(;s>a;)if((r=o[a++])!=r)return !0}else for(;s>a;a++)if((t||a in o)&&o[a]===n)return t||a||0;return !t&&-1}},Nm={includes:Eg(!0),indexOf:Eg(!1)},RP=Nm.includes;xt({target:\"Array\",proto:!0,forced:Se(function(){return !Array(1).includes()})},{includes:function(t){return RP(this,t,arguments.length>1?arguments[1]:void 0)}});var CP=Gi,bi=function(t){return CP[t+\"Prototype\"]},IP=bi(\"Array\").includes,vP=Hn,yP=pr,AP=pe(\"match\"),UA=function(t){var e;return vP(t)&&((e=t[AP])!==void 0?!!e:yP(t)==\"RegExp\")},bP=UA,wP=TypeError,xA={};xA[pe(\"toStringTag\")]=\"z\";var Dm=String(xA)===\"[object z]\",OP=Dm,NP=He,ol=pr,DP=pe(\"toStringTag\"),PP=Object,kP=ol(function(){return arguments}())==\"Arguments\",Er=OP?ol:function(t){var e,n,i;return t===void 0?\"Undefined\":t===null?\"Null\":typeof(n=function(r,o){try{return r[o]}catch{}}(e=PP(t),DP))==\"string\"?n:kP?ol(e):(i=ol(e))==\"Object\"&&NP(e.callee)?\"Arguments\":i},LP=Er,MP=String,oi=function(t){if(LP(t)===\"Symbol\")throw TypeError(\"Cannot convert a Symbol value to a string\");return MP(t)},UP=pe(\"match\"),xP=xt,VP=function(t){if(bP(t))throw wP(\"The method doesn't accept regular expressions\");return t},FP=la,mg=oi,BP=function(t){var e=/./;try{\"/./\"[t](e);}catch{try{return e[UP]=!1,\"/./\"[t](e)}catch{}}return !1},jP=me(\"\".indexOf);xP({target:\"String\",proto:!0,forced:!BP(\"includes\")},{includes:function(t){return !!~jP(mg(FP(this)),mg(VP(t)),arguments.length>1?arguments[1]:void 0)}});var GP=bi(\"String\").includes,fg=hn,WP=IP,HP=GP,vh=Array.prototype,yh=String.prototype,KP=function(t){var e=t.includes;return t===vh||fg(vh,t)&&e===vh.includes?WP:typeof t==\"string\"||t===yh||fg(yh,t)&&e===yh.includes?HP:e},W=ae(KP),YP=yi,qP=_r,zP=bu,JP=Lr,XP=TypeError,gg=function(t){return function(e,n,i,r){YP(n);var o=qP(e),s=zP(o),a=JP(o),c=t?a-1:0,d=t?-1:1;if(i<2)for(;;){if(c in s){r=s[c],c+=d;break}if(c+=d,t?c<0:a<=c)throw XP(\"Reduce of empty array with no initial value\")}for(;t?c>=0:a>c;c+=d)c in s&&(r=n(r,s[c],c,o));return r}},QP={left:gg(!1),right:gg(!0)},ZP=Se,Nu=function(t,e){var n=[][t];return !!n&&ZP(function(){n.call(null,e||function(){return 1},1);})},Jc=typeof process<\"u\"&&pr(process)==\"process\",$P=QP.left;xt({target:\"Array\",proto:!0,forced:!Jc&&zo>79&&zo<83||!Nu(\"reduce\")},{reduce:function(t){var e=arguments.length;return $P(this,t,e,e>1?arguments[1]:void 0)}});var tk=bi(\"Array\").reduce,ek=hn,nk=tk,Ah=Array.prototype,ik=function(t){var e=t.reduce;return t===Ah||ek(Ah,t)&&e===Ah.reduce?nk:e},VA=ik,ji=ae(VA),FA=!0,BA=!0;function hd(t,e,n){let i=t.match(e);return i&&i.length>=n&&parseInt(i[n],10)}function ts(t,e,n){if(!t.RTCPeerConnection)return;let i=t.RTCPeerConnection.prototype,r=i.addEventListener;i.addEventListener=function(s,a){if(s!==e)return r.apply(this,arguments);let c=d=>{let l=n(d);l&&(a.handleEvent?a.handleEvent(l):a(l));};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(a,c),r.apply(this,[s,c])};let o=i.removeEventListener;i.removeEventListener=function(s,a){if(s!==e||!this._eventMap||!this._eventMap[e])return o.apply(this,arguments);if(!this._eventMap[e].has(a))return o.apply(this,arguments);let c=this._eventMap[e].get(a);return this._eventMap[e].delete(a),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,o.apply(this,[s,c])},Object.defineProperty(i,\"on\"+e,{get(){return this[\"_on\"+e]},set(s){this[\"_on\"+e]&&(this.removeEventListener(e,this[\"_on\"+e]),delete this[\"_on\"+e]),s&&this.addEventListener(e,this[\"_on\"+e]=s);},enumerable:!0,configurable:!0});}function rk(t){return typeof t!=\"boolean\"?new Error(\"Argument type: \"+typeof t+\". Please use a boolean.\"):(FA=t,t?\"adapter.js logging disabled\":\"adapter.js logging enabled\")}function ok(t){return typeof t!=\"boolean\"?new Error(\"Argument type: \"+typeof t+\". Please use a boolean.\"):(BA=!t,\"adapter.js deprecation warnings \"+(t?\"disabled\":\"enabled\"))}function jA(){if(typeof window==\"object\"){if(FA)return;typeof console<\"u\"&&typeof console.log==\"function\"&&console.log.apply(console,arguments);}}function Pm(t,e){BA&&console.warn(t+\" is deprecated, please use \"+e+\" instead.\");}function Tg(t){return Object.prototype.toString.call(t)===\"[object Object]\"}function GA(t){var e;return Tg(t)?ji(e=Object.keys(t)).call(e,function(n,i){let r=Tg(t[i]),o=r?GA(t[i]):t[i],s=r&&!Object.keys(o).length;return o===void 0||s?n:Object.assign(n,{[i]:o})},{}):t}function H_(t,e,n){e&&!n.has(e.id)&&(n.set(e.id,e),Object.keys(e).forEach(i=>{i.endsWith(\"Id\")?H_(t,t.get(e[i]),n):i.endsWith(\"Ids\")&&e[i].forEach(r=>{H_(t,t.get(r),n);});}));}function Sg(t,e,n){let i=n?\"outbound-rtp\":\"inbound-rtp\",r=new Map;if(e===null)return r;let o=[];return t.forEach(s=>{s.type===\"track\"&&s.trackIdentifier===e.id&&o.push(s);}),o.forEach(s=>{t.forEach(a=>{a.type===i&&a.trackId===s.id&&H_(t,a,r);});}),r}var sk=Am,Rg=pa(\"keys\"),Du=function(t){return Rg[t]||(Rg[t]=sk(t))},ak=!Se(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),ck=Je,dk=He,lk=_r,uk=ak,Cg=Du(\"IE_PROTO\"),K_=Object,hk=K_.prototype,km=uk?K_.getPrototypeOf:function(t){var e=lk(t);if(ck(e,Cg))return e[Cg];var n=e.constructor;return dk(n)&&e instanceof n?n.prototype:e instanceof K_?hk:null},pk=me,_k=yi,Ek=He,mk=String,fk=TypeError,gk=function(t,e,n){try{return pk(_k(Object.getOwnPropertyDescriptor(t,e)[n]))}catch{}},Tk=Cn,Sk=function(t){if(typeof t==\"object\"||Ek(t))return t;throw fk(\"Can't set \"+mk(t)+\" as a prototype\")},Rk=Object.setPrototypeOf||(\"__proto__\"in{}?function(){var t,e=!1,n={};try{(t=gk(Object.prototype,\"__proto__\",\"set\"))(n,[]),e=n instanceof Array;}catch{}return function(i,r){return Tk(i),Sk(r),e?t(i,r):i.__proto__=r,i}}():void 0),Pu={},ku={},bh=Je,Ck=Eo,Ik=Nm.indexOf,vk=ku,Ig=me([].push),WA=function(t,e){var n,i=Ck(t),r=0,o=[];for(n in i)!bh(vk,n)&&bh(i,n)&&Ig(o,n);for(;e.length>r;)bh(i,n=e[r++])&&(~Ik(o,n)||Ig(o,n));return o},Lm=[\"constructor\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"toLocaleString\",\"toString\",\"valueOf\"],yk=WA,Ak=Lm.concat(\"length\",\"prototype\");Pu.f=Object.getOwnPropertyNames||function(t){return yk(t,Ak)};var Xc={};Xc.f=Object.getOwnPropertySymbols;var bk=Dn,wk=Pu,Ok=Xc,Nk=Cn,Dk=me([].concat),Pk=bk(\"Reflect\",\"ownKeys\")||function(t){var e=wk.f(Nk(t)),n=Ok.f;return n?Dk(e,n(t)):e},vg=Je,kk=Pk,Lk=Yc,Mk=Ai,Mm={},Uk=WA,xk=Lm,Lu=Object.keys||function(t){return Uk(t,xk)},Vk=ri,Fk=LA,Bk=Ai,jk=Cn,Gk=Eo,Wk=Lu;Mm.f=Vk&&!Fk?Object.defineProperties:function(t,e){jk(t);for(var n,i=Gk(e),r=Wk(e),o=r.length,s=0;o>s;)Bk.f(t,n=r[s++],i[n]);return t};var pd,HA=Dn(\"document\",\"documentElement\"),Hk=Cn,Kk=Mm,yg=Lm,Yk=ku,qk=HA,zk=bm,Y_=\"prototype\",q_=\"script\",KA=Du(\"IE_PROTO\"),wh=function(){},YA=function(t){return \"<\"+q_+\">\"+t+\"</\"+q_+\">\"},Ag=function(t){t.write(YA(\"\")),t.close();var e=t.parentWindow.Object;return t=null,e},sl=function(){try{pd=new ActiveXObject(\"htmlfile\");}catch{}var t,e,n;sl=typeof document<\"u\"?document.domain&&pd?Ag(pd):(e=zk(\"iframe\"),n=\"java\"+q_+\":\",e.style.display=\"none\",qk.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(YA(\"document.F=Object\")),t.close(),t.F):Ag(pd);for(var i=yg.length;i--;)delete sl[Y_][yg[i]];return sl()};Yk[KA]=!0;var Qc=Object.create||function(t,e){var n;return t!==null?(wh[Y_]=Hk(t),n=new wh,wh[Y_]=null,n[KA]=t):n=sl(),e===void 0?n:Kk.f(n,e)},Jk=Hn,Xk=fo,qA=Error,Qk=me(\"\".replace),Zk=String(qA(\"zxcasd\").stack),zA=/\\n\\s*at [^:]*:[^\\n]*/,$k=zA.test(Zk),tL=_o,eL=!Se(function(){var t=Error(\"a\");return !(\"stack\"in t)||(Object.defineProperty(t,\"stack\",tL(1,7)),t.stack!==7)}),nL=fo,iL=function(t,e){if($k&&typeof t==\"string\"&&!qA.prepareStackTrace)for(;e--;)t=Qk(t,zA,\"\");return t},rL=eL,bg=Error.captureStackTrace,es={},oL=es,sL=pe(\"iterator\"),aL=Array.prototype,JA=function(t){return t!==void 0&&(oL.Array===t||aL[sL]===t)},cL=Er,wg=wu,dL=da,lL=es,uL=pe(\"iterator\"),Mu=function(t){if(!dL(t))return wg(t,uL)||wg(t,\"@@iterator\")||lL[cL(t)]},hL=Ke,pL=yi,_L=Cn,EL=ha,mL=Mu,fL=TypeError,Um=function(t,e){var n=arguments.length<2?mL(t):e;if(pL(n))return _L(hL(n,t));throw fL(EL(t)+\" is not iterable\")},gL=Ke,Og=Cn,TL=wu,XA=function(t,e,n){var i,r;Og(t);try{if(!(i=TL(t,\"return\"))){if(e===\"throw\")throw n;return n}i=gL(i,t);}catch(o){r=!0,i=o;}if(e===\"throw\")throw n;if(r)throw i;return Og(i),n},SL=mo,RL=Ke,CL=Cn,IL=ha,vL=JA,yL=Lr,Ng=hn,AL=Um,bL=Mu,Dg=XA,wL=TypeError,al=function(t,e){this.stopped=t,this.result=e;},Pg=al.prototype,Zc=function(t,e,n){var i,r,o,s,a,c,d,l=n&&n.that,u=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_RECORD),p=!(!n||!n.IS_ITERATOR),g=!(!n||!n.INTERRUPTED),E=SL(e,l),f=function(C){return i&&Dg(i,\"normal\",C),new al(!0,C)},S=function(C){return u?(CL(C),g?E(C[0],C[1],f):E(C[0],C[1])):g?E(C,f):E(C)};if(h)i=t.iterator;else if(p)i=t;else {if(!(r=bL(t)))throw wL(IL(t)+\" is not iterable\");if(vL(r)){for(o=0,s=yL(t);s>o;o++)if((a=S(t[o]))&&Ng(Pg,a))return a;return new al(!1)}i=AL(t,r);}for(c=h?t.next:i.next;!(d=RL(c,i)).done;){try{a=S(d.value);}catch(C){Dg(i,\"throw\",C);}if(typeof a==\"object\"&&a&&Ng(Pg,a))return a}return new al(!1)},OL=oi,NL=xt,DL=hn,PL=km,Nl=Rk,kL=function(t,e,n){for(var i=kk(e),r=Mk.f,o=Lk.f,s=0;s<i.length;s++){var a=i[s];vg(t,a)||n&&vg(n,a)||r(t,a,o(e,a));}},QA=Qc,Oh=fo,Nh=_o,LL=function(t,e){Jk(e)&&\"cause\"in e&&Xk(t,\"cause\",e.cause);},ML=function(t,e,n,i){rL&&(bg?bg(t,e):nL(t,\"stack\",iL(n,i)));},UL=Zc,xL=function(t,e){return t===void 0?arguments.length<2?\"\":e:OL(t)},VL=pe(\"toStringTag\"),Dl=Error,FL=[].push,Js=function(t,e){var n,i=DL(Dh,this);Nl?n=Nl(Dl(),i?PL(this):Dh):(n=i?this:QA(Dh),Oh(n,VL,\"Error\")),e!==void 0&&Oh(n,\"message\",xL(e)),ML(n,Js,n.stack,1),arguments.length>2&&LL(n,arguments[2]);var r=[];return UL(t,FL,{that:r}),Oh(n,\"errors\",r),n};Nl?Nl(Js,Dl):kL(Js,Dl,{name:!0});var Dh=Js.prototype=QA(Dl.prototype,{constructor:Nh(1,Js),message:Nh(1,\"\"),name:Nh(1,\"AggregateError\")});NL({global:!0,constructor:!0,arity:2},{AggregateError:Js});var Pl,nc,kl,BL=He,kg=We.WeakMap,jL=BL(kg)&&/native code/.test(String(kg)),ZA=We,GL=Hn,WL=fo,Ph=Je,kh=ym,HL=Du,KL=ku,Lg=\"Object already initialized\",z_=ZA.TypeError,YL=ZA.WeakMap;jL||kh.state?(Ni=kh.state||(kh.state=new YL),Ni.get=Ni.get,Ni.has=Ni.has,Ni.set=Ni.set,Pl=function(t,e){if(Ni.has(t))throw z_(Lg);return e.facade=t,Ni.set(t,e),e},nc=function(t){return Ni.get(t)||{}},kl=function(t){return Ni.has(t)}):(Co=HL(\"state\"),KL[Co]=!0,Pl=function(t,e){if(Ph(t,Co))throw z_(Lg);return e.facade=t,WL(t,Co,e),e},nc=function(t){return Ph(t,Co)?t[Co]:{}},kl=function(t){return Ph(t,Co)});var Ni,Co,Ho,Mg,Ug,ns={set:Pl,get:nc,has:kl,enforce:function(t){return kl(t)?nc(t):Pl(t,{})},getterFor:function(t){return function(e){var n;if(!GL(e)||(n=nc(e)).type!==t)throw z_(\"Incompatible receiver, \"+t+\" required\");return n}}},J_=ri,qL=Je,$A=Function.prototype,zL=J_&&Object.getOwnPropertyDescriptor,Lh=qL($A,\"name\"),tb={EXISTS:Lh,PROPER:Lh&&function(){}.name===\"something\",CONFIGURABLE:Lh&&(!J_||J_&&zL($A,\"name\").configurable)},JL=fo,go=function(t,e,n,i){return i&&i.enumerable?t[e]=n:JL(t,e,n),t},XL=Se,QL=He,ZL=Hn,$L=Qc,xg=km,t1=go,X_=pe(\"iterator\"),eb=!1;[].keys&&(\"next\"in(Ug=[].keys())?(Mg=xg(xg(Ug)))!==Object.prototype&&(Ho=Mg):eb=!0);var e1=!ZL(Ho)||XL(function(){var t={};return Ho[X_].call(t)!==t});QL((Ho=e1?{}:$L(Ho))[X_])||t1(Ho,X_,function(){return this});var nb={IteratorPrototype:Ho,BUGGY_SAFARI_ITERATORS:eb},n1=Er,i1=Dm?{}.toString:function(){return \"[object \"+n1(this)+\"]\"},r1=Dm,o1=Ai.f,s1=fo,a1=Je,c1=i1,Vg=pe(\"toStringTag\"),To=function(t,e,n,i){if(t){var r=n?t:t.prototype;a1(r,Vg)||o1(r,Vg,{configurable:!0,value:e}),i&&!r1&&s1(r,\"toString\",c1);}},d1=nb.IteratorPrototype,l1=Qc,u1=_o,h1=To,p1=es,_1=function(){return this},xm=function(t,e,n,i){var r=e+\" Iterator\";return t.prototype=l1(d1,{next:u1(+!i,n)}),h1(t,r,!1,!0),p1[r]=_1,t},E1=xt,m1=Ke,f1=tb,g1=xm,T1=km,S1=To,Fg=go,Bg=es,R1=nb,C1=f1.PROPER,_d=R1.BUGGY_SAFARI_ITERATORS,Mh=pe(\"iterator\"),jg=\"keys\",Ed=\"values\",Gg=\"entries\",I1=function(){return this},ib=function(t,e,n,i,r,o,s){g1(n,e,i);var a,c,d,l=function(S){if(S===r&&E)return E;if(!_d&&S in p)return p[S];switch(S){case jg:case Ed:case Gg:return function(){return new n(this,S)}}return function(){return new n(this)}},u=e+\" Iterator\",h=!1,p=t.prototype,g=p[Mh]||p[\"@@iterator\"]||r&&p[r],E=!_d&&g||l(r),f=e==\"Array\"&&p.entries||g;if(f&&(a=T1(f.call(new t)))!==Object.prototype&&a.next&&(S1(a,u,!0,!0),Bg[u]=I1),C1&&r==Ed&&g&&g.name!==Ed&&(h=!0,E=function(){return m1(g,this)}),r)if(c={values:l(Ed),keys:o?E:l(jg),entries:l(Gg)},s)for(d in c)(_d||h||!(d in p))&&Fg(p,d,c[d]);else E1({target:e,proto:!0,forced:_d||h},c);return s&&p[Mh]!==E&&Fg(p,Mh,E,{name:r}),Bg[e]=E,c},Vm=function(t,e){return {value:t,done:e}},v1=Eo,Wg=es,rb=ns;Ai.f;var y1=ib,Hg=Vm,ob=\"Array Iterator\",A1=rb.set,b1=rb.getterFor(ob);y1(Array,\"Array\",function(t,e){A1(this,{type:ob,target:v1(t),index:0,kind:e});},function(){var t=b1(this),e=t.target,n=t.kind,i=t.index++;return !e||i>=e.length?(t.target=void 0,Hg(void 0,!0)):Hg(n==\"keys\"?i:n==\"values\"?e[i]:[i,e[i]],!1)},\"values\"),Wg.Arguments=Wg.Array;var w1=Ai,Uu=function(t,e,n){return w1.f(t,e,n)},O1=Dn,N1=Uu,D1=ri,Kg=pe(\"species\"),P1=hn,k1=TypeError,Fm=function(t,e){if(P1(e,t))return t;throw k1(\"Incorrect invocation\")},L1=He,Q_=ym,M1=me(Function.toString);L1(Q_.inspectSource)||(Q_.inspectSource=function(t){return M1(t)});var sb=Q_.inspectSource,U1=me,x1=Se,ab=He,V1=Er,F1=sb,cb=function(){},B1=[],db=Dn(\"Reflect\",\"construct\"),Bm=/^\\s*(?:class|function)\\b/,j1=U1(Bm.exec),G1=!Bm.exec(cb),Aa=function(t){if(!ab(t))return !1;try{return db(cb,B1,t),!0}catch{return !1}},lb=function(t){if(!ab(t))return !1;switch(V1(t)){case\"AsyncFunction\":case\"GeneratorFunction\":case\"AsyncGeneratorFunction\":return !1}try{return G1||!!j1(Bm,F1(t))}catch{return !0}};lb.sham=!0;var Tc,as,Yg,Uh,xu=!db||x1(function(){var t;return Aa(Aa.call)||!Aa(Object)||!Aa(function(){t=!0;})||t})?lb:Aa,W1=xu,H1=ha,K1=TypeError,qg=Cn,Y1=function(t){if(W1(t))return t;throw K1(H1(t)+\" is not a constructor\")},q1=da,z1=pe(\"species\"),jm=function(t,e){var n,i=qg(t).constructor;return i===void 0||q1(n=qg(i)[z1])?e:Y1(n)},Gm=me([].slice),J1=TypeError,Vu=function(t,e){if(t<e)throw J1(\"Not enough arguments\");return t},ub=/(?:ipad|iphone|ipod).*applewebkit/i.test($o),ei=We,X1=vm,Q1=mo,zg=He,Z1=Je,hb=Se,Jg=HA,$1=Gm,Xg=bm,tM=Vu,eM=ub,nM=Jc,Z_=ei.setImmediate,$_=ei.clearImmediate,iM=ei.process,xh=ei.Dispatch,rM=ei.Function,Qg=ei.MessageChannel,oM=ei.String,Vh=0,ic={},Zg=\"onreadystatechange\";hb(function(){Tc=ei.location;});var Wm=function(t){if(Z1(ic,t)){var e=ic[t];delete ic[t],e();}},Fh=function(t){return function(){Wm(t);}},$g=function(t){Wm(t.data);},tT=function(t){ei.postMessage(oM(t),Tc.protocol+\"//\"+Tc.host);};Z_&&$_||(Z_=function(t){tM(arguments.length,1);var e=zg(t)?t:rM(t),n=$1(arguments,1);return ic[++Vh]=function(){X1(e,void 0,n);},as(Vh),Vh},$_=function(t){delete ic[t];},nM?as=function(t){iM.nextTick(Fh(t));}:xh&&xh.now?as=function(t){xh.now(Fh(t));}:Qg&&!eM?(Uh=(Yg=new Qg).port2,Yg.port1.onmessage=$g,as=Q1(Uh.postMessage,Uh)):ei.addEventListener&&zg(ei.postMessage)&&!ei.importScripts&&Tc&&Tc.protocol!==\"file:\"&&!hb(tT)?(as=tT,ei.addEventListener(\"message\",$g,!1)):as=Zg in Xg(\"script\")?function(t){Jg.appendChild(Xg(\"script\"))[Zg]=function(){Jg.removeChild(this),Wm(t);};}:function(t){setTimeout(Fh(t),0);});var pb={set:Z_,clear:$_},_b=function(){this.head=null,this.tail=null;};_b.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e;},get:function(){var t=this.head;if(t)return (this.head=t.next)===null&&(this.tail=null),t.item}};var cs,Bh,jh,Gh,eT,Eb=_b,sM=/ipad|iphone|ipod/i.test($o)&&typeof Pebble<\"u\",aM=/web0s(?!.*chrome)/i.test($o),Jo=We,nT=mo,cM=Yc.f,Wh=pb.set,dM=Eb,lM=ub,uM=sM,hM=aM,Hh=Jc,iT=Jo.MutationObserver||Jo.WebKitMutationObserver,rT=Jo.document,oT=Jo.process,md=Jo.Promise,sT=cM(Jo,\"queueMicrotask\"),tE=sT&&sT.value;tE||(ba=new dM,wa=function(){var t,e;for(Hh&&(t=oT.domain)&&t.exit();e=ba.get();)try{e();}catch(n){throw ba.head&&cs(),n}t&&t.enter();},lM||Hh||hM||!iT||!rT?!uM&&md&&md.resolve?((Gh=md.resolve(void 0)).constructor=md,eT=nT(Gh.then,Gh),cs=function(){eT(wa);}):Hh?cs=function(){oT.nextTick(wa);}:(Wh=nT(Wh,Jo),cs=function(){Wh(wa);}):(Bh=!0,jh=rT.createTextNode(\"\"),new iT(wa).observe(jh,{characterData:!0}),cs=function(){jh.data=Bh=!Bh;}),tE=function(t){ba.head||cs(),ba.add(t);});var ba,wa,pM=tE,_a=function(t){try{return {error:!1,value:t()}}catch(e){return {error:!0,value:e}}},Xo=We.Promise,mb=typeof Deno==\"object\"&&Deno&&typeof Deno.version==\"object\",_M=!mb&&!Jc&&typeof window==\"object\"&&typeof document==\"object\",EM=We,rc=Xo,mM=He,fM=kA,gM=sb,TM=pe,SM=_M,RM=mb,Kh=zo,aT=rc&&rc.prototype,CM=TM(\"species\"),fb=!1,gb=mM(EM.PromiseRejectionEvent),IM=fM(\"Promise\",function(){var t=gM(rc),e=t!==String(rc);if(!e&&Kh===66||!aT.catch||!aT.finally)return !0;if(!Kh||Kh<51||!/native code/.test(t)){var n=new rc(function(r){r(1);}),i=function(r){r(function(){},function(){});};if((n.constructor={})[CM]=i,!(fb=n.then(function(){})instanceof i))return !0}return !e&&(SM||RM)&&!gb}),$c={CONSTRUCTOR:IM,REJECTION_EVENT:gb,SUBCLASSING:fb},mr={},cT=yi,vM=TypeError,yM=function(t){var e,n;this.promise=new t(function(i,r){if(e!==void 0||n!==void 0)throw vM(\"Bad Promise constructor\");e=i,n=r;}),this.resolve=cT(e),this.reject=cT(n);};mr.f=function(t){return new yM(t)};var Yh,dT,AM=xt,Ll=Jc,uo=We,td=Ke,bM=go,wM=To,OM=function(t){var e=O1(t);D1&&e&&!e[Kg]&&N1(e,Kg,{configurable:!0,get:function(){return this}});},NM=yi,eE=He,DM=Hn,PM=Fm,kM=jm,Tb=pb.set,Hm=pM,LM=function(t,e){try{arguments.length==1?console.error(t):console.error(t,e);}catch{}},MM=_a,UM=Eb,Sb=ns,nE=Xo,Rb=$c,Cb=mr,cl=\"Promise\",lT=Rb.CONSTRUCTOR,xM=Rb.REJECTION_EVENT,qh=Sb.getterFor(cl),VM=Sb.set,FM=nE&&nE.prototype,Oa=nE,zh=FM,Ib=uo.TypeError,iE=uo.document,Km=uo.process,rE=Cb.f,BM=rE,jM=!!(iE&&iE.createEvent&&uo.dispatchEvent),vb=\"unhandledrejection\",yb=function(t){var e;return !(!DM(t)||!eE(e=t.then))&&e},Ab=function(t,e){var n,i,r,o=e.value,s=e.state==1,a=s?t.ok:t.fail,c=t.resolve,d=t.reject,l=t.domain;try{a?(s||(e.rejection===2&&WM(e),e.rejection=1),a===!0?n=o:(l&&l.enter(),n=a(o),l&&(l.exit(),r=!0)),n===t.promise?d(Ib(\"Promise-chain cycle\")):(i=yb(n))?td(i,n,c,d):c(n)):d(o);}catch(u){l&&!r&&l.exit(),d(u);}},bb=function(t,e){t.notified||(t.notified=!0,Hm(function(){for(var n,i=t.reactions;n=i.get();)Ab(n,t);t.notified=!1,e&&!t.rejection&&GM(t);}));},wb=function(t,e,n){var i,r;jM?((i=iE.createEvent(\"Event\")).promise=e,i.reason=n,i.initEvent(t,!1,!0),uo.dispatchEvent(i)):i={promise:e,reason:n},!xM&&(r=uo[\"on\"+t])?r(i):t===vb&&LM(\"Unhandled promise rejection\",n);},GM=function(t){td(Tb,uo,function(){var e,n=t.facade,i=t.value;if(uT(t)&&(e=MM(function(){Ll?Km.emit(\"unhandledRejection\",i,n):wb(vb,n,i);}),t.rejection=Ll||uT(t)?2:1,e.error))throw e.value});},uT=function(t){return t.rejection!==1&&!t.parent},WM=function(t){td(Tb,uo,function(){var e=t.facade;Ll?Km.emit(\"rejectionHandled\",e):wb(\"rejectionhandled\",e,t.value);});},Os=function(t,e,n){return function(i){t(e,i,n);}},Fs=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,bb(t,!0));},oE=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw Ib(\"Promise can't be resolved itself\");var i=yb(e);i?Hm(function(){var r={done:!1};try{td(i,e,Os(oE,r,t),Os(Fs,r,t));}catch(o){Fs(r,o,t);}}):(t.value=e,t.state=1,bb(t,!1));}catch(r){Fs({done:!1},r,t);}}};lT&&(zh=(Oa=function(t){PM(this,zh),NM(t),td(Yh,this);var e=qh(this);try{t(Os(oE,e),Os(Fs,e));}catch(n){Fs(e,n);}}).prototype,(Yh=function(t){VM(this,{type:cl,done:!1,notified:!1,parent:!1,reactions:new UM,rejection:!1,state:0,value:void 0});}).prototype=bM(zh,\"then\",function(t,e){var n=qh(this),i=rE(kM(this,Oa));return n.parent=!0,i.ok=!eE(t)||t,i.fail=eE(e)&&e,i.domain=Ll?Km.domain:void 0,n.state==0?n.reactions.add(i):Hm(function(){Ab(i,n);}),i.promise}),dT=function(){var t=new Yh,e=qh(t);this.promise=t,this.resolve=Os(oE,e),this.reject=Os(Fs,e);},Cb.f=rE=function(t){return t===Oa||t===void 0?new dT(t):BM(t)}),AM({global:!0,constructor:!0,wrap:!0,forced:lT},{Promise:Oa}),wM(Oa,cl,!1,!0),OM(cl);var Ob=pe(\"iterator\"),Nb=!1;try{hT=0,Jh={next:function(){return {done:!!hT++}},return:function(){Nb=!0;}},Jh[Ob]=function(){return this},Array.from(Jh,function(){throw 2});}catch{}var hT,Jh,HM=Xo,KM=function(t,e){if(!Nb)return !1;var n=!1;try{var i={};i[Ob]=function(){return {next:function(){return {done:n=!0}}}},t(i);}catch{}return n},Fu=$c.CONSTRUCTOR||!KM(function(t){HM.all(t).then(void 0,function(){});}),YM=Ke,qM=yi,zM=mr,JM=_a,XM=Zc;xt({target:\"Promise\",stat:!0,forced:Fu},{all:function(t){var e=this,n=zM.f(e),i=n.resolve,r=n.reject,o=JM(function(){var s=qM(e.resolve),a=[],c=0,d=1;XM(t,function(l){var u=c++,h=!1;d++,YM(s,e,l).then(function(p){h||(h=!0,a[u]=p,--d||i(a));},r);}),--d||i(a);});return o.error&&r(o.value),n.promise}});var QM=xt,ZM=$c.CONSTRUCTOR;Xo&&Xo.prototype,QM({target:\"Promise\",proto:!0,forced:ZM,real:!0},{catch:function(t){return this.then(void 0,t)}});var $M=Ke,tU=yi,eU=mr,nU=_a,iU=Zc;xt({target:\"Promise\",stat:!0,forced:Fu},{race:function(t){var e=this,n=eU.f(e),i=n.reject,r=nU(function(){var o=tU(e.resolve);iU(t,function(s){$M(o,e,s).then(n.resolve,i);});});return r.error&&i(r.value),n.promise}});var rU=Ke,oU=mr;xt({target:\"Promise\",stat:!0,forced:$c.CONSTRUCTOR},{reject:function(t){var e=oU.f(this);return rU(e.reject,void 0,t),e.promise}});var sU=Cn,aU=Hn,cU=mr,Db=function(t,e){if(sU(t),aU(e)&&e.constructor===t)return e;var n=cU.f(t);return (0, n.resolve)(e),n.promise},dU=xt,lU=Xo,uU=$c.CONSTRUCTOR,hU=Db,pU=Dn(\"Promise\"),_U=!uU;dU({target:\"Promise\",stat:!0,forced:!0},{resolve:function(t){return hU(_U&&this===pU?lU:this,t)}});var EU=Ke,mU=yi,fU=mr,gU=_a,TU=Zc;xt({target:\"Promise\",stat:!0,forced:Fu},{allSettled:function(t){var e=this,n=fU.f(e),i=n.resolve,r=n.reject,o=gU(function(){var s=mU(e.resolve),a=[],c=0,d=1;TU(t,function(l){var u=c++,h=!1;d++,EU(s,e,l).then(function(p){h||(h=!0,a[u]={status:\"fulfilled\",value:p},--d||i(a));},function(p){h||(h=!0,a[u]={status:\"rejected\",reason:p},--d||i(a));});}),--d||i(a);});return o.error&&r(o.value),n.promise}});var SU=Ke,RU=yi,CU=Dn,IU=mr,vU=_a,yU=Zc,pT=\"No one promise resolved\";xt({target:\"Promise\",stat:!0,forced:Fu},{any:function(t){var e=this,n=CU(\"AggregateError\"),i=IU.f(e),r=i.resolve,o=i.reject,s=vU(function(){var a=RU(e.resolve),c=[],d=0,l=1,u=!1;yU(t,function(h){var p=d++,g=!1;l++,SU(a,e,h).then(function(E){g||u||(u=!0,r(E));},function(E){g||u||(g=!0,c[p]=E,--l||o(new n(c,pT)));});}),--l||o(new n(c,pT));});return s.error&&o(s.value),i.promise}});var AU=xt,sE=Xo,bU=Se,wU=Dn,OU=He,NU=jm,_T=Db,DU=sE&&sE.prototype;AU({target:\"Promise\",proto:!0,real:!0,forced:!!sE&&bU(function(){DU.finally.call({then:function(){}},function(){});})},{finally:function(t){var e=NU(this,wU(\"Promise\")),n=OU(t);return this.then(n?function(i){return _T(e,t()).then(function(){return i})}:t,n?function(i){return _T(e,t()).then(function(){throw i})}:t)}});var Ym=me,PU=wm,kU=oi,LU=la,MU=Ym(\"\".charAt),ET=Ym(\"\".charCodeAt),UU=Ym(\"\".slice),mT=function(t){return function(e,n){var i,r,o=kU(LU(e)),s=PU(n),a=o.length;return s<0||s>=a?t?\"\":void 0:(i=ET(o,s))<55296||i>56319||s+1===a||(r=ET(o,s+1))<56320||r>57343?t?MU(o,s):i:t?UU(o,s,s+2):r-56320+(i-55296<<10)+65536}},qm={codeAt:mT(!1),charAt:mT(!0)},xU=qm.charAt,VU=oi,Pb=ns,FU=ib,fT=Vm,kb=\"String Iterator\",BU=Pb.set,jU=Pb.getterFor(kb);FU(String,\"String\",function(t){BU(this,{type:kb,string:VU(t),index:0});},function(){var t,e=jU(this),n=e.string,i=e.index;return i>=n.length?fT(void 0,!0):(t=xU(n,i),e.index+=t.length,fT(t,!1))});var GU=Gi.Promise,WU={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},HU=We,KU=Er,YU=fo,gT=es,TT=pe(\"toStringTag\");for(fd in WU)Xh=HU[fd],gd=Xh&&Xh.prototype,gd&&KU(gd)!==TT&&YU(gd,TT,fd),gT[fd]=gT.Array;var Xh,gd,fd,Lb=GU,j=ae(Lb),ST=jA;function Mb(t,e){let n=t&&t.navigator;if(!n.mediaDevices)return;let i=function(s){if(typeof s!=\"object\"||s.mandatory||s.optional)return s;let a={};return Object.keys(s).forEach(c=>{if(c===\"require\"||c===\"advanced\"||c===\"mediaSource\")return;let d=typeof s[c]==\"object\"?s[c]:{ideal:s[c]};d.exact!==void 0&&typeof d.exact==\"number\"&&(d.min=d.max=d.exact);let l=function(u,h){return u?u+h.charAt(0).toUpperCase()+h.slice(1):h===\"deviceId\"?\"sourceId\":h};if(d.ideal!==void 0){a.optional=a.optional||[];let u={};typeof d.ideal==\"number\"?(u[l(\"min\",c)]=d.ideal,a.optional.push(u),u={},u[l(\"max\",c)]=d.ideal,a.optional.push(u)):(u[l(\"\",c)]=d.ideal,a.optional.push(u));}d.exact!==void 0&&typeof d.exact!=\"number\"?(a.mandatory=a.mandatory||{},a.mandatory[l(\"\",c)]=d.exact):[\"min\",\"max\"].forEach(u=>{d[u]!==void 0&&(a.mandatory=a.mandatory||{},a.mandatory[l(u,c)]=d[u]);});}),s.advanced&&(a.optional=(a.optional||[]).concat(s.advanced)),a},r=function(s,a){if(e.version>=61)return a(s);if((s=JSON.parse(JSON.stringify(s)))&&typeof s.audio==\"object\"){let c=function(d,l,u){l in d&&!(u in d)&&(d[u]=d[l],delete d[l]);};c((s=JSON.parse(JSON.stringify(s))).audio,\"autoGainControl\",\"googAutoGainControl\"),c(s.audio,\"noiseSuppression\",\"googNoiseSuppression\"),s.audio=i(s.audio);}if(s&&typeof s.video==\"object\"){let c=s.video.facingMode;c=c&&(typeof c==\"object\"?c:{ideal:c});let d=e.version<66;if(c&&(c.exact===\"user\"||c.exact===\"environment\"||c.ideal===\"user\"||c.ideal===\"environment\")&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||d)){let l;if(delete s.video.facingMode,c.exact===\"environment\"||c.ideal===\"environment\"?l=[\"back\",\"rear\"]:c.exact!==\"user\"&&c.ideal!==\"user\"||(l=[\"front\"]),l)return n.mediaDevices.enumerateDevices().then(u=>{let h=(u=u.filter(p=>p.kind===\"videoinput\")).find(p=>l.some(g=>{var E;return W(E=p.label.toLowerCase()).call(E,g)}));return !h&&u.length&&W(l).call(l,\"back\")&&(h=u[u.length-1]),h&&(s.video.deviceId=c.exact?{exact:h.deviceId}:{ideal:h.deviceId}),s.video=i(s.video),ST(\"chrome: \"+JSON.stringify(s)),a(s)})}s.video=i(s.video);}return ST(\"chrome: \"+JSON.stringify(s)),a(s)},o=function(s){return e.version>=64?s:{name:{PermissionDeniedError:\"NotAllowedError\",PermissionDismissedError:\"NotAllowedError\",InvalidStateError:\"NotAllowedError\",DevicesNotFoundError:\"NotFoundError\",ConstraintNotSatisfiedError:\"OverconstrainedError\",TrackStartError:\"NotReadableError\",MediaDeviceFailedDueToShutdown:\"NotAllowedError\",MediaDeviceKillSwitchOn:\"NotAllowedError\",TabCaptureError:\"AbortError\",ScreenCaptureError:\"AbortError\",DeviceCaptureError:\"AbortError\"}[s.name]||s.name,message:s.message,constraint:s.constraint||s.constraintName,toString(){return this.name+(this.message&&\": \")+this.message}}};if(n.getUserMedia=function(s,a,c){r(s,d=>{n.webkitGetUserMedia(d,a,l=>{c&&c(o(l));});});}.bind(n),n.mediaDevices.getUserMedia){let s=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(a){return r(a,c=>s(c).then(d=>{if(c.audio&&!d.getAudioTracks().length||c.video&&!d.getVideoTracks().length)throw d.getTracks().forEach(l=>{l.stop();}),new DOMException(\"\",\"NotFoundError\");return d},d=>j.reject(o(d))))};}}function Ub(t){t.MediaStream=t.MediaStream||t.webkitMediaStream;}function xb(t){if(typeof t==\"object\"&&t.RTCPeerConnection&&!(\"ontrack\"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,\"ontrack\",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener(\"track\",this._ontrack),this.addEventListener(\"track\",this._ontrack=n);},enumerable:!0,configurable:!0});let e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=n=>{n.stream.addEventListener(\"addtrack\",i=>{let r;r=t.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(s=>s.track&&s.track.id===i.track.id):{track:i.track};let o=new Event(\"track\");o.track=i.track,o.receiver=r,o.transceiver={receiver:r},o.streams=[n.stream],this.dispatchEvent(o);}),n.stream.getTracks().forEach(i=>{let r;r=t.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(s=>s.track&&s.track.id===i.id):{track:i};let o=new Event(\"track\");o.track=i,o.receiver=r,o.transceiver={receiver:r},o.streams=[n.stream],this.dispatchEvent(o);});},this.addEventListener(\"addstream\",this._ontrackpoly)),e.apply(this,arguments)};}else ts(t,\"track\",e=>(e.transceiver||Object.defineProperty(e,\"transceiver\",{value:{receiver:e.receiver}}),e));}function Vb(t){if(typeof t==\"object\"&&t.RTCPeerConnection&&!(\"getSenders\"in t.RTCPeerConnection.prototype)&&\"createDTMFSender\"in t.RTCPeerConnection.prototype){let e=function(r,o){return {track:o,get dtmf(){return this._dtmf===void 0&&(o.kind===\"audio\"?this._dtmf=r.createDTMFSender(o):this._dtmf=null),this._dtmf},_pc:r}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};let r=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(s,a){let c=r.apply(this,arguments);return c||(c=e(this,s),this._senders.push(c)),c};let o=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(s){o.apply(this,arguments);let a=this._senders.indexOf(s);a!==-1&&this._senders.splice(a,1);};}let n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(r){this._senders=this._senders||[],n.apply(this,[r]),r.getTracks().forEach(o=>{this._senders.push(e(this,o));});};let i=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(r){this._senders=this._senders||[],i.apply(this,[r]),r.getTracks().forEach(o=>{let s=this._senders.find(a=>a.track===o);s&&this._senders.splice(this._senders.indexOf(s),1);});};}else if(typeof t==\"object\"&&t.RTCPeerConnection&&\"getSenders\"in t.RTCPeerConnection.prototype&&\"createDTMFSender\"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!(\"dtmf\"in t.RTCRtpSender.prototype)){let e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){let n=e.apply(this,[]);return n.forEach(i=>i._pc=this),n},Object.defineProperty(t.RTCRtpSender.prototype,\"dtmf\",{get(){return this._dtmf===void 0&&(this.track.kind===\"audio\"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}});}}function Fb(t){if(!t.RTCPeerConnection)return;let e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){let[n,i,r]=arguments;if(arguments.length>0&&typeof n==\"function\")return e.apply(this,arguments);if(e.length===0&&(arguments.length===0||typeof n!=\"function\"))return e.apply(this,[]);let o=function(a){let c={};return a.result().forEach(d=>{let l={id:d.id,timestamp:d.timestamp,type:{localcandidate:\"local-candidate\",remotecandidate:\"remote-candidate\"}[d.type]||d.type};d.names().forEach(u=>{l[u]=d.stat(u);}),c[l.id]=l;}),c},s=function(a){return new Map(Object.keys(a).map(c=>[c,a[c]]))};if(arguments.length>=2){let a=function(c){i(s(o(c)));};return e.apply(this,[a,n])}return new j((a,c)=>{e.apply(this,[function(d){a(s(o(d)));},c]);}).then(i,r)};}function Bb(t){if(!(typeof t==\"object\"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!(\"getStats\"in t.RTCRtpSender.prototype)){let n=t.RTCPeerConnection.prototype.getSenders;n&&(t.RTCPeerConnection.prototype.getSenders=function(){let r=n.apply(this,[]);return r.forEach(o=>o._pc=this),r});let i=t.RTCPeerConnection.prototype.addTrack;i&&(t.RTCPeerConnection.prototype.addTrack=function(){let r=i.apply(this,arguments);return r._pc=this,r}),t.RTCRtpSender.prototype.getStats=function(){let r=this;return this._pc.getStats().then(o=>Sg(o,r.track,!0))};}if(!(\"getStats\"in t.RTCRtpReceiver.prototype)){let n=t.RTCPeerConnection.prototype.getReceivers;n&&(t.RTCPeerConnection.prototype.getReceivers=function(){let i=n.apply(this,[]);return i.forEach(r=>r._pc=this),i}),ts(t,\"track\",i=>(i.receiver._pc=i.srcElement,i)),t.RTCRtpReceiver.prototype.getStats=function(){let i=this;return this._pc.getStats().then(r=>Sg(r,i.track,!1))};}if(!(\"getStats\"in t.RTCRtpSender.prototype)||!(\"getStats\"in t.RTCRtpReceiver.prototype))return;let e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){let n=arguments[0],i,r,o;return this.getSenders().forEach(s=>{s.track===n&&(i?o=!0:i=s);}),this.getReceivers().forEach(s=>(s.track===n&&(r?o=!0:r=s),s.track===n)),o||i&&r?j.reject(new DOMException(\"There are more than one sender or receiver for the track.\",\"InvalidAccessError\")):i?i.getStats():r?r.getStats():j.reject(new DOMException(\"There is no sender or receiver for the track.\",\"InvalidAccessError\"))}return e.apply(this,arguments)};}function jb(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(o=>this._shimmedLocalStreams[o][0])};let e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(o,s){if(!s)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};let a=e.apply(this,arguments);return this._shimmedLocalStreams[s.id]?this._shimmedLocalStreams[s.id].indexOf(a)===-1&&this._shimmedLocalStreams[s.id].push(a):this._shimmedLocalStreams[s.id]=[s,a],a};let n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(o){this._shimmedLocalStreams=this._shimmedLocalStreams||{},o.getTracks().forEach(c=>{if(this.getSenders().find(l=>l.track===c))throw new DOMException(\"Track already exists.\",\"InvalidAccessError\")});let s=this.getSenders();n.apply(this,arguments);let a=this.getSenders().filter(c=>s.indexOf(c)===-1);this._shimmedLocalStreams[o.id]=[o].concat(a);};let i=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[o.id],i.apply(this,arguments)};let r=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},o&&Object.keys(this._shimmedLocalStreams).forEach(s=>{let a=this._shimmedLocalStreams[s].indexOf(o);a!==-1&&this._shimmedLocalStreams[s].splice(a,1),this._shimmedLocalStreams[s].length===1&&delete this._shimmedLocalStreams[s];}),r.apply(this,arguments)};}function Gb(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return jb(t);let n=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){let c=n.apply(this);return this._reverseStreams=this._reverseStreams||{},c.map(d=>this._reverseStreams[d.id])};let i=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(c){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},c.getTracks().forEach(d=>{if(this.getSenders().find(u=>u.track===d))throw new DOMException(\"Track already exists.\",\"InvalidAccessError\")}),!this._reverseStreams[c.id]){let d=new t.MediaStream(c.getTracks());this._streams[c.id]=d,this._reverseStreams[d.id]=c,c=d;}i.apply(this,[c]);};let r=t.RTCPeerConnection.prototype.removeStream;function o(c,d){let l=d.sdp;return Object.keys(c._reverseStreams||[]).forEach(u=>{let h=c._reverseStreams[u],p=c._streams[h.id];l=l.replace(new RegExp(p.id,\"g\"),h.id);}),new RTCSessionDescription({type:d.type,sdp:l})}t.RTCPeerConnection.prototype.removeStream=function(c){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},r.apply(this,[this._streams[c.id]||c]),delete this._reverseStreams[this._streams[c.id]?this._streams[c.id].id:c.id],delete this._streams[c.id];},t.RTCPeerConnection.prototype.addTrack=function(c,d){if(this.signalingState===\"closed\")throw new DOMException(\"The RTCPeerConnection's signalingState is 'closed'.\",\"InvalidStateError\");let l=[].slice.call(arguments,1);if(l.length!==1||!l[0].getTracks().find(p=>p===c))throw new DOMException(\"The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.\",\"NotSupportedError\");if(this.getSenders().find(p=>p.track===c))throw new DOMException(\"Track already exists.\",\"InvalidAccessError\");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};let h=this._streams[d.id];if(h)h.addTrack(c),j.resolve().then(()=>{this.dispatchEvent(new Event(\"negotiationneeded\"));});else {let p=new t.MediaStream([c]);this._streams[d.id]=p,this._reverseStreams[p.id]=d,this.addStream(p);}return this.getSenders().find(p=>p.track===c)},[\"createOffer\",\"createAnswer\"].forEach(function(c){let d=t.RTCPeerConnection.prototype[c],l={[c](){let u=arguments;return arguments.length&&typeof arguments[0]==\"function\"?d.apply(this,[h=>{let p=o(this,h);u[0].apply(null,[p]);},h=>{u[1]&&u[1].apply(null,h);},arguments[2]]):d.apply(this,arguments).then(h=>o(this,h))}};t.RTCPeerConnection.prototype[c]=l[c];});let s=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(c,d){let l=d.sdp;return Object.keys(c._reverseStreams||[]).forEach(u=>{let h=c._reverseStreams[u],p=c._streams[h.id];l=l.replace(new RegExp(h.id,\"g\"),p.id);}),new RTCSessionDescription({type:d.type,sdp:l})}(this,arguments[0]),s.apply(this,arguments)):s.apply(this,arguments)};let a=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,\"localDescription\");Object.defineProperty(t.RTCPeerConnection.prototype,\"localDescription\",{get(){let c=a.get.apply(this);return c.type===\"\"?c:o(this,c)}}),t.RTCPeerConnection.prototype.removeTrack=function(c){if(this.signalingState===\"closed\")throw new DOMException(\"The RTCPeerConnection's signalingState is 'closed'.\",\"InvalidStateError\");if(!c._pc)throw new DOMException(\"Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.\",\"TypeError\");if(c._pc!==this)throw new DOMException(\"Sender was not created by this connection.\",\"InvalidAccessError\");let d;this._streams=this._streams||{},Object.keys(this._streams).forEach(l=>{this._streams[l].getTracks().find(u=>c.track===u)&&(d=this._streams[l]);}),d&&(d.getTracks().length===1?this.removeStream(this._reverseStreams[d.id]):d.removeTrack(c.track),this.dispatchEvent(new Event(\"negotiationneeded\")));};}function aE(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&[\"setLocalDescription\",\"setRemoteDescription\",\"addIceCandidate\"].forEach(function(n){let i=t.RTCPeerConnection.prototype[n],r={[n](){return arguments[0]=new(n===\"addIceCandidate\"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}};t.RTCPeerConnection.prototype[n]=r[n];});}function Wb(t,e){ts(t,\"negotiationneeded\",n=>{let i=n.target;if(!(e.version<72||i.getConfiguration&&i.getConfiguration().sdpSemantics===\"plan-b\")||i.signalingState===\"stable\")return n});}var RT=Object.freeze({__proto__:null,fixNegotiationNeeded:Wb,shimAddTrackRemoveTrack:Gb,shimAddTrackRemoveTrackWithNative:jb,shimGetDisplayMedia:function(t,e){t.navigator.mediaDevices&&\"getDisplayMedia\"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(typeof e==\"function\"?t.navigator.mediaDevices.getDisplayMedia=function(n){return e(n).then(i=>{let r=n.video&&n.video.width,o=n.video&&n.video.height,s=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:\"desktop\",chromeMediaSourceId:i,maxFrameRate:s||3}},r&&(n.video.mandatory.maxWidth=r),o&&(n.video.mandatory.maxHeight=o),t.navigator.mediaDevices.getUserMedia(n)})}:console.error(\"shimGetDisplayMedia: getSourceId argument is not a function\"));},shimGetSendersWithDtmf:Vb,shimGetStats:Fb,shimGetUserMedia:Mb,shimMediaStream:Ub,shimOnTrack:xb,shimPeerConnection:aE,shimSenderReceiverGetStats:Bb});function Hb(t,e){let n=t&&t.navigator,i=t&&t.MediaStreamTrack;if(n.getUserMedia=function(r,o,s){Pm(\"navigator.getUserMedia\",\"navigator.mediaDevices.getUserMedia\"),n.mediaDevices.getUserMedia(r).then(o,s);},!(e.version>55&&\"autoGainControl\"in n.mediaDevices.getSupportedConstraints())){let r=function(s,a,c){a in s&&!(c in s)&&(s[c]=s[a],delete s[a]);},o=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(s){return typeof s==\"object\"&&typeof s.audio==\"object\"&&(s=JSON.parse(JSON.stringify(s)),r(s.audio,\"autoGainControl\",\"mozAutoGainControl\"),r(s.audio,\"noiseSuppression\",\"mozNoiseSuppression\")),o(s)},i&&i.prototype.getSettings){let s=i.prototype.getSettings;i.prototype.getSettings=function(){let a=s.apply(this,arguments);return r(a,\"mozAutoGainControl\",\"autoGainControl\"),r(a,\"mozNoiseSuppression\",\"noiseSuppression\"),a};}if(i&&i.prototype.applyConstraints){let s=i.prototype.applyConstraints;i.prototype.applyConstraints=function(a){return this.kind===\"audio\"&&typeof a==\"object\"&&(a=JSON.parse(JSON.stringify(a)),r(a,\"autoGainControl\",\"mozAutoGainControl\"),r(a,\"noiseSuppression\",\"mozNoiseSuppression\")),s.apply(this,[a])};}}}function Kb(t){typeof t==\"object\"&&t.RTCTrackEvent&&\"receiver\"in t.RTCTrackEvent.prototype&&!(\"transceiver\"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,\"transceiver\",{get(){return {receiver:this.receiver}}});}function cE(t,e){if(typeof t!=\"object\"||!t.RTCPeerConnection&&!t.mozRTCPeerConnection)return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&[\"setLocalDescription\",\"setRemoteDescription\",\"addIceCandidate\"].forEach(function(r){let o=t.RTCPeerConnection.prototype[r],s={[r](){return arguments[0]=new(r===\"addIceCandidate\"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),o.apply(this,arguments)}};t.RTCPeerConnection.prototype[r]=s[r];});let n={inboundrtp:\"inbound-rtp\",outboundrtp:\"outbound-rtp\",candidatepair:\"candidate-pair\",localcandidate:\"local-candidate\",remotecandidate:\"remote-candidate\"},i=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){let[r,o,s]=arguments;return i.apply(this,[r||null]).then(a=>{if(e.version<53&&!o)try{a.forEach(c=>{c.type=n[c.type]||c.type;});}catch(c){if(c.name!==\"TypeError\")throw c;a.forEach((d,l)=>{a.set(l,Object.assign({},d,{type:n[d.type]||d.type}));});}return a}).then(o,s)};}function Yb(t){if(typeof t!=\"object\"||!t.RTCPeerConnection||!t.RTCRtpSender||t.RTCRtpSender&&\"getStats\"in t.RTCRtpSender.prototype)return;let e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){let i=e.apply(this,[]);return i.forEach(r=>r._pc=this),i});let n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){let i=n.apply(this,arguments);return i._pc=this,i}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):j.resolve(new Map)};}function qb(t){if(typeof t!=\"object\"||!t.RTCPeerConnection||!t.RTCRtpSender||t.RTCRtpSender&&\"getStats\"in t.RTCRtpReceiver.prototype)return;let e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){let n=e.apply(this,[]);return n.forEach(i=>i._pc=this),n}),ts(t,\"track\",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)};}function zb(t){t.RTCPeerConnection&&!(\"removeStream\"in t.RTCPeerConnection.prototype)&&(t.RTCPeerConnection.prototype.removeStream=function(e){Pm(\"removeStream\",\"removeTrack\"),this.getSenders().forEach(n=>{var i;n.track&&W(i=e.getTracks()).call(i,n.track)&&this.removeTrack(n);});});}function Jb(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel);}function Xb(t){if(typeof t!=\"object\"||!t.RTCPeerConnection)return;let e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let n=arguments[1]&&arguments[1].sendEncodings;n===void 0&&(n=[]),n=[...n];let i=n.length>0;i&&n.forEach(o=>{if(\"rid\"in o&&!/^[a-z0-9]{0,16}$/i.test(o.rid))throw new TypeError(\"Invalid RID value provided.\");if(\"scaleResolutionDownBy\"in o&&!(parseFloat(o.scaleResolutionDownBy)>=1))throw new RangeError(\"scale_resolution_down_by must be >= 1.0\");if(\"maxFramerate\"in o&&!(parseFloat(o.maxFramerate)>=0))throw new RangeError(\"max_framerate must be >= 0.0\")});let r=e.apply(this,arguments);if(i){let{sender:o}=r,s=o.getParameters();(!(\"encodings\"in s)||s.encodings.length===1&&Object.keys(s.encodings[0]).length===0)&&(s.encodings=n,o.sendEncodings=n,this.setParametersPromises.push(o.setParameters(s).then(()=>{delete o.sendEncodings;}).catch(()=>{delete o.sendEncodings;})));}return r});}function Qb(t){if(typeof t!=\"object\"||!t.RTCRtpSender)return;let e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){let n=e.apply(this,arguments);return \"encodings\"in n||(n.encodings=[].concat(this.sendEncodings||[{}])),n});}function Zb(t){if(typeof t!=\"object\"||!t.RTCPeerConnection)return;let e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?j.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[];}):e.apply(this,arguments)};}function $b(t){if(typeof t!=\"object\"||!t.RTCPeerConnection)return;let e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?j.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[];}):e.apply(this,arguments)};}var CT=Object.freeze({__proto__:null,shimAddTransceiver:Xb,shimCreateAnswer:$b,shimCreateOffer:Zb,shimGetDisplayMedia:function(t,e){t.navigator.mediaDevices&&\"getDisplayMedia\"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){let i=new DOMException(\"getDisplayMedia without video constraints is undefined\");return i.name=\"NotFoundError\",i.code=8,j.reject(i)}return n.video===!0?n.video={mediaSource:e}:n.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(n)});},shimGetParameters:Qb,shimGetUserMedia:Hb,shimOnTrack:Kb,shimPeerConnection:cE,shimRTCDataChannel:Jb,shimReceiverGetStats:qb,shimRemoveStream:zb,shimSenderGetStats:Yb});function tw(t){if(typeof t==\"object\"&&t.RTCPeerConnection){if(\"getLocalStreams\"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!(\"addStream\"in t.RTCPeerConnection.prototype)){let e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(n){var i;this._localStreams||(this._localStreams=[]),W(i=this._localStreams).call(i,n)||this._localStreams.push(n),n.getAudioTracks().forEach(r=>e.call(this,r,n)),n.getVideoTracks().forEach(r=>e.call(this,r,n));},t.RTCPeerConnection.prototype.addTrack=function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return r&&r.forEach(s=>{var a;this._localStreams?W(a=this._localStreams).call(a,s)||this._localStreams.push(s):this._localStreams=[s];}),e.apply(this,arguments)};}\"removeStream\"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);let n=this._localStreams.indexOf(e);if(n===-1)return;this._localStreams.splice(n,1);let i=e.getTracks();this.getSenders().forEach(r=>{W(i).call(i,r.track)&&this.removeTrack(r);});});}}function ew(t){if(typeof t==\"object\"&&t.RTCPeerConnection&&(\"getRemoteStreams\"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!(\"onaddstream\"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,\"onaddstream\",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener(\"addstream\",this._onaddstream),this.removeEventListener(\"track\",this._onaddstreampoly)),this.addEventListener(\"addstream\",this._onaddstream=n),this.addEventListener(\"track\",this._onaddstreampoly=i=>{i.streams.forEach(r=>{var o;if(this._remoteStreams||(this._remoteStreams=[]),W(o=this._remoteStreams).call(o,r))return;this._remoteStreams.push(r);let s=new Event(\"addstream\");s.stream=r,this.dispatchEvent(s);});});}});let e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){let n=this;return this._onaddstreampoly||this.addEventListener(\"track\",this._onaddstreampoly=function(i){i.streams.forEach(r=>{if(n._remoteStreams||(n._remoteStreams=[]),n._remoteStreams.indexOf(r)>=0)return;n._remoteStreams.push(r);let o=new Event(\"addstream\");o.stream=r,n.dispatchEvent(o);});}),e.apply(n,arguments)};}}function nw(t){if(typeof t!=\"object\"||!t.RTCPeerConnection)return;let e=t.RTCPeerConnection.prototype,n=e.createOffer,i=e.createAnswer,r=e.setLocalDescription,o=e.setRemoteDescription,s=e.addIceCandidate;e.createOffer=function(c,d){let l=arguments.length>=2?arguments[2]:arguments[0],u=n.apply(this,[l]);return d?(u.then(c,d),j.resolve()):u},e.createAnswer=function(c,d){let l=arguments.length>=2?arguments[2]:arguments[0],u=i.apply(this,[l]);return d?(u.then(c,d),j.resolve()):u};let a=function(c,d,l){let u=r.apply(this,[c]);return l?(u.then(d,l),j.resolve()):u};e.setLocalDescription=a,a=function(c,d,l){let u=o.apply(this,[c]);return l?(u.then(d,l),j.resolve()):u},e.setRemoteDescription=a,a=function(c,d,l){let u=s.apply(this,[c]);return l?(u.then(d,l),j.resolve()):u},e.addIceCandidate=a;}function iw(t){let e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){let n=e.mediaDevices,i=n.getUserMedia.bind(n);e.mediaDevices.getUserMedia=r=>i(rw(r));}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=function(n,i,r){e.mediaDevices.getUserMedia(n).then(i,r);}.bind(e));}function rw(t){return t&&t.video!==void 0?Object.assign({},t,{video:GA(t.video)}):t}function ow(t){if(!t.RTCPeerConnection)return;let e=t.RTCPeerConnection;t.RTCPeerConnection=function(n,i){if(n&&n.iceServers){let r=[];for(let o=0;o<n.iceServers.length;o++){let s=n.iceServers[o];!s.hasOwnProperty(\"urls\")&&s.hasOwnProperty(\"url\")?(Pm(\"RTCIceServer.url\",\"RTCIceServer.urls\"),s=JSON.parse(JSON.stringify(s)),s.urls=s.url,delete s.url,r.push(s)):r.push(n.iceServers[o]);}n.iceServers=r;}return new e(n,i)},t.RTCPeerConnection.prototype=e.prototype,\"generateCertificate\"in e&&Object.defineProperty(t.RTCPeerConnection,\"generateCertificate\",{get:()=>e.generateCertificate});}function sw(t){typeof t==\"object\"&&t.RTCTrackEvent&&\"receiver\"in t.RTCTrackEvent.prototype&&!(\"transceiver\"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,\"transceiver\",{get(){return {receiver:this.receiver}}});}function aw(t){let e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(n){if(n){n.offerToReceiveAudio!==void 0&&(n.offerToReceiveAudio=!!n.offerToReceiveAudio);let i=this.getTransceivers().find(o=>o.receiver.track.kind===\"audio\");n.offerToReceiveAudio===!1&&i?i.direction===\"sendrecv\"?i.setDirection?i.setDirection(\"sendonly\"):i.direction=\"sendonly\":i.direction===\"recvonly\"&&(i.setDirection?i.setDirection(\"inactive\"):i.direction=\"inactive\"):n.offerToReceiveAudio!==!0||i||this.addTransceiver(\"audio\",{direction:\"recvonly\"}),n.offerToReceiveVideo!==void 0&&(n.offerToReceiveVideo=!!n.offerToReceiveVideo);let r=this.getTransceivers().find(o=>o.receiver.track.kind===\"video\");n.offerToReceiveVideo===!1&&r?r.direction===\"sendrecv\"?r.setDirection?r.setDirection(\"sendonly\"):r.direction=\"sendonly\":r.direction===\"recvonly\"&&(r.setDirection?r.setDirection(\"inactive\"):r.direction=\"inactive\"):n.offerToReceiveVideo!==!0||r||this.addTransceiver(\"video\",{direction:\"recvonly\"});}return e.apply(this,arguments)};}function cw(t){typeof t!=\"object\"||t.AudioContext||(t.AudioContext=t.webkitAudioContext);}var IT=Object.freeze({__proto__:null,shimAudioContext:cw,shimCallbacksAPI:nw,shimConstraints:rw,shimCreateOfferLegacy:aw,shimGetUserMedia:iw,shimLocalStreamsAPI:tw,shimRTCIceServerUrls:ow,shimRemoteStreamsAPI:ew,shimTrackEventTransceiver:sw}),dw=`\t\n\\v\\f\\r \\xA0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF`,qU=la,zU=oi,dE=dw,vT=me(\"\".replace),JU=RegExp(\"^[\"+dE+\"]+\"),XU=RegExp(\"(^|[^\"+dE+\"])[\"+dE+\"]+$\"),Qh=function(t){return function(e){var n=zU(qU(e));return 1&t&&(n=vT(n,JU,\"\")),2&t&&(n=vT(n,XU,\"$1\")),n}},QU={start:Qh(1),end:Qh(2),trim:Qh(3)},ZU=tb.PROPER,$U=Se,yT=dw,t2=QU.trim;xt({target:\"String\",proto:!0,forced:function(t){return $U(function(){return !!yT[t]()||\"\\u200B\\x85\\u180E\"[t]()!==\"\\u200B\\x85\\u180E\"||ZU&&yT[t].name!==t})}(\"trim\")},{trim:function(){return t2(this)}});var e2=bi(\"String\").trim,n2=hn,i2=e2,Zh=String.prototype,r2=function(t){var e=t.trim;return typeof t==\"string\"||t===Zh||n2(Zh,t)&&e===Zh.trim?i2:e},rn=ae(r2),lw={exports:{}};(function(t){let e={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};e.localCName=e.generateIdentifier(),e.splitLines=function(n){return n.trim().split(`\n`).map(i=>i.trim())},e.splitSections=function(n){return n.split(`\nm=`).map((i,r)=>(r>0?\"m=\"+i:i).trim()+`\\r\n`)},e.getDescription=function(n){let i=e.splitSections(n);return i&&i[0]},e.getMediaSections=function(n){let i=e.splitSections(n);return i.shift(),i},e.matchPrefix=function(n,i){return e.splitLines(n).filter(r=>r.indexOf(i)===0)},e.parseCandidate=function(n){let i;i=n.indexOf(\"a=candidate:\")===0?n.substring(12).split(\" \"):n.substring(10).split(\" \");let r={foundation:i[0],component:{1:\"rtp\",2:\"rtcp\"}[i[1]]||i[1],protocol:i[2].toLowerCase(),priority:parseInt(i[3],10),ip:i[4],address:i[4],port:parseInt(i[5],10),type:i[7]};for(let o=8;o<i.length;o+=2)switch(i[o]){case\"raddr\":r.relatedAddress=i[o+1];break;case\"rport\":r.relatedPort=parseInt(i[o+1],10);break;case\"tcptype\":r.tcpType=i[o+1];break;case\"ufrag\":r.ufrag=i[o+1],r.usernameFragment=i[o+1];break;default:r[i[o]]===void 0&&(r[i[o]]=i[o+1]);}return r},e.writeCandidate=function(n){let i=[];i.push(n.foundation);let r=n.component;r===\"rtp\"?i.push(1):r===\"rtcp\"?i.push(2):i.push(r),i.push(n.protocol.toUpperCase()),i.push(n.priority),i.push(n.address||n.ip),i.push(n.port);let o=n.type;return i.push(\"typ\"),i.push(o),o!==\"host\"&&n.relatedAddress&&n.relatedPort&&(i.push(\"raddr\"),i.push(n.relatedAddress),i.push(\"rport\"),i.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()===\"tcp\"&&(i.push(\"tcptype\"),i.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(i.push(\"ufrag\"),i.push(n.usernameFragment||n.ufrag)),\"candidate:\"+i.join(\" \")},e.parseIceOptions=function(n){return n.substring(14).split(\" \")},e.parseRtpMap=function(n){let i=n.substring(9).split(\" \"),r={payloadType:parseInt(i.shift(),10)};return i=i[0].split(\"/\"),r.name=i[0],r.clockRate=parseInt(i[1],10),r.channels=i.length===3?parseInt(i[2],10):1,r.numChannels=r.channels,r},e.writeRtpMap=function(n){let i=n.payloadType;n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType);let r=n.channels||n.numChannels||1;return \"a=rtpmap:\"+i+\" \"+n.name+\"/\"+n.clockRate+(r!==1?\"/\"+r:\"\")+`\\r\n`},e.parseExtmap=function(n){let i=n.substring(9).split(\" \");return {id:parseInt(i[0],10),direction:i[0].indexOf(\"/\")>0?i[0].split(\"/\")[1]:\"sendrecv\",uri:i[1],attributes:i.slice(2).join(\" \")}},e.writeExtmap=function(n){return \"a=extmap:\"+(n.id||n.preferredId)+(n.direction&&n.direction!==\"sendrecv\"?\"/\"+n.direction:\"\")+\" \"+n.uri+(n.attributes?\" \"+n.attributes:\"\")+`\\r\n`},e.parseFmtp=function(n){let i={},r,o=n.substring(n.indexOf(\" \")+1).split(\";\");for(let s=0;s<o.length;s++)r=o[s].trim().split(\"=\"),i[r[0].trim()]=r[1];return i},e.writeFmtp=function(n){let i=\"\",r=n.payloadType;if(n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){let o=[];Object.keys(n.parameters).forEach(s=>{n.parameters[s]!==void 0?o.push(s+\"=\"+n.parameters[s]):o.push(s);}),i+=\"a=fmtp:\"+r+\" \"+o.join(\";\")+`\\r\n`;}return i},e.parseRtcpFb=function(n){let i=n.substring(n.indexOf(\" \")+1).split(\" \");return {type:i.shift(),parameter:i.join(\" \")}},e.writeRtcpFb=function(n){let i=\"\",r=n.payloadType;return n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(o=>{i+=\"a=rtcp-fb:\"+r+\" \"+o.type+(o.parameter&&o.parameter.length?\" \"+o.parameter:\"\")+`\\r\n`;}),i},e.parseSsrcMedia=function(n){let i=n.indexOf(\" \"),r={ssrc:parseInt(n.substring(7,i),10)},o=n.indexOf(\":\",i);return o>-1?(r.attribute=n.substring(i+1,o),r.value=n.substring(o+1)):r.attribute=n.substring(i+1),r},e.parseSsrcGroup=function(n){let i=n.substring(13).split(\" \");return {semantics:i.shift(),ssrcs:i.map(r=>parseInt(r,10))}},e.getMid=function(n){let i=e.matchPrefix(n,\"a=mid:\")[0];if(i)return i.substring(6)},e.parseFingerprint=function(n){let i=n.substring(14).split(\" \");return {algorithm:i[0].toLowerCase(),value:i[1].toUpperCase()}},e.getDtlsParameters=function(n,i){return {role:\"auto\",fingerprints:e.matchPrefix(n+i,\"a=fingerprint:\").map(e.parseFingerprint)}},e.writeDtlsParameters=function(n,i){let r=\"a=setup:\"+i+`\\r\n`;return n.fingerprints.forEach(o=>{r+=\"a=fingerprint:\"+o.algorithm+\" \"+o.value+`\\r\n`;}),r},e.parseCryptoLine=function(n){let i=n.substring(9).split(\" \");return {tag:parseInt(i[0],10),cryptoSuite:i[1],keyParams:i[2],sessionParams:i.slice(3)}},e.writeCryptoLine=function(n){return \"a=crypto:\"+n.tag+\" \"+n.cryptoSuite+\" \"+(typeof n.keyParams==\"object\"?e.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?\" \"+n.sessionParams.join(\" \"):\"\")+`\\r\n`},e.parseCryptoKeyParams=function(n){if(n.indexOf(\"inline:\")!==0)return null;let i=n.substring(7).split(\"|\");return {keyMethod:\"inline\",keySalt:i[0],lifeTime:i[1],mkiValue:i[2]?i[2].split(\":\")[0]:void 0,mkiLength:i[2]?i[2].split(\":\")[1]:void 0}},e.writeCryptoKeyParams=function(n){return n.keyMethod+\":\"+n.keySalt+(n.lifeTime?\"|\"+n.lifeTime:\"\")+(n.mkiValue&&n.mkiLength?\"|\"+n.mkiValue+\":\"+n.mkiLength:\"\")},e.getCryptoParameters=function(n,i){return e.matchPrefix(n+i,\"a=crypto:\").map(e.parseCryptoLine)},e.getIceParameters=function(n,i){let r=e.matchPrefix(n+i,\"a=ice-ufrag:\")[0],o=e.matchPrefix(n+i,\"a=ice-pwd:\")[0];return r&&o?{usernameFragment:r.substring(12),password:o.substring(10)}:null},e.writeIceParameters=function(n){let i=\"a=ice-ufrag:\"+n.usernameFragment+`\\r\na=ice-pwd:`+n.password+`\\r\n`;return n.iceLite&&(i+=`a=ice-lite\\r\n`),i},e.parseRtpParameters=function(n){let i={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=e.splitLines(n)[0].split(\" \");i.profile=r[2];for(let s=3;s<r.length;s++){let a=r[s],c=e.matchPrefix(n,\"a=rtpmap:\"+a+\" \")[0];if(c){let d=e.parseRtpMap(c),l=e.matchPrefix(n,\"a=fmtp:\"+a+\" \");switch(d.parameters=l.length?e.parseFmtp(l[0]):{},d.rtcpFeedback=e.matchPrefix(n,\"a=rtcp-fb:\"+a+\" \").map(e.parseRtcpFb),i.codecs.push(d),d.name.toUpperCase()){case\"RED\":case\"ULPFEC\":i.fecMechanisms.push(d.name.toUpperCase());}}}e.matchPrefix(n,\"a=extmap:\").forEach(s=>{i.headerExtensions.push(e.parseExtmap(s));});let o=e.matchPrefix(n,\"a=rtcp-fb:* \").map(e.parseRtcpFb);return i.codecs.forEach(s=>{o.forEach(a=>{s.rtcpFeedback.find(c=>c.type===a.type&&c.parameter===a.parameter)||s.rtcpFeedback.push(a);});}),i},e.writeRtpDescription=function(n,i){let r=\"\";r+=\"m=\"+n+\" \",r+=i.codecs.length>0?\"9\":\"0\",r+=\" \"+(i.profile||\"UDP/TLS/RTP/SAVPF\")+\" \",r+=i.codecs.map(s=>s.preferredPayloadType!==void 0?s.preferredPayloadType:s.payloadType).join(\" \")+`\\r\n`,r+=`c=IN IP4 0.0.0.0\\r\n`,r+=`a=rtcp:9 IN IP4 0.0.0.0\\r\n`,i.codecs.forEach(s=>{r+=e.writeRtpMap(s),r+=e.writeFmtp(s),r+=e.writeRtcpFb(s);});let o=0;return i.codecs.forEach(s=>{s.maxptime>o&&(o=s.maxptime);}),o>0&&(r+=\"a=maxptime:\"+o+`\\r\n`),i.headerExtensions&&i.headerExtensions.forEach(s=>{r+=e.writeExtmap(s);}),r},e.parseRtpEncodingParameters=function(n){let i=[],r=e.parseRtpParameters(n),o=r.fecMechanisms.indexOf(\"RED\")!==-1,s=r.fecMechanisms.indexOf(\"ULPFEC\")!==-1,a=e.matchPrefix(n,\"a=ssrc:\").map(h=>e.parseSsrcMedia(h)).filter(h=>h.attribute===\"cname\"),c=a.length>0&&a[0].ssrc,d,l=e.matchPrefix(n,\"a=ssrc-group:FID\").map(h=>h.substring(17).split(\" \").map(p=>parseInt(p,10)));l.length>0&&l[0].length>1&&l[0][0]===c&&(d=l[0][1]),r.codecs.forEach(h=>{if(h.name.toUpperCase()===\"RTX\"&&h.parameters.apt){let p={ssrc:c,codecPayloadType:parseInt(h.parameters.apt,10)};c&&d&&(p.rtx={ssrc:d}),i.push(p),o&&(p=JSON.parse(JSON.stringify(p)),p.fec={ssrc:c,mechanism:s?\"red+ulpfec\":\"red\"},i.push(p));}}),i.length===0&&c&&i.push({ssrc:c});let u=e.matchPrefix(n,\"b=\");return u.length&&(u=u[0].indexOf(\"b=TIAS:\")===0?parseInt(u[0].substring(7),10):u[0].indexOf(\"b=AS:\")===0?1e3*parseInt(u[0].substring(5),10)*.95-16e3:void 0,i.forEach(h=>{h.maxBitrate=u;})),i},e.parseRtcpParameters=function(n){let i={},r=e.matchPrefix(n,\"a=ssrc:\").map(a=>e.parseSsrcMedia(a)).filter(a=>a.attribute===\"cname\")[0];r&&(i.cname=r.value,i.ssrc=r.ssrc);let o=e.matchPrefix(n,\"a=rtcp-rsize\");i.reducedSize=o.length>0,i.compound=o.length===0;let s=e.matchPrefix(n,\"a=rtcp-mux\");return i.mux=s.length>0,i},e.writeRtcpParameters=function(n){let i=\"\";return n.reducedSize&&(i+=`a=rtcp-rsize\\r\n`),n.mux&&(i+=`a=rtcp-mux\\r\n`),n.ssrc!==void 0&&n.cname&&(i+=\"a=ssrc:\"+n.ssrc+\" cname:\"+n.cname+`\\r\n`),i},e.parseMsid=function(n){let i,r=e.matchPrefix(n,\"a=msid:\");if(r.length===1)return i=r[0].substring(7).split(\" \"),{stream:i[0],track:i[1]};let o=e.matchPrefix(n,\"a=ssrc:\").map(s=>e.parseSsrcMedia(s)).filter(s=>s.attribute===\"msid\");return o.length>0?(i=o[0].value.split(\" \"),{stream:i[0],track:i[1]}):void 0},e.parseSctpDescription=function(n){let i=e.parseMLine(n),r=e.matchPrefix(n,\"a=max-message-size:\"),o;r.length>0&&(o=parseInt(r[0].substring(19),10)),isNaN(o)&&(o=65536);let s=e.matchPrefix(n,\"a=sctp-port:\");if(s.length>0)return {port:parseInt(s[0].substring(12),10),protocol:i.fmt,maxMessageSize:o};let a=e.matchPrefix(n,\"a=sctpmap:\");if(a.length>0){let c=a[0].substring(10).split(\" \");return {port:parseInt(c[0],10),protocol:c[1],maxMessageSize:o}}},e.writeSctpDescription=function(n,i){let r=[];return r=n.protocol!==\"DTLS/SCTP\"?[\"m=\"+n.kind+\" 9 \"+n.protocol+\" \"+i.protocol+`\\r\n`,`c=IN IP4 0.0.0.0\\r\n`,\"a=sctp-port:\"+i.port+`\\r\n`]:[\"m=\"+n.kind+\" 9 \"+n.protocol+\" \"+i.port+`\\r\n`,`c=IN IP4 0.0.0.0\\r\n`,\"a=sctpmap:\"+i.port+\" \"+i.protocol+` 65535\\r\n`],i.maxMessageSize!==void 0&&r.push(\"a=max-message-size:\"+i.maxMessageSize+`\\r\n`),r.join(\"\")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(n,i,r){let o,s=i!==void 0?i:2;return o=n||e.generateSessionId(),`v=0\\r\no=`+(r||\"thisisadapterortc\")+\" \"+o+\" \"+s+` IN IP4 127.0.0.1\\r\ns=-\\r\nt=0 0\\r\n`},e.getDirection=function(n,i){let r=e.splitLines(n);for(let o=0;o<r.length;o++)switch(r[o]){case\"a=sendrecv\":case\"a=sendonly\":case\"a=recvonly\":case\"a=inactive\":return r[o].substring(2)}return i?e.getDirection(i):\"sendrecv\"},e.getKind=function(n){return e.splitLines(n)[0].split(\" \")[0].substring(2)},e.isRejected=function(n){return n.split(\" \",2)[1]===\"0\"},e.parseMLine=function(n){let i=e.splitLines(n)[0].substring(2).split(\" \");return {kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(\" \")}},e.parseOLine=function(n){let i=e.matchPrefix(n,\"o=\")[0].substring(2).split(\" \");return {username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},e.isValidSDP=function(n){if(typeof n!=\"string\"||n.length===0)return !1;let i=e.splitLines(n);for(let r=0;r<i.length;r++)if(i[r].length<2||i[r].charAt(1)!==\"=\")return !1;return !0},t.exports=e;})(lw);var uw=lw.exports,Bs=ae(uw),o2=yN({__proto__:null,default:Bs},[uw]);function dl(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&\"foundation\"in t.RTCIceCandidate.prototype)return;let e=t.RTCIceCandidate;t.RTCIceCandidate=function(n){if(typeof n==\"object\"&&n.candidate&&n.candidate.indexOf(\"a=\")===0&&((n=JSON.parse(JSON.stringify(n))).candidate=n.candidate.substr(2)),n.candidate&&n.candidate.length){let i=new e(n),r=Bs.parseCandidate(n.candidate),o=Object.assign(i,r);return o.toJSON=function(){return {candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o}return new e(n)},t.RTCIceCandidate.prototype=e.prototype,ts(t,\"icecandidate\",n=>(n.candidate&&Object.defineProperty(n,\"candidate\",{value:new t.RTCIceCandidate(n.candidate),writable:\"false\"}),n));}function lE(t){!t.RTCIceCandidate||t.RTCIceCandidate&&\"relayProtocol\"in t.RTCIceCandidate.prototype||ts(t,\"icecandidate\",e=>{if(e.candidate){let n=Bs.parseCandidate(e.candidate.candidate);n.type===\"relay\"&&(e.candidate.relayProtocol={0:\"tls\",1:\"tcp\",2:\"udp\"}[n.priority>>24]);}return e});}function ll(t,e){if(!t.RTCPeerConnection)return;\"sctp\"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,\"sctp\",{get(){return this._sctp===void 0?null:this._sctp}});let n=function(a){if(!a||!a.sdp)return !1;let c=Bs.splitSections(a.sdp);return c.shift(),c.some(d=>{let l=Bs.parseMLine(d);return l&&l.kind===\"application\"&&l.protocol.indexOf(\"SCTP\")!==-1})},i=function(a){let c=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\\d+)/);if(c===null||c.length<2)return -1;let d=parseInt(c[1],10);return d!=d?-1:d},r=function(a){let c=65536;return e.browser===\"firefox\"&&(c=e.version<57?a===-1?16384:2147483637:e.version<60?e.version===57?65535:65536:2147483637),c},o=function(a,c){let d=65536;e.browser===\"firefox\"&&e.version===57&&(d=65535);let l=Bs.matchPrefix(a.sdp,\"a=max-message-size:\");return l.length>0?d=parseInt(l[0].substr(19),10):e.browser===\"firefox\"&&c!==-1&&(d=2147483637),d},s=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser===\"chrome\"&&e.version>=76){let{sdpSemantics:a}=this.getConfiguration();a===\"plan-b\"&&Object.defineProperty(this,\"sctp\",{get(){return this._sctp===void 0?null:this._sctp},enumerable:!0,configurable:!0});}if(n(arguments[0])){let a=i(arguments[0]),c=r(a),d=o(arguments[0],a),l;l=c===0&&d===0?Number.POSITIVE_INFINITY:c===0||d===0?Math.max(c,d):Math.min(c,d);let u={};Object.defineProperty(u,\"maxMessageSize\",{get:()=>l}),this._sctp=u;}return s.apply(this,arguments)};}function ul(t){if(!t.RTCPeerConnection||!(\"createDataChannel\"in t.RTCPeerConnection.prototype))return;function e(i,r){let o=i.send;i.send=function(){let s=arguments[0],a=s.length||s.size||s.byteLength;if(i.readyState===\"open\"&&r.sctp&&a>r.sctp.maxMessageSize)throw new TypeError(\"Message too large (can send a maximum of \"+r.sctp.maxMessageSize+\" bytes)\");return o.apply(i,arguments)};}let n=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){let i=n.apply(this,arguments);return e(i,this),i},ts(t,\"datachannel\",i=>(e(i.channel,i.target),i));}function uE(t){if(!t.RTCPeerConnection||\"connectionState\"in t.RTCPeerConnection.prototype)return;let e=t.RTCPeerConnection.prototype;Object.defineProperty(e,\"connectionState\",{get(){return {completed:\"connected\",checking:\"connecting\"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,\"onconnectionstatechange\",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener(\"connectionstatechange\",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener(\"connectionstatechange\",this._onconnectionstatechange=n);},enumerable:!0,configurable:!0}),[\"setLocalDescription\",\"setRemoteDescription\"].forEach(n=>{let i=e[n];e[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=r=>{let o=r.target;if(o._lastConnectionState!==o.connectionState){o._lastConnectionState=o.connectionState;let s=new Event(\"connectionstatechange\",r);o.dispatchEvent(s);}return r},this.addEventListener(\"iceconnectionstatechange\",this._connectionstatechangepoly)),i.apply(this,arguments)};});}function hE(t,e){if(!t.RTCPeerConnection||e.browser===\"chrome\"&&e.version>=71||e.browser===\"safari\"&&e.version>=605)return;let n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`\na=extmap-allow-mixed`)!==-1){let r=i.sdp.split(`\n`).filter(o=>rn(o).call(o)!==\"a=extmap-allow-mixed\").join(`\n`);t.RTCSessionDescription&&i instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:i.type,sdp:r}):i.sdp=r;}return n.apply(this,arguments)};}function hl(t,e){if(!t.RTCPeerConnection||!t.RTCPeerConnection.prototype)return;let n=t.RTCPeerConnection.prototype.addIceCandidate;n&&n.length!==0&&(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser===\"chrome\"&&e.version<78||e.browser===\"firefox\"&&e.version<68||e.browser===\"safari\")&&arguments[0]&&arguments[0].candidate===\"\"?j.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),j.resolve())});}function pl(t,e){if(!t.RTCPeerConnection||!t.RTCPeerConnection.prototype)return;let n=t.RTCPeerConnection.prototype.setLocalDescription;n&&n.length!==0&&(t.RTCPeerConnection.prototype.setLocalDescription=function(){let i=arguments[0]||{};if(typeof i!=\"object\"||i.type&&i.sdp)return n.apply(this,arguments);if(i={type:i.type,sdp:i.sdp},!i.type)switch(this.signalingState){case\"stable\":case\"have-local-offer\":case\"have-remote-pranswer\":i.type=\"offer\";break;default:i.type=\"answer\";}return i.sdp||i.type!==\"offer\"&&i.type!==\"answer\"?n.apply(this,[i]):(i.type===\"offer\"?this.createOffer:this.createAnswer).apply(this).then(r=>n.apply(this,[r]))});}var s2=Object.freeze({__proto__:null,removeExtmapAllowMixed:hE,shimAddIceCandidateNullOrEmpty:hl,shimConnectionState:uE,shimMaxMessageSize:ll,shimParameterlessSetLocalDescription:pl,shimRTCIceCandidate:dl,shimRTCIceCandidateRelayProtocol:lE,shimSendThrowTypeError:ul});(function(){let{window:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0},n=jA,i=function(o){let s={browser:null,version:null};if(o===void 0||!o.navigator)return s.browser=\"Not a browser.\",s;let{navigator:a}=o;if(a.mozGetUserMedia)s.browser=\"firefox\",s.version=hd(a.userAgent,/Firefox\\/(\\d+)\\./,1);else if(a.webkitGetUserMedia||o.isSecureContext===!1&&o.webkitRTCPeerConnection)s.browser=\"chrome\",s.version=hd(a.userAgent,/Chrom(e|ium)\\/(\\d+)\\./,2);else {if(!o.RTCPeerConnection||!a.userAgent.match(/AppleWebKit\\/(\\d+)\\./))return s.browser=\"Not a supported browser.\",s;s.browser=\"safari\",s.version=hd(a.userAgent,/AppleWebKit\\/(\\d+)\\./,1),s.supportsUnifiedPlan=o.RTCRtpTransceiver&&\"currentDirection\"in o.RTCRtpTransceiver.prototype;}return s}(t),r={browserDetails:i,commonShim:s2,extractVersion:hd,disableLog:rk,disableWarnings:ok,sdp:o2};switch(i.browser){case\"chrome\":if(!RT||!aE||!e.shimChrome)return n(\"Chrome shim is not included in this adapter release.\"),r;if(i.version===null)return n(\"Chrome shim can not determine version, not shimming.\"),r;n(\"adapter.js shimming chrome.\"),r.browserShim=RT,hl(t,i),pl(t),Mb(t,i),Ub(t),aE(t,i),xb(t),Gb(t,i),Vb(t),Fb(t),Bb(t),Wb(t,i),dl(t),lE(t),uE(t),ll(t,i),ul(t),hE(t,i);break;case\"firefox\":if(!CT||!cE||!e.shimFirefox)return n(\"Firefox shim is not included in this adapter release.\"),r;n(\"adapter.js shimming firefox.\"),r.browserShim=CT,hl(t,i),pl(t),Hb(t,i),cE(t,i),Kb(t),zb(t),Yb(t),qb(t),Jb(t),Xb(t),Qb(t),Zb(t),$b(t),dl(t),uE(t),ll(t,i),ul(t);break;case\"safari\":if(!IT||!e.shimSafari)return n(\"Safari shim is not included in this adapter release.\"),r;n(\"adapter.js shimming safari.\"),r.browserShim=IT,hl(t,i),pl(t),ow(t),aw(t),nw(t),tw(t),ew(t),sw(t),iw(t),cw(t),dl(t),lE(t),ll(t,i),ul(t),hE(t,i);break;default:n(\"Unsupported browser!\");}})({window:typeof window>\"u\"?void 0:window});var a2=bi(\"Array\").keys,c2=Er,d2=Je,l2=hn,u2=a2,$h=Array.prototype,h2={DOMTokenList:!0,NodeList:!0},p2=function(t){var e=t.keys;return t===$h||l2($h,t)&&e===$h.keys||d2(h2,c2(t))?u2:e},xn=ae(p2),AT=ha,_2=TypeError,E2=Ou,m2=Ai,f2=_o,Bu=function(t,e,n){var i=E2(e);i in t?m2.f(t,i,f2(0,n)):t[i]=n;},bT=Om,g2=Lr,T2=Bu,S2=Array,R2=Math.max,zm=function(t,e,n){for(var i=g2(t),r=bT(e,i),o=bT(n===void 0?i:n,i),s=S2(R2(o-r,0)),a=0;r<o;r++,a++)T2(s,a,t[r]);return s.length=a,s},wT=zm,C2=Math.floor,pE=function(t,e){var n=t.length,i=C2(n/2);return n<8?I2(t,e):v2(t,pE(wT(t,0,i),e),pE(wT(t,i),e),e)},I2=function(t,e){for(var n,i,r=t.length,o=1;o<r;){for(i=o,n=t[o];i&&e(t[i-1],n)>0;)t[i]=t[--i];i!==o++&&(t[i]=n);}return t},v2=function(t,e,n,i){for(var r=e.length,o=n.length,s=0,a=0;s<r||a<o;)t[s+a]=s<r&&a<o?i(e[s],n[a])<=0?e[s++]:n[a++]:s<r?e[s++]:n[a++];return t},hw=pE,OT=$o.match(/firefox\\/(\\d+)/i),y2=!!OT&&+OT[1],A2=/MSIE|Trident/.test($o),NT=$o.match(/AppleWebKit\\/(\\d+)\\./),b2=!!NT&&+NT[1],w2=xt,pw=me,O2=yi,N2=_r,DT=Lr,D2=function(t,e){if(!delete t[e])throw _2(\"Cannot delete property \"+AT(e)+\" of \"+AT(t))},PT=oi,Jm=Se,P2=hw,k2=Nu,kT=y2,L2=A2,LT=zo,MT=b2,Zr=[],UT=pw(Zr.sort),M2=pw(Zr.push),U2=Jm(function(){Zr.sort(void 0);}),x2=Jm(function(){Zr.sort(null);}),V2=k2(\"sort\"),xT=!Jm(function(){if(LT)return LT<70;if(!(kT&&kT>3)){if(L2)return !0;if(MT)return MT<603;var t,e,n,i,r=\"\";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2;}for(i=0;i<47;i++)Zr.push({k:e+i,v:n});}for(Zr.sort(function(o,s){return s.v-o.v}),i=0;i<Zr.length;i++)e=Zr[i].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return r!==\"DGBEFHACIJK\"}});w2({target:\"Array\",proto:!0,forced:U2||!x2||!V2||!xT},{sort:function(t){t!==void 0&&O2(t);var e=N2(this);if(xT)return t===void 0?UT(e):UT(e,t);var n,i,r=[],o=DT(e);for(i=0;i<o;i++)i in e&&M2(r,e[i]);for(P2(r,function(s){return function(a,c){return c===void 0?-1:a===void 0?1:s!==void 0?+s(a,c)||0:PT(a)>PT(c)?1:-1}}(t)),n=DT(r),i=0;i<n;)e[i]=r[i++];for(;i<o;)D2(e,i++);return e}});var tp,ep,F2=bi(\"Array\").sort,B2=hn,j2=F2,np=Array.prototype,G2=function(t){var e=t.sort;return t===np||B2(np,t)&&e===np.sort?j2:e},ed=ae(G2),_E={exports:{}};tp=_E,ep=_E.exports,function(t,e){var n=\"function\",i=\"undefined\",r=\"object\",o=\"string\",s=\"major\",a=\"model\",c=\"name\",d=\"type\",l=\"vendor\",u=\"version\",h=\"architecture\",p=\"console\",g=\"mobile\",E=\"tablet\",f=\"smarttv\",S=\"wearable\",C=\"embedded\",A=\"Amazon\",b=\"Apple\",w=\"ASUS\",D=\"BlackBerry\",k=\"Browser\",B=\"Chrome\",V=\"Firefox\",z=\"Google\",lt=\"Huawei\",vt=\"LG\",Dt=\"Microsoft\",ce=\"Motorola\",Wt=\"Opera\",si=\"Samsung\",L=\"Sharp\",F=\"Sony\",Y=\"Xiaomi\",M=\"Zebra\",m=\"Facebook\",I=\"Chromium OS\",y=\"Mac OS\",x=function(ee){for(var _e={},Bt=0;Bt<ee.length;Bt++)_e[ee[Bt].toUpperCase()]=ee[Bt];return _e},rt=function(ee,_e){return typeof ee===o&&bt(_e).indexOf(bt(ee))!==-1},bt=function(ee){return ee.toLowerCase()},Re=function(ee,_e){if(typeof ee===o)return ee=ee.replace(/^\\s\\s*/,\"\"),typeof _e===i?ee:ee.substring(0,350)},fn=function(ee,_e){for(var Bt,vn,Ki,ne,gt,gn,Ur=0;Ur<_e.length&&!gt;){var Oi=_e[Ur],Jf=_e[Ur+1];for(Bt=vn=0;Bt<Oi.length&&!gt&&Oi[Bt];)if(gt=Oi[Bt++].exec(ee))for(Ki=0;Ki<Jf.length;Ki++)gn=gt[++vn],typeof(ne=Jf[Ki])===r&&ne.length>0?ne.length===2?typeof ne[1]==n?this[ne[0]]=ne[1].call(this,gn):this[ne[0]]=ne[1]:ne.length===3?typeof ne[1]!==n||ne[1].exec&&ne[1].test?this[ne[0]]=gn?gn.replace(ne[1],ne[2]):e:this[ne[0]]=gn?ne[1].call(this,gn,ne[2]):e:ne.length===4&&(this[ne[0]]=gn?ne[3].call(this,gn.replace(ne[1],ne[2])):e):this[ne]=gn||e;Ur+=2;}},gr=function(ee,_e){for(var Bt in _e)if(typeof _e[Bt]===r&&_e[Bt].length>0){for(var vn=0;vn<_e[Bt].length;vn++)if(rt(_e[Bt][vn],ee))return Bt===\"?\"?e:Bt}else if(rt(_e[Bt],ee))return Bt===\"?\"?e:Bt;return ee},sd={ME:\"4.90\",\"NT 3.11\":\"NT3.51\",\"NT 4.0\":\"NT4.0\",2e3:\"NT 5.0\",XP:[\"NT 5.1\",\"NT 5.2\"],Vista:\"NT 6.0\",7:\"NT 6.1\",8:\"NT 6.2\",8.1:\"NT 6.3\",10:[\"NT 6.4\",\"NT 10.0\"],RT:\"ARM\"},ad={browser:[[/\\b(?:crmo|crios)\\/([\\w\\.]+)/i],[u,[c,\"Chrome\"]],[/edg(?:e|ios|a)?\\/([\\w\\.]+)/i],[u,[c,\"Edge\"]],[/(opera mini)\\/([-\\w\\.]+)/i,/(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,/(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i],[c,u],[/opios[\\/ ]+([\\w\\.]+)/i],[u,[c,Wt+\" Mini\"]],[/\\bopr\\/([\\w\\.]+)/i],[u,[c,Wt]],[/(kindle)\\/([\\w\\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\\/ ]?([\\w\\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\\/ ]?([\\w\\.]*)/i,/(ba?idubrowser)[\\/ ]?([\\w\\.]+)/i,/(?:ms|\\()(ie) ([\\w\\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\\/([-\\w\\.]+)/i,/(weibo)__([\\d\\.]+)/i],[c,u],[/(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i],[u,[c,\"UC\"+k]],[/microm.+\\bqbcore\\/([\\w\\.]+)/i,/\\bqbcore\\/([\\w\\.]+).+microm/i],[u,[c,\"WeChat(Win) Desktop\"]],[/micromessenger\\/([\\w\\.]+)/i],[u,[c,\"WeChat\"]],[/konqueror\\/([\\w\\.]+)/i],[u,[c,\"Konqueror\"]],[/trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i],[u,[c,\"IE\"]],[/yabrowser\\/([\\w\\.]+)/i],[u,[c,\"Yandex\"]],[/(avast|avg)\\/([\\w\\.]+)/i],[[c,/(.+)/,\"$1 Secure \"+k],u],[/\\bfocus\\/([\\w\\.]+)/i],[u,[c,V+\" Focus\"]],[/\\bopt\\/([\\w\\.]+)/i],[u,[c,Wt+\" Touch\"]],[/coc_coc\\w+\\/([\\w\\.]+)/i],[u,[c,\"Coc Coc\"]],[/dolfin\\/([\\w\\.]+)/i],[u,[c,\"Dolphin\"]],[/coast\\/([\\w\\.]+)/i],[u,[c,Wt+\" Coast\"]],[/miuibrowser\\/([\\w\\.]+)/i],[u,[c,\"MIUI \"+k]],[/fxios\\/([-\\w\\.]+)/i],[u,[c,V]],[/\\bqihu|(qi?ho?o?|360)browser/i],[[c,\"360 \"+k]],[/(oculus|samsung|sailfish|huawei)browser\\/([\\w\\.]+)/i],[[c,/(.+)/,\"$1 \"+k],u],[/(comodo_dragon)\\/([\\w\\.]+)/i],[[c,/_/g,\" \"],u],[/(electron)\\/([\\w\\.]+) safari/i,/(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\\/ ]?([\\w\\.]+)/i],[c,u],[/(metasr)[\\/ ]?([\\w\\.]+)/i,/(lbbrowser)/i,/\\[(linkedin)app\\]/i],[c],[/((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i],[[c,m],u],[/(kakao(?:talk|story))[\\/ ]([\\w\\.]+)/i,/(naver)\\(.*?(\\d+\\.[\\w\\.]+).*\\)/i,/safari (line)\\/([\\w\\.]+)/i,/\\b(line)\\/([\\w\\.]+)\\/iab/i,/(chromium|instagram)[\\/ ]([-\\w\\.]+)/i],[c,u],[/\\bgsa\\/([\\w\\.]+) .*safari\\//i],[u,[c,\"GSA\"]],[/headlesschrome(?:\\/([\\w\\.]+)| )/i],[u,[c,B+\" Headless\"]],[/ wv\\).+(chrome)\\/([\\w\\.]+)/i],[[c,B+\" WebView\"],u],[/droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i],[u,[c,\"Android \"+k]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i],[c,u],[/version\\/([\\w\\.\\,]+) .*mobile\\/\\w+ (safari)/i],[u,[c,\"Mobile Safari\"]],[/version\\/([\\w(\\.|\\,)]+) .*(mobile ?safari|safari)/i],[u,c],[/webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i],[c,[u,gr,{\"1.0\":\"/8\",1.2:\"/1\",1.3:\"/3\",\"2.0\":\"/412\",\"2.0.2\":\"/416\",\"2.0.3\":\"/417\",\"2.0.4\":\"/419\",\"?\":\"/\"}]],[/(webkit|khtml)\\/([\\w\\.]+)/i],[c,u],[/(navigator|netscape\\d?)\\/([-\\w\\.]+)/i],[[c,\"Netscape\"],u],[/mobile vr; rv:([\\w\\.]+)\\).+firefox/i],[u,[c,V+\" Reality\"]],[/ekiohf.+(flow)\\/([\\w\\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\\/ ]?([\\w\\.\\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,/(firefox)\\/([\\w\\.]+)/i,/(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,/(links) \\(([\\w\\.]+)/i,/panasonic;(viera)/i],[c,u],[/(cobalt)\\/([\\w\\.]+)/i],[c,[u,/master.|lts./,\"\"]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\\)]/i],[[h,\"amd64\"]],[/(ia32(?=;))/i],[[h,bt]],[/((?:i[346]|x)86)[;\\)]/i],[[h,\"ia32\"]],[/\\b(aarch64|arm(v?8e?l?|_?64))\\b/i],[[h,\"arm64\"]],[/\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i],[[h,\"armhf\"]],[/windows (ce|mobile); ppc;/i],[[h,\"arm\"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\\))/i],[[h,/ower/,\"\",bt]],[/(sun4\\w)[;\\)]/i],[[h,\"sparc\"]],[/((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i],[[h,bt]]],device:[[/\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i],[a,[l,si],[d,E]],[/\\b((?:s[cgp]h|gt|sm)-\\w+|sc[g-]?[\\d]+a?|galaxy nexus)/i,/samsung[- ]([-\\w]+)/i,/sec-(sgh\\w+)/i],[a,[l,si],[d,g]],[/\\((ip(?:hone|od)[\\w ]*);/i],[a,[l,b],[d,g]],[/\\((ipad);[-\\w\\),; ]+apple/i,/applecoremedia\\/[\\w\\.]+ \\((ipad)/i,/\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i],[a,[l,b],[d,E]],[/(macintosh);/i],[a,[l,b]],[/\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i],[a,[l,L],[d,g]],[/\\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\\d{2})\\b(?!.+d\\/s)/i],[a,[l,lt],[d,E]],[/(?:huawei|honor)([-\\w ]+)[;\\)]/i,/\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i],[a,[l,lt],[d,g]],[/\\b(poco[\\w ]+)(?: bui|\\))/i,/\\b; (\\w+) build\\/hm\\1/i,/\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,/\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,/\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\\))/i],[[a,/_/g,\" \"],[l,Y],[d,g]],[/\\b(mi[-_ ]?(?:pad)(?:[\\w_ ]+))(?: bui|\\))/i],[[a,/_/g,\" \"],[l,Y],[d,E]],[/; (\\w+) bui.+ oppo/i,/\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i],[a,[l,\"OPPO\"],[d,g]],[/vivo (\\w+)(?: bui|\\))/i,/\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i],[a,[l,\"Vivo\"],[d,g]],[/\\b(rmx[12]\\d{3})(?: bui|;|\\))/i],[a,[l,\"Realme\"],[d,g]],[/\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,/\\bmot(?:orola)?[- ](\\w*)/i,/((?:moto[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i],[a,[l,ce],[d,g]],[/\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i],[a,[l,ce],[d,E]],[/((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i],[a,[l,vt],[d,E]],[/(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,/\\blg[-e;\\/ ]+((?!browser|netcast|android tv)\\w+)/i,/\\blg-?([\\d\\w]+) bui/i],[a,[l,vt],[d,g]],[/(ideatab[-\\w ]+)/i,/lenovo ?(s[56]000[-\\w]+|tab(?:[\\w ]+)|yt[-\\d\\w]{6}|tb[-\\d\\w]{6})/i],[a,[l,\"Lenovo\"],[d,E]],[/(?:maemo|nokia).*(n900|lumia \\d+)/i,/nokia[-_ ]?([-\\w\\.]*)/i],[[a,/_/g,\" \"],[l,\"Nokia\"],[d,g]],[/(pixel c)\\b/i],[a,[l,z],[d,E]],[/droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i],[a,[l,z],[d,g]],[/droid.+ (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i],[a,[l,F],[d,g]],[/sony tablet [ps]/i,/\\b(?:sony)?sgp\\w+(?: bui|\\))/i],[[a,\"Xperia Tablet\"],[l,F],[d,E]],[/ (kb2005|in20[12]5|be20[12][59])\\b/i,/(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i],[a,[l,\"OnePlus\"],[d,g]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\\))/i,/(kf[a-z]+)( bui|\\)).+silk\\//i],[a,[l,A],[d,E]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i],[[a,/(.+)/g,\"Fire Phone $1\"],[l,A],[d,g]],[/(playbook);[-\\w\\),; ]+(rim)/i],[a,l,[d,E]],[/\\b((?:bb[a-f]|st[hv])100-\\d)/i,/\\(bb10; (\\w+)/i],[a,[l,D],[d,g]],[/(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i],[a,[l,w],[d,E]],[/ (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i],[a,[l,w],[d,g]],[/(nexus 9)/i],[a,[l,\"HTC\"],[d,E]],[/(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,/(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\\.))|sony(?!-bra))[-_ ]?([-\\w]*)/i],[l,[a,/_/g,\" \"],[d,g]],[/droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i],[a,[l,\"Acer\"],[d,E]],[/droid.+; (m[1-5] note) bui/i,/\\bmz-([-\\w]{2,})/i],[a,[l,\"Meizu\"],[d,g]],[/(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\\w]*)/i,/(hp) ([\\w ]+\\w)/i,/(asus)-?(\\w+)/i,/(microsoft); (lumia[\\w ]+)/i,/(lenovo)[-_ ]?([-\\w]+)/i,/(jolla)/i,/(oppo) ?([\\w ]+) bui/i],[l,a,[d,g]],[/(kobo)\\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\\/([\\w\\.]+)/i,/(nook)[\\w ]+build\\/(\\w+)/i,/(dell) (strea[kpr\\d ]*[\\dko])/i,/(le[- ]+pan)[- ]+(\\w{1,9}) bui/i,/(trinity)[- ]*(t\\d{3}) bui/i,/(gigaset)[- ]+(q\\w{1,9}) bui/i,/(vodafone) ([\\w ]+)(?:\\)| bui)/i],[l,a,[d,E]],[/(surface duo)/i],[a,[l,Dt],[d,E]],[/droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i],[a,[l,\"Fairphone\"],[d,g]],[/(u304aa)/i],[a,[l,\"AT&T\"],[d,g]],[/\\bsie-(\\w*)/i],[a,[l,\"Siemens\"],[d,g]],[/\\b(rct\\w+) b/i],[a,[l,\"RCA\"],[d,E]],[/\\b(venue[\\d ]{2,7}) b/i],[a,[l,\"Dell\"],[d,E]],[/\\b(q(?:mv|ta)\\w+) b/i],[a,[l,\"Verizon\"],[d,E]],[/\\b(?:barnes[& ]+noble |bn[rt])([\\w\\+ ]*) b/i],[a,[l,\"Barnes & Noble\"],[d,E]],[/\\b(tm\\d{3}\\w+) b/i],[a,[l,\"NuVision\"],[d,E]],[/\\b(k88) b/i],[a,[l,\"ZTE\"],[d,E]],[/\\b(nx\\d{3}j) b/i],[a,[l,\"ZTE\"],[d,g]],[/\\b(gen\\d{3}) b.+49h/i],[a,[l,\"Swiss\"],[d,g]],[/\\b(zur\\d{3}) b/i],[a,[l,\"Swiss\"],[d,E]],[/\\b((zeki)?tb.*\\b) b/i],[a,[l,\"Zeki\"],[d,E]],[/\\b([yr]\\d{2}) b/i,/\\b(dragon[- ]+touch |dt)(\\w{5}) b/i],[[l,\"Dragon Touch\"],a,[d,E]],[/\\b(ns-?\\w{0,9}) b/i],[a,[l,\"Insignia\"],[d,E]],[/\\b((nxa|next)-?\\w{0,9}) b/i],[a,[l,\"NextBook\"],[d,E]],[/\\b(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[l,\"Voice\"],a,[d,g]],[/\\b(lvtel\\-)?(v1[12]) b/i],[[l,\"LvTel\"],a,[d,g]],[/\\b(ph-1) /i],[a,[l,\"Essential\"],[d,g]],[/\\b(v(100md|700na|7011|917g).*\\b) b/i],[a,[l,\"Envizen\"],[d,E]],[/\\b(trio[-\\w\\. ]+) b/i],[a,[l,\"MachSpeed\"],[d,E]],[/\\btu_(1491) b/i],[a,[l,\"Rotor\"],[d,E]],[/(shield[\\w ]+) b/i],[a,[l,\"Nvidia\"],[d,E]],[/(sprint) (\\w+)/i],[l,a,[d,g]],[/(kin\\.[onetw]{3})/i],[[a,/\\./g,\" \"],[l,Dt],[d,g]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i],[a,[l,M],[d,E]],[/droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i],[a,[l,M],[d,g]],[/smart-tv.+(samsung)/i],[l,[d,f]],[/hbbtv.+maple;(\\d+)/i],[[a,/^/,\"SmartTV\"],[l,si],[d,f]],[/(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i],[[l,vt],[d,f]],[/(apple) ?tv/i],[l,[a,b+\" TV\"],[d,f]],[/crkey/i],[[a,B+\"cast\"],[l,z],[d,f]],[/droid.+aft(\\w)( bui|\\))/i],[a,[l,A],[d,f]],[/\\(dtv[\\);].+(aquos)/i,/(aquos-tv[\\w ]+)\\)/i],[a,[l,L],[d,f]],[/(bravia[\\w ]+)( bui|\\))/i],[a,[l,F],[d,f]],[/(mitv-\\w{5}) bui/i],[a,[l,Y],[d,f]],[/Hbbtv.*(technisat) (.*);/i],[l,a,[d,f]],[/\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,/hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w\\+ ]*; *([\\w\\d][^;]*);([^;]*)/i],[[l,Re],[a,Re],[d,f]],[/\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i],[[d,f]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[l,a,[d,p]],[/droid.+; (shield) bui/i],[a,[l,\"Nvidia\"],[d,p]],[/(playstation [345portablevi]+)/i],[a,[l,F],[d,p]],[/\\b(xbox(?: one)?(?!; xbox))[\\); ]/i],[a,[l,Dt],[d,p]],[/((pebble))app/i],[l,a,[d,S]],[/(watch)(?: ?os[,\\/]|\\d,\\d\\/)[\\d\\.]+/i],[a,[l,b],[d,S]],[/droid.+; (glass) \\d/i],[a,[l,z],[d,S]],[/droid.+; (wt63?0{2,3})\\)/i],[a,[l,M],[d,S]],[/(quest( 2| pro)?)/i],[a,[l,m],[d,S]],[/(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i],[l,[d,C]],[/droid .+?; ([^;]+?)(?: bui|\\) applew).+? mobile safari/i],[a,[d,g]],[/droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i],[a,[d,E]],[/\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i],[[d,E]],[/(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i],[[d,g]],[/(android[-\\w\\. ]{0,9});.+buil/i],[a,[l,\"Generic\"]]],engine:[[/windows.+ edge\\/([\\w\\.]+)/i],[u,[c,\"EdgeHTML\"]],[/webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i],[u,[c,\"Blink\"]],[/(presto)\\/([\\w\\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i,/ekioh(flow)\\/([\\w\\.]+)/i,/(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,/(icab)[\\/ ]([23]\\.[\\d\\.]+)/i],[c,u],[/rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i],[u,c]],os:[[/microsoft (windows) (vista|xp)/i],[c,u],[/(windows) nt 6\\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\\/ ]?([\\d\\.\\w ]*)/i,/(windows)[\\/ ]?([ntce\\d\\. ]+\\w)(?!.+xbox)/i],[c,[u,gr,sd]],[/(win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i],[[c,\"Windows\"],[u,gr,sd]],[/ip[honead]{2,4}\\b(?:.*os ([\\w]+) like mac|; opera)/i,/cfnetwork\\/.+darwin/i],[[u,/_/g,\".\"],[c,\"iOS\"]],[/(mac os x) ?([\\w\\. ]*)/i,/(macintosh|mac_powerpc\\b)(?!.+haiku)/i],[[c,y],[u,/_/g,\".\"]],[/droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i],[u,c],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\\/ ]?([\\w\\.]*)/i,/(blackberry)\\w*\\/([\\w\\.]*)/i,/(tizen|kaios)[\\/ ]([\\w\\.]+)/i,/\\((series40);/i],[c,u],[/\\(bb(10);/i],[u,[c,D]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\\/ ]?([\\w\\.]*)/i],[u,[c,\"Symbian\"]],[/mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i],[u,[c,V+\" OS\"]],[/web0s;.+rt(tv)/i,/\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i],[u,[c,\"webOS\"]],[/watch(?: ?os[,\\/]|\\d,\\d\\/)([\\d\\.]+)/i],[u,[c,\"watchOS\"]],[/crkey\\/([\\d\\.]+)/i],[u,[c,B+\"cast\"]],[/(cros) [\\w]+(?:\\)| ([\\w\\.]+)\\b)/i],[[c,I],u],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\\/(\\d+\\.[\\w\\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\\);]+)/i,/\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,/(mint)[\\/\\(\\) ]?(\\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,/(hurd|linux) ?([\\w\\.]*)/i,/(gnu) ?([\\w\\.]*)/i,/\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i,/(haiku) (\\w+)/i],[c,u],[/(sunos) ?([\\w\\.\\d]*)/i],[[c,\"Solaris\"],u],[/((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,/(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,/\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\\w\\.]*)/i],[c,u]]},qn=function(ee,_e){if(typeof ee===r&&(_e=ee,ee=e),!(this instanceof qn))return new qn(ee,_e).getResult();var Bt=typeof t!==i&&t.navigator?t.navigator:e,vn=ee||(Bt&&Bt.userAgent?Bt.userAgent:\"\"),Ki=Bt&&Bt.userAgentData?Bt.userAgentData:e,ne=_e?function(gt,gn){var Ur={};for(var Oi in gt)gn[Oi]&&gn[Oi].length%2==0?Ur[Oi]=gn[Oi].concat(gt[Oi]):Ur[Oi]=gt[Oi];return Ur}(ad,_e):ad;return this.getBrowser=function(){var gt={};return gt[c]=e,gt[u]=e,fn.call(gt,vn,ne.browser),gt[s]=function(gn){return typeof gn===o?gn.replace(/[^\\d\\.]/g,\"\").split(\".\")[0]:e}(gt[u]),Bt&&Bt.brave&&typeof Bt.brave.isBrave==n&&(gt[c]=\"Brave\"),gt},this.getCPU=function(){var gt={};return gt[h]=e,fn.call(gt,vn,ne.cpu),gt},this.getDevice=function(){var gt={};return gt[l]=e,gt[a]=e,gt[d]=e,fn.call(gt,vn,ne.device),!gt[d]&&Ki&&Ki.mobile&&(gt[d]=g),gt[a]==\"Macintosh\"&&Bt&&typeof Bt.standalone!==i&&Bt.maxTouchPoints&&Bt.maxTouchPoints>2&&(gt[a]=\"iPad\",gt[d]=E),gt},this.getEngine=function(){var gt={};return gt[c]=e,gt[u]=e,fn.call(gt,vn,ne.engine),gt},this.getOS=function(){var gt={};return gt[c]=e,gt[u]=e,fn.call(gt,vn,ne.os),!gt[c]&&Ki&&Ki.platform!=\"Unknown\"&&(gt[c]=Ki.platform.replace(/chrome os/i,I).replace(/macos/i,y)),gt},this.getResult=function(){return {ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return vn},this.setUA=function(gt){return vn=typeof gt===o&&gt.length>350?Re(gt,350):gt,this},this.setUA(vn),this};qn.VERSION=\"0.7.34\",qn.BROWSER=x([c,u,s]),qn.CPU=x([h]),qn.DEVICE=x([a,l,d,p,g,f,E,S,C]),qn.ENGINE=qn.OS=x([c,u]),tp.exports&&(ep=tp.exports=qn),ep.UAParser=qn;var Mr=typeof t!==i&&(t.jQuery||t.Zepto);if(Mr&&!Mr.ua){var rs=new qn;Mr.ua=rs.getResult(),Mr.ua.get=function(){return rs.getUA()},Mr.ua.set=function(ee){rs.setUA(ee);var _e=rs.getResult();for(var Bt in _e)Mr.ua[Bt]=_e[Bt];};}}(typeof window==\"object\"?window:Vs);var W2=ae(_E.exports),H2=Er,K2=Je,Y2=da,q2=es,z2=pe(\"iterator\"),J2=Object,X2=function(t){if(Y2(t))return !1;var e=J2(t);return e[z2]!==void 0||\"@@iterator\"in e||K2(q2,H2(e))},Q2=ae(X2),ip=We;xt({global:!0,forced:ip.globalThis!==ip},{globalThis:ip});var VT=ae(We);function _w(t,e){return function(){return t.apply(e,arguments)}}var{toString:Z2}=Object.prototype,{getPrototypeOf:Xm}=Object,Ml=(rp=Object.create(null),t=>{let e=Z2.call(t);return rp[e]||(rp[e]=e.slice(8,-1).toLowerCase())}),rp,fr=t=>(t=t.toLowerCase(),e=>Ml(e)===t),ju=t=>e=>typeof e===t,{isArray:Is}=Array,Wa=ju(\"undefined\"),FT=fr(\"ArrayBuffer\"),$2=ju(\"string\"),ai=ju(\"function\"),BT=ju(\"number\"),Td=t=>t!==null&&typeof t==\"object\",Sd=t=>{if(Ml(t)!==\"object\")return !1;let e=Xm(t);return !(e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.toStringTag in t||Q2(t))},tx=fr(\"Date\"),ex=fr(\"File\"),nx=fr(\"Blob\"),ix=fr(\"FileList\"),rx=fr(\"URLSearchParams\");function Ha(t,e){let n,i,{allOwnKeys:r=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(t!=null)if(typeof t!=\"object\"&&(t=[t]),Is(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else {let o=r?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length,a;for(n=0;n<s;n++)a=o[n],e.call(null,t[a],a,t);}}function jT(t,e){e=e.toLowerCase();let n=Object.keys(t),i,r=n.length;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}var Ew=VT!==void 0?VT:typeof self<\"u\"?self:typeof window<\"u\"?window:global,GT=t=>!Wa(t)&&t!==Ew,ox=(op=typeof Uint8Array<\"u\"&&Xm(Uint8Array),t=>op&&t instanceof op),op,sx=fr(\"HTMLFormElement\"),WT=(t=>{let{hasOwnProperty:e}=t;return (n,i)=>e.call(n,i)})(Object.prototype),ax=fr(\"RegExp\"),HT=(t,e)=>{let n=Object.getOwnPropertyDescriptors(t),i={};Ha(n,(r,o)=>{let s;(s=e(r,o,t))!==!1&&(i[o]=s||r);}),Object.defineProperties(t,i);},sp=\"abcdefghijklmnopqrstuvwxyz\",KT=\"0123456789\",YT={DIGIT:KT,ALPHA:sp,ALPHA_DIGIT:sp+sp.toUpperCase()+KT},cx=fr(\"AsyncFunction\"),K={isArray:Is,isArrayBuffer:FT,isBuffer:function(t){return t!==null&&!Wa(t)&&t.constructor!==null&&!Wa(t.constructor)&&ai(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{let e;return t&&(typeof FormData==\"function\"&&t instanceof FormData||ai(t.append)&&((e=Ml(t))===\"formdata\"||e===\"object\"&&ai(t.toString)&&t.toString()===\"[object FormData]\"))},isArrayBufferView:function(t){let e;return e=typeof ArrayBuffer<\"u\"&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&FT(t.buffer),e},isString:$2,isNumber:BT,isBoolean:t=>t===!0||t===!1,isObject:Td,isPlainObject:Sd,isUndefined:Wa,isDate:tx,isFile:ex,isBlob:nx,isRegExp:ax,isFunction:ai,isStream:t=>Td(t)&&ai(t.pipe),isURLSearchParams:rx,isTypedArray:ox,isFileList:ix,forEach:Ha,merge:function t(){let{caseless:e}=GT(this)&&this||{},n={},i=(r,o)=>{let s=e&&jT(n,o)||o;Sd(n[s])&&Sd(r)?n[s]=t(n[s],r):Sd(r)?n[s]=t({},r):Is(r)?n[s]=r.slice():n[s]=r;};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&Ha(arguments[r],i);return n},extend:function(t,e,n){let{allOwnKeys:i}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Ha(e,(r,o)=>{n&&ai(r)?t[o]=_w(r,n):t[o]=r;},{allOwnKeys:i}),t},trim:t=>rn(t)?rn(t).call(t):t.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\"\"),stripBOM:t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),inherits:(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,\"super\",{value:e.prototype}),n&&Object.assign(t.prototype,n);},toFlatObject:(t,e,n,i)=>{let r,o,s,a={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),o=r.length;o-- >0;)s=r[o],i&&!i(s,t,e)||a[s]||(e[s]=t[s],a[s]=!0);t=n!==!1&&Xm(t);}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:Ml,kindOfTest:fr,endsWith:(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;let i=t.indexOf(e,n);return i!==-1&&i===n},toArray:t=>{if(!t)return null;if(Is(t))return t;let e=t.length;if(!BT(e))return null;let n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},forEachEntry:(t,e)=>{let n=(t&&t[Symbol.iterator]).call(t),i;for(;(i=n.next())&&!i.done;){let r=i.value;e.call(t,r[0],r[1]);}},matchAll:(t,e)=>{let n,i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},isHTMLForm:sx,hasOwnProperty:WT,hasOwnProp:WT,reduceDescriptors:HT,freezeMethods:t=>{HT(t,(e,n)=>{if(ai(t)&&[\"arguments\",\"caller\",\"callee\"].indexOf(n)!==-1)return !1;let i=t[n];ai(i)&&(e.enumerable=!1,\"writable\"in e?e.writable=!1:e.set||(e.set=()=>{throw Error(\"Can not rewrite read-only method '\"+n+\"'\")}));});},toObjectSet:(t,e)=>{let n={},i=r=>{r.forEach(o=>{n[o]=!0;});};return Is(t)?i(t):i(String(t).split(e)),n},toCamelCase:t=>t.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,function(e,n,i){return n.toUpperCase()+i}),noop:()=>{},toFiniteNumber:(t,e)=>(t=+t,Number.isFinite(t)?t:e),findKey:jT,global:Ew,isContextDefined:GT,ALPHABET:YT,generateString:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:YT.ALPHA_DIGIT,n=\"\",{length:i}=e;for(;t--;)n+=e[Math.random()*i|0];return n},isSpecCompliantForm:function(t){return !!(t&&ai(t.append)&&t[Symbol.toStringTag]===\"FormData\"&&t[Symbol.iterator])},toJSONObject:t=>{let e=new Array(10),n=(i,r)=>{if(Td(i)){if(e.indexOf(i)>=0)return;if(!(\"toJSON\"in i)){e[r]=i;let o=Is(i)?[]:{};return Ha(i,(s,a)=>{let c=n(s,r+1);!Wa(c)&&(o[a]=c);}),e[r]=void 0,o}}return i};return n(t,0)},isAsyncFn:cx,isThenable:t=>t&&(Td(t)||ai(t))&&ai(t.then)&&ai(t.catch)};function qt(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name=\"AxiosError\",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r);}K.inherits(qt,Error,{toJSON:function(){return {message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:K.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var qT=qt.prototype,zT={};[\"ERR_BAD_OPTION_VALUE\",\"ERR_BAD_OPTION\",\"ECONNABORTED\",\"ETIMEDOUT\",\"ERR_NETWORK\",\"ERR_FR_TOO_MANY_REDIRECTS\",\"ERR_DEPRECATED\",\"ERR_BAD_RESPONSE\",\"ERR_BAD_REQUEST\",\"ERR_CANCELED\",\"ERR_NOT_SUPPORT\",\"ERR_INVALID_URL\"].forEach(t=>{zT[t]={value:t};}),Object.defineProperties(qt,zT),Object.defineProperty(qT,\"isAxiosError\",{value:!0}),qt.from=(t,e,n,i,r,o)=>{let s=Object.create(qT);return K.toFlatObject(t,s,function(a){return a!==Error.prototype},a=>a!==\"isAxiosError\"),qt.call(s,t.message,e,n,i,r),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};function ap(t){return K.isPlainObject(t)||K.isArray(t)}function mw(t){return K.endsWith(t,\"[]\")?t.slice(0,-2):t}function JT(t,e,n){return t?t.concat(e).map(function(i,r){return i=mw(i),!n&&r?\"[\"+i+\"]\":i}).join(n?\".\":\"\"):e}var dx=K.toFlatObject(K,{},null,function(t){return /^is[A-Z]/.test(t)});function Ul(t,e,n){if(!K.isObject(t))throw new TypeError(\"target must be an object\");e=e||new FormData;let i=(n=K.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(h,p){return !K.isUndefined(p[h])})).metaTokens,r=n.visitor||d,o=n.dots,s=n.indexes,a=(n.Blob||typeof Blob<\"u\"&&Blob)&&K.isSpecCompliantForm(e);if(!K.isFunction(r))throw new TypeError(\"visitor must be a function\");function c(h){if(h===null)return \"\";if(K.isDate(h))return h.toISOString();if(!a&&K.isBlob(h))throw new qt(\"Blob is not supported. Use a Buffer instead.\");return K.isArrayBuffer(h)||K.isTypedArray(h)?a&&typeof Blob==\"function\"?new Blob([h]):Buffer.from(h):h}function d(h,p,g){let E=h;if(h&&!g&&typeof h==\"object\"){if(K.endsWith(p,\"{}\"))p=i?p:p.slice(0,-2),h=JSON.stringify(h);else if(K.isArray(h)&&function(f){return K.isArray(f)&&!f.some(ap)}(h)||(K.isFileList(h)||K.endsWith(p,\"[]\"))&&(E=K.toArray(h)))return p=mw(p),E.forEach(function(f,S){!K.isUndefined(f)&&f!==null&&e.append(s===!0?JT([p],S,o):s===null?p:p+\"[]\",c(f));}),!1}return !!ap(h)||(e.append(JT(g,p,o),c(h)),!1)}let l=[],u=Object.assign(dx,{defaultVisitor:d,convertValue:c,isVisitable:ap});if(!K.isObject(t))throw new TypeError(\"data must be an object\");return function h(p,g){if(!K.isUndefined(p)){if(l.indexOf(p)!==-1)throw Error(\"Circular reference detected in \"+g.join(\".\"));l.push(p),K.forEach(p,function(E,f){(!(K.isUndefined(E)||E===null)&&r.call(e,E,K.isString(f)?rn(f).call(f):f,g,u))===!0&&h(E,g?g.concat(f):[f]);}),l.pop();}}(t),e}function XT(t){let e={\"!\":\"%21\",\"'\":\"%27\",\"(\":\"%28\",\")\":\"%29\",\"~\":\"%7E\",\"%20\":\"+\",\"%00\":\"\\0\"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Qm(t,e){this._pairs=[],t&&Ul(t,this,e);}var QT=Qm.prototype;function lx(t){return encodeURIComponent(t).replace(/%3A/gi,\":\").replace(/%24/g,\"$\").replace(/%2C/gi,\",\").replace(/%20/g,\"+\").replace(/%5B/gi,\"[\").replace(/%5D/gi,\"]\")}function fw(t,e,n){if(!e)return t;let i=n&&n.encode||lx,r=n&&n.serialize,o;if(o=r?r(e,n):K.isURLSearchParams(e)?e.toString():new Qm(e,n).toString(i),o){let s=t.indexOf(\"#\");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf(\"?\")===-1?\"?\":\"&\")+o;}return t}QT.append=function(t,e){this._pairs.push([t,e]);},QT.toString=function(t){let e=t?function(n){return t.call(this,n,XT)}:XT;return this._pairs.map(function(n){return e(n[0])+\"=\"+e(n[1])},\"\").join(\"&\")};var ZT=class{constructor(){this.handlers=[];}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null);}clear(){this.handlers&&(this.handlers=[]);}forEach(t){K.forEach(this.handlers,function(e){e!==null&&t(e);});}},gw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Tw={exports:{}},ux=xt,hx=ri,$T=Ai.f;ux({target:\"Object\",stat:!0,forced:Object.defineProperty!==$T,sham:!hx},{defineProperty:$T});var Sw=Gi.Object,px=Tw.exports=function(t,e,n){return Sw.defineProperty(t,e,n)};Sw.defineProperty.sham&&(px.sham=!0);var Rw=ae(Tw.exports),_x=pr,nd=Array.isArray||function(t){return _x(t)==\"Array\"},Ex=TypeError,tS=nd,mx=xu,fx=Hn,gx=pe(\"species\"),eS=Array,Tx=function(t){var e;return tS(t)&&(e=t.constructor,(mx(e)&&(e===eS||tS(e.prototype))||fx(e)&&(e=e[gx])===null)&&(e=void 0)),e===void 0?eS:e},Cw=function(t,e){return new(Tx(t))(e===0?0:e)},Sx=Se,Rx=zo,Cx=pe(\"species\"),Iw=function(t){return Rx>=51||!Sx(function(){var e=[];return (e.constructor={})[Cx]=function(){return {foo:1}},e[t](Boolean).foo!==1})},Ix=xt,vx=Se,yx=nd,Ax=Hn,bx=_r,wx=Lr,nS=function(t){if(t>9007199254740991)throw Ex(\"Maximum allowed index exceeded\");return t},iS=Bu,Ox=Cw,Nx=Iw,Dx=zo,vw=pe(\"isConcatSpreadable\"),Px=Dx>=51||!vx(function(){var t=[];return t[vw]=!1,t.concat()[0]!==t}),kx=function(t){if(!Ax(t))return !1;var e=t[vw];return e!==void 0?!!e:yx(t)};Ix({target:\"Array\",proto:!0,arity:1,forced:!Px||!Nx(\"concat\")},{concat:function(t){var e,n,i,r,o,s=bx(this),a=Ox(s,0),c=0;for(e=-1,i=arguments.length;e<i;e++)if(kx(o=e===-1?s:arguments[e]))for(r=wx(o),nS(c+r),n=0;n<r;n++,c++)n in o&&iS(a,c,o[n]);else nS(c+1),iS(a,c++,o);return a.length=c,a}});var yw={},Lx=pr,Mx=Eo,rS=Pu.f,Ux=zm,oS=typeof window==\"object\"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];yw.f=function(t){return oS&&Lx(t)==\"Window\"?function(e){try{return rS(e)}catch{return Ux(oS)}}(t):rS(Mx(t))};var Ea={},xx=pe;Ea.f=xx;var sS=Gi,Vx=Je,Fx=Ea,Bx=Ai.f,Fe=function(t){var e=sS.Symbol||(sS.Symbol={});Vx(e,t)||Bx(e,t,{value:Fx.f(t)});},jx=Ke,Gx=Dn,Wx=pe,Hx=go,Aw=function(){var t=Gx(\"Symbol\"),e=t&&t.prototype,n=e&&e.valueOf,i=Wx(\"toPrimitive\");e&&!e[i]&&Hx(e,i,function(r){return jx(n,this)},{arity:1});},Kx=mo,Yx=bu,qx=_r,zx=Lr,Jx=Cw,aS=me([].push),Vr=function(t){var e=t==1,n=t==2,i=t==3,r=t==4,o=t==6,s=t==7,a=t==5||o;return function(c,d,l,u){for(var h,p,g=qx(c),E=Yx(g),f=Kx(d,l),S=zx(E),C=0,A=u||Jx,b=e?A(c,S):n||s?A(c,0):void 0;S>C;C++)if((a||C in E)&&(p=f(h=E[C],C,g),t))if(e)b[C]=p;else if(p)switch(t){case 3:return !0;case 5:return h;case 6:return C;case 2:aS(b,h);}else switch(t){case 4:return !1;case 7:aS(b,h);}return o?-1:i||r?r:b}},bw={forEach:Vr(0),map:Vr(1),filter:Vr(2),some:Vr(3),every:Vr(4),find:Vr(5),findIndex:Vr(6),filterReject:Vr(7)},Rd=xt,Zm=We,$m=Ke,Xx=me,js=ri,ds=ua,Qx=Se,dn=Je,Zx=hn,EE=Cn,Gu=Eo,tf=Ou,$x=oi,mE=_o,Sc=Qc,ww=Lu,tV=Pu,Ow=yw,eV=Xc,Nw=Yc,Dw=Ai,nV=Mm,Pw=Au,cS=go,iV=Uu,ef=pa,kw=ku,dS=Am,rV=pe,oV=Ea,sV=Fe,aV=Aw,cV=To,Lw=ns,Wu=bw.forEach,Vn=Du(\"hidden\"),xl=\"Symbol\",Rc=\"prototype\",dV=Lw.set,lS=Lw.getterFor(xl),Fi=Object[Rc],Ns=Zm.Symbol,_l=Ns&&Ns[Rc],lV=Zm.TypeError,cp=Zm.QObject,Mw=Nw.f,ko=Dw.f,Uw=Ow.f,uV=Pw.f,xw=Xx([].push),kr=ef(\"symbols\"),id=ef(\"op-symbols\"),hV=ef(\"wks\"),dp=!cp||!cp[Rc]||!cp[Rc].findChild,fE=js&&Qx(function(){return Sc(ko({},\"a\",{get:function(){return ko(this,\"a\",{value:7}).a}})).a!=7})?function(t,e,n){var i=Mw(Fi,e);i&&delete Fi[e],ko(t,e,n),i&&t!==Fi&&ko(Fi,e,i);}:ko,lp=function(t,e){var n=kr[t]=Sc(_l);return dV(n,{type:xl,tag:t,description:e}),js||(n.description=e),n},Vl=function(t,e,n){t===Fi&&Vl(id,e,n),EE(t);var i=tf(e);return EE(n),dn(kr,i)?(n.enumerable?(dn(t,Vn)&&t[Vn][i]&&(t[Vn][i]=!1),n=Sc(n,{enumerable:mE(0,!1)})):(dn(t,Vn)||ko(t,Vn,mE(1,{})),t[Vn][i]=!0),fE(t,i,n)):ko(t,i,n)},up=function(t,e){EE(t);var n=Gu(e),i=ww(n).concat(Fw(n));return Wu(i,function(r){js&&!$m(Vw,n,r)||Vl(t,r,n[r]);}),t},Vw=function(t){var e=tf(t),n=$m(uV,this,e);return !(this===Fi&&dn(kr,e)&&!dn(id,e))&&(!(n||!dn(this,e)||!dn(kr,e)||dn(this,Vn)&&this[Vn][e])||n)},uS=function(t,e){var n=Gu(t),i=tf(e);if(n!==Fi||!dn(kr,i)||dn(id,i)){var r=Mw(n,i);return !r||!dn(kr,i)||dn(n,Vn)&&n[Vn][i]||(r.enumerable=!0),r}},hS=function(t){var e=Uw(Gu(t)),n=[];return Wu(e,function(i){dn(kr,i)||dn(kw,i)||xw(n,i);}),n},Fw=function(t){var e=t===Fi,n=Uw(e?id:Gu(t)),i=[];return Wu(n,function(r){!dn(kr,r)||e&&!dn(Fi,r)||xw(i,kr[r]);}),i};ds||(cS(_l=(Ns=function(){if(Zx(_l,this))throw lV(\"Symbol is not a constructor\");var t=arguments.length&&arguments[0]!==void 0?$x(arguments[0]):void 0,e=dS(t),n=function(i){this===Fi&&$m(n,id,i),dn(this,Vn)&&dn(this[Vn],e)&&(this[Vn][e]=!1),fE(this,e,mE(1,i));};return js&&dp&&fE(Fi,e,{configurable:!0,set:n}),lp(e,t)})[Rc],\"toString\",function(){return lS(this).tag}),cS(Ns,\"withoutSetter\",function(t){return lp(dS(t),t)}),Pw.f=Vw,Dw.f=Vl,nV.f=up,Nw.f=uS,tV.f=Ow.f=hS,eV.f=Fw,oV.f=function(t){return lp(rV(t),t)},js&&iV(_l,\"description\",{configurable:!0,get:function(){return lS(this).description}})),Rd({global:!0,constructor:!0,wrap:!0,forced:!ds,sham:!ds},{Symbol:Ns}),Wu(ww(hV),function(t){sV(t);}),Rd({target:xl,stat:!0,forced:!ds},{useSetter:function(){dp=!0;},useSimple:function(){dp=!1;}}),Rd({target:\"Object\",stat:!0,forced:!ds,sham:!js},{create:function(t,e){return e===void 0?Sc(t):up(Sc(t),e)},defineProperty:Vl,defineProperties:up,getOwnPropertyDescriptor:uS}),Rd({target:\"Object\",stat:!0,forced:!ds},{getOwnPropertyNames:hS}),aV(),cV(Ns,xl),kw[Vn]=!0;var Bw=ua&&!!Symbol.for&&!!Symbol.keyFor,pV=xt,_V=Dn,EV=Je,mV=oi,jw=pa,fV=Bw,hp=jw(\"string-to-symbol-registry\"),gV=jw(\"symbol-to-string-registry\");pV({target:\"Symbol\",stat:!0,forced:!fV},{for:function(t){var e=mV(t);if(EV(hp,e))return hp[e];var n=_V(\"Symbol\")(e);return hp[e]=n,gV[n]=e,n}});var TV=xt,SV=Je,RV=qc,CV=ha,IV=Bw,pS=pa(\"symbol-to-string-registry\");TV({target:\"Symbol\",stat:!0,forced:!IV},{keyFor:function(t){if(!RV(t))throw TypeError(CV(t)+\" is not a symbol\");if(SV(pS,t))return pS[t]}});var _S=nd,vV=He,ES=pr,yV=oi,mS=me([].push),AV=xt,Gw=Dn,Ww=vm,bV=Ke,rd=me,Hw=Se,fS=He,gS=qc,Kw=Gm,wV=function(t){if(vV(t))return t;if(_S(t)){for(var e=t.length,n=[],i=0;i<e;i++){var r=t[i];typeof r==\"string\"?mS(n,r):typeof r!=\"number\"&&ES(r)!=\"Number\"&&ES(r)!=\"String\"||mS(n,yV(r));}var o=n.length,s=!0;return function(a,c){if(s)return s=!1,c;if(_S(this))return c;for(var d=0;d<o;d++)if(n[d]===a)return c}}},OV=ua,NV=String,ro=Gw(\"JSON\",\"stringify\"),Cd=rd(/./.exec),TS=rd(\"\".charAt),DV=rd(\"\".charCodeAt),PV=rd(\"\".replace),kV=rd(1 .toString),LV=/[\\uD800-\\uDFFF]/g,SS=/^[\\uD800-\\uDBFF]$/,RS=/^[\\uDC00-\\uDFFF]$/,CS=!OV||Hw(function(){var t=Gw(\"Symbol\")();return ro([t])!=\"[null]\"||ro({a:t})!=\"{}\"||ro(Object(t))!=\"{}\"}),IS=Hw(function(){return ro(\"\\uDF06\\uD834\")!=='\"\\\\udf06\\\\ud834\"'||ro(\"\\uDEAD\")!=='\"\\\\udead\"'}),MV=function(t,e){var n=Kw(arguments),i=wV(e);if(fS(i)||t!==void 0&&!gS(t))return n[1]=function(r,o){if(fS(i)&&(o=bV(i,this,NV(r),o)),!gS(o))return o},Ww(ro,null,n)},UV=function(t,e,n){var i=TS(n,e-1),r=TS(n,e+1);return Cd(SS,t)&&!Cd(RS,r)||Cd(RS,t)&&!Cd(SS,i)?\"\\\\u\"+kV(DV(t,0),16):t};ro&&AV({target:\"JSON\",stat:!0,arity:3,forced:CS||IS},{stringify:function(t,e,n){var i=Kw(arguments),r=Ww(CS?MV:ro,null,i);return IS&&typeof r==\"string\"?PV(r,LV,UV):r}});var vS=Xc,xV=_r;xt({target:\"Object\",stat:!0,forced:!ua||Se(function(){vS.f(1);})},{getOwnPropertySymbols:function(t){var e=vS.f;return e?e(xV(t)):[]}}),Fe(\"asyncIterator\"),Fe(\"hasInstance\"),Fe(\"isConcatSpreadable\"),Fe(\"iterator\"),Fe(\"match\"),Fe(\"matchAll\"),Fe(\"replace\"),Fe(\"search\"),Fe(\"species\"),Fe(\"split\");var VV=Aw;Fe(\"toPrimitive\"),VV();var FV=Dn,BV=To;Fe(\"toStringTag\"),BV(FV(\"Symbol\"),\"Symbol\"),Fe(\"unscopables\"),To(We.JSON,\"JSON\",!0);var jV=Gi.Symbol,GV=pe,WV=Ai.f,yS=GV(\"metadata\"),AS=Function.prototype;AS[yS]===void 0&&WV(AS,yS,{value:null}),Fe(\"dispose\"),Fe(\"metadata\");var HV=jV;Fe(\"asyncDispose\");var KV=me,nf=Dn(\"Symbol\"),YV=nf.keyFor,qV=KV(nf.prototype.valueOf),Yw=nf.isRegisteredSymbol||function(t){try{return YV(qV(t))!==void 0}catch{return !1}};xt({target:\"Symbol\",stat:!0},{isRegisteredSymbol:Yw});for(bS=pa,pp=Dn,wS=me,OS=qc,NS=pe,Na=pp(\"Symbol\"),gE=Na.isWellKnownSymbol,TE=pp(\"Object\",\"getOwnPropertyNames\"),qw=wS(Na.prototype.valueOf),SE=bS(\"wks\"),Id=0,_p=TE(Na),DS=_p.length;Id<DS;Id++)try{Ep=_p[Id],OS(Na[Ep])&&NS(Ep);}catch{}var Ep,bS,pp,wS,OS,NS,Na,gE,TE,qw,SE,Id,_p,DS,PS=function(t){if(gE&&gE(t))return !0;try{for(var e=qw(t),n=0,i=TE(SE),r=i.length;n<r;n++)if(SE[i[n]]==e)return !0}catch{}return !1};xt({target:\"Symbol\",stat:!0,forced:!0},{isWellKnownSymbol:PS}),Fe(\"matcher\"),Fe(\"observable\"),xt({target:\"Symbol\",stat:!0,name:\"isRegisteredSymbol\"},{isRegistered:Yw}),xt({target:\"Symbol\",stat:!0,name:\"isWellKnownSymbol\",forced:!0},{isWellKnown:PS}),Fe(\"metadataKey\"),Fe(\"patternMatch\"),Fe(\"replaceAll\");var Ds=ae(HV),zw=ae(Ea.f(\"iterator\"));function oc(t){return oc=typeof Ds==\"function\"&&typeof zw==\"symbol\"?function(e){return typeof e}:function(e){return e&&typeof Ds==\"function\"&&e.constructor===Ds&&e!==Ds.prototype?\"symbol\":typeof e},oc(t)}var zV=ae(Ea.f(\"toPrimitive\"));function JV(t){var e=function(n,i){if(oc(n)!==\"object\"||n===null)return n;var r=n[zV];if(r!==void 0){var o=r.call(n,i||\"default\");if(oc(o)!==\"object\")return o;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return (i===\"string\"?String:Number)(n)}(t,\"string\");return oc(e)===\"symbol\"?e:String(e)}function T(t,e,n){return (e=JV(e))in t?Rw(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var XV=Se,QV=pe(\"iterator\"),rf=!XV(function(){var t=new URL(\"b?a=1&b=2&c=3\",\"http://a\"),e=t.searchParams,n=new URLSearchParams(\"a=1&a=2\"),i=\"\";return t.pathname=\"c%20d\",e.forEach(function(r,o){e.delete(\"b\"),i+=o+r;}),n.delete(\"a\",2),!t.toJSON||!n.has(\"a\",1)||n.has(\"a\",2)||!e.size&&!0||!e.sort||t.href!==\"http://a/c%20d?a=1&c=3\"||e.get(\"c\")!==\"3\"||String(new URLSearchParams(\"?a=1\"))!==\"a=1\"||!e[QV]||new URL(\"https://a@b\").username!==\"a\"||new URLSearchParams(new URLSearchParams(\"a=b\")).get(\"a\")!==\"b\"||new URL(\"http://\\u0442\\u0435\\u0441\\u0442\").host!==\"xn--e1aybc\"||new URL(\"http://a#\\u0431\").hash!==\"#%D0%B1\"||i!==\"a1c3\"||new URL(\"http://x\",void 0).host!==\"x\"}),ZV=go,mp=xt,Xs=We,vd=Ke,ur=me,Ps=ri,kS=rf,LS=go,$V=Uu,tF=function(t,e,n){for(var i in e)n&&n.unsafe&&t[i]?t[i]=e[i]:ZV(t,i,e[i],n);return t},eF=To,nF=xm,of=ns,Jw=Fm,fp=He,iF=Je,rF=mo,oF=Er,sF=Cn,Xw=Hn,bn=oi,aF=Qc,MS=_o,RE=Um,cF=Mu,ls=Vu,dF=hw,lF=pe(\"iterator\"),Cc=\"URLSearchParams\",Qw=Cc+\"Iterator\",Zw=of.set,fi=of.getterFor(Cc),uF=of.getterFor(Qw),hF=Object.getOwnPropertyDescriptor,sf=function(t){if(!Ps)return Xs[t];var e=hF(Xs,t);return e&&e.value},US=sf(\"fetch\"),Fl=sf(\"Request\"),sc=sf(\"Headers\"),gp=Fl&&Fl.prototype,xS=sc&&sc.prototype,pF=Xs.RegExp,_F=Xs.TypeError,$w=Xs.decodeURIComponent,EF=Xs.encodeURIComponent,mF=ur(\"\".charAt),VS=ur([].join),xo=ur([].push),CE=ur(\"\".replace),fF=ur([].shift),FS=ur([].splice),BS=ur(\"\".split),gF=ur(\"\".slice),TF=/\\+/g,jS=Array(4),SF=function(t){return jS[t-1]||(jS[t-1]=pF(\"((?:%[\\\\da-f]{2}){\"+t+\"})\",\"gi\"))},RF=function(t){try{return $w(t)}catch{return t}},GS=function(t){var e=CE(t,TF,\" \"),n=4;try{return $w(e)}catch{for(;n;)e=CE(e,SF(n--),RF);return e}},CF=/[!'()~]|%20/g,IF={\"!\":\"%21\",\"'\":\"%27\",\"(\":\"%28\",\")\":\"%29\",\"~\":\"%7E\",\"%20\":\"+\"},vF=function(t){return IF[t]},WS=function(t){return CE(EF(t),CF,vF)},Tp=nF(function(t,e){Zw(this,{type:Qw,iterator:RE(fi(t).entries),kind:e});},\"Iterator\",function(){var t=uF(this),e=t.kind,n=t.iterator.next(),i=n.value;return n.done||(n.value=e===\"keys\"?i.key:e===\"values\"?i.value:[i.key,i.value]),n},!0),tO=function(t){this.entries=[],this.url=null,t!==void 0&&(Xw(t)?this.parseObject(t):this.parseQuery(typeof t==\"string\"?mF(t,0)===\"?\"?gF(t,1):t:bn(t)));};tO.prototype={type:Cc,bindURL:function(t){this.url=t,this.update();},parseObject:function(t){var e,n,i,r,o,s,a,c=cF(t);if(c)for(n=(e=RE(t,c)).next;!(i=vd(n,e)).done;){if(o=(r=RE(sF(i.value))).next,(s=vd(o,r)).done||(a=vd(o,r)).done||!vd(o,r).done)throw _F(\"Expected sequence with length 2\");xo(this.entries,{key:bn(s.value),value:bn(a.value)});}else for(var d in t)iF(t,d)&&xo(this.entries,{key:d,value:bn(t[d])});},parseQuery:function(t){if(t)for(var e,n,i=BS(t,\"&\"),r=0;r<i.length;)(e=i[r++]).length&&(n=BS(e,\"=\"),xo(this.entries,{key:GS(fF(n)),value:GS(VS(n,\"=\"))}));},serialize:function(){for(var t,e=this.entries,n=[],i=0;i<e.length;)t=e[i++],xo(n,WS(t.key)+\"=\"+WS(t.value));return VS(n,\"&\")},update:function(){this.entries.length=0,this.parseQuery(this.url.query);},updateURL:function(){this.url&&this.url.update();}};var Bl=function(){Jw(this,vs);var t=Zw(this,new tO(arguments.length>0?arguments[0]:void 0));Ps||(this.size=t.entries.length);},vs=Bl.prototype;tF(vs,{append:function(t,e){var n=fi(this);ls(arguments.length,2),xo(n.entries,{key:bn(t),value:bn(e)}),Ps||this.length++,n.updateURL();},delete:function(t){for(var e=fi(this),n=ls(arguments.length,1),i=e.entries,r=bn(t),o=n<2?void 0:arguments[1],s=o===void 0?o:bn(o),a=0;a<i.length;){var c=i[a];if(c.key!==r||s!==void 0&&c.value!==s)a++;else if(FS(i,a,1),s!==void 0)break}Ps||(this.size=i.length),e.updateURL();},get:function(t){var e=fi(this).entries;ls(arguments.length,1);for(var n=bn(t),i=0;i<e.length;i++)if(e[i].key===n)return e[i].value;return null},getAll:function(t){var e=fi(this).entries;ls(arguments.length,1);for(var n=bn(t),i=[],r=0;r<e.length;r++)e[r].key===n&&xo(i,e[r].value);return i},has:function(t){for(var e=fi(this).entries,n=ls(arguments.length,1),i=bn(t),r=n<2?void 0:arguments[1],o=r===void 0?r:bn(r),s=0;s<e.length;){var a=e[s++];if(a.key===i&&(o===void 0||a.value===o))return !0}return !1},set:function(t,e){var n=fi(this);ls(arguments.length,1);for(var i,r=n.entries,o=!1,s=bn(t),a=bn(e),c=0;c<r.length;c++)(i=r[c]).key===s&&(o?FS(r,c--,1):(o=!0,i.value=a));o||xo(r,{key:s,value:a}),Ps||(this.size=r.length),n.updateURL();},sort:function(){var t=fi(this);dF(t.entries,function(e,n){return e.key>n.key?1:-1}),t.updateURL();},forEach:function(t){for(var e,n=fi(this).entries,i=rF(t,arguments.length>1?arguments[1]:void 0),r=0;r<n.length;)i((e=n[r++]).value,e.key,this);},keys:function(){return new Tp(this,\"keys\")},values:function(){return new Tp(this,\"values\")},entries:function(){return new Tp(this,\"entries\")}},{enumerable:!0}),LS(vs,lF,vs.entries,{name:\"entries\"}),LS(vs,\"toString\",function(){return fi(this).serialize()},{enumerable:!0}),Ps&&$V(vs,\"size\",{get:function(){return fi(this).entries.length},configurable:!0,enumerable:!0}),eF(Bl,Cc),mp({global:!0,constructor:!0,forced:!kS},{URLSearchParams:Bl}),!kS&&fp(sc)&&(HS=ur(xS.has),KS=ur(xS.set),Sp=function(t){if(Xw(t)){var e,n=t.body;if(oF(n)===Cc)return e=t.headers?new sc(t.headers):new sc,HS(e,\"content-type\")||KS(e,\"content-type\",\"application/x-www-form-urlencoded;charset=UTF-8\"),aF(t,{body:MS(0,bn(n)),headers:MS(0,e)})}return t},fp(US)&&mp({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return US(t,arguments.length>1?Sp(arguments[1]):{})}}),fp(Fl)&&(yd=function(t){return Jw(this,gp),new Fl(t,arguments.length>1?Sp(arguments[1]):{})},gp.constructor=yd,yd.prototype=gp,mp({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:yd})));var HS,KS,Sp,yd,yF={URLSearchParams:Bl,getState:fi},YS=ae(Gi.URLSearchParams),AF={isBrowser:!0,classes:{URLSearchParams:YS!==void 0?YS:Qm,FormData:typeof FormData<\"u\"?FormData:null,Blob:typeof Blob<\"u\"?Blob:null},protocols:[\"http\",\"https\",\"file\",\"blob\",\"url\",\"data\"]},eO=typeof window<\"u\"&&typeof document<\"u\",bF=(qS=typeof navigator<\"u\"&&navigator.product,eO&&[\"ReactNative\",\"NativeScript\",\"NS\"].indexOf(qS)<0),qS,wF=typeof WorkerGlobalScope<\"u\"&&self instanceof WorkerGlobalScope&&typeof self.importScripts==\"function\";function zS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function JS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zS(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zS(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var sr=JS(JS({},Object.freeze({__proto__:null,hasBrowserEnv:eO,hasStandardBrowserEnv:bF,hasStandardBrowserWebWorkerEnv:wF})),AF),OF=Cn,NF=Ke,DF=Je,PF=hn,kF=function(){var t=OF(this),e=\"\";return t.hasIndices&&(e+=\"d\"),t.global&&(e+=\"g\"),t.ignoreCase&&(e+=\"i\"),t.multiline&&(e+=\"m\"),t.dotAll&&(e+=\"s\"),t.unicode&&(e+=\"u\"),t.unicodeSets&&(e+=\"v\"),t.sticky&&(e+=\"y\"),e},XS=RegExp.prototype,nO=function(t){var e=t.flags;return e!==void 0||\"flags\"in XS||DF(t,\"flags\")||!PF(XS,t)?e:NF(kF,t)},LF=qm.charAt,QS=Ke,MF=Cn,UF=He,xF=pr,VF=/./.exec,FF=TypeError,BF=xt,ZS=Ke,iO=gc,jF=xm,Ad=Vm,$S=la,rO=MA,Ic=oi,GF=Cn,WF=da,HF=pr,KF=UA,oO=nO,YF=wu,qF=Se,zF=jm,JF=function(t,e,n){return e+(n?LF(t,e).length:1)},XF=function(t,e){var n=t.exec;if(UF(n)){var i=QS(n,t,e);return i!==null&&MF(i),i}if(xF(t)===\"RegExp\")return QS(VF,t,e);throw FF(\"RegExp#exec called on incompatible receiver\")},sO=ns,QF=pe(\"matchAll\"),aO=\"RegExp String\",cO=aO+\" Iterator\",ZF=sO.set,$F=sO.getterFor(cO),tB=TypeError,IE=iO(\"\".indexOf),jl=iO(\"\".matchAll),Rp=!!jl&&!qF(function(){jl(\"a\",/./);}),eB=jF(function(t,e,n,i){ZF(this,{type:cO,regexp:t,string:e,global:n,unicode:i,done:!1});},aO,function(){var t=$F(this);if(t.done)return Ad(void 0,!0);var e=t.regexp,n=t.string,i=XF(e,n);return i===null?(t.done=!0,Ad(void 0,!0)):t.global?(Ic(i[0])===\"\"&&(e.lastIndex=JF(n,rO(e.lastIndex),t.unicode)),Ad(i,!1)):(t.done=!0,Ad(i,!1))}),tR=function(t){var e,n,i,r=GF(this),o=Ic(t),s=zF(r,RegExp),a=Ic(oO(r));return e=new s(s===RegExp?r.source:r,a),n=!!~IE(a,\"g\"),i=!!~IE(a,\"u\"),e.lastIndex=rO(r.lastIndex),new eB(e,o,n,i)};BF({target:\"String\",proto:!0,forced:Rp},{matchAll:function(t){var e,n,i,r,o=$S(this);if(WF(t)){if(Rp)return jl(o,t)}else {if(KF(t)&&(e=Ic($S(oO(t))),!~IE(e,\"g\")))throw tB(\"`.matchAll` does not allow non-global regexes\");if(Rp)return jl(o,t);if((i=YF(t,QF))===void 0&&HF(t)==\"RegExp\"&&(i=tR),i)return ZS(i,t,o)}return n=Ic(o),r=new RegExp(t,\"g\"),ZS(tR,r,n)}});var nB=bi(\"String\").matchAll,iB=hn,rB=nB,Cp=String.prototype,oB=function(t){var e=t.matchAll;return typeof t==\"string\"||t===Cp||iB(Cp,t)&&e===Cp.matchAll?rB:e},sB=ae(oB);function dO(t){function e(n,i,r,o){let s=n[o++];if(s===\"__proto__\")return !0;let a=Number.isFinite(+s),c=o>=n.length;return s=!s&&K.isArray(r)?r.length:s,c?(K.hasOwnProp(r,s)?r[s]=[r[s],i]:r[s]=i,!a):(r[s]&&K.isObject(r[s])||(r[s]=[]),e(n,i,r[s],o)&&K.isArray(r[s])&&(r[s]=function(d){let l={},u=Object.keys(d),h,p=u.length,g;for(h=0;h<p;h++)g=u[h],l[g]=d[g];return l}(r[s])),!a)}if(K.isFormData(t)&&K.isFunction(t.entries)){let n={};return K.forEachEntry(t,(i,r)=>{e(function(o){return sB(K).call(K,/\\w+|\\[(\\w*)]/g,o).map(s=>s[0]===\"[]\"?\"\":s[1]||s[0])}(i),r,n,0);}),n}return null}var af={transitional:gw,adapter:[\"xhr\",\"http\"],transformRequest:[function(t,e){let n=e.getContentType()||\"\",i=n.indexOf(\"application/json\")>-1,r=K.isObject(t);if(r&&K.isHTMLForm(t)&&(t=new FormData(t)),K.isFormData(t))return i?JSON.stringify(dO(t)):t;if(K.isArrayBuffer(t)||K.isBuffer(t)||K.isStream(t)||K.isFile(t)||K.isBlob(t))return t;if(K.isArrayBufferView(t))return t.buffer;if(K.isURLSearchParams(t))return e.setContentType(\"application/x-www-form-urlencoded;charset=utf-8\",!1),t.toString();let o;if(r){if(n.indexOf(\"application/x-www-form-urlencoded\")>-1)return function(s,a){return Ul(s,new sr.classes.URLSearchParams,Object.assign({visitor:function(c,d,l,u){return sr.isNode&&K.isBuffer(c)?(this.append(d,c.toString(\"base64\")),!1):u.defaultVisitor.apply(this,arguments)}},a))}(t,this.formSerializer).toString();if((o=K.isFileList(t))||n.indexOf(\"multipart/form-data\")>-1){let s=this.env&&this.env.FormData;return Ul(o?{\"files[]\":t}:t,s&&new s,this.formSerializer)}}return r||i?(e.setContentType(\"application/json\",!1),function(s,a,c){if(K.isString(s))try{return (a||JSON.parse)(s),rn(K).call(K,s)}catch(d){if(d.name!==\"SyntaxError\")throw d}return (0, JSON.stringify)(s)}(t)):t}],transformResponse:[function(t){let e=this.transitional||af.transitional,n=e&&e.forcedJSONParsing,i=this.responseType===\"json\";if(t&&K.isString(t)&&(n&&!this.responseType||i)){let r=!(e&&e.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(o){if(r)throw o.name===\"SyntaxError\"?qt.from(o,qt.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:\"XSRF-TOKEN\",xsrfHeaderName:\"X-XSRF-TOKEN\",maxContentLength:-1,maxBodyLength:-1,env:{FormData:sr.classes.FormData,Blob:sr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:\"application/json, text/plain, */*\",\"Content-Type\":void 0}}};K.forEach([\"delete\",\"get\",\"head\",\"post\",\"put\",\"patch\"],t=>{af.headers[t]={};});var cf=af,aB=K.toObjectSet([\"age\",\"authorization\",\"content-length\",\"content-type\",\"etag\",\"expires\",\"from\",\"host\",\"if-modified-since\",\"if-unmodified-since\",\"last-modified\",\"location\",\"max-forwards\",\"proxy-authorization\",\"referer\",\"retry-after\",\"user-agent\"]),eR=Symbol(\"internals\");function Da(t){var e;return t&&rn(e=String(t)).call(e).toLowerCase()}function El(t){return t===!1||t==null?t:K.isArray(t)?t.map(El):String(t)}function Ip(t,e,n,i,r){return K.isFunction(i)?i.call(this,e,n):(r&&(e=n),K.isString(e)?K.isString(i)?e.indexOf(i)!==-1:K.isRegExp(i)?i.test(e):void 0:void 0)}var Gs=class{constructor(e){e&&this.set(e);}set(e,n,i){let r=this;function o(c,d,l){let u=Da(d);if(!u)throw new Error(\"header name must be a non-empty string\");let h=K.findKey(r,u);(!h||r[h]===void 0||l===!0||l===void 0&&r[h]!==!1)&&(r[h||d]=El(c));}let s=(c,d)=>K.forEach(c,(l,u)=>o(l,u,d));var a;return K.isPlainObject(e)||e instanceof this.constructor?s(e,n):K.isString(e)&&(e=rn(e).call(e))&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(rn(a=e).call(a))?s((c=>{let d={},l,u,h;return c&&c.split(`\n`).forEach(function(p){var g,E;h=p.indexOf(\":\"),l=rn(g=p.substring(0,h)).call(g).toLowerCase(),u=rn(E=p.substring(h+1)).call(E),!l||d[l]&&aB[l]||(l===\"set-cookie\"?d[l]?d[l].push(u):d[l]=[u]:d[l]=d[l]?d[l]+\", \"+u:u);}),d})(e),n):e!=null&&o(n,e,i),this}get(e,n){if(e=Da(e)){let i=K.findKey(this,e);if(i){let r=this[i];if(!n)return r;if(n===!0)return function(o){let s=Object.create(null),a=/([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g,c;for(;c=a.exec(o);)s[c[1]]=c[2];return s}(r);if(K.isFunction(n))return n.call(this,r,i);if(K.isRegExp(n))return n.exec(r);throw new TypeError(\"parser must be boolean|regexp|function\")}}}has(e,n){if(e=Da(e)){let i=K.findKey(this,e);return !(!i||this[i]===void 0||n&&!Ip(0,this[i],i,n))}return !1}delete(e,n){let i=this,r=!1;function o(s){if(s=Da(s)){let a=K.findKey(i,s);!a||n&&!Ip(0,i[a],a,n)||(delete i[a],r=!0);}}return K.isArray(e)?e.forEach(o):o(e),r}clear(e){let n=Object.keys(this),i=n.length,r=!1;for(;i--;){let o=n[i];e&&!Ip(0,this[o],o,e,!0)||(delete this[o],r=!0);}return r}normalize(e){let n=this,i={};return K.forEach(this,(r,o)=>{var s;let a=K.findKey(i,o);if(a)return n[a]=El(r),void delete n[o];let c=e?function(d){return rn(d).call(d).toLowerCase().replace(/([a-z\\d])(\\w*)/g,(l,u,h)=>u.toUpperCase()+h)}(o):rn(s=String(o)).call(s);c!==o&&delete n[o],n[c]=El(r),i[c]=!0;}),this}concat(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.constructor.concat(this,...n)}toJSON(e){let n=Object.create(null);return K.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=e&&K.isArray(i)?i.join(\", \"):i);}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[n,i]=e;return n+\": \"+i}).join(`\n`)}get[Symbol.toStringTag](){return \"AxiosHeaders\"}static from(e){return e instanceof this?e:new this(e)}static concat(e){let n=new this(e);for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return r.forEach(s=>n.set(s)),n}static accessor(e){let n=(this[eR]=this[eR]={accessors:{}}).accessors,i=this.prototype;function r(o){let s=Da(o);n[s]||(function(a,c){let d=K.toCamelCase(\" \"+c);[\"get\",\"set\",\"has\"].forEach(l=>{Object.defineProperty(a,l+d,{value:function(u,h,p){return this[l].call(this,c,u,h,p)},configurable:!0});});}(i,o),n[s]=!0);}return K.isArray(e)?e.forEach(r):r(e),this}};Gs.accessor([\"Content-Type\",\"Content-Length\",\"Accept\",\"Accept-Encoding\",\"User-Agent\",\"Authorization\"]),K.reduceDescriptors(Gs.prototype,(t,e)=>{let{value:n}=t,i=e[0].toUpperCase()+e.slice(1);return {get:()=>n,set(r){this[i]=r;}}}),K.freezeMethods(Gs);var Dr=Gs;function vp(t,e){let n=this||cf,i=e||n,r=Dr.from(i.headers),o=i.data;return K.forEach(t,function(s){o=s.call(n,o,r.normalize(),e?e.status:void 0);}),r.normalize(),o}function lO(t){return !(!t||!t.__CANCEL__)}function od(t,e,n){qt.call(this,t??\"canceled\",qt.ERR_CANCELED,e,n),this.name=\"CanceledError\";}K.inherits(od,qt,{__CANCEL__:!0});var cB=sr.hasStandardBrowserEnv?{write(t,e,n,i,r,o){let s=[t+\"=\"+encodeURIComponent(e)];K.isNumber(n)&&s.push(\"expires=\"+new Date(n).toGMTString()),K.isString(i)&&s.push(\"path=\"+i),K.isString(r)&&s.push(\"domain=\"+r),o===!0&&s.push(\"secure\"),document.cookie=s.join(\"; \");},read(t){let e=document.cookie.match(new RegExp(\"(^|;\\\\s*)(\"+t+\")=([^;]*)\"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,\"\",Date.now()-864e5);}}:{write(){},read:()=>null,remove(){}};function uO(t,e){return t&&!function(n){return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(n)}(e)?function(n,i){return i?n.replace(/\\/?\\/$/,\"\")+\"/\"+i.replace(/^\\/+/,\"\"):n}(t,e):e}var dB=sr.hasStandardBrowserEnv?function(){let t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement(\"a\"),n;function i(r){let o=r;return t&&(e.setAttribute(\"href\",o),o=e.href),e.setAttribute(\"href\",o),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,\"\"):\"\",host:e.host,search:e.search?e.search.replace(/^\\?/,\"\"):\"\",hash:e.hash?e.hash.replace(/^#/,\"\"):\"\",hostname:e.hostname,port:e.port,pathname:e.pathname.charAt(0)===\"/\"?e.pathname:\"/\"+e.pathname}}return n=i(window.location.href),function(r){let o=K.isString(r)?i(r):r;return o.protocol===n.protocol&&o.host===n.host}}():function(){return !0};function nR(t,e){let n=0,i=function(r,o){r=r||10;let s=new Array(r),a=new Array(r),c,d=0,l=0;return o=o!==void 0?o:1e3,function(u){let h=Date.now(),p=a[l];c||(c=h),s[d]=u,a[d]=h;let g=l,E=0;for(;g!==d;)E+=s[g++],g%=r;if(d=(d+1)%r,d===l&&(l=(l+1)%r),h-c<o)return;let f=p&&h-p;return f?Math.round(1e3*E/f):void 0}}(50,250);return r=>{let o=r.loaded,s=r.lengthComputable?r.total:void 0,a=o-n,c=i(a);n=o;let d={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:c||void 0,estimated:c&&s&&o<=s?(s-o)/c:void 0,event:r};d[e?\"download\":\"upload\"]=!0,t(d);}}var lB=typeof XMLHttpRequest<\"u\"&&function(t){return new j(function(e,n){let i=t.data,r=Dr.from(t.headers).normalize(),o,s,{responseType:a,withXSRFToken:c}=t;function d(){t.cancelToken&&t.cancelToken.unsubscribe(o),t.signal&&t.signal.removeEventListener(\"abort\",o);}if(K.isFormData(i)){if(sr.hasStandardBrowserEnv||sr.hasStandardBrowserWebWorkerEnv)r.setContentType(!1);else if((s=r.getContentType())!==!1){let[g,...E]=s?s.split(\";\").map(f=>rn(f).call(f)).filter(Boolean):[];r.setContentType([g||\"multipart/form-data\",...E].join(\"; \"));}}let l=new XMLHttpRequest;if(t.auth){let g=t.auth.username||\"\",E=t.auth.password?unescape(encodeURIComponent(t.auth.password)):\"\";r.set(\"Authorization\",\"Basic \"+btoa(g+\":\"+E));}let u=uO(t.baseURL,t.url);function h(){if(!l)return;let g=Dr.from(\"getAllResponseHeaders\"in l&&l.getAllResponseHeaders());((function(E,f,S){let C=S.config.validateStatus;S.status&&C&&!C(S.status)?f(new qt(\"Request failed with status code \"+S.status,[qt.ERR_BAD_REQUEST,qt.ERR_BAD_RESPONSE][Math.floor(S.status/100)-4],S.config,S.request,S)):E(S);}))(function(E){e(E),d();},function(E){n(E),d();},{data:a&&a!==\"text\"&&a!==\"json\"?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:g,config:t,request:l}),l=null;}if(l.open(t.method.toUpperCase(),fw(u,t.params,t.paramsSerializer),!0),l.timeout=t.timeout,\"onloadend\"in l?l.onloadend=h:l.onreadystatechange=function(){l&&l.readyState===4&&(l.status!==0||l.responseURL&&l.responseURL.indexOf(\"file:\")===0)&&setTimeout(h);},l.onabort=function(){l&&(n(new qt(\"Request aborted\",qt.ECONNABORTED,t,l)),l=null);},l.onerror=function(){n(new qt(\"Network Error\",qt.ERR_NETWORK,t,l)),l=null;},l.ontimeout=function(){let g=t.timeout?\"timeout of \"+t.timeout+\"ms exceeded\":\"timeout exceeded\",E=t.transitional||gw;t.timeoutErrorMessage&&(g=t.timeoutErrorMessage),n(new qt(g,E.clarifyTimeoutError?qt.ETIMEDOUT:qt.ECONNABORTED,t,l)),l=null;},sr.hasStandardBrowserEnv&&(c&&K.isFunction(c)&&(c=c(t)),c||c!==!1&&dB(u))){let g=t.xsrfHeaderName&&t.xsrfCookieName&&cB.read(t.xsrfCookieName);g&&r.set(t.xsrfHeaderName,g);}i===void 0&&r.setContentType(null),\"setRequestHeader\"in l&&K.forEach(r.toJSON(),function(g,E){l.setRequestHeader(E,g);}),K.isUndefined(t.withCredentials)||(l.withCredentials=!!t.withCredentials),a&&a!==\"json\"&&(l.responseType=t.responseType),typeof t.onDownloadProgress==\"function\"&&l.addEventListener(\"progress\",nR(t.onDownloadProgress,!0)),typeof t.onUploadProgress==\"function\"&&l.upload&&l.upload.addEventListener(\"progress\",nR(t.onUploadProgress)),(t.cancelToken||t.signal)&&(o=g=>{l&&(n(!g||g.type?new od(null,t,l):g),l.abort(),l=null);},t.cancelToken&&t.cancelToken.subscribe(o),t.signal&&(t.signal.aborted?o():t.signal.addEventListener(\"abort\",o)));let p=function(g){let E=/^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(g);return E&&E[1]||\"\"}(u);p&&sr.protocols.indexOf(p)===-1?n(new qt(\"Unsupported protocol \"+p+\":\",qt.ERR_BAD_REQUEST,t)):l.send(i||null);})},vE={http:null,xhr:lB};K.forEach(vE,(t,e)=>{if(t){try{Object.defineProperty(t,\"name\",{value:e});}catch{}Object.defineProperty(t,\"adapterName\",{value:e});}});var iR=t=>\"- \".concat(t),uB=t=>K.isFunction(t)||t===null||t===!1,hO={getAdapter:t=>{t=K.isArray(t)?t:[t];let{length:e}=t,n,i,r={};for(let o=0;o<e;o++){let s;if(n=t[o],i=n,!uB(n)&&(i=vE[(s=String(n)).toLowerCase()],i===void 0))throw new qt(\"Unknown adapter '\".concat(s,\"'\"));if(i)break;r[s||\"#\"+o]=i;}if(!i){let o=Object.entries(r).map(s=>{let[a,c]=s;return \"adapter \".concat(a,\" \")+(c===!1?\"is not supported by the environment\":\"is not available in the build\")});throw new qt(\"There is no suitable adapter to dispatch the request \"+(e?o.length>1?`since :\n`+o.map(iR).join(`\n`):\" \"+iR(o[0]):\"as no adapter specified\"),\"ERR_NOT_SUPPORT\")}return i},adapters:vE};function yp(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new od(null,t)}function rR(t){return yp(t),t.headers=Dr.from(t.headers),t.data=vp.call(t,t.transformRequest),[\"post\",\"put\",\"patch\"].indexOf(t.method)!==-1&&t.headers.setContentType(\"application/x-www-form-urlencoded\",!1),hO.getAdapter(t.adapter||cf.adapter)(t).then(function(e){return yp(t),e.data=vp.call(t,t.transformResponse,e),e.headers=Dr.from(e.headers),e},function(e){return lO(e)||(yp(t),e&&e.response&&(e.response.data=vp.call(t,t.transformResponse,e.response),e.response.headers=Dr.from(e.response.headers))),j.reject(e)})}function oR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}var sR=t=>t instanceof Dr?function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?oR(Object(i),!0).forEach(function(r){T(e,r,i[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):oR(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r));});}return e}({},t):t;function Qs(t,e){e=e||{};let n={};function i(d,l,u){return K.isPlainObject(d)&&K.isPlainObject(l)?K.merge.call({caseless:u},d,l):K.isPlainObject(l)?K.merge({},l):K.isArray(l)?l.slice():l}function r(d,l,u){return K.isUndefined(l)?K.isUndefined(d)?void 0:i(void 0,d,u):i(d,l,u)}function o(d,l){if(!K.isUndefined(l))return i(void 0,l)}function s(d,l){return K.isUndefined(l)?K.isUndefined(d)?void 0:i(void 0,d):i(void 0,l)}function a(d,l,u){return u in e?i(d,l):u in t?i(void 0,d):void 0}let c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(d,l)=>r(sR(d),sR(l),!0)};return K.forEach(Object.keys(Object.assign({},t,e)),function(d){let l=c[d]||r,u=l(t[d],e[d],d);K.isUndefined(u)&&l!==a||(n[d]=u);}),n}var pO=\"1.6.8\",df={};[\"object\",\"boolean\",\"number\",\"function\",\"string\",\"symbol\"].forEach((t,e)=>{df[t]=function(n){return typeof n===t||\"a\"+(e<1?\"n \":\" \")+t};});var aR={};df.transitional=function(t,e,n){function i(r,o){return \"[Axios v\"+pO+\"] Transitional option '\"+r+\"'\"+o+(n?\". \"+n:\"\")}return (r,o,s)=>{if(t===!1)throw new qt(i(o,\" has been removed\"+(e?\" in \"+e:\"\")),qt.ERR_DEPRECATED);return e&&!aR[o]&&(aR[o]=!0,console.warn(i(o,\" has been deprecated since v\"+e+\" and will be removed in the near future\"))),!t||t(r,o,s)}};var yE={assertOptions:function(t,e,n){if(typeof t!=\"object\")throw new qt(\"options must be an object\",qt.ERR_BAD_OPTION_VALUE);let i=Object.keys(t),r=i.length;for(;r-- >0;){let o=i[r],s=e[o];if(s){let a=t[o],c=a===void 0||s(a,o,t);if(c!==!0)throw new qt(\"option \"+o+\" must be \"+c,qt.ERR_BAD_OPTION_VALUE)}else if(n!==!0)throw new qt(\"Unknown option \"+o,qt.ERR_BAD_OPTION)}},validators:df},Fr=yE.validators,ml=class{constructor(t){this.defaults=t,this.interceptors={request:new ZT,response:new ZT};}async request(t,e){try{return await this._request(t,e)}catch(n){if(n instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;let r=i.stack?i.stack.replace(/^.+\\n/,\"\"):\"\";n.stack?r&&!String(n.stack).endsWith(r.replace(/^.+\\n.+\\n/,\"\"))&&(n.stack+=`\n`+r):n.stack=r;}throw n}}_request(t,e){typeof t==\"string\"?(e=e||{}).url=t:e=t||{},e=Qs(this.defaults,e);let{transitional:n,paramsSerializer:i,headers:r}=e;n!==void 0&&yE.assertOptions(n,{silentJSONParsing:Fr.transitional(Fr.boolean),forcedJSONParsing:Fr.transitional(Fr.boolean),clarifyTimeoutError:Fr.transitional(Fr.boolean)},!1),i!=null&&(K.isFunction(i)?e.paramsSerializer={serialize:i}:yE.assertOptions(i,{encode:Fr.function,serialize:Fr.function},!0)),e.method=(e.method||this.defaults.method||\"get\").toLowerCase();let o=r&&K.merge(r.common,r[e.method]);r&&K.forEach([\"delete\",\"get\",\"head\",\"post\",\"put\",\"patch\",\"common\"],p=>{delete r[p];}),e.headers=Dr.concat(o,r);let s=[],a=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen==\"function\"&&p.runWhen(e)===!1||(a=a&&p.synchronous,s.unshift(p.fulfilled,p.rejected));});let c=[],d;this.interceptors.response.forEach(function(p){c.push(p.fulfilled,p.rejected);});let l,u=0;if(!a){let p=[rR.bind(this),void 0];for(p.unshift.apply(p,s),p.push.apply(p,c),l=p.length,d=j.resolve(e);u<l;)d=d.then(p[u++],p[u++]);return d}l=s.length;let h=e;for(u=0;u<l;){let p=s[u++],g=s[u++];try{h=p(h);}catch(E){g.call(this,E);break}}try{d=rR.call(this,h);}catch(p){return j.reject(p)}for(u=0,l=c.length;u<l;)d=d.then(c[u++],c[u++]);return d}getUri(t){return fw(uO((t=Qs(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}};K.forEach([\"delete\",\"get\",\"head\",\"options\"],function(t){ml.prototype[t]=function(e,n){return this.request(Qs(n||{},{method:t,url:e,data:(n||{}).data}))};}),K.forEach([\"post\",\"put\",\"patch\"],function(t){function e(n){return function(i,r,o){return this.request(Qs(o||{},{method:t,headers:n?{\"Content-Type\":\"multipart/form-data\"}:{},url:i,data:r}))}}ml.prototype[t]=e(),ml.prototype[t+\"Form\"]=e(!0);});var fl=ml,AE=class t{constructor(e){if(typeof e!=\"function\")throw new TypeError(\"executor must be a function.\");let n;this.promise=new j(function(r){n=r;});let i=this;this.promise.then(r=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](r);i._listeners=null;}),this.promise.then=r=>{let o,s=new j(a=>{i.subscribe(a),o=a;}).then(r);return s.cancel=function(){i.unsubscribe(o);},s},e(function(r,o,s){i.reason||(i.reason=new od(r,o,s),n(i.reason));});}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e];}unsubscribe(e){if(!this._listeners)return;let n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1);}static source(){let e;return {token:new t(function(n){e=n;}),cancel:e}}},hB=AE,bE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(bE).forEach(t=>{let[e,n]=t;bE[n]=e;});var pB=bE,Xe=function t(e){let n=new fl(e),i=_w(fl.prototype.request,n);return K.extend(i,fl.prototype,n,{allOwnKeys:!0}),K.extend(i,n,null,{allOwnKeys:!0}),i.create=function(r){return t(Qs(e,r))},i}(cf);Xe.Axios=fl,Xe.CanceledError=od,Xe.CancelToken=hB,Xe.isCancel=lO,Xe.VERSION=pO,Xe.toFormData=Ul,Xe.AxiosError=qt,Xe.Cancel=Xe.CanceledError,Xe.all=function(t){return j.all(t)},Xe.spread=function(t){return function(e){return t.apply(null,e)}},Xe.isAxiosError=function(t){return K.isObject(t)&&t.isAxiosError===!0},Xe.mergeConfig=Qs,Xe.AxiosHeaders=Dr,Xe.formToJSON=t=>dO(K.isHTMLForm(t)?new FormData(t):t),Xe.getAdapter=hO.getAdapter,Xe.HttpStatusCode=pB,Xe.default=Xe;var mn=Xe,_B=()=>{};function vc(){let t={promise:void 0,isResolved:!1,isRejected:!1,isFinished:!1,resolve:void 0,reject:void 0,cancel:_B};return t.promise=new j((e,n)=>{t.resolve=i=>{t.isFinished||(t.isResolved=!0,t.isFinished=!0,e(i),t.value=i);},t.reject=i=>{t.isFinished||(t.isRejected=!0,t.isFinished=!0,n(i));};}),t}var bd=new Map,wd=new Map,Yi=new Map,ye=function(t){return t.WIN_10=\"Windows 10\",t.WIN_81=\"Windows 8.1\",t.WIN_8=\"Windows 8\",t.WIN_7=\"Windows 7\",t.WIN_VISTA=\"Windows Vista\",t.WIN_SERVER_2003=\"Windows Server 2003\",t.WIN_XP=\"Windows XP\",t.WIN_2000=\"Windows 2000\",t.ANDROID=\"Android\",t.HARMONY_OS=\"HarmonyOS\",t.OPEN_BSD=\"Open BSD\",t.SUN_OS=\"Sun OS\",t.LINUX=\"Linux\",t.IOS=\"iOS\",t.MAC_OS=\"Mac OS\",t.CHROMIUM_OS=\"Chromium OS\",t.QNX=\"QNX\",t.UNIX=\"UNIX\",t.BEOS=\"BeOS\",t.OS_2=\"OS/2\",t.SEARCH_BOT=\"Search Bot\",t}({}),It=function(t){return t.CHROME=\"Chrome\",t.SAFARI=\"Safari\",t.EDGE=\"Edge\",t.FIREFOX=\"Firefox\",t.OPERA=\"OPR\",t.QQ=\"QQBrowser\",t.WECHAT=\"MicroMessenger\",t}({}),wE=new W2,Vi=wE.getResult(),Ap=null;function mt(t){if(!Ap){Vi=wE.getResult();let e=function(a){if(a.engine.name===\"Blink\"&&a.browser.name!==\"WeChat\")return It.CHROME;switch(a.browser.name){case\"Chrome Headless\":case\"Chrome\":case\"Chromium\":return It.CHROME;case\"Safari\":case\"Mobile Safari\":return It.SAFARI;case\"Edge\":return It.EDGE;case\"Firefox\":return It.FIREFOX;case\"QQ\":case\"QQBrowser\":return It.QQ;case\"Opera\":return It.OPERA;case\"WeChat\":return It.WECHAT;default:return a.browser.name||\"\"}}(Vi),n=cR(Vi),i=function(a){return a.os.name===\"Windows\"?a.os.version?a.os.name+\" \"+a.os.version:a.os.name:a.os.name||\"\"}(Vi),r=Vi.os.version,o=cR(Vi,!1),s=Vi.device.type;if(!(e&&n&&i&&r))return {name:e,version:n,os:i,osVersion:r,browserVersion:o,deviceType:s};Ap={name:e,version:n,os:i,osVersion:r,browserVersion:o,deviceType:s};}return Ap}function cR(t){let e,n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return e=t.engine.name===\"Blink\"?t.engine.version||\"\":t.browser.version||\"\",n?e.split(\".\")[0]:e}function Hu(){return mt().os}function dR(){let t=mt();return \"\".concat(t.os,\" \").concat(t.osVersion)}function Gl(){let t=mt();return !!(Vi.engine.name===\"WebKit\"&&t.os===ye.MAC_OS&&navigator.maxTouchPoints&&navigator.maxTouchPoints>0&&t.name!==It.SAFARI||ln()&&t.name!==It.SAFARI)}function oo(){return mt().name===It.CHROME}function je(){return mt().name===It.SAFARI}function _O(){return mt().name===It.EDGE}function $t(){return mt().name===It.FIREFOX}function ln(){return mt().os===ye.IOS}function OE(t){let e=mt();return !(e.name!==It.CHROME||!e.osVersion)&&Number(e.version)>=t}function EO(t){let e=mt();return !(e.name!==It.CHROME||!e.osVersion)&&Number(e.version)<t}function lR(t){let e=mt();return !(e.name!==It.EDGE||!e.osVersion)&&Number(e.version)>=t}function mO(t){let e=mt();return !(e.name!==It.SAFARI||!e.osVersion)&&Number(e.version)>=t}function fO(t,e,n){let i=mt();if(i.os!==ye.IOS||!i.osVersion)return !1;let r=i.osVersion.split(\".\");return e&&Number(r[0])===t&&Number(r[1])<e||Number(r[0])<t}function gO(t,e,n){let i=mt();if(i.name!==It.SAFARI||!i.osVersion||!i.browserVersion)return !1;let r=i.browserVersion.split(\".\");return e&&Number(r[0])===t&&Number(r[1])<e||Number(r[0])<t}function uR(t){let e=mt();return !(e.name!==It.OPERA||!e.osVersion)&&Number(e.version)>=t}function hR(){let t=mt();if(t.os!==ye.IOS||!t.osVersion)return !1;let e=t.osVersion.split(\".\");return Number(e[0])<14||Number(e[0])===14&&Number(e[1])<=6}function Zs(){let t=mt();if(t.os!==ye.IOS||!t.osVersion)return !1;let e=t.osVersion.split(\".\");return Number(e[0])===15}function NE(){let t=mt();if(t.os!==ye.IOS||!t.osVersion)return !1;let e=t.osVersion.split(\".\");return Number(e[0])===16}function pR(){let t=mt();if(t.os!==ye.IOS||!t.osVersion)return !1;let e=t.osVersion.split(\".\");return Number(e[0])===15&&Number(e[1])>=1}function vi(){return je()&&navigator.maxTouchPoints>0}function TO(){return mt().name===It.WECHAT}function SO(){return window.navigator.appVersion&&window.navigator.appVersion.match(/Chrome\\/([\\w\\W]*?)\\./)!==null&&window.navigator.appVersion.match(/Chrome\\/([\\w\\W]*?)\\./)[1]<=35}function lf(){let t=Hu();return function(){let{deviceType:e}=mt();return e===\"mobile\"||e===\"tablet\"}()||t===ye.ANDROID||t===ye.IOS||t===ye.HARMONY_OS}function ho(){let t=mt();return t.name!==It.EDGE&&t.name!==It.SAFARI&&!!navigator.userAgent.toLocaleLowerCase().match(/chrome\\/[\\d]./i)}function Ku(){return Hu()===ye.ANDROID}function yc(){let t=mt();return Ku()&&(t.name===It.CHROME||t.name===It.WECHAT||/chrome|chromium/i.test(navigator.userAgent))}function jt(t,e,n){return (e=function(i){var r=function(o,s){if(typeof o!=\"object\"||!o)return o;var a=o[Symbol.toPrimitive];if(a!==void 0){var c=a.call(o,\"string\");if(typeof c!=\"object\")return c;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(o)}(i);return typeof r==\"symbol\"?r:r+\"\"}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function J(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(n),!0).forEach(function(i){jt(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var R=function(t){return t.UNEXPECTED_ERROR=\"UNEXPECTED_ERROR\",t.UNEXPECTED_RESPONSE=\"UNEXPECTED_RESPONSE\",t.TIMEOUT=\"TIMEOUT\",t.INVALID_PARAMS=\"INVALID_PARAMS\",t.NOT_READABLE=\"NOT_READABLE\",t.NOT_SUPPORTED=\"NOT_SUPPORTED\",t.INVALID_OPERATION=\"INVALID_OPERATION\",t.OPERATION_ABORTED=\"OPERATION_ABORTED\",t.WEB_SECURITY_RESTRICT=\"WEB_SECURITY_RESTRICT\",t.EXCHANGE_SDP_FAILED=\"EXCHANGE_SDP_FAILED\",t.ADD_CANDIDATE_FAILED=\"ADD_CANDIDATE_FAILED\",t.DATACHANNEL_FAILED=\"DATACHANNEL_FAILED\",t.NETWORK_ERROR=\"NETWORK_ERROR\",t.NETWORK_TIMEOUT=\"NETWORK_TIMEOUT\",t.NETWORK_RESPONSE_ERROR=\"NETWORK_RESPONSE_ERROR\",t.API_INVOKE_TIMEOUT=\"API_INVOKE_TIMEOUT\",t.ENUMERATE_DEVICES_FAILED=\"ENUMERATE_DEVICES_FAILED\",t.DEVICE_NOT_FOUND=\"DEVICE_NOT_FOUND\",t.ELECTRON_IS_NULL=\"ELECTRON_IS_NULL\",t.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR=\"ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR\",t.CHROME_PLUGIN_NO_RESPONSE=\"CHROME_PLUGIN_NO_RESPONSE\",t.CHROME_PLUGIN_NOT_INSTALL=\"CHROME_PLUGIN_NOT_INSTALL\",t.MEDIA_OPTION_INVALID=\"MEDIA_OPTION_INVALID\",t.PERMISSION_DENIED=\"PERMISSION_DENIED\",t.CONSTRAINT_NOT_SATISFIED=\"CONSTRAINT_NOT_SATISFIED\",t.TRACK_IS_DISABLED=\"TRACK_IS_DISABLED\",t.GET_VIDEO_ELEMENT_VISIBLE_ERROR=\"GET_VIDEO_ELEMENT_VISIBLE_ERROR\",t.SHARE_AUDIO_NOT_ALLOWED=\"SHARE_AUDIO_NOT_ALLOWED\",t.LOW_STREAM_ENCODING_ERROR=\"LOW_STREAM_ENCODING_ERROR\",t.SET_ENCODING_PARAMETER_ERROR=\"SET_ENCODING_PARAMETER_ERROR\",t.TRACK_STATE_UNREACHABLE=\"TRACK_STATE_UNREACHABLE\",t.INVALID_UINT_UID_FROM_STRING_UID=\"INVALID_UINT_UID_FROM_STRING_UID\",t.CAN_NOT_GET_PROXY_SERVER=\"CAN_NOT_GET_PROXY_SERVER\",t.CAN_NOT_GET_GATEWAY_SERVER=\"CAN_NOT_GET_GATEWAY_SERVER\",t.VOID_GATEWAY_ADDRESS=\"VOID_GATEWAY_ADDRESS\",t.UID_CONFLICT=\"UID_CONFLICT\",t.MULTI_UNILBS_RESPONSE_ERROR=\"MULTI_UNILBS_RESPONSE_ERROR\",t.UPDATE_TICKET_FAILED=\"UPDATE_TICKET_FAILED\",t.INVALID_LOCAL_TRACK=\"INVALID_LOCAL_TRACK\",t.INVALID_TRACK=\"INVALID_TRACK\",t.SENDER_NOT_FOUND=\"SENDER_NOT_FOUND\",t.CREATE_OFFER_FAILED=\"CREATE_OFFER_FAILED\",t.SET_ANSWER_FAILED=\"SET_ANSWER_FAILED\",t.ICE_FAILED=\"ICE_FAILED\",t.PC_CLOSED=\"PC_CLOSED\",t.SENDER_REPLACE_FAILED=\"SENDER_REPLACE_FAILED\",t.GET_LOCAL_CAPABILITIES_FAILED=\"GET_LOCAL_CAPABILITIES_FAILED\",t.GET_LOCAL_CONNECTION_PARAMS_FAILED=\"GET_LOCAL_CONNECTION_PARAMS_FAILED\",t.SUBSCRIBE_FAILED=\"SUBSCRIBE_FAILED\",t.UNSUBSCRIBE_FAILED=\"UNSUBSCRIBE_FAILED\",t.GATEWAY_P2P_LOST=\"GATEWAY_P2P_LOST\",t.NO_ICE_CANDIDATE=\"NO_ICE_CANDIDATE\",t.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS=\"CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS\",t.EXIST_DISABLED_VIDEO_TRACK=\"EXIST_DISABLED_VIDEO_TRACK\",t.INVALID_REMOTE_USER=\"INVALID_REMOTE_USER\",t.REMOTE_USER_IS_NOT_PUBLISHED=\"REMOTE_USER_IS_NOT_PUBLISHED\",t.CUSTOM_REPORT_SEND_FAILED=\"CUSTOM_REPORT_SEND_FAILED\",t.CUSTOM_REPORT_FREQUENCY_TOO_HIGH=\"CUSTOM_REPORT_FREQUENCY_TOO_HIGH\",t.FETCH_AUDIO_FILE_FAILED=\"FETCH_AUDIO_FILE_FAILED\",t.READ_LOCAL_AUDIO_FILE_ERROR=\"READ_LOCAL_AUDIO_FILE_ERROR\",t.DECODE_AUDIO_FILE_FAILED=\"DECODE_AUDIO_FILE_FAILED\",t.WS_ABORT=\"WS_ABORT\",t.WS_DISCONNECT=\"WS_DISCONNECT\",t.WS_ERR=\"WS_ERR\",t.EXTERNAL_SIGNAL_ABORT=\"EXTERNAL_SIGNAL_ABORT\",t.LIVE_STREAMING_TASK_CONFLICT=\"LIVE_STREAMING_TASK_CONFLICT\",t.LIVE_STREAMING_INVALID_ARGUMENT=\"LIVE_STREAMING_INVALID_ARGUMENT\",t.LIVE_STREAMING_INTERNAL_SERVER_ERROR=\"LIVE_STREAMING_INTERNAL_SERVER_ERROR\",t.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED=\"LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED\",t.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED=\"LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED\",t.LIVE_STREAMING_CDN_ERROR=\"LIVE_STREAMING_CDN_ERROR\",t.LIVE_STREAMING_INVALID_RAW_STREAM=\"LIVE_STREAMING_INVALID_RAW_STREAM\",t.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT=\"LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT\",t.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE=\"LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE\",t.LIVE_STREAMING_WARN_FREQUENT_REQUEST=\"LIVE_STREAMING_WARN_FREQUENT_REQUEST\",t.WEBGL_INTERNAL_ERROR=\"WEBGL_INTERNAL_ERROR\",t.BEAUTY_PROCESSOR_INTERNAL_ERROR=\"BEAUTY_PROCESSOR_INTERNAL_ERROR\",t.CROSS_CHANNEL_WAIT_STATUS_ERROR=\"CROSS_CHANNEL_WAIT_STATUS_ERROR\",t.CROSS_CHANNEL_FAILED_JOIN_SRC=\"CROSS_CHANNEL_FAILED_JOIN_SEC\",t.CROSS_CHANNEL_FAILED_JOIN_DEST=\"CROSS_CHANNEL_FAILED_JOIN_DEST\",t.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST=\"CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST\",t.CROSS_CHANNEL_SERVER_ERROR_RESPONSE=\"CROSS_CHANNEL_SERVER_ERROR_RESPONSE\",t.METADATA_OUT_OF_RANGE=\"METADATA_OUT_OF_RANGE\",t.LOCAL_AEC_ERROR=\"LOCAL_AEC_ERROR\",t.INVALID_PLUGIN=\"INVALID_PLUGIN\",t.DISCONNECT_P2P=\"DISCONNECT_P2P\",t.CONVERTING_IMAGEDATA_TO_BLOB_FAILED=\"CONVERTING_IMAGEDATA_TO_BLOB_FAILED\",t.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED=\"CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED\",t.INIT_DATACHANNEL_TIMEOUT=\"INIT_DATACHANNEL_TIMEOUT\",t.CREATE_DATACHANNEL_ERROR=\"CREATE_DATACHANNEL_ERROR\",t.DATACHANNEL_CONNECTION_TIMEOUT=\"DATACHANNEL_CONNECTION_TIMEOUT\",t.PROHIBITED_OPERATION=\"PROHIBITED_OPERATION\",t.IMAGE_MODERATION_UPLOAD_FAILED=\"IMAGE_MODERATION_UPLOAD_FAILED\",t.P2P_MESSAGE_FAILED=\"P2P_MESSAGE_FAILED\",t}({}),N=class extends Error{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:\"\",n=arguments.length>2?arguments[2]:void 0;super(e),jt(this,\"code\",void 0),jt(this,\"message\",void 0),jt(this,\"data\",void 0),jt(this,\"name\",\"AgoraRTCException\"),this.code=t,this.message=\"AgoraRTCError \".concat(this.code,\": \").concat(e),this.data=n;}toString(){return this.data?\"data: \".concat(JSON.stringify(this.data),`\n`).concat(this.stack):\"\".concat(this.stack)}print(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:\"error\",e=arguments.length>1?arguments[1]:void 0;return t===\"error\"&&(e||console).error(this.toString()),t===\"warning\"&&(e||console).warn(this.toString()),this}throw(t){throw this.print(\"error\",t),this}};function Nr(t,e){if(typeof t!=\"boolean\")throw new N(R.INVALID_PARAMS,\"Invalid \".concat(e,\": The value is of the boolean type.\"))}function Ce(t,e,n){if(!W(n).call(n,t))throw new N(R.INVALID_PARAMS,\"\".concat(e,\" can only be set as \").concat(JSON.stringify(n)))}function Nt(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1e4;if(t<n||t>i||(!(arguments.length>4&&arguments[4]!==void 0)||arguments[4])&&!function(r){return typeof r==\"number\"&&r%1==0}(t))throw new N(R.INVALID_PARAMS,\"invalid \".concat(e,\": the value range is [\").concat(n,\", \").concat(i,\"]. integer only\"))}function bp(t,e){if(typeof t!=\"number\"){if(!(t.min||t.max||t.ideal||t.exact))throw new N(R.INVALID_PARAMS,\"\".concat(e,\" is not a valid ConstrainLong\"));t.min!==void 0&&Nt(t.min,\"\".concat(e,\".min\"),0,1/0),t.max!==void 0&&Nt(t.max,\"\".concat(e,\".max\"),1,1/0),t.exact!==void 0&&Nt(t.exact,\"\".concat(e,\".exact\"),1,1/0),t.ideal!==void 0&&Nt(t.ideal,\"\".concat(e,\".ideal\"),1,1/0);}else Nt(t,e,1,1/0);}function Pe(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:255,r=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(t==null)throw new N(R.INVALID_PARAMS,\"\".concat(e||\"param\",\" cannot be empty\"));if(!RO(t,n,i,r))throw new N(R.INVALID_PARAMS,\"Invalid \".concat(e||\"string param\",\": Length of the string: [\").concat(n,\",\").concat(i,\"].\").concat(r?\" ASCII characters only.\":\"\"))}function br(t,e){if(!Array.isArray(t))throw new N(R.INVALID_PARAMS,\"\".concat(e,\" should be an array\"))}function zt(t){return t==null}function RO(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:255,i=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];return typeof t==\"string\"&&t.length<=n&&t.length>=e&&(!i||function(r){if(typeof r!=\"string\")return !1;for(let o=0;o<r.length;o+=1){let s=r.charCodeAt(o);if(s<0||s>255)return !1}return !0}(t))}var Ka=function(t){return t.COVERED=\"COVERED\",t.POSITION=\"POSITION\",t.SIZE=\"SIZE\",t.STYLE=\"STYLE\",t}(Ka||{}),DE=function(t){return t.UNMOUNTED=\"UNMOUNTED\",t.INVALID_HTML_ELEMENT=\"INVALID_HTML_ELEMENT\",t}(DE||{}),CO=new class{constructor(){jt(this,\"_clientSize\",null),jt(this,\"getClientWidth\",()=>document.documentElement?document.documentElement.clientWidth:document.body.clientWidth),jt(this,\"getClientHeight\",()=>document.documentElement?document.documentElement.clientHeight:document.body.clientHeight),jt(this,\"getStyle\",t=>window.getComputedStyle(t,null)),jt(this,\"checkCssVisibleProperty\",t=>{var e;let n=!0,i=this.getStyle(t),{display:r,visibility:o,opacity:s,filter:a}=i;return (r===\"none\"||W(e=[\"hidden\",\"collapse\"]).call(e,o)||Number(s)<.1)&&(n=!1),!!n&&(a&&a.split(\" \").filter(c=>{var d;let l=c.split(\"(\")[0];return W(d=[\"brightness\",\"blur\",\"opacity\"]).call(d,l)}).map(c=>{let[d,l]=c.split(/\\(|\\)/);return [d,Number(l.match(/^[0-9\\.]+/))]}).forEach(c=>{let[d,l]=c;switch(d){case\"brightness\":(l<.1||l>3)&&(n=!1);break;case\"blur\":l>3&&(n=!1);break;case\"opacity\":l<.1&&(n=!1);}}),n)}),jt(this,\"checkPropertyUpToAllParentNodes\",(t,e)=>{let n=!0,i=!0,r=s=>e(s),o=t;for(;o&&i;)r(o)||(n=!1,i=!1),o=o.parentElement,o||(i=!1);return n}),jt(this,\"checkActualCssVisibleIncludeInherit\",t=>this.checkPropertyUpToAllParentNodes(t,this.checkCssVisibleProperty)),jt(this,\"getSizeAboutClient\",t=>{let{width:e,height:n,left:i,right:r,top:o,bottom:s}=t.getBoundingClientRect(),a=this.getClientWidth(),c=this.getClientHeight();return {width:e,height:n,left:i,right:r,top:o,bottom:s,clientWidth:a,clientHeight:c,clientMin:Math.min(a,c)}}),jt(this,\"checkActualSize\",()=>{let{width:t,height:e,clientMin:n}=this._clientSize;return this.checkSizeIsVisible(t,e,n)}),jt(this,\"elementFromPoint\",(t,e)=>document.elementFromPoint?document.elementFromPoint(t,e):null),jt(this,\"checkCoverForAPoint\",(t,e,n)=>{let i=this.elementFromPoint(t,e);return i!==null&&i!==n}),jt(this,\"getPointPositionList\",()=>{let{width:t,height:e,left:n,top:i}=this._clientSize,r=t/6,o=e/6,s=[],a=10**6;for(let c=0;c<5;c++)for(let d=0;d<5;d++){let l=(n*a+(c===0?.1:c===4?(r*c*a-1e5)/a:r*c)*a)/a,u=(i*a+(d===0?.1:d===4?(o*d*a-1e5)/a:o*d)*a)/a;s.push({x:l,y:u});}return [...s]}),jt(this,\"checkElementCover\",t=>this.getPointPositionList().map(e=>this.checkCoverForAPoint(e.x,e.y,t)).filter(e=>!!e).length>6),jt(this,\"checkSizeIsVisible\",(t,e,n)=>(t>50||n/t<=10)&&(e>50||n/e<=10)),jt(this,\"checkSizeOfPartInClient\",()=>{let{left:t,right:e,top:n,bottom:i,clientHeight:r,clientWidth:o,clientMin:s}=this._clientSize,a,c,d,l;if(t<0)a=0;else {if(!(t<o))return !1;a=t;}if(e<0)return !1;if(c=e<o?e:o,n<0)d=0;else {if(!(n<r))return !1;d=n;}if(i<0)return !1;l=i<r?i:r;let u=c-a,h=l-d;return this.checkSizeIsVisible(u,h,s)}),jt(this,\"returnHiddenResult\",t=>(this._clientSize=null,{visible:!1,reason:t})),jt(this,\"checkOneElementVisible\",t=>{if(t instanceof HTMLElement){if(this.checkElementIsMountedOnDom(t)){if(this.checkActualCssVisibleIncludeInherit(t)){if(this._clientSize=this.getSizeAboutClient(t),this.checkElementCover(t))return this.returnHiddenResult(Ka.COVERED);{let e=this.checkActualSize(),n=this.checkSizeOfPartInClient();return e&&!n?this.returnHiddenResult(Ka.POSITION):e?(this._clientSize=null,{visible:!0}):this.returnHiddenResult(Ka.SIZE)}}return this.returnHiddenResult(Ka.STYLE)}return this.returnHiddenResult(DE.UNMOUNTED)}return this.returnHiddenResult(DE.INVALID_HTML_ELEMENT)}),jt(this,\"checkElementIsMountedOnDom\",t=>this.checkPropertyUpToAllParentNodes(t,e=>e.nodeName.toUpperCase()!==\"HTML\"?e.parentElement!==null:!!document.documentElement));}};function uf(t){return new TextEncoder().encode(t)}var ER=function(t,e){let n=new Uint8Array(t.byteLength+e.byteLength);return n.set(new Uint8Array(t),0),n.set(new Uint8Array(e),t.byteLength),n},PE=async t=>function(e,n){let i=\"\";return new Uint8Array(e).forEach(r=>{i+=r.toString(n).padStart(2,\"0\");}),i}(await crypto.subtle.digest(\"SHA-256\",uf(t)),16),Xt=class{constructor(){jt(this,\"_events\",{}),jt(this,\"addListener\",this.on);}getListeners(t){return this._events[t]?this._events[t].map(e=>e.listener):[]}on(t,e){this._events[t]||(this._events[t]=[]);let n=this._events[t];this._indexOfListener(n,e)===-1&&n.push({listener:e,once:!1});}once(t,e){this._events[t]||(this._events[t]=[]);let n=this._events[t];this._indexOfListener(n,e)===-1&&n.push({listener:e,once:!0});}off(t,e){if(!this._events[t])return;let n=this._events[t],i=this._indexOfListener(n,e);i!==-1&&n.splice(i,1),this._events[t].length===0&&delete this._events[t];}removeAllListeners(t){t?delete this._events[t]:this._events={};}emit(t){this._events[t]||(this._events[t]=[]);let e=this._events[t].map(o=>o);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(let o=0;o<e.length;o+=1){let s=e[o];s.once&&this.off(t,s.listener),s.listener.apply(this,i||[]);}}safeEmit(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];[...this._events[t]||[]].forEach(r=>{r.once&&this.off(t,r.listener);try{r.listener.apply(this,n);}catch(o){console.error(\"safeEmit event:\".concat(t,\" error \").concat(o?.toString()));}});}_indexOfListener(t,e){let n=t.length;for(;n--;)if(t[n].listener===e)return n;return -1}},Pa=null;function IO(){if(Pa)return Pa;if(window.electron)return Pa=window.electron;if(!window.require)return null;try{return Pa=window.require(\"electron\"),Pa}catch{return null}}var Te=function(t){return t.CREATE_CLIENT=\"createClient\",t.CHECK_SYSTEM_REQUIREMENTS=\"checkSystemRequirements\",t.SET_AREA=\"setArea\",t.PRELOAD=\"PRELOAD\",t.CHECK_VIDEO_TRACK_IS_ACTIVE=\"checkVideoTrackIsActive\",t.CHECK_AUDIO_TRACK_IS_ACTIVE=\"checkAudioTrackIsActive\",t.CREATE_MIC_AUDIO_TRACK=\"createMicrophoneAudioTrack\",t.CREATE_CUSTOM_AUDIO_TRACK=\"createCustomAudioTrack\",t.CREATE_BUFFER_AUDIO_TRACK=\"createBufferSourceAudioTrack\",t.CREATE_CAM_VIDEO_TRACK=\"createCameraVideoTrack\",t.CREATE_CUSTOM_VIDEO_TRACK=\"createCustomVideoTrack\",t.CREATE_MIC_AND_CAM_TRACKS=\"createMicrophoneAndCameraTracks\",t.CREATE_SCREEN_VIDEO_TRACK=\"createScreenVideoTrack\",t.SET_ENCRYPTION_CONFIG=\"Client.setEncryptionConfig\",t.START_PROXY_SERVER=\"Client.startProxyServer\",t.STOP_PROXY_SERVER=\"Client.stopProxyServer\",t.SET_PROXY_SERVER=\"Client.setProxyServer\",t.SET_TURN_SERVER=\"Client.setTurnServer\",t.SET_CLIENT_ROLE=\"Client.setClientRole\",t.SET_LOW_STREAM_PARAMETER=\"Client.setLowStreamParameter\",t.ENABLE_DUAL_STREAM=\"Client.enableDualStream\",t.DISABLE_DUAL_STREAM=\"Client.disableDualStream\",t.JOIN=\"Client.join\",t.LEAVE=\"Client.leave\",t.PUBLISH=\"Client.publish\",t.UNPUBLISH=\"Client.unpublish\",t.SUBSCRIBE=\"Client.subscribe\",t.MASS_SUBSCRIBE=\"Client.massSubscribe\",t.MASS_UNSUBSCRIBE=\"Client.massUnsubscribe\",t.UNSUBSCRIBE=\"Client.unsubscribe\",t.RENEW_TOKEN=\"Client.renewToken\",t.SET_REMOTE_VIDEO_STREAM_TYPE=\"Client.setRemoteVideoStreamType\",t.SET_STREAM_FALLBACK_OPTION=\"Client.setStreamFallbackOption\",t.ENABLE_AUDIO_VOLUME_INDICATOR=\"Client.enableAudioVolumeIndicator\",t.SEND_CUSTOM_REPORT_MESSAGE=\"Client.sendCustomReportMessage\",t.INSPECT_VIDEO_CONTENT=\"Client.inspectVideoContent\",t.STOP_INSPECT_VIDEO_CONTENT=\"Client.stopInspectVideoContent\",t.JOIN_FALLBACK_TO_PROXY=\"Client._joinFallbackToProxy\",t.ON_LIVE_STREAM_WARNING=\"Client.onLiveStreamWarning\",t.ON_LIVE_STREAM_ERROR=\"Client.onLiveStreamingError\",t.START_LIVE_STREAMING=\"Client.startLiveStreaming\",t.SET_LIVE_TRANSCODING=\"Client.setLiveTranscoding\",t.STOP_LIVE_STREAMING=\"Client.stopLiveStreaming\",t.START_CHANNEL_MEDIA_RELAY=\"Client.startChannelMediaRelay\",t.UPDATE_CHANNEL_MEDIA_RELAY=\"Client.updateChannelMediaRelay\",t.STOP_CHANNEL_MEDIA_RELAY=\"Client.stopChannelMediaRelay\",t.REQUEST_CONFIG_DISTRIBUTE=\"_config-distribute-request\",t.SET_CONFIG_DISTRIBUTE=\"_configDistribute\",t.LOCAL_TRACK_SET_MUTED=\"LocalTrack.setMute\",t.LOCAL_AUDIO_TRACK_PLAY=\"LocalAudioTrack.play\",t.LOCAL_AUDIO_TRACK_PLAY_IN_ELEMENT=\"LocalAudioTrack.playInElement\",t.LOCAL_AUDIO_TRACK_STOP=\"LocalAudioTrack.stop\",t.LOCAL_AUDIO_TRACK_SET_VOLUME=\"LocalAudioTrack.setVolume\",t.MIC_AUDIO_TRACK_SET_DEVICE=\"MicrophoneAudioTrack.setDevice\",t.BUFFER_AUDIO_TRACK_START=\"BufferSourceAudioTrack.startProcessAudioBuffer\",t.BUFFER_AUDIO_TRACK_STOP=\"BufferSourceAudioTrack.stopProcessAudioBuffer\",t.BUFFER_AUDIO_TRACK_PAUSE=\"BufferSourceAudioTrack.pauseProcessAudioBuffer\",t.BUFFER_AUDIO_TRACK_RESUME=\"BufferSourceAudioTrack.resumeProcessAudioBuffer\",t.BUFFER_AUDIO_TRACK_SEEK=\"BufferSourceAudioTrack.seekAudioBuffer\",t.LOCAL_VIDEO_TRACK_PLAY=\"LocalVideoTrack.play\",t.LOCAL_VIDEO_TRACK_STOP=\"LocalVideoTrack.stop\",t.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE=\"LocalVideoTrack.getVideoElementVisibleStatus\",t.LOCAL_VIDEO_TRACK_BEAUTY=\"LocalVideoTrack.setBeautyEffect\",t.LOCAL_VIDEO_SEND_SEI_DATA=\"LocalVideoTrack.sendSeiData\",t.CAM_VIDEO_TRACK_SET_DEVICE=\"CameraVideoTrack.setDevice\",t.CAM_VIDEO_TRACK_SET_ENCODER_CONFIG=\"CameraVideoTrack.setEncoderConfiguration\",t.REMOTE_VIDEO_TRACK_PLAY=\"RemoteVideoTrack.play\",t.REMOTE_VIDEO_TRACK_STOP=\"RemoteVideoTrack.stop\",t.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE=\"RemoteVideoTrack.getVideoElementVisibleStatus\",t.REMOTE_AUDIO_TRACK_PLAY=\"RemoteAudioTrack.play\",t.REMOTE_AUDIO_TRACK_STOP=\"RemoteAudioTrack.stop\",t.REMOTE_AUDIO_SET_VOLUME=\"RemoteAudioTrack.setVolume\",t.REMOTE_AUDIO_SET_OUTPUT_DEVICE=\"RemoteAudioTrack.setOutputDevice\",t.GET_MEDIA_STREAM_TRACK=\"Track.getMediaStreamTrack\",t.STREAM_TYPE_CHANGE=\"streamTypeChange\",t.CONNECTION_STATE_CHANGE=\"connectionStateChange\",t.LOAD_CONFIG_FROM_LOCALSTORAGE=\"loadConfigFromLocalStorage\",t.IMAGE_MODERATION_UPLOAD=\"imageModerationUpload\",t}({}),Zt=function(t){return t.TRACER=\"tracer\",t}({});function mR(t){return Nt(t.timeout,\"config.timeout\",0,1e5),Nt(t.timeoutFactor,\"config.timeoutFactor\",0,100,!1),Nt(t.maxRetryCount,\"config.maxRetryConfig\",0,1/0),Nt(t.maxRetryTimeout,\"config.maxRetryTimeout\",0,1/0),!0}var EB=function(t){return t[t.AUDIENCE_LEVEL_LOW_LATENCY=1]=\"AUDIENCE_LEVEL_LOW_LATENCY\",t[t.AUDIENCE_LEVEL_ULTRA_LOW_LATENCY=2]=\"AUDIENCE_LEVEL_ULTRA_LOW_LATENCY\",t[t.AUDIENCE_LEVEL_SYNC_LATENCY=3]=\"AUDIENCE_LEVEL_SYNC_LATENCY\",t}({}),At=function(t){return t.LEAVE=\"LEAVE\",t.NETWORK_ERROR=\"NETWORK_ERROR\",t.SERVER_ERROR=\"SERVER_ERROR\",t.UID_BANNED=\"UID_BANNED\",t.FALLBACK=\"FALLBACK\",t.IP_BANNED=\"IP_BANNED\",t.CHANNEL_BANNED=\"CHANNEL_BANNED\",t.LICENSE_MISSING=\"LICENSE_MISSING\",t.LICENSE_EXPIRED=\"LICENSE_EXPIRED\",t.LICENSE_MINUTES_EXCEEDED=\"LICENSE_MINUTES_EXCEEDED\",t.LICENSE_PERIOD_INVALID=\"LICENSE_PERIOD_INVALID\",t.LICENSE_MULTIPLE_SDK_SERVICE=\"LICENSE_MULTIPLE_SDK_SERVICE\",t.LICENSE_ILLEGAL=\"LICENSE_ILLEGAL\",t.TOKEN_EXPIRE=\"TOKEN_EXPIRE\",t}({});function Yu(t){if(!Array.isArray(t)||t.length<1)return !1;try{t.forEach(e=>{if(!e.urls)throw Error()});}catch{return !1}return !0}function vO(t){return Pe(t.turnServerURL,\"turnServerURL\"),Pe(t.username,\"username\"),Pe(t.password,\"password\"),t.udpport&&Nt(t.udpport,\"udpport\",1,99999,!0),t.forceturn&&Nr(t.forceturn,\"forceturn\"),t.security&&Nr(t.security,\"security\"),t.tcpport&&Nt(t.tcpport,\"tcpport\",1,99999,!0),!0}function fR(t){return t.level!==void 0&&Ce(t.level,\"level\",[1,2,3]),t.delay!==void 0&&Nt(t.delay,\"delay\",0,3e3,!0),!0}var ut=function(t){return t.CONNECTION_STATE_CHANGE=\"connection-state-change\",t.MEDIA_RECONNECT_START=\"media-reconnect-start\",t.MEDIA_RECONNECT_END=\"media-reconnect-end\",t.IS_USING_CLOUD_PROXY=\"is-using-cloud-proxy\",t.USER_JOINED=\"user-joined\",t.USER_LEAVED=\"user-left\",t.USER_PUBLISHED=\"user-published\",t.USER_UNPUBLISHED=\"user-unpublished\",t.USER_INFO_UPDATED=\"user-info-updated\",t.CLIENT_BANNED=\"client-banned\",t.CHANNEL_MEDIA_RELAY_STATE=\"channel-media-relay-state\",t.CHANNEL_MEDIA_RELAY_EVENT=\"channel-media-relay-event\",t.VOLUME_INDICATOR=\"volume-indicator\",t.CRYPT_ERROR=\"crypt-error\",t.ON_TOKEN_PRIVILEGE_WILL_EXPIRE=\"token-privilege-will-expire\",t.ON_TOKEN_PRIVILEGE_DID_EXPIRE=\"token-privilege-did-expire\",t.NETWORK_QUALITY=\"network-quality\",t.STREAM_TYPE_CHANGED=\"stream-type-changed\",t.STREAM_FALLBACK=\"stream-fallback\",t.RECEIVE_METADATA=\"receive-metadata\",t.STREAM_MESSAGE=\"stream-message\",t.LIVE_STREAMING_ERROR=\"live-streaming-error\",t.LIVE_STREAMING_WARNING=\"live-streaming-warning\",t.EXCEPTION=\"exception\",t.ERROR=\"error\",t.P2P_LOST=\"p2p_lost\",t.JOIN_FALLBACK_TO_PROXY=\"join-fallback-to-proxy\",t.CHANNEL_FALLBACK_TO_WEBSOCKET=\"channel-fallback-to-websocket\",t.MEDIA_CONNECTION_TYPE_CHANGE=\"media-connection-type-change\",t.PUBLISHED_USER_LIST=\"published-user-list\",t.CONTENT_INSPECT_CONNECTION_STATE_CHANGE=\"content-inspect-connection-state-change\",t.CONTENT_INSPECT_ERROR=\"content-inspect-error\",t.CONTENT_INSPECT_RESULT=\"content-inspect-result\",t.IMAGE_MODERATION_CONNECTION_STATE_CHANGE=\"image-moderation-connection-state-change\",t}({}),Be=function(t){return t.NETWORK_ERROR=\"NETWORK_ERROR\",t.SERVER_ERROR=\"SERVER_ERROR\",t.MULTI_IP=\"MULTI_IP\",t.TIMEOUT=\"TIMEOUT\",t.OFFLINE=\"OFFLINE\",t.LEAVE=\"LEAVE\",t.P2P_FAILED=\"P2P_FAILED\",t.FALLBACK=\"FALLBACK\",t}({}),wn=function(t){return t.ONLINE=\"ONLINE\",t.OFFLINE=\"OFFLINE\",t}({}),ks=function(t){return t.NETWORK_STATE_CHANGE=\"NETWORK_STATE_CHANGE\",t.ONLINE=\"ONLINE\",t.OFFLINE=\"OFFLINE\",t}({});function Ge(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return t.getListeners(e).length===0?j.reject(new N(R.UNEXPECTED_ERROR,\"can not emit promise\")):new j((o,s)=>{t.emit(e,...i,o,s);})}function kt(t,e){if(t.getListeners(e).length===0)return j.resolve();for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return Ge(t,e,...i)}function ni(t,e){if(t.getListeners(e).length===0)return null;for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return Ac(t,e,...i)}function Ac(t,e){let n=null,i=null;for(var r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];if(t.emit(e,...o,a=>{n=a;},a=>{i=a;}),i!==null)throw i;if(n===null)throw new N(R.UNEXPECTED_ERROR,\"handler is not sync\");return n}var he=new class extends Xt{set networkState(t){this.emit(ks.NETWORK_STATE_CHANGE,t,this._networkState),t===wn.ONLINE?this.emit(ks.ONLINE):t===wn.OFFLINE&&(this.onlineWaiter=new j(e=>{this.once(ks.ONLINE,()=>{this.onlineWaiter=void 0,e(wn.ONLINE);});}),this.emit(ks.OFFLINE)),this._networkState=t;}get networkState(){return this._networkState}get isOnline(){return this._networkState===wn.ONLINE}constructor(){super(),jt(this,\"_moduleName\",\"network-indicator\"),jt(this,\"_networkState\",wn.ONLINE),jt(this,\"onlineWaiter\",void 0),window.addEventListener(\"online\",()=>{this.networkState=wn.ONLINE;}),window.addEventListener(\"offline\",()=>{this.networkState=wn.OFFLINE;});}};function Wl(t,e){let n=t.indexOf(e);n!==-1&&t.splice(n,1);}function Ls(t){let e=[];return t.forEach(n=>{e.indexOf(n)===-1&&e.push(n);}),e}function qu(t){j!==void 0?j.resolve().then(t):setTimeout(t,0);}function le(t){return JSON.parse(JSON.stringify(t))}function Vo(t){try{return le(t)}catch{return t}}var gR={};function po(t,e){gR[e]||(gR[e]=!0,t());}function Fo(t){let e=window.atob(t),n=new Uint8Array(new ArrayBuffer(e.length));for(let i=0;i<e.length;i+=1)n[i]=e.charCodeAt(i);return n}function so(t){let e=\"\";for(let n=0;n<t.length;n+=1)e+=String.fromCharCode(t[n]);return window.btoa(e)}function yO(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:16,n=new TextEncoder().encode(t);if(n.length>e)n=n.slice(0,e);else if(n.length<e){let i=new Uint8Array(e);i.set(n),n=i;}return n}function TR(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];let i=ji(e).call(e,(s,a)=>s+a.length,0),r=new Uint8Array(new ArrayBuffer(i)),o=0;return e.forEach(s=>{r.set(s,o),o+=s.length;}),r}function ar(t){return window.TextEncoder?new TextEncoder().encode(t).length:t.length}function AO(t){let e=0;return (/DingTalk/i.test(navigator.userAgent)||/AliApp/i.test(navigator.userAgent))&&t.realFormData&&(t=t.realFormData),t.forEach(n=>{e+=typeof n==\"string\"?ar(n):n.size;}),e+138}function mB(t){let e=new N(R.TIMEOUT,\"timeout\");return new j((n,i)=>{window.setTimeout(()=>i(e),t);})}function Me(t){return new j(e=>{window.setTimeout(e,t);})}function Ut(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:7,e=arguments.length>1?arguments[1]:void 0,n=Math.random().toString(16).substr(2,t).toLowerCase();return n.length===t?\"\".concat(e).concat(n):\"\".concat(e).concat(n)+Ut(t-n.length,\"\")}function Ms(){return Ut(32,\"\").toUpperCase()}var zu=()=>{},SR=new class{constructor(){jt(this,\"fnMap\",new Map);}throttleByKey(t,e,n,i){for(var r=arguments.length,o=new Array(r>4?r-4:0),s=4;s<r;s++)o[s-4]=arguments[s];if(this.fnMap.has(e)){let a=this.fnMap.get(e);if(a.threshold!==n){a.fn(...a.args),clearTimeout(a.timer);let c=window.setTimeout(()=>{let d=this.fnMap.get(e);d&&d.fn(...d.args),this.fnMap.delete(e);},n);this.fnMap.set(e,{fn:t,threshold:n,timer:c,args:o,skipFn:i});}else a.skipFn&&a.skipFn(...a.args),this.fnMap.set(e,J(J({},a),{},{fn:t,args:o,skipFn:i}));}else {let a=window.setTimeout(()=>{let c=this.fnMap.get(e);c&&c.fn(...c.args),this.fnMap.delete(e);},n);this.fnMap.set(e,{fn:t,threshold:n,timer:a,args:o,skipFn:i});}}},RR=SR.throttleByKey.bind(SR);function CR(t){return typeof t==\"object\"&&t!==null&&!(t instanceof RegExp)}function kE(t,e){if(!CR(t)||!CR(e)||Array.isArray(t)&&!Array.isArray(e)||!Array.isArray(t)&&Array.isArray(e))return e;if(Array.isArray(e)&&Array.isArray(t)){let n=[...t];for(let i=0;i<e.length;i++)n[i]=kE(t[i],e[i]);return n}{let n=J({},t);for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(Object.prototype.hasOwnProperty.call(t,i)?n[i]=kE(t[i],e[i]):n[i]=e[i]);return n}}function IR(t,e){let n=[0];if((n=new Array(e).fill(0)),t===0)return n;let i=0;for(;t>0&&(n[i]=255&t,t>>=8,i++,i!==e););return n}function wp(t){return typeof t==\"number\"?t:t.exact||t.ideal||t.max||t.min||0}function bO(t){let e=\"0123456789abcdef\";function n(A){let b,w=\"\";for(b=0;b<=3;b++)w+=e.charAt(A>>8*b+4&15)+e.charAt(A>>8*b&15);return w}function i(A,b){let w=(65535&A)+(65535&b);return (A>>16)+(b>>16)+(w>>16)<<16|65535&w}function r(A,b,w,D,k,B){return i(function(V,z){return V<<z|V>>>32-z}(i(i(b,A),i(D,B)),k),w)}function o(A,b,w,D,k,B,V){return r(b&w|~b&D,A,b,k,B,V)}function s(A,b,w,D,k,B,V){return r(b&D|w&~D,A,b,k,B,V)}function a(A,b,w,D,k,B,V){return r(b^w^D,A,b,k,B,V)}function c(A,b,w,D,k,B,V){return r(w^(b|~D),A,b,k,B,V)}let d=function(A){let b,w=1+(A.length+8>>6),D=new Array(16*w);for(b=0;b<16*w;b++)D[b]=0;for(b=0;b<A.length;b++)D[b>>2]|=A.charCodeAt(b)<<b%4*8;return D[b>>2]|=128<<b%4*8,D[16*w-2]=8*A.length,D}(t),l,u,h,p,g,E=1732584193,f=-271733879,S=-1732584194,C=271733878;for(l=0;l<d.length;l+=16)u=E,h=f,p=S,g=C,E=o(E,f,S,C,d[l+0],7,-680876936),C=o(C,E,f,S,d[l+1],12,-389564586),S=o(S,C,E,f,d[l+2],17,606105819),f=o(f,S,C,E,d[l+3],22,-1044525330),E=o(E,f,S,C,d[l+4],7,-176418897),C=o(C,E,f,S,d[l+5],12,1200080426),S=o(S,C,E,f,d[l+6],17,-1473231341),f=o(f,S,C,E,d[l+7],22,-45705983),E=o(E,f,S,C,d[l+8],7,1770035416),C=o(C,E,f,S,d[l+9],12,-1958414417),S=o(S,C,E,f,d[l+10],17,-42063),f=o(f,S,C,E,d[l+11],22,-1990404162),E=o(E,f,S,C,d[l+12],7,1804603682),C=o(C,E,f,S,d[l+13],12,-40341101),S=o(S,C,E,f,d[l+14],17,-1502002290),f=o(f,S,C,E,d[l+15],22,1236535329),E=s(E,f,S,C,d[l+1],5,-165796510),C=s(C,E,f,S,d[l+6],9,-1069501632),S=s(S,C,E,f,d[l+11],14,643717713),f=s(f,S,C,E,d[l+0],20,-373897302),E=s(E,f,S,C,d[l+5],5,-701558691),C=s(C,E,f,S,d[l+10],9,38016083),S=s(S,C,E,f,d[l+15],14,-660478335),f=s(f,S,C,E,d[l+4],20,-405537848),E=s(E,f,S,C,d[l+9],5,568446438),C=s(C,E,f,S,d[l+14],9,-1019803690),S=s(S,C,E,f,d[l+3],14,-187363961),f=s(f,S,C,E,d[l+8],20,1163531501),E=s(E,f,S,C,d[l+13],5,-1444681467),C=s(C,E,f,S,d[l+2],9,-51403784),S=s(S,C,E,f,d[l+7],14,1735328473),f=s(f,S,C,E,d[l+12],20,-1926607734),E=a(E,f,S,C,d[l+5],4,-378558),C=a(C,E,f,S,d[l+8],11,-2022574463),S=a(S,C,E,f,d[l+11],16,1839030562),f=a(f,S,C,E,d[l+14],23,-35309556),E=a(E,f,S,C,d[l+1],4,-1530992060),C=a(C,E,f,S,d[l+4],11,1272893353),S=a(S,C,E,f,d[l+7],16,-155497632),f=a(f,S,C,E,d[l+10],23,-1094730640),E=a(E,f,S,C,d[l+13],4,681279174),C=a(C,E,f,S,d[l+0],11,-358537222),S=a(S,C,E,f,d[l+3],16,-722521979),f=a(f,S,C,E,d[l+6],23,76029189),E=a(E,f,S,C,d[l+9],4,-640364487),C=a(C,E,f,S,d[l+12],11,-421815835),S=a(S,C,E,f,d[l+15],16,530742520),f=a(f,S,C,E,d[l+2],23,-995338651),E=c(E,f,S,C,d[l+0],6,-198630844),C=c(C,E,f,S,d[l+7],10,1126891415),S=c(S,C,E,f,d[l+14],15,-1416354905),f=c(f,S,C,E,d[l+5],21,-57434055),E=c(E,f,S,C,d[l+12],6,1700485571),C=c(C,E,f,S,d[l+3],10,-1894986606),S=c(S,C,E,f,d[l+10],15,-1051523),f=c(f,S,C,E,d[l+1],21,-2054922799),E=c(E,f,S,C,d[l+8],6,1873313359),C=c(C,E,f,S,d[l+15],10,-30611744),S=c(S,C,E,f,d[l+6],15,-1560198380),f=c(f,S,C,E,d[l+13],21,1309151649),E=c(E,f,S,C,d[l+4],6,-145523070),C=c(C,E,f,S,d[l+11],10,-1120210379),S=c(S,C,E,f,d[l+2],15,718787259),f=c(f,S,C,E,d[l+9],21,-343485551),E=i(E,u),f=i(f,h),S=i(S,p),C=i(C,g);return n(E)+n(f)+n(S)+n(C)}var fB=1,Od=console,ze=class{static setLogger(t){Od=t;}constructor(t){jt(this,\"lockingPromise\",j.resolve()),jt(this,\"locks\",0),jt(this,\"name\",\"\"),jt(this,\"lockId\",void 0),this.lockId=fB++,t&&(this.name=t),Od.debug(\"[lock-\".concat(this.name,\"-\").concat(this.lockId,\"] is created.\"));}get isLocked(){return this.locks>0}lock(t){let e;this.locks+=1,Od.debug(\"[lock-\".concat(this.name,\"-\").concat(this.lockId,\"] is locked, current queue \").concat(this.locks,\". \").concat(typeof t==\"string\"?t:\"\"));let n=new j(r=>{e=()=>{this.locks-=1,Od.debug(\"[lock-\".concat(this.name,\"-\").concat(this.lockId,\"] is not locked, current queue \").concat(this.locks,\". \").concat(typeof t==\"string\"?t:\"\")),r();};}),i=this.lockingPromise.then(()=>e);return this.lockingPromise=this.lockingPromise.then(()=>n),i}};function $s(t,e){return function(n,i,r){let o=r.value;if(typeof o!=\"function\")throw new Error(\"Cannot use mutex on object property.\");return r.value=async function(){let s=this[e];if(!s)throw new Error(\"mutex property key \".concat(e,\" doesn't exist on \").concat(t));let a=await s.lock(\"From \".concat(t,\".\").concat(i));try{for(var c=arguments.length,d=new Array(c),l=0;l<c;l++)d[l]=arguments[l];return await o.apply(this,d)}finally{a();}},r}}var Ee={timeout:500,timeoutFactor:1.5,maxRetryCount:1/0,maxRetryTimeout:1e4};function hf(t,e){let n=Math.floor(e.timeout*Math.pow(e.timeoutFactor,t));return Math.min(e.maxRetryTimeout,n)}function Wi(t,e,n,i){let r=Object.assign({},Ee,i),o=r.timeout,s=async()=>{await function(d){return new j(l=>{window.setTimeout(l,d);})}(o),o*=r.timeoutFactor,o=Math.min(r.maxRetryTimeout,o);},a=!1,c=new j(async(d,l)=>{e=e||(()=>!1),n=n||(()=>!0);for(let u=0;u<r.maxRetryCount;u+=1){if(a)return l(new N(R.OPERATION_ABORTED));try{let h=await t();if(!e(h,u)||u+1===r.maxRetryCount)return d(h);await s();}catch(h){if(!n(h,u)||u+1===r.maxRetryCount)return l(h);await s();}}});return c.cancel=()=>a=!0,c}var Hl=class{constructor(e){jt(this,\"input\",[]),jt(this,\"size\",void 0),this.size=e;}add(e){this.input.push(e),this.input.length>this.size&&this.input.splice(0,1);}mean(){var e;return this.input.length===0?0:ji(e=this.input).call(e,(n,i)=>n+i)/this.input.length}},Nd,Dd=0,Op=0;function LE(t,e,n,i){return new j((r,o)=>{e.responseType=e.responseType||\"json\",e.data&&!n?(e.data=JSON.stringify(e.data),Dd+=ar(e.data)):n&&(e.data.size?Dd+=e.data.size:e.data instanceof FormData?Dd+=AO(e.data):Dd+=ar(JSON.stringify(e.data))),e.headers=e.headers||{},e.headers[\"Content-Type\"]=e.headers[\"Content-Type\"]||\"application/json\",e.method=\"POST\",e.url=t,mn.request(e).then(s=>{typeof s.data==\"string\"?Op+=ar(s.data):s.data instanceof ArrayBuffer||s.data instanceof Uint8Array?Op+=s.data.byteLength:Op+=ar(JSON.stringify(s.data)),r(s.data);}).catch(s=>{mn.isCancel(s)?o(new N(R.OPERATION_ABORTED,\"cancel token canceled\")):s.code===\"ECONNABORTED\"?o(new N(R.NETWORK_TIMEOUT,s.message)):s.response?o(new N(R.NETWORK_RESPONSE_ERROR,s.response.status)):o(new N(R.NETWORK_ERROR,s.message));});})}async function gB(t,e){let n=new Blob([e.data],{type:\"buffer\"});return await LE(t,J(J({},e),{},{data:n,headers:{\"Content-Type\":\"application/octet-stream\"}}),!0)}var vR=()=>window.isSecureContext!==void 0,ii=function(t){if(t.match(/[0-9]+\\.[0-9]+\\.[0-9]+$/))return t;let e=t.match(/([0-9]+\\.[0-9]+\\.[0-9]+)\\-alpha\\.([0-9]+)/);if(e&&e[1]&&e[2]){let i=e[1],r=e[2];return \"\".concat(i,\".\").concat(r)}let n=t.match(/([0-9]+\\.[0-9]+\\.[0-9]+)\\-special\\.([0-9]+)/);if(n&&n[1]&&n[2]){let i=n[1],r=n[2];return \"\".concat(i,\".\").concat(100*(Number(r)+1))}return \"4.0.0.999\"}(\"4.22.0\"),pf=function(){try{return JSON.parse(\"true\")===!0}catch{return !0}}(),Oo=function(t){return t.Default=\"default\",t.Auto=\"auto\",t.Relay=\"relay\",t.SdRtn=\"sd-rtn\",t}({}),_f={MIN_FRAME_RATE:1,MAX_FRAME_RATE:30,MAX_THRESHOLD_FRAMERATE:30,BITRATE_MIN_THRESHOLD:100,BITRATE_MAX_THRESHOLD:100,MAX_SCALE:5,BWE_SCALE_UP_THRESHOLD:.6,BWE_SCALE_DOWN_THRESHOLD:.6,PERF_SCALE_UP_THRESHOLD:.7,PERF_SCALE_DOWN_THRESHOLD:.6,MOTION_RESOLUTION_FACTOR:.8,MOTION_BITRATE_FACTOR:.6,DETAIL_FRAMERATE_FACTOR:.8,DETAIL_BITRATE_FACTOR:.6,BALANCE_RESOLUTION_FACTOR:.9,BALANCE_FRAMERATE_FACTOR:.9,BALANCE_BITRATE_FACTOR:.6,OVERUSE_TIMES_THRESHOLD:10,UNDERUSE_TIMES_THRESHOLD:40},Ef=\"v4.22.0-0-g8569241d-dirty(8/15/2024, 7:04:06 PM)\",oe=J(J({PROCESS_ID:\"\",ENCRYPT_AES:!0,AREAS:[\"CHINA\",\"GLOBAL\"],WEBCS_DOMAIN:[\"webrtc2-ap-web-1.agora.io\",\"webrtc2-2.ap.sd-rtn.com\"],WEBCS_DOMAIN_BACKUP_LIST:[\"webrtc2-ap-web-3.agora.io\",\"webrtc2-4.ap.sd-rtn.com\"],PROXY_CS:[\"ap-proxy-1.agora.io\",\"ap-proxy-2.agora.io\"],CDS_AP:[\"cds-ap-web-1.agora.io\",\"cds-web-2.ap.sd-rtn.com\",\"cds-ap-web-3.agora.io\",\"cds-web-4.ap.sd-rtn.com\"],ACCOUNT_REGISTER:[\"sua-ap-web-1.agora.io\",\"sua-web-2.ap.sd-rtn.com\",\"sua-ap-web-3.agora.io\",\"sua-web-4.ap.sd-rtn.com\"],UAP_AP:[\"uap-ap-web-1.agora.io\",\"uap-web-2.ap.sd-rtn.com\",\"uap-ap-web-3.agora.io\",\"uap-web-4.ap.sd-rtn.com\"],LOG_UPLOAD_SERVER:\"logservice.agora.io\",EVENT_REPORT_DOMAIN:\"statscollector-1.agora.io\",EVENT_REPORT_BACKUP_DOMAIN:\"web-2.statscollector.sd-rtn.com\",ENABLE_EVENT_REPORT:!0,GATEWAY_ADDRESS:[],GATEWAY_WSS_ADDRESS:\"\",LIVE_STREAMING_ADDRESS:\"\",HTTP_CONNECT_TIMEOUT:5e3,SIGNAL_REQUEST_TIMEOUT:1e4,REPORT_STATS:!0,UPLOAD_LOG:!1,NOT_REPORT_EVENT:[],PING_PONG_TIME_OUT:10,WEBSOCKET_TIMEOUT_MIN:1e4,EVENT_REPORT_SEND_INTERVAL:3e3,CONFIG_DISTRIBUTE_INTERVAL:3e5,ENABLE_CONFIG_DISTRIBUTE:!0,CANDIDATE_TIMEOUT:5e3,SHOW_REPORT_INVOKER_LOG:!1,JOIN_EXTEND:\"\",PUB_EXTEND:\"\",SUB_EXTEND:\"\",FORCE_TURN:!1,TURN_ENABLE_TCP:!0,TURN_ENABLE_UDP:!0,MAX_UPLOAD_CACHE:50,UPLOAD_CACHE_INTERVAL:2e3,AJAX_REQUEST_CONCURRENT:3,REPORT_APP_SCENARIO:void 0,GATEWAY_DOMAINS:[\"edge.agora.io\",\"edge.sd-rtn.com\"],CONNECT_GATEWAY_WITHOUT_DOMAIN:!1,WORKER_DOMAIN:\"edge.agora.io\",TURN_DOMAIN:\"edge.agora.io\",EVENT_REPORT_RETRY:!0,CHROME_FORCE_PLAN_B:!1,AUDIO_SOURCE_VOLUME_UPDATE_INTERVAL:400,AUDIO_SOURCE_AVG_VOLUME_DURATION:3e3,AUDIO_VOLUME_INDICATION_INTERVAL:2e3,VOLUME_VOICE_WEIGHT:10,GET_VOLUME_OF_MUTED_AUDIO_TRACK:!1,STATS_UPDATE_INTERVAL:250,NORMAL_EVENT_QUEUE_CAPACITY:100,CUSTOM_REPORT:!0,CUSTOM_REPORT_LIMIT:20,PROXY_SERVER_TYPE2:\"webnginx-proxy.agora.io\",PROXY_SERVER_TYPE3:[\"webrtc-cloud-proxy.sd-rtn.com\",\"webrtc-cloud-proxy.agora.io\"],CUSTOM_PUB_ANSWER_MODIFIER:null,CUSTOM_SUB_ANSWER_MODIFIER:null,CUSTOM_PUB_OFFER_MODIFIER:null,CUSTOM_SUB_OFFER_MODIFIER:null,DSCP_TYPE:\"high\",REMOVE_NEW_CODECS:!0,FRAGEMENT_LENGTH:3,WEBSOCKET_COMPRESS:!1,SIMULCAST:!1,PRELOAD_MEDIA_COUNT:0,CHECK_VIDEO_VISIBLE_INTERVAL:3e4,CHECK_LOCAL_STATS_INTERVAL:250,PROFILE_SWITCH_INTERVAL:2e3,UNSUPPORTED_VIDEO_CODEC:[],ENUMERATE_DEVICES_INTERVAL:!1,ENUMERATE_DEVICES_INTERVAL_TIME:1e4,USE_NEW_TOKEN:!1,CLOSE_AFB_FOR_LOCAL_AP:!0,JOIN_MAX_CONCURRENCY:6,JOIN_WITH_FALLBACK_SIGNAL_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE:!1,JOIN_GATEWAY_TRY_443PORT_DURATION:2e3,JOIN_GATEWAY_USE_443PORT_ONLY:!1,JOIN_GATEWAY_USE_DUAL_DOMAIN:!0,JOIN_GATEWAY_FALLBACK_PORT:443,USE_TURN_SERVER_OF_GATEWAY:!1,H264_PROFILE_LEVEL_ID:\"\",USE_NEW_LOG:!1,LOG_VERSION:3,MEDIA_DEVICE_CONSTRAINTS:null,ENCRYPT_PROXY_USERNAME_AND_PSW:!0,SDP_LOGGING:!1,CSP_DETECTED_HOSTNAME_LIST:[\"agora.io\",\"sd-rtn.com\"],REMOTE_AUDIO_TRACK_USES_WEB_AUDIO:!1,LOCAL_AUDIO_TRACK_USES_WEB_AUDIO:!1,BITRATE_ADAPTER_TYPE:\"STANDARD_BITRATE\",AI_DENOISER_PARAMETERS:{excludedLinks:[]},ADJUST_3A_FROM_PLUGINS:!0,RAISE_H264_BASELINE_PRIORITY:!0,FILTER_SEND_H264_BASELINE:!1,X_GOOGLE_START_BITRATE:void 0,NEW_REPORT_SERVER:!1,NEW_REPORT_SERVER_DOMAINS:[\"data-reporting.agora.io\",\"data-reporting.agora.io\"],VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT:3e5,VIDEO_INSPECT_INTERVAL_MINIMUM:1e3,VIDEO_INSPECT_QUALITY_RATIO:.9,VIDEO_INSPECT_WORKER_MANAGER_HOST:\"edge.agora.io\",VIDEO_INSPECT_WORKER_MANAGER_PORT:\"\",VIDEO_INSPECT_WORKER_PORT:\"\",SHOW_VIDEO_INSPECT_WORKER_MESSAGE:!1,STATS_COLLECTOR_PORT:443,FORCE_TURN_TCP:!1,WEBAUDIO_INIT_OPTIONS:void 0,FILTER_VIDEO_FEC:!0,FILTER_AUDIO_FEC:!1,CHROME_DUAL_STREAM_USE_ENCODING:!0,DISABLE_DUAL_STREAM_USE_ENCODING:!1,EXTENSION_USAGE_UPLOAD_INTERVAL:1e4,ICE_RESTART:!0,ICE_RESTART_INTERVAL:1e4,NEW_ICE_RESTART:!1,TRANSMITTER_INITIAL_RTT:30,TRANSMITTER_INITIAL_RTO:30,TRANSMITTER_MAX_BATCH_ACK_COUNT:2,TRANSMITTER_MAX_RTO:500,DATACHANNEL_COMPRESS:!1,FINGERPRINT:null,DC_JOIN_WITH_FAILBACK:5e3,ENABLE_VIDEO_FRAME_CALLBACK:!0,VIDEO_FREEZE_DURATION:500,SPATIALIZER_PARAMETERS:{},UPLOAD_LOG_INTERVAL:3e3,UPLOAD_LOG_REQUEST_RETRY_INTERVAL:2e3,UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL:2e4,UPLOAD_LOG_TRY_INTERVAL_WHILE_OFF:5e3,UPLOAD_LOG_RETRY_INTERVAL_V1:1e4,UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1:200,UPLOAD_LOG_LENGTH_EACH_TIME:10,APP_TYPE:0,DISABLE_WEBAUDIO:!1,CHANNEL_MEDIA_RELAY_SERVERS:void 0,KEEP_LAST_FRAME:!0,FORWARD_P2P_CREATION:!0,SYNC_GROUP:!0,BLOCK_LOCAL_CLIENT:!1,AP_AREA:!0,ENABLE_ENCODED_TRANSFORM:!1,ENABLE_VIDEO_SEI:!1,IMAGE_MODERATION_WORKER_HOST:\"edge.agora.io\",IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT:3e5,IMAGE_MODERATION_INTERVAL_MINIMUM:1e3,SHOW_IMAGE_MODERATION_WORKER_MESSAGE:!1,IMAGE_MODERATION_QUALITY_RATIO:.9,IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL:5e3,SHOW_GLOBAL_CLIENT_LIST:!1,DATASTREAM_MAX_RETRANSMITS:10,TCP_CANDIDATE_ONLY:!1,EXTERNAL_SIGNAL_REQUEST_TIMEOUT:3e3,SHOW_P2P_LOG:!1,MAX_P2P_TIMEOUT:3e4,P2P_TOKEN_INTERVAL:1e3,SHOW_DATASTREAM2_LOG:!1,RESTRICTION_SET_PLAYBACK_DEVICE:!0,USE_PURE_ENCRYPTION_MASTER_KEY:!1,ACCOUNT_REGISTER_RETRY_TIMEOUT:1,ACCOUNT_REGISTER_RETRY_RATIO:2,ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX:6e4,ACCOUNT_REGISTER_RETRY_COUNT_MAX:1e5,AUDIO_CONTEXT:null,WEBCS_BACKUP_CONNECT_TIMEOUT:6e3,PLAYER_STATE_DEFER:2e3,SIGNAL_REQUEST_WATCH_INTERVAL:1e3,FILEPATH_LENMAX:255,DUALSTREAM_OPERATION_CHECK:!0,MEDIA_ELEMENT_EXISTS_DEPTH:3,SHIM_CANDIDATE:!1,LEAVE_MSG_TIMEOUT:2e3,STATS_FILTER:{transportId:!0,googTrackId:!0},FILTER_VIDEO_CODEC:[],USE_NEW_NETWORK_CONFIG:!1,AUTO_RESET_AUDIO_ROUTE:!1,PLUGIN_INFO:[],OVERUSE_DETECTOR_PARAMS:_f,ENABLE_AG_ADAPTATION:!0,FORCE_AG_HIGH_FRAMERATE:!1,FORCE_SUPPORT_AG_ADAPTATION:!1,CUSTOM_ADAPTATION_DEFAULT_MODE:\"\",ENCODER_CONFIG_LIMIT:{},CAMERA_CAPTURE_CONFIG:void 0,HIDE_NO_POSTER:!1,AP_CACHE_NUM:10,AP_UPDATE_INTERVAL:12e4,AP_CACHE_LIFETIME:12e4,MAX_PRELOAD_ASYNC_LENGTH:3,ENABLE_PRELOAD:!0},{ENABLE_PUBLISHED_USER_LIST:!0,MAX_SUBSCRIPTION:50,SUBSCRIBE_AUDIO_FILTER_TOPN:void 0,ENABLE_PUBLISH_AUDIO_FILTER:void 0,ENABLE_USER_LICENSE_CHECK:!0,USE_PUB_RTX:!0,USE_SUB_RTX:!0,DISABLE_FEC:void 0,ENABLE_NTP_REPORT:!1,ENABLE_INSTANT_VIDEO:!1,ENABLE_DATASTREAM_2:!1,ENABLE_USER_AUTO_REBALANCE_CHECK:!0,USE_XR:!0,ENABLE_LOSSBASED_BWE:!0,ENABLE_AUT_CC:!1,ENABLE_CC_FALLBACK:void 0,ENABLE_PREALLOC_PC:!1,SUBSCRIBE_TWCC:!0,PUBLISH_TWCC:!1,ENABLE_SVC:!1,ENABLE_SVC_DEFAULT_CODECS:[\"H264\",\"VP8\",\"VP9\",\"AV1\"],SVC:[],ENABLE_FULL_LINK_AV_SYNC:!1,SVC_MODE:null,PRE_SUB_NUM:2,ENABLE_PRE_SUB:!1,ENABLE_AUT_FEEDBACK:!1}),{},{USE_CANDIDATE_FROM_AP_DETAIL:!1});function Ot(t,e,n){var i,r,o;W(i=Object.keys(oe)).call(i,t)&&(!n&&W(r=Object.keys($r)).call(r,t)||(oe[t]=e,t===\"ENABLE_VIDEO_SEI\"&&e===!0&&(oe.ENABLE_ENCODED_TRANSFORM=!0),t===\"USE_NEW_NETWORK_CONFIG\"&&e&&(o=!!e,oe.USE_NEW_NETWORK_CONFIG=o,o&&(oe.WEBCS_DOMAIN=[\"webrtc2-2.ap.sd-rtn.com\"],oe.WEBCS_DOMAIN_BACKUP_LIST=[\"webrtc2-4.ap.sd-rtn.com\"],oe.CDS_AP=[\"cds-web-2.ap.sd-rtn.com\",\"cds-web-4.ap.sd-rtn.com\"],oe.ACCOUNT_REGISTER=[\"sua-web-2.ap.sd-rtn.com\",\"sua-web-4.ap.sd-rtn.com\"],oe.EVENT_REPORT_DOMAIN=\"web-2.statscollector.sd-rtn.com\",oe.EVENT_REPORT_BACKUP_DOMAIN=\"statscollector-1.agora.io\",oe.GATEWAY_DOMAINS=[\"edge.sd-rtn.com\"])),t===\"ENABLE_PRE_SUB\"&&e&&(oe.ENABLE_INSTANT_VIDEO=!0,oe.ENABLE_PREALLOC_PC=!0),t===\"ENABLE_SVC\"&&e&&(oe.ENABLE_AUT_CC=!0)));}function v(t){return oe[t]}var $r={},ct=function(t){return t.SET_SESSION_ID=\"SET_SESSION_ID\",t.SET_P2P_ID=\"SET_P2P_id\",t.SET_DC_ID=\"SET_DC_id\",t.SET_UID=\"SET_UID\",t.SET_INT_UID=\"SET_INT_UID\",t.SET_PUB_ID=\"SET_PUB_ID\",t.SET_CLOUD_PROXY_SERVER_MODE=\"SET_CLOUD_PROXY_SERVER_MODE\",t.KEY_METRIC_CLIENT_CREATED=\"KEY_METRIC_CLIENT_CREATED\",t.KEY_METRIC_JOIN_START=\"KEY_METRIC_JOIN_START\",t.AVOID_JOIN_START=\"AVOID_JOIN_START\",t.KEY_METRIC_JOIN_END=\"KEY_METRIC_JOIN_END\",t.KEY_METRIC_REQUEST_AP_START=\"KEY_METRIC_REQUEST_AP_START\",t.KEY_METRIC_REQUEST_AP_END=\"KEY_METRIC_REQUEST_AP_END\",t.KEY_METRIC_JOIN_GATEWAY_START=\"KEY_METRIC_JOIN_GATEWAY_START\",t.KEY_METRIC_JOIN_GATEWAY_END=\"KEY_METRIC_JOIN_GATEWAY_END\",t.KEY_METRIC_PEER_CONNECTION_START=\"KEY_METRIC_PEER_CONNECTION_START\",t.KEY_METRIC_PEER_CONNECTION_END=\"KEY_METRIC_PEER_CONNECTION_END\",t.KEY_METRIC_DESCRIPTION_START=\"KEY_METRIC_DESCRIPTION_START\",t.KEY_METRIC_ICE_CONNECTION_END=\"KEY_METRIC_ICE_CONNECTION_END\",t.KEY_METRIC_SIGNAL_CHANNEL_OPEN=\"KEY_METRIC_SIGNAL_CHANNEL_OPEN\",t.KEY_METRIC_PUBLISH=\"KEY_METRIC_PUBLISH\",t.KEY_METRIC_SUBSCRIBE=\"KEY_METRIC_SUBSCRIBE\",t.RECORD_JOIN_CHANNEL_SERVICE=\"RECORD_JOIN_CHANNEL_SERVICE\",t.RESET_JOIN_CHANNEL_SERVICE_RECORDS=\"RESET_JOIN_CHANNEL_SERVICE_RECORDS\",t.RESET_KEY_METRICS=\"RESET_KEY_METRICS\",t.SET_USE_P2P=\"SET_USE_P2P\",t.SET_TRANSPORT_TYPE=\"SET_TRANSPORT_TYPE\",t}(ct||{}),ME=class{constructor(e,n,i,r){jt(this,\"state\",void 0),this.state={codec:e,audioCodec:n,mode:i,clientId:r,sessionId:null,p2pId:0,dcId:0,pubId:0,subId:0,avoidJoinStart:0,keyMetrics:{publish:[],subscribe:[]},joinChannelServiceRecords:[],cloudProxyServerMode:\"disabled\",useP2P:!1,p2pTransport:Oo.Default};}dispatch(e){this.state=function(n,i){switch(i.type){case ct.SET_SESSION_ID:return J(J({},n),{},{sessionId:i.sessionId});case ct.SET_P2P_ID:return J(J({},n),{},{p2pId:i.p2pId});case ct.SET_UID:return J(J({},n),{},{uid:i.uid});case ct.SET_INT_UID:return J(J({},n),{},{intUid:i.intUid});case ct.SET_PUB_ID:return J(J({},n),{},{pubId:i.pubId});case ct.KEY_METRIC_CLIENT_CREATED:return J(J({},n),{},{keyMetrics:J(J({},n.keyMetrics),{},{clientCreated:i.metric})});case ct.KEY_METRIC_JOIN_START:return J(J({},n),{},{keyMetrics:J(J({},n.keyMetrics),{},{joinStart:i.metric})});case ct.AVOID_JOIN_START:return J(J({},n),{},{avoidJoinStart:i.avoidJoinStart});case ct.KEY_METRIC_JOIN_END:return J(J({},n),{},{keyMetrics:J(J({},n.keyMetrics),{},{joinEnd:i.metric})});case ct.KEY_METRIC_REQUEST_AP_START:return J(J({},n),{},{keyMetrics:J(J({},n.keyMetrics),{},{requestAPStart:i.metric})});case ct.KEY_METRIC_REQUEST_AP_END:return J(J({},n),{},{keyMetrics:J(J({},n.keyMetrics),{},{requestAPEnd:i.metric})});case ct.KEY_METRIC_JOIN_GATEWAY_START:return J(J({},n),{},{keyMetrics:J(J({},n.keyMetrics),{},{joinGatewayStart:i.metric})});case ct.KEY_METRIC_JOIN_GATEWAY_END:return J(J({},n),{},{keyMetrics:J(J({},n.keyMetrics),{},{joinGatewayEnd:i.metric})});case ct.KEY_METRIC_PEER_CONNECTION_START:return J(J({},n),{},{keyMetrics:J(J({},n.keyMetrics),{},{peerConnectionStart:i.metric})});case ct.KEY_METRIC_PEER_CONNECTION_END:return J(J({},n),{},{keyMetrics:J(J({},n.keyMetrics),{},{peerConnectionEnd:i.metric})});case ct.KEY_METRIC_DESCRIPTION_START:return J(J({},n),{},{keyMetrics:J(J({},n.keyMetrics),{},{descriptionStart:i.metric})});case ct.KEY_METRIC_SIGNAL_CHANNEL_OPEN:return J(J({},n),{},{keyMetrics:J(J({},n.keyMetrics),{},{signalChannelOpen:i.metric})});case ct.KEY_METRIC_ICE_CONNECTION_END:return J(J({},n),{},{keyMetrics:J(J({},n.keyMetrics),{},{iceConnectionEnd:i.metric})});case ct.KEY_METRIC_PUBLISH:{let r=n.keyMetrics.publish,o=r.findIndex(s=>s.trackId===i.metric.trackId);return o!==-1?(r[o]=J(J({},r[o]),i.metric),J(J({},n),{},{keyMetrics:J(J({},n.keyMetrics),{},{publish:[...r]})})):J(J({},n),{},{keyMetrics:J(J({},n.keyMetrics),{},{publish:[...n.keyMetrics.publish,i.metric]})})}case ct.KEY_METRIC_SUBSCRIBE:{let r=n.keyMetrics.subscribe,o=r.findIndex(s=>s.userId===i.metric.userId&&s.type===i.metric.type);return o!==-1?(r[o]=J(J({},r[o]),i.metric),J(J({},n),{},{keyMetrics:J(J({},n.keyMetrics),{},{subscribe:[...r]})})):J(J({},n),{},{keyMetrics:J(J({},n.keyMetrics),{},{subscribe:[...n.keyMetrics.subscribe,i.metric]})})}case ct.SET_CLOUD_PROXY_SERVER_MODE:return n.cloudProxyServerMode=i.mode,n;case ct.RECORD_JOIN_CHANNEL_SERVICE:return typeof i.index!=\"number\"?n.joinChannelServiceRecords=[...n.joinChannelServiceRecords,i.record]:(n.joinChannelServiceRecords[i.index]=J(J({},n.joinChannelServiceRecords[i.index]),i.record),n.joinChannelServiceRecords=[...n.joinChannelServiceRecords]),n;case ct.RESET_JOIN_CHANNEL_SERVICE_RECORDS:return n.joinChannelServiceRecords=[],n;case ct.RESET_KEY_METRICS:return n.keyMetrics={publish:[],subscribe:[]},n;case ct.SET_USE_P2P:return J(J({},n),{},{useP2P:i.val});case ct.SET_TRANSPORT_TYPE:return J(J({},n),{},{p2pTransport:i.val});default:return n}}(this.state,e);}set sessionId(e){this.dispatch({type:ct.SET_SESSION_ID,sessionId:e});}get sessionId(){return this.state.sessionId}set codec(e){this.state.codec=e;}get codec(){return this.state.codec}get mode(){return this.state.mode}get audioCodec(){return this.state.audioCodec}get clientId(){return this.state.clientId}set p2pId(e){this.dispatch({type:ct.SET_P2P_ID,p2pId:e});}get p2pId(){return this.state.p2pId}set dcId(e){this.dispatch({type:ct.SET_DC_ID,dcId:e});}get dcId(){return this.state.dcId}set uid(e){this.dispatch({type:ct.SET_UID,uid:e});}get uid(){return this.state.uid}set intUid(e){this.dispatch({type:ct.SET_INT_UID,intUid:e});}get intUid(){return this.state.intUid}set pubId(e){this.dispatch({type:ct.SET_PUB_ID,pubId:e});}get pubId(){return this.state.pubId}set cloudProxyServerMode(e){this.dispatch({type:ct.SET_CLOUD_PROXY_SERVER_MODE,mode:e});}get cloudProxyServerMode(){return this.state.cloudProxyServerMode}set useP2P(e){this.dispatch({type:ct.SET_USE_P2P,val:e});}get useP2P(){return this.state.useP2P}set p2pTransport(e){this.dispatch({type:ct.SET_TRANSPORT_TYPE,val:e});}get p2pTransport(){return this.state.p2pTransport}clientCreated(){this.dispatch({type:ct.KEY_METRIC_CLIENT_CREATED,metric:Date.now()});}joinStart(){this.dispatch({type:ct.KEY_METRIC_JOIN_START,metric:Date.now()});}joinEnd(){this.dispatch({type:ct.KEY_METRIC_JOIN_END,metric:Date.now()});}requestAPStart(){this.dispatch({type:ct.KEY_METRIC_REQUEST_AP_START,metric:Date.now()});}requestAPEnd(){this.dispatch({type:ct.KEY_METRIC_REQUEST_AP_END,metric:Date.now()});}joinGatewayStart(){this.dispatch({type:ct.KEY_METRIC_JOIN_GATEWAY_START,metric:Date.now()});}joinGatewayEnd(){this.dispatch({type:ct.KEY_METRIC_JOIN_GATEWAY_END,metric:Date.now()});}peerConnectionStart(){this.dispatch({type:ct.KEY_METRIC_PEER_CONNECTION_START,metric:Date.now()});}peerConnectionEnd(){this.dispatch({type:ct.KEY_METRIC_PEER_CONNECTION_END,metric:Date.now()});}descriptionStart(){this.dispatch({type:ct.KEY_METRIC_DESCRIPTION_START,metric:Date.now()});}signalChannelOpen(){this.dispatch({type:ct.KEY_METRIC_SIGNAL_CHANNEL_OPEN,metric:Date.now()});}iceConnectionEnd(){this.dispatch({type:ct.KEY_METRIC_ICE_CONNECTION_END,metric:Date.now()});}publish(e,n,i,r){this.dispatch({type:ct.KEY_METRIC_PUBLISH,metric:J(J({trackId:e,type:n},i&&{publishStart:i}),r&&{publishEnd:r})});}subscribe(e,n,i,r,o,s,a){this.dispatch({type:ct.KEY_METRIC_SUBSCRIBE,metric:J(J(J(J(J({userId:e,type:n},i&&{subscribeStart:i}),r&&{subscribeEnd:r}),o&&{firstFrame:o}),s&&{streamAdded:s}),a&&{firstDecoded:a})});}massSubscribe(e,n,i,r){e.forEach(o=>{this.dispatch({type:ct.KEY_METRIC_SUBSCRIBE,metric:J(J(J({userId:o.userId,type:o.type},n&&{subscribeStart:n}),i&&{subscribeEnd:i}),r&&{firstFrame:r})});});}get keyMetrics(){return this.state.keyMetrics}recordJoinChannelService(e,n){e.service===\"gateway\"&&Array.isArray(e.urls)&&(e.urls=e.urls.map(i=>i.replace(/(\\d+)-\\d+-\\d+-(\\d+)/,\"$1-*-*-$2\")));try{return typeof n!=\"number\"?(this.dispatch({type:ct.RECORD_JOIN_CHANNEL_SERVICE,record:J(J({},e),{},{sessionId:this.sessionId,cloudProxyMode:this.cloudProxyServerMode,uid:this.uid})}),this.state.joinChannelServiceRecords.length-1):(n<0||n>=this.state.joinChannelServiceRecords.length||this.dispatch({type:ct.RECORD_JOIN_CHANNEL_SERVICE,record:e,index:n}),n)}catch{return 0}}resetJoinChannelServiceRecords(){this.dispatch({type:ct.RESET_JOIN_CHANNEL_SERVICE_RECORDS});}resetKeyMetrics(){this.dispatch({type:ct.RESET_KEY_METRICS});}get joinChannelServiceRecords(){try{return this.state.joinChannelServiceRecords}catch{return []}}get avoidJoinStart(){return this.state.avoidJoinStart}set avoidJoinStart(e){this.dispatch({type:ct.AVOID_JOIN_START,avoidJoinStart:e});}},Ju=function(t){return t.h264=\"h264\",t.h265=\"h265\",t.vp8=\"vp8\",t.vp9=\"vp9\",t.av1=\"av1\",t}({});(function(t){t.opus=\"opus\",t.pcma=\"pcma\",t.pcmu=\"pcmu\",t.g722=\"g722\";})({});var yR=128,TB=96,AR=1e3,us=10,SB=0;function re(t,e,n){return (e=function(i){var r=function(o,s){if(typeof o!=\"object\"||!o)return o;var a=o[Symbol.toPrimitive];if(a!==void 0){var c=a.call(o,\"string\");if(typeof c!=\"object\")return c;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(o)}(i);return typeof r==\"symbol\"?r:r+\"\"}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(n),!0).forEach(function(i){re(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bR(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var wO=new class extends Xt{constructor(){super(...arguments),re(this,\"currentUploadLogID\",0);}reportLogUploadError(t){let{errorRange:e}=t;e[e.length-1]&&e[e.length-1]>this.currentUploadLogID&&(this.currentUploadLogID=e[e.length-1],this.emit(\"REPORT_LOG_UPLOAD\",t));}},UE=class{constructor(e){re(this,\"logger\",void 0),re(this,\"prefixLists\",[]),this.logger=e;}debug(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this.logger.debug(...this.prefixLists,...n);}info(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this.logger.info(...this.prefixLists,...n);}warning(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this.logger.warning(...this.prefixLists,...n);}error(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this.logger.error(...this.prefixLists,...n);}prefix(e){return this.prefixLists.push(e),this}popPrefix(){return this.prefixLists.pop(),this}};function Np(){let t=new Date;return t.toTimeString().split(\" \")[0]+\":\"+t.getMilliseconds()}function wR(){let t=new Date,e=/((\\d+:){2}\\d+)/.exec(new Date().toUTCString());return e?e?.[0]+\":\"+t.getUTCMilliseconds():t.toTimeString().split(\" \")[0]+\":\"+t.getMilliseconds()}var Qn={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},Pd=Date.now(),ka=t=>{for(let e in Qn)if(Object.prototype.hasOwnProperty.call(Qn,e)&&Qn[e]===t)return e;return \"DEFAULT\"},_=new class{constructor(){re(this,\"proxyServerURL\",void 0),re(this,\"logLevel\",Qn.DEBUG),re(this,\"uploadState\",\"collecting\"),re(this,\"uploadLogWaitingList\",[]),re(this,\"uploadLogUploadingList\",[]),re(this,\"uploadErrorCount\",0),re(this,\"currentLogID\",0),re(this,\"url\",void 0),re(this,\"extLog\",(t,e)=>{this.appendLogToWaitingList(t,...e);});}debug(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];let i=[Qn.DEBUG].concat(e);this.log.apply(this,i);}info(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];let i=[Qn.INFO].concat(e);this.log.apply(this,i);}warning(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];let i=[Qn.WARNING].concat(e);this.log.apply(this,i);}warn(){this.warning(...arguments);}error(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];let i=[Qn.ERROR].concat(e);this.log.apply(this,i);}upload(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];let i=[Qn.DEBUG].concat(e);this.uploadLog.apply(this,i);}setLogLevel(t){t=Math.min(Math.max(0,t),4),this.logLevel=t;}enableLogUpload(){Ot(\"UPLOAD_LOG\",!0);}disableLogUpload(){Ot(\"UPLOAD_LOG\",!1),this.uploadLogUploadingList=[],this.uploadLogWaitingList=[];}setProxyServer(t){this.proxyServerURL=t;}prefix(t){return new UE(this).prefix(t)}log(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(Date.now()-Pd<100)return void setTimeout(()=>{this.log(...e);},Date.now()-Pd);let i=Math.max(0,Math.min(4,e[0]));if(e[0]=Np()+\" Agora-SDK [\".concat(ka(i),\"]:\"),this.appendLogToWaitingList(i,...e),i<this.logLevel)return;let r=Np()+\" %cAgora-SDK [\".concat(ka(i),\"]:\"),o=[];if(!v(\"USE_NEW_LOG\"))switch(i){case Qn.DEBUG:o=[r,\"color: #64B5F6;\"].concat(e.slice(1)),console.log.apply(console,o);break;case Qn.INFO:o=[r,\"color: #1E88E5; font-weight: bold;\"].concat(e.slice(1)),console.log.apply(console,o);break;case Qn.WARNING:o=[r,\"color: #FB8C00; font-weight: bold;\"].concat(e.slice(1)),console.warn.apply(console,o);break;case Qn.ERROR:o=[r,\"color: #B00020; font-weight: bold;\"].concat(e.slice(1)),console.error.apply(console,o);}}uploadLog(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(Date.now()-Pd<100)return void setTimeout(()=>{this.uploadLog(...e);},Date.now()-Pd);let i=Math.max(0,Math.min(4,e[0]));e[0]=Np()+\" Agora-SDK [\".concat(ka(i),\"]:\"),this.appendLogToWaitingList(i,...e);}appendLogToWaitingList(t){if(!v(\"UPLOAD_LOG\"))return;for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];Array.isArray(n[0])?n[0][0]=wR()+\" Agora-SDK [\".concat(ka(t),\"]:\"):n[0]=wR()+\" Agora-SDK [\".concat(ka(t),\"]:\");let r=\"\";n.forEach(o=>{typeof o==\"object\"&&(o=JSON.stringify(o)),r+=\"\".concat(o,\" \");}),this.uploadLogWaitingList.push({payload_str:r,log_level:t,log_item_id:this.currentLogID++}),this.uploadState===\"uploading\"&&this.uploadLogUploadingList.length===0&&this.uploadLogInterval();}startUpload(){this.uploadState=\"uploading\",this.uploadLogUploadingList.length===0&&this.uploadLogInterval();}async uploadLogs(){let t=this.uploadLogUploadingList,e={sdk_version:ii,process_id:v(\"PROCESS_ID\"),payload:JSON.stringify(t)};return Wi(async()=>{let n=await mn.post(this.url||(this.proxyServerURL?\"https://\".concat(this.proxyServerURL,\"/ls/?h=\").concat(v(\"LOG_UPLOAD_SERVER\"),\"&p=443&d=upload/v1\"):\"https://\".concat(v(\"LOG_UPLOAD_SERVER\"),\"/upload/v1\")),e,{responseType:\"text\"});if(n.data!==\"OK\"){let i=new Error(\"unexpected upload log response\");throw i.response=n,i}},()=>(this.uploadLogUploadingList=[],!1),n=>{let i={status:-1,message:n.message,errorRange:t.map(r=>r.log_item_id)};return n.response?(i.status=n.response.status,i.data=n.response.data,i.headers=n.response.headers):n.request&&(i.status=n.request.status),wO.reportLogUploadError(i),!0},{timeout:v(\"UPLOAD_LOG_REQUEST_RETRY_INTERVAL\"),maxRetryTimeout:v(\"UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL\")})}uploadLogInterval(){this.uploadLogUploadingList.length===0&&this.uploadLogWaitingList.length===0||(this.uploadLogUploadingList.length===0&&(this.uploadLogUploadingList=this.uploadLogWaitingList.splice(0,v(\"UPLOAD_LOG_LENGTH_EACH_TIME\"))),this.uploadLogs().then(()=>{this.uploadErrorCount=0,this.uploadLogWaitingList.length>0&&window.setTimeout(()=>this.uploadLogInterval(),v(\"UPLOAD_LOG_INTERVAL\"));}).catch(t=>{this.uploadErrorCount+=1,this.uploadErrorCount<2?window.setTimeout(()=>this.uploadLogInterval(),v(\"UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1\")):window.setTimeout(()=>this.uploadLogInterval(),v(\"UPLOAD_LOG_RETRY_INTERVAL_V1\"));}));}},OR;function RB(t){return Pe(t.reportId,\"params.reportId\",0,100,!1),Pe(t.category,\"params.category\",0,100,!1),Pe(t.event,\"params.event\",0,100,!1),Pe(t.label,\"params.label\",0,100,!1),Nt(t.value,\"params.value\",Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,!1),!0}(OR={}).FREE=\"free\",OR.UPLOADING=\"uploading\",function(t){t[t.MISC=0]=\"MISC\",t[t.INTERNAL_EVENT=1]=\"INTERNAL_EVENT\",t[t.PUBLIC_EVENT=2]=\"PUBLIC_EVENT\",t[t.WEB_EVENT=3]=\"WEB_EVENT\",t[t.INTERNAL_API=4]=\"INTERNAL_API\",t[t.WEB_API=5]=\"WEB_API\",t[t.PUBLIC_API=6]=\"PUBLIC_API\";}({});var CB={sid:\"\",lts:0,success:null,cname:null,uid:null,peer:null,cid:null,elapse:null,extend:null,vid:0},De=function(t){return t.PUBLISH=\"publish\",t.SUBSCRIBE=\"subscribe\",t.WS_COMPRESSOR_INIT=\"ws_compressor_init\",t.SESSION_INIT=\"session_init\",t.JOIN_CHOOSE_SERVER=\"join_choose_server\",t.REQ_USER_ACCOUNT=\"req_user_account\",t.JOIN_GATEWAY=\"join_gateway\",t.REJOIN_GATEWAY=\"rejoin_gateway\",t.STREAM_SWITCH=\"stream_switch\",t.REQUEST_PROXY_WORKER_MANAGER=\"request_proxy_worker_manager\",t.REQUEST_PROXY_APPCENTER=\"request_proxy_appcenter\",t.FIRST_VIDEO_RECEIVED=\"first_video_received\",t.FIRST_AUDIO_RECEIVED=\"first_audio_received\",t.FIRST_VIDEO_DECODE=\"first_video_decode\",t.FIRST_AUDIO_DECODE=\"first_audio_decode\",t.ON_ADD_AUDIO_STREAM=\"on_add_audio_stream\",t.ON_ADD_VIDEO_STREAM=\"on_add_video_stream\",t.ON_UPDATE_STREAM=\"on_update_stream\",t.ON_REMOVE_STREAM=\"on_remove_stream\",t.USER_ANALYTICS=\"req_user_analytics\",t.PC_STATS=\"pc_stats\",t.UPDATE_REMOTE_RTPCAPABILITIES=\"update_remote_rtpCapabilities\",t}({}),Jt=function(t){return t.SESSION=\"io.agora.pb.Wrtc.Session\",t.JOIN_CHOOSE_SERVER=\"io.agora.pb.Wrtc.JoinChooseServer\",t.REQ_USER_ACCOUNT=\"io.agora.pb.Wrtc.ReqUserAccount\",t.JOIN_GATEWAY=\"io.agora.pb.Wrtc.JoinGateway\",t.RE_JOIN_GATEWAY=\"io.agora.pb.Wrtc.ReJoinGateway\",t.PUBLISH=\"io.agora.pb.Wrtc.Publish\",t.SUBSCRIBE=\"io.agora.pb.Wrtc.Subscribe\",t.WS_COMPRESSOR_INIT=\"io.agora.pb.Wrtc.WsCompressorInit\",t.STREAM_SWITCH=\"io.agora.pb.Wrtc.StreamSwitch\",t.AUDIO_SENDING_STOPPED=\"io.agora.pb.Wrtc.AudioSendingStopped\",t.VIDEO_SENDING_STOPPED=\"io.agora.pb.Wrtc.VideoSendingStopped\",t.REQUEST_PROXY_APPCENTER=\"io.agora.pb.Wrtc.RequestProxyAppCenter\",t.REQUEST_PROXY_WORKER_MANAGER=\"io.agora.pb.Wrtc.RequestProxyWorkerManager\",t.API_INVOKE=\"io.agora.pb.Wrtc.ApiInvoke\",t.FIRST_VIDEO_RECEIVED=\"io.agora.pb.Wrtc.FirstVideoReceived\",t.FIRST_AUDIO_RECEIVED=\"io.agora.pb.Wrtc.FirstAudioReceived\",t.FIRST_VIDEO_DECODE=\"io.agora.pb.Wrtc.FirstVideoDecode\",t.FIRST_AUDIO_DECODE=\"io.agora.pb.Wrtc.FirstAudioDecode\",t.ON_ADD_AUDIO_STREAM=\"io.agora.pb.Wrtc.OnAddAudioStream\",t.ON_ADD_VIDEO_STREAM=\"io.agora.pb.Wrtc.OnAddVideoStream\",t.ON_UPDATE_STREAM=\"io.agora.pb.Wrtc.OnUpdateStream\",t.ON_REMOVE_STREAM=\"io.agora.pb.Wrtc.OnRemoveStream\",t.JOIN_CHANNEL_TIMEOUT=\"io.agora.pb.Wrtc.JoinChannelTimeout\",t.PEER_PUBLISH_STATUS=\"io.agora.pb.Wrtc.PeerPublishStatus\",t.WORKER_EVENT=\"io.agora.pb.Wrtc.WorkerEvent\",t.AP_WORKER_EVENT=\"io.agora.pb.Wrtc.APWorkerEvent\",t.JOIN_WEB_PROXY_AP=\"io.agora.pb.Wrtc.JoinWebProxyAP\",t.WEBSOCKET_QUIT=\"io.agora.pb.Wrtc.WebSocketQuit\",t.USER_ANALYTICS=\"io.agora.pb.Wrtc.UserAnalytics\",t.AUTOPLAY_FAILED=\"io.agora.pb.Wrtc.AutoplayFailed\",t.PC_STATS=\"io.agora.pb.Wrtc.PCStats\",t.UPDATE_REMOTE_RTPCAPABILITIES=\"io.agora.pb.Wrtc.UpdateRemoteRTPCapabilities\",t}({});(function(t){t[t.WORKER_EVENT=156]=\"WORKER_EVENT\",t[t.AP_WORKER_EVENT=160]=\"AP_WORKER_EVENT\";})({});var IB=function(t){return t[t.SESSION=26]=\"SESSION\",t[t.JOIN_CHOOSE_SERVER=27]=\"JOIN_CHOOSE_SERVER\",t[t.REQ_USER_ACCOUNT=196]=\"REQ_USER_ACCOUNT\",t[t.JOIN_GATEWAY=28]=\"JOIN_GATEWAY\",t[t.PUBLISH=30]=\"PUBLISH\",t[t.SUBSCRIBE=29]=\"SUBSCRIBE\",t[t.WS_COMPRESSOR_INIT=9430]=\"WS_COMPRESSOR_INIT\",t[t.STREAM_SWITCH=32]=\"STREAM_SWITCH\",t[t.AUDIO_SENDING_STOPPED=33]=\"AUDIO_SENDING_STOPPED\",t[t.VIDEO_SENDING_STOPPED=34]=\"VIDEO_SENDING_STOPPED\",t[t.REQUEST_PROXY_APPCENTER=35]=\"REQUEST_PROXY_APPCENTER\",t[t.REQUEST_PROXY_WORKER_MANAGER=36]=\"REQUEST_PROXY_WORKER_MANAGER\",t[t.API_INVOKE=41]=\"API_INVOKE\",t[t.FIRST_VIDEO_RECEIVED=348]=\"FIRST_VIDEO_RECEIVED\",t[t.FIRST_AUDIO_RECEIVED=349]=\"FIRST_AUDIO_RECEIVED\",t[t.FIRST_VIDEO_DECODE=350]=\"FIRST_VIDEO_DECODE\",t[t.FIRST_AUDIO_DECODE=351]=\"FIRST_AUDIO_DECODE\",t[t.ON_ADD_AUDIO_STREAM=352]=\"ON_ADD_AUDIO_STREAM\",t[t.ON_ADD_VIDEO_STREAM=353]=\"ON_ADD_VIDEO_STREAM\",t[t.ON_UPDATE_STREAM=356]=\"ON_UPDATE_STREAM\",t[t.ON_REMOVE_STREAM=355]=\"ON_REMOVE_STREAM\",t[t.JOIN_CHANNEL_TIMEOUT=407]=\"JOIN_CHANNEL_TIMEOUT\",t[t.PEER_PUBLISH_STATUS=408]=\"PEER_PUBLISH_STATUS\",t[t.WORKER_EVENT=156]=\"WORKER_EVENT\",t[t.AP_WORKER_EVENT=160]=\"AP_WORKER_EVENT\",t[t.JOIN_WEB_PROXY_AP=700]=\"JOIN_WEB_PROXY_AP\",t[t.WEBSOCKET_QUIT=671]=\"WEBSOCKET_QUIT\",t[t.USER_ANALYTICS=1e4]=\"USER_ANALYTICS\",t[t.AUTOPLAY_FAILED=9178]=\"AUTOPLAY_FAILED\",t}({}),bc=class t{constructor(){re(this,\"baseInfoMap\",new Map),re(this,\"proxyServer\",void 0),re(this,\"eventUploadTimer\",void 0),re(this,\"setSessionIdTimer\",void 0),re(this,\"url\",void 0),re(this,\"backupUrl\",void 0),re(this,\"_appId\",void 0),re(this,\"keyEventUploadPendingItems\",[]),re(this,\"normalEventUploadPendingItems\",[]),re(this,\"apiInvokeUploadPendingItems\",[]),re(this,\"apiInvokeCount\",0),re(this,\"ltsList\",[]),re(this,\"lastSendNormalEventTime\",Date.now()),re(this,\"customReportCounterTimer\",void 0),re(this,\"customReportCount\",0),re(this,\"extApiInvoke\",async e=>{for(let n of e){let i=ot(ot({},n),{},{sid:null,invokeId:++this.apiInvokeCount,tag:Zt.TRACER});this.sendApiInvoke(i);}}),this.eventUploadTimer=window.setInterval(this.doSend.bind(this),v(\"EVENT_REPORT_SEND_INTERVAL\")),this.setSessionIdTimer=window.setInterval(this.appendSessionId.bind(this),v(\"EVENT_REPORT_SEND_INTERVAL\"));}getBaseInfoBySessionId(e){return this.baseInfoMap.get(e)}adjustSessionStartTime(e){if(!this.baseInfoMap.has(e)&&!this.baseInfoMap.get(e))return void _.error(\"adjust session \".concat(e,\" start time, sid is not exist or info is undefined\"));let n=this.baseInfoMap.get(e),i=Date.now(),r=n.startTime;n.startTime=i,_.debug(\"rewrite session \".concat(e,\" startTime: \").concat(i,\" , \").concat(i-r,\"ms\")),this.baseInfoMap.set(e,n);}setAppId(e){this._appId=e;}reportApiInvoke(e,n,i){n.timeout=n.timeout||6e4,n.reportResult=n.reportResult===void 0||n.reportResult;let r=Date.now();this.apiInvokeCount+=1;let o=this.apiInvokeCount,s=()=>({tag:n.tag,invokeId:o,sid:e,name:n.name,apiInvokeTime:r,options:n.options,states:n.states||null}),a=!!v(\"SHOW_REPORT_INVOKER_LOG\");a&&_.info(\"\".concat(n.name,\" start\"),n.options);let c=!1;Me(n.timeout).then(()=>{c||(this.sendApiInvoke(ot(ot({},s()),{},{error:R.API_INVOKE_TIMEOUT,success:!1})),_.debug(\"\".concat(n.name,\" timeout\")));});let d=new N(R.UNEXPECTED_ERROR,\"\".concat(n.name,\": this api invoke is end\"));return {onSuccess:l=>{let u=()=>{if(c)throw d;return c=!0,this.sendApiInvoke(ot(ot({},s()),{},{success:!0},n.reportResult&&{result:l})),a&&_.info(\"\".concat(n.name,\" onSuccess\")),l};return i?RR(u,n.name+\"Success\",i,()=>c=!0):u()},onError:l=>{let u=()=>{if(c)throw l;c=!0,this.sendApiInvoke(ot(ot({},s()),{},{success:!1,error:l})),a&&_.info(\"\".concat(n.name,\" onFailure\"),l.toString());};return i?RR(u,n.name+\"Error\",i,()=>c=!0):u()}}}sessionInit(e,n){if(this.baseInfoMap.has(e))return;let i=Date.now(),r=this.createBaseInfo(e,i);r.cname=n.cname;let o=Object.assign({},{willUploadConsoleLog:v(\"UPLOAD_LOG\"),maxTouchPoints:navigator.maxTouchPoints,areaVersion:pf?\"global\":\"oversea\",areas:v(\"AREAS\")&&v(\"AREAS\").join(\",\")},n.extend),{stringUid:s,channelProfile:a,channelMode:c,isABTestSuccess:d,lsid:l,clientRole:u}=n,h=Date.now(),p=ot(ot({},r),{},{eventType:De.SESSION_INIT,appid:n.appid,browser:navigator.userAgent,buildFormat:n.buildFormat,build:Ef,lts:h,elapse:h-i,extend:JSON.stringify(o),mode:n.mode,process:v(\"PROCESS_ID\"),appType:v(\"APP_TYPE\"),success:!0,version:ii,stringUid:s,channelProfile:a,channelMode:c,isABTestSuccess:d,lsid:l,clientType:W(g=window.navigator.userAgent).call(g,\"AgoraWebView\")?42:20,clientRole:u,serviceId:v(\"PROCESS_ID\"),extensionID:v(\"PLUGIN_INFO\").join(\",\")||\"\"});var g;this.send({type:Jt.SESSION,data:p},!0);}joinChooseServer(e,n){let i=this.baseInfoMap.get(e);if(!i)return;let r=i.info,o=Date.now(),s=ot(ot({},r),{},{eventType:De.JOIN_CHOOSE_SERVER,lts:o,eventElapse:n.elapse||o-n.lts,chooseServerAddr:n.csAddr,errorCode:n.ec,elapse:o-i.startTime,success:n.succ,chooseServerAddrList:JSON.stringify(n.serverList),uid:n.uid?parseInt(n.uid):null,cid:n.cid?parseInt(n.cid):null,chooseServerIp:n.csIp||\"\",opid:n.opid,unilbsServerIds:n.unilbsServerIds,extend:n.extend||void 0,isHttp3:n.isHttp3});this.send({type:Jt.JOIN_CHOOSE_SERVER,data:s},!0);}reqUserAccount(e,n){let i=this.baseInfoMap.get(e);if(!i)return;let r=i.info,o=Date.now(),s=ot(ot({},r),{},{eventType:De.REQ_USER_ACCOUNT,lts:o,success:n.success,serverAddress:n.serverAddr,stringUid:n.stringUid,uid:n.uid,errorCode:n.errorCode,elapse:n.elapse||o-i.startTime,eventElapse:o-n.lts,extend:JSON.stringify(n.extend)});this.send({type:Jt.REQ_USER_ACCOUNT,data:s},!0);}joinGateway(e,n){let i=this.baseInfoMap.get(e);if(!i)return;let r=i.info;n.vid&&(r.vid=n.vid),r.uid=n.uid,r.cid=n.cid;let o=Date.now(),{firstSuccess:s,avoidJoinStartTime:a}=n,c=o-(s&&a?a:i.startTime),d=ot(ot({},r),{},{eventType:De.JOIN_GATEWAY,lts:o,gatewayAddr:n.addr,success:n.succ,errorCode:n.ec,errorMsg:n.errorMsg||\"\",elapse:c,eventElapse:o-n.lts,firstSuccess:s,signalChannel:n.signalChannel,preload:n.preload?1:0});n.succ&&(i.lastJoinSuccessTime=o),this.send({type:Jt.JOIN_GATEWAY,data:d},!0);}joinChannelTimeout(e,n){let i=this.baseInfoMap.get(e);if(!i)return;let r=Date.now(),o=ot(ot({},i.info),{},{lts:r,timeout:n,elapse:r-i.startTime});this.send({type:Jt.JOIN_CHANNEL_TIMEOUT,data:o},!0);}publish(e,n){let i=this.baseInfoMap.get(e);if(!i)return;let r=i.info,o=Date.now(),s=ot(ot({},r),{},{eventType:De.PUBLISH,lts:o,eventElapse:n.eventElapse,elapse:o-i.startTime,success:n.succ,errorCode:n.ec,videoName:n.videoName,audioName:n.audioName,screenName:n.screenName,screenshare:n.screenshare,audio:n.audio,video:n.video,p2pid:n.p2pid,publishRequestid:n.publishRequestid});this.send({type:Jt.PUBLISH,data:s},!0);}subscribe(e,n,i){let r=this.baseInfoMap.get(e);if(!r)return;let o=r.info,s=Date.now(),a=ot(ot({},o),{},{eventType:De.SUBSCRIBE,lts:s,eventElapse:n.eventElapse,elapse:s-r.startTime,success:n.succ,errorCode:n.ec,video:n.video,audio:n.audio,subscribeRequestid:n.subscribeRequestid,p2pid:n.p2pid,preSsrc:n.preSsrc?1:0},i&&{extend:JSON.stringify({isMassSubscribe:!0})});typeof n.peerid==\"string\"?a.peerSuid=n.peerid:a.peer=n.peerid,this.send({type:Jt.SUBSCRIBE,data:a},!0);}wsCompressorInit(e){var n;let i=[...xn(n=this.baseInfoMap).call(n)],r=i.length?i[0]:\"UnableToGetSid\",o=this.baseInfoMap.get(r);if(!o)return;let s=o.info,a=Date.now(),c=ot(ot({},s),{},{eventType:De.WS_COMPRESSOR_INIT,lts:a,eventElapse:e.eventElapse,elapse:a-o.startTime,status:e.status?1:2});this.send({type:Jt.WS_COMPRESSOR_INIT,data:c},!0);}firstRemoteVideoDecode(e,n,i,r){let o=this.baseInfoMap.get(e);if(!o)return;let s=o.info,a=Date.now(),c=ot(ot(ot({},s),r),{},{elapse:a-o.startTime,eventType:n,lts:a,firstDecodeFrame:Math.max((r.firstFrame||a)-o.startTime,0),apEnd:Math.max(r.apEnd-o.startTime,0),apStart:Math.max(r.apStart-o.startTime,0),joinGwEnd:Math.max(r.joinGwEnd-o.startTime,0),joinGwStart:Math.max(r.joinGwStart-o.startTime,0),pcEnd:Math.max(r.pcEnd-o.startTime,0),pcStart:Math.max(r.pcStart-o.startTime,0),subscriberEnd:Math.max(r.subscriberEnd-o.startTime,0),subscriberStart:Math.max(r.subscriberStart-o.startTime,0),videoAddNotify:Math.max(r.videoAddNotify-o.startTime,0)});this.send({type:i,data:c},!0);}firstRemoteFrame(e,n,i,r){let o=this.baseInfoMap.get(e);if(!o)return;let s=o.info,a=Date.now(),c=ot(ot(ot({},s),r),{},{elapse:a-o.startTime,eventType:n,lts:a});this.send({type:i,data:c},!0);}pcStats(e,n){let i=this.baseInfoMap.get(e);if(!i)return;let r=i.info,o=Date.now(),s=ot(ot(ot({},r),n),{},{vid:r.vid===void 0?0:Number(r.vid),elapse:o-i.startTime,eventType:De.PC_STATS,lts:o,preallocation:n.preallocation?1:0});this.send({type:Jt.PC_STATS,data:s},!0);}updateRemoteRTPCapabilities(e,n){if(e){let i=this.baseInfoMap.get(e);if(!i)return;let r=i.info,o=Date.now(),s=ot(ot(ot({},r),n),{},{vid:r.vid===void 0?0:Number(r.vid),eventType:De.UPDATE_REMOTE_RTPCAPABILITIES,lts:o});this.send({type:Jt.UPDATE_REMOTE_RTPCAPABILITIES,data:s},!0);}}onGatewayStream(e,n,i,r){let o=this.baseInfoMap.get(e);if(!o)return;let s=o.info,a=Date.now(),c=ot(ot(ot({},s),r),{},{eventType:n,lts:a});this.send({type:i,data:c},!0);}streamSwitch(e,n){let i=this.baseInfoMap.get(e);if(!i)return;let r=i.info,o=Date.now(),s=ot(ot({},r),{},{eventType:De.STREAM_SWITCH,lts:o,isDual:n.isdual,elapse:o-i.startTime,success:n.succ});this.send({type:Jt.STREAM_SWITCH,data:s},!0);}requestProxyAppCenter(e,n){let i=this.baseInfoMap.get(e);if(!i)return;let r=i.info,o=Date.now(),s=ot(ot({},r),{},{eventType:De.REQUEST_PROXY_APPCENTER,lts:o,eventElapse:o-n.lts,elapse:o-i.startTime,APAddr:n.APAddr,workerManagerList:n.workerManagerList,response:n.response,errorCode:n.ec,success:n.succ});this.send({type:Jt.REQUEST_PROXY_APPCENTER,data:s},!0);}requestProxyWorkerManager(e,n){let i=this.baseInfoMap.get(e);if(!i)return;let r=i.info,o=Date.now(),s=ot(ot({},r),{},{eventType:De.REQUEST_PROXY_WORKER_MANAGER,lts:o,eventElapse:o-n.lts,elapse:o-i.startTime,workerManagerAddr:n.workerManagerAddr,response:n.response,errorCode:n.ec,success:n.succ});this.send({type:Jt.REQUEST_PROXY_WORKER_MANAGER,data:s},!0);}setProxyServer(e){this.proxyServer=e,e?_.debug(\"reportProxyServerurl: \".concat(e)):_.debug(\"disable reportProxyServerurl: \".concat(e));}peerPublishStatus(e,n){let i=this.baseInfoMap.get(e);if(!i)return;let r=i.info,o=Date.now(),s=ot(ot({},r),{},{subscribeElapse:n.subscribeElapse,peer:n.peer,peerPublishDuration:Math.max(n.audioPublishDuration,n.videoPublishDuration),audiotag:n.audioPublishDuration>0?1:-1,videotag:n.videoPublishDuration>0?1:-1,lts:o,elapse:o-i.startTime,joinChannelSuccessElapse:o-(i.lastJoinSuccessTime||o),peerPublishDurationVideo:n.videoPublishDuration,peerPublishDurationAudio:n.audioPublishDuration});this.send({type:Jt.PEER_PUBLISH_STATUS,data:s},!0);}workerEvent(e,n){let i=this.baseInfoMap.get(e);if(!i)return;let r=i.info,o=Date.now();(function(s,a,c){let d=s[a];if(!d||typeof d!=\"string\")return [s];s[a]=\"\";let l=ar(JSON.stringify(s)),u=0,h=[],p=0;for(let g=0;g<d.length;g++)p+=d.charCodeAt(g)<=127?1:3,p<=c-l||(h[h.length]=J(J({},s),{},{[a]:d.substring(u,g)}),u=g,p=d.charCodeAt(g)<=127?1:3);return u!==d.length-1&&(h[h.length]=J(J({},s),{},{[a]:d.substring(u)})),h})(ot(ot(ot({},r),n),{},{elapse:o-i.startTime,lts:o,productType:\"WebRTC\"}),\"payload\",1300).forEach(s=>this.send({type:Jt.WORKER_EVENT,data:s},!0));}apworkerEvent(e,n){let i=this.baseInfoMap.get(e);if(!i)return;let r=i.info,o=Date.now(),s=ot(ot(ot({},r),n),{},{elapse:o-i.startTime,lts:o});this.send({type:Jt.AP_WORKER_EVENT,data:s},!0);}joinWebProxyAP(e,n){let i=this.baseInfoMap.get(e);if(!i)return;let r=i.info,o=Date.now(),s=ot(ot(ot({},r),n),{},{elapse:o-i.startTime,lts:o,extend:n.extend||void 0});this.send({type:Jt.JOIN_WEB_PROXY_AP,data:s},!0);}WebSocketQuit(e,n){let i=this.baseInfoMap.get(e);if(!i)return;let r=i.info,o=Date.now(),s=ot(ot(ot({},r),n),{},{elapse:o-i.startTime,lts:o});this.send({type:Jt.WEBSOCKET_QUIT,data:s},!0);}async sendCustomReportMessage(e,n){if(this.customReportCount+=n.length,this.customReportCount>v(\"CUSTOM_REPORT_LIMIT\"))throw new N(R.CUSTOM_REPORT_FREQUENCY_TOO_HIGH);this.customReportCounterTimer||(this.customReportCounterTimer=window.setInterval(()=>{this.customReportCount=0;},5e3));let i=Date.now(),r=n.map(o=>({type:Jt.USER_ANALYTICS,data:ot(ot({sid:e},o),{},{lts:i})}));try{v(\"NEW_REPORT_SERVER\")?await this.postDataToStatsCollector2(r):await this.postDataToStatsCollector(r);}catch(o){throw _.error(\"send custom report message failed\",o.toString()),new N(R.CUSTOM_REPORT_SEND_FAILED,o.message)}}sendApiInvoke(e){let n=v(\"NOT_REPORT_EVENT\");if(e.tag&&W(n)&&W(n).call(n,e.tag))return !1;if(e.sid===null)return this.apiInvokeUploadPendingItems.push(e),!1;let i=this.baseInfoMap.get(e.sid);if(!i)return this.apiInvokeUploadPendingItems.push(e),!1;let{cname:r,uid:o,cid:s}=i.info,a;if(e.lts=e.lts||Date.now(),e.error)if(e.error instanceof N){let{code:d,message:l}=e.error;a=d||l||e.error.toString();}else a=e.error.toString();let c={invokeId:e.invokeId,sid:e.sid,cname:r,cid:s,uid:o,lts:e.lts,success:e.success,elapse:e.lts-i.startTime,execElapse:e.lts-e.apiInvokeTime,apiName:e.name,options:e.options?JSON.stringify(e.options):void 0,execStates:e.states?JSON.stringify(e.states):void 0,execResult:e.result?JSON.stringify(e.result):void 0,errorCode:e.error?a:void 0,errorMsg:e.error?JSON.stringify(e.error):void 0};return this.send({type:Jt.API_INVOKE,data:c},!1),!0}appendSessionId(){t.__CLIENT_LIST__.forEach(e=>{if(e._sessionId){let n=this.apiInvokeUploadPendingItems.length;for(let i=0;i<n;i++){let r=this.apiInvokeUploadPendingItems.shift();r&&(r.sid=e._sessionId,this.sendApiInvoke(Object.assign({},r)));}}});}send(e,n){if(n)return this.keyEventUploadPendingItems.push(e),void this.sendItems(this.keyEventUploadPendingItems,!0);this.normalEventUploadPendingItems.push(e),this.normalEventUploadPendingItems.length>v(\"NORMAL_EVENT_QUEUE_CAPACITY\")&&this.normalEventUploadPendingItems.splice(0,1),this.normalEventUploadPendingItems.length>=10&&this.sendItems(this.normalEventUploadPendingItems,!1);}doSend(){this.keyEventUploadPendingItems.length>0&&this.sendItems(this.keyEventUploadPendingItems,!0),this.normalEventUploadPendingItems.length>0&&Date.now()-this.lastSendNormalEventTime>=5e3&&this.sendItems(this.normalEventUploadPendingItems,!1);}sendItems(e,n){let i=[],r=[];for(;e.length;){let s=e.shift();i.length<20?i.push(s):r.push(s);}e.push(...r);for(let s of [...i]){var o;this.ltsList.indexOf(s.data.lts)!==-1?(s.data.lts=this.ltsList[this.ltsList.length-1]+1,this.ltsList.push(s.data.lts)):(this.ltsList.push(s.data.lts),ed(o=this.ltsList).call(o,(a,c)=>a-c));}return n||(this.lastSendNormalEventTime=Date.now()),v(\"ENABLE_EVENT_REPORT\")&&i.length&&(v(\"NEW_REPORT_SERVER\")?this.postDataToStatsCollector2(i):this.postDataToStatsCollector(i)).catch((s=>a=>{v(\"EVENT_REPORT_RETRY\")&&(n?this.keyEventUploadPendingItems=this.keyEventUploadPendingItems.concat(s):(this.normalEventUploadPendingItems=this.normalEventUploadPendingItems.concat(s),this.normalEventUploadPendingItems.length>v(\"NORMAL_EVENT_QUEUE_CAPACITY\")&&(this.normalEventUploadPendingItems.splice(0,this.normalEventUploadPendingItems.length-v(\"NORMAL_EVENT_QUEUE_CAPACITY\")),_.warning(\"report: drop normal events\"))));})(i)),e}async postDataToStatsCollector2(e){he.networkState===wn.OFFLINE&&await j.race([he.onlineWaiter,Me(2*Ee.maxRetryTimeout)]);let n=o=>{let s=new Uint8Array;return o.forEach(a=>{let c=uf(JSON.stringify(a.data)),d=new ArrayBuffer(5),l=(h=>{let p=0;return Object.entries(Jt).forEach(g=>{let[E,f]=g;f===h.type&&(p=IB[E]);}),p})(a),u=new DataView(d);u.setUint16(0,c.byteLength,!0),u.setUint8(2,255&l),u.setUint8(3,l>>>8&255),u.setUint8(4,l>>>16&255),s=ER(s,new Uint8Array(d)),s=ER(s,c);}),s},i=\"event\",r=this.proxyServer?\"https://\".concat(this.proxyServer,\"/rs/?h=\").concat(v(\"NEW_REPORT_SERVER_DOMAINS\")[0],\"&p=443&d=\").concat(i):\"https://\".concat(v(\"NEW_REPORT_SERVER_DOMAINS\")[0],\"/\").concat(i);for(let o=0;o<2;o+=1){o===1&&(r=this.proxyServer?\"https://\".concat(this.proxyServer,\"/rs/?h=\").concat(v(\"NEW_REPORT_SERVER_DOMAINS\")[1],\"&p=443&d=\").concat(i):\"https://\".concat(v(\"NEW_REPORT_SERVER_DOMAINS\")[1],\"/\").concat(i));try{await LE(r,{timeout:1e4,data:n(e),headers:ot(ot({biz:\"webrtc\",sendts:Math.round(Date.now()/1e3),debug:\"false\"},this._appId&&{appid:this._appId}),{},{\"Content-Type\":\"application/octet-stream\"})},!0);}catch(s){if(o===1)throw s;continue}return}}async postDataToStatsCollector(e){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i={msgType:\"EventMessages\",sentTs:Math.round(Date.now()/1e3),payloads:e.map(s=>JSON.stringify(s)),vid:(s=>{let a=s&&s.data.sid&&this.baseInfoMap.get(s.data.sid);return a&&a.info.vid&&+a.info.vid||0})(e[0])};he.networkState===wn.OFFLINE&&await j.race([he.onlineWaiter,Me(2*Ee.maxRetryTimeout)]);let r=n?\"/events/proto-raws\":\"/events/messages\",o=this.url||(this.proxyServer?\"https://\".concat(this.proxyServer,\"/rs/?h=\").concat(v(\"EVENT_REPORT_DOMAIN\"),\"&p=\").concat(v(\"STATS_COLLECTOR_PORT\"),\"&d=\").concat(r):\"https://\".concat(v(\"EVENT_REPORT_DOMAIN\"),\":\").concat(v(\"STATS_COLLECTOR_PORT\")).concat(r));for(let s=0;s<2;s+=1){s===1&&(o=this.backupUrl||(this.proxyServer?\"https://\".concat(this.proxyServer,\"/rs/?h=\").concat(v(\"EVENT_REPORT_BACKUP_DOMAIN\"),\"&p=\").concat(v(\"STATS_COLLECTOR_PORT\"),\"&d=\").concat(r):\"https://\".concat(v(\"EVENT_REPORT_BACKUP_DOMAIN\"),\":\").concat(v(\"STATS_COLLECTOR_PORT\")).concat(r)));try{n?await gB(o,{timeout:1e4,data:i}):await LE(o,{timeout:1e4,data:i});}catch(a){if(s===1)throw a;continue}return}}createBaseInfo(e,n){let i=Object.assign({},CB);return i.sid=e,this.baseInfoMap.set(e,{info:i,startTime:n}),i}reportResourceTiming(e,n){let i=performance.getEntriesByName(e),r=i[i.length-1];r&&this.reportApiInvoke(n,{name:\"Client.resourceTiming\",options:r,tag:Zt.TRACER}).onSuccess();}};function $(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(e,n,i){let r=i.value;if(typeof r==\"function\"){let o=t.className||e.__className__||(e.constructor.name===\"AgoraRTCClient\"?\"Client\":e.constructor.name);i.value=function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];let d=a;if(t.argsMap)try{d=t.argsMap(this,...a);}catch(u){_.warning(u),d=[];}try{JSON.stringify(d);}catch{_.warning(\"arguments for method \".concat(o,\".\").concat(String(n),\" not serializable for apiInvoke.\")),d=[];}let l=(t.report||X).reportApiInvoke(this._sessionId||null,{name:\"\".concat(o,\".\").concat(String(n)),options:d,tag:Zt.TRACER,reportResult:t.reportResult},t.throttleTime);try{let u=r.apply(this,a);return u instanceof j?u.then(h=>(l.onSuccess(t.reportResult&&h),h)).catch(h=>{throw l.onError(h),h}):(l.onSuccess(t.reportResult&&u),u)}catch(u){throw l.onError(u),u}};}return i}}re(bc,\"__CLIENT_LIST__\",[]);var X=new bc;wO.on(\"REPORT_LOG_UPLOAD\",t=>{t.networkState=he.networkState,X.reportApiInvoke(null,{name:\"logUploadError\",options:t,tag:Zt.TRACER}).onSuccess(\"logUploadError\");});var vB=[\"CHINA\",\"GLOBAL\"],Ve=function(){let t=\"us\".concat(\"erna\",\"me\"),e=\"pa\".concat(\"sswo\",\"rd\"),n=[\"t\",\"s\",\"t\"];n.splice(1,0,\"e\");let i=n.join(\"\"),r=[];for(let a=0;a<6;a++)r.push(\"1\");let o=r.join(\"\"),s={};return s[t]=i,s[e]=o,Object.assign(s,{turnServerURL:\"\",tcpport:3433,udpport:3478,forceturn:!1})}();window.DEFAULT_TURN_CONFIG=Ve,pf||(oe.WEBCS_DOMAIN=[\"ap-web-1-oversea.agora.io\",\"ap-web-1-north-america.agora.io\"],oe.WEBCS_DOMAIN_BACKUP_LIST=[\"ap-web-2-oversea.agora.io\",\"ap-web-2-north-america.agora.io\"],oe.PROXY_CS=[\"proxy-ap-web-oversea.agora.io\",\"proxy-ap-web-america.agora.io\"],oe.CDS_AP=[\"cds-ap-web-oversea.agora.io\",\"cds-ap-web-america.agora.io\",\"cds-ap-web-america2.agora.io\"],oe.ACCOUNT_REGISTER=[\"sua-ap-web-oversea.agora.io\",\"sua-ap-web-america.agora.io\",\"sua-ap-web-america2.agora.io\"],oe.UAP_AP=[\"uap-ap-web-oversea.agora.io\",\"uap-ap-web-america.agora.io\",\"uap-ap-web-america2.agora.io\"],oe.LOG_UPLOAD_SERVER=\"logservice-oversea.agora.io\",oe.EVENT_REPORT_DOMAIN=\"statscollector-1-oversea.agora.io\",oe.EVENT_REPORT_BACKUP_DOMAIN=\"statscollector-2-oversea.agora.io\",oe.PROXY_SERVER_TYPE3=\"webrtc-cloud-proxy.agora.io\",oe.AREAS=[\"NORTH_AMERICA\",\"OVERSEA\"]);var OO=[[0,1,2,3,4,5,5],[0,2,2,3,4,5,5],[0,3,3,3,4,5,5],[0,4,4,4,4,5,5],[0,5,5,5,5,5,5]],Jr=[];function Io(t,e){return !!e&&Jr.some(n=>n.uid===t&&n.channelName===e)}bc.__CLIENT_LIST__=Jr;var yB=bw.forEach,NR=Nu(\"forEach\")?[].forEach:function(t){return yB(this,t,arguments.length>1?arguments[1]:void 0)};xt({target:\"Array\",proto:!0,forced:[].forEach!=NR},{forEach:NR});var AB=bi(\"Array\").forEach,bB=Er,wB=Je,OB=hn,NB=AB,Dp=Array.prototype,DB={DOMTokenList:!0,NodeList:!0},PB=function(t){var e=t.forEach;return t===Dp||OB(Dp,t)&&e===Dp.forEach||wB(DB,bB(t))?NB:e},kB=ae(PB),LB=_r,DR=Lu;xt({target:\"Object\",stat:!0,forced:Se(function(){DR(1);})},{keys:function(t){return DR(LB(t))}});var NO=ae(Gi.Object.keys),MB=ae(VA),UB=xt,xB=nd,VB=me([].reverse),PR=[1,2];UB({target:\"Array\",proto:!0,forced:String(PR)===String(PR.reverse())},{reverse:function(){return xB(this)&&(this.length=this.length),VB(this)}});var FB=bi(\"Array\").reverse,BB=hn,jB=FB,Pp=Array.prototype,GB=function(t){var e=t.reverse;return t===Pp||BB(Pp,t)&&e===Pp.reverse?jB:e},DO=GB,WB=ae(DO),HB=xt,kR=nd,KB=xu,YB=Hn,LR=Om,qB=Lr,zB=Eo,JB=Bu,XB=pe,QB=Gm,ZB=Iw(\"slice\"),$B=XB(\"species\"),kp=Array,tj=Math.max;HB({target:\"Array\",proto:!0,forced:!ZB},{slice:function(t,e){var n,i,r,o=zB(this),s=qB(o),a=LR(t,s),c=LR(e===void 0?s:e,s);if(kR(o)&&(n=o.constructor,(KB(n)&&(n===kp||kR(n.prototype))||YB(n)&&(n=n[$B])===null)&&(n=void 0),n===kp||n===void 0))return QB(o,a,c);for(i=new(n===void 0?kp:n)(tj(c-a,0)),r=0;a<c;a++,r++)a in o&&JB(i,r,o[a]);return i.length=r,i}});var ej=bi(\"Array\").slice,nj=hn,ij=ej,Lp=Array.prototype,rj=function(t){var e=t.slice;return t===Lp||nj(Lp,t)&&e===Lp.slice?ij:e},oj=ae(rj);function q(t,e,n,i,r){var o,s,a,c={};return kB(o=NO(i)).call(o,function(d){c[d]=i[d];}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,(\"value\"in c||c.initializer)&&(c.writable=!0),c=MB(s=WB(a=oj(n).call(n)).call(a)).call(s,function(d,l){return l(t,e,d)||d},c),r&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(r):void 0,c.initializer=void 0),c.initializer===void 0&&(Rw(t,e,c),c=null),c}var xE=function(t){return t.L1T1=\"L1T1\",t.L1T2=\"L1T2\",t.L1T3=\"L1T3\",t.L1T3_KEY=\"L1T3_KEY\",t.L2T1_KEY=\"L2T1_KEY\",t.L2T2_KEY=\"L2T2_KEY\",t.L2T3_KEY=\"L2T3_KEY\",t.L3T1_KEY=\"L3T1_KEY\",t.L3T2_KEY=\"L3T2_KEY\",t.L3T3_KEY=\"L3T3_KEY\",t}({}),kn=function(t){return t.CERTIFICATE=\"certificate\",t.CODEC=\"codec\",t.CANDIDATE_PAIR=\"candidate-pair\",t.LOCAL_CANDIDATE=\"local-candidate\",t.REMOTE_CANDIDATE=\"remote-candidate\",t.INBOUND=\"inbound-rtp\",t.TRACK=\"track\",t.OUTBOUND=\"outbound-rtp\",t.PC=\"peer-connection\",t.REMOTE_INBOUND=\"remote-inbound-rtp\",t.REMOTE_OUTBOUND=\"remote-outbound-rtp\",t.TRANSPORT=\"transport\",t.CSRC=\"csrc\",t.DATA_CHANNEL=\"data-channel\",t.STREAM=\"stream\",t.SENDER=\"sender\",t.RECEIVER=\"receiver\",t}({}),gl=function(t){return t[t.ACCESS_POINT=101]=\"ACCESS_POINT\",t[t.UNILBS=201]=\"UNILBS\",t[t.STRING_UID_ALLOCATOR=901]=\"STRING_UID_ALLOCATOR\",t}({}),Mp=function(t){return t[t.IIIEGAL_APPID=1]=\"IIIEGAL_APPID\",t[t.IIIEGAL_UID=2]=\"IIIEGAL_UID\",t[t.INTERNAL_ERROR=3]=\"INTERNAL_ERROR\",t}({}),ci=function(t){return t[t.INVALID_VENDOR_KEY=5]=\"INVALID_VENDOR_KEY\",t[t.INVALID_CHANNEL_NAME=7]=\"INVALID_CHANNEL_NAME\",t[t.INTERNAL_ERROR=8]=\"INTERNAL_ERROR\",t[t.NO_AUTHORIZED=9]=\"NO_AUTHORIZED\",t[t.DYNAMIC_KEY_TIMEOUT=10]=\"DYNAMIC_KEY_TIMEOUT\",t[t.NO_ACTIVE_STATUS=11]=\"NO_ACTIVE_STATUS\",t[t.DYNAMIC_KEY_EXPIRED=13]=\"DYNAMIC_KEY_EXPIRED\",t[t.STATIC_USE_DYNAMIC_KEY=14]=\"STATIC_USE_DYNAMIC_KEY\",t[t.DYNAMIC_USE_STATIC_KEY=15]=\"DYNAMIC_USE_STATIC_KEY\",t[t.USER_OVERLOAD=16]=\"USER_OVERLOAD\",t[t.FORBIDDEN_REGION=18]=\"FORBIDDEN_REGION\",t[t.CANNOT_MEET_AREA_DEMAND=19]=\"CANNOT_MEET_AREA_DEMAND\",t}({}),on=function(t){return t[t.NO_FLAG_SET=100]=\"NO_FLAG_SET\",t[t.FLAG_SET_BUT_EMPTY=101]=\"FLAG_SET_BUT_EMPTY\",t[t.INVALID_FALG_SET=102]=\"INVALID_FALG_SET\",t[t.FLAG_SET_BUT_NO_RE=103]=\"FLAG_SET_BUT_NO_RE\",t[t.INVALID_SERVICE_ID=104]=\"INVALID_SERVICE_ID\",t[t.NO_SERVICE_AVAILABLE=200]=\"NO_SERVICE_AVAILABLE\",t[t.NO_SERVICE_AVAILABLE_P2P=201]=\"NO_SERVICE_AVAILABLE_P2P\",t[t.NO_SERVICE_AVAILABLE_VOICE=202]=\"NO_SERVICE_AVAILABLE_VOICE\",t[t.NO_SERVICE_AVAILABLE_WEBRTC=203]=\"NO_SERVICE_AVAILABLE_WEBRTC\",t[t.NO_SERVICE_AVAILABLE_CDS=204]=\"NO_SERVICE_AVAILABLE_CDS\",t[t.NO_SERVICE_AVAILABLE_CDN=205]=\"NO_SERVICE_AVAILABLE_CDN\",t[t.NO_SERVICE_AVAILABLE_TDS=206]=\"NO_SERVICE_AVAILABLE_TDS\",t[t.NO_SERVICE_AVAILABLE_REPORT=207]=\"NO_SERVICE_AVAILABLE_REPORT\",t[t.NO_SERVICE_AVAILABLE_APP_CENTER=208]=\"NO_SERVICE_AVAILABLE_APP_CENTER\",t[t.NO_SERVICE_AVAILABLE_ENV0=209]=\"NO_SERVICE_AVAILABLE_ENV0\",t[t.NO_SERVICE_AVAILABLE_VOET=210]=\"NO_SERVICE_AVAILABLE_VOET\",t[t.NO_SERVICE_AVAILABLE_STRING_UID=211]=\"NO_SERVICE_AVAILABLE_STRING_UID\",t[t.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS=212]=\"NO_SERVICE_AVAILABLE_WEBRTC_UNILBS\",t[t.NO_SERVICE_AVAILABLE_UNILBS_FLV=213]=\"NO_SERVICE_AVAILABLE_UNILBS_FLV\",t}({}),Z=function(t){return t[t.K_TIMESTAMP_EXPIRED=2]=\"K_TIMESTAMP_EXPIRED\",t[t.K_CHANNEL_PERMISSION_INVALID=3]=\"K_CHANNEL_PERMISSION_INVALID\",t[t.K_CERTIFICATE_INVALID=4]=\"K_CERTIFICATE_INVALID\",t[t.K_CHANNEL_NAME_EMPTY=5]=\"K_CHANNEL_NAME_EMPTY\",t[t.K_CHANNEL_NOT_FOUND=6]=\"K_CHANNEL_NOT_FOUND\",t[t.K_TICKET_INVALID=7]=\"K_TICKET_INVALID\",t[t.K_CHANNEL_CONFLICTED=8]=\"K_CHANNEL_CONFLICTED\",t[t.K_SERVICE_NOT_READY=9]=\"K_SERVICE_NOT_READY\",t[t.K_SERVICE_TOO_HEAVY=10]=\"K_SERVICE_TOO_HEAVY\",t[t.K_UID_BANNED=14]=\"K_UID_BANNED\",t[t.K_IP_BANNED=15]=\"K_IP_BANNED\",t[t.K_CHANNEL_BANNED=16]=\"K_CHANNEL_BANNED\",t[t.K_AUTO_REBALANCE=28]=\"K_AUTO_REBALANCE\",t[t.WARN_NO_AVAILABLE_CHANNEL=103]=\"WARN_NO_AVAILABLE_CHANNEL\",t[t.WARN_LOOKUP_CHANNEL_TIMEOUT=104]=\"WARN_LOOKUP_CHANNEL_TIMEOUT\",t[t.WARN_LOOKUP_CHANNEL_REJECTED=105]=\"WARN_LOOKUP_CHANNEL_REJECTED\",t[t.WARN_OPEN_CHANNEL_TIMEOUT=106]=\"WARN_OPEN_CHANNEL_TIMEOUT\",t[t.WARN_OPEN_CHANNEL_REJECTED=107]=\"WARN_OPEN_CHANNEL_REJECTED\",t[t.WARN_REQUEST_DEFERRED=108]=\"WARN_REQUEST_DEFERRED\",t[t.ERR_DYNAMIC_KEY_TIMEOUT=109]=\"ERR_DYNAMIC_KEY_TIMEOUT\",t[t.ERR_NO_AUTHORIZED=110]=\"ERR_NO_AUTHORIZED\",t[t.ERR_VOM_SERVICE_UNAVAILABLE=111]=\"ERR_VOM_SERVICE_UNAVAILABLE\",t[t.ERR_NO_CHANNEL_AVAILABLE_CODE=112]=\"ERR_NO_CHANNEL_AVAILABLE_CODE\",t[t.ERR_MASTER_VOCS_UNAVAILABLE=114]=\"ERR_MASTER_VOCS_UNAVAILABLE\",t[t.ERR_INTERNAL_ERROR=115]=\"ERR_INTERNAL_ERROR\",t[t.ERR_NO_ACTIVE_STATUS=116]=\"ERR_NO_ACTIVE_STATUS\",t[t.ERR_INVALID_UID=117]=\"ERR_INVALID_UID\",t[t.ERR_DYNAMIC_KEY_EXPIRED=118]=\"ERR_DYNAMIC_KEY_EXPIRED\",t[t.ERR_STATIC_USE_DYANMIC_KE=119]=\"ERR_STATIC_USE_DYANMIC_KE\",t[t.ERR_DYNAMIC_USE_STATIC_KE=120]=\"ERR_DYNAMIC_USE_STATIC_KE\",t[t.ERR_NO_VOCS_AVAILABLE=2e3]=\"ERR_NO_VOCS_AVAILABLE\",t[t.ERR_NO_VOS_AVAILABLE=2001]=\"ERR_NO_VOS_AVAILABLE\",t[t.ERR_JOIN_CHANNEL_TIMEOUT=2002]=\"ERR_JOIN_CHANNEL_TIMEOUT\",t[t.ERR_REPEAT_JOIN_CHANNEL=2003]=\"ERR_REPEAT_JOIN_CHANNEL\",t[t.ERR_JOIN_BY_MULTI_IP=2004]=\"ERR_JOIN_BY_MULTI_IP\",t[t.ERR_NOT_JOINED=2011]=\"ERR_NOT_JOINED\",t[t.ERR_REPEAT_JOIN_REQUEST=2012]=\"ERR_REPEAT_JOIN_REQUEST\",t[t.ERR_INVALID_VENDOR_KEY=2013]=\"ERR_INVALID_VENDOR_KEY\",t[t.ERR_INVALID_CHANNEL_NAME=2014]=\"ERR_INVALID_CHANNEL_NAME\",t[t.ERR_INVALID_STRINGUID=2015]=\"ERR_INVALID_STRINGUID\",t[t.ERR_TOO_MANY_USERS=2016]=\"ERR_TOO_MANY_USERS\",t[t.ERR_SET_CLIENT_ROLE_TIMEOUT=2017]=\"ERR_SET_CLIENT_ROLE_TIMEOUT\",t[t.ERR_SET_CLIENT_ROLE_NO_PERMISSION=2018]=\"ERR_SET_CLIENT_ROLE_NO_PERMISSION\",t[t.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE=2019]=\"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE\",t[t.ERR_PUBLISH_REQUEST_INVALID=2020]=\"ERR_PUBLISH_REQUEST_INVALID\",t[t.ERR_SUBSCRIBE_REQUEST_INVALID=2021]=\"ERR_SUBSCRIBE_REQUEST_INVALID\",t[t.ERR_NOT_SUPPORTED_MESSAGE=2022]=\"ERR_NOT_SUPPORTED_MESSAGE\",t[t.ERR_ILLEAGAL_PLUGIN=2023]=\"ERR_ILLEAGAL_PLUGIN\",t[t.ERR_REJOIN_TOKEN_INVALID=2024]=\"ERR_REJOIN_TOKEN_INVALID\",t[t.ERR_REJOIN_USER_NOT_JOINED=2025]=\"ERR_REJOIN_USER_NOT_JOINED\",t[t.ERR_INVALID_OPTIONAL_INFO=2027]=\"ERR_INVALID_OPTIONAL_INFO\",t[t.ILLEGAL_AES_PASSWORD=2028]=\"ILLEGAL_AES_PASSWORD\",t[t.ILLEGAL_CLIENT_ROLE_LEVEL=2029]=\"ILLEGAL_CLIENT_ROLE_LEVEL\",t[t.ERR_TOO_MANY_BROADCASTERS=2031]=\"ERR_TOO_MANY_BROADCASTERS\",t[t.ERR_TOO_MANY_SUBSCRIBERS=2032]=\"ERR_TOO_MANY_SUBSCRIBERS\",t[t.ERR_LICENSE_MISSING=32769]=\"ERR_LICENSE_MISSING\",t[t.ERR_LICENSE_EXPIRED=32771]=\"ERR_LICENSE_EXPIRED\",t[t.ERR_LICENSE_MINUTES_EXCEEDED=32773]=\"ERR_LICENSE_MINUTES_EXCEEDED\",t[t.ERR_LICENSE_PERIOD_INVALID=32774]=\"ERR_LICENSE_PERIOD_INVALID\",t[t.ERR_LICENSE_MULTIPLE_SDK_SERVICE=32778]=\"ERR_LICENSE_MULTIPLE_SDK_SERVICE\",t[t.ERR_LICENSE_ILLEGAL=32783]=\"ERR_LICENSE_ILLEGAL\",t[t.ERR_TEST_RECOVER=9e3]=\"ERR_TEST_RECOVER\",t[t.ERR_TEST_TRYNEXT=9001]=\"ERR_TEST_TRYNEXT\",t[t.ERR_TEST_RETRY=9002]=\"ERR_TEST_RETRY\",t}({}),Lt=function(t){return t.CONNECTING=\"connecting\",t.CONNECTED=\"connected\",t.RECONNECTING=\"reconnecting\",t.CLOSED=\"closed\",t}({}),nt=function(t){return t.WS_CONNECTED=\"ws_connected\",t.WS_RECONNECTING=\"ws_reconnecting\",t.WS_CLOSED=\"ws_closed\",t.WS_RECONNECT_WAITTING_FINISH=\"ws_reconnect_waitting_finish\",t.WS_RECONNECT_CREATE_CONNECTION=\"ws_reconnect_create_connection\",t.ON_BINARY_DATA=\"on_binary_data\",t.REQUEST_RECOVER=\"request_recover\",t.REQUEST_JOIN_INFO=\"request_join_info\",t.REQUEST_REJOIN_INFO=\"req_rejoin_info\",t.IS_P2P_DISCONNECTED=\"is_p2p_dis\",t.DISCONNECT_P2P=\"dis_p2p\",t.ABORT_P2P_EXECUTION=\"abort_p2p_execution\",t.NEED_RENEW_SESSION=\"need-sid\",t.REPORT_JOIN_GATEWAY=\"report_join_gateway\",t.REQUEST_TIMEOUT=\"request_timeout\",t.REQUEST_SUCCESS=\"request_success\",t.JOIN_RESPONSE=\"join_response\",t.PRE_CONNECT_PC=\"pre_connect_pc\",t.P2P_CONNECTION=\"p2p_connection\",t.P2P_REMOTE_CANDIDATE_UPDATE=\"p2p_remote_candidate_update\",t.P2P_SUBSCRIBE=\"p2p_subscribe\",t.P2P_UNSUBSCRIBE=\"p2p_unsubscribe\",t.P2P_EXCHANGE_SDP=\"p2p_exchange_sdp\",t.P2P_ON_ADD_VIDEO_STREAM=\"p2p_on_add_video_stream\",t.P2P_ON_ADD_AUDIO_STREAM=\"p2p_on_add_audio_stream\",t}({}),et=function(t){return t.PING=\"ping\",t.PING_BACK=\"ping_back\",t.JOIN=\"join_v3\",t.REJOIN=\"rejoin_v3\",t.LEAVE=\"leave\",t.SET_CLIENT_ROLE=\"set_client_role\",t.PUBLISH=\"publish\",t.PUBLISH_DATASTREAM=\"publish_datastream\",t.UNPUBLISH=\"unpublish\",t.UNPUBLISH_DATASTREAM=\"unpublish_datastream\",t.SUBSCRIBE=\"subscribe\",t.PRE_SUBSCRIBE=\"pre_subscribe\",t.SUBSCRIBE_DATASTREAM=\"subscribe_datastream\",t.SUBSCRIBE_STREAMS=\"subscribe_streams\",t.UNSUBSCRIBE=\"unsubscribe\",t.UNSUBSCRIBE_DATASTREAM=\"unsubscribe_datastream\",t.UNSUBSCRIBE_STREAMS=\"unsubscribe_streams\",t.SUBSCRIBE_CHANGE=\"subscribe_change\",t.TRAFFIC_STATS=\"traffic_stats\",t.RENEW_TOKEN=\"renew_token\",t.SWITCH_VIDEO_STREAM=\"switch_video_stream\",t.DEFAULT_VIDEO_STREAM=\"default_video_stream\",t.SET_FALLBACK_OPTION=\"set_fallback_option\",t.GATEWAY_INFO=\"gateway_info\",t.CONTROL=\"control\",t.SEND_METADATA=\"send_metadata\",t.DATA_STREAM=\"data_stream\",t.PICK_SVC_LAYER=\"pick_svc_layer\",t.RESTART_ICE=\"restart_ice\",t.CONNECT_PC=\"connect_pc\",t.SET_VIDEO_PROFILE=\"set_video_profile\",t.SET_PARAMETER=\"set_parameter\",t.SET_RTM2_FLAG=\"set_rtm2_flag\",t}({}),wc=function(t){return t.WRTC_STATS=\"wrtc_stats\",t.WS_INFLATE_DATA_LENGTH=\"ws_inflate_data_length\",t.DENOISER_STATS=\"denoiser_stats\",t.EXTENSION_USAGE_STATS=\"extension_usage_stats\",t}({}),dt=function(t){return t.ON_USER_ONLINE=\"on_user_online\",t.ON_USER_OFFLINE=\"on_user_offline\",t.ON_STREAM_FALLBACK_UPDATE=\"on_stream_fallback_update\",t.ON_PUBLISH_STREAM=\"on_publish_stream\",t.ON_UPLINK_STATS=\"on_uplink_stats\",t.ON_P2P_LOST=\"on_p2p_lost\",t.ON_REMOVE_STREAM=\"on_remove_stream\",t.ON_ADD_AUDIO_STREAM=\"on_add_audio_stream\",t.ON_ADD_VIDEO_STREAM=\"on_add_video_stream\",t.ON_TOKEN_PRIVILEGE_WILL_EXPIRE=\"on_token_privilege_will_expire\",t.ON_TOKEN_PRIVILEGE_DID_EXPIRE=\"on_token_privilege_did_expire\",t.ON_USER_BANNED=\"on_user_banned\",t.ON_USER_LICENSE_BANNED=\"on_user_license_banned\",t.ON_NOTIFICATION=\"on_notification\",t.ON_CRYPT_ERROR=\"on_crypt_error\",t.MUTE_AUDIO=\"mute_audio\",t.MUTE_VIDEO=\"mute_video\",t.UNMUTE_AUDIO=\"unmute_audio\",t.UNMUTE_VIDEO=\"unmute_video\",t.ON_P2P_OK=\"on_p2p_ok\",t.RECEIVE_METADATA=\"receive_metadata\",t.ON_DATA_STREAM=\"on_data_stream\",t.ON_RTP_CAPABILITY_CHANGE=\"on_rtp_capability_change\",t.ON_REMOTE_DATASTREAM_UPDATE=\"on_remote_datastream_update\",t.ON_REMOTE_FULL_DATASTREAM_INFO=\"on_remote_full_datastream_info\",t.ENABLE_LOCAL_VIDEO=\"enable_local_video\",t.DISABLE_LOCAL_VIDEO=\"disable_local_video\",t.ENABLE_LOCAL_AUDIO=\"enable_local_audio\",t.DISABLE_LOCAL_AUDIO=\"disable_local_audio\",t.ON_PUBLISHED_USER_LIST=\"on_published_user_list\",t}({}),cn=function(t){return t.SEND_ONLY=\"SEND_ONLY\",t.RECEIVE_ONLY=\"RECEIVE_ONLY\",t}({}),it=function(t){return t.CONNECTED=\"websocket:connected\",t.RECONNECTING=\"websocket:reconnecting\",t.WILL_RECONNECT=\"websocket:will_reconnect\",t.CLOSED=\"websocket:closed\",t.FAILED=\"websocket:failed\",t.ON_MESSAGE=\"websocket:on_message\",t.REQUEST_NEW_URLS=\"websocket:request_new_urls\",t.RECONNECT_WAITTING_FINISH=\"websocket:reconnect_waitting_finish\",t.RECONNECT_CREATE_CONNECTION=\"websocket:reconnect_create_connection\",t.ON_TOKEN_PRIVILEGE_DID_EXPIRE=\"websocket:on_token_privilege_did_expire\",t}({}),O=class extends N{constructor(e){super(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:\"\",arguments.length>2?arguments[2]:void 0),T(this,\"name\",\"AgoraRTCException\");}print(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:\"error\";return super.print(e,_)}throw(){super.throw(_);}};function Xu(t){if(typeof t!=\"string\"||!/^[a-zA-Z0-9 \\!\\#\\$\\%\\&\\(\\)\\+\\-\\:\\;\\<\\=\\.\\>\\?\\@\\[\\]\\^\\_\\{\\}\\|\\~\\,]{1,64}$/.test(t))throw _.error(\"Invalid Channel Name \".concat(t)),new O(R.INVALID_PARAMS,\"The length must be within 64 bytes. The supported characters: a-z,A-Z,0-9,space,!, #, $, %, &, (, ), +, -, :, ;, <, =, ., >, ?, @, [, ], ^, _,  {, }, |, ~, ,\")}function Qu(t){if(!function(e){return typeof e==\"number\"&&Math.floor(e)===e&&0<=e&&e<=4294967295}(t)&&!RO(t,1,255))throw new O(R.INVALID_PARAMS,\"[String uid] Length of the string: [1,255]. ASCII characters only. [Number uid] The value range is [0,10000]\");typeof t==\"string\"&&_.warn(\"You input a string as the user ID, to ensure better end-user experience, Agora highly suggests not using a string as the user ID.\");}var er=function(t){return t.TRANSCODE=\"mix_streaming\",t.RAW=\"raw_streaming\",t}({}),sj={alpha:1,height:640,width:360,x:0,y:0,zOrder:0,audioChannel:0},Up={x:0,y:0,width:160,height:160,zOrder:255,alpha:1};function xp(t,e){Pe(t.url,\"\".concat(e,\".url\"),1,1e3,!1),zt(t.x)||Nt(t.x,\"\".concat(e,\".x\"),0,1e4),zt(t.y)||Nt(t.y,\"\".concat(e,\".y\"),0,1e4),zt(t.width)||Nt(t.width,\"\".concat(e,\".width\"),0,1e4),zt(t.height)||Nt(t.height,\"\".concat(e,\".height\"),0,1e4),zt(t.zOrder)||Nt(t.zOrder,\"\".concat(e,\".zOrder\"),0,255),zt(t.alpha)||Nt(t.alpha,\"\".concat(e,\".alpha\"),0,1,!1);}var aj={audioBitrate:48,audioChannels:1,audioSampleRate:48e3,backgroundColor:0,height:360,lowLatency:!1,videoBitrate:400,videoCodecProfile:100,videoCodecType:1,videoFrameRate:15,videoGop:30,width:640,images:[],userConfigs:[],userConfigExtraInfo:\"\"},Xr=function(t){return t.WARNING=\"@live_uap-warning\",t.ERROR=\"@line_uap-error\",t.PUBLISH_STREAM_STATUS=\"@live_uap-publish-status\",t.WORKER_STATUS=\"@live_uap-worker-status\",t.REQUEST_NEW_ADDRESS=\"@live_uap-request-address\",t}({}),VE=function(t){return t.REQUEST_WORKER_MANAGER_LIST=\"@live_req_worker_manager\",t}({}),fe=function(t){return t[t.LIVE_STREAM_RESPONSE_SUCCEED=200]=\"LIVE_STREAM_RESPONSE_SUCCEED\",t[t.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM=454]=\"LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM\",t[t.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR=450]=\"LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR\",t[t.LIVE_STREAM_RESPONSE_BAD_STREAM=451]=\"LIVE_STREAM_RESPONSE_BAD_STREAM\",t[t.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR=400]=\"LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR\",t[t.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST=404]=\"LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST\",t[t.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED=456]=\"LIVE_STREAM_RESPONSE_NOT_AUTHORIZED\",t[t.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE=457]=\"LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE\",t[t.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN=429]=\"LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN\",t[t.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH=452]=\"LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH\",t[t.LIVE_STREAM_RESPONSE_NOT_SUPPORTED=453]=\"LIVE_STREAM_RESPONSE_NOT_SUPPORTED\",t[t.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM=455]=\"LIVE_STREAM_RESPONSE_MAX_STREAM_NUM\",t[t.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR=500]=\"LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR\",t[t.LIVE_STREAM_RESPONSE_WORKER_LOST=501]=\"LIVE_STREAM_RESPONSE_WORKER_LOST\",t[t.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT=502]=\"LIVE_STREAM_RESPONSE_RESOURCE_LIMIT\",t[t.LIVE_STREAM_RESPONSE_WORKER_QUIT=503]=\"LIVE_STREAM_RESPONSE_WORKER_QUIT\",t[t.ERROR_FAIL_SEND_MESSAGE=504]=\"ERROR_FAIL_SEND_MESSAGE\",t[t.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE=30]=\"PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE\",t[t.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT=31]=\"PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT\",t[t.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH=32]=\"PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH\",t[t.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN=33]=\"PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN\",t}({});function MR(t){if(!t.channelName)throw new O(R.INVALID_PARAMS,\"invalid channelName in info\");if(typeof t.uid!=\"number\")throw new O(R.INVALID_PARAMS,\"invalid uid in info, uid must be a number\");return t.token&&Pe(t.token,\"info.token\",1,2047),Qu(t.uid),Xu(t.channelName),!0}var sn=function(t){return t[t.SetSdkProfile=0]=\"SetSdkProfile\",t[t.SetSourceChannel=1]=\"SetSourceChannel\",t[t.SetSourceUserId=2]=\"SetSourceUserId\",t[t.SetDestChannel=3]=\"SetDestChannel\",t[t.StartPacketTransfer=4]=\"StartPacketTransfer\",t[t.StopPacketTransfer=5]=\"StopPacketTransfer\",t[t.UpdateDestChannel=6]=\"UpdateDestChannel\",t[t.Reconnect=7]=\"Reconnect\",t[t.SetVideoProfile=8]=\"SetVideoProfile\",t}({}),Ir=function(t){return t.NETWORK_DISCONNECTED=\"NETWORK_DISCONNECTED\",t.NETWORK_CONNECTED=\"NETWORK_CONNECTED\",t.PACKET_JOINED_SRC_CHANNEL=\"PACKET_JOINED_SRC_CHANNEL\",t.PACKET_JOINED_DEST_CHANNEL=\"PACKET_JOINED_DEST_CHANNEL\",t.PACKET_SENT_TO_DEST_CHANNEL=\"PACKET_SENT_TO_DEST_CHANNEL\",t.PACKET_RECEIVED_VIDEO_FROM_SRC=\"PACKET_RECEIVED_VIDEO_FROM_SRC\",t.PACKET_RECEIVED_AUDIO_FROM_SRC=\"PACKET_RECEIVED_AUDIO_FROM_SRC\",t.PACKET_UPDATE_DEST_CHANNEL=\"PACKET_UPDATE_DEST_CHANNEL\",t.PACKET_UPDATE_DEST_CHANNEL_REFUSED=\"PACKET_UPDATE_DEST_CHANNEL_REFUSED\",t.PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE=\"PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE\",t}({}),Sn=function(t){return t.RELAY_STATE_IDLE=\"RELAY_STATE_IDLE\",t.RELAY_STATE_CONNECTING=\"RELAY_STATE_CONNECTING\",t.RELAY_STATE_RUNNING=\"RELAY_STATE_RUNNING\",t.RELAY_STATE_FAILURE=\"RELAY_STATE_FAILURE\",t}({}),ys=function(t){return t.RELAY_OK=\"RELAY_OK\",t.SERVER_CONNECTION_LOST=\"SERVER_CONNECTION_LOST\",t.SRC_TOKEN_EXPIRED=\"SRC_TOKEN_EXPIRED\",t.DEST_TOKEN_EXPIRED=\"DEST_TOKEN_EXPIRED\",t}({}),Ct=function(t){return t.High=\"high\",t.Low=\"low\",t.Audio=\"audio\",t.Screen=\"screen\",t.ScreenLow=\"screen_low\",t}({}),xe=function(t){return t.DISCONNECT=\"disconnect\",t.CONNECTION_STATE_CHANGE=\"connection-state-change\",t.NETWORK_QUALITY=\"network-quality\",t.STREAM_TYPE_CHANGE=\"stream-type-change\",t.IS_P2P_DISCONNECTED=\"is-p2p-dis\",t.DISCONNECT_P2P=\"dis-p2p\",t.REQUEST_NEW_GATEWAY_LIST=\"req-gate-url\",t.NEED_RENEW_SESSION=\"need-sid\",t.REQUEST_P2P_CONNECTION_PARAMS=\"request-p2p-connection-params\",t.JOIN_RESPONSE=\"join-response\",t.RESET_CONNECTION_EVENTS=\"reset-connection-events\",t.PRE_CONNECT_PC=\"pre-connect_pc\",t}({}),Tl=function(t){return t.P2P_DISCONNECTED=\"P2P_DISCONNECTED\",t.A_ROUND_WS_FAILED=\"A_ROUND_WS_FAILED\",t.TIMEOUT=\"TIMEOUT\",t.UNKNOWN_REASON=\"UNKNOWN_REASON\",t}({}),ve=function(t){return t[t.Nothing=0]=\"Nothing\",t[t.Audio=1]=\"Audio\",t[t.LwoVideo=2]=\"LwoVideo\",t[t.Video=4]=\"Video\",t[t.Data=8]=\"Data\",t[t.DataStream0=256]=\"DataStream0\",t[t.DataStream1=512]=\"DataStream1\",t[t.DataStream2=1024]=\"DataStream2\",t[t.DataStream3=2048]=\"DataStream3\",t[t.DataStream4=4096]=\"DataStream4\",t[t.DataStream5=8192]=\"DataStream5\",t[t.DataStream6=16384]=\"DataStream6\",t[t.DataStream7=32768]=\"DataStream7\",t}({}),St=function(t){return t.CHINA=\"CHINA\",t.ASIA=\"ASIA\",t.NORTH_AMERICA=\"NORTH_AMERICA\",t.EUROPE=\"EUROPE\",t.JAPAN=\"JAPAN\",t.INDIA=\"INDIA\",t.KOREA=\"KOREA\",t.HKMC=\"HKMC\",t.US=\"US\",t.OCEANIA=\"OCEANIA\",t.SOUTH_AMERICA=\"SOUTH_AMERICA\",t.AFRICA=\"AFRICA\",t.OVERSEA=\"OVERSEA\",t.GLOBAL=\"GLOBAL\",t.EXTENSIONS=\"EXTENSIONS\",t}({}),UR=[St.AFRICA,St.ASIA,St.CHINA,St.EUROPE,St.GLOBAL,St.INDIA,St.JAPAN,St.NORTH_AMERICA,St.OCEANIA,St.OVERSEA,St.SOUTH_AMERICA],Ye=function(t){return t.CHINA=\"CN\",t.ASIA=\"AS\",t.NORTH_AMERICA=\"NA\",t.EUROPE=\"EU\",t.JAPAN=\"JP\",t.INDIA=\"IN\",t.KOREA=\"KR\",t.HKMC=\"HK\",t.US=\"US\",t.OCEANIA=\"OC\",t.SOUTH_AMERICA=\"SA\",t.AFRICA=\"AF\",t.OVERSEA=\"OVERSEA\",t.GLOBAL=\"GLOBAL\",t.EXTENSIONS=\"GLOBAL\",t}({}),Zu={CHINA:{},ASIA:{CODE:Ye.ASIA,WEBCS_DOMAIN:[\"ap-web-1-asia.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-asia.agora.io\"],PROXY_CS:[\"proxy-ap-web-asia.agora.io\"],CDS_AP:[\"cds-ap-web-asia.agora.io\",\"cds-ap-web-asia2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-asia.agora.io\",\"sua-ap-web-asia2.agora.io\"],UAP_AP:[\"uap-ap-web-asia.agora.io\",\"uap-ap-web-asia2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-asia.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-asia.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-asia.agora.io\"],PROXY_SERVER_TYPE3:[\"southeast-asia.webrtc-cloud-proxy.sd-rtn.com\"]},NORTH_AMERICA:{CODE:Ye.NORTH_AMERICA,WEBCS_DOMAIN:[\"ap-web-1-north-america.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-north-america.agora.io\"],PROXY_CS:[\"proxy-ap-web-america.agora.io\"],CDS_AP:[\"cds-ap-web-america.agora.io\",\"cds-ap-web-america2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-america.agora.io\",\"sua-ap-web-america2.agora.io\"],UAP_AP:[\"uap-ap-web-america.agora.io\",\"uap-ap-web-america2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-north-america.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-north-america.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-north-america.agora.io\"],PROXY_SERVER_TYPE3:[\"east-usa.webrtc-cloud-proxy.sd-rtn.com\"]},EUROPE:{CODE:Ye.EUROPE,WEBCS_DOMAIN:[\"ap-web-1-europe.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-europe.agora.io\"],PROXY_CS:[\"proxy-ap-web-europe.agora.io\"],CDS_AP:[\"cds-ap-web-europe.agora.io\",\"cds-ap-web-europe2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-europe.agora.io\",\"sua-ap-web-europe.agora.io\"],UAP_AP:[\"uap-ap-web-europe.agora.io\",\"uap-ap-web-europe2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-europe.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-europe.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-europe.agora.io\"],PROXY_SERVER_TYPE3:[\"europe.webrtc-cloud-proxy.sd-rtn.com\"]},JAPAN:{CODE:Ye.JAPAN,WEBCS_DOMAIN:[\"ap-web-1-japan.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-japan.agora.io\"],PROXY_CS:[\"proxy-ap-web-japan.agora.io\"],CDS_AP:[\"cds-ap-web-japan.agora.io\",\"cds-ap-web-japan2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-japan.agora.io\",\"sua-ap-web-japan2.agora.io\"],UAP_AP:[\"uap-ap-web-japan.agora.io\",\"uap-ap-web-japan2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-japan.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-japan.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-japan.agora.io\"],PROXY_SERVER_TYPE3:[\"japan.webrtc-cloud-proxy.sd-rtn.com\"]},INDIA:{CODE:Ye.INDIA,WEBCS_DOMAIN:[\"ap-web-1-india.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-india.agora.io\"],PROXY_CS:[\"proxy-ap-web-india.agora.io\"],CDS_AP:[\"cds-ap-web-india.agora.io\",\"cds-ap-web-india2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-india.agora.io\",\"sua-ap-web-india2.agora.io\"],UAP_AP:[\"uap-ap-web-india.agora.io\",\"uap-ap-web-india2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-india.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-india.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-india.agora.io\"],PROXY_SERVER_TYPE3:[\"india.webrtc-cloud-proxy.sd-rtn.com\"]},KOREA:{CODE:Ye.KOREA,WEBCS_DOMAIN:[\"ap-web-1-korea.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-korea.agora.io\"],PROXY_CS:[\"proxy-ap-web-korea.agora.io\"],CDS_AP:[\"cds-ap-web-korea.agora.io\",\"cds-ap-web-korea2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-korea.agora.io\",\"sua-ap-web-korea2.agora.io\"],UAP_AP:[\"uap-ap-web-korea.agora.io\",\"uap-ap-web-korea2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-korea.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-korea.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-korea.agora.io\"],PROXY_SERVER_TYPE3:[\"korea.webrtc-cloud-proxy.sd-rtn.com\"]},HKMC:{CODE:Ye.HKMC,WEBCS_DOMAIN:[\"ap-web-1-hkmc.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-hkmc.agora.io\"],PROXY_CS:[\"proxy-ap-web-hkmc.agora.io\"],CDS_AP:[\"cds-ap-web-hkmc.agora.io\",\"cds-ap-web-hkmc2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-hkmc.agora.io\",\"sua-ap-web-hkmc2.agora.io\"],UAP_AP:[\"uap-ap-web-hkmc.agora.io\",\"uap-ap-web-hkmc2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-hkmc.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-hkmc.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-hkmc.agora.io\"],PROXY_SERVER_TYPE3:[\"hkmc.webrtc-cloud-proxy.sd-rtn.com\"]},US:{CODE:Ye.US,WEBCS_DOMAIN:[\"ap-web-1-us.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-us.agora.io\"],PROXY_CS:[\"proxy-ap-web-us.agora.io\"],CDS_AP:[\"cds-ap-web-us.agora.io\",\"cds-ap-web-us2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-us.agora.io\",\"sua-ap-web-us2.agora.io\"],UAP_AP:[\"uap-ap-web-us.agora.io\",\"uap-ap-web-us2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-us.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-us.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-us.agora.io\"],PROXY_SERVER_TYPE3:[\"us.webrtc-cloud-proxy.sd-rtn.com\"]},OVERSEA:{CODE:Ye.OVERSEA,WEBCS_DOMAIN:[\"ap-web-1-oversea.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-oversea.agora.io\"],PROXY_CS:[\"proxy-ap-web-oversea.agora.io\"],CDS_AP:[\"cds-ap-web-oversea.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-oversea.agora.io\"],UAP_AP:[\"uap-ap-web-oversea.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-oversea.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-oversea.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-oversea.agora.io\"],PROXY_SERVER_TYPE3:[\"webrtc-cloud-proxy.agora.io\"]},GLOBAL:{CODE:Ye.GLOBAL,WEBCS_DOMAIN:[\"webrtc2-ap-web-1.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"webrtc2-ap-web-3.agora.io\"],PROXY_CS:[\"ap-proxy-1.agora.io\",\"ap-proxy-2.agora.io\"],CDS_AP:[\"cds-ap-web-1.agora.io\",\"cds-ap-web-3.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-1.agora.io\",\"sua-ap-web-3.agora.io\"],UAP_AP:[\"uap-ap-web-1.agora.io\",\"uap-ap-web-3.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice.agora.io\"],PROXY_SERVER_TYPE3:[\"webrtc-cloud-proxy.sd-rtn.com\"]},OCEANIA:{CODE:Ye.OCEANIA,WEBCS_DOMAIN:[\"ap-web-1-oceania.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-oceania.agora.io\"],PROXY_CS:[\"proxy-ap-web-oceania.agora.io\"],CDS_AP:[\"cds-ap-web-oceania.agora.io\",\"cds-ap-web-oceania2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-oceania.agora.io\",\"sua-ap-web-oceania2.agora.io\"],UAP_AP:[\"uap-ap-web-oceania.agora.io\",\"uap-ap-web-oceania2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-oceania.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-oceania.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-oceania.agora.io\"],PROXY_SERVER_TYPE3:[\"oceania.webrtc-cloud-proxy.sd-rtn.com\"]},SOUTH_AMERICA:{CODE:Ye.SOUTH_AMERICA,WEBCS_DOMAIN:[\"ap-web-1-south-america.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-south-america.agora.io\"],PROXY_CS:[\"proxy-ap-web-south-america.agora.io\"],CDS_AP:[\"cds-ap-web-south-america.agora.io\",\"cds-ap-web-south-america2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-south-america.agora.io\",\"sua-ap-web-south-america2.agora.io\"],UAP_AP:[\"uap-ap-web-south-america.agora.io\",\"uap-ap-web-south-america2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-south-america.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-south-america.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-south-america.agora.io\"],PROXY_SERVER_TYPE3:[\"south-america.webrtc-cloud-proxy.sd-rtn.com\"]},AFRICA:{CODE:Ye.AFRICA,WEBCS_DOMAIN:[\"ap-web-1-africa.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-africa.agora.io\"],PROXY_CS:[\"proxy-ap-web-africa.agora.io\"],CDS_AP:[\"cds-ap-web-africa.agora.io\",\"cds-ap-web-africa2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-africa.agora.io\",\"sua-ap-web-africa2.agora.io\"],UAP_AP:[\"uap-ap-web-africa.agora.io\",\"uap-ap-web-africa2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-africa.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-africa.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-south-africa.agora.io\"],PROXY_SERVER_TYPE3:[\"africa.webrtc-cloud-proxy.sd-rtn.com\"]},EXTENSIONS:{}};pf&&(Zu.CHINA={CODE:Ye.CHINA,WEBCS_DOMAIN:[\"webrtc2-2.ap.sd-rtn.com\"],WEBCS_DOMAIN_BACKUP_LIST:[\"webrtc2-4.ap.sd-rtn.com\"],PROXY_CS:[\"proxy-web.ap.sd-rtn.com\"],CDS_AP:[\"cds-web-2.ap.sd-rtn.com\",\"cds-web-4.ap.sd-rtn.com\"],ACCOUNT_REGISTER:[\"sua-web-2.ap.sd-rtn.com\",\"sua-web-4.ap.sd-rtn.com\"],UAP_AP:[\"uap-web-2.ap.sd-rtn.com\",\"uap-web-4.ap.sd-rtn.com\"],EVENT_REPORT_DOMAIN:[\"web-3.statscollector.sd-rtn.com\"],EVENT_REPORT_BACKUP_DOMAIN:[\"web-4.statscollector.sd-rtn.com\"],LOG_UPLOAD_SERVER:[\"logservice-china.agora.io\"],PROXY_SERVER_TYPE3:[\"east-cn.webrtc-cloud-proxy.sd-rtn.com\"]});var FE=function(t){return t.UPDATE_BITRATE_LIMIT=\"update_bitrate_limit\",t}({}),Kl=class extends Xt{constructor(e,n){super(),T(this,\"onICEConnectionStateChange\",void 0),T(this,\"onConnectionStateChange\",void 0),T(this,\"onDTLSTransportStateChange\",void 0),T(this,\"onDTLSTransportError\",void 0),T(this,\"onICETransportStateChange\",void 0),T(this,\"onFirstAudioReceived\",void 0),T(this,\"onFirstVideoReceived\",void 0),T(this,\"onFirstAudioDecoded\",void 0),T(this,\"onFirstVideoDecoded\",void 0),T(this,\"onFirstVideoDecodedTimeout\",void 0),T(this,\"onSelectedLocalCandidateChanged\",void 0),T(this,\"onSelectedRemoteCandidateChanged\",void 0),T(this,\"getLocalVideoStats\",void 0);}},Yl=class extends Kl{constructor(e,n){super(e,n),T(this,\"establishPromise\",void 0);}},Q=function(t){return t.VIDEO=\"video\",t.AUDIO=\"audio\",t}({}),On=function(t){return t[t.UDP=0]=\"UDP\",t[t.TCP=1]=\"TCP\",t[t.RELAY=2]=\"RELAY\",t}({}),Tr=function(t){return t[t.FIRST_CONNECTION=0]=\"FIRST_CONNECTION\",t[t.TCP_RESTART=1]=\"TCP_RESTART\",t[t.RELAY_RESTART=2]=\"RELAY_RESTART\",t[t.OLD_FIRST_CONNECTION=10]=\"OLD_FIRST_CONNECTION\",t[t.OLD_RESTART=11]=\"OLD_RESTART\",t[t.DISCONNECTED_OR_FAILED=20]=\"DISCONNECTED_OR_FAILED\",t}({}),U=function(t){return t.LocalVideoTrack=\"videoTrack\",t.LocalAudioTrack=\"audioTrack\",t.LocalVideoLowTrack=\"videoLowTrack\",t}({}),Rt=function(t){return t.New=\"new\",t.Connected=\"connected\",t.Reconnecting=\"reconnecting\",t.Disconnected=\"disconnected\",t}({}),tt=function(t){return t.StateChange=\"stateChange\",t.IceConnectionStateChange=\"iceConnectionStateChange\",t.RequestMuteLocal=\"requestMuteLocal\",t.RequestUnmuteLocal=\"requestUnmuteLocal\",t.RequestRePublish=\"requestRePublish\",t.RequestRePublishDataChannel=\"requestRePublishDataChannel\",t.RequestReSubscribe=\"requestReSubscribe\",t.RequestUploadStats=\"requestUploadStats\",t.RequestUpload=\"requestUpload\",t.MediaReconnectStart=\"MediaReconnectStart\",t.MediaReconnectEnd=\"MediaReconnectEnd\",t.NeedSignalRTT=\"NeedSignalRTT\",t.RequestRestartICE=\"RequestRestartIce\",t.PeerConnectionStateChange=\"PeerConnectionStateChange\",t.RequestReconnect=\"RequestReconnect\",t.RequestReconnectPC=\"RequestReconnectPC\",t.RequestUnpublishForReconnectPC=\"RequestUnpublishForReconnectPC\",t.P2PLost=\"P2PLost\",t.UpdateVideoEncoder=\"UpdateVideoEncoder\",t.ConnectionTypeChange=\"ConnectionTypeChange\",t.RequestLowStreamParameter=\"RequestLowStreamParameter\",t.QueryClientConnectionState=\"QueryClientConnectionState\",t.LocalCandidate=\"LocalCandidate\",t.RequestP2PMuteLocal=\"requestP2PMuteLocal\",t.RequestP2PUnPublish=\"RequestP2PUnPublish\",t.RequestP2PUnmuteRemote=\"RequestP2PUnmuteRemote\",t.RequestP2PMuteRemote=\"RequestP2PMuteRemote\",t.RequestP2PRestartICE=\"RequestP2PRestartICE\",t}({}),Ei=function(t){return t.CONNECTING=\"CONNECTING\",t.RECONNECTING=\"RECONNECTING\",t.CONNECTED=\"CONNECTED\",t.CLOSED=\"CLOSED\",t}({}),di=function(t){return t[t.CONNECT_AP=0]=\"CONNECT_AP\",t[t.AP_CONNECTED=1]=\"AP_CONNECTED\",t[t.CONNECT_WORKER_MANAGER=2]=\"CONNECT_WORKER_MANAGER\",t[t.WORKER_MANAGER_CONNECTED=3]=\"WORKER_MANAGER_CONNECTED\",t[t.GET_WORKER_MANAGER_RESPONSE=4]=\"GET_WORKER_MANAGER_RESPONSE\",t[t.CONNECT_WORKER=5]=\"CONNECT_WORKER\",t[t.WORKER_CONNECTED=6]=\"WORKER_CONNECTED\",t[t.CLOSED=7]=\"CLOSED\",t}({}),we=function(t){return t.CONNECTION_STATE_CHANGE=\"connection-state-change\",t.STATE_CHANGE=\"state-change\",t.INSPECT_RESULT=\"inspect-result\",t.CLIENT_LOCAL_VIDEO_TRACK=\"client-local-video-track\",t.REQUEST_NEW_WORKER_URL=\"request-new-worker-url\",t}({}),PO=function(t){return t.CONNECTED=\"transmitter:connected\",t.RECONNECTING=\"transmitter:reconnecting\",t.WILL_RECONNECT=\"transmitter:will_reconnect\",t.CLOSED=\"transmitter:closed\",t.FAILED=\"transmitter:failed\",t.ON_MESSAGE=\"transmitter:on_message\",t.REQUEST_NEW_URLS=\"transmitter:request_new_urls\",t.RECONNECT_WAITTING_FINISH=\"transmitter:reconnect_waitting_finish\",t.RECONNECT_CREATE_CONNECTION=\"transmitter:reconnect_create_connection\",t.ON_TOKEN_PRIVILEGE_DID_EXPIRE=\"transmitter:on_token_privilege_did_expire\",t.TO_CONNECT_DATACHANNEL=\"transmitter:to_connect_datachannel\",t.FAILBACK=\"transmitter:failback\",t.PRE_CONNECT_PC=\"transmitter:pre_connect_pc\",t}({}),nr=function(t){return t.CAMERA_CHANGED=\"camera-changed\",t.MICROPHONE_CHANGED=\"microphone-changed\",t.PLAYBACK_DEVICE_CHANGED=\"playback-device-changed\",t.AUDIO_AUTOPLAY_FAILED=\"audio-autoplay-failed\",t.AUTOPLAY_FAILED=\"autoplay-failed\",t.AUDIO_CONTEXT_STATE_CHANGED=\"audio-context-state-changed\",t.SECURITY_POLICY_VIOLATION=\"security-policy-violation\",t}({}),Xn=function(t){return t.CONNECTING=\"CONNECTING\",t.RECONNECTING=\"RECONNECTING\",t.CONNECTED=\"CONNECTED\",t.CLOSED=\"CLOSED\",t}({}),Mi=function(t){return t.CONNECTION_STATE_CHANGE=\"connection-state-change\",t.STATE_CHANGE=\"state-change\",t.INSPECT_RESULT=\"inspect-result\",t.CLIENT_LOCAL_VIDEO_TRACK=\"client-local-video-track\",t.REQUEST_NEW_WORKER_URL=\"request-new-worker-url\",t}({}),hs=function(t){return t[t.CONNECT_AP=0]=\"CONNECT_AP\",t[t.AP_CONNECTED=1]=\"AP_CONNECTED\",t[t.CONNECT_WORKER_MANAGER=2]=\"CONNECT_WORKER_MANAGER\",t[t.WORKER_MANAGER_CONNECTED=3]=\"WORKER_MANAGER_CONNECTED\",t[t.GET_WORKER_MANAGER_RESPONSE=4]=\"GET_WORKER_MANAGER_RESPONSE\",t[t.CONNECT_WORKER=5]=\"CONNECT_WORKER\",t[t.WORKER_CONNECTED=6]=\"WORKER_CONNECTED\",t[t.CLOSED=7]=\"CLOSED\",t}({}),ie=function(t){return t.CALL=\"call\",t.CANDIDATE=\"candidate\",t.PUBLISH=\"publish\",t.UNPUBLISH=\"unpublish\",t.CONTROL=\"control\",t.RESTART_ICE=\"restart_ice\",t.ACK=\"ack\",t.RESPONSE=\"response\",t.JOIN=\"join\",t.CHECK=\"check\",t}({}),ps=function(t){return t.ABORT=\"abort\",t}({}),to=function(t){return t.MUTE_LOCAL_AUDIO=\"mute_local_audio\",t.MUTE_LOCAL_VIDEO=\"mute_local_video\",t.UNMUTE_LOCAL_AUDIO=\"unmute_local_audio\",t.UNMUTE_LOCAL_VIDEO=\"unmute_local_video\",t}({}),cj=function(t){return t.P2P_TOKEN_TIMEOUT=\"p2p_token_timeout\",t.P2P_TOKEN_CHANGED=\"p2p_token_changed\",t}({}),dj={[gl.ACCESS_POINT]:{[on.NO_FLAG_SET]:{desc:\"flag is zero\",retry:!1},[on.FLAG_SET_BUT_EMPTY]:{desc:\"flag is empty\",retry:!1},[on.INVALID_FALG_SET]:{desc:\"invalid flag\",retry:!1},[on.FLAG_SET_BUT_NO_RE]:{desc:\"flag set unilbs but no request\",retry:!1},[on.INVALID_SERVICE_ID]:{desc:\"invalid service id\",retry:!1},[on.NO_SERVICE_AVAILABLE]:{desc:\"no service available\",retry:!0},[on.NO_SERVICE_AVAILABLE_P2P]:{desc:\"no unilbs p2p service available\",retry:!0},[on.NO_SERVICE_AVAILABLE_VOICE]:{desc:\"no unilbs voice service available\",retry:!0},[on.NO_SERVICE_AVAILABLE_WEBRTC]:{desc:\"no unilbs webrtc service available\",retry:!0},[on.NO_SERVICE_AVAILABLE_CDS]:{desc:\"no cds service available\",retry:!0},[on.NO_SERVICE_AVAILABLE_CDN]:{desc:\"no cdn dispatcher service available\",retry:!0},[on.NO_SERVICE_AVAILABLE_TDS]:{desc:\"no tds service available\",retry:!0},[on.NO_SERVICE_AVAILABLE_REPORT]:{desc:\"no unilbs report service available\",retry:!0},[on.NO_SERVICE_AVAILABLE_APP_CENTER]:{desc:\"no app center service available\",retry:!0},[on.NO_SERVICE_AVAILABLE_ENV0]:{desc:\"no unilbs sig env0 service available\",retry:!0},[on.NO_SERVICE_AVAILABLE_VOET]:{desc:\"no unilbs voet service available\",retry:!0},[on.NO_SERVICE_AVAILABLE_STRING_UID]:{desc:\"no string uid service available\",retry:!0},[on.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS]:{desc:\"no webrtc unilbs service available\",retry:!0}},[gl.UNILBS]:{[ci.INVALID_VENDOR_KEY]:{desc:\"invalid vendor key, can not find appid\",retry:!1},[ci.INVALID_CHANNEL_NAME]:{desc:\"invalid channel name\",retry:!1},[ci.INTERNAL_ERROR]:{desc:\"unilbs internal error\",retry:!1},[ci.NO_AUTHORIZED]:{desc:\"invalid token, authorized failed\",retry:!1},[ci.DYNAMIC_KEY_TIMEOUT]:{desc:\"dynamic key or token timeout\",retry:!1},[ci.NO_ACTIVE_STATUS]:{desc:\"no active status\",retry:!1},[ci.DYNAMIC_KEY_EXPIRED]:{desc:\"dynamic key expired\",retry:!1},[ci.STATIC_USE_DYNAMIC_KEY]:{desc:\"static use dynamic key\",retry:!1},[ci.DYNAMIC_USE_STATIC_KEY]:{desc:\"dynamic use static key\",retry:!1},[ci.USER_OVERLOAD]:{desc:\"amount of users over load\",retry:!1},[ci.FORBIDDEN_REGION]:{desc:\"the request is forbidden in this area\",retry:!1},[ci.CANNOT_MEET_AREA_DEMAND]:{desc:\"unable to allocate services in this area\",retry:!1}},[gl.STRING_UID_ALLOCATOR]:{[Mp.IIIEGAL_APPID]:{desc:\"invalid appid\",retry:!1},[Mp.IIIEGAL_UID]:{desc:\"invalid string uid\",retry:!1},[Mp.INTERNAL_ERROR]:{desc:\"string uid allocator internal error\",retry:!0}}};function ta(t){let e=dj[Math.floor(t/1e4)];if(!e)return {desc:\"unknown error\",retry:!1};let n=e[t%1e4];if(!n){if(Math.floor(t/1e4)===gl.ACCESS_POINT){let i=t%1e4;if(i.toString()[0]===\"1\")return {desc:t.toString(),retry:!1};if(i.toString()[0]===\"2\")return {desc:t.toString(),retry:!0}}return {desc:\"unknown error\",retry:!1}}return n}var lj={[Z.K_TIMESTAMP_EXPIRED]:{desc:\"K_TIMESTAMP_EXPIRED\",action:\"failed\"},[Z.K_CHANNEL_PERMISSION_INVALID]:{desc:\"K_CHANNEL_PERMISSION_INVALID\",action:\"failed\"},[Z.K_CERTIFICATE_INVALID]:{desc:\"K_CERTIFICATE_INVALID\",action:\"failed\"},[Z.K_CHANNEL_NAME_EMPTY]:{desc:\"K_CHANNEL_NAME_EMPTY\",action:\"failed\"},[Z.K_CHANNEL_NOT_FOUND]:{desc:\"K_CHANNEL_NOT_FOUND\",action:\"failed\"},[Z.K_TICKET_INVALID]:{desc:\"K_TICKET_INVALID\",action:\"failed\"},[Z.K_CHANNEL_CONFLICTED]:{desc:\"K_CHANNEL_CONFLICTED\",action:\"failed\"},[Z.K_SERVICE_NOT_READY]:{desc:\"K_SERVICE_NOT_READY\",action:\"tryNext\"},[Z.K_SERVICE_TOO_HEAVY]:{desc:\"K_SERVICE_TOO_HEAVY\",action:\"tryNext\"},[Z.K_UID_BANNED]:{desc:\"K_UID_BANNED\",action:\"failed\"},[Z.K_IP_BANNED]:{desc:\"K_IP_BANNED\",action:\"failed\"},[Z.K_AUTO_REBALANCE]:{desc:\"k_AUTO_REBALANCE\",action:\"recover\"},[Z.ERR_INVALID_VENDOR_KEY]:{desc:\"ERR_INVALID_VENDOR_KEY\",action:\"failed\"},[Z.ERR_INVALID_CHANNEL_NAME]:{desc:\"ERR_INVALID_CHANNEL_NAME\",action:\"failed\"},[Z.WARN_NO_AVAILABLE_CHANNEL]:{desc:\"WARN_NO_AVAILABLE_CHANNEL\",action:\"failed\"},[Z.WARN_LOOKUP_CHANNEL_TIMEOUT]:{desc:\"WARN_LOOKUP_CHANNEL_TIMEOUT\",action:\"tryNext\"},[Z.WARN_LOOKUP_CHANNEL_REJECTED]:{desc:\"WARN_LOOKUP_CHANNEL_REJECTED\",action:\"failed\"},[Z.WARN_OPEN_CHANNEL_TIMEOUT]:{desc:\"WARN_OPEN_CHANNEL_TIMEOUT\",action:\"tryNext\"},[Z.WARN_OPEN_CHANNEL_REJECTED]:{desc:\"WARN_OPEN_CHANNEL_REJECTED\",action:\"failed\"},[Z.WARN_REQUEST_DEFERRED]:{desc:\"WARN_REQUEST_DEFERRED\",action:\"failed\"},[Z.ERR_DYNAMIC_KEY_TIMEOUT]:{desc:\"ERR_DYNAMIC_KEY_TIMEOUT\",action:\"failed\"},[Z.ERR_NO_AUTHORIZED]:{desc:\"ERR_NO_AUTHORIZED\",action:\"failed\"},[Z.ERR_VOM_SERVICE_UNAVAILABLE]:{desc:\"ERR_VOM_SERVICE_UNAVAILABLE\",action:\"tryNext\"},[Z.ERR_NO_CHANNEL_AVAILABLE_CODE]:{desc:\"ERR_NO_CHANNEL_AVAILABLE_CODE\",action:\"failed\"},[Z.ERR_MASTER_VOCS_UNAVAILABLE]:{desc:\"ERR_MASTER_VOCS_UNAVAILABLE\",action:\"tryNext\"},[Z.ERR_INTERNAL_ERROR]:{desc:\"ERR_INTERNAL_ERROR\",action:\"tryNext\"},[Z.ERR_NO_ACTIVE_STATUS]:{desc:\"ERR_NO_ACTIVE_STATUS\",action:\"failed\"},[Z.ERR_INVALID_UID]:{desc:\"ERR_INVALID_UID\",action:\"failed\"},[Z.ERR_DYNAMIC_KEY_EXPIRED]:{desc:\"ERR_DYNAMIC_KEY_EXPIRED\",action:\"failed\"},[Z.ERR_STATIC_USE_DYANMIC_KE]:{desc:\"ERR_STATIC_USE_DYANMIC_KE\",action:\"failed\"},[Z.ERR_DYNAMIC_USE_STATIC_KE]:{desc:\"ERR_DYNAMIC_USE_STATIC_KE\",action:\"failed\"},[Z.ERR_NO_VOCS_AVAILABLE]:{desc:\"ERR_NO_VOCS_AVAILABLE\",action:\"tryNext\"},[Z.ERR_NO_VOS_AVAILABLE]:{desc:\"ERR_NO_VOS_AVAILABLE\",action:\"tryNext\"},[Z.ERR_JOIN_CHANNEL_TIMEOUT]:{desc:\"ERR_JOIN_CHANNEL_TIMEOUT\",action:\"tryNext\"},[Z.ERR_JOIN_BY_MULTI_IP]:{desc:\"ERR_JOIN_BY_MULTI_IP\",action:\"recover\"},[Z.ERR_NOT_JOINED]:{desc:\"ERR_NOT_JOINED\",action:\"failed\"},[Z.ERR_REPEAT_JOIN_REQUEST]:{desc:\"ERR_REPEAT_JOIN_REQUEST\",action:\"quit\"},[Z.ERR_REPEAT_JOIN_CHANNEL]:{desc:\"ERR_REPEAT_JOIN_CHANNEL\",action:\"quit\"},[Z.ERR_INVALID_STRINGUID]:{desc:\"ERR_INVALID_STRINGUID\",action:\"failed\"},[Z.ERR_TOO_MANY_USERS]:{desc:\"ERR_TOO_MANY_USERS\",action:\"tryNext\"},[Z.ERR_SET_CLIENT_ROLE_TIMEOUT]:{desc:\"ERR_SET_CLIENT_ROLE_TIMEOUT\",action:\"failed\"},[Z.ERR_SET_CLIENT_ROLE_NO_PERMISSION]:{desc:\"ERR_SET_CLIENT_ROLE_TIMEOUT\",action:\"failed\"},[Z.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE]:{desc:\"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE\",action:\"success\"},[Z.ERR_PUBLISH_REQUEST_INVALID]:{desc:\"ERR_PUBLISH_REQUEST_INVALID\",action:\"failed\"},[Z.ERR_SUBSCRIBE_REQUEST_INVALID]:{desc:\"ERR_SUBSCRIBE_REQUEST_INVALID\",action:\"failed\"},[Z.ERR_NOT_SUPPORTED_MESSAGE]:{desc:\"ERR_NOT_SUPPORTED_MESSAGE\",action:\"failed\"},[Z.ERR_ILLEAGAL_PLUGIN]:{desc:\"ERR_ILLEAGAL_PLUGIN\",action:\"failed\"},[Z.ILLEGAL_CLIENT_ROLE_LEVEL]:{desc:\"ILLEGAL_CLIENT_ROLE_LEVEL\",action:\"failed\"},[Z.ERR_REJOIN_TOKEN_INVALID]:{desc:\"ERR_REJOIN_TOKEN_INVALID\",action:\"failed\"},[Z.ERR_REJOIN_USER_NOT_JOINED]:{desc:\"ERR_REJOIN_NOT_JOINED\",action:\"failed\"},[Z.ERR_INVALID_OPTIONAL_INFO]:{desc:\"ERR_INVALID_OPTIONAL_INFO\",action:\"quit\"},[Z.ERR_TEST_RECOVER]:{desc:\"ERR_TEST_RECOVER\",action:\"recover\"},[Z.ERR_TEST_TRYNEXT]:{desc:\"ERR_TEST_TRYNEXT\",action:\"recover\"},[Z.ERR_TEST_RETRY]:{desc:\"ERR_TEST_RETRY\",action:\"recover\"},[Z.ILLEGAL_AES_PASSWORD]:{desc:\"ERR_TEST_RETRY\",action:\"failed\"},[Z.ERR_TOO_MANY_BROADCASTERS]:{desc:\"ERR_TOO_MANY_BROADCASTERS\",action:\"failed\"},[Z.ERR_TOO_MANY_SUBSCRIBERS]:{desc:\"ERR_TOO_MANY_SUBSCRIBERS\",action:\"failed\"},[Z.ERR_LICENSE_ILLEGAL]:{desc:\"ERR_LICENSE_ILLEGAL\",action:\"quit\"},[Z.ERR_LICENSE_MISSING]:{desc:\"ERR_LICENSE_MISSING\",action:\"quit\"},[Z.ERR_LICENSE_EXPIRED]:{desc:\"ERR_LICENSE_EXPIRED\",action:\"quit\"},[Z.ERR_LICENSE_MINUTES_EXCEEDED]:{desc:\"ERR_LICENSE_MINUTES_EXCEEDED\",action:\"quit\"},[Z.ERR_LICENSE_PERIOD_INVALID]:{desc:\"ERR_LICENSE_PERIOD_INVALID\",action:\"quit\"},[Z.ERR_LICENSE_MULTIPLE_SDK_SERVICE]:{desc:\"ERR_LICENSE_MULTIPLE_SDK_SERVICE\",action:\"quit\"}};function Oc(t){return lj[t]||{desc:\"UNKNOWN_ERROR_\".concat(t),action:\"failed\"}}function xR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function Vp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xR(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xR(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}function VR(t){return t.every(e=>e.readyState===WebSocket.CLOSED||e.readyState===WebSocket.CLOSING)}function FR(t,e){if(typeof t==\"string\")return t;let{proxy:n,host:i,port:r}=t;if(e){let o=v(\"JOIN_GATEWAY_FALLBACK_PORT\")||443;return o===443?\"wss://\".concat(i,\"/ws/?p=\").concat(Number(r)+150):\"wss://\".concat(i,\":\").concat(o,\"/ws/?p=\").concat(Number(r)+150)}return n?\"wss://\".concat(n,\"/ws/?h=\").concat(i,\"&p=\").concat(r):\"wss://\".concat(i,\":\").concat(r)}var uj=/wss:\\/\\/(.+)\\/ws\\/\\?h=(.+)&p=([0-9]+)\\/?/,hj=/wss:\\/\\/(.+)\\/ws\\/\\?p=([0-9]+)\\/?/,pj=/wss:\\/\\/(.+):([0-9]+)\\/?/,_j=/wss:\\/\\/(.[^\\/]+)\\/?/,Ej=0,BE=class{constructor(e,n){T(this,\"id\",0),T(this,\"store\",void 0),T(this,\"recordIndex\",void 0),T(this,\"websockets\",[]),T(this,\"try443PortDuration\",2e3),T(this,\"forceCloseWSDuration\",5e3),T(this,\"try443PortTimeout\",null),T(this,\"forceCloseTimeout\",null),T(this,\"isTry443PortFailed\",!1),T(this,\"isNormalPortFailed\",!1),T(this,\"useDoubleDomain\",!1),T(this,\"useProxy\",!1),T(this,\"startTime\",Date.now()),this.id=++Ej,this.try443PortDuration=v(\"JOIN_GATEWAY_TRY_443PORT_DURATION\")||2e3,this.forceCloseWSDuration=e||5e3,this.store=n;}closeAllWebsockets(){this.websockets.forEach(e=>{e.onopen=null,e.onclose=null,e.onmessage=null,e.close();}),this.websockets.length=0;}clearTimeout(){this.forceCloseTimeout&&clearTimeout(this.forceCloseTimeout),this.try443PortTimeout&&clearTimeout(this.try443PortTimeout);}logger(){var e;let n=Date.now()-this.startTime;for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];_.debug(\"[choose-best-ws \".concat((e=this.store)===null||e===void 0?void 0:e.clientId,\" \").concat(this.id,\"] \").concat(n,\"ms:\"),...r);}createWebSocket(e,n,i){this.logger(\"createWebSocket:\",e,{isTry443Port:n,hasTimeoutDetection:i});let r=v(\"GATEWAY_DOMAINS\"),o=Date.now(),s=[],a=r.find(l=>{var u;return W(u=e.host).call(u,l)});a||(this.useDoubleDomain=!1);let c=[];if(this.useDoubleDomain)r.forEach(l=>{c.push(FR(Vp(Vp({},e),{},{host:e.host.replace(a,l)}),n));});else {let l=Vp({},e);if(n&&a){let u=r.find(h=>h!==a);u&&(l.host=l.host.replace(a,u));}c.push(FR(l,n));}try{c.forEach(l=>{let u=new WebSocket(l);u.binaryType=\"arraybuffer\",s.push(u),this.logger(\"ws is connecting:\",u.url);});}catch(l){if(this.logger(\"ws create failed\"),s.forEach(u=>u.close()),s.length=0,this.useDoubleDomain)return this.useDoubleDomain=!1,this.createWebSocket(e,n,i);if(!n&&Number(e.port)!==443)return this.createWebSocket(e,!0,i);throw new O(R.WS_ERR,\"init websocket failed! Error: \".concat(l.toString()))}let d=vc();return this.store&&this.store.recordJoinChannelService({urls:s.map(l=>l.url),service:\"gateway\"},this.recordIndex),s.forEach(l=>{l.onopen=()=>{this.logger(\"onopen: ws \".concat(l.url,\" open cost \").concat(Date.now()-o,\"ms\")),this.websockets.forEach(u=>{u!==l&&(u.onopen=null,u.onclose=null,u.onmessage=null,u.close(),this.logger(\"close backup websocket: \".concat(u.url)));}),this.websockets.length=0,d.resolve(l);},l.onclose=u=>{this.logger(\"onclose: ws \".concat(l.url,\" closed cost \").concat(Date.now()-o,\"ms state: \").concat(l.readyState)),n?this.isTry443PortFailed=VR(s):this.isNormalPortFailed=VR(s),this.logger(\"443: \".concat(this.useProxy?\"not try\":this.isTry443PortFailed?\"failed\":\"trying\",\" 47xx: \").concat(this.isNormalPortFailed?\"failed\":\"trying\")),(n&&this.isTry443PortFailed||!n&&(this.isTry443PortFailed||this.useProxy)&&this.isNormalPortFailed)&&(this.logger(\"onclose: all websocket is closed, \".concat(u.reason)),d.reject({code:u.code,reason:Tl.A_ROUND_WS_FAILED}));},l.onmessage=u=>this.logger(\"\".concat(l.url,\" onmessage: \").concat(u.data));}),this.websockets.push(...s),i||(()=>{let l=()=>{this.logger(\"5s timeout close un-opens, isWebsocket created: \",d.isResolved),this.websockets.forEach(u=>u.readyState!==WebSocket.OPEN&&u.close());};if(n||this.useProxy)return this.logger(\"add 5s timeout at \".concat(n?\"try-443\":\"proxy\",\" condition\")),this.forceCloseTimeout=window.setTimeout(l,this.forceCloseWSDuration);this.try443PortTimeout=window.setTimeout(()=>{if(this.logger(\"2s timeout, isWebsocket created: \",d.isResolved),d.isResolved)return l();mt().os===ye.MAC_OS&&$t()&&l(),this.createWebSocket(e,!0,!0).then(u=>d.resolve(u)).catch(u=>{this.isNormalPortFailed&&d.reject(u),this.logger(\"try 443 port to create ws failed\");}),this.forceCloseTimeout=window.setTimeout(l,this.forceCloseWSDuration);},this.try443PortDuration);})(),d.promise}chooseBestWebsocket(e,n,i,r){return this.useDoubleDomain=!!n,typeof e==\"string\"&&(e=function(o){let s,a,c;return [,s,a,c]=o.match(uj)||[],s||([,a,c]=o.match(hj)||[]),a&&c||([,a,c]=o.match(pj)||[]),a&&c||([,a]=o.match(_j)||[]),a||_.warning(\"un-destructible url: \",o),{proxy:s,host:a,port:c||\"443\"}}(e)),this.recordIndex=r,this.useProxy=!!e.proxy,i&&this.useProxy&&(_.warn(\"cannot use 443 only when use proxy\"),i=!1),this.createWebSocket(e,!!i,!1).finally(()=>this.clearTimeout())}};function BR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}var ql=class extends Xt{get url(){return this.websocket&&this.websocket.url||null}get reconnectMode(){return this._reconnectMode}set reconnectMode(e){var n;W(n=[\"tryNext\",\"recover\"]).call(n,e)&&this.resetReconnectCount(e),this._reconnectMode=e;}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,this._state===\"reconnecting\"?this.emit(it.RECONNECTING,this.reconnectReason):this._state===\"connected\"?this.emit(it.CONNECTED):this._state===\"closed\"?this.emit(it.CLOSED):this._state===\"failed\"&&this.emit(it.FAILED));}resetReconnectCount(e){_.debug(\"websocket reset reconnect count, reason: \"+e),this.reconnectCount=0;}constructor(e,n){let i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=arguments.length>3&&arguments[3]!==void 0&&arguments[3],o=arguments.length>4&&arguments[4]!==void 0&&arguments[4],s=arguments.length>5?arguments[5]:void 0;super(),T(this,\"connectionID\",0),T(this,\"currentURLIndex\",0),T(this,\"urls\",[]),T(this,\"_reconnectMode\",\"tryNext\"),T(this,\"reconnectReason\",void 0),T(this,\"_initMutex\",new ze(\"websocket\")),T(this,\"name\",void 0),T(this,\"_state\",\"closed\"),T(this,\"reconnectInterrupter\",void 0),T(this,\"websocket\",void 0),T(this,\"retryConfig\",void 0),T(this,\"reconnectCount\",0),T(this,\"forceCloseTimeout\",5e3),T(this,\"onlineReconnectListener\",void 0),T(this,\"useCompress\",void 0),T(this,\"tryDoubleDomain\",!1),T(this,\"use443PortOnly\",!1),T(this,\"wsInflateLength\",0),T(this,\"wsDeflateLength\",0),T(this,\"closeEstablishingWs\",()=>{}),T(this,\"store\",void 0),T(this,\"joinGatewayRecordIndex\",void 0),this.store=s,this.name=e,this.retryConfig=function(u){for(var h=1;h<arguments.length;h++){var p=arguments[h]!=null?arguments[h]:{};h%2?BR(Object(p),!0).forEach(function(g){T(u,g,p[g]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(p)):BR(Object(p)).forEach(function(g){Object.defineProperty(u,g,Object.getOwnPropertyDescriptor(p,g));});}return u}({},n),this.useCompress=i,this.tryDoubleDomain=r,this.use443PortOnly=o;let{timeout:a,timeoutFactor:c}=n,d=Math.max(300,Math.floor(3*a/5)),l=Math.max(1.2,Math.floor(8*c)/10);wn.ONLINE&&(this.retryConfig.timeout=d,this.retryConfig.timeoutFactor=l),he.on(ks.NETWORK_STATE_CHANGE,(u,h)=>{u!==h&&(this.resetReconnectCount(\"network state change: \".concat(h,\" -> \").concat(u)),u===wn.ONLINE?(this.retryConfig.timeout=d,this.retryConfig.timeoutFactor=l):(this.retryConfig.timeout=a,this.retryConfig.timeoutFactor=c));});}getConnection(){return this.websocket||void 0}async init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5e3,i=await this._initMutex.lock();this.forceCloseTimeout=n,this.urls=e,this.state=\"connecting\";try{let r=vc(),o=this.urls[this.currentURLIndex];v(\"ENABLE_PREALLOC_PC\")&&this.emit(PO.PRE_CONNECT_PC),this.createWebSocketConnection(o).then(r.resolve).catch(r.reject),this.once(it.CLOSED,()=>{r.reject(new N(R.WS_DISCONNECT));}),this.once(it.CONNECTED,r.resolve),await r.promise;}catch{}finally{i();}}close(e,n){if(this.currentURLIndex=0,this.resetReconnectCount(\"close\"),this.reconnectInterrupter&&this.reconnectInterrupter(),this.websocket){this.websocket.onclose=null,this.websocket.onopen=null,this.websocket.onmessage=null;let i=this.websocket;n?setTimeout(()=>i.close(),500):i.close(),this.websocket=void 0;}this.state=e?\"failed\":\"closed\",this.closeEstablishingWs&&this.closeEstablishingWs();}reconnect(e,n){if(!this.websocket)return void _.warning(\"[\".concat(this.name,\"] can not reconnect, no websocket\"));e!==void 0&&(this.reconnectMode=e),_.debug(\"[\".concat(this.name,\"] reconnect is triggered initiative\")),typeof this.joinGatewayRecordIndex==\"number\"&&this.store&&this.store.recordJoinChannelService({status:\"error\",errors:[new Error(n)]},this.joinGatewayRecordIndex);let i=this.websocket.onclose;this.websocket.onclose=null,this.websocket.close(),i&&i.bind(this.websocket)({code:9999,reason:n});}sendMessage(e){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!this.websocket||this.websocket.readyState!==WebSocket.OPEN)throw new N(R.WS_ABORT,\"websocket is not ready\");try{n||(e=JSON.stringify(e)),this.websocket.send(e);}catch(i){throw new N(R.WS_ERR,\"send websocket message error\"+i.toString())}}setWsInflateData(e){this.wsDeflateLength=this.wsDeflateLength+e.originLength,this.wsInflateLength=this.wsInflateLength+e.compressedLength;}getWsInflateData(){let e=this.wsInflateLength,n=this.wsDeflateLength;return this.clearWsInflateData(),{wsInflateLength:e,wsDeflateLength:n}}clearWsInflateData(){this.wsInflateLength=0,this.wsDeflateLength=0;}async createWebSocketConnection(e){var n;let i=vc();this.connectionID+=1,this.joinGatewayRecordIndex=void 0;let r=l=>{var u;(u=this.store)===null||u===void 0||u.signalChannelOpen(),_.debug(\"[\".concat(this.name,\"] websocket opened:\"),l),this.reconnectMode=\"retry\",this.state=\"connected\",this.resetReconnectCount(\"opened\"),i.resolve();},o=async l=>{var u;if(_.debug(\"[\".concat(this.name,\"] websocket close \").concat((u=this.websocket)===null||u===void 0?void 0:u.url,\", code: \").concat(l.code,\", reason: \").concat(l.reason,\", current mode: \").concat(this.reconnectMode)),this.reconnectCount>=this.retryConfig.maxRetryCount)i.reject(new N(R.WS_DISCONNECT,\"websocket close: \".concat(l.code))),this.close();else {this.state===\"connected\"&&(this.reconnectReason=l.reason,this.state=\"reconnecting\");let h=ni(this,it.WILL_RECONNECT,this.reconnectMode,l.reason)||this.reconnectMode,p=await this.reconnectWithAction(h);if(this.state===\"closed\")return void _.debug(\"[\".concat(this.connectionID,\"] ws is closed, no need to reconnect\"));if(!p)return i.reject(new N(R.WS_DISCONNECT,\"websocket reconnect failed: \".concat(l.code))),this.close(!0);i.resolve();}},s=l=>{this.emit(it.ON_MESSAGE,l);},a=l=>{_.warn(\"[\".concat(this.connectionID,\"] ws open error \").concat(l));};this.websocket&&(this.websocket.onclose=null,this.websocket.close()),v(\"GATEWAY_WSS_ADDRESS\")&&this.name.startsWith(\"gateway\")&&(e=v(\"GATEWAY_WSS_ADDRESS\")),_.debug(\"[\".concat(this.name,\"] start connect, url:\"),e);let c=(n=this.store)===null||n===void 0?void 0:n.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"gateway\"});try{var d;let l=await this.chooseBestWebsocketConnection(e);this.websocket=l,r&&r(this.websocket.url),this.websocket.onclose=o,this.websocket.onmessage=s,this.websocket.onerror=a,(d=this.store)===null||d===void 0||d.recordJoinChannelService({endTs:Date.now(),status:\"success\"},c),this.joinGatewayRecordIndex=c;}catch(l){let u=this.state===\"closed\",h=l instanceof N,p=h&&l.code===R.WS_ABORT,g=h&&l.code===R.WS_ERR,E=h?l.message:l&&(l.reason||l.toString());_.warning(\"[choose-best-ws] chooseBestWebsocket error: \".concat(E)),this.store&&this.store.recordJoinChannelService({endTs:Date.now(),status:p?\"aborted\":\"error\",errors:[l]},c),u||g?(i.reject(u?new N(R.WS_DISCONNECT,\"websocket is closed: \".concat(E)):new N(R.WS_ERR,\"init websocket failed: \".concat(E))),g&&_.error(\"[\".concat(this.name,\"] init websocket failed: \").concat(E))):o&&o(l);}return i.promise}async reconnectWithAction(e){let n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(this.reconnectCount>=this.retryConfig.maxRetryCount||this.urls.length===0||this.state===\"closed\")return !1;_.warning(\"[choose-best-ws] action: =>\",e),this.onlineReconnectListener||he.isOnline||!he.onlineWaiter||(this.onlineReconnectListener=he.onlineWaiter.then(()=>{this.onlineReconnectListener=void 0;}));let i=!0;if(this.reconnectInterrupter=()=>i=!1,n){let s=hf(this.reconnectCount,this.retryConfig);_.debug(\"[\".concat(this.name,\"] wait \").concat(s,\"ms to reconnect websocket, mode: \").concat(e)),await j.race([Me(s),this.onlineReconnectListener||new j(()=>{})]);}if(this._state===\"closed\"||!i)return !1;this.reconnectCount+=1;let r=async(s,a)=>{this.emit(it.RECONNECT_CREATE_CONNECTION,a),await this.createWebSocketConnection(s);};try{if(e===\"retry\")this.emit(it.RECONNECT_WAITTING_FINISH,e),await r(this.urls[this.currentURLIndex],e);else if(e===\"tryNext\"){if(this.currentURLIndex+=1,this.currentURLIndex>=this.urls.length)return this.reconnectWithAction(\"recover\",!1);_.debug(\"[\".concat(this.name,\"] websocket url length: \").concat(this.urls.length,\" current index: \").concat(this.currentURLIndex)),this.emit(it.RECONNECT_WAITTING_FINISH,e),await r(this.urls[this.currentURLIndex],e);}else e===\"recover\"&&(_.debug(\"[\".concat(this.name,\"] request new urls\")),this.resetReconnectCount(\"recover mode\"),this.emit(it.RECONNECT_WAITTING_FINISH,e),this.urls=await Ge(this,it.REQUEST_NEW_URLS),this.currentURLIndex=0,await r(this.urls[this.currentURLIndex],e));}catch(s){var o;_.error(\"[\".concat(this.name,\"] reconnect failed \").concat(s&&s.toString()));let a=s==null||(o=s.data)===null||o===void 0?void 0:o.desc;return Array.isArray(a)&&W(a).call(a,\"dynamic key expired\")?(this.emit(it.ON_TOKEN_PRIVILEGE_DID_EXPIRE),!1):this.reconnectWithAction(e,n)}return !0}},Nc=class extends ql{constructor(e,n){super(e,n,arguments.length>2&&arguments[2]!==void 0&&arguments[2],arguments.length>3&&arguments[3]!==void 0&&arguments[3],arguments.length>4&&arguments[4]!==void 0&&arguments[4],arguments.length>5?arguments[5]:void 0);}async chooseBestWebsocketConnection(e,n){let i=vc(),r=function(s,a){return new BE(s,a)}(this.forceCloseTimeout,this.store);this.closeEstablishingWs=()=>{_.debug(\"[choose-best-ws] close establishing websockets\"),r.closeAllWebsockets(),i.reject(new N(R.WS_ABORT,\"choose best websocket aborted\"));};let o=v(\"GATEWAY_DOMAINS\");return _.debug(\"[choose-best-ws] currentDomain: \",e,\", domains: \",o,\"total: \".concat(this.urls.length),\"current: \".concat(this.currentURLIndex+1)),r.chooseBestWebsocket(e,this.tryDoubleDomain,this.use443PortOnly,n).then(i.resolve).catch(i.reject),i.promise.finally(()=>{this.closeEstablishingWs=void 0;})}},Qo=class extends ql{constructor(e,n){super(e,n,arguments.length>2&&arguments[2]!==void 0&&arguments[2],arguments.length>3&&arguments[3]!==void 0&&arguments[3],arguments.length>4&&arguments[4]!==void 0&&arguments[4],arguments.length>5?arguments[5]:void 0);}async chooseBestWebsocketConnection(e,n){return new j((i,r)=>{let o=!1,s=[];this.closeEstablishingWs=()=>{_.debug(\"[choose-best-ws] close establishing websockets\"),s.forEach(g=>{g.onclose=null,g.onopen=null,g.onmessage=null,g.close();}),r(new N(R.WS_ABORT,\"choose best websocket aborted\"));};let a=v(\"GATEWAY_DOMAINS\"),c,d=e.indexOf(\"?h=\"),l=a.find(g=>d!==-1?W(e).call(e,g,d):W(e).call(e,g));_.debug(\"[choose-best-ws] currentDomain: \",l,\", domains: \",a);let u=!this.tryDoubleDomain||!l;if(!u&&l){var h;let g=Date.now();try{a.forEach(E=>{let f=d===-1?e.replace(l,E):e.substr(0,d)+e.substr(d).replace(l,E),S=new WebSocket(f);S.binaryType=\"arraybuffer\",s.push(S),_.debug(\"[choose-best-ws] ws is connecting:\",S.url);});}catch{for(_.debug(\"[choose-best-ws] ws create failed, fallback to single url\"),s.forEach(f=>f.close());s.length;)s.pop();u=!0;}(h=this.store)===null||h===void 0||h.recordJoinChannelService({urls:s.map(E=>E.url),service:\"gateway\"},n),s.forEach(E=>{E.onopen=()=>{if(o)return;let f=Date.now()-g;_.debug(\"[choose-best-ws] ws open cost \".concat(f,\"ms\")),s.filter(S=>S!==E).forEach(S=>{_.debug(\"[choose-best-ws]close backup websocket: \".concat(S.url)),S.close();}),o=!0,i(E);},E.onclose=f=>{c=f,!o&&(s.find(S=>!(S.readyState===WebSocket.CLOSED||S.readyState===WebSocket.CLOSING))||(_.debug(\"[choose-best-ws] all websocket is closed\"),o=!0,r(c)));},E.onmessage=f=>{_.debug(\"[choose-best-ws]\".concat(E.url,\" onmessage: \").concat(f.data));};}),Me(this.forceCloseTimeout).then(()=>{s.forEach(E=>{E.readyState!==WebSocket.OPEN&&E.close();});});}if(u){var p;let g;_.debug(\"[choose-best-ws] use single url: \",e),(p=this.store)===null||p===void 0||p.recordJoinChannelService({urls:[e],service:\"gateway\"},n);try{g=new WebSocket(e),s.push(g),g.binaryType=\"arraybuffer\";}catch(E){let f=new N(R.WS_ERR,\"init websocket failed! Error: \".concat(E.toString()));return _.error(\"[\".concat(this.name,\"]\").concat(f)),void r(f)}g.onopen=()=>{i(g);},g.onclose=E=>{r(E);},g.onmessage=E=>{_.debug(\"[choose-best-ws]\".concat(g.url,\" onmessage: \").concat(E.data));},Me(this.forceCloseTimeout).then(()=>{g&&g.readyState!==WebSocket.OPEN&&g.close();});}}).then(i=>(this.closeEstablishingWs=void 0,i)).catch(i=>{throw this.closeEstablishingWs=void 0,i})}},jE=class extends Xt{get connectionState(){return this._connectionState}set connectionState(e){e!==this._connectionState&&(this._connectionState=e,e===Lt.CONNECTED?this.emit(nt.WS_CONNECTED):e===Lt.RECONNECTING?this.emit(nt.WS_RECONNECTING,this._websocketReconnectReason):e===Lt.CLOSED&&this.emit(nt.WS_CLOSED,this._disconnectedReason));}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket&&this.websocket.url||null}get rtt(){return this.rttRolling.mean()}constructor(e,n){super(),T(this,\"_disconnectedReason\",void 0),T(this,\"_websocketReconnectReason\",void 0),T(this,\"_connectionState\",Lt.CLOSED),T(this,\"reconnectToken\",void 0),T(this,\"websocket\",void 0),T(this,\"openConnectionTime\",void 0),T(this,\"clientId\",void 0),T(this,\"lastMsgTime\",Date.now()),T(this,\"uploadCache\",[]),T(this,\"uploadCacheInterval\",void 0),T(this,\"rttRolling\",new Hl(5)),T(this,\"pingpongTimer\",void 0),T(this,\"wsInflateDataTimer\",void 0),T(this,\"pingpongTimeoutCount\",0),T(this,\"joinResponse\",void 0),T(this,\"multiIpOption\",void 0),T(this,\"initError\",void 0),T(this,\"spec\",void 0),T(this,\"store\",void 0),T(this,\"onWebsocketMessage\",i=>{if(i.data instanceof ArrayBuffer)return void this.emit(nt.ON_BINARY_DATA,i.data);let r=JSON.parse(i.data);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(r,\"_id\")){let o=\"res-@\".concat(r._id);this.emit(o,r._result,r._message);}else if(Object.prototype.hasOwnProperty.call(r,\"_type\")){if(this.emit(r._type,r._message),r._type===dt.ON_NOTIFICATION&&this.handleNotification(r._message),r._type===dt.ON_USER_BANNED)switch(r._message.error_code){case 14:this.close(At.UID_BANNED);break;case 15:this.close(At.IP_BANNED);break;case 16:this.close(At.CHANNEL_BANNED);}if(r._type===dt.ON_USER_LICENSE_BANNED)switch(r._message.error_code){case Z.ERR_LICENSE_MISSING:this.close(At.LICENSE_MISSING);break;case Z.ERR_LICENSE_EXPIRED:this.close(At.LICENSE_EXPIRED);break;case Z.ERR_LICENSE_MINUTES_EXCEEDED:this.close(At.LICENSE_MINUTES_EXCEEDED);break;case Z.ERR_LICENSE_PERIOD_INVALID:this.close(At.LICENSE_PERIOD_INVALID);break;case Z.ERR_LICENSE_MULTIPLE_SDK_SERVICE:this.close(At.LICENSE_MULTIPLE_SDK_SERVICE);break;case Z.ERR_LICENSE_ILLEGAL:this.close(At.LICENSE_ILLEGAL);break;default:this.close();}}}),this.clientId=e.clientId,this.spec=e,this.store=n,this.websocket=new Nc(\"gateway-\".concat(this.clientId),this.spec.retryConfig,!0,v(\"JOIN_GATEWAY_USE_DUAL_DOMAIN\"),v(\"JOIN_GATEWAY_USE_443PORT_ONLY\"),n),this.handleWebsocketEvents(),window.addEventListener(\"offline\",()=>{this.connectionState===Lt.CONNECTED&&this.reconnect(\"retry\",Be.OFFLINE);});}async request(e,n,i,r){let o=Ut(6,\"\"),s={_id:o,_type:e,_message:n},a=this.websocket.connectionID,c=()=>new j((g,E)=>{if(this.connectionState===Lt.CONNECTED)return g();let f=()=>{this.off(nt.WS_CLOSED,S),g();},S=()=>{this.off(nt.WS_CONNECTED,f),E(new O(R.WS_ABORT));};this.once(nt.WS_CONNECTED,f),this.once(nt.WS_CLOSED,S),e!==et.PUBLISH&&e!==et.PUBLISH_DATASTREAM&&e!==et.SUBSCRIBE&&e!==et.SUBSCRIBE_DATASTREAM&&e!==et.UNSUBSCRIBE&&e!==et.UNSUBSCRIBE_DATASTREAM&&e!==et.UNPUBLISH&&e!==et.UNPUBLISH_DATASTREAM&&e!==et.CONTROL&&e!==et.RESTART_ICE||this.once(nt.DISCONNECT_P2P,()=>{E(new O(R.DISCONNECT_P2P));}),e!==et.PUBLISH&&e!==et.RESTART_ICE||this.once(nt.ABORT_P2P_EXECUTION,()=>{E(new O(R.DISCONNECT_P2P));});});if(this.connectionState!==Lt.CONNECTING&&this.connectionState!==Lt.RECONNECTING||e===et.JOIN||e===et.REJOIN||await c(),this.websocket.sendMessage(s,!0),r)return;let d=new j((g,E)=>{let f=!1,S=(A,b)=>{f=!0,g({isSuccess:A===\"success\",message:b||{}}),this.off(nt.WS_CLOSED,C),this.off(nt.WS_RECONNECTING,C),this.emit(nt.REQUEST_SUCCESS,e,n);};this.once(\"res-@\".concat(o),S);let C=()=>{E(new O(R.WS_ABORT,\"type: \".concat(e))),this.off(nt.WS_CLOSED,C),this.off(nt.WS_RECONNECTING,C),this.off(\"res-@\".concat(o),S);};this.once(nt.WS_CLOSED,C),this.once(nt.WS_RECONNECTING,C),Me(v(\"SIGNAL_REQUEST_TIMEOUT\")).then(()=>{this.websocket.connectionID!==a||f||(_.warning(\"[\".concat(this.clientId,\"] ws request timeout, type: \").concat(e)),this.emit(nt.REQUEST_TIMEOUT,e,n));});}),l=null;try{l=await d;}catch(g){if(this.connectionState===Lt.CLOSED||e===et.LEAVE)throw new O(R.WS_ABORT);return !this.spec.forceWaitGatewayResponse||i?g.throw():e===et.JOIN||e===et.REJOIN?null:(await c(),await this.request(e,n))}if(l.isSuccess)return l.message;let u=Number(l.message.error_code||l.message.code),h=Oc(u),p=new O(R.UNEXPECTED_RESPONSE,\"\".concat(h.desc,\": \").concat(l.message.error_str),{code:u,data:l.message,desc:h.desc});return h.action===\"success\"?l.message:(_.warning(\"[\".concat(this.clientId,\"] [\").concat(this.websocket.connectionID,\"] unexpected response from type \").concat(e,\", error_code: \").concat(u,\", message: \").concat(h.desc,\", action: \").concat(h.action)),u===Z.ERR_TOO_MANY_BROADCASTERS?((e===et.JOIN||e===et.REJOIN)&&(this.initError=p,this.close()),p.throw()):h.action===\"failed\"?p.throw():h.action===\"quit\"?(this.initError=p,this.close(),p.throw()):(u===Z.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=l.message.option,_.warning(\"[\".concat(this.clientId,\"] detect multi ip, recover\")),this.reconnect(\"recover\",Be.MULTI_IP)):this.reconnect(h.action,Be.SERVER_ERROR),e===et.JOIN||e===et.REJOIN?null:await this.request(e,n)))}waitMessage(e,n){return new j(i=>{let r=o=>{(!n||n(o))&&(this.off(e,r),i(o));};this.on(e,r);})}uploadWRTCStats(e){if(!this.store.sessionId)return void _.warn(\"[\".concat(this.clientId,\"] no session id when upload wrtc stats\"));let n={lts:Date.now(),sid:this.store.sessionId,uid:this.store.intUid,stats:e};this.upload(wc.WRTC_STATS,n);}upload(e,n){let i={_type:e,_message:n};try{this.websocket.sendMessage(i);}catch{let o=v(\"MAX_UPLOAD_CACHE\")||50;this.uploadCache.push(i),this.uploadCache.length>o&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval(()=>{if(this.connectionState!==Lt.CONNECTED)return;let s=this.uploadCache.splice(0,1)[0];this.uploadCache.length===0&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(s._type,s._message);},v(\"UPLOAD_CACHE_INTERVAL\")||2e3));}}send(e,n){let i={_type:e,_message:n};this.websocket.sendMessage(i);}init(e,n){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new j((i,r)=>{this.once(nt.WS_CONNECTED,()=>i(this.joinResponse)),this.once(nt.WS_CLOSED,()=>r(this.initError||new O(R.WS_ABORT))),this.connectionState=Lt.CONNECTING,this.websocket.init(e).catch(r),this.wsInflateDataTimer&&window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=window.setInterval(()=>{this.handleWsInflateData();},2e4);})}close(e){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.wsInflateDataTimer&&(this.handleWsInflateData(),window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._disconnectedReason=e||At.LEAVE,this.connectionState=Lt.CLOSED,_.debug(\"[\".concat(this.clientId,\"] \")+\"will close websocket in signal\"),this.websocket.close();}async join(){if(!this.joinResponse){this.emit(nt.ABORT_P2P_EXECUTION);let e=await Ge(this,nt.REQUEST_JOIN_INFO),n=await this.request(et.JOIN,e);if(!n)return this.emit(nt.REPORT_JOIN_GATEWAY,Tl.TIMEOUT,this.url||\"\"),!1;this.joinResponse=n,this.emit(nt.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token;}return this.connectionState=Lt.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}async rejoin(){if(!this.reconnectToken)throw new O(R.UNEXPECTED_ERROR,\"can not rejoin, no rejoin token\");let e=Ac(this,nt.REQUEST_REJOIN_INFO);e.token=this.reconnectToken;let n=await this.request(et.REJOIN,e);return !!n&&(this.connectionState=Lt.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),n.peers&&n.peers.forEach(i=>{this.emit(dt.ON_USER_ONLINE,{uid:i.uid}),i.audio&&this.emit(dt.ON_ADD_AUDIO_STREAM,{uid:i.uid,uint_id:i.uint_id,audio:!0,ssrcId:i.audio_ssrc}),i.video&&this.emit(dt.ON_ADD_VIDEO_STREAM,{uid:i.uid,uint_id:i.uint_id,video:!0,ssrcId:i.video_ssrc}),i.audio_mute?this.emit(dt.MUTE_AUDIO,{uid:i.uid}):this.emit(dt.UNMUTE_AUDIO,{uid:i.uid}),i.video_mute?this.emit(dt.MUTE_VIDEO,{uid:i.uid}):this.emit(dt.UNMUTE_VIDEO,{uid:i.uid}),i.audio_enable_local?this.emit(dt.ENABLE_LOCAL_AUDIO,{uid:i.uid}):this.emit(dt.DISABLE_LOCAL_AUDIO,{uid:i.uid}),i.video_enable_local?this.emit(dt.ENABLE_LOCAL_VIDEO,{uid:i.uid}):this.emit(dt.DISABLE_LOCAL_VIDEO,{uid:i.uid}),i.audio||i.video||this.emit(dt.ON_REMOVE_STREAM,{uid:i.uid,uint_id:i.uint_id});}),!0)}reconnect(e,n){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(e,n);}handleNotification(e){_.debug(\"[\".concat(this.clientId,\"] receive notification: \"),e);let n=Oc(e.code);if(n.action!==\"success\"){if(n.action!==\"failed\")return n.action===\"quit\"?(n.desc===\"ERR_REPEAT_JOIN_CHANNEL\"&&this.close(At.UID_BANNED),void this.close()):void this.reconnect(n.action,Be.SERVER_ERROR);_.error(\"[\".concat(this.clientId,\"] ignore error: \"),n.desc);}}handlePingPong(){if(!this.websocket||this.websocket.state!==\"connected\")return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;let e=v(\"PING_PONG_TIME_OUT\"),n=Date.now();this.pingpongTimeoutCount>=e&&(_.warning(\"[\".concat(this.clientId,\"] PING-PONG Timeout. Last Socket Message: \").concat(n-this.lastMsgTime,\"ms\")),n-this.lastMsgTime>v(\"WEBSOCKET_TIMEOUT_MIN\"))?this.reconnect(\"retry\",Be.TIMEOUT):this.request(et.PING,void 0,!0).then(()=>{this.pingpongTimeoutCount=0;let i=Date.now()-n;this.rttRolling.add(i),v(\"REPORT_STATS\")&&this.send(et.PING_BACK,{pingpongElapse:i});}).catch(i=>{});}handleWsInflateData(){let{wsInflateLength:e,wsDeflateLength:n}=this.websocket.getWsInflateData();e!==0&&n!==0&&this.upload(wc.WS_INFLATE_DATA_LENGTH,{ws_deflate_length:n,ws_inflate_length:e});}handleWebsocketEvents(){this.websocket.on(it.RECONNECT_WAITTING_FINISH,e=>{this.emit(nt.WS_RECONNECT_WAITTING_FINISH,e);}),this.websocket.on(it.RECONNECT_CREATE_CONNECTION,e=>{this.emit(nt.WS_RECONNECT_CREATE_CONNECTION,e);}),this.websocket.on(it.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(it.CLOSED,()=>{this.connectionState=Lt.CLOSED;}),this.websocket.on(it.FAILED,()=>{this._disconnectedReason=At.NETWORK_ERROR,this.connectionState=Lt.CLOSED;}),this.websocket.on(it.RECONNECTING,e=>{this._websocketReconnectReason=e,this.joinResponse=void 0,this.connectionState===Lt.CONNECTED?this.connectionState=Lt.RECONNECTING:this.connectionState=Lt.CONNECTING;}),this.websocket.on(it.WILL_RECONNECT,(e,n,i)=>{let r=Ac(this,nt.IS_P2P_DISCONNECTED),o=r||e!==\"retry\";r&&e===\"retry\"&&(_.debug(\"\".concat(this.clientId,\" reconnect mode is retry, but p2p lost, change to tryNext\")),e=\"tryNext\",n=Tl.P2P_DISCONNECTED),o&&(_.debug(\"\".concat(this.clientId,\" will renewSession, reconnect mode: \").concat(e)),this.emit(nt.REPORT_JOIN_GATEWAY,n||Tl.UNKNOWN_REASON,this.url||\"\"),this.reconnectToken=void 0,this.emit(nt.DISCONNECT_P2P)),i(e);}),this.websocket.on(it.CONNECTED,()=>{this.openConnectionTime=Date.now(),this.reconnectToken?this.rejoin().catch(e=>{_.warning(\"[\".concat(this.clientId,\"] rejoin failed \").concat(e)),this.reconnect(\"tryNext\",Be.SERVER_ERROR);}):this.join().catch(e=>{if(this.emit(nt.REPORT_JOIN_GATEWAY,e,this.url||\"\"),e instanceof O){if(e.code===R.UNEXPECTED_RESPONSE&&e.data.code===Z.ERR_NO_AUTHORIZED)return this.initError=new O(R.CAN_NOT_GET_GATEWAY_SERVER,\"AgoraRTCError CAN_NOT_GET_GATEWAY_SERVER: dynamic key expired\"),_.warning(\"[\".concat(this.clientId,\"] reconnect no authorized, recover\")),void this.reconnect(\"recover\",Be.SERVER_ERROR);_.error(\"[\".concat(this.clientId,\"] join gateway request failed\"),e.toString()),this.spec.forceWaitGatewayResponse?this.reconnect(\"tryNext\",Be.SERVER_ERROR):(this.initError=e,this.close());}});}),this.websocket.on(it.REQUEST_NEW_URLS,(e,n)=>{Ge(this,nt.REQUEST_RECOVER,this.multiIpOption).then(e).catch(n);}),this.websocket.on(it.ON_TOKEN_PRIVILEGE_DID_EXPIRE,()=>{this.emit(dt.ON_TOKEN_PRIVILEGE_DID_EXPIRE);}),this.websocket.on(PO.PRE_CONNECT_PC,()=>{this.emit(nt.PRE_CONNECT_PC);});}},ue=function(t){return t[t.CHOOSE_SERVER=11]=\"CHOOSE_SERVER\",t[t.CLOUD_PROXY=18]=\"CLOUD_PROXY\",t[t.CLOUD_PROXY_5=20]=\"CLOUD_PROXY_5\",t[t.CLOUD_PROXY_FALLBACK=26]=\"CLOUD_PROXY_FALLBACK\",t}({});function jR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function kd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jR(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}function Us(t){return t.match(/^[\\.\\:\\d]+$/)?\"\".concat(t.replace(/[^\\d]/g,\"-\"),\".\").concat(v(\"TURN_DOMAIN\")):(_.info(\"Unidentified as ip: \".concat(t,\", use as host\")),t)}function mf(t,e){t.addresses||(t.addresses=[]);let n=function(a,c){if(v(\"CONNECT_GATEWAY_WITHOUT_DOMAIN\"))return a.map(u=>{let{ip:h,port:p}=u;return {address:\"\".concat(h,\":\").concat(p)}});let d=v(\"GATEWAY_DOMAINS\"),l=d[1]&&W(c).call(c,d[1])?1:0;return a.map(u=>{let{domain_prefix:h,port:p,ip:g}=u;if(h)return {address:\"\".concat(h,\".\").concat(d[l++%d.length],\":\").concat(p)};let E=/^[\\.\\:\\d]+$/.test(g),f=E?\"\".concat(g.replace(/[^\\d]/g,\"-\"),\".\").concat(d[l++%d.length],\":\").concat(p):\"\".concat(g,\":\").concat(p);return E||_.info(\"Unidentified as ip: \".concat(g,\", use as host\")),{ip:g,port:p,address:f}})}(t.addresses,e),i=Array.isArray(t.detail)&&t.detail[18];if(i&&typeof i==\"string\"){let a=i.split(\";\");for(let c=0;c<a.length;c++){var r;let d=rn(r=a[c]).call(r);n[c]&&d&&(n[c].ip6=d);}}let o=t.detail&&t.detail.candidate,s;if(o){let[a,c]=o.split(\":\");a&&c&&(s={port:Number(c),ip:a,address:\"\".concat(a,\":\").concat(c)});}return {gatewayAddrs:n,apGatewayAddress:s,uid:t.uid,cid:t.cid,cert:t.cert,vid:t.detail&&t.detail[8],uni_lbs_ip:t.detail&&t.detail[1],res:t,csIp:t.detail&&t.detail[502]}}function Nn(t){return typeof t==\"number\"?t:t.exact||t.ideal||t.max||t.min||0}function GR(t){let e=t._encoderConfig;if(!e)return {};let n={resolution:e.width&&e.height?\"\".concat(Nn(e.width),\"x\").concat(Nn(e.height)):void 0,maxVideoBW:e.bitrateMax,minVideoBW:e.bitrateMin};return typeof e.frameRate==\"number\"?(n.maxFrameRate=e.frameRate,n.minFrameRate=e.frameRate):e.frameRate&&(n.maxFrameRate=e.frameRate.max||e.frameRate.ideal||e.frameRate.exact||e.frameRate.min,n.minFrameRate=e.frameRate.min||e.frameRate.ideal||e.frameRate.exact||e.frameRate.max),n}function WR(t){return t>=0&&t<.17?1:t>=.17&&t<.36?2:t>=.36&&t<.59?3:t>=.59&&t<=1?4:t>1?5:0}function Dc(t,e){let n,i,r;switch(e){case ue.CHOOSE_SERVER:i=4096,r=\"choose server\";break;case ue.CLOUD_PROXY:i=1048576,r=\"proxy\";break;case ue.CLOUD_PROXY_5:i=4194304,r=\"proxy5\";break;case ue.CLOUD_PROXY_FALLBACK:i=4194310,r=\"proxy fallback\";break;default:throw new O(R.UNEXPECTED_ERROR,\"multi unlibs response transformer get unknown service id\",{csIp:t.detail&&t.detail[502],retry:!1})}if(t.response_body.forEach(o=>{o.buffer&&o.buffer.flag===i&&(n={code:o.buffer.code,addresses:(o.buffer.edges_services||[]).map(s=>kd(kd({},s),{},{ticket:o.buffer.cert})),server_ts:t.enter_ts,uid:o.buffer.uid,cid:o.buffer.cid,cname:o.buffer.cname,detail:kd(kd({},o.buffer.detail),t.detail),flag:o.buffer.flag,opid:t.opid,cert:o.buffer.cert});}),!n)throw new O(R.MULTI_UNILBS_RESPONSE_ERROR,\"cannot parse response \".concat(r,\" from multi unilbs response\"),{csIp:t.detail&&t.detail[502]});return n}async function kO(t,e){return await j.all(t.addresses.map(async n=>({address:Us(n.ip),tcpport:n.port,udpport:n.port,username:e&&v(\"ENCRYPT_PROXY_USERNAME_AND_PSW\")&&window.isSecureContext?e.toString():Ve.username,password:e&&v(\"ENCRYPT_PROXY_USERNAME_AND_PSW\")&&window.isSecureContext?await PE(e.toString()):Ve.password})))}function GE(t,e){let n=e.getMediaStreamTrack(!0).getSettings(),i=e.videoHeight||n.height,r=e.videoWidth||n.width;return i&&r?Math.max(Math.min(i,r)/Math.min(Nn(t.height),Nn(t.width)),1):(_.warning(\"can't get ori-track's height, default scale down 4 times for low stream\"),4)}function eo(t){let{candidateType:e,relayProtocol:n,type:i,address:r,port:o,protocol:s}=t;return i===\"local-candidate\"?{candidateType:e,relayProtocol:n,protocol:s}:{candidateType:e,relayProtocol:n,address:r,port:o,protocol:s}}var li,mj=ae(DO),fj=bi(\"Array\").values,gj=Er,Tj=Je,Sj=hn,Rj=fj,Fp=Array.prototype,Cj={DOMTokenList:!0,NodeList:!0},Ij=function(t){var e=t.values;return t===Fp||Sj(Fp,t)&&e===Fp.values||Tj(Cj,gj(t))?Rj:e},Pr=ae(Ij),HR=ri,vj=me,yj=Ke,Aj=Se,Bp=Lu,bj=Xc,wj=Au,Oj=_r,Nj=bu,_s=Object.assign,KR=Object.defineProperty,Dj=vj([].concat),Pj=!_s||Aj(function(){if(HR&&_s({b:1},_s(KR({},\"a\",{enumerable:!0,get:function(){KR(this,\"b\",{value:3,enumerable:!1});}}),{b:2})).b!==1)return !0;var t={},e={},n=Symbol(),i=\"abcdefghijklmnopqrst\";return t[n]=7,i.split(\"\").forEach(function(r){e[r]=r;}),_s({},t)[n]!=7||Bp(_s({},e)).join(\"\")!=i})?function(t,e){for(var n=Oj(t),i=arguments.length,r=1,o=bj.f,s=wj.f;i>r;)for(var a,c=Nj(arguments[r++]),d=o?Dj(Bp(c),o(c)):Bp(c),l=d.length,u=0;l>u;)a=d[u++],HR&&!yj(s,c,a)||(n[a]=c[a]);return n}:_s,kj=Cn,Lj=XA,Mj=mo,Uj=Ke,xj=_r,Vj=function(t,e,n,i){try{return i?e(kj(n)[0],n[1]):e(n)}catch(r){Lj(t,\"throw\",r);}},Fj=JA,Bj=xu,jj=Lr,YR=Bu,Gj=Um,Wj=Mu,qR=Array,is=me,jp=2147483647,Hj=/[^\\0-\\u007E]/,LO=/[.\\u3002\\uFF0E\\uFF61]/g,zR=\"Overflow: input needs wider integers to process\",JR=RangeError,Kj=is(LO.exec),xs=Math.floor,Gp=String.fromCharCode,XR=is(\"\".charCodeAt),MO=is([].join),qr=is([].push),Yj=is(\"\".replace),qj=is(\"\".split),zj=is(\"\".toLowerCase),QR=function(t){return t+22+75*(t<26)},Jj=function(t,e,n){var i=0;for(t=n?xs(t/700):t>>1,t+=xs(t/e);t>455;)t=xs(t/35),i+=36;return xs(i+36*t/(t+38))},Xj=function(t){var e=[];t=function(S){for(var C=[],A=0,b=S.length;A<b;){var w=XR(S,A++);if(w>=55296&&w<=56319&&A<b){var D=XR(S,A++);(64512&D)==56320?qr(C,((1023&w)<<10)+(1023&D)+65536):(qr(C,w),A--);}else qr(C,w);}return C}(t);var n,i,r=t.length,o=128,s=0,a=72;for(n=0;n<t.length;n++)(i=t[n])<128&&qr(e,Gp(i));var c=e.length,d=c;for(c&&qr(e,\"-\");d<r;){var l=jp;for(n=0;n<t.length;n++)(i=t[n])>=o&&i<l&&(l=i);var u=d+1;if(l-o>xs((jp-s)/u))throw JR(zR);for(s+=(l-o)*u,o=l,n=0;n<t.length;n++){if((i=t[n])<o&&++s>jp)throw JR(zR);if(i==o){for(var h=s,p=36;;){var g=p<=a?1:p>=a+26?26:p-a;if(h<g)break;var E=h-g,f=36-g;qr(e,Gp(QR(g+E%f))),h=xs(E/f),p+=36;}qr(e,Gp(QR(h))),a=Jj(s,u,d==c),s=0,d++;}}s++,o++;}return MO(e,\"\")},Qj=xt,ff=ri,Zj=rf,gf=We,ZR=mo,wi=me,Ld=go,ui=Uu,$j=Fm,WE=Je,Tf=Pj,Es=function(t){var e=xj(t),n=Bj(this),i=arguments.length,r=i>1?arguments[1]:void 0,o=r!==void 0;o&&(r=Mj(r,i>2?arguments[2]:void 0));var s,a,c,d,l,u,h=Wj(e),p=0;if(!h||this===qR&&Fj(h))for(s=jj(e),a=n?new this(s):qR(s);s>p;p++)u=o?r(e[p],p):e[p],YR(a,p,u);else for(l=(d=Gj(e,h)).next,a=n?new this:[];!(c=Uj(l,d)).done;p++)u=o?Vj(d,r,[c.value,p],!0):c.value,YR(a,p,u);return a.length=p,a},Di=zm,tG=qm.codeAt,eG=function(t){var e,n,i=[],r=qj(Yj(zj(t),LO,\".\"),\".\");for(e=0;e<r.length;e++)n=r[e],qr(i,Kj(Hj,n)?\"xn--\"+Xj(n):n);return MO(i,\".\")},vr=oi,nG=To,iG=Vu,UO=yF,xO=ns,rG=xO.set,zl=xO.getterFor(\"URL\"),oG=UO.URLSearchParams,sG=UO.getState,La=gf.URL,HE=gf.TypeError,Md=gf.parseInt,aG=Math.floor,$R=Math.pow,Ti=wi(\"\".charAt),Li=wi(/./.exec),Ya=wi([].join),cG=wi(1 .toString),dG=wi([].pop),ms=wi([].push),Wp=wi(\"\".replace),lG=wi([].shift),uG=wi(\"\".split),qa=wi(\"\".slice),Sl=wi(\"\".toLowerCase),hG=wi([].unshift),Hp=\"Invalid scheme\",vo=\"Invalid host\",tC=\"Invalid port\",VO=/[a-z]/i,pG=/[\\d+-.a-z]/i,Kp=/\\d/,_G=/^0x/i,EG=/^[0-7]+$/,mG=/^\\d+$/,eC=/^[\\da-f]+$/i,fG=/[\\0\\t\\n\\r #%/:<>?@[\\\\\\]^|]/,gG=/[\\0\\t\\n\\r #/:<>?@[\\\\\\]^|]/,TG=/^[\\u0000-\\u0020]+/,SG=/(^|[^\\u0000-\\u0020])[\\u0000-\\u0020]+$/,RG=/[\\t\\n\\r]/g,Ma=function(t){var e,n,i,r;if(typeof t==\"number\"){for(e=[],n=0;n<4;n++)hG(e,t%256),t=aG(t/256);return Ya(e,\".\")}if(typeof t==\"object\"){for(e=\"\",i=function(o){for(var s=null,a=1,c=null,d=0,l=0;l<8;l++)o[l]!==0?(d>a&&(s=c,a=d),c=null,d=0):(c===null&&(c=l),++d);return d>a&&(s=c,a=d),s}(t),n=0;n<8;n++)r&&t[n]===0||(r&&(r=!1),i===n?(e+=n?\":\":\"::\",r=!0):(e+=cG(t[n],16),n<7&&(e+=\":\")));return \"[\"+e+\"]\"}return t},Rl={},FO=Tf({},Rl,{\" \":1,'\"':1,\"<\":1,\">\":1,\"`\":1}),BO=Tf({},FO,{\"#\":1,\"?\":1,\"{\":1,\"}\":1}),Yp=Tf({},BO,{\"/\":1,\":\":1,\";\":1,\"=\":1,\"@\":1,\"[\":1,\"\\\\\":1,\"]\":1,\"^\":1,\"|\":1}),Br=function(t,e){var n=tG(t,0);return n>32&&n<127&&!WE(e,t)?t:encodeURIComponent(t)},Ud={ftp:21,file:null,http:80,https:443,ws:80,wss:443},za=function(t,e){var n;return t.length==2&&Li(VO,Ti(t,0))&&((n=Ti(t,1))==\":\"||!e&&n==\"|\")},nC=function(t){var e;return t.length>1&&za(qa(t,0,2))&&(t.length==2||(e=Ti(t,2))===\"/\"||e===\"\\\\\"||e===\"?\"||e===\"#\")},CG=function(t){return t===\".\"||Sl(t)===\"%2e\"},qp={},iC={},zp={},rC={},oC={},Jp={},sC={},aC={},xd={},Vd={},Xp={},Qp={},Zp={},$p={},cC={},t_={},fs={},qi={},dC={},yo={},Sr={},Sf=function(t,e,n){var i,r,o,s=vr(t);if(e){if(r=this.parse(s))throw HE(r);this.searchParams=null;}else {if(n!==void 0&&(i=new Sf(n,!0)),r=this.parse(s,null,i))throw HE(r);(o=sG(new oG)).bindURL(this),this.searchParams=o;}};Sf.prototype={type:\"URL\",parse:function(t,e,n){var i,r,o,s,a,c=this,d=e||qp,l=0,u=\"\",h=!1,p=!1,g=!1;for(t=vr(t),e||(c.scheme=\"\",c.username=\"\",c.password=\"\",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,t=Wp(t,TG,\"\"),t=Wp(t,SG,\"$1\")),t=Wp(t,RG,\"\"),i=Es(t);l<=i.length;){switch(r=i[l],d){case qp:if(!r||!Li(VO,r)){if(e)return Hp;d=zp;continue}u+=Sl(r),d=iC;break;case iC:if(r&&(Li(pG,r)||r==\"+\"||r==\"-\"||r==\".\"))u+=Sl(r);else {if(r!=\":\"){if(e)return Hp;u=\"\",d=zp,l=0;continue}if(e&&(c.isSpecial()!=WE(Ud,u)||u==\"file\"&&(c.includesCredentials()||c.port!==null)||c.scheme==\"file\"&&!c.host))return;if(c.scheme=u,e)return void(c.isSpecial()&&Ud[c.scheme]==c.port&&(c.port=null));u=\"\",c.scheme==\"file\"?d=$p:c.isSpecial()&&n&&n.scheme==c.scheme?d=rC:c.isSpecial()?d=aC:i[l+1]==\"/\"?(d=oC,l++):(c.cannotBeABaseURL=!0,ms(c.path,\"\"),d=dC);}break;case zp:if(!n||n.cannotBeABaseURL&&r!=\"#\")return Hp;if(n.cannotBeABaseURL&&r==\"#\"){c.scheme=n.scheme,c.path=Di(n.path),c.query=n.query,c.fragment=\"\",c.cannotBeABaseURL=!0,d=Sr;break}d=n.scheme==\"file\"?$p:Jp;continue;case rC:if(r!=\"/\"||i[l+1]!=\"/\"){d=Jp;continue}d=xd,l++;break;case oC:if(r==\"/\"){d=Vd;break}d=qi;continue;case Jp:if(c.scheme=n.scheme,r==li)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=Di(n.path),c.query=n.query;else if(r==\"/\"||r==\"\\\\\"&&c.isSpecial())d=sC;else if(r==\"?\")c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=Di(n.path),c.query=\"\",d=yo;else {if(r!=\"#\"){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=Di(n.path),c.path.length--,d=qi;continue}c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=Di(n.path),c.query=n.query,c.fragment=\"\",d=Sr;}break;case sC:if(!c.isSpecial()||r!=\"/\"&&r!=\"\\\\\"){if(r!=\"/\"){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,d=qi;continue}d=Vd;}else d=xd;break;case aC:if(d=xd,r!=\"/\"||Ti(u,l+1)!=\"/\")continue;l++;break;case xd:if(r!=\"/\"&&r!=\"\\\\\"){d=Vd;continue}break;case Vd:if(r==\"@\"){h&&(u=\"%40\"+u),h=!0,o=Es(u);for(var E=0;E<o.length;E++){var f=o[E];if(f!=\":\"||g){var S=Br(f,Yp);g?c.password+=S:c.username+=S;}else g=!0;}u=\"\";}else if(r==li||r==\"/\"||r==\"?\"||r==\"#\"||r==\"\\\\\"&&c.isSpecial()){if(h&&u==\"\")return \"Invalid authority\";l-=Es(u).length+1,u=\"\",d=Xp;}else u+=r;break;case Xp:case Qp:if(e&&c.scheme==\"file\"){d=t_;continue}if(r!=\":\"||p){if(r==li||r==\"/\"||r==\"?\"||r==\"#\"||r==\"\\\\\"&&c.isSpecial()){if(c.isSpecial()&&u==\"\")return vo;if(e&&u==\"\"&&(c.includesCredentials()||c.port!==null))return;if(s=c.parseHost(u))return s;if(u=\"\",d=fs,e)return;continue}r==\"[\"?p=!0:r==\"]\"&&(p=!1),u+=r;}else {if(u==\"\")return vo;if(s=c.parseHost(u))return s;if(u=\"\",d=Zp,e==Qp)return}break;case Zp:if(!Li(Kp,r)){if(r==li||r==\"/\"||r==\"?\"||r==\"#\"||r==\"\\\\\"&&c.isSpecial()||e){if(u!=\"\"){var C=Md(u,10);if(C>65535)return tC;c.port=c.isSpecial()&&C===Ud[c.scheme]?null:C,u=\"\";}if(e)return;d=fs;continue}return tC}u+=r;break;case $p:if(c.scheme=\"file\",r==\"/\"||r==\"\\\\\")d=cC;else {if(!n||n.scheme!=\"file\"){d=qi;continue}if(r==li)c.host=n.host,c.path=Di(n.path),c.query=n.query;else if(r==\"?\")c.host=n.host,c.path=Di(n.path),c.query=\"\",d=yo;else {if(r!=\"#\"){nC(Ya(Di(i,l),\"\"))||(c.host=n.host,c.path=Di(n.path),c.shortenPath()),d=qi;continue}c.host=n.host,c.path=Di(n.path),c.query=n.query,c.fragment=\"\",d=Sr;}}break;case cC:if(r==\"/\"||r==\"\\\\\"){d=t_;break}n&&n.scheme==\"file\"&&!nC(Ya(Di(i,l),\"\"))&&(za(n.path[0],!0)?ms(c.path,n.path[0]):c.host=n.host),d=qi;continue;case t_:if(r==li||r==\"/\"||r==\"\\\\\"||r==\"?\"||r==\"#\"){if(!e&&za(u))d=qi;else if(u==\"\"){if(c.host=\"\",e)return;d=fs;}else {if(s=c.parseHost(u))return s;if(c.host==\"localhost\"&&(c.host=\"\"),e)return;u=\"\",d=fs;}continue}u+=r;break;case fs:if(c.isSpecial()){if(d=qi,r!=\"/\"&&r!=\"\\\\\")continue}else if(e||r!=\"?\")if(e||r!=\"#\"){if(r!=li&&(d=qi,r!=\"/\"))continue}else c.fragment=\"\",d=Sr;else c.query=\"\",d=yo;break;case qi:if(r==li||r==\"/\"||r==\"\\\\\"&&c.isSpecial()||!e&&(r==\"?\"||r==\"#\")){if((a=Sl(a=u))===\"..\"||a===\"%2e.\"||a===\".%2e\"||a===\"%2e%2e\"?(c.shortenPath(),r==\"/\"||r==\"\\\\\"&&c.isSpecial()||ms(c.path,\"\")):CG(u)?r==\"/\"||r==\"\\\\\"&&c.isSpecial()||ms(c.path,\"\"):(c.scheme==\"file\"&&!c.path.length&&za(u)&&(c.host&&(c.host=\"\"),u=Ti(u,0)+\":\"),ms(c.path,u)),u=\"\",c.scheme==\"file\"&&(r==li||r==\"?\"||r==\"#\"))for(;c.path.length>1&&c.path[0]===\"\";)lG(c.path);r==\"?\"?(c.query=\"\",d=yo):r==\"#\"&&(c.fragment=\"\",d=Sr);}else u+=Br(r,BO);break;case dC:r==\"?\"?(c.query=\"\",d=yo):r==\"#\"?(c.fragment=\"\",d=Sr):r!=li&&(c.path[0]+=Br(r,Rl));break;case yo:e||r!=\"#\"?r!=li&&(r==\"'\"&&c.isSpecial()?c.query+=\"%27\":c.query+=r==\"#\"?\"%23\":Br(r,Rl)):(c.fragment=\"\",d=Sr);break;case Sr:r!=li&&(c.fragment+=Br(r,FO));}l++;}},parseHost:function(t){var e,n,i;if(Ti(t,0)==\"[\"){if(Ti(t,t.length-1)!=\"]\"||(e=function(r){var o,s,a,c,d,l,u,h=[0,0,0,0,0,0,0,0],p=0,g=null,E=0,f=function(){return Ti(r,E)};if(f()==\":\"){if(Ti(r,1)!=\":\")return;E+=2,g=++p;}for(;f();){if(p==8)return;if(f()!=\":\"){for(o=s=0;s<4&&Li(eC,f());)o=16*o+Md(f(),16),E++,s++;if(f()==\".\"){if(s==0||(E-=s,p>6))return;for(a=0;f();){if(c=null,a>0){if(!(f()==\".\"&&a<4))return;E++;}if(!Li(Kp,f()))return;for(;Li(Kp,f());){if(d=Md(f(),10),c===null)c=d;else {if(c==0)return;c=10*c+d;}if(c>255)return;E++;}h[p]=256*h[p]+c,++a!=2&&a!=4||p++;}if(a!=4)return;break}if(f()==\":\"){if(E++,!f())return}else if(f())return;h[p++]=o;}else {if(g!==null)return;E++,g=++p;}}if(g!==null)for(l=p-g,p=7;p!=0&&l>0;)u=h[p],h[p--]=h[g+l-1],h[g+--l]=u;else if(p!=8)return;return h}(qa(t,1,-1)),!e))return vo;this.host=e;}else if(this.isSpecial()){if(t=eG(t),Li(fG,t)||(e=function(r){var o,s,a,c,d,l,u,h=uG(r,\".\");if(h.length&&h[h.length-1]==\"\"&&h.length--,(o=h.length)>4)return r;for(s=[],a=0;a<o;a++){if((c=h[a])==\"\")return r;if(d=10,c.length>1&&Ti(c,0)==\"0\"&&(d=Li(_G,c)?16:8,c=qa(c,d==8?1:2)),c===\"\")l=0;else {if(!Li(d==10?mG:d==8?EG:eC,c))return r;l=Md(c,d);}ms(s,l);}for(a=0;a<o;a++)if(l=s[a],a==o-1){if(l>=$R(256,5-o))return null}else if(l>255)return null;for(u=dG(s),a=0;a<s.length;a++)u+=s[a]*$R(256,3-a);return u}(t),e===null))return vo;this.host=e;}else {if(Li(gG,t))return vo;for(e=\"\",n=Es(t),i=0;i<n.length;i++)e+=Br(n[i],Rl);this.host=e;}},cannotHaveUsernamePasswordPort:function(){return !this.host||this.cannotBeABaseURL||this.scheme==\"file\"},includesCredentials:function(){return this.username!=\"\"||this.password!=\"\"},isSpecial:function(){return WE(Ud,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;!e||this.scheme==\"file\"&&e==1&&za(t[0],!0)||t.length--;},serialize:function(){var t=this,e=t.scheme,n=t.username,i=t.password,r=t.host,o=t.port,s=t.path,a=t.query,c=t.fragment,d=e+\":\";return r!==null?(d+=\"//\",t.includesCredentials()&&(d+=n+(i?\":\"+i:\"\")+\"@\"),d+=Ma(r),o!==null&&(d+=\":\"+o)):e==\"file\"&&(d+=\"//\"),d+=t.cannotBeABaseURL?s[0]:s.length?\"/\"+Ya(s,\"/\"):\"\",a!==null&&(d+=\"?\"+a),c!==null&&(d+=\"#\"+c),d},setHref:function(t){var e=this.parse(t);if(e)throw HE(e);this.searchParams.update();},getOrigin:function(){var t=this.scheme,e=this.port;if(t==\"blob\")try{return new ea(t.path[0]).origin}catch{return \"null\"}return t!=\"file\"&&this.isSpecial()?t+\"://\"+Ma(this.host)+(e!==null?\":\"+e:\"\"):\"null\"},getProtocol:function(){return this.scheme+\":\"},setProtocol:function(t){this.parse(vr(t)+\":\",qp);},getUsername:function(){return this.username},setUsername:function(t){var e=Es(vr(t));if(!this.cannotHaveUsernamePasswordPort()){this.username=\"\";for(var n=0;n<e.length;n++)this.username+=Br(e[n],Yp);}},getPassword:function(){return this.password},setPassword:function(t){var e=Es(vr(t));if(!this.cannotHaveUsernamePasswordPort()){this.password=\"\";for(var n=0;n<e.length;n++)this.password+=Br(e[n],Yp);}},getHost:function(){var t=this.host,e=this.port;return t===null?\"\":e===null?Ma(t):Ma(t)+\":\"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,Xp);},getHostname:function(){var t=this.host;return t===null?\"\":Ma(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,Qp);},getPort:function(){var t=this.port;return t===null?\"\":vr(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||((t=vr(t))==\"\"?this.port=null:this.parse(t,Zp));},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?\"/\"+Ya(t,\"/\"):\"\"},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,fs));},getSearch:function(){var t=this.query;return t?\"?\"+t:\"\"},setSearch:function(t){(t=vr(t))==\"\"?this.query=null:(Ti(t,0)==\"?\"&&(t=qa(t,1)),this.query=\"\",this.parse(t,yo)),this.searchParams.update();},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?\"#\"+t:\"\"},setHash:function(t){(t=vr(t))!=\"\"?(Ti(t,0)==\"#\"&&(t=qa(t,1)),this.fragment=\"\",this.parse(t,Sr)):this.fragment=null;},update:function(){this.query=this.searchParams.serialize()||null;}};var ea=function(t){var e=$j(this,yn),n=iG(arguments.length,1)>1?arguments[1]:void 0,i=rG(e,new Sf(t,!1,n));ff||(e.href=i.serialize(),e.origin=i.getOrigin(),e.protocol=i.getProtocol(),e.username=i.getUsername(),e.password=i.getPassword(),e.host=i.getHost(),e.hostname=i.getHostname(),e.port=i.getPort(),e.pathname=i.getPathname(),e.search=i.getSearch(),e.searchParams=i.getSearchParams(),e.hash=i.getHash());},yn=ea.prototype,hi=function(t,e){return {get:function(){return zl(this)[t]()},set:e&&function(n){return zl(this)[e](n)},configurable:!0,enumerable:!0}};ff&&(ui(yn,\"href\",hi(\"serialize\",\"setHref\")),ui(yn,\"origin\",hi(\"getOrigin\")),ui(yn,\"protocol\",hi(\"getProtocol\",\"setProtocol\")),ui(yn,\"username\",hi(\"getUsername\",\"setUsername\")),ui(yn,\"password\",hi(\"getPassword\",\"setPassword\")),ui(yn,\"host\",hi(\"getHost\",\"setHost\")),ui(yn,\"hostname\",hi(\"getHostname\",\"setHostname\")),ui(yn,\"port\",hi(\"getPort\",\"setPort\")),ui(yn,\"pathname\",hi(\"getPathname\",\"setPathname\")),ui(yn,\"search\",hi(\"getSearch\",\"setSearch\")),ui(yn,\"searchParams\",hi(\"getSearchParams\")),ui(yn,\"hash\",hi(\"getHash\",\"setHash\"))),Ld(yn,\"toJSON\",function(){return zl(this).serialize()},{enumerable:!0}),Ld(yn,\"toString\",function(){return zl(this).serialize()},{enumerable:!0}),La&&(e_=La.createObjectURL,n_=La.revokeObjectURL,e_&&Ld(ea,\"createObjectURL\",ZR(e_,La)),n_&&Ld(ea,\"revokeObjectURL\",ZR(n_,La)));var e_,n_;nG(ea,\"URL\"),Qj({global:!0,constructor:!0,forced:!Zj,sham:!ff},{URL:ea});var IG=xt,vG=Se,yG=Vu,lC=oi,AG=rf,uC=Dn(\"URL\");IG({target:\"URL\",stat:!0,forced:!(AG&&vG(function(){uC.canParse();}))},{canParse:function(t){var e=yG(arguments.length,1),n=lC(t),i=e<2||arguments[1]===void 0?void 0:lC(arguments[1]);try{return !!new uC(n,i)}catch{return !1}}});var hC=ae(Gi.URL),Ne={getDisplayMedia:!1,getStreamFromExtension:!1,supportUnifiedPlan:!1,supportMinBitrate:!1,supportSetRtpSenderParameters:!1,supportDualStream:!0,webAudioMediaStreamDest:!1,supportReplaceTrack:!1,supportWebGL:!1,webAudioWithAEC:!1,supportRequestFrame:!1,supportShareAudio:!1,supportDualStreamEncoding:!1,supportDataChannel:!1,supportPCSetConfiguration:!1,supportWebRTCEncodedTransform:!1,supportWebRTCInsertableStream:!1,supportRequestVideoFrameCallback:!1,supportWebCrypto:!1};function ft(){return Ne}function jO(){return \"setSinkId\"in HTMLAudioElement.prototype&&(!v(\"RESTRICTION_SET_PLAYBACK_DEVICE\")||(oo()||_O())&&!lf())}function pC(){return !Ne.supportUnifiedPlan||v(\"CHROME_FORCE_PLAN_B\")&&ho()}var ke=function(t){return t.IOS_15_16_INTERRUPTION_START=\"ios15_16-interruption-start\",t.IOS_15_16_INTERRUPTION_END=\"ios15_16-interruption-end\",t.IOS_INTERRUPTION_START=\"ios-interruption-start\",t.IOS_INTERRUPTION_END=\"ios-interruption-end\",t.STATE_CHANGE=\"state-change\",t}({});function gs(t,e,n){return {sampleRate:t,stereo:e,bitrate:n}}function _t(t,e,n,i,r){return {width:t,height:e,frameRate:n,bitrateMin:i,bitrateMax:r}}function pi(t,e,n,i,r){return {width:{max:t},height:{max:e},frameRate:n,bitrateMin:i,bitrateMax:r}}function i_(t,e){return {numSpatialLayers:t,numTemporalLayers:e}}var bG={\"90p\":_t(160,90),\"90p_1\":_t(160,90),\"120p\":_t(160,120,15,30,65),\"120p_1\":_t(160,120,15,30,65),\"120p_3\":_t(120,120,15,30,50),\"120p_4\":_t(212,120),\"180p\":_t(320,180,15,30,140),\"180p_1\":_t(320,180,15,30,140),\"180p_3\":_t(180,180,15,30,100),\"180p_4\":_t(240,180,15,30,120),\"240p\":_t(320,240,15,40,200),\"240p_1\":_t(320,240,15,40,200),\"240p_3\":_t(240,240,15,40,140),\"240p_4\":_t(424,240,15,40,220),\"360p\":_t(640,360,15,80,400),\"360p_1\":_t(640,360,15,80,400),\"360p_3\":_t(360,360,15,80,260),\"360p_4\":_t(640,360,30,80,600),\"360p_6\":_t(360,360,30,80,400),\"360p_7\":_t(480,360,15,80,320),\"360p_8\":_t(480,360,30,80,490),\"360p_9\":_t(640,360,15,80,800),\"360p_10\":_t(640,360,24,80,800),\"360p_11\":_t(640,360,24,80,1e3),\"480p\":_t(640,480,15,100,500),\"480p_1\":_t(640,480,15,100,500),\"480p_2\":_t(640,480,30,100,1e3),\"480p_3\":_t(480,480,15,100,400),\"480p_4\":_t(640,480,30,100,750),\"480p_6\":_t(480,480,30,100,600),\"480p_8\":_t(848,480,15,100,610),\"480p_9\":_t(848,480,30,100,930),\"480p_10\":_t(640,480,10,100,400),\"720p\":_t(1280,720,15,120,1130),\"720p_auto\":_t(1280,720,30,900,3e3),\"720p_1\":_t(1280,720,15,120,1130),\"720p_2\":_t(1280,720,30,120,2e3),\"720p_3\":_t(1280,720,30,120,1710),\"720p_5\":_t(960,720,15,120,910),\"720p_6\":_t(960,720,30,120,1380),\"1080p\":_t(1920,1080,15,120,2080),\"1080p_1\":_t(1920,1080,15,120,2080),\"1080p_2\":_t(1920,1080,30,120,3e3),\"1080p_3\":_t(1920,1080,30,120,3150),\"1080p_5\":_t(1920,1080,60,120,4780),\"1440p\":_t(2560,1440,30,120,4850),\"1440p_1\":_t(2560,1440,30,120,4850),\"1440p_2\":_t(2560,1440,60,120,7350),\"4k\":_t(3840,2160,30,120,8910),\"4k_1\":_t(3840,2160,30,120,8910),\"4k_3\":_t(3840,2160,60,120,13500)},wG={\"480p\":pi(640,480,5),\"480p_1\":pi(640,480,5),\"480p_2\":pi(640,480,30),\"480p_3\":pi(640,480,15),\"720p\":pi(1280,720,5),\"720p_auto\":_t(1280,720,30,900,3e3),\"720p_1\":pi(1280,720,5),\"720p_2\":pi(1280,720,30),\"720p_3\":pi(1280,720,15),\"1080p\":pi(1920,1080,5),\"1080p_1\":pi(1920,1080,5),\"1080p_2\":pi(1920,1080,30),\"1080p_3\":pi(1920,1080,15)},OG={\"1SL1TL\":i_(1,1),\"3SL3TL\":i_(3,3),\"2SL3TL\":i_(2,3)};function cr(t){return t||(t=\"480p_1\"),typeof t==\"string\"?Object.assign({},bG[t]):t}function r_(t){return typeof t==\"string\"?Object.assign({},wG[t]):t}function Fd(t){return typeof t==\"string\"?Object.assign({},OG[t]):t}var NG={speech_low_quality:gs(16e3,!1),speech_standard:gs(32e3,!1,18),music_standard:gs(48e3,!1),standard_stereo:gs(48e3,!0,56),high_quality:gs(48e3,!1,128),high_quality_stereo:gs(48e3,!0,192)};function Jl(t){return typeof t==\"string\"?Object.assign({},NG[t]):t}var As=[];function _C(t){return Ce(t,\"mediaSource\",[\"screen\",\"window\",\"application\"]),!0}var H=function(t){return t.NEED_RENEGOTIATE=\"@need_renegotiate\",t.NEED_REPLACE_TRACK=\"@need_replace_track\",t.NEED_REPLACE_MIXING_TRACK=\"@need_replace_mixing_track\",t.NEED_CLOSE=\"@need_close\",t.NEED_ENABLE_TRACK=\"@need_enable_track\",t.NEED_DISABLE_TRACK=\"@need_disable_track\",t.NEED_SESSION_ID=\"@need_sid\",t.SET_OPTIMIZATION_MODE=\"@set_optimization_mode\",t.GET_STATS=\"@get_stats\",t.GET_RTC_STATS=\"@get_rtc_stats\",t.GET_LOW_VIDEO_TRACK=\"@get_low_video_track\",t.NEED_RESET_REMOTE_SDP=\"@need_reset_remote_sdp\",t.NEED_UPDATE_VIDEO_ENCODER=\"@need_update_video_encoder\",t.NEED_UPDATE_VIDEO_SEND_PARAMETERS=\"@need_update_video_send_parameters\",t.NEED_MUTE_TRACK=\"@need_mute_track\",t.NEED_UNMUTE_TRACK=\"@need_unmute_track\",t}({}),Gt=function(t){return t.SCREEN_TRACK=\"screen_track\",t.CUSTOM_TRACK=\"custome_track\",t.LOW_STREAM=\"low_stream\",t}({}),na=function(t){return t[t.HIGH_STREAM=0]=\"HIGH_STREAM\",t[t.LOW_STREAM=1]=\"LOW_STREAM\",t}({}),DG=function(t){return t[t.HIGH_STREAM=0]=\"HIGH_STREAM\",t[t.LOW_STREAM=1]=\"LOW_STREAM\",t}({}),PG=function(t){return t[t.DISABLE=0]=\"DISABLE\",t[t.LOW_STREAM=1]=\"LOW_STREAM\",t[t.AUDIO_ONLY=2]=\"AUDIO_ONLY\",t}({}),Ko=function(t){return t.TRANSCEIVER_UPDATED=\"transceiver-updated\",t.SEI_TO_SEND=\"sei-to-send\",t.SEI_RECEIVED=\"sei-received\",t.TRACK_UPDATED=\"track-updated\",t}({}),ma=function(t){return t.SOURCE_STATE_CHANGE=\"source-state-change\",t.TRACK_ENDED=\"track-ended\",t.BEAUTY_EFFECT_OVERLOAD=\"beauty-effect-overload\",t.VIDEO_ELEMENT_VISIBLE_STATUS=\"video-element-visible-status\",t.CLOSED=\"closed\",t}({}),Ws=function(t){return t.FIRST_FRAME_DECODED=\"first-frame-decoded\",t.VIDEO_ELEMENT_VISIBLE_STATUS=\"video-element-visible-status\",t.VIDEO_STATE_CHANGED=\"video-state-changed\",t}({}),fa=function(t){return t.AUDIO=\"audio\",t.VIDEO=\"video\",t.DATA=\"data\",t}({}),jn=function(t){return t.AUDIO_SOURCE_STATE_CHANGE=\"audio_source_state_change\",t.RECEIVE_TRACK_BUFFER=\"receive_track_buffer\",t.ON_AUDIO_BUFFER=\"on_audio_buffer\",t.UPDATE_SOURCE=\"update_source\",t}({});(function(t){t.UPDATE_TRACK_SOURCE=\"update-track-source\";})({});var KE={sendVolumeLevel:0,sendBitrate:0,sendBytes:0,sendPackets:0,sendPacketsLost:0,sendJitterMs:0,sendRttMs:0,currentPacketLossRate:0},YE={sendBytes:0,sendBitrate:0,sendPackets:0,sendPacketsLost:0,sendJitterMs:0,sendRttMs:0,sendResolutionHeight:0,sendResolutionWidth:0,captureResolutionHeight:0,captureResolutionWidth:0,targetSendBitrate:0,totalDuration:0,totalFreezeTime:0,currentPacketLossRate:0},GO={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveLevel:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,receivePacketsDiscarded:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1},kG={uplinkNetworkQuality:0,downlinkNetworkQuality:0},WO={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,receiveResolutionHeight:0,receiveResolutionWidth:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1},un=function(t){return t.ON_TRACK=\"on_track\",t.ON_NODE=\"on_node\",t}({}),Wn=function(t){return t.REQUEST_UPDATE_CONSTRAINTS=\"request_update_constraints\",t.REQUEST_CONSTRAINTS=\"request_constraints\",t}({}),Ua=function(t){return t.IDLE=\"IDLE\",t.INITING=\"INITING\",t.INITEND=\"INITEND\",t}({}),Bo=function(t){return t.STATE_CHANGE=\"state_change\",t.RECORDING_DEVICE_CHANGED=\"recordingDeviceChanged\",t.PLAYOUT_DEVICE_CHANGED=\"playoutDeviceChanged\",t.CAMERA_DEVICE_CHANGED=\"cameraDeviceChanged\",t}({}),nn=function(t){return t.NONE=\"none\",t.INIT=\"init\",t.CANPLAY=\"canplay\",t.PLAYING=\"playing\",t.PAUSED=\"paused\",t.SUSPEND=\"suspend\",t.STALLED=\"stalled\",t.WAITING=\"waiting\",t.ERROR=\"error\",t.DESTROYED=\"destroyed\",t.ABORT=\"abort\",t.ENDED=\"ended\",t.EMPTIED=\"emptied\",t.LOADEDDATA=\"loadeddata\",t}({}),zi=function(t){return t[t.VideoStateStopped=0]=\"VideoStateStopped\",t[t.VideoStateStarting=1]=\"VideoStateStarting\",t[t.VideoStateDecoding=2]=\"VideoStateDecoding\",t[t.VideoStateFrozen=3]=\"VideoStateFrozen\",t}({}),o_={uninit:100,none:110,init:120,loadeddata:130,canplay:200,playing:210,paused:220,suspend:300,stalled:310,waiting:320,error:330,destroyed:340,abort:350,ended:360,emptied:370},Cl=function(t){return t.OPEN=\"open\",t.MESSAGE=\"message\",t.CLOSE=\"close\",t.CLOSING=\"closing\",t.ERROR=\"error\",t}({});function Et(t,e,n,i,r){var o,s,a={};return Object.keys(i).forEach(function(c){a[c]=i[c];}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,(\"value\"in a||a.initializer)&&(a.writable=!0),a=ji(o=mj(s=n.slice()).call(s)).call(o,function(c,d){return d(t,e,c)||c},a),r&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(t,e,a),a=null),a}function P(t,e,n){return (e=function(i){var r=function(o,s){if(typeof o!=\"object\"||!o)return o;var a=o[Symbol.toPrimitive];if(a!==void 0){var c=a.call(o,\"string\");if(typeof c!=\"object\")return c;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(o)}(i);return typeof r==\"symbol\"?r:r+\"\"}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function Kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EC(Object(n),!0).forEach(function(i){P(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EC(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var Xl=class extends Xt{set _mediaStreamTrack(e){e!==this.mediaStreamTrack&&(this.safeEmit(Ko.TRACK_UPDATED,e),this.mediaStreamTrack=e);}get _mediaStreamTrack(){return this.mediaStreamTrack}constructor(e,n){super(),P(this,\"trackMediaType\",void 0),P(this,\"_ID\",void 0),P(this,\"_rtpTransceiver\",void 0),P(this,\"_lowRtpTransceiver\",void 0),P(this,\"_hints\",[]),P(this,\"_isClosed\",!1),P(this,\"_originMediaStreamTrack\",void 0),P(this,\"mediaStreamTrack\",void 0),P(this,\"_external\",{}),this._ID=n||Ut(8,\"track-\"),this._originMediaStreamTrack=e,this.mediaStreamTrack=e,function(i){W(As).call(As,i)||As.push(i);}(this);}toString(){return this._ID}getTrackId(){return this._ID}getMediaStreamTrack(e){return e||po(()=>{var n;X.reportApiInvoke(null,{name:Te.GET_MEDIA_STREAM_TRACK,options:[],tag:Zt.TRACER}).onSuccess(((n=this._mediaStreamTrack)===null||n===void 0?void 0:n.label)||\"\");},this.mediaStreamTrack.id||this.getTrackId()),this._mediaStreamTrack}getRTCRtpTransceiver(e){return e===na.LOW_STREAM?this._lowRtpTransceiver:this._rtpTransceiver}getMediaStreamTrackSettings(){return this.getMediaStreamTrack(!0).getSettings()}close(){this._isClosed=!0,this._lowRtpTransceiver=void 0,this._rtpTransceiver=void 0,function(e){let n=As.indexOf(e);n!==-1&&As.splice(n,1);}(this),this.emit(ma.CLOSED),this.removeAllListeners(Ko.SEI_RECEIVED);}_updateRtpTransceiver(e,n){if(n===na.LOW_STREAM){if(this._lowRtpTransceiver===e)return;this._lowRtpTransceiver=e;}else {if(this._rtpTransceiver===e)return;this._rtpTransceiver=e;}this.emit(Ko.TRANSCEIVER_UPDATED,e,n);}},no=class extends Xl{get isExternalTrack(){return this._isExternalTrack}get muted(){return this._muted}get enabled(){return this._enabled}get processorContext(){return this._processorContext}constructor(e,n){super(e,n),P(this,\"_enabled\",!0),P(this,\"_muted\",!1),P(this,\"_isExternalTrack\",!1),P(this,\"_isClosed\",!1),P(this,\"_enabledMutex\",void 0),P(this,\"processor\",void 0),P(this,\"_processorContext\",void 0),P(this,\"_handleTrackEnded\",()=>{this.onTrackEnded();}),this._enabledMutex=new ze(\"\".concat(this.getTrackId())),e.addEventListener(\"ended\",this._handleTrackEnded);}getTrackLabel(){var e,n;return (e=(n=this._originMediaStreamTrack)===null||n===void 0?void 0:n.label)!==null&&e!==void 0?e:\"\"}close(){this._isClosed||(this.stop(),this._originMediaStreamTrack.stop(),this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack.stop(),this._mediaStreamTrack=null),this._originMediaStreamTrack=null,this._enabledMutex=null,_.debug(\"[\".concat(this.getTrackId(),\"] close\")),this.emit(H.NEED_CLOSE),super.close());}async _updateOriginMediaStreamTrack(e,n){let i=arguments.length>2&&arguments[2]!==void 0&&arguments[2];this._isExternalTrack=i,e!==this._originMediaStreamTrack&&(this._originMediaStreamTrack&&(this._originMediaStreamTrack.removeEventListener(\"ended\",this._handleTrackEnded),n&&this._originMediaStreamTrack.stop()),e.addEventListener(\"ended\",this._handleTrackEnded),this._originMediaStreamTrack=e,this._muted&&(this._originMediaStreamTrack.enabled=!1),this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await kt(this,H.NEED_REPLACE_TRACK,this),this.processor&&this._processorContext&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this._processorContext}));}_getDefaultPlayerConfig(){return {}}onTrackEnded(){_.debug(\"[\".concat(this.getTrackId(),\"] track ended\")),this.safeEmit(ma.TRACK_ENDED);}stateCheck(e,n){if(_.debug(\"check track state, [muted: \".concat(this._muted,\", enabled: \").concat(this._enabled,\"] to [\").concat(e,\": \").concat(n,\"]\")),Nr(n,e),this._enabled&&this._muted&&e===\"enabled\"&&n===!1)throw new N(R.TRACK_STATE_UNREACHABLE,\"cannot set enabled while the track is muted\").print(\"error\",_);if(!this._enabled&&!this._muted&&e===\"muted\"&&n===!0)throw new N(R.TRACK_STATE_UNREACHABLE,\"cannot set muted while the track is disabled\").print(\"error\",_)}getProcessorStats(){return this._processorContext&&this._processorContext.gatherStats()||[]}getProcessorUsage(){return this._processorContext?this._processorContext.gatherUsage():j.resolve([])}},mC=window.AudioContext||window.webkitAudioContext,Mn=null,wt=new class extends Xt{constructor(){super(...arguments),P(this,\"prevState\",void 0),P(this,\"curState\",void 0),P(this,\"currentTime\",void 0),P(this,\"currentTimeStuckAt\",void 0),P(this,\"interruptDetectorTrack\",void 0),P(this,\"onLocalAudioTrackMute\",()=>{_.info(\"ios15-interruption-start\"),this.emit(ke.IOS_15_16_INTERRUPTION_START);}),P(this,\"onLocalAudioTrackUnmute\",async()=>{_.info(\"ios15-interruption-end\"),this.curState!==\"running\"||this.duringInterruption?_.info(\"ios15-interruption-end-canceled\"):(Mn&&await Mn.suspend(),this.emit(ke.IOS_15_16_INTERRUPTION_END));});}get duringInterruption(){return this.prevState===\"running\"&&this.curState===\"interrupted\"}bindInterruptDetectorTrack(t){_.debug(\"webaudio bindInterruptDetectorTrack \".concat(t.getTrackId())),this.interruptDetectorTrack||(this.interruptDetectorTrack=t,this.interruptDetectorTrack._mediaStreamTrack.onmute=this.onLocalAudioTrackMute,this.interruptDetectorTrack._mediaStreamTrack.onunmute=this.onLocalAudioTrackUnmute);}unbindInterruptDetectorTrack(t){_.debug(\"webaudio unbindInterruptDetectorTrack \".concat(t.getTrackId())),this.interruptDetectorTrack&&this.interruptDetectorTrack===t&&(this.interruptDetectorTrack._mediaStreamTrack&&(this.interruptDetectorTrack._mediaStreamTrack.onmute=null,this.interruptDetectorTrack._mediaStreamTrack.onunmute=null),this.interruptDetectorTrack=void 0);}};function ga(){if(!Mn){if(function(){if(!mC)return void _.error(\"your browser is not support web audio\");_.info(\"create audio context\");let t=Kt({},v(\"WEBAUDIO_INIT_OPTIONS\"));_.debug(\"audio context init option:\",JSON.stringify(t)),Mn=new mC(t),wt.curState=Mn.state,Mn.onstatechange=()=>{wt.prevState=wt.curState,wt.curState=Mn?Mn.state:void 0;let{prevState:e,curState:n}=wt,i=n===\"running\",r=n===\"interrupted\",o=e===\"running\",s=e===\"suspended\",a=e===\"interrupted\",c=mt().osVersion;(ln()||vi())&&o&&r&&(_.info(\"ios\".concat(c,\"-interruption-start\")),wt.emit(ke.IOS_INTERRUPTION_START)),(ln()||vi())&&(s||a)&&i&&(_.info(\"ios\".concat(c,\"-interruption-end\")),wt.emit(ke.IOS_INTERRUPTION_END)),e!==n&&wt.emit(ke.STATE_CHANGE,n,e);},setInterval(()=>{var e;let n=(e=Mn)===null||e===void 0?void 0:e.currentTime;wt.currentTime!==n?(wt.currentTimeStuckAt&&(_.debug(\"AudioContext current time resume at \".concat(n)),wt.currentTimeStuckAt=void 0),wt.currentTime=n):(n!==wt.currentTimeStuckAt&&(X.reportApiInvoke(null,{name:\"WEB_AUDIO_CURRENT_TIME_STUCK\",options:{currentTime:n},tag:Zt.TRACER}).onSuccess(),_.warning(\"AudioContext current time stuck at \".concat(n))),wt.currentTimeStuckAt=n);},5e3),async function(e){let n=[\"click\",\"contextmenu\",\"auxclick\",\"dblclick\",\"mousedown\",\"mouseup\",\"touchend\",\"keydown\",\"keyup\"],i,r=!1,o=!1,s=!1;function a(E){e.state===\"running\"?c(!1):ln()||vi()?e.state===\"suspended\"&&(c(!0),E&&e.resume().then(d,d)):e.state!==\"closed\"&&(c(!0),E&&e.resume().then(d,d));}function c(E){if(r!==E){r=E;for(let f=0,S=n;f<S.length;f+=1){let C=S[f];E?window.addEventListener(C,l,{capture:!0,passive:!0}):window.removeEventListener(C,l,{capture:!0,passive:!0});}}}function d(){a(!1);}function l(){a(!0);}function u(E){if(!s)if(i.paused)if(E){let f;h(!1),s=!0;try{f=i.play(),f?f.then(p,p):(i.addEventListener(\"playing\",p),i.addEventListener(\"abort\",p),i.addEventListener(\"error\",p));}catch{p();}}else h(!0);else h(!1);}function h(E){if(o!==E){o=E;for(let f=0,S=n;f<S.length;f++){let C=S[f];E?window.addEventListener(C,g,{capture:!0,passive:!0}):window.removeEventListener(C,g,{capture:!0,passive:!0});}}}function p(){i.removeEventListener(\"playing\",p),i.removeEventListener(\"abort\",p),i.removeEventListener(\"error\",p),s=!1,u(!1);}function g(){u(!0);}if(ln()){let E=e.createMediaStreamDestination(),f=document.createElement(\"div\");f.innerHTML=\"<audio x-webkit-airplay='deny'></audio>\",i=f.children.item(0),i.controls=!1,i.disableRemotePlayback=!0,i.preload=\"auto\",i.srcObject=E.stream,u(!0);}wt.on(ke.STATE_CHANGE,function(){a(!0);}),a(!1);}(Mn);}(),!Mn)throw new N(R.NOT_SUPPORTED,\"can not create audio context\");return Mn}return Mn}function No(t){if(function(){if(s_!==null)return s_;let i=ga(),r=i.createBufferSource(),o=i.createGain(),s=i.createGain();r.connect(o),r.connect(s),r.disconnect(o);let a=!1;try{r.disconnect(o);}catch{a=!0;}return r.disconnect(),s_=a,a}())return;let e=t.connect,n=t.disconnect;t.connect=(i,r,o)=>{var s;return t._inputNodes||(t._inputNodes=[]),W(s=t._inputNodes).call(s,i)||(i instanceof AudioNode?(t._inputNodes.push(i),e.call(t,i,r,o)):e.call(t,i,r)),t},t.disconnect=(i,r,o)=>{n.call(t),i?Wl(t._inputNodes,i):t._inputNodes=[];for(let s of t._inputNodes)e.call(t,s);};}var s_=null;function Rf(t,e){let n=!1,i=1/e;if(v(\"DISABLE_WEBAUDIO\")){let r=window.setInterval(()=>{n?window.clearInterval(r):t(performance.now()/1e3);},1e3*i);}else {let r=ga(),o=r.createGain();o.gain.value=0,o.connect(r.destination);let s=()=>{if(n)return void(o=null);let a=r.createOscillator();a.onended=s,a.connect(o),a.start(0),a.stop(r.currentTime+i),t(r.currentTime);};s();}return ()=>{n=!0;}}var Ql=class{constructor(){P(this,\"context\",void 0),P(this,\"analyserNode\",void 0),P(this,\"sourceNode\",void 0),this.context=ga(),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4;}updateSource(e){if(e!==this.sourceNode){if(this.sourceNode)try{this.sourceNode.disconnect(this.analyserNode);}catch{}this.sourceNode=e,e?.connect(this.analyserNode);}}getVolumeLevel(){if(!this.sourceNode||(!this.context||ln()||vi()||this.context.state!==\"running\"&&this.context.resume(),!this.analyserNode))return 0;let e=new Float32Array(this.analyserNode.fftSize);if(this.analyserNode.getFloatTimeDomainData)this.analyserNode.getFloatTimeDomainData(e);else {let i=new Uint8Array(this.analyserNode.fftSize);this.analyserNode.getByteTimeDomainData(i);for(let r=0;r<e.length;++r)e[r]=i[r]/128-1;}let n=ji(e).call(e,(i,r)=>i+r*r,0)/e.length;return Math.max(10*Math.log10(n)+100,0)/100}getAnalyserNode(){return this.analyserNode}rebuildAnalyser(){try{var e,n;(e=this.sourceNode)===null||e===void 0||e.disconnect(this.analyserNode),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4,(n=this.sourceNode)===null||n===void 0||n.connect(this.analyserNode);}catch{_.warning(\"rebuild analyser node failed.\");}}destroy(){this.updateSource(void 0);}},Zl=class extends Xt{get processSourceNode(){return this.sourceNode}set processedNode(e){var n;if(!this.isDestroyed&&this._processedNode!==e){try{var i;(i=this.sourceNode)===null||i===void 0||i.disconnect(this.outputNode);}catch{}(n=this._processedNode)===null||n===void 0||n.disconnect(),this._processedNode=e,this.connect();}}get processedNode(){return this._processedNode}constructor(){super(),P(this,\"outputNode\",void 0),P(this,\"outputTrack\",void 0),P(this,\"isPlayed\",!1),P(this,\"sourceNode\",void 0),P(this,\"context\",void 0),P(this,\"audioBufferNode\",void 0),P(this,\"destNode\",void 0),P(this,\"audioOutputLevel\",0),P(this,\"volumeLevelAnalyser\",void 0),P(this,\"_processedNode\",void 0),P(this,\"playNode\",void 0),P(this,\"isDestroyed\",!1),P(this,\"onNoAudioInput\",void 0),P(this,\"isNoAudioInput\",!1),P(this,\"_noAudioInputCount\",0),this.context=ga(),this.playNode=this.context.destination,this.outputNode=this.context.createGain(),No(this.outputNode),this.volumeLevelAnalyser=new Ql;}startGetAudioBuffer(e){this.audioBufferNode||(this.audioBufferNode=this.context.createScriptProcessor(e),this.outputNode.connect(this.audioBufferNode),this.audioBufferNode.connect(this.context.destination),this.audioBufferNode.onaudioprocess=n=>{this.emit(jn.ON_AUDIO_BUFFER,function(i){for(let r=0;r<i.outputBuffer.numberOfChannels;r+=1){let o=i.outputBuffer.getChannelData(r);for(let s=0;s<o.length;s+=1)o[s]=0;}return i.inputBuffer}(n));});}stopGetAudioBuffer(){this.audioBufferNode&&(this.audioBufferNode.onaudioprocess=null,this.outputNode.disconnect(this.audioBufferNode),this.audioBufferNode=void 0);}createOutputTrack(){if(!ft().webAudioMediaStreamDest)throw new N(R.NOT_SUPPORTED,\"your browser is not support audio processor\");return this.destNode&&this.outputTrack||(this.destNode=this.context.createMediaStreamDestination(),this.outputNode.connect(this.destNode),this.outputTrack=this.destNode.stream.getAudioTracks()[0]),this.outputTrack}play(e){this.context.state!==\"running\"&&qu(()=>{wt.emit(\"autoplay-failed\");}),this.isPlayed=!0,this.playNode=e||this.context.destination,this.outputNode.connect(this.playNode);}stop(){if(this.isPlayed)try{this.outputNode.disconnect(this.playNode);}catch{}this.isPlayed=!1;}getAccurateVolumeLevel(){return this.volumeLevelAnalyser.getVolumeLevel()}async checkHasAudioInput(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(e>5)return this.isNoAudioInput=!0,this.onNoAudioInput&&this.onNoAudioInput(),!1;ln()||vi()?this.context.state===\"suspended\"&&this.context.resume():this.context.state!==\"running\"&&this.context.resume();let n=this.volumeLevelAnalyser.getAnalyserNode(),i;n.getFloatTimeDomainData?(i=new Float32Array(n.fftSize),n.getFloatTimeDomainData(i)):(i=new Uint8Array(n.fftSize),n.getByteTimeDomainData(i));let r=!1;for(let o=0;o<i.length;o++)i[o]!==0&&(r=!0);return r?(this.isNoAudioInput=!1,!0):(await Me(200),await this.checkHasAudioInput(e?e+1:1)&&r)}getAudioVolume(){return this.outputNode.gain.value}setVolume(e){this.outputNode.gain.setValueAtTime(e,this.context.currentTime);}destroy(){this.disconnect(),this.stop(),this.isDestroyed=!0,this.onNoAudioInput=void 0;}disconnect(){var e,n;(e=this.processedNode)===null||e===void 0||e.disconnect(),(n=this.sourceNode)===null||n===void 0||n.disconnect(),this.outputNode&&this.outputNode.disconnect();}connect(){var e;this.processedNode?(e=this.processedNode)===null||e===void 0||e.connect(this.outputNode):this.sourceNode&&this.sourceNode.connect(this.outputNode),this.volumeLevelAnalyser.updateSource(this.outputNode);}},$l=class extends Zl{get isFreeze(){return !1}constructor(e,n,i){var r;if(super(),P(this,\"sourceNode\",void 0),P(this,\"track\",void 0),P(this,\"clonedTrack\",void 0),P(this,\"audioElement\",void 0),P(this,\"isCurrentTrackCloned\",!1),P(this,\"isRemoteTrack\",!1),P(this,\"originVolumeLevelAnalyser\",void 0),P(this,\"rebuildWebAudio\",async()=>{if(_.debug(\"ready to rebuild web audio, state:\",this.context.state),this.isNoAudioInput&&await this.checkHasAudioInput(),!this.isNoAudioInput||this.isDestroyed)return document.body.removeEventListener(\"click\",this.rebuildWebAudio,!0),void _.debug(\"rebuild web audio success, current volume status\",this.getAccurateVolumeLevel());this.context.resume().then(()=>_.info(\"resume success\")),_.debug(\"rebuild web audio because of ios 12 bugs\"),this.disconnect();let a=this.track;this.track=this.track.clone(),this.isCurrentTrackCloned?a.stop():this.isCurrentTrackCloned=!0;let c=new MediaStream([this.track]);this.sourceNode=this.context.createMediaStreamSource(c),No(this.sourceNode),this.volumeLevelAnalyser.rebuildAnalyser();let d=this.outputNode.gain.value;this.outputNode=this.context.createGain(),this.outputNode.gain.setValueAtTime(d,this.context.currentTime),No(this.outputNode),this.emit(jn.UPDATE_SOURCE),this.connect(),this.audioElement.srcObject=c,this.isPlayed&&this.play(this.playNode),this.checkHasAudioInput();}),e.kind!==\"audio\")throw new N(R.UNEXPECTED_ERROR);this.track=e;let o=new MediaStream([this.track]);if(this.isRemoteTrack=!!n,this.sourceNode=this.context.createMediaStreamSource(o),No(this.sourceNode),i){let a=i.clone();a.enabled=!0,this.clonedTrack=a,_.debug(\"create an unmuted track \".concat(a.id,\" from the original track \").concat(i.id,\" to get the volume\"));let c=this.context.createMediaStreamSource(new MediaStream([a]));No(c),this.originVolumeLevelAnalyser=new Ql,this.originVolumeLevelAnalyser.updateSource(c);}this.connect(),this.audioElement=document.createElement(\"audio\"),this.audioElement.srcObject=o;let s=mt();n&&s.os===ye.IOS&&Number((r=s.osVersion)===null||r===void 0?void 0:r.split(\".\")[0])<15&&(wt.on(ke.STATE_CHANGE,()=>{this.context.state===\"suspended\"?document.body.addEventListener(\"click\",this.rebuildWebAudio,!0):this.context.state===\"running\"&&this.rebuildWebAudio();}),this.checkHasAudioInput().then(a=>{a||document.body.addEventListener(\"click\",this.rebuildWebAudio,!0);}));}updateTrack(e){this.sourceNode.disconnect(),this.track=e,this.isCurrentTrackCloned=!1;let n=new MediaStream([e]);this.sourceNode=this.context.createMediaStreamSource(n),No(this.sourceNode),this.processedNode||this.sourceNode.connect(this.outputNode),this.emit(jn.UPDATE_SOURCE),this.audioElement.srcObject=n;}destroy(){var e;this.audioElement.srcObject=null,this.audioElement.remove(),wt.off(\"state-change\",this.rebuildWebAudio),(e=this.originVolumeLevelAnalyser)===null||e===void 0||e.destroy(),this.clonedTrack=void 0,super.destroy();}createMediaStreamSourceNode(e){return this.context.createMediaStreamSource(new MediaStream([e]))}updateOriginTrack(e){let n=e.clone();n.enabled=!0,this.clonedTrack&&(this.clonedTrack.stop(),this.clonedTrack=n),_.debug(\"create an unmuted track \".concat(n.id,\" from the original track \").concat(e.id,\" to get the volume\"));let i=this.context.createMediaStreamSource(new MediaStream([n]));No(i),this.originVolumeLevelAnalyser&&this.originVolumeLevelAnalyser.updateSource(i);}getOriginVolumeLevel(){return this.originVolumeLevelAnalyser?this.originVolumeLevelAnalyser.getVolumeLevel():this.getAccurateVolumeLevel()}};async function HO(t,e,n){let i=(o,s)=>o?typeof o!=\"number\"?o.max||o.exact||o.ideal||o.min||s:o:s,r={audio:!!n&&{mandatory:{chromeMediaSource:\"desktop\"}},video:{mandatory:{chromeMediaSource:\"desktop\",chromeMediaSourceId:t,maxHeight:i(e.height,1080),maxWidth:i(e.width,1920)}}};return e.frameRate&&typeof e.frameRate!=\"number\"?(r.video.mandatory.maxFrameRate=e.frameRate.max,r.video.mandatory.minFrameRate=e.frameRate.min):typeof e.frameRate==\"number\"&&(r.video.mandatory.maxFrameRate=e.frameRate),await navigator.mediaDevices.getUserMedia(r)}async function LG(t,e){let n=await KO(t.mediaSource),{sourceId:i,audio:r}=await function(o){let s=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new j((a,c)=>{let d=document.createElement(\"div\");d.innerText=\"share screen\",d.setAttribute(\"style\",\"text-align: center; height: 25px; line-height: 25px; border-radius: 4px 4px 0 0; background: #D4D2D4; border-bottom:  solid 1px #B9B8B9;\");let l=document.createElement(\"div\");l.setAttribute(\"style\",\"width: 100%; height: 500px; padding: 15px 25px ; box-sizing: border-box;\");let u=document.createElement(\"div\");u.innerText=\"Agora Web Screensharing wants to share the contents of your screen with webdemo.agorabeckon.com. Choose what you'd like to share.\",u.setAttribute(\"style\",\"height: 12%;\");let h=document.createElement(\"div\");h.setAttribute(\"style\",\"width: 100%; height: 80%; background: #FFF; border:  solid 1px #CBCBCB; display: flex; flex-wrap: wrap; justify-content: space-around; overflow-y: scroll; padding: 0 15px; box-sizing: border-box;\");let p=document.createElement(\"div\");p.setAttribute(\"style\",\"display: flex; justify-content: space-between; padding: 16px 0;\");let g=document.createElement(\"button\");g.innerHTML=\"cancel\",g.setAttribute(\"style\",\"width: 85px;\"),g.onclick=()=>{document.body.removeChild(S);let C=new Error(\"NotAllowedError\");C.name=\"NotAllowedError\",c(C);};let E=s,f=document.createElement(\"div\");if(s){let C=document.createElement(\"input\");C.setAttribute(\"type\",\"checkbox\");let A=document.createElement(\"span\");C.setAttribute(\"style\",\"margin-right: 6px;\"),A.innerText=\"Share audio\",C.checked=E,C.onchange=()=>{E=C.checked;},f.appendChild(C),f.appendChild(A);}p.appendChild(f),p.appendChild(g),l.appendChild(u),l.appendChild(h),l.appendChild(p);let S=document.createElement(\"div\");S.setAttribute(\"style\",\"position: fixed; z-index: 99999999; top: 50%; left: 50%; width: 620px; height: 525px; background: #ECECEC; border-radius: 4px; -webkit-transform: translate(-50%,-50%); transform: translate(-50%,-50%);\"),S.appendChild(d),S.appendChild(l),document.body.appendChild(S),o.map(C=>{if(C.id){let A=document.createElement(\"div\");A.setAttribute(\"style\",\"width: 30%; height: 160px; padding: 20px 0; text-align: center;box-sizing: content-box;\");let b=C.thumbnail;try{let{width:w}=b.getSize();w>1920&&(b=b.resize({width:1920}));}catch(w){throw w&&w.message.startsWith(\"Illegal invocation\")&&console.error(\"Operate thumbnail error, please try to set contextIsolation: false. (https://github.com/electron/electron/issues/34953)\"),w}A.innerHTML='<div style=\"height: 120px; display: table-cell; vertical-align: middle;\"><img style=\"width: 100%; background: #333333; box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.2);\" src='+b.toDataURL()+' /></div><span style=\"\theight: 40px; line-height: 40px; display: inline-block; width: 70%; word-break: keep-all; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">'+C.name.replace(/[\\u00A0-\\u9999<>\\&]/g,function(w){return \"&#\"+w.charCodeAt(0)+\";\"})+\"</span>\",A.onclick=()=>{document.body.removeChild(S),a({sourceId:C.id,audio:E});},h.appendChild(A);}});})}(n,e);return await HO(i,t,r)}async function KO(t){let e=[\"window\",\"screen\"];t!==\"application\"&&t!==\"window\"||(e=[\"window\"]),t===\"screen\"&&(e=[\"screen\"]);let n=IO();if(!n)throw console.error(\"failed to fetch electron, please mount it to window\"),new N(R.ELECTRON_IS_NULL);let i=null;try{var r;i=((r=n.desktopCapturer)===null||r===void 0?void 0:r.getSources({types:e}))||n.ipcRenderer.invoke(\"DESKTOP_CAPTURER_GET_SOURCES\",{types:e});}catch{i=null;}i&&i.then||(i=new j((o,s)=>{n.desktopCapturer.getSources({types:e},(a,c)=>{a?s(a):o(c);});}));try{return await i}catch(o){throw new N(R.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR,o.toString())}}var qE=new ze(\"safari\"),YO=!1,qO=!1;async function Fn(t,e){let n=0,i=null;for(;n<2;)try{i=await MG(t,e,n>0);break}catch(r){if(r instanceof N)throw _.error(\"[\".concat(e,\"] \").concat(r.toString())),r;let o=Il(r.name||r.code||r,r.message);if(o.code===R.MEDIA_OPTION_INVALID){_.debug(\"[\".concat(e,\"] detect media option invalid, retry\")),n+=1,await Me(500);continue}throw _.error(\"[\".concat(e,\"] \").concat(o.toString())),o}if(!i)throw new N(R.UNEXPECTED_ERROR,\"can not find stream after getUserMedia\");return i}async function MG(t,e,n){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new N(R.NOT_SUPPORTED,\"can not find getUserMedia\");n&&(t.video&&(delete t.video.width,delete t.video.height),t.screen&&(delete t.screen.width,delete t.screen.height));let i=ft(),r=new MediaStream;if(t.audioSource&&r.addTrack(t.audioSource),t.videoSource&&r.addTrack(t.videoSource),!t.audio&&!t.video&&!t.screen)return _.debug(\"Using Video Source/ Audio Source\"),r;if(t.screen)if(IO())t.screen.sourceId?Ts(r,await HO(t.screen.sourceId,t.screen,t.screenAudio)):Ts(r,await LG(t.screen,t.screenAudio));else if(oo()&&t.screen.extensionId&&t.screen.mandatory){if(!i.getStreamFromExtension)throw new N(R.NOT_SUPPORTED,\"This browser does not support screen sharing\");_.debug(\"[\".concat(e,'] Screen access on chrome stable, looking for extension\"'));let h=await(s=t.screen.extensionId,a=e,new j((p,g)=>{try{chrome.runtime.sendMessage(s,{getStream:!0},E=>{if(!E||!E.streamId)return _.error(\"[\".concat(a,\"] No response from Chrome Plugin. Plugin not installed properly\"),E),void g(new N(R.CHROME_PLUGIN_NO_RESPONSE,\"No response from Chrome Plugin. Plugin not installed properly\"));p(E.streamId);});}catch(E){_.error(\"[\".concat(a,\"] AgoraRTC screensharing plugin is not accessible(\").concat(s,\")\"),E.toString()),g(new N(R.CHROME_PLUGIN_NOT_INSTALL));}}));t.screen.mandatory.chromeMediaSourceId=h,Ts(r,await navigator.mediaDevices.getUserMedia({video:{mandatory:t.screen.mandatory}}));}else if(i.getDisplayMedia){var o;t.screen.mediaSource&&_C(t.screen.mediaSource);let h={width:t.screen.width,height:t.screen.height,frameRate:t.screen.frameRate,displaySurface:(o=t.screen.displaySurface)!==null&&o!==void 0?o:t.screen.mediaSource===\"screen\"?\"monitor\":t.screen.mediaSource},{selfBrowserSurface:p,surfaceSwitching:g,systemAudio:E}=t.screen,f={selfBrowserSurface:p,surfaceSwitching:g,systemAudio:E};!p&&delete f.selfBrowserSurface,!g&&delete f.surfaceSwitching,!E&&delete f.systemAudio,_.debug(\"[\".concat(e,\"] getDisplayMedia:\"),JSON.stringify({video:h,audio:!!t.screenAudio,controls:f})),Ts(r,await navigator.mediaDevices.getDisplayMedia(Kt({video:h,audio:!!t.screenAudio},f)));}else {if(!$t())throw _.error(\"[\".concat(e,\"] This browser does not support screenSharing\")),new N(R.NOT_SUPPORTED,\"This browser does not support screen sharing\");{t.screen.mediaSource&&_C(t.screen.mediaSource);let h={video:{mediaSource:t.screen.mediaSource,width:t.screen.width,height:t.screen.height,frameRate:t.screen.frameRate}};_.debug(\"[\".concat(e,\"] getUserMedia: \").concat(JSON.stringify(h))),Ts(r,await navigator.mediaDevices.getUserMedia(h));}}var s,a;if(!t.video&&!t.audio)return r;let c={video:t.video,audio:t.audio},d=v(\"MEDIA_DEVICE_CONSTRAINTS\");if(d)try{typeof d==\"string\"&&(d=JSON.parse(d)),c=kE(c,d);}catch{}_.debug(\"[\".concat(e,\"] GetUserMedia\"),JSON.stringify(c)),mt();let l,u=null;(je()||ln()||Gl())&&(u=await qE.lock());try{l=await navigator.mediaDevices.getUserMedia(c);}catch(h){throw u&&u(),h}return c.audio&&(YO=!0),c.video&&(qO=!0),Ts(r,l),u&&u(),r}function Il(t,e){switch(t){case\"Starting video failed\":case\"OverconstrainedError\":case\"TrackStartError\":return new N(R.MEDIA_OPTION_INVALID,\"\".concat(t,\": \").concat(e));case\"NotFoundError\":case\"DevicesNotFoundError\":return new N(R.DEVICE_NOT_FOUND,\"\".concat(t,\": \").concat(e));case\"NotSupportedError\":return new N(R.NOT_SUPPORTED,\"\".concat(t,\": \").concat(e));case\"NotReadableError\":return new N(R.NOT_READABLE,\"\".concat(t,\": \").concat(e));case\"InvalidStateError\":case\"NotAllowedError\":case\"PERMISSION_DENIED\":case\"PermissionDeniedError\":return new N(R.PERMISSION_DENIED,\"\".concat(t,\": \").concat(e));case\"ConstraintNotSatisfiedError\":return new N(R.CONSTRAINT_NOT_SATISFIED,\"\".concat(t,\": \").concat(e));default:return _.error(\"getUserMedia unexpected error\",t),new N(R.UNEXPECTED_ERROR,\"\".concat(t,\": \").concat(e))}}function Ts(t,e){let n=t.getVideoTracks()[0],i=t.getAudioTracks()[0],r=e.getVideoTracks()[0],o=e.getAudioTracks()[0];o&&(i&&t.removeTrack(i),t.addTrack(o)),r&&(n&&t.removeTrack(n),t.addTrack(r));}var Gn=new class extends Xt{get state(){return this._state}set state(t){t!==this._state&&(this.emit(Bo.STATE_CHANGE,t),this._state=t);}constructor(){super(),P(this,\"_state\",Ua.IDLE),P(this,\"isAccessMicrophonePermission\",!1),P(this,\"isAccessCameraPermission\",!1),P(this,\"lastAccessMicrophonePermission\",!1),P(this,\"lastAccessCameraPermission\",!1),P(this,\"checkdeviceMatched\",!1),P(this,\"deviceInfoMap\",new Map),this.init().then(()=>{navigator.mediaDevices.addEventListener&&navigator.mediaDevices.addEventListener(\"devicechange\",this.updateDevicesInfo.bind(this)),window.setInterval(()=>{(v(\"ENUMERATE_DEVICES_INTERVAL\")||(Ku()||Hu()===ye.HARMONY_OS)&&ho())&&this.updateDevicesInfo();},v(\"ENUMERATE_DEVICES_INTERVAL_TIME\"));}).catch(t=>_.error(t.toString()));}async enumerateDevices(t,e){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices)return new N(R.NOT_SUPPORTED,\"enumerateDevices() not supported.\").throw();let i=await navigator.mediaDevices.enumerateDevices(),r=this.checkMediaDeviceInfoIsOk(i),o=!this.isAccessMicrophonePermission&&t,s=!this.isAccessCameraPermission&&e;r.audio&&(o=!1),r.video&&(s=!1);let a=null,c=null,d=null;if(!n&&(o||s)){if(qE.isLocked&&(_.debug(\"[device manager] wait GUM lock\"),(await qE.lock())(),_.debug(\"[device manager] GUM unlock\")),YO&&(o=!1,this.isAccessMicrophonePermission=!0),qO&&(s=!1,this.isAccessCameraPermission=!0),_.debug(\"[device manager] check media device permissions\",t,e,o,s),o&&s){try{d=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0});}catch(l){let u=Il(l.name||l.code||l,l.message);if(u.code===R.PERMISSION_DENIED)throw u;_.warning(\"getUserMedia failed in getDevices\",u);}this.isAccessCameraPermission=!0,this.isAccessMicrophonePermission=!0;}else if(o){try{a=await navigator.mediaDevices.getUserMedia({audio:t});}catch(l){let u=Il(l.name||l.code||l,l.message);if(u.code===R.PERMISSION_DENIED)throw u;_.warning(\"getUserMedia failed in getDevices\",u);}this.isAccessMicrophonePermission=!0;}else if(s){try{c=await navigator.mediaDevices.getUserMedia({video:e});}catch(l){let u=Il(l.name||l.code||l,l.message);if(u.code===R.PERMISSION_DENIED)throw u;_.warning(\"getUserMedia failed in getDevices\",u);}this.isAccessCameraPermission=!0;}_.debug(\"[device manager] mic permission\",t,\"cam permission\",e);}try{let l=await navigator.mediaDevices.enumerateDevices();return a&&a.getTracks().forEach(u=>u.stop()),c&&c.getTracks().forEach(u=>u.stop()),d&&d.getTracks().forEach(u=>u.stop()),a=null,c=null,d=null,l}catch(l){return a&&a.getTracks().forEach(u=>u.stop()),c&&c.getTracks().forEach(u=>u.stop()),d&&d.getTracks().forEach(u=>u.stop()),a=null,c=null,d=null,new N(R.ENUMERATE_DEVICES_FAILED,l.toString()).throw()}}async getRecordingDevices(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return (await this.enumerateDevices(!0,!1,t)).filter(e=>e.kind===\"audioinput\")}async getCamerasDevices(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return (await this.enumerateDevices(!1,!0,t)).filter(e=>e.kind===\"videoinput\")}async getSpeakers(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return (await this.enumerateDevices(!0,!1,t)).filter(e=>e.kind===\"audiooutput\")}searchDeviceIdByName(t){let e=null;return this.deviceInfoMap.forEach(n=>{n.device.label===t&&(e=n.device.deviceId);}),e}async getDeviceById(t){let e=(await this.enumerateDevices(!0,!0,!0)).find(n=>n.deviceId===t);if(!e)throw new N(R.DEVICE_NOT_FOUND,\"deviceId: \".concat(t));return e}async init(){this.state=Ua.INITING;try{await this.updateDevicesInfo(),this.state=Ua.INITEND;}catch(t){throw _.warning(\"Device Detection functionality cannot start properly.\",t.toString()),this.state=Ua.IDLE,(typeof isSecureContext==\"boolean\"?isSecureContext:location.protocol===\"https:\"||location.protocol===\"file:\"||location.hostname===\"localhost\"||location.hostname===\"127.0.0.1\"||location.hostname===\"::1\")||new N(R.WEB_SECURITY_RESTRICT,\"Your context is limited by web security, please try using https protocol or localhost.\").throw(),t}}async updateDevicesInfo(){let t=await this.enumerateDevices(!0,!0,!0),e=Date.now(),n=[];if(t[0]&&t[0].label&&this.checkdeviceMatched===!1){this.checkdeviceMatched=!0;let r=t.find(s=>s.kind===\"audioinput\"&&s.deviceId===\"default\"),o=t.find(s=>s.kind===\"audiooutput\"&&s.deviceId===\"default\");r&&o?o.groupId===r.groupId?_.debug(\"[device-check] default input \".concat(r.label,\" and output \").concat(o.label,\" is the same group\")):_.warning(\"[device-check] default input \".concat(r.label,\" and output \").concat(o.label,\" is not the same group\")):_.debug(\"[device-check] default input or output not found\");}let i=this.checkMediaDeviceInfoIsOk(t);if(t.forEach(r=>{if(!r.deviceId)return;let o=this.deviceInfoMap.get(\"\".concat(r.kind,\"_\").concat(r.deviceId));if((o?o.state:\"INACTIVE\")!==\"ACTIVE\"){let s={initAt:e,updateAt:e,device:r,state:\"ACTIVE\"};this.deviceInfoMap.set(\"\".concat(r.kind,\"_\").concat(r.deviceId),s),n.push(s);}o&&(o.updateAt=e);}),this.deviceInfoMap.forEach((r,o)=>{r.state===\"ACTIVE\"&&r.updateAt!==e&&(r.state=\"INACTIVE\",n.push(r));}),this.state!==Ua.INITEND)return i.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),void(i.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0));n.forEach(r=>{switch(r.device.kind){case\"audioinput\":this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(Bo.RECORDING_DEVICE_CHANGED,r);break;case\"videoinput\":this.lastAccessCameraPermission&&this.isAccessCameraPermission&&this.emit(Bo.CAMERA_DEVICE_CHANGED,r);break;case\"audiooutput\":this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(Bo.PLAYOUT_DEVICE_CHANGED,r);}}),i.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),i.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0);}checkMediaDeviceInfoIsOk(t){let e=t.filter(r=>r.kind===\"audioinput\"),n=t.filter(r=>r.kind===\"videoinput\"),i={audio:!1,video:!1};for(let r of e)if(r.label&&r.deviceId){i.audio=!0;break}for(let r of n)if(r.label&&r.deviceId){i.video=!0;break}return i}},a_=!1,Un=new class extends Xt{constructor(){super(...arguments),P(this,\"onAutoplayFailed\",void 0),P(this,\"onAudioAutoplayFailed\",void 0);}};function zO(){if(mt(),!a_){let t=e=>{e.preventDefault(),a_=!1,yc()?document.body.removeEventListener(\"click\",t,!0):(document.body.removeEventListener(\"touchstart\",t,!0),document.body.removeEventListener(\"mousedown\",t,!0));};a_=!0,yc()?document.body.addEventListener(\"click\",t,!0):(document.body.addEventListener(\"touchstart\",t,!0),document.body.addEventListener(\"mousedown\",t,!0)),_.info(\"detect media autoplay failed, document: https://docs.agora.io/cn/Voice/autoplay_policy_web_ng?platform=Web\"),Un.onAutoplayFailed?Un.onAutoplayFailed():Un.onAudioAutoplayFailed?_.warning(`AgoraRTC.onAudioAutoplayFailed has been deprecated in favor of AgoraRTC.onAutoplayFailed.\n\n  Please refer to the Agora document to migrate the newer API, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web .`):_.warning(`We have detected a media autoplay failed event, and found out that you haven't implemented AgoraRTC.onAutoplayFailed callback yet.\n\n  It will cause audio/video element not playing automatically on some browsers without user interaction, possibly hurting user experiences.\n\n  Please refer to the Agora document to properly handle autoplay failed event, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web .`),Un.emit(\"autoplay-failed\");}}function JO(t,e,n,i){if(!t)return;let r=X.getBaseInfoBySessionId(t);if(!r)return;let o=r.info,s=Date.now(),a=Kt(Kt({},o),{},{vid:o.vid===void 0?0:Number(o.vid),lts:s,elapse:s-r.startTime,cbRegistered:Un.onAutoplayFailed||Un.onAudioAutoplayFailed?1:-1,errorMsg:n,mediaType:e,trackId:i,extend:void 0});X.send({type:Jt.AUTOPLAY_FAILED,data:a},!0);}var UG=[\"play\",\"playing\",\"loadeddata\",\"canplay\",\"pause\",\"stalled\",\"suspend\",\"waiting\",\"abort\",\"emptied\",\"ended\",\"error\"],En=new class{constructor(){P(this,\"onAutoplayFailed\",void 0),P(this,\"elementMap\",new Map),P(this,\"elementStateMap\",new Map),P(this,\"elementsNeedToResume\",[]),P(this,\"sinkIdMap\",new Map),P(this,\"autoResumeAfterInterruption\",t=>{Array.from(this.elementMap.entries()).forEach(e=>{let[n,i]=e,r=this.elementStateMap.get(n),o=i.srcObject.getAudioTracks()[0],s=o&&o.readyState;if(_.debug(\"resume after interrupted, ele: \".concat(r,\" audio: \").concat(s,\" \").concat(t)),s===\"live\"){if(t)return i.pause(),void i.play();if(wt.curState===\"running\")return Zs()?(i.pause(),void i.play()):void(r&&r===\"paused\"&&i.play())}});}),P(this,\"autoResumeAfterInterruptionOnIOS15_16\",()=>{Array.from(this.elementMap.entries()).forEach(t=>{let[e,n]=t,i=n.srcObject.getAudioTracks()[0];i&&i.readyState===\"live\"&&(_.debug(\"auto resume after interruption inside autoResumeAfterInterruptionOnIOS15\"),n.pause(),n.play());});}),this.autoResumeAudioElement(),wt.on(ke.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),wt.on(ke.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16),wt.on(ke.STATE_CHANGE,()=>{ln()&&wt.prevState===\"suspended\"&&wt.curState===\"running\"&&this.autoResumeAfterInterruption();});}async setSinkID(t,e){let n=this.elementMap.get(t);if(this.sinkIdMap.set(t,e),n)try{await n.setSinkId(e);}catch(i){throw new N(R.PERMISSION_DENIED,\"can not set sink id: \"+i.toString())}}play(t,e,n,i){if(this.elementMap.has(e))return;let r=document.createElement(\"audio\");r.autoplay=!0,r.srcObject=new MediaStream([t]),this.bindAudioElementEvents(e,r),this.elementMap.set(e,r),this.elementStateMap.set(e,nn.INIT),this.setVolume(e,n);let o=this.sinkIdMap.get(e);if(o)try{r.setSinkId(o).catch(a=>{_.warning(\"[\".concat(e,\"] set sink id failed\"),a.toString());});}catch(a){_.warning(\"[\".concat(e,\"] set sink id failed\"),a.toString());}let s=r.play();s&&s.then&&s.catch(a=>{i&&JO(i,\"audio\",a.message,e),_.warning(\"audio element play warning\",a.toString()),this.elementMap.has(e)&&a.name===\"NotAllowedError\"&&(_.warning(\"detected audio element autoplay failed\"),this.elementsNeedToResume.push(r),qu(()=>{this.onAutoplayFailed&&this.onAutoplayFailed(),zO();}));});}updateTrack(t,e){let n=this.elementMap.get(t);n&&(n.srcObject=new MediaStream([e]));}isPlaying(t){return this.elementMap.has(t)&&this.elementStateMap.get(t)===\"playing\"}setVolume(t,e){let n=this.elementMap.get(t);n&&(e=Math.max(0,Math.min(100,e)),n.volume=e/100);}stop(t){let e=this.elementMap.get(t);if(this.sinkIdMap.delete(t),!e)return;let n=this.elementsNeedToResume.indexOf(e);this.elementsNeedToResume.splice(n,1),e.srcObject=null,e.remove(),this.elementMap.delete(t),this.elementStateMap.delete(t);}bindAudioElementEvents(t,e){UG.forEach(n=>{e.addEventListener(n,i=>{let r=this.elementStateMap.get(t),o=i.type===\"pause\"?\"paused\":i.type;if(_.debug(\"[\".concat(t,\"] audio-element-status change \").concat(r,\" => \").concat(o)),i.type===\"error\"){let s=e?.error;s&&_.error(\"[\".concat(t,\"] media error, code: \").concat(s.code,\", message: \").concat(s.message));}this.elementStateMap.set(t,o);});});}getPlayerState(t){return this.elementStateMap.get(t)||\"uninit\"}autoResumeAudioElement(){let t=()=>{this.elementsNeedToResume.forEach(e=>{e.play().then(n=>{_.debug(\"Auto resume audio element success\");}).catch(n=>{_.warning(\"Auto resume audio element failed!\",n);});}),this.elementsNeedToResume=[];};new j(e=>{document.body?e():window.addEventListener(\"load\",()=>e());}).then(()=>{yc()?document.body.addEventListener(\"click\",t,!0):(document.body.addEventListener(\"touchstart\",t,!0),document.body.addEventListener(\"mousedown\",t,!0));});}};function se(){return function(t,e,n){let i=n.value;return typeof i==\"function\"&&(n.value=function(){this._isClosed&&new N(R.INVALID_OPERATION,\"[\".concat(this.getTrackId(),\"] cannot operate a closed track\")).print(\"warning\",_);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];let a=i.apply(this,o);return a instanceof j?new j((c,d)=>{a.then(c).catch(d);}):a}),n}}var tu=class extends Xt{constructor(e){super(),P(this,\"name\",\"VideoProcessorDestination\"),P(this,\"ID\",\"0\"),P(this,\"_source\",void 0),P(this,\"videoContext\",void 0),P(this,\"inputTrack\",void 0),this.videoContext=e;}get kind(){return \"video\"}get enabled(){return !0}pipe(){throw new N(R.NOT_SUPPORTED,\"VideoProcessor cannot pipe to any other Processor\")}unpipe(){throw new N(R.NOT_SUPPORTED,\"VideoProcessor cannot unpipe to any other Processor\")}enable(){}disable(){}updateInput(e){if(e.context!==this.videoContext)throw new Error(`ProcessorContext passed to VideoTrack.processorDestination doesn't match it's belonging VideoTrack's context.\nProbably you are making pipeline like this:\nvideoTrack1.pipe(processor).pipe(videoTrack2.processorDestination).`);e.track&&e.track!==this.inputTrack&&(this.videoContext.chained=!0,this.inputTrack=e.track,this.emit(un.ON_TRACK,e.track));}reset(){this.inputTrack=void 0,this.videoContext.chained=!1,this.emit(un.ON_TRACK,void 0);}},eu=class extends Xt{set chained(e){this._chained=e;}get chained(){return this._chained}constructor(e,n){super(),P(this,\"constraintsMap\",new Map),P(this,\"statsRegistry\",[]),P(this,\"usageRegistry\",[]),P(this,\"trackId\",void 0),P(this,\"direction\",void 0),P(this,\"_chained\",!1),this.trackId=e,this.direction=n;}async getConstraints(){return await Ge(this,Wn.REQUEST_CONSTRAINTS)}async requestApplyConstraints(e,n){var i;return _.info(\"processor \".concat(n.name,\" requestApplyConstraints for \").concat(this.trackId)),e&&this.constraintsMap.set(n,e),kt(this,Wn.REQUEST_UPDATE_CONSTRAINTS,Array.from(Pr(i=this.constraintsMap).call(i)))}async requestRevertConstraints(e){var n;if(this.constraintsMap.has(e))return _.info(\"processor \".concat(e.name,\" requestRevertConstraints for \").concat(this.trackId)),this.constraintsMap.delete(e),kt(this,Wn.REQUEST_UPDATE_CONSTRAINTS,Array.from(Pr(n=this.constraintsMap).call(n)))}registerStats(e,n,i){this.statsRegistry.find(r=>r.processorID===e.ID&&r.processorName===e.name&&r.type===n)||this.statsRegistry.push({processorName:e.name,processorID:e.ID,type:n,cb:i});}unregisterStats(e,n){let i=this.statsRegistry.findIndex(r=>r.processorID===e.ID&&r.processorName===e.name&&r.type===n);i!==-1&&this.statsRegistry.splice(i,1);}gatherStats(){let e=[];for(let{processorID:n,processorName:i,type:r,cb:o}of this.statsRegistry)try{let s=o();e.push({processorID:n,processorName:i,type:r,stats:s});}catch(s){_.error(new N(R.UNEXPECTED_ERROR,s.message));}return e}registerUsage(e,n){this.usageRegistry.find(i=>i.processorID===e.ID&&i.processorName===e.name)||this.usageRegistry.push({processorID:e.ID,processorName:e.name,cb:n});}unregisterUsage(e){let n=this.usageRegistry.findIndex(i=>i.processorID===e.ID&&i.processorName===e.name);n!==-1&&this.usageRegistry.splice(n,1);}async gatherUsage(){let e=[];if(!this.chained)return [];for(let{cb:n}of this.usageRegistry)try{let i=n();i instanceof j&&(i=await i),e.push(Kt(Kt({},i),{},{direction:this.direction}));}catch(i){_.error(\"gather extension usage error\",i);}return e}getDirection(){return this.direction}},nu=class extends Xt{constructor(e){super(),P(this,\"name\",\"AudioProcessorDestination\"),P(this,\"ID\",\"0\"),P(this,\"inputTrack\",void 0),P(this,\"inputNode\",void 0),P(this,\"audioProcessorContext\",void 0),P(this,\"_source\",void 0),this.audioProcessorContext=e;}get kind(){return \"audio\"}get enabled(){return !0}pipe(){throw new N(R.NOT_SUPPORTED,\"AudioProcessorDestination cannot pipe to any other Processor\")}unpipe(){throw new N(R.NOT_SUPPORTED,\"AudioProcessor cannot unpipe to any other Processor\")}enable(){}disable(){}reset(){this.inputTrack=void 0,this.inputNode=void 0,this.audioProcessorContext.chained=!1,this.emit(un.ON_TRACK,void 0),this.emit(un.ON_NODE,void 0);}updateInput(e){if(e.context!==this.audioProcessorContext)throw new Error(`ProcessorContext passed to AudioTrack.processorDestination doesn't match it's belonging AudioTrack's context.\n        Probably you are making pipeline like this: audioTrack1.pipe(processor).pipe(audioTrack2.processorDestination).`);e.track&&this.inputTrack!==e.track&&(this.audioProcessorContext.chained=!0,this.inputTrack=e.track,this.emit(un.ON_TRACK,this.inputTrack)),e.node&&this.inputNode!==e.node&&(this.audioProcessorContext.chained=!0,this.inputNode=e.node,this.emit(un.ON_NODE,this.inputNode));}},iu=class extends Xt{set chained(e){this._chained=e;}get chained(){return this._chained}constructor(e,n,i){super(),P(this,\"constraintsMap\",new Map),P(this,\"statsRegistry\",[]),P(this,\"audioContext\",void 0),P(this,\"trackId\",void 0),P(this,\"direction\",void 0),P(this,\"usageRegistry\",[]),P(this,\"_chained\",!1),this.audioContext=e,this.trackId=n,this.direction=i;}async getConstraints(){return Ge(this,Wn.REQUEST_CONSTRAINTS)}getAudioContext(){return this.audioContext}async requestApplyConstraints(e,n){var i;return _.info(\"processor \".concat(n.name,\" requestApplyConstraints for \").concat(this.trackId)),e&&this.constraintsMap.set(n,e),kt(this,Wn.REQUEST_UPDATE_CONSTRAINTS,Array.from(Pr(i=this.constraintsMap).call(i)))}async requestRevertConstraints(e){var n;if(this.constraintsMap.has(e))return this.constraintsMap.delete(e),kt(this,Wn.REQUEST_UPDATE_CONSTRAINTS,Array.from(Pr(n=this.constraintsMap).call(n)))}registerStats(e,n,i){this.statsRegistry.find(r=>r.processorID===e.ID&&r.processorName===e.name&&r.type===n)||this.statsRegistry.push({processorName:e.name,processorID:e.ID,type:n,cb:i});}unregisterStats(e,n){let i=this.statsRegistry.findIndex(r=>r.processorID===e.ID&&r.processorName===e.name&&r.type===n);i!==-1&&this.statsRegistry.splice(i,1);}gatherStats(){let e=[];for(let{processorID:n,processorName:i,type:r,cb:o}of this.statsRegistry)try{let s=o();e.push({processorID:n,processorName:i,type:r,stats:s});}catch(s){_.error(new N(R.UNEXPECTED_ERROR,s.message));}return e}registerUsage(e,n){this.usageRegistry.find(i=>i.processorID===e.ID&&i.processorName===e.name)||this.usageRegistry.push({processorID:e.ID,processorName:e.name,cb:n});}unregisterUsage(e){let n=this.usageRegistry.findIndex(i=>i.processorID===e.ID&&i.processorName===e.name);n!==-1&&this.usageRegistry.splice(n,1);}async gatherUsage(){let e=[];if(!this.chained)return [];for(let{cb:n}of this.usageRegistry)try{let i=n();i instanceof j&&(i=await i),e.push(Kt(Kt({},i),{},{direction:this.direction}));}catch(i){_.error(\"gather extension usage error\",i);}return e}getDirection(){return this.direction}},Pc=class extends Xt{get isPlayed(){return !0}get isFreeze(){return !1}constructor(){super(),P(this,\"context\",void 0),P(this,\"processSourceNode\",void 0),P(this,\"outputTrack\",void 0),P(this,\"processedNode\",void 0),P(this,\"clonedTrack\",void 0),P(this,\"outputNode\",void 0),this.outputNode=new zE;}setVolume(){}createOutputTrack(){throw new N(R.NOT_SUPPORTED,\"can not create output MediaStreamTrack when WebAudio disabled\")}getOriginVolumeLevel(){return 0}getAccurateVolumeLevel(){return 0}stopGetAudioBuffer(){}startGetAudioBuffer(){}play(){}stop(){}destroy(){}updateTrack(){}updateOriginTrack(){}createMediaStreamSourceNode(){}},zE=class{disconnect(){}connect(){}};function XO(t){return new j((e,n)=>{let i=!1,r=document.createElement(\"video\");r.setAttribute(\"autoplay\",\"\"),r.setAttribute(\"muted\",\"\"),r.muted=!0,r.autoplay=!0,r.setAttribute(\"playsinline\",\"\"),r.setAttribute(\"style\",\"position: fixed; top: 0; left: 0; width: 1px; height: 1px\"),document.body.appendChild(r);let o=ln()?\"canplay\":\"playing\";r.addEventListener(o,()=>{let s=r.videoWidth,a=r.videoHeight;!s&&$t()||(i=!0,r.srcObject=null,r.remove(),e([s,a]));}),r.srcObject=new MediaStream([t]),r.play().catch(zu),setTimeout(()=>{i||(r.srcObject=null,r.remove(),e([r.videoWidth,r.videoHeight]));},4e3);})}function ru(t){let e={};t.facingMode&&(e.facingMode=t.facingMode),t.cameraId&&(e.deviceId={exact:t.cameraId});let n=cr(t.encoderConfig);return n.width!=null&&(e.width=n.width),n.height!=null&&(e.height=n.height),!SO()&&n.frameRate&&(e.frameRate=n.frameRate),_O()&&typeof e.frameRate==\"object\"&&(e.frameRate.max=60),$t()&&(e.frameRate={ideal:30,max:30}),e}function fC(t){let e={};if(SO()||(t.AGC!==void 0&&(e.autoGainControl=t.AGC),t.AEC!==void 0&&(e.echoCancellation=t.AEC),t.ANS!==void 0&&(e.noiseSuppression=t.ANS,oo()&&t.ANS&&(e.googHighpassFilter=t.ANS))),t.encoderConfig){let n=Jl(t.encoderConfig);e.channelCount=n.stereo?2:1,e.sampleRate=n.sampleRate,e.sampleSize=n.sampleSize;}return t.microphoneId&&(e.deviceId={exact:t.microphoneId}),Ku()&&(e.sampleRate=void 0),e}var xG=t=>{let e=t._encoderConfig;if(!e)return;let{frameRate:n,width:i,height:r}=t.getMediaStreamTrackSettings(),{frameRate:o=n,width:s=i,height:a=r}=e;if(!o||!s||!a)return;s=wp(s),a=wp(a),o=wp(o);let{max:c,min:d}=function(p,g,E){let f=200*Math.pow(E/15,.6)*Math.pow(p*g/640/360,.75);return {min:Math.floor(f),max:Math.floor(4*f)}}(s,a,o),{bitrateMax:l,bitrateMin:u}=e||{};l||_.debug(\"calculate bitrate: [w: \".concat(s,\", h: \").concat(a,\", fps: \").concat(o,\"] => [brMax: \").concat(l,\", brMin: \").concat(u,\"]\"));let{maxFramerate:h}=v(\"ENCODER_CONFIG_LIMIT\");return h&&typeof h==\"number\"&&(o=Math.min(o,h)),{frameRate:o,bitrateMax:l||c,bitrateMin:u||d,scaleResolutionDownBy:1,scale:0}},QO=async(t,e,n)=>await(async(i,r,o)=>{let s=function(d){let l=[];for(let u=0;u<d.length;u+=2)l.push(parseInt(d.slice(u,u+2),16));return Uint8Array.from(l)}(bO(\"\"+r+o)).slice(0,16),a=s.slice(0,12),c=await window.crypto.subtle.importKey(\"raw\",s,\"AES-GCM\",!0,[\"encrypt\"]);return new Uint8Array(await window.crypto.subtle.encrypt({name:\"AES-GCM\",iv:a},c,i))})(t.buffer,e,n),Cf=t=>{let e=document.createElement(\"canvas\");return e.width=2,e.height=2,new j((n,i)=>{e.toBlob(async r=>{if(e.remove(),r){let o=await ZO(r);n({buffer:o,width:e.width,height:e.height});}else i(new N(R.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED));},t,1);})},ZO=async t=>{let e=await t.arrayBuffer();return new Uint8Array(e)},gC,TC,SC,RC,CC,IC,vC,yC,AC,bC,wC,OC,NC,DC,PC,kC,LC,MC,Yt,UC,xC,VC,FC,BC,jC,Ji,GC,WC,HC,KC,YC,qC,zC,JC,XC,QC,ZC,$C,tI,Ue,Qt=(gC=$({argsMap:(t,e)=>[t.getTrackId(),e],throttleTime:300}),TC=$({argsMap:(t,e)=>[t.getTrackId(),e]}),SC=se(),RC=$s(\"LocalAudioTrack\",\"_enabledMutex\"),CC=$({argsMap:(t,e)=>[t.getTrackId(),e]}),IC=se(),vC=$s(\"LocalAudioTrack\",\"_enabledMutex\"),yC=$({argsMap:(t,e)=>[t.getTrackId(),e]}),AC=se(),bC=se(),wC=se(),OC=$({argsMap:t=>[t.getTrackId()]}),NC=se(),DC=$({argsMap:t=>[t.getTrackId()]}),PC=se(),kC=$({argsMap:t=>[t.getTrackId()]}),LC=$({argsMap:(t,e)=>[t.getTrackId(),e.name]}),MC=$({argsMap:t=>[t.getTrackId()]}),Et((Yt=class extends no{get _source(){return this.initWebAudio()}set _source(t){this._trackSource=t;}get processorContext(){return this._processorContext||(this._processorContext=this.initProcessor().processorContext),this._processorContext}get processorDestination(){return this._processorDestination||(this._processorDestination=this.initProcessor().processorDestination),this._processorDestination}get isPlaying(){return this._useAudioElement?En.isPlaying(this.getTrackId()):this._source.isPlayed}get __className__(){return \"LocalAudioTrack\"}constructor(t,e,n,i){super(t,n),P(this,\"trackMediaType\",fa.AUDIO),P(this,\"_encoderConfig\",void 0),P(this,\"_trackSource\",void 0),P(this,\"_enabled\",!0),P(this,\"_volume\",100),P(this,\"_useAudioElement\",!0),P(this,\"_bypassWebAudio\",!1),P(this,\"processor\",void 0),P(this,\"_processorContext\",void 0),P(this,\"_processorDestination\",void 0),P(this,\"_getOriginVolumeLevel\",void 0),this._encoderConfig=e,this._getOriginVolumeLevel=!!i,this._trackSource=new Pc,v(\"DISABLE_WEBAUDIO\")&&(this._bypassWebAudio=!0),v(\"LOCAL_AUDIO_TRACK_USES_WEB_AUDIO\")&&(this._useAudioElement=!1),je()&&!Mn?setTimeout(()=>this.initWebAudio()):this.initWebAudio();}setVolume(t){Nt(t,\"volume\",0,1e3),this._volume=t,this._source.setVolume(t/100),this._useAudioElement&&En.setVolume(this.getTrackId(),t);try{if(this._bypassWebAudio)return void _.debug(\"[\".concat(this.getTrackId(),\"] setVolume returned because no pass through WebAudio.\"));let e=this._source.createOutputTrack();this._mediaStreamTrack!==e&&(this._mediaStreamTrack=e,kt(this,H.NEED_REPLACE_TRACK,this).then(()=>{_.debug(\"[\".concat(this.getTrackId(),\"] replace web audio track success\"));}).catch(n=>{_.warning(\"[\".concat(this.getTrackId(),\"] replace web audio track failed\"),n);}));}catch{}}getVolumeLevel(){return this._muted&&this.enabled&&this._getOriginVolumeLevel?this._source.getOriginVolumeLevel():this._source.getAccurateVolumeLevel()}async setPlaybackDevice(t){if(!this._useAudioElement||!jO())throw new N(R.NOT_SUPPORTED,\"your browser does not support setting the audio output device\");await En.setSinkID(this.getTrackId(),t);}async setEnabled(t,e,n){return this._setEnabled(t,e,n)}async _setEnabled(t,e,n){if(!n){if(t===this._enabled)return;this.stateCheck(\"enabled\",t);}if(_.info(\"[\".concat(this.getTrackId(),\"] start setEnabled\"),t),t){this._originMediaStreamTrack.enabled=!0;try{n||(this._enabled=!0),await kt(this,H.NEED_ENABLE_TRACK,this),_.info(\"[\".concat(this.getTrackId(),\"] setEnabled to \").concat(t,\" success\"));}catch(i){throw n||(this._enabled=!1),_.error(\"[\".concat(this.getTrackId(),\"] setEnabled to true error\"),i.toString()),i}}else {this._originMediaStreamTrack.enabled=!1,n||(this._enabled=!1);try{await kt(this,H.NEED_DISABLE_TRACK,this);}catch(i){throw n||(this._enabled=!0),_.error(\"[\".concat(this.getTrackId(),\"] setEnabled to false error\"),i.toString()),i}}}async setMuted(t){t!==this._muted&&(this.stateCheck(\"muted\",t),this._muted=t,this._originMediaStreamTrack.enabled=!t,_.debug(\"[\".concat(this.getTrackId(),\"] start set muted: \").concat(t)),t?await kt(this,H.NEED_MUTE_TRACK,this):await kt(this,H.NEED_UNMUTE_TRACK,this));}getStats(){return po(()=>{_.warning(\"[deprecated] LocalAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalAudioStats instead\");},\"localAudioTrackGetStatsWarning\"),ni(this,H.GET_STATS)||Kt({},KE)}setAudioFrameCallback(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4096;if(!t)return this._source.removeAllListeners(jn.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(e),this._source.removeAllListeners(jn.ON_AUDIO_BUFFER),this._source.on(jn.ON_AUDIO_BUFFER,n=>t(n));}play(){_.debug(\"[\".concat(this.getTrackId(),\"] start audio playback\")),this._useAudioElement?(_.debug(\"[\".concat(this.getTrackId(),\"] start audio playback in element\")),En.play(this._mediaStreamTrack,this.getTrackId(),this._volume)):this._source.play();}stop(){_.debug(\"[\".concat(this.getTrackId(),\"] stop audio playback\")),this._useAudioElement?En.stop(this.getTrackId()):this._source.stop();}close(){super.close(),this._processorDestination&&this.unbindProcessorDestinationEvents(this._processorDestination),this._processorContext&&this.unbindProcessorContextEvents(this._processorContext),this.unpipe(),this._processorDestination&&this._processorDestination._source&&this._processorDestination._source.unpipe(),this._source.destroy();}_updatePlayerSource(){let t=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];_.debug(\"[\".concat(this.getTrackId(),\"] update player source track\")),t&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&En.updateTrack(this.getTrackId(),this._mediaStreamTrack);}async _updateOriginMediaStreamTrack(t,e){this._originMediaStreamTrack!==t&&(this._originMediaStreamTrack&&(this._originMediaStreamTrack.removeEventListener(\"ended\",this._handleTrackEnded),e&&this._originMediaStreamTrack.stop()),t.addEventListener(\"ended\",this._handleTrackEnded),this._originMediaStreamTrack=t,this._muted&&(this._originMediaStreamTrack.enabled=!1),this.processor&&this._processorContext&&this.processor.updateInput({track:t,context:this._processorContext}),this._mediaStreamTrack!==this._source.outputTrack?(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await kt(this,H.NEED_REPLACE_TRACK,this)):this._source.updateTrack(this._originMediaStreamTrack),this._getOriginVolumeLevel&&this._source.updateOriginTrack(t));}renewMediaStreamTrack(t){return j.resolve(void 0)}pipe(t){if(this._bypassWebAudio)throw new N(R.INVALID_OPERATION,\"Can not process AudioTrack when bypassWebAudio set to true.\");if(this.processor===t)return t;if(t._source)throw new N(R.INVALID_OPERATION,\"Processor \".concat(t.name,\" already piped, please call unpipe beforehand.\"));return this.unpipe(),this.processor=t,this.processor._source=this,t.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),t}unpipe(){var t;if(!this.processor)return;let e=this.processor;(t=this._source.processSourceNode)===null||t===void 0||t.disconnect(),this.processor._source=!1,this.processor=void 0,e.reset();}bindProcessorDestinationEvents(t){t.on(un.ON_TRACK,async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(e),await kt(this,H.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await kt(this,H.NEED_REPLACE_TRACK,this));}),t.on(un.ON_NODE,e=>{this._source.processedNode=e;});}unbindProcessorDestinationEvents(t){t.removeAllListeners(un.ON_TRACK),t.removeAllListeners(un.ON_NODE);}bindProcessorContextEvents(t){t.on(Wn.REQUEST_CONSTRAINTS,async e=>{e(this._originMediaStreamTrack.getSettings());});}unbindProcessorContextEvents(t){t.removeAllListeners(Wn.REQUEST_CONSTRAINTS);}initWebAudio(){return this._trackSource instanceof Pc&&(this._trackSource=new $l(this._mediaStreamTrack,!1,this._getOriginVolumeLevel?this._mediaStreamTrack:void 0)),this._trackSource}initProcessor(){let t=new iu(this._source.context,this.getTrackId(),\"local\"),e=new nu(t);return this._processorContext=t,this._processorDestination=e,this.bindProcessorContextEvents(t),this.bindProcessorDestinationEvents(e),this._source.on(jn.UPDATE_SOURCE,()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:t});}),this._useAudioElement&&(this._useAudioElement=!1,this.isPlaying&&(En.stop(this.getTrackId()),this._source.play()),kt(this,H.NEED_REPLACE_MIXING_TRACK,this).then(()=>{_.debug(\"[\".concat(this.getTrackId(),\"] replace from origin track to web audio track success\"));}).catch(n=>{_.warning(\"[\".concat(this.getTrackId(),\"] replace from origin track to web audio track failed\"),n);})),{processorContext:t,processorDestination:e}}}).prototype,\"setVolume\",[gC],Object.getOwnPropertyDescriptor(Yt.prototype,\"setVolume\"),Yt.prototype),Et(Yt.prototype,\"setPlaybackDevice\",[TC,SC],Object.getOwnPropertyDescriptor(Yt.prototype,\"setPlaybackDevice\"),Yt.prototype),Et(Yt.prototype,\"setEnabled\",[RC,CC,IC],Object.getOwnPropertyDescriptor(Yt.prototype,\"setEnabled\"),Yt.prototype),Et(Yt.prototype,\"setMuted\",[vC,yC,AC],Object.getOwnPropertyDescriptor(Yt.prototype,\"setMuted\"),Yt.prototype),Et(Yt.prototype,\"getStats\",[bC],Object.getOwnPropertyDescriptor(Yt.prototype,\"getStats\"),Yt.prototype),Et(Yt.prototype,\"setAudioFrameCallback\",[wC],Object.getOwnPropertyDescriptor(Yt.prototype,\"setAudioFrameCallback\"),Yt.prototype),Et(Yt.prototype,\"play\",[OC,NC],Object.getOwnPropertyDescriptor(Yt.prototype,\"play\"),Yt.prototype),Et(Yt.prototype,\"stop\",[DC,PC],Object.getOwnPropertyDescriptor(Yt.prototype,\"stop\"),Yt.prototype),Et(Yt.prototype,\"close\",[kC],Object.getOwnPropertyDescriptor(Yt.prototype,\"close\"),Yt.prototype),Et(Yt.prototype,\"pipe\",[LC],Object.getOwnPropertyDescriptor(Yt.prototype,\"pipe\"),Yt.prototype),Et(Yt.prototype,\"unpipe\",[MC],Object.getOwnPropertyDescriptor(Yt.prototype,\"unpipe\"),Yt.prototype),Yt),ou=(UC=$({argsMap:(t,e)=>[t.getTrackId(),e]}),xC=se(),VC=$s(\"MicrophoneAudioTrack\",\"_enabledMutex\"),FC=$({argsMap:(t,e,n)=>[t.getTrackId(),e,n]}),BC=se(),jC=$({argsMap:t=>[t.getTrackId()]}),Et((Ji=class extends Qt{get __className__(){return \"MicrophoneAudioTrack\"}constructor(t,e,n,i){super(t,e.encoderConfig?Jl(e.encoderConfig):{},i,v(\"GET_VOLUME_OF_MUTED_AUDIO_TRACK\")),P(this,\"_config\",void 0),P(this,\"_deviceName\",\"default\"),P(this,\"_constraints\",void 0),P(this,\"_originalConstraints\",void 0),P(this,\"_enabled\",!0),this._config=e,this._constraints=n,this._originalConstraints=n,this._deviceName=t.label,typeof e.bypassWebAudio==\"boolean\"&&(this._bypassWebAudio=e.bypassWebAudio),(Zs()||NE())&&wt.bindInterruptDetectorTrack(this);}async setDevice(t){if(_.info(\"[\".concat(this.getTrackId(),\"] start set device to \").concat(t)),this._enabled)try{let e=await Gn.getDeviceById(t),n={};n.audio=Kt({},this._constraints),n.audio.deviceId={exact:t},this._originMediaStreamTrack.stop();let i=null;try{i=await Fn(n,this.getTrackId());}catch(r){throw _.error(\"[\".concat(this.getTrackId(),\"] setDevice failed\"),r.toString()),i=await Fn({audio:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(i.getAudioTracks()[0],!1),r}await this._updateOriginMediaStreamTrack(i.getAudioTracks()[0],!1),this._deviceName=e.label,this._config.microphoneId=t,this._constraints.deviceId={exact:t};}catch(e){throw _.error(\"[\".concat(this.getTrackId(),\"] setDevice error\"),e.toString()),e}else try{let e=await Gn.getDeviceById(t);this._deviceName=e.label,this._config.microphoneId=t,this._constraints.deviceId={exact:t};}catch(e){throw _.error(\"[\".concat(this.getTrackId(),\"] setDevice error\"),e.toString()),e}_.info(\"[\".concat(this.getTrackId(),\"] set device to \").concat(t,\" success\"));}async setEnabled(t,e,n){if(e)return _.debug(\"[\".concat(this.getTrackId(),\"] setEnabled false (do not close microphone)\")),await super._setEnabled(t);if(!n){if(t===this._enabled)return;this.stateCheck(\"enabled\",t);}if(_.info(\"[\".concat(this.getTrackId(),\"] start setEnabled\"),t),v(\"AUTO_RESET_AUDIO_ROUTE\")&&(ln()||vi())){let s=navigator.audioSession;s&&(t||(s.type=\"playback\"),s.type=\"auto\");}if(!t){var i;this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop(),(i=this._source.clonedTrack)===null||i===void 0||i.stop(),n||(this._enabled=!1);try{await kt(this,H.NEED_DISABLE_TRACK,this);}catch(s){throw _.error(\"[\".concat(this.getTrackId(),\"] setEnabled false failed\"),s.toString()),s}return}let r=Kt({},this._constraints),o=Gn.searchDeviceIdByName(this._deviceName);o&&!r.deviceId&&(r.deviceId=o);try{n||(this._enabled=!0);let s=await Fn({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(s.getAudioTracks()[0],!1),await kt(this,H.NEED_ENABLE_TRACK,this);}catch(s){throw n||(this._enabled=!1),_.error(\"[\".concat(this.getTrackId(),\"] setEnabled true failed\"),s.toString()),s}_.info(\"[\".concat(this.getTrackId(),\"] setEnabled success\"));}close(){super.close(),(Zs()||NE())&&wt.unbindInterruptDetectorTrack(this);}onTrackEnded(){if((ln()||vi())&&this._enabled&&!this._isClosed&&wt.duringInterruption){let t=async()=>{wt.off(ke.IOS_INTERRUPTION_END,t),this._enabled&&!this._isClosed&&(_.debug(\"[\".concat(this.getTrackId(),\"] try capture microphone media device for interrupted iOS device.\")),await this.setEnabled(!1),await this.setEnabled(!0));};wt.on(ke.IOS_INTERRUPTION_END,t);}else _.debug(\"[\".concat(this.getTrackId(),\"] track ended\")),this.safeEmit(ma.TRACK_ENDED);}async renewMediaStreamTrack(t){let e=t||this._constraints,n=Gn.searchDeviceIdByName(this._deviceName);if(n&&!e.deviceId&&(e.deviceId=n),this._constraints=e,this._enabled){this._originMediaStreamTrack.stop();let i=await Fn({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(i.getAudioTracks()[0],!0);}}bindProcessorContextEvents(t){super.bindProcessorContextEvents(t),t.on(Wn.REQUEST_UPDATE_CONSTRAINTS,async(e,n,i)=>{try{let r=Object.assign({},this._originalConstraints,...e);await this.renewMediaStreamTrack(r),n();}catch(r){i(r);}});}unbindProcessorContextEvents(t){super.unbindProcessorContextEvents(t),t.removeAllListeners(Wn.REQUEST_UPDATE_CONSTRAINTS);}}).prototype,\"setDevice\",[UC,xC],Object.getOwnPropertyDescriptor(Ji.prototype,\"setDevice\"),Ji.prototype),Et(Ji.prototype,\"setEnabled\",[VC,FC,BC],Object.getOwnPropertyDescriptor(Ji.prototype,\"setEnabled\"),Ji.prototype),Et(Ji.prototype,\"close\",[jC],Object.getOwnPropertyDescriptor(Ji.prototype,\"close\"),Ji.prototype),Ji),VG=(GC=$({argsMap:(t,e)=>[t.getTrackId(),e,t.duration]}),WC=se(),HC=$({argsMap:t=>[t.getTrackId()]}),KC=se(),YC=$({argsMap:t=>[t.getTrackId()]}),qC=se(),zC=$({argsMap:t=>[t.getTrackId()]}),JC=se(),XC=$({argsMap:t=>[t.getTrackId()]}),QC=se(),ZC=$({argsMap:t=>[t.getTrackId()]}),$C=$({argsMap:t=>[t.getTrackId()]}),tI=se(),Et((Ue=class extends Qt{get __className__(){return \"BufferSourceAudioTrack\"}constructor(t,e,n,i){super(e.createOutputTrack(),n,i),P(this,\"source\",void 0),P(this,\"_bufferSource\",void 0),this._useAudioElement=!1,this.source=t,this._bufferSource=e,this._bufferSource.on(jn.AUDIO_SOURCE_STATE_CHANGE,r=>{this.safeEmit(ma.SOURCE_STATE_CHANGE,r);});try{this._mediaStreamTrack=this._source.createOutputTrack();}catch{}}get currentState(){return this._bufferSource.currentState}get duration(){return this._bufferSource.duration}get playbackSpeed(){return this._bufferSource.playbackSpeed}getCurrentTime(){return this._bufferSource.currentTime}startProcessAudioBuffer(t){t&&this._bufferSource.updateOptions(t),this._bufferSource.startProcessAudioBuffer();}pauseProcessAudioBuffer(){this._bufferSource.pauseProcessAudioBuffer();}seekAudioBuffer(t){this._bufferSource.seekAudioBuffer(t);}resumeProcessAudioBuffer(){this._bufferSource.resumeProcessAudioBuffer();}stopProcessAudioBuffer(){this._bufferSource.stopProcessAudioBuffer();}close(){this.source=null,this._bufferSource.destroy(),super.close();}setAudioBufferPlaybackSpeed(t){Nt(t,\"speed\",0),this._bufferSource.setAudioBufferPlaybackSpeed(t);}}).prototype,\"startProcessAudioBuffer\",[GC,WC],Object.getOwnPropertyDescriptor(Ue.prototype,\"startProcessAudioBuffer\"),Ue.prototype),Et(Ue.prototype,\"pauseProcessAudioBuffer\",[HC,KC],Object.getOwnPropertyDescriptor(Ue.prototype,\"pauseProcessAudioBuffer\"),Ue.prototype),Et(Ue.prototype,\"seekAudioBuffer\",[YC,qC],Object.getOwnPropertyDescriptor(Ue.prototype,\"seekAudioBuffer\"),Ue.prototype),Et(Ue.prototype,\"resumeProcessAudioBuffer\",[zC,JC],Object.getOwnPropertyDescriptor(Ue.prototype,\"resumeProcessAudioBuffer\"),Ue.prototype),Et(Ue.prototype,\"stopProcessAudioBuffer\",[XC,QC],Object.getOwnPropertyDescriptor(Ue.prototype,\"stopProcessAudioBuffer\"),Ue.prototype),Et(Ue.prototype,\"close\",[ZC],Object.getOwnPropertyDescriptor(Ue.prototype,\"close\"),Ue.prototype),Et(Ue.prototype,\"setAudioBufferPlaybackSpeed\",[$C,tI],Object.getOwnPropertyDescriptor(Ue.prototype,\"setAudioBufferPlaybackSpeed\"),Ue.prototype),Ue),ge=class t extends Qt{get __className__(){return \"MixingAudioTrack\"}get isActive(){for(let e of this.trackList)if(e._enabled&&!e._isClosed&&!e.muted)return !0;return !1}constructor(){let e=ga().createMediaStreamDestination();super(e.stream.getAudioTracks()[0],void 0,Ut(8,\"track-mix-\")),P(this,\"trackList\",void 0),P(this,\"destNode\",void 0),this._useAudioElement=!1;try{this._mediaStreamTrack=this._source.createOutputTrack();}catch{}this.destNode=e,this.trackList=[];}hasAudioTrack(e){return this.trackList.indexOf(e)!==-1}addAudioTrack(e){this.trackList.indexOf(e)===-1?(_.debug(\"add \".concat(e.getTrackId(),\" to mixing track\")),e._source.outputNode.connect(this.destNode),this.trackList.push(e),this.updateEncoderConfig()):_.debug(\"track \".concat(e.getTrackId(),\" is already added\"));}removeAudioTrack(e){if(this.trackList.indexOf(e)!==-1){_.debug(\"remove \".concat(e.getTrackId(),\" from mixing track\"));try{e._source.outputNode.disconnect(this.destNode);}catch{}Wl(this.trackList,e),this.updateEncoderConfig();}}updateEncoderConfig(){let e={};this.trackList.forEach(n=>{n._encoderConfig&&((n._encoderConfig.bitrate||0)>(e.bitrate||0)&&(e.bitrate=n._encoderConfig.bitrate),(n._encoderConfig.sampleRate||0)>(e.sampleRate||0)&&(e.sampleRate=n._encoderConfig.sampleRate),(n._encoderConfig.sampleSize||0)>(e.sampleSize||0)&&(e.sampleSize=n._encoderConfig.sampleSize),n._encoderConfig.stereo&&(e.stereo=!0));}),this._encoderConfig=e;}_updateRtpTransceiver(e){this._rtpTransceiver!==e&&(this._rtpTransceiver=e,this.trackList.forEach(n=>{n instanceof t?n.emit(Ko.TRANSCEIVER_UPDATED,e):n._updateRtpTransceiver(e);}));}},JE=class extends Zl{set currentState(e){e!==this._currentState&&(this._currentState=e,this.safeEmit(jn.AUDIO_SOURCE_STATE_CHANGE,this._currentState));}get currentState(){return this._currentState}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),P(this,\"audioBuffer\",void 0),P(this,\"sourceNode\",void 0),P(this,\"startPlayTime\",0),P(this,\"startPlayOffset\",0),P(this,\"pausePlayTime\",0),P(this,\"options\",void 0),P(this,\"currentLoopCount\",0),P(this,\"currentPlaybackSpeed\",100),P(this,\"_currentState\",\"stopped\"),this.audioBuffer=e,this.options=n,this.startPlayOffset=this.options.startPlayTime||0;}createWebAudioDiagram(){return this.context.createGain()}get duration(){return this.audioBuffer?this.audioBuffer.duration:0}get playbackSpeed(){return this.currentPlaybackSpeed}get currentTime(){return this.audioBuffer?this.currentState===\"stopped\"?0:this.currentState===\"paused\"?this.pausePlayTime:((this.context.currentTime-this.startPlayTime)*(this.playbackSpeed/100)+this.startPlayOffset)%this.audioBuffer.duration:0}updateOptions(e){this.currentState===\"stopped\"?(this.options=e,this.startPlayOffset=this.options.startPlayTime||0):_.warning(\"can not set audio source options\");}startProcessAudioBuffer(){this.sourceNode&&this.stopProcessAudioBuffer(),this.sourceNode=this.createSourceNode(),this.startSourceNode(),this.currentState=\"playing\";}pauseProcessAudioBuffer(){this.sourceNode&&this.currentState===\"playing\"&&(this.pausePlayTime=this.currentTime,this.sourceNode.onended=null,this.sourceNode.stop(),this.sourceNode.buffer=null,this.sourceNode=this.createSourceNode(),this.currentState=\"paused\");}seekAudioBuffer(e){this.sourceNode&&(this.sourceNode.onended=null,this.currentState===\"playing\"&&this.sourceNode.stop(),this.sourceNode=this.createSourceNode(),this.currentState===\"playing\"?(this.startPlayOffset=e,this.startSourceNode()):this.currentState===\"paused\"&&(this.pausePlayTime=e));}resumeProcessAudioBuffer(){this.currentState===\"paused\"&&this.sourceNode&&(this.startPlayOffset=this.pausePlayTime,this.pausePlayTime=0,this.startSourceNode(),this.currentState=\"playing\");}stopProcessAudioBuffer(){if(this.sourceNode){this.sourceNode.onended=null;try{this.sourceNode.stop();}catch{}this.reset();}}destroy(){this.audioBuffer=null,super.destroy();}setAudioBufferPlaybackSpeed(e){this.sourceNode&&(this.currentState===\"playing\"&&(this.startPlayOffset=this.currentTime,this.startPlayTime=this.context.currentTime),this.sourceNode.playbackRate.value=e/100),this.currentPlaybackSpeed=e;}startSourceNode(){this.sourceNode&&this.sourceNode.buffer&&(this.sourceNode.start(0,this.startPlayOffset),this.startPlayTime=this.context.currentTime,this.sourceNode.onended=this.handleSourceNodeEnded.bind(this));}createSourceNode(){let e=this.context.createBufferSource();return e.buffer=this.audioBuffer,e.loop=!!this.options.loop,e.connect(this.outputNode),e.playbackRate.value=this.currentPlaybackSpeed/100,e}handleSourceNodeEnded(){if(this.currentLoopCount+=1,this.options.cycle&&this.options.cycle>this.currentLoopCount)return this.startPlayOffset=0,this.sourceNode=void 0,void this.startProcessAudioBuffer();this.reset();}reset(){this.startPlayOffset=this.options.startPlayTime||0,this.currentState=\"stopped\",this.sourceNode&&(this.sourceNode.disconnect(),this.sourceNode=void 0),this.currentLoopCount=0;}},eI=new Map,kc=class{get rendFrameRate(){if(this.renderStats&&this.renderStats.curTs!==this.renderStats.lastTs){let e=this.renderStats.curTs-this.renderStats.lastTs,n=(this.renderStats.renderNum-this.renderStats.lastRenderNum)/e;return this.renderStats.lastRenderNum=this.renderStats.renderNum,this.renderStats.lastTs=this.renderStats.curTs,n}return 0}get videoElementStatus(){return this._videoElementStatus}set videoElementStatus(e){e!==this._videoElementStatus&&(_.debug(\"[\".concat(this.trackId,\"] video-element-status change \").concat(this._videoElementStatus,\" => \").concat(e)),this._videoElementStatus=e);}get videoState(){return this._videoState}set videoState(e){var n;e!==this._videoState&&(this._videoState=e,(n=this.onVideoStateChanged)===null||n===void 0||n.call(this,this.videoState));}constructor(e){P(this,\"trackId\",void 0),P(this,\"config\",void 0),P(this,\"onFirstVideoFrameDecoded\",void 0),P(this,\"onVideoStateChanged\",void 0),P(this,\"freezeTimeCounterList\",[]),P(this,\"renderFreezeAccTime\",0),P(this,\"isKeepLastFrame\",!1),P(this,\"timeUpdatedCount\",0),P(this,\"freezeTime\",0),P(this,\"playbackTime\",0),P(this,\"lastTimeUpdatedTime\",0),P(this,\"autoplayFailed\",!1),P(this,\"videoTrack\",void 0),P(this,\"videoElement\",void 0),P(this,\"cacheVideoElement\",void 0),P(this,\"renderStats\",void 0),P(this,\"_videoState\",zi.VideoStateStopped),P(this,\"videoElementCheckInterval\",void 0),P(this,\"videoElementFreezeTimeout\",void 0),P(this,\"_videoElementStatus\",nn.NONE),P(this,\"isGettingVideoDimensions\",!1),P(this,\"startGetVideoDimensions\",()=>{let n=()=>{if(this.isGettingVideoDimensions=!0,this.videoElement.videoWidth*this.videoElement.videoHeight>4)return _.debug(\"[\".concat(this.trackId,\"] current video dimensions:\"),this.videoElement.videoWidth,this.videoElement.videoHeight),void(this.isGettingVideoDimensions=!1);setTimeout(n,500);};!this.isGettingVideoDimensions&&n();}),P(this,\"autoResumeAfterInterruption\",()=>{this.videoTrack&&this.videoTrack.readyState===\"live\"&&wt.curState===\"running\"&&(_.debug(\"[track-\".concat(this.trackId,\"] video element paused, auto resume for \").concat(dR())),pR()?(this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):(this.videoElement.pause(),this.videoElement.play()));}),P(this,\"handleVideoEvents\",n=>{switch(n.type){case\"play\":case\"playing\":this.startGetVideoDimensions(),this.videoElementStatus=nn.PLAYING;break;case\"loadeddata\":if(this.videoState=zi.VideoStateStarting,this.onFirstVideoFrameDecoded&&this.onFirstVideoFrameDecoded(),this.cacheVideoElement){try{this.cacheVideoElement.srcObject=null,this.cacheVideoElement.remove();}catch{}this.cacheVideoElement=void 0;}break;case\"canplay\":this.videoElementStatus=nn.CANPLAY;break;case\"stalled\":this.videoElementStatus=nn.STALLED;break;case\"suspend\":this.videoElementStatus=nn.SUSPEND;break;case\"pause\":this.videoElementStatus=nn.PAUSED,ln()||vi()||je()&&this.autoplayFailed||!this.videoTrack||this.videoTrack.readyState!==\"live\"||(_.debug(\"[track-\".concat(this.trackId,\"] video element paused, auto resume\")),this.videoElement.play());break;case\"waiting\":this.videoElementStatus=nn.WAITING;break;case\"abort\":this.videoElementStatus=nn.ABORT;break;case\"ended\":this.videoElementStatus=nn.ENDED;break;case\"emptied\":this.videoElementStatus=nn.EMPTIED;break;case\"error\":{let i=this.videoElement.error;i?(this.videoElementStatus=nn.ERROR,_.error(\"[\".concat(this.trackId,\"] media error: \").concat(i.message,\" (\").concat(i.code,\")\"))):_.debug(\"[\".concat(this.trackId,\"] media not been an error.\"));break}case\"timeupdate\":{let i=performance.now();if(this.timeUpdatedCount+=1,this.timeUpdatedCount<10)return void(this.lastTimeUpdatedTime=i);let r=i-this.lastTimeUpdatedTime,o=this.lastTimeUpdatedTime;if(this.lastTimeUpdatedTime=i,yr.lastVisibleTime<yr.lastHiddenTime||o<yr.lastHiddenTime||o<yr.lastVisibleTime)return;for(r>v(\"VIDEO_FREEZE_DURATION\")&&(this.freezeTime+=r),this.playbackTime+=r;this.playbackTime>=6e3;){this.playbackTime-=6e3;let s=Math.min(6e3,this.freezeTime);this.freezeTimeCounterList.push(s),this.freezeTime=Math.max(0,this.freezeTime-6e3);}break}}}),P(this,\"autoResumeAfterInterruptionOnIOS15_16\",()=>{this.videoTrack&&this.videoTrack.readyState===\"live\"&&(_.debug(\"[track-\".concat(this.trackId,\"] video element paused, auto resume for \").concat(dR())),pR()?(this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):(this.videoElement.pause(),this.videoElement.play()));}),this.trackId=e.trackId,this.config=e,e.element instanceof HTMLVideoElement?this.videoElement=e.element:this.videoElement=document.createElement(\"video\"),wt.on(ke.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),wt.on(ke.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16);}getVideoElement(){return this.videoElement}getContainerElement(){var e;return (e=this.videoElement.parentElement)!==null&&e!==void 0?e:void 0}updateConfig(e){this.config=e,this.trackId=e.trackId,e.element!==this.videoElement&&(this.destroy(),this.videoElement=e.element),this.videoTrack&&this.initVideoElement();}updateVideoTrack(e){this.videoTrack!==e&&(this.videoTrack=e,this.initVideoElement());}play(e){let n=this.videoElement.play();n&&n.catch&&n.catch(r=>{e&&JO(e,\"video\",r.message,this.trackId),r.name===\"NotAllowedError\"?(_.warning(\"detected video element autoplay failed\",r),this.autoplayFailed=!0,this.handleAutoPlayFailed()):_.warning(\"[\".concat(this.trackId,\"] play warning: \"),r);});let i=mt();if((i.name===\"Safari\"&&Number(i.version)===15||Zs())&&n&&n.then){let r=()=>{this.config.mirror&&(this.videoElement.style.transform=\"rotateY(180deg)\");};n.then(r).catch(r);}}getCurrentFrame(){let e=document.createElement(\"canvas\");e.width=this.videoElement.videoWidth,e.height=this.videoElement.videoHeight;let n=e.getContext(\"2d\");if(!n)return _.error(\"create canvas context failed!\"),new ImageData(2,2);n.drawImage(this.videoElement,0,0,e.width,e.height);let i=n.getImageData(0,0,e.width,e.height);return e.remove(),i}async getCurrentFrameToUint8Array(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,i=document.createElement(\"canvas\");i.width=this.videoElement.videoWidth,i.height=this.videoElement.videoHeight;let r=i.getContext(\"2d\");return r?(r.drawImage(this.videoElement,0,0,i.width,i.height),new j((o,s)=>{i.toBlob(async a=>{if(i.remove(),a){let c=await ZO(a);o({buffer:c,width:i.width,height:i.height});}else s(new N(R.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED));},e,n<0?.1:n>1?1:n);})):await Cf(e)}destroy(){this.renderStats=void 0,wt.off(ke.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),wt.off(ke.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16),this.videoElement.srcObject=null,this.resetVideoElement(),this.freezeTimeCounterList=[],this.videoState=zi.VideoStateStopped;}initVideoElement(){if(this.videoElementStatus=nn.INIT,!this.videoElementCheckInterval&&(nI.forEach(o=>{this.videoElement.addEventListener(o,this.handleVideoEvents);}),this.videoElementCheckInterval=window.setInterval(()=>{(function(o){return o!==document.body&&document.body.contains(o)})(this.videoElement)||(this.videoElementStatus=nn.DESTROYED);},1e3),v(\"ENABLE_VIDEO_FRAME_CALLBACK\"))){var e,n;let o,s=()=>{document.visibilityState===\"visible\"&&(document.removeEventListener(\"visibilitychange\",s),this.videoElementFreezeTimeout=window.setTimeout(a,v(\"VIDEO_FREEZE_DURATION\")));},a=()=>{this.videoElementFreezeTimeout=void 0,this.videoState===zi.VideoStateDecoding&&(document.visibilityState===\"visible\"?this.videoState=zi.VideoStateFrozen:document.addEventListener(\"visibilitychange\",s));},c=(d,l)=>{if(this.videoElementStatus===nn.PLAYING){if(this.renderStats?(this.renderStats.renderNum++,this.renderStats.curTs=l.mediaTime):this.renderStats={lastTs:l.mediaTime,curTs:l.mediaTime,lastRenderNum:0,renderNum:0},o){let p=l.presentationTime-o.presentationTime;this.videoState===zi.VideoStateStarting&&(this.videoState=zi.VideoStateDecoding),this.videoState===zi.VideoStateDecoding&&this.onVideoStateChanged&&(this.videoElementFreezeTimeout&&window.clearTimeout(this.videoElementFreezeTimeout),this.videoElementFreezeTimeout=window.setTimeout(a,v(\"VIDEO_FREEZE_DURATION\"))),p<v(\"VIDEO_FREEZE_DURATION\")&&this.videoState===zi.VideoStateFrozen&&(this.videoState=zi.VideoStateDecoding),p>v(\"VIDEO_FREEZE_DURATION\")&&yr.lastVisibleTime>=yr.lastHiddenTime&&o.timestamp>yr.lastVisibleTime&&o.timestamp>yr.lastHiddenTime&&(this.renderFreezeAccTime+=p);}o=Kt(Kt({},l),{},{timestamp:d});}var u,h;v(\"ENABLE_VIDEO_FRAME_CALLBACK\")&&((u=(h=this.videoElement).requestVideoFrameCallback)===null||u===void 0||u.call(h,c));};(e=(n=this.videoElement).requestVideoFrameCallback)===null||e===void 0||e.call(n,c);}this.videoElement.controls=!1,this.videoElement.setAttribute(\"playsinline\",\"\"),Ku()&&!v(\"HIDE_NO_POSTER\")&&(this.videoElement.poster=\"noposter\");let i=mt();i.name===\"Safari\"&&Number(i.version)===15||Zs()||!this.config.mirror||(this.videoElement.style.transform=\"rotateY(180deg)\"),this.config.fit?this.videoElement.style.objectFit=this.config.fit:this.videoElement.style.objectFit=\"cover\",this.videoElement.setAttribute(\"muted\",\"\"),this.videoElement.muted=!0,this.videoElement.srcObject&&this.videoElement.srcObject instanceof MediaStream?this.videoElement.srcObject.getVideoTracks()[0]!==this.videoTrack&&(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,$t()&&this.videoElement.load()):(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,$t()&&this.videoElement.load());let r=this.videoElement.play();r!==void 0&&r.catch(o=>{_.debug(\"[\".concat(this.trackId,\"] playback interrupted\"),o.toString());});}resetVideoElement(){nI.forEach(e=>{this.videoElement&&this.videoElement.removeEventListener(e,this.handleVideoEvents);}),this.videoElementCheckInterval&&(window.clearInterval(this.videoElementCheckInterval),this.videoElementCheckInterval=void 0),this.videoElementStatus=nn.NONE;}handleAutoPlayFailed(){let e=n=>{n.preventDefault(),this.videoElement.play().then(()=>{_.debug(\"[\".concat(this.trackId,\"] Video element for trackId:\").concat(this.trackId,\" autoplay resumed.\"));}).catch(i=>{_.error(i);}),this.autoplayFailed=!1,yc()?document.body.removeEventListener(\"click\",e,!0):(document.body.removeEventListener(\"touchstart\",e,!0),document.body.removeEventListener(\"mousedown\",e,!0));};yc()?document.body.addEventListener(\"click\",e,!0):(document.body.addEventListener(\"touchstart\",e,!0),document.body.addEventListener(\"mousedown\",e,!0)),zO();}},nI=[\"play\",\"playing\",\"loadeddata\",\"canplay\",\"pause\",\"stalled\",\"suspend\",\"waiting\",\"abort\",\"emptied\",\"ended\",\"timeupdate\",\"error\"],su=class extends kc{constructor(e){super(e),P(this,\"container\",void 0),P(this,\"slot\",void 0),this.slot=e.element,this.updateConfig(e);}updateConfig(e){this.config=e,this.trackId=e.trackId;let n=e.element;n!==this.slot&&(this.destroy(),this.slot=n),this.createElements();}updateVideoTrack(e){this.videoTrack!==e&&(this.videoTrack=e,this.createElements());}play(e){var n;(n=this.container)!==null&&n!==void 0&&n.contains(this.videoElement)&&super.play(e);}getCurrentFrame(){var e;return (e=this.container)!==null&&e!==void 0&&e.contains(this.videoElement)?super.getCurrentFrame():new ImageData(2,2)}async getCurrentFrameToUint8Array(e){var n;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return (n=this.container)!==null&&n!==void 0&&n.contains(this.videoElement)?await super.getCurrentFrameToUint8Array(e,i):await Cf(e)}destroy(){if(super.destroy(),this.videoElement.remove(),this.videoElement=document.createElement(\"video\"),this.container){try{this.container.remove(),this.slot.removeChild(this.container);}catch{}this.container=void 0;}}createElements(){this.container||(this.container=document.createElement(\"div\")),this.container.id=\"agora-video-player-\".concat(this.trackId),this.container.style.width=\"100%\",this.container.style.height=\"100%\",this.container.style.position=\"relative\",this.container.style.overflow=\"hidden\",this.videoTrack?(this.container.style.backgroundColor=\"black\",v(\"KEEP_LAST_FRAME\")&&this.isKeepLastFrame&&this.videoElement.paused&&this.resetVideoElement(),this.mountedVideoElement()):this.unmountedVideoElement(),this.slot.appendChild(this.container);}mountedVideoElement(){var e;!this.container||(e=this.container)!==null&&e!==void 0&&e.contains(this.videoElement)||this.container.appendChild(this.videoElement),super.initVideoElement(),this.videoElement.id=\"video_\".concat(this.trackId),this.videoElement.className=\"agora_video_player\",this.videoElement.style.width=\"100%\",this.videoElement.style.height=\"100%\",this.videoElement.style.position=\"absolute\",this.videoElement.style.left=\"0\",this.videoElement.style.top=\"0\";}unmountedVideoElement(){var e;if((e=this.container)!==null&&e!==void 0&&e.contains(this.videoElement)){super.resetVideoElement();try{this.container&&this.container.removeChild(this.videoElement);}catch{}this.videoElement=document.createElement(\"video\");}}resetVideoElement(){var e;(e=this.container)!==null&&e!==void 0&&e.contains(this.videoElement)&&(super.resetVideoElement(),this.cacheVideoElement=this.videoElement,this.videoElement=document.createElement(\"video\"));}getContainerElement(){return this.container}},iI,rI,oI,sI,aI,cI,dI,lI,uI,hI,pI,_I,EI,mI,fI,gI,TI,SI,RI,CI,II,vI,yI,AI,ht,bI,wI,OI,NI,DI,PI,kI,LI,Ln,Ft=(iI=$({argsMap:(t,e,n)=>[t.getTrackId(),typeof e==\"string\"?e:e instanceof HTMLVideoElement?\"HTMLVideoElement\":\"HTMLElement\",n]}),rI=se(),oI=$({argsMap:t=>[t.getTrackId()]}),sI=$s(\"LocalVideoTrack\",\"_enabledMutex\"),aI=$({argsMap:(t,e)=>[t.getTrackId(),e]}),cI=se(),dI=$s(\"LocalVideoTrack\",\"_enabledMutex\"),lI=$({argsMap:(t,e)=>[t.getTrackId(),e]}),uI=se(),hI=$({argsMap:(t,e)=>[t.getTrackId(),e]}),pI=se(),_I=se(),EI=$({argsMap:(t,e,n)=>[t.getTrackId(),e,n]}),mI=se(),fI=se(),gI=se(),TI=se(),SI=se(),RI=se(),CI=se(),II=$({argsMap:(t,e)=>[t.getTrackId(),e.name]}),vI=$({argsMap:t=>[t.getTrackId()]}),yI=$({argsMap:t=>[t.getTrackId()]}),AI=$({argsMap:(t,e,n)=>[t.getTrackId(),e.label,n]}),ht=class $O extends no{get videoHeight(){if(je()){let{height:e}=this._mediaStreamTrack.getSettings();return this._videoHeight=e,this._videoHeight}return this._videoHeight}get videoWidth(){if(je()){let{width:e}=this._mediaStreamTrack.getSettings();return this._videoWidth=e,this._videoWidth}return this._videoWidth}get isPlaying(){return !(!this._player||this._player.videoElementStatus!==nn.PLAYING)}get processorDestination(){return this._processorDestination}get processorContext(){return this._processorContext}set processorContext(e){this._processorContext=e;}get __className__(){return \"LocalVideoTrack\"}constructor(e,n,i,r,o,s){if(super(e,o),P(this,\"trackMediaType\",fa.VIDEO),P(this,\"_player\",void 0),P(this,\"isUseScaleResolutionDownBy\",!1),P(this,\"_videoVisibleTimer\",null),P(this,\"_previousVideoVisibleStatus\",void 0),P(this,\"_clearPreviousVideoVisibleStatus\",()=>this._previousVideoVisibleStatus=void 0),P(this,\"_encoderConfig\",void 0),P(this,\"_scalabilityMode\",{numSpatialLayers:1,numTemporalLayers:1}),P(this,\"_optimizationMode\",void 0),P(this,\"_videoHeight\",void 0),P(this,\"_videoWidth\",void 0),P(this,\"_forceBitrateLimit\",void 0),P(this,\"_enabled\",!0),P(this,\"_processorDestination\",void 0),P(this,\"_processorContext\",void 0),je()){let{width:a,height:c}=e.getSettings();this._videoWidth=a,this._videoHeight=c;}else this.updateMediaStreamTrackResolution();if(this._encoderConfig=n,this._scalabilityMode=i,this._optimizationMode=r,this._hints=s||[],this._hints.indexOf(Gt.SCREEN_TRACK)===-1)this.updateBitrateFromProfile();else if(function(a,c,d){let l=mt();return !(l.name!==a||!l.osVersion)&&(Number(l.version)===c)}(It.CHROME,115)&&Hu().indexOf(\"Windows\")!==-1){let a=function(c,d){if(\"VideoFrame\"in window&&\"TransformStream\"in window&&ft().supportWebRTCInsertableStream){let l=new MediaStreamTrackProcessor(c),u=new MediaStreamTrackGenerator({kind:\"video\"}),h,p,g=Date.now(),E=()=>{f&&(clearInterval(f),f=void 0),h&&(h.close(),h=void 0),c.stop(),p=void 0,u.removeEventListener(\"ended\",E);},f=window.setInterval(()=>{if(p&&h&&Date.now()-g>(1e3))try{u.readyState===\"live\"?p.enqueue(h.clone()):E();}catch{E();}},1e3),S=new TransformStream({transform:(C,A)=>{u.readyState===\"live\"?(p=A,g=Date.now(),h===void 0?(h=C,A.enqueue(C.clone())):(A.enqueue(h),h=C)):C.close();}});return u.addEventListener(\"ended\",E),l.readable.pipeThrough(S).pipeTo(u.writable),u}}(e);a&&(_.info(\"local screen video track begin to inject frame\"),this._mediaStreamTrack=a);}n&&this._hints.indexOf(Gt.CUSTOM_TRACK)!==-1&&this.setEncoderConfiguration(n),this._processorContext=new eu(this.getTrackId(),\"local\"),this._processorDestination=new tu(this.processorContext),this.bindProcessorDestinationEvents();}play(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof e==\"string\"){let r=document.getElementById(e);r?e=r:(_.warning(\"[\".concat(this.getTrackId(),'] can not find \"#').concat(e,'\" element, use document.body')),e=document.body);}_.debug(\"[\".concat(this.getTrackId(),\"] start video playback in \").concat(e instanceof HTMLVideoElement?\"HTMLVideoElement\":\"HTMLElement\"),JSON.stringify(n));let i=Kt(Kt(Kt({},this._getDefaultPlayerConfig()),n),{},{trackId:this.getTrackId(),element:e});this._player?this._player.updateConfig(i):(e instanceof HTMLVideoElement?this._player=new kc(i):this._player=new su(i),this._player.updateVideoTrack(this._mediaStreamTrack)),this._player.play(),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval(()=>{try{let r=this.getVideoElementVisibleStatus();this.safeEmit(ma.VIDEO_ELEMENT_VISIBLE_STATUS,r);}catch{}},v(\"CHECK_VIDEO_VISIBLE_INTERVAL\"));}stop(){this._player&&(this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,_.debug(\"[\".concat(this.getTrackId(),\"] stop video playback\")));}async setEnabled(e,n){if(!n){if(e===this._enabled)return;this.stateCheck(\"enabled\",e);}if(_.info(\"[\".concat(this.getTrackId(),\"] start setEnabled\"),e),!e){this._originMediaStreamTrack.enabled=!1;try{await kt(this,H.NEED_DISABLE_TRACK,this);}catch(i){throw _.error(\"[\".concat(this.getTrackId(),\"] setEnabled to false error\"),i.toString()),i}return n||(this._enabled=!1),void _.info(\"[\".concat(this.getTrackId(),\"] setEnabled to false success\"))}this._originMediaStreamTrack.enabled=!0;try{await kt(this,H.NEED_ENABLE_TRACK,this);}catch(i){throw _.error(\"[\".concat(this.getTrackId(),\"] setEnabled to true error\"),i.toString()),i}_.info(\"[\".concat(this.getTrackId(),\"] setEnabled to true success\")),n||(this._enabled=!0);}async setMuted(e){e!==this._muted&&(this.stateCheck(\"muted\",e),this._muted=e,this._originMediaStreamTrack.enabled=!e,_.debug(\"[\".concat(this.getTrackId(),\"] start set muted: \").concat(e)),e?await kt(this,H.NEED_MUTE_TRACK,this):await kt(this,H.NEED_UNMUTE_TRACK,this));}async setEncoderConfiguration(e,n){if(!this._enabled)throw new N(R.TRACK_IS_DISABLED,\"can not set encoder configuration when track is disabled\");if(e=cr(e),this._forceBitrateLimit&&(e.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:e.bitrateMax,e.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:e.bitrateMin),e.width||e.height||e.frameRate){let i=ru({encoderConfig:e});(je()||ln()||vi())&&(i.deviceId=void 0),_.debug(\"[\".concat(this.getTrackId(),\"] setEncoderConfiguration applyConstraints\"),JSON.stringify(e),JSON.stringify(i));try{await this._originMediaStreamTrack.applyConstraints(i),this.updateMediaStreamTrackResolution();}catch(r){let o=new N(R.UNEXPECTED_ERROR,r.toString());throw _.error(\"[\".concat(this.getTrackId(),\"] applyConstraints error\"),o.toString()),o}}this._encoderConfig=e,this._hints.indexOf(Gt.SCREEN_TRACK)===-1&&this.updateBitrateFromProfile();try{await kt(this,H.NEED_UPDATE_VIDEO_ENCODER,this);}catch(i){return i.throw(_)}}getStats(){return po(()=>{_.warning(\"[deprecated] LocalVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalVideoStats instead\");},\"localVideoTrackGetStatsWarning\"),ni(this,H.GET_STATS)||Kt({},YE)}async setBeautyEffect(e){_.error(\"LocalVideoTrack.setBeautyEffect was deprecated, please migrate to agora-extension-beauty-effect\");}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}async getCurrentFrameImage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this._player?this._player.getCurrentFrameToUint8Array(e,n):await Cf(e)}async setBitrateLimit(e){if(_.debug(\"[\".concat(this.getTrackId(),\"] set bitrate limit, \").concat(JSON.stringify(e))),e){this._forceBitrateLimit=e,this._encoderConfig&&(this._encoderConfig.bitrateMax?this._encoderConfig.bitrateMax=this._encoderConfig.bitrateMax<e.max_bitrate?this._encoderConfig.bitrateMax:e.max_bitrate:this._encoderConfig.bitrateMax=e.max_bitrate,this._encoderConfig.bitrateMin,this._encoderConfig.bitrateMin=e.min_bitrate);try{await kt(this,H.NEED_UPDATE_VIDEO_ENCODER,this);}catch(n){return n.throw(_)}}}async setOptimizationMode(e){if(e!==\"motion\"&&e!==\"detail\"&&e!==\"balanced\")return void _.error(R.INVALID_PARAMS,\"optimization mode must be motion, detail or balanced\");let n=this._optimizationMode;try{this._optimizationMode=e,await kt(this,H.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this);}catch(i){throw this._optimizationMode=n,_.error(\"[\".concat(this.getTrackId(),\"] set optimization mode failed\"),i.toString()),i}_.info(\"[\".concat(this.getTrackId(),\"] set optimization mode success (\").concat(e,\")\"));}setScalabiltyMode(e){if(e.numSpatialLayers===1&&e.numTemporalLayers!==1)return _.error(R.INVALID_PARAMS,\"scalability mode currently not supported, no SVC.\"),void(this._scalabilityMode={numSpatialLayers:1,numTemporalLayers:1});this._scalabilityMode=e,_.info(\"[\".concat(this.getTrackId(),\"] set scalability mode success (\").concat(e,\")\"));}updateMediaStreamTrackResolution(){XO(this._originMediaStreamTrack).then(e=>{let[n,i]=e;this._videoHeight=i,this._videoWidth=n;}).catch(zu);}_updatePlayerSource(){this._player&&this._player.updateVideoTrack(this._mediaStreamTrack);}_getDefaultPlayerConfig(){return {fit:\"contain\"}}async setSenderConfiguration(e){if(!this._enabled)throw new N(R.TRACK_IS_DISABLED,\"can not set encoder configuration when track is disabled\");_.debug(\"[\".concat(this.getTrackId(),\"] setSenderConfiguration applyConstraints\"),JSON.stringify(e)),e=cr(e),this._forceBitrateLimit&&(e.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:e.bitrateMax,e.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:e.bitrateMin),this._encoderConfig=e,this._hints.indexOf(Gt.SCREEN_TRACK)===-1&&this.updateBitrateFromProfile();try{await kt(this,H.NEED_UPDATE_VIDEO_ENCODER,this);}catch(n){return n.throw(_)}}updateBitrateFromProfile(){if(!this._encoderConfig)return;let{width:e,height:n,frameRate:i}=this.getMediaStreamTrackSettings();if(!e||!n||!i)return;let{bitrateMax:r,bitrateMin:o}=this._encoderConfig;if(o==null||r==null){let{max:s,min:a}=function(c,d,l,u,h){let p=v(\"BITRATE_ADAPTER_TYPE\");if(p===\"DEFAULT_BITRATE\")return {min:u,max:h};if(h===void 0){var g;let f=Math.floor(200*Math.pow(l/15,.6)*Math.pow(c*d/640/360,.75));h=p===\"STANDARD_BITRATE\"?4*f:2*f,u=(g=u)!==null&&g!==void 0?g:f;}else {var E;u=(E=u)!==null&&E!==void 0?E:Math.floor(h/10);}return {min:u,max:h}}(e,n,i,o,r);this._encoderConfig.bitrateMin=a,this._encoderConfig.bitrateMax=s,_.debug(\"[\".concat(this.getTrackId(),\"] update bitrate from profile, [w: \").concat(e,\", h: \").concat(n,\", fps: \").concat(i,\"] => [brMax: \").concat(s,\", brMin: \").concat(a,\"]\"));}}getVideoElementVisibleStatus(){try{var e,n;let i=this==null||(e=this._player)===null||e===void 0?void 0:e.getContainerElement(),r={track:this,element:this==null||(n=this._player)===null||n===void 0?void 0:n.getVideoElement(),slot:i?.parentElement},{element:o,slot:s}=r;if(this.isPlaying&&o instanceof HTMLVideoElement&&s instanceof HTMLElement){let a=CO.checkOneElementVisible(o),c=Object.assign({},a);if(c.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=c.visible;let d=X.reportApiInvoke(null,{tag:Zt.TRACER,name:Te.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});c.visible?d.onSuccess(\"Video is visible\"):d.onSuccess(\"Invisible because of \".concat(c.reason));}return c}return}catch(i){throw new N(R.GET_VIDEO_ELEMENT_VISIBLE_ERROR,i.message)}}async renewMediaStreamTrack(e){}pipe(e){if(this.processor===e)return e;if(e._source)throw new N(R.INVALID_OPERATION,\"Processor \".concat(e.name,\" already piped, please call unpipe beforehand.\"));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),e}unpipe(){if(!this.processor)return;let e=this.processor;this.processor._source=void 0,this.processor=void 0,e.reset();}close(){super.close(),this.unbindProcessorDestinationEvents(),this.unbindProcessorContextEvents(),this.unpipe(),this.processorDestination._source&&this.processorDestination._source.unpipe();}clone(e){let n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=this._encoderConfig;e&&(i=Kt(Kt({},i),cr(e))),i=Vo(i);let r=Ut(8,\"track-video-cloned-\"),o=new $O(n?this._mediaStreamTrack.clone():this._mediaStreamTrack,i,Vo(this._scalabilityMode),this._optimizationMode,r,Vo(this._hints));return e&&i&&o.setEncoderConfiguration(i),_.debug(\"clone video track from \".concat(this.getTrackId(),\" to \").concat(r,\", clone \").concat(n)),o}async replaceTrack(e,n){if(!(e instanceof MediaStreamTrack))throw new N(R.INVALID_PARAMS,\"track should be an instance of MediaStreamTrack\");if(e.kind!==\"video\")throw new N(R.INVALID_PARAMS,\"track should be a video MediaStreamTrack\");await this._updateOriginMediaStreamTrack(e,n,!0),this.updateMediaStreamTrackResolution();}sendSeiData(e){if(po(()=>{X.reportApiInvoke(null,{name:Te.LOCAL_VIDEO_SEND_SEI_DATA,options:[],tag:Zt.TRACER}).onSuccess(\"\");},this._mediaStreamTrack.id||this.getTrackId()),!v(\"ENABLE_VIDEO_SEI\")||!v(\"ENABLE_ENCODED_TRANSFORM\"))return void _.warning('To send/receive SEI, please call AgoraRTC.setParameter(\"ENABLE_VIDEO_SEI\", true) before instantiate IAgoraRtcClient');if(e instanceof Uint8Array==0)return new N(R.INVALID_PARAMS,\"Invalid argument type, ILocalVideoTrack.sendSeiData() only accept Uint8Array argument.\").throw();let n=this.getRTCRtpTransceiver();if(!n)return void _.warning(\"Video track is not published, SEI can not be send\");let i=n.sender.getParameters();if(i.codecs.length===0)return;let r=i.codecs[0].mimeType.toLocaleLowerCase();r===\"video/h264\"?this.safeEmit(\"sei-to-send\",e):_.warning(\"SEI is not supported by \".concat(r));}bindProcessorDestinationEvents(){this.processorDestination.on(un.ON_TRACK,async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(),await kt(this,H.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await kt(this,H.NEED_REPLACE_TRACK,this));});}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(un.ON_TRACK);}unbindProcessorContextEvents(){this.processorContext.removeAllListeners(Wn.REQUEST_UPDATE_CONSTRAINTS),this.processorContext.removeAllListeners(Wn.REQUEST_CONSTRAINTS);}},Et(ht.prototype,\"play\",[iI,rI],Object.getOwnPropertyDescriptor(ht.prototype,\"play\"),ht.prototype),Et(ht.prototype,\"stop\",[oI],Object.getOwnPropertyDescriptor(ht.prototype,\"stop\"),ht.prototype),Et(ht.prototype,\"setEnabled\",[sI,aI,cI],Object.getOwnPropertyDescriptor(ht.prototype,\"setEnabled\"),ht.prototype),Et(ht.prototype,\"setMuted\",[dI,lI,uI],Object.getOwnPropertyDescriptor(ht.prototype,\"setMuted\"),ht.prototype),Et(ht.prototype,\"setEncoderConfiguration\",[hI,pI],Object.getOwnPropertyDescriptor(ht.prototype,\"setEncoderConfiguration\"),ht.prototype),Et(ht.prototype,\"getStats\",[_I],Object.getOwnPropertyDescriptor(ht.prototype,\"getStats\"),ht.prototype),Et(ht.prototype,\"setBeautyEffect\",[EI,mI],Object.getOwnPropertyDescriptor(ht.prototype,\"setBeautyEffect\"),ht.prototype),Et(ht.prototype,\"getCurrentFrameData\",[fI],Object.getOwnPropertyDescriptor(ht.prototype,\"getCurrentFrameData\"),ht.prototype),Et(ht.prototype,\"getCurrentFrameImage\",[gI],Object.getOwnPropertyDescriptor(ht.prototype,\"getCurrentFrameImage\"),ht.prototype),Et(ht.prototype,\"setBitrateLimit\",[TI],Object.getOwnPropertyDescriptor(ht.prototype,\"setBitrateLimit\"),ht.prototype),Et(ht.prototype,\"setOptimizationMode\",[SI],Object.getOwnPropertyDescriptor(ht.prototype,\"setOptimizationMode\"),ht.prototype),Et(ht.prototype,\"setScalabiltyMode\",[RI],Object.getOwnPropertyDescriptor(ht.prototype,\"setScalabiltyMode\"),ht.prototype),Et(ht.prototype,\"updateMediaStreamTrackResolution\",[CI],Object.getOwnPropertyDescriptor(ht.prototype,\"updateMediaStreamTrackResolution\"),ht.prototype),Et(ht.prototype,\"pipe\",[II],Object.getOwnPropertyDescriptor(ht.prototype,\"pipe\"),ht.prototype),Et(ht.prototype,\"unpipe\",[vI],Object.getOwnPropertyDescriptor(ht.prototype,\"unpipe\"),ht.prototype),Et(ht.prototype,\"close\",[yI],Object.getOwnPropertyDescriptor(ht.prototype,\"close\"),ht.prototype),Et(ht.prototype,\"replaceTrack\",[AI],Object.getOwnPropertyDescriptor(ht.prototype,\"replaceTrack\"),ht.prototype),ht),XE=(bI=$({argsMap:(t,e)=>[t.getTrackId(),e]}),wI=se(),OI=$s(\"CameraVideoTrack\",\"_enabledMutex\"),NI=$({argsMap:(t,e)=>[t.getTrackId(),e]}),DI=se(),PI=$({argsMap:(t,e)=>[t.getTrackId(),e]}),kI=se(),LI=$({argsMap:t=>[t.getTrackId()]}),Ln=class t0 extends Ft{get __className__(){return \"CameraVideoTrack\"}constructor(e,n,i,r,o,s){super(e,cr(n.encoderConfig),r,o,s),P(this,\"_config\",void 0),P(this,\"_originalConstraints\",void 0),P(this,\"_constraints\",void 0),P(this,\"_enabled\",!0),P(this,\"_deviceName\",\"default\"),P(this,\"tryResumeVideoForIOS15_16WeChat\",async()=>{(Zs()||NE())&&!function(){let a=mt();if(a.os!==ye.IOS||!a.osVersion)return !1;let c=a.osVersion.split(\".\");return Number(c[0])===15&&Number(c[1])>=2}()&&TO()&&this._enabled&&!this._isClosed&&(_.debug(\"[\".concat(this.getTrackId(),\"] try capture camera media device for interrupted iOS 15 device on WeChat.\")),await this.renewMediaStreamTrack());}),this._config=n,this._originalConstraints=i,this._constraints=i,this._deviceName=e.label,this._encoderConfig=cr(this._config.encoderConfig),wt.on(ke.IOS_15_16_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),wt.on(ke.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),this.bindProcessorContextEvents();}async setDevice(e){return typeof e==\"string\"?this._setDeviceById(e):e.deviceId?this._setDeviceById(e.deviceId):e.facingMode?this._setDeviceByFacingModel(e.facingMode):void 0}async _setDeviceById(e){if(_.info(\"[\".concat(this.getTrackId(),\"] set device to \").concat(e)),this._enabled)try{let n=await Gn.getDeviceById(e),i={};i.video=Kt({},this._constraints),i.video.deviceId={exact:e},i.video.facingMode=void 0,this._originMediaStreamTrack.stop();let r=null;try{r=await Fn(i,this.getTrackId());}catch(o){throw _.error(\"[\".concat(this.getTrackId(),\"] setDevice failed\"),o.toString()),r=await Fn({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(r.getVideoTracks()[0],!1),o}await this._updateOriginMediaStreamTrack(r.getVideoTracks()[0],!1),this.updateMediaStreamTrackResolution(),this._deviceName=n.label,this._config.cameraId=e,this._constraints.deviceId={exact:e};}catch(n){throw _.error(\"[\".concat(this.getTrackId(),\"] setDevice error\"),n.toString()),n}else try{let n=await Gn.getDeviceById(e);this._deviceName=n.label,this._config.cameraId=e,this._constraints.deviceId={exact:e};}catch(n){throw _.error(\"[\".concat(this.getTrackId(),\"] setDevice error\"),n.toString()),n}_.info(\"[\".concat(this.getTrackId(),\"] setDevice success\"));}async _setDeviceByFacingModel(e){_.info(\"[\".concat(this.getTrackId(),\"] set facingMode \").concat(e));let n={video:Kt(Kt({},this._constraints),{},{deviceId:void 0,facingMode:{exact:e}})};if(this._enabled){this._originMediaStreamTrack.stop();let i=null;try{i=await Fn(n,this.getTrackId());}catch(r){throw _.error(\"[\".concat(this.getTrackId(),\"] setDeviceByFacingModel failed\"),r.toString()),i=await Fn({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(i.getVideoTracks()[0],!1),r}await this._updateOriginMediaStreamTrack(i.getVideoTracks()[0],!1),this.updateMediaStreamTrackResolution();}this._deviceName=\"\",this._config.facingMode=e,this._config.cameraId=void 0,this._constraints=Kt({},n.video),_.info(\"[\".concat(this.getTrackId(),\"] setDeviceByFacingModel success\"));}async setEnabled(e,n){if(!n){if(e===this._enabled)return;this.stateCheck(\"enabled\",e);}if(_.info(\"[\".concat(this.getTrackId(),\"] start setEnabled\"),e),e){try{if(this.isExternalTrack)this._originMediaStreamTrack.enabled=!0;else {let i=await Fn({video:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(i.getVideoTracks()[0],!1);}await kt(this,H.NEED_ENABLE_TRACK,this);}catch(i){throw _.error(\"[\".concat(this.getTrackId(),\"] setEnabled true error\"),i.toString()),i}this.updateMediaStreamTrackResolution(),_.info(\"[\".concat(this.getTrackId(),\"] setEnabled to true success\")),n||(this._enabled=!0);}else {this.isExternalTrack?this._originMediaStreamTrack.enabled=!1:(this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop()),n||(this._enabled=!1);try{await kt(this,H.NEED_DISABLE_TRACK,this);}catch(i){throw _.error(\"[\".concat(this.getTrackId(),\"] setEnabled to false error\"),i.toString()),i}_.info(\"[\".concat(this.getTrackId(),\"] setEnabled to false success\"));}}async setEncoderConfiguration(e,n){if(!this._enabled)throw new N(R.TRACK_IS_DISABLED,\"can not set encoder configuration when track is disabled\");e=cr(e),this._forceBitrateLimit&&(e.bitrateMax=this._forceBitrateLimit.max_bitrate||e.bitrateMax,e.bitrateMin=this._forceBitrateLimit.min_bitrate||e.bitrateMin);let i=le(this._config);i.encoderConfig=e;let r=ru(i);(je()||ln()||vi())&&(r.deviceId=void 0),_.debug(\"[\".concat(this.getTrackId(),\"] setEncoderConfiguration applyConstraints\"),JSON.stringify(e),JSON.stringify(r));try{await this._originMediaStreamTrack.applyConstraints(r),this.updateMediaStreamTrackResolution();}catch(o){let s=new N(R.UNEXPECTED_ERROR,o.toString());throw _.error(\"[\".concat(this.getTrackId(),\"] applyConstraints error\"),s.toString()),s}this._config=i,this._constraints=r,this._originalConstraints=r,this._encoderConfig=e,this._hints.indexOf(Gt.SCREEN_TRACK)===-1&&this.updateBitrateFromProfile();try{await kt(this,H.NEED_UPDATE_VIDEO_ENCODER,this);}catch(o){return o.throw(_)}}_getDefaultPlayerConfig(){return {mirror:!0,fit:\"cover\"}}onTrackEnded(){if((ln()||vi())&&this._enabled&&!this._isClosed&&wt.duringInterruption){let e=async()=>{wt.off(ke.IOS_INTERRUPTION_END,e),this._enabled&&!this._isClosed&&(_.debug(\"[\".concat(this.getTrackId(),\"] try capture camera media device for interrupted iOS device.\")),await this.setEnabled(!1),await this.setEnabled(!0));};wt.on(ke.IOS_INTERRUPTION_END,e);}else _.debug(\"[\".concat(this.getTrackId(),\"] track ended\")),this.safeEmit(ma.TRACK_ENDED);}async renewMediaStreamTrack(e){let n=e||this._constraints,i=Gn.searchDeviceIdByName(this._deviceName);if(i&&!n.deviceId&&(n.deviceId={exact:i}),this._enabled){let r=await Fn({video:n},this.getTrackId());this._constraints=n,await this._updateOriginMediaStreamTrack(r.getVideoTracks()[0],!0),this.updateMediaStreamTrackResolution();}}close(){super.close(),wt.off(ke.IOS_15_16_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),wt.off(ke.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat);}clone(e){let n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=this._encoderConfig;e&&(i=Kt(Kt({},i),cr(e))),i=Vo(i);let r=Ut(8,\"track-cam-cloned-\"),o=new t0(n?this._mediaStreamTrack.clone():this._mediaStreamTrack,Vo(Kt(Kt({},this._config),{},{encoderConfig:i})),Vo(this._constraints),Vo(this._scalabilityMode),this._optimizationMode,r);return e&&i&&o.setEncoderConfiguration(i),_.debug(\"clone track from \".concat(this.getTrackId(),\" to \").concat(r,\", clone \").concat(n)),o}bindProcessorContextEvents(){this.processorContext.on(Wn.REQUEST_UPDATE_CONSTRAINTS,async(e,n,i)=>{try{let r=Object.assign({},this._originalConstraints,...e);await this.renewMediaStreamTrack(r),n();}catch(r){i(r);}}),this.processorContext.on(Wn.REQUEST_CONSTRAINTS,async e=>{e(this._originMediaStreamTrack.getSettings());});}},Et(Ln.prototype,\"setDevice\",[bI,wI],Object.getOwnPropertyDescriptor(Ln.prototype,\"setDevice\"),Ln.prototype),Et(Ln.prototype,\"setEnabled\",[OI,NI,DI],Object.getOwnPropertyDescriptor(Ln.prototype,\"setEnabled\"),Ln.prototype),Et(Ln.prototype,\"setEncoderConfiguration\",[PI,kI],Object.getOwnPropertyDescriptor(Ln.prototype,\"setEncoderConfiguration\"),Ln.prototype),Et(Ln.prototype,\"close\",[LI],Object.getOwnPropertyDescriptor(Ln.prototype,\"close\"),Ln.prototype),Ln);function c_(t,e,n,i){n.optimizationMode&&(i&&i.width&&i.height?(n.encoderConfig=Kt(Kt({},i),{},{bitrateMin:i.bitrateMin,bitrateMax:i.bitrateMax}),n.optimizationMode!==\"motion\"&&n.optimizationMode!==\"detail\"||(e.contentHint=n.optimizationMode,e.contentHint===n.optimizationMode?_.debug(\"[\".concat(t,\"] set content hint to\"),n.optimizationMode):_.debug(\"[\".concat(t,\"] set content hint failed\")))):_.warning(\"[\".concat(t,\"] can not apply optimization mode bitrate config, no encoderConfig\")));}var MI,UI,xI,VI,zn,FI,BI,jI,GI,WI,HI,$e,au=class extends Xl{getUserId(){return this._userId}constructor(e,n,i,r){super(e,\"track-\".concat(e.kind,\"-\").concat(n,\"-\").concat(r.clientId,\"_\").concat(Ut(5,\"\"))),P(this,\"_userId\",void 0),P(this,\"_uintId\",void 0),P(this,\"_isDestroyed\",!1),P(this,\"store\",void 0),P(this,\"processor\",void 0),P(this,\"processorContext\",void 0),this._userId=n,this._uintId=i,this.store=r;}_updateOriginMediaStreamTrack(e){this._originMediaStreamTrack=e,this._mediaStreamTrack=e,this._updatePlayerSource(),this.processor&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this.processorContext});}_destroy(){this._isDestroyed=!0,_.info(\"[\".concat(this.getTrackId(),\"] is destroyed\")),this.stop(),super.close();}getProcessorStats(){return this.processorContext.gatherStats()}getProcessorUsage(){return this.processorContext.gatherUsage()}},Hs=(MI=$({argsMap:(t,e,n)=>[t.getTrackId(),typeof e==\"string\"?e:e instanceof HTMLVideoElement?\"HTMLVideoElement\":\"HTMLElement\",n]}),UI=$({argsMap:t=>[t.getTrackId()]}),xI=$({argsMap:(t,e)=>[t.getTrackId(),e.name]}),VI=$({argsMap:t=>[t.getTrackId()]}),Et((zn=class extends au{get isPlaying(){return !(!this._player||this._player.videoElementStatus!==nn.PLAYING)}get __className__(){return \"RemoteVideoTrack\"}constructor(t,e,n,i){super(t,e,n,i),P(this,\"_videoVisibleTimer\",null),P(this,\"_previousVideoVisibleStatus\",void 0),P(this,\"_clearPreviousVideoVisibleStatus\",()=>this._previousVideoVisibleStatus=void 0),P(this,\"trackMediaType\",fa.VIDEO),P(this,\"_videoWidth\",void 0),P(this,\"_videoHeight\",void 0),P(this,\"_player\",void 0),P(this,\"processorDestination\",void 0),P(this,\"processorContext\",void 0),this.updateMediaStreamTrackResolution(),this.processorContext=new eu(this.getTrackId(),\"remote\"),this.processorDestination=new tu(this.processorContext),this.bindProcessorDestinationEvents();}getStats(){return po(()=>{_.warning(\"[deprecated] RemoteVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteVideoStats instead\");},\"remoteVideoTrackGetStatsWarning\"),ni(this,H.GET_STATS)||Kt({},WO)}play(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t==\"string\"){let i=document.getElementById(t);i?t=i:(_.warning(\"[\".concat(this.getTrackId(),'] can not find \"#').concat(t,'\" element, use document.body')),t=document.body);}_.debug(\"[\".concat(this.getTrackId(),\"] start video playback in \").concat(t instanceof HTMLVideoElement?\"HTMLVideoElement\":\"HTMLElement\"),JSON.stringify(e));let n=Kt(Kt({fit:\"cover\"},e),{},{trackId:this.getTrackId(),element:t});this._player?this._player.updateConfig(n):(t instanceof HTMLVideoElement?this._player=new kc(n):this._player=new su(n),this._player.updateVideoTrack(this._mediaStreamTrack),this._player.onFirstVideoFrameDecoded=()=>{this.store.subscribe(this.getUserId(),\"video\",void 0,void 0,Date.now()),this.safeEmit(Ws.FIRST_FRAME_DECODED);},this._player.onVideoStateChanged=i=>{this.safeEmit(Ws.VIDEO_STATE_CHANGED,i);}),this._player.play(this.store.sessionId||void 0),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval(()=>{try{let i=this.getVideoElementVisibleStatus();this.safeEmit(Ws.VIDEO_ELEMENT_VISIBLE_STATUS,i);}catch{}},v(\"CHECK_VIDEO_VISIBLE_INTERVAL\"));}stop(){this._player&&(this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,_.debug(\"[\".concat(this.getTrackId(),\"] stop video playback\")));}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}updateMediaStreamTrackResolution(){XO(this._originMediaStreamTrack).then(t=>{let[e,n]=t;this._videoHeight=n,this._videoWidth=e;}).catch(zu);}_updatePlayerSource(){_.debug(\"[\".concat(this.getTrackId(),\"] update player source track\")),this._player&&this._player.updateVideoTrack(this._mediaStreamTrack);}getVideoElementVisibleStatus(){try{var t,e;let n=this==null||(t=this._player)===null||t===void 0?void 0:t.getContainerElement(),i={track:this,element:this==null||(e=this._player)===null||e===void 0?void 0:e.getVideoElement(),slot:n?.parentElement},{element:r,slot:o}=i;if(this.isPlaying&&r instanceof HTMLVideoElement&&o instanceof HTMLElement){let s=CO.checkOneElementVisible(r),a=Object.assign({},s);if(a.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=a.visible;let c=X.reportApiInvoke(null,{tag:Zt.TRACER,name:Te.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});a.visible?c.onSuccess(\"Video is visible\"):c.onSuccess(\"Invisible because of \".concat(a.reason));}return a}return}catch(n){throw new N(R.GET_VIDEO_ELEMENT_VISIBLE_ERROR,n.message)}}pipe(t){if(this.processor===t)return t;if(t._source)throw new N(R.INVALID_OPERATION,\"Processor \".concat(t.name,\" already piped, please call unpipe beforehand.\"));return this.unpipe(),this.processor=t,this.processor._source=this,t.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),t}unpipe(){if(!this.processor)return;let t=this.processor;this.processor._source=void 0,this.processor=void 0,t.reset();}bindProcessorDestinationEvents(){this.processorDestination.on(un.ON_TRACK,async t=>{t?t!==this._mediaStreamTrack&&(this._mediaStreamTrack=t,this._updatePlayerSource()):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource());});}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(un.ON_TRACK);}_destroy(){super._destroy(),this.unbindProcessorDestinationEvents();}_onSei(t){this.emit(Ko.SEI_RECEIVED,t);}}).prototype,\"play\",[MI],Object.getOwnPropertyDescriptor(zn.prototype,\"play\"),zn.prototype),Et(zn.prototype,\"stop\",[UI],Object.getOwnPropertyDescriptor(zn.prototype,\"stop\"),zn.prototype),Et(zn.prototype,\"pipe\",[xI],Object.getOwnPropertyDescriptor(zn.prototype,\"pipe\"),zn.prototype),Et(zn.prototype,\"unpipe\",[VI],Object.getOwnPropertyDescriptor(zn.prototype,\"unpipe\"),zn.prototype),zn),Ks=(FI=$({argsMap:(t,e)=>[t.getTrackId(),e],throttleTime:300}),BI=$({argsMap:(t,e)=>[t.getTrackId(),e]}),jI=$({argsMap:t=>[t.getTrackId()]}),GI=$({argsMap:t=>[t.getTrackId()]}),WI=$({argsMap:(t,e)=>[t.getTrackId(),e.name]}),HI=$({argsMap:t=>[t.getTrackId()]}),Et(($e=class extends au{get isPlaying(){return this._useAudioElement?En.isPlaying(this.getTrackId()):this._source.isPlayed}get __className__(){return \"RemoteAudioTrack\"}constructor(t,e,n,i){super(t,e,n,i),P(this,\"trackMediaType\",fa.AUDIO),P(this,\"_source\",void 0),P(this,\"_useAudioElement\",!0),P(this,\"_volume\",100),P(this,\"processorContext\",void 0),P(this,\"processorDestination\",void 0),P(this,\"_played\",!1),P(this,\"_bypassWebAudio\",!1),v(\"DISABLE_WEBAUDIO\")?(this._source=new Pc,this._bypassWebAudio=!0,this._useAudioElement=!0):(this._source=new $l(t,!0),v(\"REMOTE_AUDIO_TRACK_USES_WEB_AUDIO\")&&(this._useAudioElement=!1)),this._source.once(jn.RECEIVE_TRACK_BUFFER,()=>{this.safeEmit(Ws.FIRST_FRAME_DECODED);}),this.processorContext=new iu(this._source.context,this.getTrackId(),\"remote\"),this.processorDestination=new nu(this.processorContext),this.bindProcessorDestinationEvents(),this._source.on(jn.UPDATE_SOURCE,()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:this.processorContext});});}setAudioFrameCallback(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4096;if(!t)return this._source.removeAllListeners(jn.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(e),this._source.removeAllListeners(jn.ON_AUDIO_BUFFER),this._source.on(jn.ON_AUDIO_BUFFER,n=>t(n));}setVolume(t){this._volume=t,this._useAudioElement?En.setVolume(this.getTrackId(),t):this._source.setVolume(t/100);}async setPlaybackDevice(t){if(!this._useAudioElement||!jO())throw new N(R.NOT_SUPPORTED,\"your browser does not support setting the audio output device\");await En.setSinkID(this.getTrackId(),t);}getVolumeLevel(){return this._source.getAccurateVolumeLevel()}getStats(){return po(()=>{_.warning(\"[deprecated] RemoteAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteAudioStats instead\");},\"remoteAudioTrackGetStatsWarning\"),ni(this,H.GET_STATS)||Kt({},GO)}play(){_.debug(\"[\".concat(this.getTrackId(),\"] start audio playback\")),this._played=!0,this._useAudioElement?(_.debug(\"[\".concat(this.getTrackId(),\"] use audio element to play\")),En.play(this._mediaStreamTrack,this.getTrackId(),this._volume,this.store.sessionId||void 0)):this._source.play();}stop(){_.debug(\"[\".concat(this.getTrackId(),\"] stop audio playback\")),this._played=!1,this._useAudioElement?En.stop(this.getTrackId()):this._source.stop();}_destroy(){super._destroy(),this._played=!1,this.unbindProcessorDestinationEvents(),this._source.destroy();}_isFreeze(){return this._source.isFreeze}_updatePlayerSource(){let t=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];_.debug(\"[\".concat(this.getTrackId(),\"] update player source track\")),t&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&En.updateTrack(this.getTrackId(),this._mediaStreamTrack);}pipe(t){if(this._bypassWebAudio)throw new N(R.NOT_SUPPORTED,\"can not pipe extension when WebAudio disabled\");if(this.processor===t)return t;if(t._source)throw new N(R.INVALID_OPERATION,\"Processor \".concat(t.name,\" already piped, please call unpipe beforehand.\"));return this.unpipe(),this.processor=t,this.processor._source=this,t.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),t}unpipe(){var t;if(this._bypassWebAudio)throw new N(R.NOT_SUPPORTED,\"can not unpipe extension when WebAudio disabled\");if(!this.processor)return;let e=this.processor;(t=this._source.processSourceNode)===null||t===void 0||t.disconnect(),this.processor._source=!1,this.processor=void 0,e.reset();}bindProcessorDestinationEvents(){this.processorDestination.on(un.ON_TRACK,async t=>{t?t!==this._mediaStreamTrack&&(this._mediaStreamTrack=t,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(t)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource());}),this.processorDestination.on(un.ON_NODE,t=>{this._source.processedNode=t;let e=!t;this._useAudioElement!==e&&(this._played?(this.stop(),this._useAudioElement=e,this.play()):this._useAudioElement=e);});}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(un.ON_TRACK),this.processorDestination.removeAllListeners(un.ON_NODE);}}).prototype,\"setVolume\",[FI],Object.getOwnPropertyDescriptor($e.prototype,\"setVolume\"),$e.prototype),Et($e.prototype,\"setPlaybackDevice\",[BI],Object.getOwnPropertyDescriptor($e.prototype,\"setPlaybackDevice\"),$e.prototype),Et($e.prototype,\"play\",[jI],Object.getOwnPropertyDescriptor($e.prototype,\"play\"),$e.prototype),Et($e.prototype,\"stop\",[GI],Object.getOwnPropertyDescriptor($e.prototype,\"stop\"),$e.prototype),Et($e.prototype,\"pipe\",[WI],Object.getOwnPropertyDescriptor($e.prototype,\"pipe\"),$e.prototype),Et($e.prototype,\"unpipe\",[HI],Object.getOwnPropertyDescriptor($e.prototype,\"unpipe\"),$e.prototype),$e),yr=new class extends Xt{get visibility(){return document.visibilityState}get lastHiddenTime(){return this._lastHiddenTime}get lastVisibleTime(){return this._lastVisibleTime}constructor(){super(),P(this,\"_lastHiddenTime\",0),P(this,\"_lastVisibleTime\",0),document.addEventListener(\"visibilitychange\",()=>{document.visibilityState===\"hidden\"?this._lastHiddenTime=performance.now():this._lastVisibleTime=performance.now(),_.debug(\"document visibility went \".concat(document.visibilityState)),this.emit(\"VISIBILITY_CHANGE\",document.visibilityState);});}},cu=class extends Xt{constructor(e,n){super(),P(this,\"trackMediaType\",fa.DATA),P(this,\"_version\",1),P(this,\"_type\",3),P(this,\"_config\",void 0),P(this,\"_originDataChannel\",void 0),P(this,\"_dataStreamPacketHeader\",new ArrayBuffer(4)),P(this,\"_dataStreamPacketHandler\",{serialize:i=>i,deserialize:i=>i}),P(this,\"_datachannelEventMap\",new Map),this._config=e,n&&(this._originDataChannel=n,this._bandDataChannelEvents(n)),this._initPacketHeader();}useDataStream(e){this._dataStreamPacketHandler=e;}get id(){return this._config.id}get ordered(){return this._config.ordered}get maxRetransmits(){return v(\"DATASTREAM_MAX_RETRANSMITS\")}get metadata(){return this._config.metadata}get readyState(){var e,n;return (e=(n=this._originDataChannel)===null||n===void 0?void 0:n.readyState)!==null&&e!==void 0?e:\"connecting\"}get _originDataChannelId(){var e,n;return (e=(n=this._originDataChannel)===null||n===void 0?void 0:n.id)!==null&&e!==void 0?e:null}getChannelId(){return this.id}getConfig(){return this._config}_close(){this._originDataChannel&&(this._unbindDataChannelEvents(this._originDataChannel),this._originDataChannel=void 0);}async _waitTillOpen(){return new j((e,n)=>{if(this._originDataChannel){this._originDataChannel.readyState===\"open\"&&e();let i=setTimeout(()=>{var r;n(new N(R.DATACHANNEL_CONNECTION_TIMEOUT,\"Cannot create datachannel, id: \".concat((r=this._originDataChannel)===null||r===void 0?void 0:r.id)));},1e4);this._originDataChannel.onopen=()=>{clearTimeout(i),this._originDataChannel&&this._bandDataChannelEvents(this._originDataChannel),e();},this._originDataChannel.onerror=()=>{throw clearTimeout(i),new N(R.DATACHANNEL_CONNECTION_TIMEOUT)};}else n(new N(R.DATACHANNEL_CONNECTION_TIMEOUT,\"cannot find dataChannel\"));})}_updateOriginDataChannel(e){this._originDataChannel=e,this._bandDataChannelEvents(e);}_initPacketHeader(){let e=new DataView(this._dataStreamPacketHeader);e.setUint16(0,this._version),e.setUint8(2,this._type),e.setUint8(3,this._config.id);}_bandDataChannelEvents(e){this._unbindDataChannelEvents(e),[Cl.OPEN,Cl.CLOSE,Cl.ERROR].forEach(n=>{let i=()=>{this.emit(n);};this._datachannelEventMap.set(n,i),e.addEventListener(n,i);});}_unbindDataChannelEvents(e){Array.from(this._datachannelEventMap.entries()).forEach(n=>{let[i,r]=n;e.removeEventListener(i,r);}),this._datachannelEventMap.clear();}},QE=class extends cu{constructor(e){super(e),P(this,\"_messageListener\",void 0),this._messageListener=n=>{if(n.data.byteLength<this._dataStreamPacketHeader.byteLength)throw Error(\"invalid byteLength: the byte length must exceed \"+this._dataStreamPacketHeader.byteLength);let i=n.data.slice(0,this._dataStreamPacketHeader.byteLength),r=new DataView(i).getUint8(3);if(r!==this.id)return void(v(\"SHOW_DATASTREAM2_LOG\")&&_.debug(\"invalid datachannel id: \".concat(r,\" !== \").concat(this.id)));let o=n.data.slice(this._dataStreamPacketHeader.byteLength);o=this._dataStreamPacketHandler.deserialize(o),this.emit(Cl.MESSAGE,o);};}_updateOriginDataChannel(e){super._updateOriginDataChannel(e),this._bandRemoteDataChannelEvents();}_close(){this._originDataChannel&&(this._originDataChannel.removeEventListener(\"message\",this._messageListener),super._close());}_bandRemoteDataChannelEvents(){this._originDataChannel&&this._originDataChannel.addEventListener(\"message\",this._messageListener);}},ZE=class extends cu{send(e){if(this._originDataChannel){let n=e;n=this._dataStreamPacketHandler.serialize(e);let i=new Uint8Array(this._dataStreamPacketHeader.byteLength+n.byteLength);i.set(new Uint8Array(this._dataStreamPacketHeader),0),i.set(new Uint8Array(n),this._dataStreamPacketHeader.byteLength),this._originDataChannel.send(i.buffer);}}};function vl(){let t=new Blob([atob(\"ZnVuY3Rpb24gZShlLHQsbil7bGV0IHI9bmV3IFVpbnQ4QXJyYXkoZSx0LG4pLGE9W10sbz0wO2Zvcig7YS5sZW5ndGg8bjspbyszPG4mJjA9PT1yW29dJiYwPT09cltvKzFdJiYzPT09cltvKzJdJiYoMD09PXJbbyszXXx8MT09PXJbbyszXXx8Mj09PXJbbyszXXx8Mz09PXJbbyszXSk/KGEucHVzaChyW29dLHJbbysxXSxyW28rM10pLG8rPTQpOihhLnB1c2gocltvXSksbysrKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYSl9ZnVuY3Rpb24gdChlLHQpe2NvbnN0IG49ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLmxlbmd0aDtsZXQgbj1bXSxyPTA7Zm9yKDtyPHQ7KXIrMjx0JiYwPT09ZVtyXSYmMD09PWVbcisxXSYmKDA9PT1lW3IrMl18fDE9PT1lW3IrMl18fDI9PT1lW3IrMl18fDM9PT1lW3IrMl0pPyhuLnB1c2goZVtyXSxlW3IrMV0sMyxlW3IrMl0pLHIrPTMpOihuLnB1c2goZVtyXSkscisrKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkobil9KHQpLHI9bi5sZW5ndGgsYT1NYXRoLmZsb29yKHIvMjU1KSxvPXIlMjU1LHM9bmV3IFVpbnQ4QXJyYXkoNithKzErcitlLmJ5dGVMZW5ndGgpO3NbMF09MCxzWzFdPTAsc1syXT0wLHNbM109MSxzWzRdPTYsc1s1XT0xMDE7bGV0IGk9MDtmb3IoO2k8YTspc1s2K2ldPTI1NSxpKys7cmV0dXJuIHNbNitpXT1vLGkrKyxzLnNldChuLDYraSkscy5zZXQobmV3IFVpbnQ4QXJyYXkoZSksNitpK3IpLHMuYnVmZmVyfW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiU2FmYXJpIik+LTEmJi0xPT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJDaHJvbWUiKSYmKHNlbGYub25ydGN0cmFuc2Zvcm09bj0+e2NvbnN0IHI9bi50cmFuc2Zvcm1lcjtsZXQgYT1bXTtyLm9wdGlvbnMucG9ydC5vbm1lc3NhZ2U9ZT0+e2UuZGF0YS5zZWkmJmEucHVzaChlLmRhdGEuc2VpKX0sc2VsZi5wb3N0TWVzc2FnZSgic3RhcnRlZCIpO2NvbnN0IG89ci5yZWFkYWJsZS5nZXRSZWFkZXIoKSxzPXIud3JpdGFibGUuZ2V0V3JpdGVyKCk7InJ4Ij09PXIub3B0aW9ucy5uYW1lP2Z1bmN0aW9uIHQobil7by5yZWFkKCkudGhlbigocj0+e2lmKCFyLmRvbmUpe2lmKHIudmFsdWUgaW5zdGFuY2VvZiBSVENFbmNvZGVkVmlkZW9GcmFtZSl7Y29uc3QgdD1mdW5jdGlvbih0KXtjb25zdCBuPW5ldyBEYXRhVmlldyh0LmRhdGEpO2xldCByPTA7Zm9yKDtyKzQ8dC5kYXRhLmJ5dGVMZW5ndGg7KXtpZigwPT09bi5nZXRVaW50OChyKzApJiYwPT09bi5nZXRVaW50OChyKzEpJiYwPT09bi5nZXRVaW50OChyKzIpJiYxPT09bi5nZXRVaW50OChyKzMpJiY2PT09bi5nZXRVaW50OChyKzQpKXtsZXQgYT1yKzYsbz0wLHM9MDtmb3IoOzI1NT09PShzPW4uZ2V0VWludDgoYSsrKSk7KW8rPTI1NTtvKz1zO2NvbnN0IGk9ZSh0LmRhdGEsYSxvKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoaSl9cisrfXJldHVybiBudWxsfShyLnZhbHVlKTt0JiZuLm9wdGlvbnMucG9ydC5wb3N0TWVzc2FnZSh7c2VpOnR9KX1zLndyaXRlKHIudmFsdWUpLG4ub3B0aW9ucy5wb3J0LnBvc3RNZXNzYWdlKHt0cmFuc2Zvcm1lZDohMH0pLHQobil9fSkpfShyKToidHgiPT09ci5vcHRpb25zLm5hbWUmJmZ1bmN0aW9uIGUobil7by5yZWFkKCkudGhlbigocj0+e2lmKCFyLmRvbmUpe2lmKHIudmFsdWUgaW5zdGFuY2VvZiBSVENFbmNvZGVkVmlkZW9GcmFtZSl7Y29uc3QgZT1hLnNoaWZ0KCk7ZSYmKHIudmFsdWUuZGF0YT10KHIudmFsdWUuZGF0YSxlKSl9cy53cml0ZShyLnZhbHVlKSxuLm9wdGlvbnMucG9ydC5wb3N0TWVzc2FnZSh7dHJhbnNmb3JtZWQ6ITB9KSxlKG4pfX0pKX0ocil9LHNlbGYucG9zdE1lc3NhZ2UoInJlZ2lzdGVyZWQiKSk7Cg==\")],{type:\"text/javascript\"});return setTimeout(()=>hC.revokeObjectURL(t),0),new Worker(hC.createObjectURL(t))}var Bd=new Map,jd=new Map;function FG(t,e,n){let i=new Uint8Array(t,e,n),r=[],o=0;for(;r.length<n;)o+3<n&&i[o]===0&&i[o+1]===0&&i[o+2]===3&&(i[o+3]===0||i[o+3]===1||i[o+3]===2||i[o+3]===3)?(r.push(i[o],i[o+1],i[o+3]),o+=4):(r.push(i[o]),o++);return new Uint8Array(r)}var Gd=new Map;async function BG(t,e){if(!ft().supportWebRTCEncodedTransform)return void _.warning(\"browser not support video encoded transform\");if(Gd.has(t)||!t.track)return;let n={track:t.track};if(oo()){if(!t.createEncodedStreams)return void _.warning(\"browser not support createEncodedStreams() API\");let r=null;try{r=t.createEncodedStreams();}catch(a){return void _.error(\"create video-encoded-streams error\",a&&a.message)}let o=[];e.on(\"sei-to-send\",a=>{o.push(a);});let s=new TransformStream({transform(a,c){n.controller||(n.controller=c),t.track&&t.track.id!==n.track.id&&(_.debug(\"video track changed: \".concat(n.track.id,\" => \").concat(t.track.id)),n.track.removeEventListener(\"ended\",i),n.track=t.track,n.track.addEventListener(\"ended\",i));let d=o.shift();d&&(a.data=function(l,u){let h=function(C){let A=C.length,b=[],w=0;for(;w<A;)w+2<A&&C[w]===0&&C[w+1]===0&&(C[w+2]===0||C[w+2]===1||C[w+2]===2||C[w+2]===3)?(b.push(C[w],C[w+1],3,C[w+2]),w+=3):(b.push(C[w]),w++);return new Uint8Array(b)}(u),p=h.length,g=Math.floor(p/255),E=p%255,f=new Uint8Array(6+g+1+p+l.byteLength);f[0]=0,f[1]=0,f[2]=0,f[3]=1,f[4]=6,f[5]=101;let S=0;for(;S<g;)f[6+S]=255,S++;return f[6+S]=E,S++,f.set(h,6+S),f.set(new Uint8Array(l),6+S+p),f.buffer}(a.data,d)),c.enqueue(a);}});r.readable.pipeThrough(s).pipeTo(r.writable);}else {if(!je())return;{if(typeof RTCRtpScriptTransform>\"u\")return void _.warning(\"browser not support RTCRtpScriptTransform\");let r=vl(),o=new MessageChannel;await new j(a=>r.onmessage=c=>{c.data===\"registered\"&&a(void 0);});let s=new RTCRtpScriptTransform(r,{name:\"tx\",port:o.port2},[o.port2]);t.transform=s,await new j(a=>r.onmessage=c=>{c.data===\"started\"&&a(void 0);}),e.on(\"sei-to-send\",a=>{o.port1.postMessage({sei:a});}),o.port1.onmessage=a=>{var c;a.data.transformed&&t.track&&((c=t.track)===null||c===void 0?void 0:c.id)!==n.track.id&&(_.debug(\"video track changed: \".concat(n.track.id,\" => \").concat(t.track.id)),n.track.removeEventListener(\"ended\",i),n.track=t.track,n.track.addEventListener(\"ended\",i));},n.worker=r;}}function i(){if(t.track){if(this.id!==t.track.id)return;t.track.removeEventListener(\"ended\",i);}let r=Gd.get(t);if(r){Gd.delete(t);try{var o,s;(o=r.controller)===null||o===void 0||o.terminate(),(s=r.worker)===null||s===void 0||s.terminate();}catch(a){_.warning(a&&a.message);}}}Gd.set(t,n),t.track.addEventListener(\"ended\",i);}var xa=new Map;(function(){let t=mt();Ne.getDisplayMedia=!(!navigator.mediaDevices||!navigator.mediaDevices.getDisplayMedia),Ne.getStreamFromExtension=t.name===It.CHROME&&Number(t.version)>34,Ne.supportUnifiedPlan=function(){if(!window.RTCRtpTransceiver||!(\"currentDirection\"in RTCRtpTransceiver.prototype))return !1;let e=new RTCPeerConnection,n=!1;try{e.addTransceiver(\"audio\"),n=!0;}catch{}return e.close(),n}(),Ne.supportMinBitrate=t.name===It.CHROME||t.name===It.EDGE,Ne.supportSetRtpSenderParameters=function(){let e=mt();return !!(window.RTCRtpSender&&window.RTCRtpSender.prototype.setParameters&&window.RTCRtpSender.prototype.getParameters)&&(!!ho()||!(!je()&&!Gl())||e.name===It.FIREFOX&&Number(e.version)>=64)}(),t.name===It.SAFARI&&(Number(t.version)>=14?Ne.supportDualStream=!0:Ne.supportDualStream=!1),Ne.webAudioMediaStreamDest=function(){let e=mt();return !(e.name===It.SAFARI&&Number(e.version)<12)}(),Ne.supportReplaceTrack=!!window.RTCRtpSender&&typeof RTCRtpSender.prototype.replaceTrack==\"function\",Ne.supportWebGL=typeof WebGLRenderingContext<\"u\",Ne.supportRequestFrame=!!window.CanvasCaptureMediaStreamTrack,ho()||(Ne.webAudioWithAEC=!0),Ne.supportShareAudio=function(){let e=mt();return (e.os===ye.WIN_10||e.os===ye.WIN_81||e.os===ye.WIN_7||e.os===ye.LINUX||e.os===ye.MAC_OS||e.os===ye.CHROMIUM_OS)&&e.name===It.CHROME&&Number(e.version)>=74}(),Ne.supportDataChannel=!!(OE(76)||function(e){let n=mt();return !(n.name!==It.FIREFOX||!n.osVersion)&&Number(n.version)>=e}(68)||mO(14)),Ne.supportPCSetConfiguration=function(){let e=window.RTCPeerConnection;return !$t()&&!!e&&e.prototype.setConfiguration instanceof Function}(),Ne.supportWebRTCEncodedTransform=function(){let e=mt();return e.name===\"Chrome\"&&Number(e.version)>=86||e.name===\"Safari\"&&Number(e.version)>=15}(),Ne.supportWebRTCInsertableStream=function(){let e=mt();return (e.name===It.CHROME||e.name===It.EDGE)&&Number(e.version)>=94&&\"MediaStreamTrackGenerator\"in window&&\"MediaStreamTrackProcessor\"in window}(),Ne.supportRequestVideoFrameCallback=\"requestVideoFrameCallback\"in HTMLVideoElement.prototype,Ne.supportWebCrypto=typeof window<\"u\"&&window.crypto!==void 0&&window.crypto.subtle!==void 0,qu(()=>{Ne.supportDualStreamEncoding=function(){let e=mt();return !!v(\"DISABLE_WEBAUDIO\")||e.name===\"Safari\"&&Number(e.version)>=14||!!(e.name===\"Chrome\"&&/Windows/i.test(e.os||\"\")&&Number(e.version)>=100&&v(\"CHROME_DUAL_STREAM_USE_ENCODING\"))}(),_.info(\"browser compatibility\",JSON.stringify(Ne),JSON.stringify(t));});})();var ia=class t extends Xt{constructor(e,n){super(),T(this,\"signal\",void 0),T(this,\"token\",void 0),T(this,\"tokenTimeout\",void 0),T(this,\"tokenInterval\",void 0),T(this,\"_sequence\",0),T(this,\"userMap\",new Map),T(this,\"encoder\",new TextEncoder),this.signal=e,this.token=n;let i=()=>{this.signal.connectionState===Lt.CONNECTED&&this.check(),this.userMap.size===0?this.tokenInterval=window.setTimeout(i,1e3):this.tokenInterval=window.setTimeout(i,3*v(\"P2P_TOKEN_INTERVAL\"));};i();}async send(e,n,i,r,o){var s,a,c;if(this.userMap.size===0)return;let d=Array.from(Pr(s=this.userMap).call(s))[0].token;typeof n!=\"string\"&&(n=JSON.stringify(n)),r=(a=r)!==null&&a!==void 0?a:Ut(6,\"\"),o=(c=o)!==null&&c!==void 0?c:this._sequence++;let l={_id:r,_type:e,_seq:o,_message:n,token:\"\".concat(this.token,\"_\").concat(d)};v(\"SHOW_P2P_LOG\")&&_.debug(\"send message\",l,\"noNeedResponse : \".concat(i)),this.splitMessage(JSON.stringify(l)).forEach(h=>{this.signal.request(et.DATA_STREAM,{payload:so(this.encoder.encode(h))});});let u=new j((h,p)=>{let g=window.setTimeout(()=>{this.off(\"res-@\".concat(r,\"_ack\"),E),this.off(\"res-@\".concat(r),S),this.off(ps.ABORT,f),_.debug(\"[external-signal] request timeout, type: \".concat(e,\", requestId: \").concat(r)),this.userMap.size===0?p(new N(R.INVALID_REMOTE_USER)):p(new N(R.TIMEOUT));},v(\"EXTERNAL_SIGNAL_REQUEST_TIMEOUT\")),E=()=>{g&&window.clearTimeout(g),this.off(ps.ABORT,f),i&&h();},f=()=>{g&&window.clearTimeout(g),this.off(\"res-@\".concat(r,\"_ack\"),E),this.off(\"res-@\".concat(r),S),p(new N(R.EXTERNAL_SIGNAL_ABORT,\"type: \".concat(e,\", requestId: \").concat(r)));};this.once(ps.ABORT,f),this.once(\"res-@\".concat(r,\"_ack\"),E);let S=(A,b)=>{C=!0,g&&window.clearTimeout(g),this.off(\"res-@\".concat(r,\"_ack\"),E),this.off(ps.ABORT,f),A===\"success\"?h(b):p(new N(R.P2P_MESSAGE_FAILED,\"request \".concat(e,\" failed, requestId: \").concat(r)));},C=!1;i||(this.once(\"res-@\".concat(r),S),Me(v(\"SIGNAL_REQUEST_TIMEOUT\")).then(()=>{C||_.warning(\"external_signal request timeout, type: \".concat(e,\", requestId: \").concat(r,\", \").concat(l));}));});try{return await u}catch(h){if(h.code===R.TIMEOUT)return await this.send(e,n,i,r,o);throw h}}onMessage(e){var n;let{_uid:i}=e,r,o=this.userMap.get(i);if(o)r=o.splitMessageMap;else {if(this.userMap.size>0||!(\"_type\"in e)||e._type!==ie.CHECK)return;let{token:d}=e;r=new Map,o={uid:i,isStart:!0,token:d,splitMessageMap:r,nextExpectedSequenceNumber:0,receivedMessagesMap:new Map},this.userMap.set(i,o),this.signal.emit(dt.ON_USER_ONLINE,{uid:i}),this.handleUserOnline();}if(\"id\"in e&&\"total\"in e){var s;let{id:d,total:l}=e,u=(s=r.get(d))!==null&&s!==void 0?s:[];if(u.push(e),r.has(d)||r.set(d,u),u.length!==l)return;{let h=ed(u).call(u,(p,g)=>p.index-g.index).map(p=>p.payload).join(\"\");r.delete(d),(e=JSON.parse(h))._uid=i;}}let{_type:a,token:c}=e;if(W(n=[ie.ACK,ie.CHECK]).call(n,a))return a===ie.CHECK&&this.handleCheckToken(o,c),void this.receiveMessage(e);c===\"\".concat(o.token,\"_\").concat(this.token)?this.handleReceivedMessage(e):_.debug('Receive unexpected message\", '.concat(c,\", cur_token: \").concat(o.token,\"_\").concat(this.token),e);}check(){let e={_id:Ut(6,\"\"),token:this.token,_type:ie.CHECK};v(\"SHOW_P2P_LOG\")&&_.debug(\"send message\",e),this.signal.request(et.DATA_STREAM,{payload:so(this.encoder.encode(JSON.stringify(e)))});}ack(e){let n={_id:e,_type:ie.ACK,token:this.token};v(\"SHOW_P2P_LOG\")&&_.debug(\"send message\",n),this.signal.request(et.DATA_STREAM,{payload:so(this.encoder.encode(JSON.stringify(n)))});}response(e,n,i){this.send(ie.RESPONSE,JSON.stringify({success:!i,message:n}),!0,e);}handleReceivedMessage(e){let n=()=>{this.userMap.forEach(d=>{let{receivedMessagesMap:l,nextExpectedSequenceNumber:u}=d;for(;l.has(u);){let h=l.get(u);l.delete(u),this.receiveMessage(h),d.nextExpectedSequenceNumber++;}});};if(!e)return void n();let{_uid:i,_seq:r}=e,o=this.userMap.get(i),{receivedMessagesMap:s,isStart:a,nextExpectedSequenceNumber:c}=o;if(r<c)return this.ack(e._id),void _.debug(\"[external-signal] receive old message, seq: \".concat(r,\", \").concat(e._message));s.set(r,e),a&&r===c&&(this.receiveMessage(e),s.delete(c),o.nextExpectedSequenceNumber++,n());}receiveMessage(e){let{_id:n,_type:i,_message:r,_uid:o}=e;if(v(\"SHOW_P2P_LOG\")&&_.debug(\"receive message\",e),n){let s;switch(e._type!==ie.ACK&&(r&&(s=JSON.parse(r)),this.ack(e._id)),e._type){case ie.CANDIDATE:case ie.CONTROL:this.signal.emit(i,s,o);break;case ie.PUBLISH:case ie.UNPUBLISH:case ie.RESTART_ICE:case ie.CALL:s.uid=o,Ge(this.signal,i,s).then(a=>{this.response(e._id,a);}).catch(()=>{this.response(e._id,void 0,!0);});break;case ie.ACK:this.getListeners(\"res-@\".concat(n,\"_ack\")).length>0&&this.emit(\"res-@\".concat(n,\"_ack\"));break;case ie.RESPONSE:{let{success:a,message:c}=s;this.emit(\"res-@\".concat(n),a?\"success\":\"failed\",c);break}}}}splitMessage(e){if(e.length<t.MAX_MESSAGE_SIZE)return [e];let n=[],{remoteToken:i}=JSON.parse(e),r=Ut(6,\"\"),o=0,s=800,a=Math.ceil(e.length/s);for(;e.length>0;){o++;let c={id:r,index:o,total:a,payload:e.slice(0,s),token:\"\".concat(this.token,\"_\").concat(i)};JSON.stringify(c).length>t.MAX_MESSAGE_SIZE?s-=50:(n.push(c),e=e.slice(s));}return n.map(c=>JSON.stringify(c))}handleCheckToken(e,n){return e.token!==n?(_.debug(\"token changed, from \".concat(e.token,\" to \").concat(n)),this.reset(e.uid,n),!1):(this.tokenTimeout&&(window.clearTimeout(this.tokenTimeout),this.tokenTimeout=void 0),this.tokenTimeout=window.setTimeout(()=>{_.debug(\"token timeout, \".concat(n)),this.reset(e.uid);},v(\"MAX_P2P_TIMEOUT\")),!0)}async handleUserOnline(){let e=await Ge(this.signal,ie.CALL,void 0),n=await this.send(ie.CALL,e);this.signal.emit(nt.P2P_CONNECTION,n,!0);}async reset(e,n){let i=this.userMap.get(e);i&&(this.emit(ps.ABORT),this.signal.emit(dt.ON_USER_OFFLINE,{uid:i.uid,reason:cj.P2P_TOKEN_CHANGED}),this._sequence=0,this.userMap.clear(),n||(_.debug(\"change local token from \".concat(n,\" to \").concat(n)),this.token=Ut(6,\"\")));}clear(){this._sequence=0,this.userMap.clear(),this.tokenInterval&&window.clearTimeout(this.tokenInterval),this.tokenInterval=void 0,this.tokenTimeout&&window.clearTimeout(this.tokenTimeout),this.tokenTimeout=void 0,this.emit(ps.ABORT);}};T(ia,\"MAX_SIZE\",1),T(ia,\"MAX_MESSAGE_SIZE\",1024);var du=class extends Xt{get connectionState(){return this._connectionState}set connectionState(e){e!==this._connectionState&&(this._connectionState=e,e===Lt.CONNECTED?this.emit(nt.WS_CONNECTED):e===Lt.RECONNECTING?this.emit(nt.WS_RECONNECTING,this._websocketReconnectReason):e===Lt.CLOSED&&this.emit(nt.WS_CLOSED,this._disconnectedReason));}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket&&this.websocket.url||null}get rtt(){return this.rttRolling.mean()}constructor(e,n){super(),T(this,\"_disconnectedReason\",void 0),T(this,\"_websocketReconnectReason\",void 0),T(this,\"_connectionState\",Lt.CLOSED),T(this,\"reconnectToken\",void 0),T(this,\"p2pToken\",void 0),T(this,\"websocket\",void 0),T(this,\"openConnectionTime\",void 0),T(this,\"clientId\",void 0),T(this,\"lastMsgTime\",Date.now()),T(this,\"uploadCache\",[]),T(this,\"uploadCacheInterval\",void 0),T(this,\"rttRolling\",new Hl(5)),T(this,\"pingpongTimer\",void 0),T(this,\"pingpongTimeoutCount\",0),T(this,\"joinResponse\",void 0),T(this,\"multiIpOption\",void 0),T(this,\"initError\",void 0),T(this,\"spec\",void 0),T(this,\"store\",void 0),T(this,\"_external_signal\",void 0),T(this,\"onWebsocketMessage\",i=>{if(i.data instanceof ArrayBuffer)return void this.emit(nt.ON_BINARY_DATA,i.data);let r=JSON.parse(i.data);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(r,\"_id\")){let o=\"res-@\".concat(r._id);this.emit(o,r._result,r._message);}else if(Object.prototype.hasOwnProperty.call(r,\"_type\")){switch(r._type){case dt.ON_DATA_STREAM:return void this.handleDataStream(r._message);case dt.MUTE_AUDIO:case dt.MUTE_VIDEO:case dt.ON_P2P_LOST:case dt.ON_USER_ONLINE:return;case dt.ON_USER_OFFLINE:let{uid:o}=r._message;return _.debug(\"[\".concat(this.clientId,\"] user-offline uid: \").concat(o)),void this._external_signal.reset(o)}if(this.emit(r._type,r._message),r._type===dt.ON_NOTIFICATION&&this.handleNotification(r._message),r._type===dt.ON_USER_BANNED)switch(r._message.error_code){case 14:this.close(At.UID_BANNED);break;case 15:this.close(At.IP_BANNED);break;case 16:this.close(At.CHANNEL_BANNED);}if(r._type===dt.ON_USER_LICENSE_BANNED)switch(r._message.error_code){case Z.ERR_LICENSE_MISSING:this.close(At.LICENSE_MISSING);break;case Z.ERR_LICENSE_EXPIRED:this.close(At.LICENSE_EXPIRED);break;case Z.ERR_LICENSE_MINUTES_EXCEEDED:this.close(At.LICENSE_MINUTES_EXCEEDED);break;case Z.ERR_LICENSE_PERIOD_INVALID:this.close(At.LICENSE_PERIOD_INVALID);break;case Z.ERR_LICENSE_MULTIPLE_SDK_SERVICE:this.close(At.LICENSE_MULTIPLE_SDK_SERVICE);break;case Z.ERR_LICENSE_ILLEGAL:this.close(At.LICENSE_ILLEGAL);break;default:this.close();}}}),this.clientId=e.clientId,this.spec=e,this.store=n,this.websocket=new Nc(\"gateway-\".concat(this.clientId),this.spec.retryConfig,!0,v(\"JOIN_GATEWAY_USE_DUAL_DOMAIN\"),v(\"JOIN_GATEWAY_USE_443PORT_ONLY\"),n),this.handleWebsocketEvents(),window.addEventListener(\"offline\",()=>{this.connectionState===Lt.CONNECTED&&this.reconnect(\"retry\",Be.OFFLINE);}),this.p2pToken=Ut(6,\"\"),this._external_signal=new ia(this,this.p2pToken);}async request(e,n,i,r){let o=Ut(6,\"\"),s={_id:o,_type:e,_message:n},a=this.websocket.connectionID,c=()=>new j((g,E)=>{if(this.connectionState===Lt.CONNECTED)return g();let f=()=>{this.off(nt.WS_CLOSED,S),g();},S=()=>{this.off(nt.WS_CONNECTED,f),E(new N(R.WS_ABORT));};this.once(nt.WS_CONNECTED,f),this.once(nt.WS_CLOSED,S);});if(this.connectionState!==Lt.CONNECTING&&this.connectionState!==Lt.RECONNECTING||e===et.JOIN||e===et.REJOIN||await c(),this.websocket.sendMessage(s,!0),r)return;let d=new j((g,E)=>{let f=!1,S=(A,b)=>{f=!0,g({isSuccess:A===\"success\",message:b||{}}),this.off(nt.WS_CLOSED,C),this.off(nt.WS_RECONNECTING,C),this.emit(nt.REQUEST_SUCCESS,e,n);};this.once(\"res-@\".concat(o),S);let C=()=>{E(new N(R.WS_ABORT,\"type: \".concat(e))),this.off(nt.WS_CLOSED,C),this.off(nt.WS_RECONNECTING,C),this.off(\"res-@\".concat(o),S);};this.once(nt.WS_CLOSED,C),this.once(nt.WS_RECONNECTING,C),Me(v(\"SIGNAL_REQUEST_TIMEOUT\")).then(()=>{this.websocket.connectionID!==a||f||(_.warning(\"[\".concat(this.clientId,\"] ws request timeout, type: \").concat(e)),this.emit(nt.REQUEST_TIMEOUT,e,n));});}),l=null;try{l=await d;}catch(g){if(this.connectionState===Lt.CLOSED||e===et.LEAVE)throw new N(R.WS_ABORT);return !this.spec.forceWaitGatewayResponse||i?g.throw():e===et.JOIN||e===et.REJOIN?null:(await c(),await this.request(e,n))}if(l.isSuccess)return l.message;let u=Number(l.message.error_code||l.message.code),h=Oc(u),p=new N(R.UNEXPECTED_RESPONSE,\"\".concat(h.desc,\": \").concat(l.message.error_str),{code:u,data:l.message,desc:h.desc});return h.action===\"success\"?l.message:(_.warning(\"[\".concat(this.clientId,\"] [\").concat(this.websocket.connectionID,\"] unexpected response from type \").concat(e,\", error_code: \").concat(u,\", message: \").concat(h.desc,\", action: \").concat(h.action)),u===Z.ERR_TOO_MANY_BROADCASTERS?((e===et.JOIN||e===et.REJOIN)&&(this.initError=p,this.close()),p.throw()):h.action===\"failed\"?p.throw():h.action===\"quit\"?(this.initError=p,this.close(),p.throw()):(u===Z.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=l.message.option,_.warning(\"[\".concat(this.clientId,\"] detect multi ip, recover\")),this.reconnect(\"recover\",Be.MULTI_IP)):this.reconnect(h.action,Be.SERVER_ERROR),e===et.JOIN||e===et.REJOIN?null:await this.request(e,n)))}waitMessage(e,n){return new j(i=>{let r=o=>{(!n||n(o))&&(this.off(e,r),i(o));};this.on(e,r);})}uploadWRTCStats(e){if(!this.store.sessionId)return void _.warn(\"[\".concat(this.clientId,\"] no session id when upload wrtc stats\"));let n={lts:Date.now(),sid:this.store.sessionId,uid:this.store.intUid,stats:e};this.upload(wc.WRTC_STATS,n);}upload(e,n){let i={_type:e,_message:n};try{this.websocket.sendMessage(i);}catch{let o=v(\"MAX_UPLOAD_CACHE\")||50;this.uploadCache.push(i),this.uploadCache.length>o&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval(()=>{if(this.connectionState!==Lt.CONNECTED)return;let s=this.uploadCache.splice(0,1)[0];this.uploadCache.length===0&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(s._type,s._message);},v(\"UPLOAD_CACHE_INTERVAL\")||2e3));}}send(e,n){let i={_type:e,_message:n};this.websocket.sendMessage(i);}async sendExtensionMessage(e,n,i){return await this._external_signal.send(e,n,i)}init(e){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new j((n,i)=>{this.once(nt.WS_CONNECTED,()=>n(this.joinResponse)),this.once(nt.WS_CLOSED,()=>i(this.initError||new N(R.WS_ABORT))),this.connectionState=Lt.CONNECTING,this.websocket.init(e).catch(i);})}close(e){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._external_signal.clear(),this._disconnectedReason=e||At.LEAVE,this.connectionState=Lt.CLOSED,_.debug(\"[\".concat(this.clientId,\"] \")+\"will close websocket in signal\"),this.websocket.close(),this.p2pToken=Ut(6,\"\"),this._external_signal.clear(),this._external_signal=new ia(this,this.p2pToken);}async join(){if(!this.joinResponse){this.emit(nt.ABORT_P2P_EXECUTION);let e=await Ge(this,nt.REQUEST_JOIN_INFO),n=await this.request(et.JOIN,e);if(!n)return this.emit(nt.REPORT_JOIN_GATEWAY,R.TIMEOUT,this.url||\"\"),!1;this.joinResponse=n,this.emit(nt.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token;}return this.connectionState=Lt.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}reconnect(e,n){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(e,n);}handleDataStream(e){try{var n;let i=Fo(e.payload),r=new TextDecoder().decode(i),o=JSON.parse(r);\"total\"in o&&\"id\"in o||W(n=Object.values(ie)).call(n,o._type)?(o._uid=e.uid,this._external_signal.onMessage(o)):this.emit(dt.ON_DATA_STREAM,e);}catch{this.emit(dt.ON_DATA_STREAM,e);}}handleNotification(e){_.debug(\"[\".concat(this.clientId,\"] receive notification: \"),e);let n=Oc(e.code);if(n.action!==\"success\"){if(n.action!==\"failed\")return n.action===\"quit\"?(n.desc===\"ERR_REPEAT_JOIN_CHANNEL\"&&this.close(At.UID_BANNED),void this.close()):void this.reconnect(n.action,Be.SERVER_ERROR);_.error(\"[\".concat(this.clientId,\"] ignore error: \"),n.desc);}}handlePingPong(){if(!this.websocket||this.websocket.state!==\"connected\")return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;let e=v(\"PING_PONG_TIME_OUT\"),n=Date.now();this.pingpongTimeoutCount>=e&&(_.warning(\"[\".concat(this.clientId,\"] PINGPONG Timeout. Last Socket Message: \").concat(n-this.lastMsgTime,\"ms\")),n-this.lastMsgTime>v(\"WEBSOCKET_TIMEOUT_MIN\"))?this.reconnect(\"retry\",Be.TIMEOUT):this.request(et.PING,void 0,!0).then(()=>{this.pingpongTimeoutCount=0;let i=Date.now()-n;this.rttRolling.add(i),v(\"REPORT_STATS\")&&this.send(et.PING_BACK,{pingpongElapse:i});}).catch(i=>{});}handleWebsocketEvents(){this.websocket.on(it.RECONNECT_WAITTING_FINISH,e=>{this.emit(nt.WS_RECONNECT_WAITTING_FINISH,e);}),this.websocket.on(it.RECONNECT_CREATE_CONNECTION,e=>{this.emit(nt.WS_RECONNECT_CREATE_CONNECTION,e);}),this.websocket.on(it.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(it.CLOSED,()=>{this.connectionState=Lt.CLOSED;}),this.websocket.on(it.FAILED,()=>{this._disconnectedReason=At.NETWORK_ERROR,this.connectionState=Lt.CLOSED;}),this.websocket.on(it.RECONNECTING,e=>{this._websocketReconnectReason=e,this.joinResponse=void 0,this.connectionState===Lt.CONNECTED?this.connectionState=Lt.RECONNECTING:this.connectionState=Lt.CONNECTING;}),this.websocket.on(it.WILL_RECONNECT,(e,n,i)=>{e!==\"retry\"?(_.debug(\"\".concat(this.clientId,\" websocket will_connect event, renewSession reconnectMode is \").concat(e)),this.reconnectToken=void 0):_.debug(\"\".concat(this.clientId,\" reconnect mode is retry, no need to renew session\")),i(e);}),this.websocket.on(it.CONNECTED,()=>{this.openConnectionTime=Date.now(),this.join().catch(e=>{if(this.emit(nt.REPORT_JOIN_GATEWAY,e,this.url||\"\"),e instanceof N&&e.code===R.UNEXPECTED_RESPONSE&&e.data.code===Z.ERR_NO_AUTHORIZED)return _.warning(\"[\".concat(this.clientId,\"] reconnect no authorized, recover\")),void this.reconnect(\"recover\",Be.SERVER_ERROR);_.error(\"[\".concat(this.clientId,\"] join gateway request failed\"),e.toString()),this.spec.forceWaitGatewayResponse?this.reconnect(\"tryNext\",Be.SERVER_ERROR):(this.initError=e,this.close());});}),this.websocket.on(it.REQUEST_NEW_URLS,(e,n)=>{Ge(this,nt.REQUEST_RECOVER,this.multiIpOption).then(e).catch(n);}),this.websocket.on(it.ON_TOKEN_PRIVILEGE_DID_EXPIRE,()=>{this.emit(dt.ON_TOKEN_PRIVILEGE_DID_EXPIRE);});}},e0={exports:{}};e0.exports=(()=>{var t={8:(i,r,o)=>{o.r(r),o.d(r,{Parser:()=>V,Printer:()=>ce,parse:()=>F,print:()=>Y});let s=`\n`,a=\"\".concat(\"\\r\").concat(s),c=\" \",d;function l(M){return M>=\"0\"&&M<=\"9\"}function u(M){return M>=\"!\"&&M<=\"~\"}function h(M){return u(M)||M>=\"\\x80\"&&M<=\"\\xFF\"}function p(M){return M===\"!\"||M>=\"#\"&&M<=\"'\"||M>=\"*\"&&M<=\"+\"||M>=\"-\"&&M<=\".\"||M>=\"0\"&&M<=\"9\"||M>=\"A\"&&M<=\"Z\"||M>=\"^\"&&M<=\"~\"}function g(M){return M>=\"1\"&&M<=\"9\"}function E(M){return M>=\"A\"&&M<=\"Z\"||M>=\"a\"&&M<=\"z\"}function f(M){return M===\"d\"||M===\"h\"||M===\"m\"||M===\"s\"}function S(M){return M>\"\u0001\"&&M<\"\t\"||M>\"\\v\"&&M<\"\\f\"||M>\"\u000e\"&&M<\"\\xFF\"}function C(M){return E(M)||l(M)||M===\"+\"||M===\"/\"}function A(M){return l(M)||E(M)||M===\"+\"||M===\"/\"||M===\"-\"||M===\"_\"}function b(M){return E(M)||l(M)||M===\"+\"||M===\"/\"}function w(M,m){var I=Object.keys(M);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(M);m&&(y=y.filter(function(x){return Object.getOwnPropertyDescriptor(M,x).enumerable})),I.push.apply(I,y);}return I}function D(M){for(var m=1;m<arguments.length;m++){var I=arguments[m]!=null?arguments[m]:{};m%2?w(Object(I),!0).forEach(function(y){k(M,y,I[y]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(I)):w(Object(I)).forEach(function(y){Object.defineProperty(M,y,Object.getOwnPropertyDescriptor(I,y));});}return M}function k(M,m,I){return m in M?Object.defineProperty(M,m,{value:I,enumerable:!0,configurable:!0,writable:!0}):M[m]=I,M}(function(M){M.VERSION=\"v\",M.ORIGIN=\"o\",M.SESSION_NAME=\"s\",M.INFORMATION=\"i\",M.URI=\"u\",M.EMAIL=\"e\",M.PHONE=\"p\",M.CONNECTION=\"c\",M.BANDWIDTH=\"b\",M.TIME=\"t\",M.REPEAT=\"r\",M.ZONE_ADJUSTMENTS=\"z\",M.KEY=\"k\",M.ATTRIBUTE=\"a\",M.MEDIA=\"m\";})(d||(d={}));class B{consumeText(m,I){let y=I;for(;y<m.length;){let x=m[y];if(x===\"\\0\"||x===\"\\r\"||x===s)break;y+=1;}if(y-I==0)throw new Error(\"Invalid text, at \".concat(m));return y}consumeUnicastAddress(m,I,y){return this.consumeTill(m,I,c)}consumeOneOrMore(m,I,y){let x=I;for(;y(m[x]);)x++;if(x-I==0)throw new Error(\"Invalid rule at \".concat(I,\".\"));return x}consumeSpace(m,I){if(m[I]===c)return I+1;throw new Error(\"Invalid space at \".concat(I,\".\"))}consumeIP4Address(m,I){let y=I;for(let x=0;x<4;x++)if(y=this.consumeDecimalUChar(m,y),x!==3){if(m[y]!==\".\")throw new Error(\"Invalid IP4 address.\");y++;}return y}consumeDecimalUChar(m,I){let y=I;for(let rt=0;rt<3&&l(m[y]);rt++,y++);if(y-I==0)throw new Error(\"Invalid decimal uchar.\");let x=parseInt(m.slice(I,y));if(x>=0&&x<=255)return y;throw new Error(\"Invalid decimal uchar\")}consumeIP6Address(m,I){let y=this.consumeHexpart(m,I);return m[y]===\":\"&&(y+=1,y=this.consumeIP4Address(m,y)),y}consumeHexpart(m,I){let y=I;if(m[y]===\":\"&&m[y+1]===\":\"){y+=2;try{y=this.consumeHexseq(m,y);}catch{}return y}if(y=this.consumeHexseq(m,y),m[y]===\":\"&&m[y+1]===\":\"){y+=2;try{y=this.consumeHexseq(m,y);}catch{}return y}return y}consumeHexseq(m,I){let y=I;for(;y=this.consumeHex4(m,y),m[y]===\":\"&&m[y+1]!==\":\";)y+=1;return y}consumeHex4(m,I){let y=0;for(;y<4;y++)if(!((x=m[I+y])>=\"0\"&&x<=\"9\"||x>=\"a\"&&x<=\"f\"||x>=\"A\"&&x<=\"F\")){if(y===0)throw new Error(\"Invalid hex 4\");break}var x;return I+y}consumeFQDN(m,I){let y=I;for(;l(m[y])||E(m[y])||m[y]===\"-\"||m[y]===\".\";)y+=1;if(y-I<4)throw new Error(\"Invalid FQDN\");return y}consumeExtnAddr(m,I){return this.consumeOneOrMore(m,I,h)}consumeMulticastAddress(m,I,y){switch(y){case\"IP4\":case\"ip4\":return this.consumeIP4MulticastAddress(m,I);case\"IP6\":case\"ip6\":return this.consumeIP6MulticastAddress(m,I);default:try{return this.consumeFQDN(m,I)}catch{return this.consumeExtnAddr(m,I)}}}consumeIP6MulticastAddress(m,I){let y=this.consumeHexpart(m,I);return m[y]===\"/\"?this.consumeInteger(m,y+1):y}consumeIP4MulticastAddress(m,I){let y=I+3,x=m.slice(I,y),rt=parseInt(x);if(rt<224||rt>239)throw new Error(\"Invalid IP4 multicast address, IPv4 multicast addresses may be in the range 224.0.0.0 to 239.255.255.255.\");for(let bt=0;bt<3;bt++){if(m[y]!==\".\")throw new Error(\"Invalid IP4 multicast address.\");y+=1,y=this.consumeDecimalUChar(m,y);}return m[y]===\"/\"&&(y+=1),y=this.consumeTTL(m,y),m[y]===\"/\"&&(y=this.consumeInteger(m,y)),y}consumeInteger(m,I){if(!g(m[I]))throw new Error(\"Invalid integer.\");for(I+=1;l(m[I]);)I+=1;return I}consumeTTL(m,I){if(m[I]===\"0\")return I+1;if(!g(m[I]))throw new Error(\"Invalid TTL.\");I+=1;for(let y=0;y<2&&l(m[I]);y++)I+=1;return I}consumeToken(m,I){return this.consumeOneOrMore(m,I,p)}consumeTime(m,I){let y=I;if(m[y]===\"0\")return y+1;for(g(m[y])&&(y+=1);l(m[y]);)y++;if(y-I<10)throw new Error(\"Invalid time\");return y}consumeAddress(m,I){return this.consumeTill(m,I,c)}consumeTypedTime(m,I){let y=I;return y=this.consumeOneOrMore(m,y,l),f(m[y])?y+1:y}consumeRepeatInterval(m,I){if(!g(m[I]))throw new Error(\"Invalid repeat interval\");for(I+=1;l(m[I]);)I+=1;return f(m[I])&&(I+=1),I}consumePort(m,I){return this.consumeOneOrMore(m,I,l)}consume(m,I,y){for(let x=0;x<y.length;x++){if(I+x>=m.length)throw new Error(\"consume exceeding value length\");if(m[I+x]!==y[x])throw new Error(\"consume \".concat(y,\" failed at \").concat(x))}return I+y.length}consumeTill(m,I,y){let x=I;for(;x<m.length&&(typeof y!=\"string\"||m[x]!==y)&&(typeof y!=\"function\"||!y(m[x]));)x++;return x}}class V extends B{constructor(){super(),k(this,\"records\",[]),k(this,\"currentLine\",0);}parse(m){let I=this.probeEOL(m);this.records=m.split(I).filter(_e=>!!rn(_e).call(_e)).map(this.parseLine),this.currentLine=0;let y=this.parseVersion(),x=this.parseOrigin(),rt=this.parseSessionName(),bt=this.parseInformation(),Re=this.parseUri(),fn=this.parseEmail(),gr=this.parsePhone(),sd=this.parseConnection(),ad=this.parseBandWidth(),qn=this.parseTimeFields(),Mr=this.parseKey(),rs=this.parseSessionAttribute(),ee=this.parseMediaDescription();if(this.currentLine!==this.records.length)throw new Error(\"parsing failed, non exhaustive sdp lines.\");return {version:y,origin:x,sessionName:rt,information:bt,uri:Re,emails:fn,phones:gr,connection:sd,bandwidths:ad,timeFields:qn,key:Mr,attributes:rs,mediaDescriptions:ee}}getCurrentRecord(){let m=this.records[this.currentLine];if(!m)throw new Error(\"Record doesn't exit.\");return m}probeEOL(m){for(let I=0;I<m.length;I++)if(m[I]===s)return m[I-1]===\"\\r\"?a:s;throw new Error(\"Invalid newline character.\")}parseLine(m,I){if(m.length<2)throw new Error(\"Invalid sdp line, sdp line should be of form <type>=<value>.\");let y=m[0];if(m[1]!==\"=\")throw new Error('Invalid sdp line, <type> should be a single character followed by an \"=\" sign.');return {type:y,value:m.slice(2),line:I,cur:0}}parseSessionAttribute(){let m=new lt;for(;this.currentLine<this.records.length;){let I=this.getCurrentRecord();if(I.type!==d.ATTRIBUTE)break;let y={attField:this.extractOneOrMore(I,x=>p(x)&&x!==\":\"),_cur:0};I.value[I.cur]===\":\"&&(I.cur+=1,y.attValue=this.extractOneOrMore(I,S)),m.parse(y),this.currentLine++;}return m.digest()}parseMediaAttributes(m){let I=new vt(m);for(;this.currentLine<this.records.length;){let y=this.getCurrentRecord();if(y.type!==d.ATTRIBUTE)break;let x={attField:this.extractOneOrMore(y,rt=>p(rt)&&rt!==\":\"),_cur:0};y.value[y.cur]===\":\"&&(y.cur+=1,x.attValue=this.extractOneOrMore(y,S)),I.parse(x),this.currentLine++;}return I.digest()}parseKey(){let m=this.getCurrentRecord();if(m.type===d.KEY){if(m.value===\"prompt\"||m.value===\"clear:\"||m.value===\"base64:\"||m.value===\"uri:\")return m.value;throw this.currentLine++,new Error(\"Invalid key.\")}}parseZone(){let m=this.getCurrentRecord();if(m.type===d.ZONE_ADJUSTMENTS){let I=[];for(;;)try{let y=this.extract(m,this.consumeTime);this.consumeSpaceForRecord(m);let x=!1;m.value[m.cur]===\"-\"&&(x=!0,m.cur+=1);let rt=this.extract(m,this.consumeTypedTime);I.push({time:y,typedTime:rt,back:x});}catch{break}if(I.length===0)throw new Error(\"Invalid zone adjustments\");return this.currentLine++,I}return []}parseRepeat(){let m=[];for(;;){let I=this.getCurrentRecord();if(I.type!==d.REPEAT)break;{let y=this.extract(I,this.consumeRepeatInterval),x=this.parseTypedTime(I);m.push({repeatInterval:y,typedTimes:x}),this.currentLine++;}}return m}parseTypedTime(m){let I=[];for(;;)try{this.consumeSpaceForRecord(m),I.push(this.extract(m,this.consumeTypedTime));}catch{break}if(I.length===0)throw new Error(\"Invalid typed time.\");return I}parseTime(){let m=this.getCurrentRecord(),I=this.extract(m,this.consumeTime);this.consumeSpaceForRecord(m);let y=this.extract(m,this.consumeTime);return this.currentLine++,{startTime:I,stopTime:y}}parseBandWidth(){let m=[];for(;this.currentLine<this.records.length;){let I=this.getCurrentRecord();if(I.type!==d.BANDWIDTH)break;{let y=this.extractOneOrMore(I,p);if(I.value[I.cur]!==\":\")throw new Error(\"Invalid bandwidth field.\");I.cur++;let x=this.extractOneOrMore(I,l);m.push({bwtype:y,bandwidth:x}),this.currentLine++;}}return m}parseVersion(){let m=this.getCurrentRecord();if(m.type!==d.VERSION)throw new Error(\"first sdp record must be version\");let I=m.value.slice(0,this.consumeOneOrMore(m.value,0,l));if(I.length!==m.value.length)throw new Error('invalid proto version, \"v='.concat(m.value,'\"'));return this.currentLine++,I}parseOrigin(){let m=this.getCurrentRecord();if(m.type!==d.ORIGIN)throw new Error(\"second line of sdp must be origin\");let I=this.extractOneOrMore(m,h);this.consumeSpaceForRecord(m);let y=this.extractOneOrMore(m,l);this.consumeSpaceForRecord(m);let x=this.extractOneOrMore(m,l);this.consumeSpaceForRecord(m);let rt=this.extractOneOrMore(m,p);this.consumeSpaceForRecord(m);let bt=this.extractOneOrMore(m,p);this.consumeSpaceForRecord(m);let Re=this.extract(m,this.consumeUnicastAddress);return this.currentLine++,{username:I,sessId:y,sessVersion:x,nettype:rt,addrtype:bt,unicastAddress:Re}}parseSessionName(){let m=this.getCurrentRecord();if(m.type===d.SESSION_NAME){let I=this.extract(m,this.consumeText);return this.currentLine++,I}}parseInformation(){let m=this.getCurrentRecord();if(m.type!==d.INFORMATION)return;let I=this.extract(m,this.consumeText);return this.currentLine++,I}parseUri(){let m=this.getCurrentRecord();if(m.type===d.URI)return this.currentLine++,m.value}parseEmail(){let m=[];for(;;){let I=this.getCurrentRecord();if(I.type!==d.EMAIL)break;m.push(I.value),this.currentLine++;}return m}parsePhone(){let m=[];for(;;){let I=this.getCurrentRecord();if(I.type!==d.PHONE)break;m.push(I.value),this.currentLine++;}return m}parseConnection(){let m=this.getCurrentRecord();if(m.type===d.CONNECTION){let I=this.extractOneOrMore(m,p);this.consumeSpaceForRecord(m);let y=this.extractOneOrMore(m,p);this.consumeSpaceForRecord(m);let x=this.extract(m,this.consumeAddress);return this.currentLine++,{nettype:I,addrtype:y,address:x}}}parseMedia(){let m=this.getCurrentRecord(),I=this.extract(m,this.consumeToken);this.consumeSpaceForRecord(m);let y=this.extract(m,this.consumePort);m.value[m.cur]===\"/\"&&(m.cur+=1,y+=this.extract(m,this.consumeInteger)),this.consumeSpaceForRecord(m);let x=[];for(x.push(this.extract(m,this.consumeToken));m.value[m.cur]===\"/\";)m.cur+=1,x.push(this.extract(m,this.consumeToken));if(x.length===0)throw new Error(\"Invalid proto\");let rt=this.parseFmt(m);return this.currentLine++,{mediaType:I,port:y,protos:x,fmts:rt}}parseTimeFields(){let m=[];for(;this.getCurrentRecord().type===d.TIME;){let I=this.parseTime(),y=this.parseRepeat(),x=this.parseZone();m.push({time:I,repeats:y,zones:x});}return m}parseMediaDescription(){let m=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===d.MEDIA;){let I=this.parseMedia(),y=this.parseInformation(),x=this.parseConnections(),rt=this.parseBandWidth(),bt=this.parseKey(),Re=this.parseMediaAttributes(I);m.push({media:I,information:y,connections:x,bandwidths:rt,key:bt,attributes:Re});}return m}parseConnections(){let m=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===d.CONNECTION;)m.push(this.parseConnection());return m}parseFmt(m){let I=[];for(;;)try{this.consumeSpaceForRecord(m),I.push(this.extract(m,this.consumeToken));}catch{break}if(I.length===0)throw new Error(\"Invalid fmts\");return I}extract(m,I){for(var y=arguments.length,x=new Array(y>2?y-2:0),rt=2;rt<y;rt++)x[rt-2]=arguments[rt];let bt=I.call(this,m.value,m.cur,...x),Re=m.value.slice(m.cur,bt);return m.cur=bt,Re}extractOneOrMore(m,I){let y=this.consumeOneOrMore(m.value,m.cur,I),x=m.value.slice(m.cur,y);return m.cur=y,x}consumeSpaceForRecord(m){if(m.value[m.cur]!==c)throw new Error(\"Invalid space at \".concat(m.cur,\".\"));m.cur+=1;}}class z extends B{constructor(){super(...arguments),k(this,\"attributes\",void 0),k(this,\"digested\",!1);}extractOneOrMore(m,I,y){let x=this.consumeOneOrMore(m.attValue,m._cur,I),rt=m.attValue.slice(m._cur,x),[bt,Re]=y||[];if(typeof bt==\"number\"&&rt.length<bt)throw new Error(\"error in length, should be more or equal than \".concat(bt,\" characters.\"));if(typeof Re==\"number\"&&rt.length>Re)throw new Error(\"error in length, should be less or equal than \".concat(Re,\" characters.\"));return m._cur=x,rt}consumeAttributeSpace(m){if(m.attValue[m._cur]!==c)throw new Error(\"Invalid space at \".concat(m._cur,\".\"));m._cur+=1;}extract(m,I){if(!m.attValue)throw new Error(\"Nothing to extract from attValue.\");for(var y=arguments.length,x=new Array(y>2?y-2:0),rt=2;rt<y;rt++)x[rt-2]=arguments[rt];let bt=I.call(this,m.attValue,m._cur,...x),Re=m.attValue.slice(m._cur,bt);return m._cur=bt,Re}atEnd(m){if(!m.attValue)throw new Error;return m._cur>=m.attValue.length}peekChar(m){if(!m.attValue)throw new Error;return m.attValue[m._cur]}peek(m,I){if(!m.attValue)throw new Error;for(let y=0;y<I.length;y++)if(I[y]!==m.attValue[m._cur+y])return !1;return !0}parseIceUfrag(m){if(this.attributes.iceUfrag)throw new Error(\"Invalid ice-ufrag, should be only a single line if 'a=ice-ufrag'\");this.attributes.iceUfrag=this.extractOneOrMore(m,C,[4,256]);}parseIcePwd(m){if(this.attributes.icePwd)throw new Error(\"Invalid ice-pwd, should be only a single line if 'a=ice-pwd'\");this.attributes.icePwd=this.extractOneOrMore(m,C,[22,256]);}parseIceOptions(m){if(this.attributes.iceOptions)throw new Error(\"Invalid ice-options, should be only one 'ice-options' line\");let I=[];for(;!this.atEnd(m);){I.push(this.extractOneOrMore(m,C));try{this.consumeAttributeSpace(m);}catch(y){if(this.atEnd(m))break;throw y}}this.attributes.iceOptions=I;}parseFingerprint(m){let I=this.extract(m,this.consumeToken);this.consumeAttributeSpace(m);let y=this.extract(m,this.consumeTill);this.attributes.fingerprints.push({hashFunction:I,fingerprint:y});}parseExtmap(m){let I=this.extractOneOrMore(m,l),y;this.peekChar(m)===\"/\"&&(this.extract(m,this.consume,\"/\"),y=this.extract(m,this.consumeToken)),this.consumeAttributeSpace(m);let x=this.extract(m,this.consumeTill,c),rt=D(D({entry:parseInt(I,10)},y&&{direction:y}),{},{extensionName:x});this.peekChar(m)===c&&(this.consumeAttributeSpace(m),rt.extensionAttributes=this.extract(m,this.consumeTill)),this.attributes.extmaps.push(rt);}parseSetup(m){if(this.attributes.setup)throw new Error(\"must only be one single 'a=setup' line.\");let I=this.extract(m,this.consumeTill);if(I!==\"active\"&&I!==\"passive\"&&I!==\"actpass\"&&I!==\"holdconn\")throw new Error(\"role must be one of 'active', 'passive', 'actpass', 'holdconn'.\");this.attributes.setup=I;}}class lt extends z{constructor(){super(...arguments),k(this,\"attributes\",{unrecognized:[],groups:[],extmaps:[],fingerprints:[],identities:[]});}parse(m){if(this.digested)throw new Error(\"already digested\");try{switch(m.attField){case\"group\":this.parseGroup(m);break;case\"ice-lite\":this.parseIceLite();break;case\"ice-ufrag\":this.parseIceUfrag(m);break;case\"ice-pwd\":this.parseIcePwd(m);break;case\"ice-options\":this.parseIceOptions(m);break;case\"fingerprint\":this.parseFingerprint(m);break;case\"setup\":this.parseSetup(m);break;case\"tls-id\":this.parseTlsId(m);break;case\"identity\":this.parseIdentity(m);break;case\"extmap\":this.parseExtmap(m);break;case\"msid-semantic\":this.parseMsidSemantic(m);break;default:m.ignored=!0,this.attributes.unrecognized.push(m);}}catch(I){throw console.error(\"parsing session attribute \".concat(m.attField,' error, \"a=').concat(m.attField,\":\").concat(m.attValue,'\"')),I}if(!m.ignored&&m.attValue&&!this.atEnd(m))throw new Error(\"attribute parsing error\")}digest(){return this.digested=!0,this.attributes}parseGroup(m){let I=this.extract(m,this.consumeToken),y=[];for(;!this.atEnd(m)&&this.peekChar(m)===c;)this.consumeAttributeSpace(m),y.push(this.extract(m,this.consumeToken));this.attributes.groups.push({semantic:I,identificationTag:y});}parseIceLite(){if(this.attributes.iceLite)throw new Error(\"Invalid ice-lite, should be only a single line of 'a=ice-lite'\");this.attributes.iceLite=!0;}parseTlsId(m){if(this.attributes.tlsId)throw new Error(\"must be only one tld-id line\");this.attributes.tlsId=this.extractOneOrMore(m,A);}parseIdentity(m){let I=this.extractOneOrMore(m,b),y=[];for(;!this.atEnd(m)&&this.peekChar(m)===c;){this.consumeAttributeSpace(m);let x=this.extract(m,this.consumeToken);this.extract(m,this.consume,\"=\");let rt=this.extractOneOrMore(m,bt=>bt!==c&&S(bt));y.push({name:x,value:rt});}this.attributes.identities.push({assertionValue:I,extensions:y});}parseMsidSemantic(m){this.peekChar(m)===c&&this.consumeAttributeSpace(m);let I={semantic:this.extract(m,this.consumeToken),identifierList:[]};for(;;){try{this.consumeAttributeSpace(m);}catch{break}if(this.peekChar(m)===\"*\"){this.extract(m,this.consume,\"*\"),I.applyForAll=!0;break}{let y=this.extract(m,this.consumeTill,c);I.identifierList.push(y);}}this.attributes.msidSemantic=I;}}class vt extends z{constructor(m){super(),k(this,\"attributes\",void 0),m.protos.indexOf(\"RTP\")!==-1||m.protos.indexOf(\"rtp\"),this.attributes={unrecognized:[],candidates:[],extmaps:[],fingerprints:[],imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[]};}parse(m){if(this.digested)throw new Error(\"already digested\");try{switch(m.attField){case\"extmap\":this.parseExtmap(m);break;case\"setup\":this.parseSetup(m);break;case\"ice-ufrag\":this.parseIceUfrag(m);break;case\"ice-pwd\":this.parseIcePwd(m);break;case\"ice-options\":this.parseIceOptions(m);break;case\"candidate\":this.parseCandidate(m);break;case\"remote-candidate\":this.parseRemoteCandidate(m);break;case\"end-of-candidates\":this.parseEndOfCandidates();break;case\"fingerprint\":this.parseFingerprint(m);break;case\"rtpmap\":this.parseRtpmap(m);break;case\"ptime\":this.parsePtime(m);break;case\"maxptime\":this.parseMaxPtime(m);break;case\"sendrecv\":case\"recvonly\":case\"sendonly\":case\"inactive\":this.parseDirection(m);break;case\"ssrc\":this.parseSSRC(m);break;case\"fmtp\":this.parseFmtp(m);break;case\"rtcp-fb\":this.parseRtcpFb(m);break;case\"rtcp-mux\":this.parseRTCPMux();break;case\"rtcp-mux-only\":this.parseRTCPMuxOnly();break;case\"rtcp-rsize\":this.parseRTCPRsize();break;case\"rtcp\":this.parseRTCP(m);break;case\"mid\":this.parseMid(m);break;case\"msid\":this.parseMsid(m);break;case\"imageattr\":this.parseImageAttr(m);break;case\"rid\":this.parseRid(m);break;case\"simulcast\":this.parseSimulcast(m);break;case\"sctp-port\":this.parseSctpPort(m);break;case\"max-message-size\":this.parseMaxMessageSize(m);break;case\"ssrc-group\":this.parseSSRCGroup(m);break;default:m.ignored=!0,this.attributes.unrecognized.push(m);}}catch(I){throw console.error(\"parsing media attribute \".concat(m.attField,' error, \"a=').concat(m.attField,\":\").concat(m.attValue,'\"')),I}if(!m.ignored&&m.attValue&&!this.atEnd(m))throw new Error(\"attribute parsing error\")}parseCandidate(m){let I=this.extractOneOrMore(m,C,[1,32]);this.consumeAttributeSpace(m);let y=this.extractOneOrMore(m,l,[1,5]);this.consumeAttributeSpace(m);let x=this.extract(m,this.consumeToken);this.consumeAttributeSpace(m);let rt=this.extractOneOrMore(m,l,[1,10]);this.consumeAttributeSpace(m);let bt=this.extract(m,this.consumeAddress);this.consumeAttributeSpace(m);let Re=this.extract(m,this.consumePort);this.consumeAttributeSpace(m),this.extract(m,this.consume,\"typ\"),this.consumeAttributeSpace(m);let fn={foundation:I,componentId:y,transport:x,priority:rt,connectionAddress:bt,port:Re,type:this.extract(m,this.consumeToken),extension:{}};for(this.peek(m,\" raddr\")&&(this.extract(m,this.consume,\" raddr\"),this.consumeAttributeSpace(m),fn.relAddr=this.extract(m,this.consumeAddress)),this.peek(m,\" rport\")&&(this.extract(m,this.consume,\" rport\"),this.consumeAttributeSpace(m),fn.relPort=this.extract(m,this.consumePort));this.peekChar(m)===c;){this.consumeAttributeSpace(m);let gr=this.extract(m,this.consumeToken);this.consumeAttributeSpace(m),fn.extension[gr]=this.extractOneOrMore(m,u);}this.attributes.candidates.push(fn);}parseRemoteCandidate(m){let I=[];for(;;){let y=this.extractOneOrMore(m,l,[1,5]);this.consumeAttributeSpace(m);let x=this.extract(m,this.consumeAddress);this.consumeAttributeSpace(m);let rt=this.extract(m,this.consumePort);I.push({componentId:y,connectionAddress:x,port:rt});try{this.consumeAttributeSpace(m);}catch{break}}this.attributes.remoteCandidatesList.push(I);}parseEndOfCandidates(){if(this.attributes.endOfCandidates)throw new Error(\"must be only one line of end-of-candidates\");this.attributes.endOfCandidates=!0;}parseRtpmap(m){let I=this.extract(m,this.consumeToken);this.consumeAttributeSpace(m);let y=this.extract(m,this.consumeTill,\"/\");this.extract(m,this.consume,\"/\");let x={encodingName:y,clockRate:this.extractOneOrMore(m,l)};this.atEnd(m)||this.peekChar(m)!==\"/\"||(this.extract(m,this.consume,\"/\"),x.encodingParameters=parseInt(this.extract(m,this.consumeTill),10));let rt=this.attributes.payloads.find(bt=>bt.payloadType===parseInt(I,10));rt?rt.rtpMap=x:this.attributes.payloads.push({payloadType:parseInt(I,10),rtpMap:x,rtcpFeedbacks:[]});}parsePtime(m){if(this.attributes.ptime)throw new Error(\"must be only one line of ptime\");this.attributes.ptime=this.extract(m,this.consumeTill);}parseMaxPtime(m){if(this.attributes.maxPtime)throw new Error(\"must be only one line of ptime\");this.attributes.maxPtime=this.extract(m,this.consumeTill);}parseDirection(m){if(this.attributes.direction)throw new Error(\"must be only one line of direction info\");this.attributes.direction=m.attField;}parseSSRC(m){let I=this.extractOneOrMore(m,l);this.consumeAttributeSpace(m);let y=this.extract(m,this.consumeTill,\":\"),x;this.peekChar(m)===\":\"&&(this.extract(m,this.consume,\":\"),x=this.extract(m,this.consumeTill));let rt=this.attributes.ssrcs.find(bt=>bt.ssrcId===parseInt(I,10));rt?rt.attributes[y]=x:this.attributes.ssrcs.push({ssrcId:parseInt(I,10),attributes:{[y]:x}});}parseFmtp(m){let I=this.extract(m,this.consumeTill,c);this.consumeAttributeSpace(m);let y=this.extract(m,this.consumeTill),x={};y.split(\";\").forEach(bt=>{let[Re,fn]=bt.split(\"=\");Re=rn(Re).call(Re);let gr=typeof fn==\"string\"?rn(fn).call(fn):null;typeof Re==\"string\"&&Re.length>0&&(x[Re]=gr);});let rt=this.attributes.payloads.find(bt=>bt.payloadType===parseInt(I,10));rt?rt.fmtp={parameters:x}:this.attributes.payloads.push({payloadType:parseInt(I,10),rtcpFeedbacks:[],fmtp:{parameters:x}});}parseFmtParameters(m){let I={},y=this.extract(m,this.consumeTill,\"=\");m._cur++;let x=this.extract(m,this.consumeTill,\";\");for(I[y]=x;m.attValue[m._cur]===\";\";){let rt=this.extract(m,this.consumeTill,\"=\");m._cur++;let bt=this.extract(m,this.consumeTill,\";\");I[rt]=bt;}return I}parseRtcpFb(m){let I=\"\";I=this.peekChar(m)===\"*\"?this.extract(m,this.consume,\"*\"):this.extract(m,this.consumeTill,c),this.consumeAttributeSpace(m);let y=this.extract(m,this.consumeTill,c),x;if(y===\"trr-int\")x={type:y,interval:this.extract(m,this.consumeTill)};else {let rt={type:y};this.peekChar(m)===c&&(this.consumeAttributeSpace(m),rt.parameter=this.extract(m,this.consumeToken),this.peekChar(m)===c&&(rt.additional=this.extract(m,this.consumeTill))),x=rt;}if(I===\"*\")this.attributes.rtcpFeedbackWildcards.push(x);else {let rt=this.attributes.payloads.find(bt=>bt.payloadType===parseInt(I,10));rt?rt.rtcpFeedbacks.push(x):this.attributes.payloads.push({payloadType:parseInt(I,10),rtcpFeedbacks:[x]});}}parseRTCPMux(){if(this.attributes.rtcpMux)throw new Error(\"must be single line of rtcp-mux\");this.attributes.rtcpMux=!0;}parseRTCPMuxOnly(){if(this.attributes.rtcpMuxOnly)throw new Error(\"must be single line of rtcp-only\");this.attributes.rtcpMuxOnly=!0;}parseRTCPRsize(){if(this.attributes.rtcpRsize)throw new Error(\"must be single line of rtcp-rsize\");this.attributes.rtcpRsize=!0;}parseRTCP(m){if(this.attributes.rtcp)throw new Error(\"must be single line of rtcp\");let I={port:this.extract(m,this.consumePort)};this.peekChar(m)===c&&(this.consumeAttributeSpace(m),I.netType=this.extractOneOrMore(m,p),this.consumeAttributeSpace(m),I.addressType=this.extractOneOrMore(m,p),this.consumeAttributeSpace(m),I.address=this.extract(m,this.consumeAddress)),this.attributes.rtcp=I;}parseMsid(m){let I={id:this.extractOneOrMore(m,p,[1,64])};this.peekChar(m)===c&&(this.consumeAttributeSpace(m),I.appdata=this.extractOneOrMore(m,p,[1,64])),this.attributes.msids.push(I);}parseImageAttr(m){this.attributes.imageattr.push(m.attValue);}parseRid(m){let I=this.extractOneOrMore(m,x=>E(x)||l(x)||x===\"_\"||x===\"-\");this.consumeAttributeSpace(m);let y={id:I,direction:this.extract(m,this.consumeToken),params:[]};if(this.peekChar(m)===c){if(this.consumeAttributeSpace(m),this.peek(m,\"pt=\")){this.extract(m,this.consume,\"pt=\");let x=[];for(;;){let rt=this.extract(m,this.consumeToken);x.push(rt);try{this.extract(m,this.consume,\",\");}catch{break}}y.payloads=x,this.peekChar(m)===c&&this.extract(m,this.consume,c);}for(;;){let x=this.extract(m,this.consumeToken);switch(x){case\"depend\":{let rt={type:x,rids:this.extract(m,this.consume,\"=\").split(\",\")};y.params.push(rt);break}default:{let rt={type:x};this.peekChar(m)===\"=\"&&(this.extract(m,this.consume,\"=\"),rt.val=this.extract(m,this.consumeTill,\";\")),y.params.push(rt);}}try{this.extract(m,this.consume,\";\");}catch{break}}}this.attributes.rids.push(y);}parseSimulcast(m){if(this.attributes.simulcast)throw new Error(\"must be single line of simulcast\");this.attributes.simulcast=m.attValue,this.extract(m,this.consumeTill);}parseSctpPort(m){this.attributes.sctpPort=this.extractOneOrMore(m,l,[1,5]);}parseMaxMessageSize(m){this.attributes.maxMessageSize=this.extractOneOrMore(m,l,[1,void 0]);}digest(){return this.digested=!0,this.attributes}parseMid(m){this.attributes.mid=this.extract(m,this.consumeToken);}parseSSRCGroup(m){let I=this.extract(m,this.consumeToken),y=[];for(;;)try{this.consumeAttributeSpace(m);let x=this.extract(m,this.consumeInteger);y.push(parseInt(x,10));}catch{break}this.attributes.ssrcGroups.push({semantic:I,ssrcIds:y});}}function Dt(M,m,I){return m in M?Object.defineProperty(M,m,{value:I,enumerable:!0,configurable:!0,writable:!0}):M[m]=I,M}class ce{constructor(){Dt(this,\"eol\",a);}print(m,I){let y=\"\";return I&&(this.eol=I),y+=this.printVersion(m.version),y+=this.printOrigin(m.origin),y+=this.printSessionName(m.sessionName),y+=this.printInformation(m.information),y+=this.printUri(m.uri),y+=this.printEmail(m.emails),y+=this.printPhone(m.phones),y+=this.printConnection(m.connection),y+=this.printBandwidth(m.bandwidths),y+=this.printTimeFields(m.timeFields),y+=this.printKey(m.key),y+=this.printSessionAttributes(m.attributes),y+=this.printMediaDescription(m.mediaDescriptions),y}printVersion(m){return \"v=\".concat(m).concat(this.eol)}printOrigin(m){return \"o=\".concat(m.username,\" \").concat(m.sessId,\" \").concat(m.sessVersion,\" \").concat(m.nettype,\" \").concat(m.addrtype,\" \").concat(m.unicastAddress).concat(this.eol)}printSessionName(m){return m?\"s=\".concat(m).concat(this.eol):\"\"}printInformation(m){return m?\"i=\".concat(m).concat(this.eol):\"\"}printUri(m){return m?\"u=\".concat(m).concat(this.eol):\"\"}printEmail(m){let I=\"\";for(let y of m)I+=\"e=\".concat(y).concat(this.eol);return I}printPhone(m){let I=\"\";for(let y of m)I+=\"e=\".concat(y).concat(this.eol);return I}printConnection(m){return m?\"c=\".concat(m.nettype,\" \").concat(m.addrtype,\" \").concat(m.address).concat(this.eol):\"\"}printBandwidth(m){let I=\"\";for(let y of m)I+=\"b=\".concat(y.bwtype,\":\").concat(y.bandwidth).concat(this.eol);return I}printTimeFields(m){let I=\"\";for(let y of m){I+=\"t=\".concat(y.time.startTime,\" \").concat(y.time.startTime).concat(this.eol);for(let x of y.repeats)I+=\"r=\".concat(x.repeatInterval,\" \").concat(x.typedTimes.join(\" \")).concat(this.eol);y.zoneAdjustments&&(I+=\"z=\",I+=\"z=\".concat(y.zoneAdjustments.map(x=>\"\".concat(x.time,\" \").concat(x.back?\"-\":\"\",\" \").concat(x.typedTime)).join(\" \")).concat(this.eol),I+=this.eol);}return I}printKey(m){return m?\"k=\".concat(m).concat(this.eol):\"\"}printAttributes(m){let I=\"\";for(let y of m)I+=\"a=\".concat(y.attField).concat(y.attValue?\":\".concat(y.attValue):\"\").concat(this.eol);return I}printMediaDescription(m){let I=\"\";for(let y of m)I+=this.printMedia(y.media),I+=this.printInformation(y.information),I+=this.printConnections(y.connections),I+=this.printBandwidth(y.bandwidths),I+=this.printKey(y.key),I+=this.printMediaAttributes(y);return I}printConnections(m){let I=\"\";for(let y of m)I+=this.printConnection(y);return I}printMedia(m){return \"m=\".concat(m.mediaType,\" \").concat(m.port,\" \").concat(m.protos.join(\"/\"),\" \").concat(m.fmts.join(\" \")).concat(this.eol)}printSessionAttributes(m){return new si(this.eol).print(m)}printMediaAttributes(m){return new L(this.eol).print(m)}}class Wt{constructor(m){Dt(this,\"eol\",void 0),this.eol=m;}printIceUfrag(m){return m===void 0?\"\":\"a=ice-ufrag:\".concat(m).concat(this.eol)}printIcePwd(m){return m===void 0?\"\":\"a=ice-pwd:\".concat(m).concat(this.eol)}printIceOptions(m){return m===void 0?\"\":\"a=ice-options:\".concat(m.join(c)).concat(this.eol)}printFingerprints(m){return m.length>0?m.map(I=>\"a=fingerprint:\".concat(I.hashFunction).concat(c).concat(I.fingerprint)).join(this.eol)+this.eol:\"\"}printExtmap(m){return m.map(I=>\"a=extmap:\".concat(I.entry).concat(I.direction?\"/\".concat(I.direction):\"\").concat(c).concat(I.extensionName).concat(I.extensionAttributes?\"\".concat(c).concat(I.extensionAttributes):\"\").concat(this.eol)).join(\"\")}printSetup(m){return m===void 0?\"\":\"a=setup:\".concat(m).concat(this.eol)}printUnrecognized(m){return m.map(I=>\"a=\".concat(I.attField).concat(I.attValue?\":\".concat(I.attValue):\"\").concat(this.eol)).join(\"\")}}class si extends Wt{print(m){let I=\"\";return I+=this.printGroups(m.groups),I+=this.printMsidSemantic(m.msidSemantic),I+=this.printIceLite(m.iceLite),I+=this.printIceUfrag(m.iceUfrag),I+=this.printIcePwd(m.icePwd),I+=this.printIceOptions(m.iceOptions),I+=this.printFingerprints(m.fingerprints),I+=this.printSetup(m.setup),I+=this.printTlsId(m.tlsId),I+=this.printIdentity(m.identities),I+=this.printExtmap(m.extmaps),I+=this.printUnrecognized(m.unrecognized),I}printGroups(m){let I=\"\";return m.length>0&&(I+=m.map(y=>\"a=group:\".concat(y.semantic).concat(y.identificationTag.map(x=>\"\".concat(c).concat(x)).join(\"\")).concat(this.eol)).join(\"\")),I}printIceLite(m){return m===void 0?\"\":\"a=ice-lite\"+this.eol}printTlsId(m){return m?\"a=tls-id:\".concat(m).concat(this.eol):\"\"}printIdentity(m){return m.length===0?\"\":m.map(I=>\"a=identity:\".concat(I.assertionValue).concat(I.extensions.map(y=>\"\".concat(c).concat(y.name).concat(y.value?\"=\".concat(y.value):\"\")))).join(this.eol)+this.eol}printMsidSemantic(m){if(!m)return \"\";let I=\"a=msid-semantic:\".concat(m.semantic);return m.applyForAll?I+=\"\".concat(c,\"*\"):m.identifierList.length>0&&(I+=m.identifierList.map(y=>\"\".concat(c).concat(y))),I+this.eol}}class L extends Wt{print(m){let I=m.attributes,y=\"\";return y+=this.printRTCP(I.rtcp),y+=this.printIceUfrag(I.iceUfrag),y+=this.printIcePwd(I.icePwd),y+=this.printIceOptions(I.iceOptions),y+=this.printCandidates(I.candidates),y+=this.printRemoteCandidatesList(I.remoteCandidatesList),y+=this.printEndOfCandidates(I.endOfCandidates),y+=this.printFingerprints(I.fingerprints),y+=this.printSetup(I.setup),y+=this.printMid(I.mid),y+=this.printExtmap(I.extmaps),y+=this.printRTPRelated(I),y+=this.printPtime(I.ptime),y+=this.printMaxPtime(I.maxPtime),y+=this.printDirection(I.direction),y+=this.printSSRCGroups(I.ssrcGroups),y+=this.printSSRC(I.ssrcs),y+=this.printRTCPMux(I.rtcpMux),y+=this.printRTCPMuxOnly(I.rtcpMuxOnly),y+=this.printRTCPRsize(I.rtcpRsize),y+=this.printMSId(I.msids),y+=this.printImageattr(I.imageattr),y+=this.printRid(I.rids),y+=this.printSimulcast(I.simulcast),y+=this.printSCTPPort(I.sctpPort),y+=this.printMaxMessageSize(I.maxMessageSize),y+=this.printUnrecognized(I.unrecognized),y}printCandidates(m){return m.map(I=>\"a=candidate:\".concat(I.foundation).concat(c).concat(I.componentId).concat(c).concat(I.transport).concat(c).concat(I.priority).concat(c).concat(I.connectionAddress).concat(c).concat(I.port).concat(c,\"typ\").concat(c).concat(I.type).concat(I.relAddr?\"\".concat(c,\"raddr\").concat(c).concat(I.relAddr):\"\").concat(I.relPort?\"\".concat(c,\"rport\").concat(c).concat(I.relPort):\"\").concat(Object.keys(I.extension).map(y=>\"\".concat(c).concat(y).concat(c).concat(I.extension[y])).join(\"\")).concat(this.eol)).join(\"\")}printRemoteCandidatesList(m){return m.map(I=>\"a=remote-candidates:\".concat(I.join(c)).concat(this.eol)).join(\"\")}printEndOfCandidates(m){return m===void 0?\"\":\"a=end-of-candidates\"+this.eol}printRTPRelated(m){if(!m.payloads)return \"\";let I=m.payloads,y=\"\";y+=m.rtcpFeedbackWildcards.map(x=>this.printRTCPFeedback(\"*\",x)).join(\"\");for(let x of I)y+=this.printRtpMap(x.payloadType,x.rtpMap),y+=this.printFmtp(x.payloadType,x.fmtp),y+=x.rtcpFeedbacks.map(rt=>this.printRTCPFeedback(x.payloadType,rt)).join(\"\");return y}printFmtp(m,I){if(!I)return \"\";let y=Object.keys(I.parameters);return y.length===1&&I.parameters[y[0]]===null?\"a=fmtp:\".concat(m).concat(c).concat(y[0]).concat(this.eol):\"a=fmtp:\".concat(m).concat(c).concat(Object.keys(I.parameters).map(x=>\"\".concat(x,\"=\").concat(I.parameters[x])).join(\";\")).concat(this.eol)}printRtpMap(m,I){return I?\"a=rtpmap:\".concat(m).concat(c).concat(I.encodingName,\"/\").concat(I.clockRate).concat(I.encodingParameters?\"/\".concat(I.encodingParameters):\"\").concat(this.eol):\"\"}printRTCPFeedback(m,I){let y=\"a=rtcp-fb:\".concat(m).concat(c),x=I;return x.type===\"trr-int\"?y+=\"ttr-int\".concat(c).concat(x.interval):(y+=\"\".concat(x.type),x.parameter&&(y+=\"\".concat(c).concat(x.parameter),x.additional&&(y+=\"\".concat(c).concat(x.additional)))),y+this.eol}printPtime(m){return m===void 0?\"\":\"a=ptime:\".concat(m).concat(this.eol)}printMaxPtime(m){return m===void 0?\"\":\"a=maxptime:\".concat(m).concat(this.eol)}printDirection(m){return m===void 0?\"\":\"a=\".concat(m).concat(this.eol)}printSSRC(m){return m.map(I=>Object.keys(I.attributes).map(y=>\"a=ssrc:\".concat(I.ssrcId.toString(10)).concat(c).concat(y).concat(I.attributes[y]?\":\".concat(I.attributes[y]):\"\").concat(this.eol)).join(\"\")).join(\"\")}printRTCPMux(m){return m===void 0?\"\":\"a=rtcp-mux\".concat(this.eol)}printRTCPMuxOnly(m){return m===void 0?\"\":\"a=rtcp-mux-only\".concat(this.eol)}printRTCPRsize(m){return m===void 0?\"\":\"a=rtcp-rsize\".concat(this.eol)}printRTCP(m){if(m===void 0)return \"\";let I=\"a=rtcp:\".concat(m.port);return m.netType&&(I+=\"\".concat(c).concat(m.netType)),m.addressType&&(I+=\"\".concat(c).concat(m.addressType)),m.address&&(I+=\"\".concat(c).concat(m.address)),I+this.eol}printMSId(m){return m.map(I=>\"a=msid:\".concat(I.id).concat(I.appdata?\"\".concat(c).concat(I.appdata):\"\").concat(this.eol)).join(\"\")}printImageattr(m){return m.map(I=>\"a=imageattr:\".concat(I).concat(this.eol)).join(\"\")}printRid(m){return m.map(I=>{let y=\"a=rid:\".concat(I.id).concat(c).concat(I.direction);return I.payloads&&(y+=\"\".concat(c,\"pt=\").concat(I.payloads.join(\",\"))),I.params.length>0&&(y+=\"\".concat(c).concat(I.params.map(x=>x.type===\"depend\"?\"depend=\".concat(x.rids.join(\",\")):\"\".concat(x.type,\"=\").concat(x.val)).join(\";\"))),y+this.eol}).join(\"\")}printSimulcast(m){return m===void 0?\"\":\"a=simulcast:\".concat(m).concat(this.eol)}printSCTPPort(m){return m===void 0?\"\":\"a=sctp-port:\".concat(m).concat(this.eol)}printMaxMessageSize(m){return m===void 0?\"\":\"a=max-message-size:\".concat(m).concat(this.eol)}printMid(m){return m===void 0?\"\":\"a=mid:\".concat(m).concat(this.eol)}printSSRCGroups(m){return m.map(I=>\"a=ssrc-group:\".concat(I.semantic).concat(I.ssrcIds.map(y=>\"\".concat(c).concat(y.toString(10))).join(\"\")).concat(this.eol)).join(\"\")}}function F(M){return new V().parse(M)}function Y(M,m){return new ce().print(M,m)}}},e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={exports:{}};return t[i](r,r.exports,n),r.exports}return n.d=(i,r)=>{for(var o in r)n.o(r,o)&&!n.o(i,o)&&Object.defineProperty(i,o,{enumerable:!0,get:r[o]});},n.o=(i,r)=>Object.prototype.hasOwnProperty.call(i,r),n.r=i=>{typeof Symbol<\"u\"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(i,\"__esModule\",{value:!0});},n(8)})();var Le=e0.exports;function $E(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v(\"SVC_MODE\");if(v(\"ENABLE_SVC\"))return function(e){return e in xE}(t)?t:xE.L1T3}function KI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function YI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KI(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}function Lc(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0,{filterRTX:r,filterVideoFec:o,filterAudioFec:s,filterAudioCodec:a,filterVideoCodec:c}=e,{useXR:d}=n,l=[],u=[],h=[],p=[],g=!1,E=!1;if(Le.parse(t).mediaDescriptions.forEach(S=>{i&&i!==S.attributes.direction||(S.media.mediaType!==\"video\"||g||(u=S.attributes.payloads,p=S.attributes.extmaps,g=!0),S.media.mediaType!==\"audio\"||E||(l=S.attributes.payloads,h=S.attributes.extmaps,E=!0));}),!p||u.length===0)throw new Error(\"Cannot get video capabilities from SDP.\");if(!h||l.length===0)throw new Error(\"Cannot get audio capabilities from SDP.\");if(u.forEach(S=>{var C;(C=S.rtpMap)!==null&&C!==void 0&&C.clockRate&&(S.rtpMap.clockRate=parseInt(S.rtpMap.clockRate)),d&&S.rtcpFeedbacks.push({type:\"rrtr\"});}),l.forEach(S=>{var C;(C=S.rtpMap)!==null&&C!==void 0&&C.clockRate&&(S.rtpMap.clockRate=parseInt(S.rtpMap.clockRate)),d&&S.rtcpFeedbacks.push({type:\"rrtr\"});}),r&&(l=l.filter(S=>{var C;return ((C=S.rtpMap)===null||C===void 0?void 0:C.encodingName.toLowerCase())!==\"rtx\"}),u=u.filter(S=>{var C;return ((C=S.rtpMap)===null||C===void 0?void 0:C.encodingName.toLowerCase())!==\"rtx\"})),o&&(u=u.filter(S=>{var C;return !/(red)|(ulpfec)|(flexfec)/i.test(((C=S.rtpMap)===null||C===void 0?void 0:C.encodingName)||\"\")})),s&&(l=l.filter(S=>{var C;return !/(red)|(ulpfec)|(flexfec)/i.test(((C=S.rtpMap)===null||C===void 0?void 0:C.encodingName)||\"\")})),a&&a?.length>0&&(l=l.filter(S=>{var C;return W(a).call(a,((C=S.rtpMap)===null||C===void 0?void 0:C.encodingName.toLowerCase())||\"\")})),c&&c?.length>0){let S=u.filter(C=>{var A;return W(c).call(c,((A=C.rtpMap)===null||A===void 0?void 0:A.encodingName.toLowerCase())||\"\")});u=S.concat(r?[]:yf(S,u));}let f=v(\"UNSUPPORTED_VIDEO_CODEC\");return f&&f.length>0&&(u=u.filter(S=>!(S.rtpMap&&W(f).call(f,S.rtpMap.encodingName.toLowerCase())))),{audioCodecs:l,videoCodecs:u,audioExtensions:h,videoExtensions:p}}function io(t){let e=Le.parse(t),n,i;for(let r of e.mediaDescriptions){if(!n){let o=r.attributes.iceUfrag,s=r.attributes.icePwd;if(!o||!s)throw new Error(\"Cannot get iceUfrag or icePwd from SDP.\");n={iceUfrag:o,icePwd:s};}if(!i){let o=r.attributes.fingerprints;o.length>0&&(i={fingerprints:o});}}if(!i&&e.attributes.fingerprints.length>0&&(i={fingerprints:e.attributes.fingerprints}),!i||!n)throw new Error(\"Cannot get iceParameters or dtlsParameters from SDP.\");return {iceParameters:n,dtlsParameters:i}}function n0(t,e){let n=[],i=t.attributes.ssrcGroups.filter(s=>s.semantic===\"FID\"),r=t.attributes.ssrcGroups.find(s=>s.semantic===\"SIM\"),o=t.attributes.ssrcs;if(r)r.ssrcIds.forEach(s=>{var a;let c=(a=i.find(d=>d.ssrcIds[0]===s))===null||a===void 0?void 0:a.ssrcIds[1];n.push({ssrcId:s,rtx:e?c:void 0});});else if(i.length>0){let s=i[0].ssrcIds[0],a=i[0].ssrcIds[1];n.push({ssrcId:s,rtx:e?a:void 0});}else {if(o.length===0)throw new Error(\"No ssrcs found on local media description.\");n.push({ssrcId:o[0].ssrcId});}return n}function qI(t,e,n){let{cname:i}=t,r;e?r=i0(e):(r=t.iceParameters.candidates.map(l=>({foundation:l.foundation,componentId:\"1\",transport:l.protocol,priority:l.priority.toString(),connectionAddress:l.ip,port:l.port.toString(),type:l.type,extension:{}})),_.debug(\"Using candidates from gateway.\"));let o={fingerprints:t.dtlsParameters.fingerprints.map(l=>({hashFunction:l.algorithm,fingerprint:l.fingerprint}))},s={iceUfrag:t.iceParameters.iceUfrag,icePwd:t.iceParameters.icePwd},a;switch(t.dtlsParameters.role){case\"server\":a=\"passive\";break;case\"client\":a=\"active\";break;case\"auto\":a=\"actpass\";}let c=uu(t.rtpCapabilities),d=[];return Array.isArray(n)&&n.length>0&&n.forEach(l=>{d.push({kind:Q.VIDEO,ssrcId:l.v,rtx:l.v_rtx,mslabel:\"\".concat(l.v,\"_\").concat(l.a)},{kind:Q.AUDIO,ssrcId:l.a,mslabel:\"\".concat(l.v,\"_\").concat(l.a)});}),{dtlsParameters:o,iceParameters:s,candidates:r,rtpCapabilities:c,setup:a,cname:i,preSSRCs:d}}function i0(t){let e=[];return t.ip&&typeof t.port==\"number\"&&(e=[{foundation:\"udpcandidate\",componentId:\"1\",transport:\"udp\",priority:\"2103266323\",connectionAddress:t.ip,port:t.port.toString(),type:\"host\",extension:{}}],_.debug(\"Using remote candidate from AP \".concat(t.ip,\":\").concat(t.port)),t.ip6&&(e.push({foundation:\"udpcandidate\",componentId:\"1\",transport:\"udp\",priority:\"2103266323\",connectionAddress:t.ip6,port:t.port.toString(),type:\"host\",extension:{}}),_.debug(\"Using IPV6 remote candidate from AP \".concat(t.ip6,\":\").concat(t.port)))),e}function Lo(t,e,n){let i=[],r=[];return t.forEach(o=>{let{ssrcId:s,rtx:a}=o,c=Ut(8,\"track-\"),d={ssrcId:s,attributes:YI({label:c,mslabel:n=n||Ut(10,\"\"),msid:\"\".concat(n,\" \").concat(c)},e&&{cname:e})};if(i.push(d),a!==void 0){let l={ssrcId:a,attributes:YI({label:c,mslabel:n,msid:\"\".concat(n,\" \").concat(c)},e&&{cname:e})};i.push(l),r.push({semantic:\"FID\",ssrcIds:[s,a]});}}),t.length>1&&r.push({semantic:\"SIM\",ssrcIds:t.map(o=>{let{ssrcId:s}=o;return s})}),{ssrcs:i,ssrcGroups:r}}function ra(t,e){e instanceof Qt&&t.attributes.payloads.forEach(n=>{var i;let r=(i=n.rtpMap)===null||i===void 0?void 0:i.encodingName.toLowerCase();if(!r||[\"opus\",\"pcmu\",\"pcma\",\"g722\"].indexOf(r)===-1)return;n.fmtp||(n.fmtp={parameters:{}}),n.fmtp.parameters.minptime=\"10\",n.fmtp.parameters.useinbandfec=\"1\";let o=e._encoderConfig;o&&r!==\"pcmu\"&&r!==\"pcma\"&&r!==\"g722\"&&(o.bitrate&&!$t()&&(n.fmtp.parameters.maxaveragebitrate=\"\".concat(Math.floor(1e3*o.bitrate))),o.sampleRate&&(n.fmtp.parameters.maxplaybackrate=\"\".concat(o.sampleRate),n.fmtp.parameters[\"sprop-maxcapturerate\"]=\"\".concat(o.sampleRate)),o.stereo&&(n.fmtp.parameters.stereo=\"1\",n.fmtp.parameters[\"sprop-stereo\"]=\"1\"));});}function If(t){let e=t.attributes.unrecognized.findIndex(n=>n.attField===\"x-google-flag\"&&n.attValue===\"conference\");e!==-1&&t.attributes.unrecognized.splice(e,1);}function vf(t,e){var n;if(!(e instanceof Ft&&e._encoderConfig&&e._hints.indexOf(Gt.SCREEN_TRACK)===-1))return;let i=e._encoderConfig;ft().supportMinBitrate&&i.bitrateMin&&t.attributes.payloads.forEach(r=>{var o,s;W(o=[\"h264\",\"h265\",\"vp8\",\"vp9\",\"av1\"]).call(o,((s=r.rtpMap)===null||s===void 0?void 0:s.encodingName.toLowerCase())||\"\")&&(r.fmtp||(r.fmtp={parameters:{}}),r.fmtp.parameters[\"x-google-min-bitrate\"]=\"\".concat(i.bitrateMin));}),ft().supportMinBitrate&&!W(n=e._hints).call(n,Gt.LOW_STREAM)&&i.bitrateMax&&t.attributes.payloads.forEach(r=>{var o,s;W(o=[\"h264\",\"h265\",\"vp8\",\"vp9\",\"av1\"]).call(o,((s=r.rtpMap)===null||s===void 0?void 0:s.encodingName.toLowerCase())||\"\")&&(r.fmtp||(r.fmtp={parameters:{}}),r.fmtp.parameters[\"x-google-start-bitrate\"]=\"\".concat(v(\"X_GOOGLE_START_BITRATE\")||Math.floor(i.bitrateMax)));});}function r0(t){if(t.media.mediaType!==\"video\")return;let e=mt();if(e.name!==It.SAFARI&&e.os!==ye.IOS)return;let n=t.attributes.extmaps.findIndex(i=>/video-orientation/g.test(i.extensionName));n!==-1&&t.attributes.extmaps.splice(n,1);}function lu(t,e,n){if(!e)return;let i,r;if(t.media.mediaType===\"video\"?(i=n.videoExtensions,r=n.videoCodecs):(i=n.audioExtensions,r=n.audioCodecs),e.twcc===!0){let o=i.find(s=>s.extensionName===\"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\");o&&(t.attributes.extmaps.find(a=>a.extensionName===\"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\")||t.attributes.extmaps.push({entry:o.entry,extensionName:\"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\"}),function(a,c){return c.filter(d=>!!a.find(l=>l.payloadType===d.payloadType&&!!l.rtcpFeedbacks.find(u=>u.type===\"transport-cc\")))}(r,t.attributes.payloads).forEach(a=>{a.rtcpFeedbacks.find(c=>c.type===\"transport-cc\")||a.rtcpFeedbacks.push({type:\"transport-cc\"});}));}else if(e.twcc===!1){let o=t.attributes.extmaps.findIndex(s=>s.extensionName===\"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\");o!==-1&&t.attributes.extmaps.splice(o,1),t.attributes.payloads.forEach(s=>{let a=s.rtcpFeedbacks.findIndex(c=>c.type===\"transport-cc\");a!==-1&&s.rtcpFeedbacks.splice(a,1);});}if(e.remb===!0){let o=i.find(s=>s.extensionName===\"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\");o&&(t.attributes.extmaps.find(a=>a.extensionName===\"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\")||t.attributes.extmaps.push({entry:o.entry,extensionName:\"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\"}),function(a,c){return c.filter(d=>!!a.find(l=>l.payloadType===d.payloadType&&!!l.rtcpFeedbacks.find(u=>u.type===\"goog-remb\")))}(r,t.attributes.payloads).forEach(a=>{a.rtcpFeedbacks.find(c=>c.type===\"goog-remb\")||a.rtcpFeedbacks.push({type:\"goog-remb\"});}));}else if(e.remb===!1){let o=t.attributes.extmaps.findIndex(s=>s.extensionName===\"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\");o!==-1&&t.attributes.extmaps.splice(o,1),t.attributes.payloads.forEach(s=>{let a=s.rtcpFeedbacks.findIndex(c=>c.type===\"goog-remb\");a!==-1&&s.rtcpFeedbacks.splice(a,1);});}}function o0(t,e,n){if($t()||t.media.mediaType!==\"video\"||!(e instanceof Ft)||n!==\"vp9\"&&n!==\"vp8\"||n===\"vp8\"&&!v(\"SIMULCAST\")||n===\"vp9\"&&v(\"ENABLE_SVC\")||e._scalabilityMode===void 0||e._scalabilityMode.numSpatialLayers<=1)return;let i=n===\"vp8\"?2:e._scalabilityMode.numSpatialLayers,r=t.attributes.ssrcs[0],o=t.attributes.ssrcGroups.find(a=>a.semantic===\"FID\"&&a.ssrcIds[0]===r.ssrcId),s={semantic:\"SIM\",ssrcIds:[r.ssrcId]};for(let a=1;a<i;a++)t.attributes.ssrcs.push({ssrcId:r.ssrcId+a,attributes:le(r.attributes)}),s.ssrcIds.push(r.ssrcId+a),o&&(t.attributes.ssrcs.push({ssrcId:o.ssrcIds[1]+a,attributes:le(r.attributes)}),t.attributes.ssrcGroups.push({semantic:\"FID\",ssrcIds:[r.ssrcId+a,o.ssrcIds[1]+a]}));t.attributes.ssrcGroups.unshift(s);}async function s0(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=new RTCPeerConnection;n.addTransceiver(\"video\",{direction:\"sendonly\"}),n.addTransceiver(\"audio\",{direction:\"sendonly\"}),n.addTransceiver(\"video\",{direction:\"recvonly\"}),n.addTransceiver(\"audio\",{direction:\"recvonly\"});let i=(await n.createOffer()).sdp,{send:r,recv:o,sendrecv:s}=function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=arguments.length>2?arguments[2]:void 0,l=Lc(d,a,c,\"sendonly\"),u=Lc(d,a,c,\"recvonly\"),h={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},p={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},g={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(Ii(l,u,\"videoExtensions\",h,p,g),Ii(l,u,\"videoCodecs\",h,p,g),Ii(l,u,\"audioExtensions\",h,p,g),Ii(l,u,\"audioCodecs\",h,p,g),v(\"RAISE_H264_BASELINE_PRIORITY\")){let E=g.videoCodecs.findIndex(f=>{var S,C;return ((S=f.rtpMap)===null||S===void 0?void 0:S.encodingName.toLocaleLowerCase())===\"h264\"&&((C=f.fmtp)===null||C===void 0?void 0:C.parameters[\"profile-level-id\"])===\"42001f\"});if(E!==-1){let f=g.videoCodecs.findIndex(S=>{var C;return ((C=S.rtpMap)===null||C===void 0?void 0:C.encodingName.toLocaleLowerCase())===\"h264\"});if(f<E){_.debug(\"raising H264 baseline profile priority\");let S=g.videoCodecs[E];g.videoCodecs.splice(E,1),g.videoCodecs.splice(f,0,S);}f!==-1&&(p.videoCodecs=p.videoCodecs.filter(S=>{var C,A;return !(((C=S.rtpMap)===null||C===void 0?void 0:C.encodingName.toLocaleLowerCase())===\"h264\"&&((A=S.fmtp)===null||A===void 0?void 0:A.parameters[\"profile-level-id\"])!==\"42001f\")})),f!==-1&&v(\"FILTER_SEND_H264_BASELINE\")&&(h.videoCodecs=h.videoCodecs.filter(S=>{var C,A;return !(((C=S.rtpMap)===null||C===void 0?void 0:C.encodingName.toLocaleLowerCase())===\"h264\"&&((A=S.fmtp)===null||A===void 0?void 0:A.parameters[\"profile-level-id\"])!==\"42001f\")}));}}return {send:h,recv:p,sendrecv:g}}(t,e,i);try{n.close();}catch{}return {send:r,recv:o,sendrecv:s}}function zI(){let t={audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},e=Lc(arguments.length>2?arguments[2]:void 0,arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},\"recvonly\"),n={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},i={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},r={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(Ii(t,e,\"videoExtensions\",n,i,r),Ii(t,e,\"videoCodecs\",n,i,r),Ii(t,e,\"audioExtensions\",n,i,r),Ii(t,e,\"audioCodecs\",n,i,r),v(\"RAISE_H264_BASELINE_PRIORITY\")){let o=r.videoCodecs.findIndex(s=>s.rtpMap&&s.rtpMap.encodingName.toLocaleLowerCase()===\"h264\"&&s.fmtp&&s.fmtp.parameters[\"profile-level-id\"]===\"42001f\");if(o!==-1){let s=r.videoCodecs.findIndex(a=>a.rtpMap&&a.rtpMap.encodingName.toLocaleLowerCase()===\"h264\");if(s<o){_.debug(\"raising H264 baseline profile priority\");let a=r.videoCodecs[o];r.videoCodecs.splice(o,1),r.videoCodecs.splice(s,0,a);}s!==-1&&(i.videoCodecs=i.videoCodecs.filter(a=>!(a.rtpMap&&a.rtpMap.encodingName.toLocaleLowerCase()===\"h264\"&&a.fmtp&&a.fmtp.parameters[\"profile-level-id\"]!==\"42001f\")));}}return {send:n,recv:i,sendrecv:r}}function Ii(t,e,n,i,r,o){if(n===\"videoExtensions\"||n===\"audioExtensions\"){let s=[];return t[n].forEach(a=>{e[n].some((c,d)=>{if(a.entry===c.entry&&a.extensionName===c.extensionName)return s.push(d),!0})?o[n].push(a):i[n].push(a);}),void e[n].forEach((a,c)=>{s.indexOf(c)===-1&&r[n].push(a);})}if(n===\"videoCodecs\"||n===\"audioCodecs\"){let s=[];return t[n].forEach(a=>{e[n].some((c,d)=>{if(a.payloadType===c.payloadType&&JSON.stringify(a)===JSON.stringify(c))return s.push(d),!0})?o[n].push(a):i[n].push(a);}),void e[n].forEach((a,c)=>{s.indexOf(c)===-1&&r[n].push(a);})}}function uu(t){let{send:e,recv:n,sendrecv:i}=t;if(!i){if(!e||!n)throw new Error(\"cannot merge rtp capabilities because one of send or recv is empty!\");return {send:e,recv:n}}let r,o;return e?(r={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},r.audioCodecs=[...e.audioCodecs,...i.audioCodecs],r.videoCodecs=[...e.videoCodecs,...i.videoCodecs],r.audioExtensions=[...e.audioExtensions,...i.audioExtensions],r.videoExtensions=[...e.videoExtensions,...i.videoExtensions]):r=i,n?(o={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},o.audioCodecs=[...n.audioCodecs,...i.audioCodecs],o.videoCodecs=[...n.videoCodecs,...i.videoCodecs],o.audioExtensions=[...n.audioExtensions,...i.audioExtensions],o.videoExtensions=[...n.videoExtensions,...i.videoExtensions]):o=i,{send:r,recv:o}}function oa(t){t.media.mediaType===\"audio\"&&t.attributes.payloads.filter(e=>{var n;return ((n=e.rtpMap)===null||n===void 0?void 0:n.encodingName.toLowerCase())===\"opus\"}).forEach(e=>{e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters.stereo=\"1\",e.fmtp.parameters[\"sprop-stereo\"]=\"1\";});}function ac(t,e,n,i){let r=[];if(t===Q.VIDEO){if(v(\"H264_PROFILE_LEVEL_ID\")&&i===\"h264\"&&(r=e.videoCodecs.filter(o=>{var s;return W(s=o.rtpMap&&o.rtpMap.encodingName.toLowerCase()||\"\").call(s,i)&&o&&o.fmtp&&o.fmtp.parameters[\"profile-level-id\"]===v(\"H264_PROFILE_LEVEL_ID\")})),!Array.isArray(r)||r.length===0){let o=[],s=[],a=[],c=[];if(n.videoCodecs.forEach(d=>{let l=d.rtpMap&&d.rtpMap.encodingName.toLowerCase()||\"\";W(l).call(l,i)?o.push(d):W(l).call(l,\"vp9\")?s.push(d):W(l).call(l,\"vp8\")?a.push(d):W(l).call(l,\"h264\")&&c.push(d);}),o.length===0){let d=\"\";s.length!==0?(o=s,d=\"vp9\"):a.length!==0?(o=a,d=\"vp8\"):c.length!==0&&(o=c,d=\"h264\"),_.warning(\"codec \".concat(i,\" not included in rtpCapabilities, fallback to default payloads: \").concat(d));}o.length!==0&&(r=e.videoCodecs.filter(d=>o.some(l=>l.payloadType===d.payloadType)));}if(r.length===0&&(_.warning(\"codec \".concat(i,\" not included in rtpCapabilities, fallback to default payloads: \").concat(e.videoCodecs[0].rtpMap&&e.videoCodecs[0].rtpMap.encodingName)),r=e.videoCodecs),v(\"USE_PUB_RTX\")||v(\"USE_SUB_RTX\")){let o=yf(r,e.videoCodecs);r=[...r,...o];}}else r=e.audioCodecs.filter(o=>{var s;return W(s=o.rtpMap&&o.rtpMap.encodingName.toLowerCase()||\"\").call(s,i)}),r.length===0&&(_.warning(\"codec \".concat(i,\" not included in rtpCapabilities, fallback to opus\")),r=e.audioCodecs.filter(o=>{var s;return W(s=o.rtpMap&&o.rtpMap.encodingName.toLowerCase()||\"\").call(s,\"opus\")}));return r}function yf(t,e){let n=t.map(i=>i.payloadType.toString());return e.filter(i=>i.rtpMap&&i.rtpMap.encodingName===\"rtx\"&&i.fmtp&&i.fmtp.parameters.apt&&W(n).call(n,i.fmtp&&i.fmtp.parameters.apt))}async function Wd(t,e,n){let i=e.toString(),r=c0(i,\"offer\",\"remote\",\"exchangeSDP\");await t.setRemoteDescription({type:\"offer\",sdp:i});let o=await t.createAnswer();if(!o.sdp)throw new Error(\"cannot get answer sdp\");let s=o.sdp;s=a0(s,n||{}),r?.(s||\"\"),await t.setLocalDescription({type:\"answer\",sdp:s});}function a0(t,e,n){let i=Le.parse(t),{useXR:r}=e;return i.mediaDescriptions.forEach(o=>{var s;o.attributes.mid&&(Array.isArray(n)&&!W(n).call(n,o.attributes.mid)||(o.media.mediaType===\"audio\"&&oa(o),r&&W(s=[\"audio\",\"video\"]).call(s,o.media.mediaType)&&o.attributes.payloads.forEach(a=>{a.rtcpFeedbacks.findIndex(c=>c.type===\"rrtr\")===-1&&a.rtcpFeedbacks.push({type:\"rrtr\"});})));}),Le.print(i)}function c0(t,e,n,i){if(v(\"SDP_LOGGING\"))return _.upload(\"exchanging \".concat(n,\" \").concat(e,\" SDP during P2PConnection.\").concat(i,`\n`),t),e===\"offer\"?r=>{c0(r,\"answer\",n===\"local\"?\"remote\":\"local\",i);}:void 0}function Xi(t,e){return typeof v(t)===e?v(t):void 0}function JI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var d_=new Map,tm=class extends Xt{get state(){return this._state}set state(e){if(e===this._state)return;let n=this._state;this._state=e,e===\"DISCONNECTED\"&&this._disconnectedReason?this.emit(xe.CONNECTION_STATE_CHANGE,e,n,this._disconnectedReason):this.emit(xe.CONNECTION_STATE_CHANGE,e,n);}get joinGatewayStartTime(){return this._joinGatewayStartTime}set joinGatewayStartTime(e){_.debug(\"[\".concat(this.store.clientId,\"] set joinGatewayStartTime at \").concat(e)),this._joinGatewayStartTime=e;}constructor(e,n){super(),T(this,\"store\",void 0),T(this,\"joinInfo\",void 0),T(this,\"key\",void 0),T(this,\"ntpOffset\",0),T(this,\"signal\",void 0),T(this,\"role\",void 0),T(this,\"inChannelInfo\",{joinAt:null,duration:0}),T(this,\"spec\",void 0),T(this,\"_state\",\"DISCONNECTED\"),T(this,\"_statsCollector\",void 0),T(this,\"_disconnectedReason\",void 0),T(this,\"isSignalRecover\",!1),T(this,\"hasChangeBGPAddress\",!1),T(this,\"trafficStatsInterval\",void 0),T(this,\"networkQualityInterval\",void 0),T(this,\"_joinGatewayStartTime\",0),T(this,\"_signalTimeout\",!1),T(this,\"_clientRoleOptions\",void 0),T(this,\"_isProactiveJoin\",!1),this.store=e,this.spec=n,this.signal=this.store.useP2P?new du(jr(jr({},n),{},{retryConfig:n.websocketRetryConfig}),e):new jE(jr(jr({},n),{},{retryConfig:n.websocketRetryConfig}),e),this._statsCollector=n.statsCollector,this.role=n.role||\"audience\",this._clientRoleOptions=n.clientRoleOptions,this.handleSignalEvents();}async join(e,n,i){this.store.joinGatewayStart(),e.cloudProxyServer!==\"disabled\"&&(this.hasChangeBGPAddress=!0);let r=Date.now(),o=d_.get(e.cname);if(o||(o=new Map,d_.set(e.cname,o)),this._isProactiveJoin=!0,o.has(e.uid)){let d=new O(R.UID_CONFLICT);throw X.joinGateway(e.sid,{lts:r,succ:!1,ec:d.code,addr:null,uid:e.uid,cid:e.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!e.proxyServer,signalChannel:\"0\",preload:e.preload}),this._isProactiveJoin=!1,d}o.set(e.uid,!0),this.joinInfo=e,this.key=n;let s=0;this.joinGatewayStartTime=r;let a=e.proxyServer;try{_.debug(\"[\".concat(this.store.clientId,\"] use websocket join uid \").concat(s));let d=e.gatewayAddrs.map(l=>{let{address:u}=l,[h,p]=u.split(\":\"),g={host:h,port:p};return e.proxyServer&&(g.proxy=e.proxyServer),g});s=(await this.signal.init(d,i)).uid,_.debug(\"[\".concat(this.store.clientId,\"] websocket join uid \").concat(s,\" cost \").concat(Date.now()-this.joinGatewayStartTime));}catch(d){var c;throw _.error(\"[\".concat(this.store.clientId,\"] User join failed\"),d.toString()),X.joinGateway(e.sid,{lts:r,succ:!1,ec:((c=d.data)===null||c===void 0?void 0:c.desc)||d.code,errorMsg:d.message,addr:this.signal.url,uid:e.uid,cid:e.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!a,signalChannel:\"0\",preload:e.preload}),this._isProactiveJoin=!1,o.delete(e.uid),this.signal.close(),d}return this.state=\"CONNECTED\",this.inChannelInfo.joinAt=Date.now(),_.debug(\"[\".concat(this.store.clientId,\"] Connected to gateway server\")),this.trafficStatsInterval=window.setInterval(()=>{this.updateTrafficStats().catch(d=>{_.warning(\"[\".concat(this.store.clientId,\"] get traffic stats error\"),d.toString());});},3e3),this.networkQualityInterval=window.setInterval(()=>{navigator&&navigator.onLine!==void 0&&!navigator.onLine?this.emit(xe.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6}):this._signalTimeout?this.emit(xe.NETWORK_QUALITY,{downlinkNetworkQuality:5,uplinkNetworkQuality:5}):this.state===\"CONNECTED\"&&this._statsCollector.trafficStats?this.emit(xe.NETWORK_QUALITY,{uplinkNetworkQuality:WR(this._statsCollector.trafficStats.B_unq),downlinkNetworkQuality:WR(this._statsCollector.trafficStats.B_dnq)}):this.emit(xe.NETWORK_QUALITY,{uplinkNetworkQuality:0,downlinkNetworkQuality:0});},2e3),this.store.joinGatewayEnd(),s}async leave(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=arguments.length>1?arguments[1]:void 0;if(this.state!==\"DISCONNECTED\"){n!==At.FALLBACK&&(this.state=\"DISCONNECTING\");try{e||this.signal.connectionState!==Lt.CONNECTED||await function(i,r){return r===1/0?i:j.race([i,mB(r)])}(this.signal.request(et.LEAVE,void 0,!0),3e3);}catch(i){_.warning(\"[\".concat(this.store.clientId,\"] leave request failed, ignore\"),i);}this.signal.close(n),n!==At.FALLBACK&&(this.state=\"DISCONNECTED\"),this.reset();}}async publish(e,n,i){if(this.state!==\"CONNECTED\"&&this.state!==\"RECONNECTING\")throw new O(R.INVALID_OPERATION,\"can not publish when connection state is \".concat(this.state));let r={state:\"offer\",p2p_id:this.store.p2pId,ortc:n,mode:this.spec.mode,extend:v(\"PUB_EXTEND\"),twcc:!!v(\"PUBLISH_TWCC\"),rtx:!!v(\"USE_PUB_RTX\")};try{return (await this.signal.request(et.PUBLISH,r,!0))._message}catch(o){if(i&&o.data&&o.data.code===Z.ERR_PUBLISH_REQUEST_INVALID)return _.warning(\"[\".concat(this.store.clientId,\"] receive publish error code, retry\"),o.toString()),await this.tryUnpubBeforeRepub(e,n),this.publish(e,n,!1);throw o}}async publishDataChannel(e,n,i){var r;if(this.state!==\"CONNECTED\"&&this.state!==\"RECONNECTING\")throw new O(R.INVALID_OPERATION,\"can not publish when connection state is \".concat(this.state));let o={stream_id:n.streamId,ordered:n.ordered?1:0,max_retrans_times:(r=n.maxRetransmits)!==null&&r!==void 0?r:10,channel_id:n.channelId,metadata:n.metadata};try{await this.signal.request(et.PUBLISH_DATASTREAM,o,!0);}catch(s){if(i&&s.data&&s.data.code===Z.ERR_PUBLISH_REQUEST_INVALID)return _.warning(\"[\".concat(this.store.clientId,\"] receive publish datachannels error code, retry\"),s.toString()),await this.tryUnpubDataChannelBeforeRepub(e,n),this.publishDataChannel(e,n,!1);throw s}}async unpublish(e,n){try{if(this.state!==\"CONNECTED\"&&this.state!==\"RECONNECTING\")throw new O(R.INVALID_OPERATION,\"can not publish when connection state is \".concat(this.state));await this.signal.request(et.UNPUBLISH,{stream_id:n,ortc:e},!0);}catch(i){_.warning(\"[\".concat(this.store.clientId,\"] unpublish warning: \"),i);}}async unpublishDataChannel(e){try{if(this.state!==\"CONNECTED\"&&this.state!==\"RECONNECTING\")throw new O(R.INVALID_OPERATION,\"can not publish when connection state is \".concat(this.state));await j.all(e.map(n=>this.signal.request(et.UNPUBLISH_DATASTREAM,{channel_id:n},!0)));}catch(n){_.warning(\"unpublish datachannels warning: \",n);}}async presubscribe(e,n,i){if(this.state!==\"CONNECTED\"&&this.state!==\"RECONNECTING\")throw new O(R.INVALID_OPERATION,\"can not presubscribe when connection state is \".concat(this.state));let r={stream_id:e,stream_type:n,mode:this.spec.mode,codec:this.spec.codec,p2p_id:this.store.p2pId,twcc:!!v(\"SUBSCRIBE_TWCC\"),rtx:!!v(\"USE_SUB_RTX\")||void 0,extend:v(\"SUB_EXTEND\"),svc:Array.isArray(v(\"SVC\"))&&v(\"SVC\").length!==0?v(\"SVC\"):void 0};try{return await this.signal.request(et.PRE_SUBSCRIBE,r,!0)}catch(o){if(i&&o.data&&o.data.code===Z.ERR_SUBSCRIBE_REQUEST_INVALID)return _.warning(\"[\".concat(this.store.clientId,\"] pre-subscribe error, retry\"),o.toString()),this.presubscribe(e,n,!1);throw o}}async subscribe(e,n,i){if(this.state!==\"CONNECTED\"&&this.state!==\"RECONNECTING\")throw new O(R.INVALID_OPERATION,\"can not subscribe when connection state is \".concat(this.state));let r={stream_id:e,stream_type:n.stream_type,mode:this.spec.mode,codec:this.spec.codec,p2p_id:this.store.p2pId,twcc:!!v(\"SUBSCRIBE_TWCC\"),rtx:!!v(\"USE_SUB_RTX\"),extend:v(\"SUB_EXTEND\"),ssrcId:n.ssrcId,svc:Array.isArray(v(\"SVC\"))&&v(\"SVC\").length!==0?v(\"SVC\"):void 0};try{return (await this.signal.request(et.SUBSCRIBE,r,!0))._message}catch(o){if(i&&o.data&&o.data.code===Z.ERR_SUBSCRIBE_REQUEST_INVALID)return _.warning(\"[\".concat(this.store.clientId,\"] receiver subscribe error code, retry\"),o.toString()),await this.tryUnsubBeforeResub(e,n),await this.subscribe(e,n,!1);throw o}}async subscribeDataChannel(e,n,i){if(this.state!==\"CONNECTED\"&&this.state!==\"RECONNECTING\")throw new O(R.INVALID_OPERATION,\"can not subscribe datachannel when connection state is \".concat(this.state));let r={uid:e,stream_id:n.id,channel_id:n.datachannelId};try{return void await this.signal.request(et.SUBSCRIBE_DATASTREAM,r,!0)}catch(o){if(i&&o.data&&o.data.code===Z.ERR_SUBSCRIBE_REQUEST_INVALID)return _.warning(\"[\".concat(this.store.clientId,\"] receiver subscribe datachannel error code, retry\"),o.toString()),await this.tryUnsubDataChannelBeforeResub(e,n),await this.subscribeDataChannel(e,n,!1);throw o}}async subscribeAll(e,n){if(this.state!==\"CONNECTED\"&&this.state!==\"RECONNECTING\")throw new O(R.INVALID_OPERATION,\"can not massSubscribe when connection state is \".concat(this.state));let i={p2p_id:this.store.p2pId,users:e,dtx:!1,rtx:!!v(\"USE_SUB_RTX\"),twcc:!!v(\"SUBSCRIBE_TWCC\"),svc:Array.isArray(v(\"SVC\"))&&v(\"SVC\").length!==0?v(\"SVC\"):void 0};try{return await this.signal.request(et.SUBSCRIBE_STREAMS,i,!0)}catch(r){if(n&&r.data&&r.data.code===Z.ERR_SUBSCRIBE_REQUEST_INVALID)return _.warning(\"[\".concat(this.store.clientId,\"] receiver massSubscribe error code, retry\"),r.toString()),await this.tryMassUnsubBeforeResub(e),await this.subscribeAll(e,!1);throw r}}async setVideoProfile(e){let n=function(i){if(!(i.bitrateMax&&i.bitrateMin&&i.frameRate&&i.height&&i.width))return;let r=i.frameRate,o=i.width,s=i.height,a=!0;return typeof r!=\"number\"&&(r=r.exact||r.ideal||r.max||r.min||0,r||(a=!1)),typeof o!=\"number\"&&(o=o.exact||o.ideal||o.max||o.min||0,o||(a=!1)),typeof s!=\"number\"&&(s=s.exact||s.ideal||s.max||s.min||0,r||(a=!1)),a?{stream_type:0,width:o,height:s,fps:r,start_bps:1e3*i.bitrateMax,min_bps:1e3*i.bitrateMin,target_bps:1e3*i.bitrateMax}:void 0}(e);if(n)return this.signal.request(et.SET_VIDEO_PROFILE,n);_.debug(\"[\".concat(this.store.clientId,\"] encoder config is not complete, do not report to gateway\"));}async unsubscribe(e,n){try{await this.signal.request(et.UNSUBSCRIBE,{p2p_id:this.store.p2pId,ortc:e,stream_id:n},!0);}catch(i){_.warning(\"[\".concat(this.store.clientId,\"] unsubscribe warning: \"),i);}}async unsubscribeDataChannel(e,n){try{if(this.state!==\"CONNECTED\"&&this.state!==\"RECONNECTING\")throw new O(R.INVALID_OPERATION,\"can not publish when connection state is \".concat(this.state));await j.all(e.map(i=>this.signal.request(et.UNSUBSCRIBE_DATASTREAM,{stream_id:i,uid:n},!0)));}catch(i){_.warning(\"unsubscribeDataChannel warning: \",i);}}async massUnsubscribe(e){try{await this.signal.request(et.UNSUBSCRIBE_STREAMS,e,!0);}catch(n){_.warning(\"[\".concat(this.store.clientId,\"] massUnsubscribeAll warning: \"),n);}}async reconnectPC(e){let{iceParameters:n,dtlsParameters:i,rtpCapabilities:r}=e;return {gatewayEstablishParams:await this.signal.request(et.CONNECT_PC,{p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:{iceParameters:n,dtlsParameters:i,rtpCapabilities:r}},!0),gatewayAddress:this.getCurrentGatewayAddress()}}getGatewayInfo(){return this.signal.request(et.GATEWAY_INFO)}async renewToken(e){await this.signal.request(et.RENEW_TOKEN,e),this.key=e.token;}async setClientRole(e,n){if(n&&(this._clientRoleOptions=Object.assign({},n)),this.state!==\"CONNECTED\")return void(this.role=e);let i,r=0;e===\"audience\"?this._clientRoleOptions&&this._clientRoleOptions.delay?(i=this._clientRoleOptions.delay,r=1):r=this._clientRoleOptions&&this._clientRoleOptions.level?this._clientRoleOptions.level:2:r=0,await this.signal.request(et.SET_CLIENT_ROLE,{role:e,level:r,delay:i,client_ts:Date.now()}),this.role=e;}async setRemoteVideoStreamType(e,n){await this.signal.request(et.SWITCH_VIDEO_STREAM,{stream_id:e,stream_type:n});}async setDefaultRemoteVideoStreamType(e){await this.signal.request(et.DEFAULT_VIDEO_STREAM,{stream_type:e});}async setStreamFallbackOption(e,n){await this.signal.request(et.SET_FALLBACK_OPTION,{stream_id:e,fallback_type:n});}async pickSVCLayer(e,n){await this.signal.request(et.PICK_SVC_LAYER,{stream_id:e,spatial_layer:n.spatialLayer,temporal_layer:n.temporalLayer});}async setRTM2Flag(e){await this.signal.request(et.SET_RTM2_FLAG,{rtm2_flag:e});}async sendExtensionMessage(e,n,i){if(this.signal instanceof du)return this.signal.sendExtensionMessage(e,n,i)}getInChannelInfo(){return this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt),jr({},this.inChannelInfo)}async getGatewayVersion(){return (await this.signal.request(et.GATEWAY_INFO)).version}reset(){if(this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt,this.inChannelInfo.joinAt=null),this.trafficStatsInterval&&(window.clearInterval(this.trafficStatsInterval),this.trafficStatsInterval=void 0),this.joinInfo){let e=d_.get(this.joinInfo.cname);e&&e.delete(this.joinInfo.uid);}this.joinInfo=void 0,this.key=void 0,this.networkQualityInterval&&(window.clearInterval(this.networkQualityInterval),this.networkQualityInterval=void 0);}updateTurnConfigFromSignal(){if(!this.joinInfo)return;let e=function(n){let i;return i=n.startsWith(\"dc\")?n.match(/(dc\\:\\/\\/)?([^:]+):(\\d+)/):n.match(/(wss\\:\\/\\/)?([^:]+):(\\d+)/),i?{username:Ve.username,password:Ve.password,turnServerURL:i[2],tcpport:parseInt(i[3])+30,udpport:parseInt(i[3])+30,forceturn:!1}:null}((this.joinInfo.cloudProxyServer===\"disabled\"?this.signal.url:this.joinInfo.gatewayAddrs[this.signal.currentURLIndex].address)||\"\");this.joinInfo.turnServer.serversFromGateway=[],e&&this.joinInfo.turnServer.mode!==\"off\"&&this.joinInfo.cloudProxyServer===\"disabled\"&&this.joinInfo.turnServer.serversFromGateway.push(jr(jr({},Ve),{},{turnServerURL:e.turnServerURL,tcpport:e.tcpport,udpport:e.udpport,username:this.joinInfo.uid.toString(),password:this.joinInfo.token}));}async updateTrafficStats(){if(this.state!==\"CONNECTED\")return;let e=await this.signal.request(et.TRAFFIC_STATS,void 0,!0);e.timestamp=Date.now(),e.ntp_offset!=null&&(this.ntpOffset=e.ntp_offset),e.peer_delay.forEach(n=>{let i=this._statsCollector.trafficStats&&this._statsCollector.trafficStats.peer_delay.find(r=>r.peer_uid===n.peer_uid);i&&i.B_st!==n.B_st&&qu(()=>{this.emit(xe.STREAM_TYPE_CHANGE,n.peer_uid,n.B_st);});}),this._statsCollector.updateTrafficStats(e);}getJoinMessage(e){if(!this.joinInfo||!this.key)throw new O(R.UNEXPECTED_ERROR,\"can not generate join message, no join info\");let n=Object.assign({},this.joinInfo.apResponse),i=v(\"REPORT_APP_SCENARIO\");if(typeof i!=\"string\")try{i=JSON.stringify(i);}catch{i=void 0;}i&&i.length>128&&(i=void 0);let r=!($t()||EO(87)||pC())&&typeof v(\"ENABLE_PRE_SUB\")==\"boolean\"&&v(\"ENABLE_PRE_SUB\"),o=!pC()&&Xi(\"ENABLE_PREALLOC_PC\",\"boolean\"),s=jr({license:this.joinInfo.license,p2p_id:this.store.p2pId,session_id:this.joinInfo.sid,app_id:this.joinInfo.appId,channel_key:this.key,channel_name:this.joinInfo.cname,sdk_version:ii,browser:navigator.userAgent,process_id:v(\"PROCESS_ID\"),mode:this.store.useP2P?\"p2p\":this.spec.mode,codec:this.spec.codec,role:this.role,has_changed_gateway:this.hasChangeBGPAddress,ap_response:n,extend:v(\"JOIN_EXTEND\"),details:{6:this.joinInfo.stringUid,cservice_map:this.joinInfo.cloudProxyServer===\"proxy3\"?\"1\":this.joinInfo.cloudProxyServer===\"proxy5\"?\"2\":void 0},features:{rejoin:!0},optionalInfo:this.joinInfo.optionalInfo,appScenario:i,attributes:{userAttributes:{enablePublishedUserList:v(\"ENABLE_PUBLISHED_USER_LIST\"),maxSubscription:v(\"MAX_SUBSCRIPTION\"),subscribeAudioFilterTopN:typeof v(\"SUBSCRIBE_AUDIO_FILTER_TOPN\")==\"number\"?v(\"SUBSCRIBE_AUDIO_FILTER_TOPN\"):void 0,enablePublishAudioFilter:typeof v(\"ENABLE_PUBLISH_AUDIO_FILTER\")==\"boolean\"?v(\"ENABLE_PUBLISH_AUDIO_FILTER\"):void 0,enableUserLicenseCheck:typeof v(\"ENABLE_USER_LICENSE_CHECK\")==\"boolean\"?v(\"ENABLE_USER_LICENSE_CHECK\"):void 0,enableRTX:v(\"USE_PUB_RTX\")===!0||v(\"USE_SUB_RTX\")===!0||void 0,disableFEC:v(\"DISABLE_FEC\"),enableNTPReport:!!v(\"ENABLE_NTP_REPORT\")||void 0,enableInstantVideo:!!v(\"ENABLE_INSTANT_VIDEO\")||void 0,enableFulllinkAvSync:!!v(\"ENABLE_FULL_LINK_AV_SYNC\")||void 0,enableDataStream2:Xi(\"ENABLE_DATASTREAM_2\",\"boolean\"),enableAutFeedback:!!v(\"ENABLE_AUT_FEEDBACK\")||void 0,rtm2Flag:typeof this.joinInfo.rtmFlag==\"number\"?this.joinInfo.rtmFlag:void 0,enableUserAutoRebalanceCheck:!!v(\"ENABLE_USER_AUTO_REBALANCE_CHECK\"),enableXR:Xi(\"USE_XR\",\"boolean\"),enableLossbasedBwe:Xi(\"ENABLE_LOSSBASED_BWE\",\"boolean\"),enableAutCC:!!v(\"ENABLE_AUT_CC\")||void 0,enableCCFallback:Xi(\"ENABLE_CC_FALLBACK\",\"boolean\"),enablePreallocPC:o,preSubNum:r?Xi(\"PRE_SUB_NUM\",\"number\"):void 0,enablePubTWCC:Xi(\"PUBLISH_TWCC\",\"boolean\"),enableSubTWCC:Xi(\"SUBSCRIBE_TWCC\",\"boolean\"),enablePubRTX:Xi(\"USE_PUB_RTX\",\"boolean\"),enableSubRTX:Xi(\"USE_SUB_RTX\",\"boolean\"),enableSubSVC:v(\"ENABLE_SVC\")?v(\"ENABLE_SVC_DEFAULT_CODECS\"):Array.isArray(v(\"SVC\"))&&v(\"SVC\").length!==0?v(\"SVC\"):void 0}},join_ts:this.joinGatewayStartTime},e);return this.joinInfo.stringUid&&(s.string_uid=this.joinInfo.stringUid),this.joinInfo.aesmode&&this.joinInfo.aespassword&&(s.aes_mode=this.joinInfo.aesmode,v(\"ENCRYPT_AES\")?(s.aes_secret=this.joinInfo.aespassword,s.aes_encrypt=!0):s.aes_secret=this.joinInfo.aespassword,this.joinInfo.aessalt&&(s.aes_salt=this.joinInfo.aessalt)),n.addresses[this.signal.websocket.currentURLIndex]&&(s.ap_response.ticket=n.addresses[this.signal.websocket.currentURLIndex].ticket,delete n.addresses),this.joinInfo.defaultVideoStream!==void 0&&(s.default_video_stream=this.joinInfo.defaultVideoStream),s}getRejoinMessage(){if(!this.joinInfo)throw new O(R.UNEXPECTED_ERROR,\"can not generate rejoin message, no join info\");return {session_id:this.joinInfo.sid,channel_name:this.joinInfo.cname,cid:this.joinInfo.cid,uid:this.joinInfo.uid,vid:Number(this.joinInfo.vid)}}handleSignalEvents(){this.signal.on(nt.WS_RECONNECT_WAITTING_FINISH,e=>{var n;W(n=[\"tryNext\",\"recover\"]).call(n,e)&&this.joinInfo&&X.adjustSessionStartTime(this.joinInfo.sid);}),this.signal.on(nt.WS_RECONNECT_CREATE_CONNECTION,e=>{this.joinGatewayStartTime=Date.now();}),this.signal.on(nt.WS_RECONNECTING,e=>{this.joinInfo&&X.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:e||Be.NETWORK_ERROR}),this.joinInfo&&(this.state=\"RECONNECTING\",X.sessionInit(this.joinInfo.sid,{lts:new Date().getTime(),extend:this.isSignalRecover?{recover:!0}:{rejoin:!0},cname:this.joinInfo.cname,appid:this.joinInfo.appId,mode:this.spec.mode,stringUid:this.joinInfo.stringUid,channelProfile:this.spec.mode===\"live\"?1:0,channelMode:0,lsid:this.joinInfo.sid,clientRole:this.role===\"audience\"?2:1,buildFormat:2}),this.isSignalRecover=!1,this.joinGatewayStartTime=Date.now());}),this.signal.on(nt.WS_CLOSED,e=>{let n;switch(e){case At.LEAVE:n=Be.LEAVE;break;case At.UID_BANNED:case At.IP_BANNED:case At.CHANNEL_BANNED:case At.SERVER_ERROR:n=Be.SERVER_ERROR;break;case At.FALLBACK:n=Be.FALLBACK;break;case At.LICENSE_MISSING:case At.LICENSE_EXPIRED:case At.LICENSE_MINUTES_EXCEEDED:case At.LICENSE_PERIOD_INVALID:case At.LICENSE_MULTIPLE_SDK_SERVICE:case At.LICENSE_ILLEGAL:case At.TOKEN_EXPIRE:n=e;break;default:n=Be.NETWORK_ERROR;}_.debug(\"[\".concat(this.store.clientId,\"] [signal] websocket closed, reason: \").concat(n||\"undefined -> \"+Be.NETWORK_ERROR)),this.joinInfo&&X.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:e===At.LEAVE?1:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:n}),this._disconnectedReason=e,e!==At.FALLBACK&&(this.state=\"DISCONNECTED\"),this.reset();}),this.signal.on(nt.WS_CONNECTED,()=>{if(this.updateTurnConfigFromSignal(),this.state=\"CONNECTED\",this.joinInfo&&(this.role===\"audience\"&&this._clientRoleOptions&&(this._clientRoleOptions.level||this._clientRoleOptions.delay)&&(_.debug(\"[\".concat(this.store.clientId,\"] patch to send set client role, role: \").concat(this.role,\", mode: \").concat(this.spec.mode,\", level: \").concat(this._clientRoleOptions.level,\", delay: \").concat(this._clientRoleOptions.delay)),this.setClientRole(this.role,this._clientRoleOptions)),X.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!0,ec:null,vid:this.joinInfo.vid,addr:this.signal.url,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!this.joinInfo.proxyServer,signalChannel:\"0\",preload:this.joinInfo.preload}),this._isProactiveJoin=!1,this.joinInfo.useLocalAccessPoint&&this.joinInfo.setLocalAPVersion===1)){let e=this.signal.url&&this.signal.url.match(/wss\\:\\/\\/([^:]+):(\\d+)/);if(!e)return void _.error(\"[\".concat(this.store.clientId,\"] set local access point after joined failed: \").concat(e));Ot(\"EVENT_REPORT_DOMAIN\",e[1]),Ot(\"EVENT_REPORT_BACKUP_DOMAIN\",e[1]),Ot(\"LOG_UPLOAD_SERVER\",\"\".concat(e[1],\":6444\"));}}),this.signal.on(dt.ON_UPLINK_STATS,e=>{this._statsCollector.updateUplinkStats(e);}),this.signal.on(nt.REQUEST_RECOVER,(e,n,i)=>{if(!this.joinInfo)return i(new O(R.UNEXPECTED_ERROR,\"gateway: can not recover, no join info\"));e&&(this.joinInfo.multiIP=e,this.hasChangeBGPAddress=!0),this.isSignalRecover=!0,Ge(this,xe.REQUEST_NEW_GATEWAY_LIST).then(n).catch(i);}),this.signal.on(nt.REQUEST_JOIN_INFO,async e=>{var n;if(this.updateTurnConfigFromSignal(),this.store.useP2P)return void e(this.getJoinMessage({ortc:{}}));let{iceParameters:i,dtlsParameters:r,rtpCapabilities:o}=await Ge(this,xe.REQUEST_P2P_CONNECTION_PARAMS,{turnServer:(n=this.joinInfo)===null||n===void 0?void 0:n.turnServer});e(this.getJoinMessage({ortc:{iceParameters:i,dtlsParameters:r,rtpCapabilities:o,version:\"2\"}}));}),this.signal.on(nt.REQUEST_REJOIN_INFO,e=>{e(this.getRejoinMessage());}),this.signal.on(nt.REPORT_JOIN_GATEWAY,(e,n)=>{if(!this.joinInfo)return;let i,r=\"\";var o;e instanceof O?(i=((o=e.data)===null||o===void 0?void 0:o.desc)||e.code,r=e.message):i=e,X.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!1,ec:i,errorMsg:r,addr:n,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!this.joinInfo.proxyServer,signalChannel:\"0\",preload:this.joinInfo.preload}),this._isProactiveJoin=!1;}),this.signal.on(nt.IS_P2P_DISCONNECTED,e=>{e(Ac(this,xe.IS_P2P_DISCONNECTED));}),this.signal.on(nt.DISCONNECT_P2P,()=>{this.emit(xe.DISCONNECT_P2P);}),this.signal.on(nt.REQUEST_SUCCESS,()=>{this._signalTimeout=!1;}),this.signal.on(nt.REQUEST_TIMEOUT,()=>{this._signalTimeout=!0;}),this.signal.on(nt.JOIN_RESPONSE,e=>{let n=this.getCurrentGatewayAddress();this.emit(xe.JOIN_RESPONSE,e,n);}),this.signal.on(nt.PRE_CONNECT_PC,async()=>{if(this.joinInfo){this.updateTurnConfigFromSignal();let e=this.getCurrentGatewayAddress(),n=v(\"FINGERPRINT\")||this.joinInfo.apResponse.addresses[this.signal.currentURLIndex].fingerprint;if(e&&n){let i=i0(e);this.emit(xe.PRE_CONNECT_PC,{candidates:i,fingerprint:n});}}});}async tryUnsubBeforeResub(e,n){try{await this.signal.request(et.UNSUBSCRIBE,{p2p_id:this.store.p2pId,stream_id:e,ortc:[n]},!0);}catch(i){throw _.warning(\"[\".concat(this.store.clientId,\"] tryUnsubBeforeResub warning\"),i),i}}async tryUnsubDataChannelBeforeResub(e,n){try{await this.signal.request(et.UNSUBSCRIBE,{stream_id:n.id},!0);}catch(i){throw _.warning(\"unsubscribe datachannel warning\",i),i}}async tryUnpubBeforeRepub(e,n){try{await this.signal.request(et.UNPUBLISH,{stream_id:e,ortc:n},!0);}catch(i){throw _.warning(\"[\".concat(this.store.clientId,\"] tryUnpubBeforeRepub warning: \"),i),i}}async tryUnpubDataChannelBeforeRepub(e,n){try{await this.signal.request(et.UNPUBLISH_DATASTREAM,{channnel_id:n.channelId},!0);}catch(i){throw _.warning(\"unpublish datastream warning: \",i),i}}async tryMassUnsubBeforeResub(e){let n={users:e.map(i=>({stream_id:i.stream_id,stream_type:i.stream_type}))};try{await this.signal.request(et.UNSUBSCRIBE_STREAMS,n,!0);}catch(i){throw _.warning(\"[\".concat(this.store.clientId,\"] tryMassUnsubBeforeResub warning\"),i),i}}async muteLocal(e,n){let i={action:e.find(r=>r.stream_type===Ct.Audio)?\"mute_local_audio\":\"mute_local_video\",p2p_id:this.store.p2pId,ortc:e,stream_id:n};try{await this.signal.request(et.CONTROL,i,!0,!0);}catch(r){throw _.warning(\"[\".concat(this.store.clientId,\"] gateway muteLocal warning: \"),r),r}}async unmuteLocal(e,n){let i={action:e.find(r=>r.stream_type===Ct.Audio)?\"unmute_local_audio\":\"unmute_local_video\",p2p_id:this.store.p2pId,ortc:e,stream_id:n};try{await this.signal.request(et.CONTROL,i,!0,!0);}catch(r){throw _.warning(\"[\".concat(this.store.clientId,\"] gateway unmuteLocal warning: \"),r),r}}async muteRemote(e,n){let i={action:e===Q.AUDIO?\"mute_remote_audio\":\"mute_remote_video\",p2p_id:this.store.p2pId,stream_id:n};try{await this.signal.request(et.CONTROL,i,!0,!0);}catch(r){throw _.warning(\"[\".concat(this.store.clientId,\"] gateway muteRemote warning: \"),r),r}}async unmuteRemote(e,n){let i={action:e===Q.AUDIO?\"unmute_remote_audio\":\"unmute_remote_video\",p2p_id:this.store.p2pId,stream_id:n};try{await this.signal.request(et.CONTROL,i,!0,!0);}catch(r){throw _.warning(\"[\".concat(this.store.clientId,\"] gateway unmuteRemote warning: \"),r),r}}uploadWRTCStats(e){this.signal.uploadWRTCStats(e);}upload(e,n){this.signal.upload(e,n);}getSignalRTT(){return this.signal.rtt}async restartICE(e){let n={p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:e};try{return await this.signal.request(et.RESTART_ICE,n,!0)}catch(i){throw _.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.restartICE warning: \"),i),i}}reconnect(){this.state===\"CONNECTED\"&&this.signal.reconnect(void 0,Be.P2P_FAILED);}getCurrentGatewayAddress(){var e,n;if(!v(\"GATEWAY_WSS_ADDRESS\"))return v(\"USE_CANDIDATE_FROM_AP_DETAIL\")&&(e=this.joinInfo)!==null&&e!==void 0&&e.apGatewayAddress?(_.debug(\"[\".concat(this.store.clientId,\"] use candidate from ap detail, \").concat(JSON.stringify(this.joinInfo.apGatewayAddress))),this.joinInfo.apGatewayAddress):(n=this.joinInfo)!==null&&n!==void 0&&n.gatewayAddrs?this.joinInfo.gatewayAddrs[this.signal.currentURLIndex]:void 0}async setPublishAudioFilterEnabled(e){await this.signal.request(et.SET_PARAMETER,{enablePublishAudioFilter:e});}},Hd=0,l_=0;function Hi(t,e,n,i){return new j((r,o)=>{e.timeout=e.timeout||v(\"HTTP_CONNECT_TIMEOUT\"),e.responseType=e.responseType||\"json\",e.data&&!n?(e.data=JSON.stringify(e.data),Hd+=ar(e.data)):n&&(e.data.size?Hd+=e.data.size:e.data instanceof FormData?Hd+=AO(e.data):Hd+=ar(JSON.stringify(e.data))),e.headers=e.headers||{},e.headers[\"Content-Type\"]=e.headers[\"Content-Type\"]||\"application/json\",e.method=\"POST\",e.url=t,mn.request(e).then(s=>{typeof s.data==\"string\"?l_+=ar(s.data):s.data instanceof ArrayBuffer||s.data instanceof Uint8Array?l_+=s.data.byteLength:l_+=ar(JSON.stringify(s.data)),i&&r({data:s.data,headers:s.headers}),r(s.data);}).catch(s=>{mn.isCancel(s)?o(new O(R.OPERATION_ABORTED,\"cancel token canceled\")):s.code===\"ECONNABORTED\"?o(new O(R.NETWORK_TIMEOUT,s.message)):s.response?o(new O(R.NETWORK_RESPONSE_ERROR,s.response.status)):o(new O(R.NETWORK_ERROR,s.message));});})}(function(){var t;function e(L){var F=0;return function(){return F<L.length?{done:!1,value:L[F++]}:{done:!0}}}var n=typeof Object.defineProperties==\"function\"?Object.defineProperty:function(L,F,Y){return L==Array.prototype||L==Object.prototype||(L[F]=Y.value),L},i,r=function(L){L=[typeof globalThis==\"object\"&&globalThis,L,typeof window==\"object\"&&window,typeof self==\"object\"&&self,typeof Vs==\"object\"&&Vs];for(var F=0;F<L.length;++F){var Y=L[F];if(Y&&Y.Math==Math)return Y}throw Error(\"Cannot find global object\")}(this);function o(L,F){if(F)t:{var Y=r;L=L.split(\".\");for(var M=0;M<L.length-1;M++){var m=L[M];if(!(m in Y))break t;Y=Y[m];}(F=F(M=Y[L=L[L.length-1]]))!=M&&F!=null&&n(Y,L,{configurable:!0,writable:!0,value:F});}}function s(L){return (L={next:L})[Symbol.iterator]=function(){return this},L}function a(L){var F=typeof Symbol<\"u\"&&Symbol.iterator&&L[Symbol.iterator];return F?F.call(L):{next:e(L)}}if(o(\"Symbol\",function(L){function F(m,I){this.A=m,n(this,\"description\",{configurable:!0,writable:!0,value:I});}if(L)return L;F.prototype.toString=function(){return this.A};var Y=\"jscomp_symbol_\"+(1e9*Math.random()>>>0)+\"_\",M=0;return function m(I){if(this instanceof m)throw new TypeError(\"Symbol is not a constructor\");return new F(Y+(I||\"\")+\"_\"+M++,I)}}),o(\"Symbol.iterator\",function(L){if(L)return L;L=Symbol(\"Symbol.iterator\");for(var F=\"Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array\".split(\" \"),Y=0;Y<F.length;Y++){var M=r[F[Y]];typeof M==\"function\"&&typeof M.prototype[L]!=\"function\"&&n(M.prototype,L,{configurable:!0,writable:!0,value:function(){return s(e(this))}});}return L}),typeof Object.setPrototypeOf==\"function\")i=Object.setPrototypeOf;else {var c;t:{var d={};try{d.__proto__={a:!0},c=d.a;break t}catch{}c=!1;}i=c?function(L,F){if(L.__proto__=F,L.__proto__!==F)throw new TypeError(L+\" is not extensible\");return L}:null;}var l=i;function u(){this.m=!1,this.j=null,this.v=void 0,this.h=1,this.u=this.C=0,this.l=null;}function h(L){if(L.m)throw new TypeError(\"Generator is already running\");L.m=!0;}function p(L,F){return L.h=3,{value:F}}function g(L){this.g=new u,this.G=L;}function E(L,F,Y,M){try{var m=F.call(L.g.j,Y);if(!(m instanceof Object))throw new TypeError(\"Iterator result \"+m+\" is not an object\");if(!m.done)return L.g.m=!1,m;var I=m.value;}catch(y){return L.g.j=null,L.g.s(y),f(L)}return L.g.j=null,M.call(L.g,I),f(L)}function f(L){for(;L.g.h;)try{var F=L.G(L.g);if(F)return L.g.m=!1,{value:F.value,done:!1}}catch(Y){L.g.v=void 0,L.g.s(Y);}if(L.g.m=!1,L.g.l){if(F=L.g.l,L.g.l=null,F.F)throw F.D;return {value:F.return,done:!0}}return {value:void 0,done:!0}}function S(L){this.next=function(F){return L.o(F)},this.throw=function(F){return L.s(F)},this.return=function(F){return function(Y,M){h(Y.g);var m=Y.g.j;return m?E(Y,\"return\"in m?m.return:function(I){return {value:I,done:!0}},M,Y.g.return):(Y.g.return(M),f(Y))}(L,F)},this[Symbol.iterator]=function(){return this};}function C(L,F){return F=new S(new g(F)),l&&L.prototype&&l(F,L.prototype),F}if(u.prototype.o=function(L){this.v=L;},u.prototype.s=function(L){this.l={D:L,F:!0},this.h=this.C||this.u;},u.prototype.return=function(L){this.l={return:L},this.h=this.u;},g.prototype.o=function(L){return h(this.g),this.g.j?E(this,this.g.j.next,L,this.g.o):(this.g.o(L),f(this))},g.prototype.s=function(L){return h(this.g),this.g.j?E(this,this.g.j.throw,L,this.g.o):(this.g.s(L),f(this))},o(\"Array.prototype.entries\",function(L){return L||function(){return function(F,Y){F instanceof String&&(F+=\"\");var M=0,m=!1,I={next:function(){if(!m&&M<F.length){var y=M++;return {value:Y(y,F[y]),done:!1}}return m=!0,{done:!0,value:void 0}}};return I[Symbol.iterator]=function(){return I},I}(this,function(F,Y){return [F,Y]})}}),typeof Blob<\"u\"&&(typeof FormData>\"u\"||!FormData.prototype.keys)){var A=function(L,F){for(var Y=0;Y<L.length;Y++)F(L[Y]);},b=function(L){return L.replace(/\\r?\\n|\\r/g,`\\r\n`)},w=function(L,F,Y){return F instanceof Blob?(Y=Y!==void 0?Y+\"\":typeof F.name==\"string\"?F.name:\"blob\",F.name===Y&&Object.prototype.toString.call(F)!==\"[object Blob]\"||(F=new File([F],Y)),[String(L),F]):[String(L),String(F)]},D=function(L,F){if(L.length<F)throw new TypeError(F+\" argument required, but only \"+L.length+\" present.\")},k=typeof globalThis==\"object\"?globalThis:typeof window==\"object\"?window:typeof self==\"object\"?self:this,B=k.FormData,V=k.XMLHttpRequest&&k.XMLHttpRequest.prototype.send,z=k.Request&&k.fetch,lt=k.navigator&&k.navigator.sendBeacon,vt=k.Element&&k.Element.prototype,Dt=k.Symbol&&Symbol.toStringTag;Dt&&(Blob.prototype[Dt]||(Blob.prototype[Dt]=\"Blob\"),\"File\"in k&&!File.prototype[Dt]&&(File.prototype[Dt]=\"File\"));try{new File([],\"\");}catch{k.File=function(F,Y,M){return F=new Blob(F,M||{}),Object.defineProperties(F,{name:{value:Y},lastModified:{value:+(M&&M.lastModified!==void 0?new Date(M.lastModified):new Date)},toString:{value:function(){return \"[object File]\"}}}),Dt&&Object.defineProperty(F,Dt,{value:\"File\"}),F};}var ce=function(L){return L.replace(/\\n/g,\"%0A\").replace(/\\r/g,\"%0D\").replace(/\"/g,\"%22\")},Wt=function(L){this.i=[];var F=this;L&&A(L.elements,function(Y){if(Y.name&&!Y.disabled&&Y.type!==\"submit\"&&Y.type!==\"button\"&&!Y.matches(\"form fieldset[disabled] *\"))if(Y.type===\"file\"){var M=Y.files&&Y.files.length?Y.files:[new File([],\"\",{type:\"application/octet-stream\"})];A(M,function(m){F.append(Y.name,m);});}else Y.type===\"select-multiple\"||Y.type===\"select-one\"?A(Y.options,function(m){!m.disabled&&m.selected&&F.append(Y.name,m.value);}):Y.type===\"checkbox\"||Y.type===\"radio\"?Y.checked&&F.append(Y.name,Y.value):(M=Y.type===\"textarea\"?b(Y.value):Y.value,F.append(Y.name,M));});};if((t=Wt.prototype).append=function(L,F,Y){D(arguments,2),this.i.push(w(L,F,Y));},t.delete=function(L){D(arguments,1);var F=[];L=String(L),A(this.i,function(Y){Y[0]!==L&&F.push(Y);}),this.i=F;},t.entries=function L(){var F,Y=this;return C(L,function(M){if(M.h==1&&(F=0),M.h!=3)return F<Y.i.length?M=p(M,Y.i[F]):(M.h=0,M=void 0),M;F++,M.h=2;})},t.forEach=function(L,F){D(arguments,1);for(var Y=a(this),M=Y.next();!M.done;M=Y.next()){var m=a(M.value);M=m.next().value,m=m.next().value,L.call(F,m,M,this);}},t.get=function(L){D(arguments,1);var F=this.i;L=String(L);for(var Y=0;Y<F.length;Y++)if(F[Y][0]===L)return F[Y][1];return null},t.getAll=function(L){D(arguments,1);var F=[];return L=String(L),A(this.i,function(Y){Y[0]===L&&F.push(Y[1]);}),F},t.has=function(L){D(arguments,1),L=String(L);for(var F=0;F<this.i.length;F++)if(this.i[F][0]===L)return !0;return !1},t.keys=function L(){var F,Y,M,m,I=this;return C(L,function(y){if(y.h==1&&(F=a(I),Y=F.next()),y.h!=3)return Y.done?void(y.h=0):(M=Y.value,m=a(M),p(y,m.next().value));Y=F.next(),y.h=2;})},t.set=function(L,F,Y){D(arguments,2),L=String(L);var M=[],m=w(L,F,Y),I=!0;A(this.i,function(y){y[0]===L?I&&(I=!M.push(m)):M.push(y);}),I&&M.push(m),this.i=M;},t.values=function L(){var F,Y,M,m,I=this;return C(L,function(y){if(y.h==1&&(F=a(I),Y=F.next()),y.h!=3)return Y.done?void(y.h=0):(M=Y.value,(m=a(M)).next(),p(y,m.next().value));Y=F.next(),y.h=2;})},Wt.prototype._asNative=function(){for(var L=new B,F=a(this),Y=F.next();!Y.done;Y=F.next()){var M=a(Y.value);Y=M.next().value,M=M.next().value,L.append(Y,M);}return L},Wt.prototype._blob=function(){var L=\"----formdata-polyfill-\"+Math.random(),F=[],Y=\"--\"+L+`\\r\nContent-Disposition: form-data; name=\"`;return this.forEach(function(M,m){return typeof M==\"string\"?F.push(Y+ce(b(m))+`\"\\r\n\\r\n`+b(M)+`\\r\n`):F.push(Y+ce(b(m))+'\"; filename=\"'+ce(M.name)+`\"\\r\nContent-Type: `+(M.type||\"application/octet-stream\")+`\\r\n\\r\n`,M,`\\r\n`)}),F.push(\"--\"+L+\"--\"),new Blob(F,{type:\"multipart/form-data; boundary=\"+L})},Wt.prototype[Symbol.iterator]=function(){return this.entries()},Wt.prototype.toString=function(){return \"[object FormData]\"},vt&&!vt.matches&&(vt.matches=vt.matchesSelector||vt.mozMatchesSelector||vt.msMatchesSelector||vt.oMatchesSelector||vt.webkitMatchesSelector||function(L){for(var F=(L=(this.document||this.ownerDocument).querySelectorAll(L)).length;0<=--F&&L.item(F)!==this;);return -1<F}),Dt&&(Wt.prototype[Dt]=\"FormData\"),V){var si=k.XMLHttpRequest.prototype.setRequestHeader;k.XMLHttpRequest.prototype.setRequestHeader=function(L,F){si.call(this,L,F),L.toLowerCase()===\"content-type\"&&(this.B=!0);},k.XMLHttpRequest.prototype.send=function(L){L instanceof Wt?(L=L._blob(),this.B||this.setRequestHeader(\"Content-Type\",L.type),V.call(this,L)):V.call(this,L);};}z&&(k.fetch=function(L,F){return F&&F.body&&F.body instanceof Wt&&(F.body=F.body._blob()),z.call(this,L,F)}),lt&&(k.navigator.sendBeacon=function(L,F){return F instanceof Wt&&(F=F._asNative()),lt.call(this,L,F)}),k.FormData=Wt;}})();var Mc=()=>{let t=v(\"AREAS\");return t.length===0&&t.push(St.GLOBAL),ji(t).call(t,(e,n,i)=>{let r=d0(n);return r?i===0?r:\"\".concat(e,\",\").concat(r):e},\"\")},d0=t=>t===St.OVERSEA?\"\".concat(Ye.ASIA,\",\").concat(Ye.EUROPE,\",\").concat(Ye.AFRICA,\",\").concat(Ye.NORTH_AMERICA,\",\").concat(Ye.SOUTH_AMERICA,\",\").concat(Ye.OCEANIA):Ye[t],jG=t=>{let e={CODE:\"\",WEBCS_DOMAIN:[],WEBCS_DOMAIN_BACKUP_LIST:[],PROXY_CS:[],CDS_AP:[],ACCOUNT_REGISTER:[],UAP_AP:[],EVENT_REPORT_DOMAIN:[],EVENT_REPORT_BACKUP_DOMAIN:[],LOG_UPLOAD_SERVER:[],PROXY_SERVER_TYPE3:[]};return t.map(n=>{let i=Zu[n],r=Object.keys(i);r&&r.map(o=>{o!==\"CODE\"&&(e[o]=e[o].concat(i[o]));});}),e},yl={GLOBAL:{ASIA:[St.CHINA,St.JAPAN,St.INDIA,St.KOREA,St.HKMC],EUROPE:[],NORTH_AMERICA:[St.US],SOUTH_AMERICA:[],OCEANIA:[],AFRICA:[]}},Kd=Object.keys(yl[St.GLOBAL]),u_=[St.CHINA,St.NORTH_AMERICA,St.EUROPE,St.ASIA,St.JAPAN,St.INDIA,St.OCEANIA,St.SOUTH_AMERICA,St.AFRICA,St.KOREA,St.HKMC,St.US],GG=function(t,e){let n=[];if(W(t).call(t,St.GLOBAL)){let o=[St.GLOBAL,St.OVERSEA],s=Object.keys(Zu);if(e===St.GLOBAL)throw new O(R.INVALID_PARAMS,\"GLOBAL is an invalid excludedArea value\");if(e===St.CHINA)n=[St.OVERSEA];else if(r=e,W(Kd).call(Kd,r)){let a=(i=e,yl[St.GLOBAL][i]||[]),c=[...o,e,...a];n=s.filter(d=>!W(c).call(c,d));}else if(function(a){let c=!1;return Kd.forEach(d=>{var l;W(l=yl[St.GLOBAL][d]).call(l,a)&&(c=!0);}),c}(e)){let a=function(d){let l;return Kd.forEach(u=>{var h;W(h=yl[St.GLOBAL][u]).call(h,d)&&(l=u);}),l}(e),c=[...o,a,e];n=s.filter(d=>!W(c).call(c,d));}else n=t;n=function(a){let c=[];return u_.forEach(d=>{W(a).call(a,d)&&c.push(d);}),c.concat(a.filter(d=>!W(u_).call(u_,d)))}(n);}else n=t;var i,r;return n};function XI(t){var e,n;if(!t&&W(e=v(\"AREAS\")).call(e,St.EXTENSIONS))return _.debug(\"update area from ap : reset\"),void Af(vB,!0);if(!W(n=v(\"AREAS\")).call(n,St.GLOBAL)||!t)return;let i=Zu.EXTENSIONS;i&&(i={CODE:d0(St.EXTENSIONS),WEBCS_DOMAIN:[\"ap-web-1-\".concat(t,\".agora.io\")],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-\".concat(t,\".ap.sd-rtn.com\")],PROXY_CS:[\"proxy-ap-web-\".concat(t,\".agora.io\")],CDS_AP:[\"cds-ap-web-1-\".concat(t,\".agora.io\"),\"cds-ap-web-2-\".concat(t,\".ap.sd-rtn.com\")],ACCOUNT_REGISTER:[\"sua-ap-web-1-\".concat(t,\".agora.io\"),\"sua-ap-web-2-\".concat(t,\".ap.sd-rtn.com\")],UAP_AP:[\"uap-ap-web-1-\".concat(t,\".agora.io\"),\"uap-ap-web-2-\".concat(t,\".ap.sd-rtn.com\")],EVENT_REPORT_DOMAIN:[\"statscollector-1-\".concat(t,\".agora.io\")],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-\".concat(t,\".agora.io\")],LOG_UPLOAD_SERVER:[\"logservice-\".concat(t,\".agora.io\")],PROXY_SERVER_TYPE3:[\"webrtc-cloud-proxy-\".concat(t,\".agora.io\")]},_.debug(\"update area from ap success: \".concat(t,\",config is \"),i),Ot(\"AREAS\",[St.EXTENSIONS],!0),Object.keys(i).map(r=>{r===\"LOG_UPLOAD_SERVER\"||r===\"EVENT_REPORT_DOMAIN\"||r===\"EVENT_REPORT_BACKUP_DOMAIN\"||r===\"PROXY_SERVER_TYPE3\"?Ot(r,i[r][0]):Ot(r,i[r]);}));}function Af(t){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n=X.reportApiInvoke(null,{name:Te.SET_AREA,options:t,tag:Zt.TRACER});try{let i=[];if(typeof t==\"string\"&&(i=[t]),Array.isArray(t)&&(t.forEach(o=>{if(!W(UR).call(UR,o))throw new O(R.INVALID_PARAMS,\"invalid area code\")}),i=t),Object.prototype.toString.call(t)===\"[object Object]\"){let{areaCode:o,excludedArea:s}=t;if(!o)throw new O(R.INVALID_PARAMS,\"area code is needed\");let a=o;typeof o==\"string\"&&(a=[o]),i=s?GG(a,s):a;}if(!e){if($r.AREAS){let o=new O(R.PROHIBITED_OPERATION,\"setArea is prohibited because of config-distribute\");return n.onError(o),void _.warning(\"setArea is prohibited because of config-distribute\")}if(W(i).call(i,St.GLOBAL)&&v(\"AREAS\")===St.EXTENSIONS){let o=new O(R.PROHIBITED_OPERATION,\"setArea is prohibited because of ap extensions\");return n.onError(o),void _.warning(\"setArea is prohibited because of ap extensions\")}}Ot(\"AREAS\",i,e);let r=jG(i);Object.keys(r).map(o=>{o===\"LOG_UPLOAD_SERVER\"||o===\"EVENT_REPORT_DOMAIN\"||o===\"EVENT_REPORT_BACKUP_DOMAIN\"||o===\"PROXY_SERVER_TYPE3\"?Ot(o,r[o][0]):Ot(o,r[o]);}),_.debug(\"set area success:\",i.join(\",\"));}catch(i){throw n.onError(i),i}n.onSuccess();}function QI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function em(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QI(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var h_=1;function WG(t,e,n,i,r){h_+=1;let o={sid:n.sid,command:\"convergeAllocateEdge\",uid:\"666\",appId:n.appId,ts:Math.floor(Date.now()/1e3),seq:h_,requestId:h_,version:ii,cname:n.cname},s={service_name:e,json_body:JSON.stringify(o)},a,c,d=t[0];return Wi(async()=>{a=Date.now();let l=await Hi(d,{data:s,cancelToken:i,headers:{\"X-Packet-Service-Type\":\"0\",\"X-Packet-URI\":\"61\"}});if(c=Date.now()-a,l.code!==0){let p=new O(R.UNEXPECTED_RESPONSE,\"live streaming ap error, code\"+l.code,{retry:!0,responseTime:c});throw _.error(p.toString()),p}let u=JSON.parse(l.json_body);if(u.code!==200){let p=new O(R.UNEXPECTED_RESPONSE,\"live streaming app center error, code: \".concat(u.code,\", reason: \").concat(u.reason),{code:u.code,responseTime:c});throw _.error(p.toString()),p}if(!u.servers||u.servers.length===0){let p=new O(R.UNEXPECTED_RESPONSE,\"live streaming app center empty server\",{code:u.code,responseTime:c});throw _.error(p.toString()),p}let h=function(p,g){return {addressList:p.servers.map(E=>\"wss://\".concat(E.address.replace(/\\./g,\"-\"),\".\").concat(v(\"WORKER_DOMAIN\"),\":\").concat(E.wss,\"?serviceName=\").concat(encodeURIComponent(g))),workerToken:p.workerToken,vid:p.vid}}(u,e);return v(\"LIVE_STREAMING_ADDRESS\")&&(h.addressList=v(\"LIVE_STREAMING_ADDRESS\")instanceof Array?v(\"LIVE_STREAMING_ADDRESS\"):[v(\"LIVE_STREAMING_ADDRESS\")]),em(em({},h),{},{responseTime:c})},(l,u)=>(X.apworkerEvent(n.sid,{success:!0,sc:200,serviceName:e,responseDetail:JSON.stringify(l.addressList),firstSuccess:u===0,responseTime:c,serverIp:t[u%t.length]}),!1),(l,u)=>(X.apworkerEvent(n.sid,{success:!1,sc:l.data&&l.data.code||200,serviceName:e,responseTime:c,serverIp:t[u%t.length]}),!!(l.code!==R.OPERATION_ABORTED&&l.code!==R.UNEXPECTED_RESPONSE||l.data&&l.data.retry)&&(d=t[(u+1)%t.length],!0)),r)}var p_=1;function ZI(t,e,n,i){let{url:r,areaCode:o}=t,{clientId:s,sid:a}=e,c=Date.now(),d,[l,u]=wf(e,o,[ue.CHOOSE_SERVER]),h=he.networkState;return Wi(async()=>{h&&he.networkState===wn.OFFLINE&&he.onlineWaiter&&await j.race([he.onlineWaiter,Me(i&&i.maxRetryTimeout||Ee.maxRetryTimeout)]),h=he.networkState;let{data:p,headers:g}=await Hi(r,{data:l,cancelToken:n,headers:{\"Content-Type\":\"multipart/form-data;\"}},!0,!0);d=g.http3===\"1\"?1:-1,X.reportResourceTiming(r,a),l0(p,r,e,c,[ue.CHOOSE_SERVER],d);let E=Dc(p,ue.CHOOSE_SERVER);return bf(E),mf(E,r)},p=>(p&&X.joinChooseServer(a,{lts:c,succ:!0,csAddr:r,opid:u,serverList:p.gatewayAddrs.map(g=>g.address),ec:null,cid:p.cid.toString(),uid:p.uid.toString(),csIp:p.csIp,unilbsServerIds:[ue.CHOOSE_SERVER].toString(),isHttp3:d}),!1),p=>p.code!==R.OPERATION_ABORTED&&(p.code===R.CAN_NOT_GET_GATEWAY_SERVER?p.data.retry:(X.joinChooseServer(a,{lts:c,succ:!1,csAddr:r,serverList:null,opid:u,ec:p.code,csIp:p.data&&p.data.csIp,unilbsServerIds:[ue.CHOOSE_SERVER].toString(),extend:JSON.stringify({networkState:h}),isHttp3:d}),_.warning(\"[\".concat(s||\"sid-\".concat(a.slice(0,6)),\"] Choose server network error, retry\"),p),!0)),i)}function $I(t,e,n,i){let r,{url:o,areaCode:s,serviceIds:a}=t,c=Date.now(),[d,l]=wf(e,s,a),u;return Wi(async()=>{u&&he.networkState===wn.OFFLINE&&he.onlineWaiter&&await j.race([he.onlineWaiter,Me(i&&i.maxRetryTimeout||Ee.maxRetryTimeout)]),u=he.networkState;let{data:h,headers:p}=await Hi(o,{data:d,cancelToken:n,headers:{\"Content-Type\":\"multipart/form-data;\"}},!0,!0);r=p.http3===\"1\"?1:-1,X.reportResourceTiming(o,e.sid),l0(h,o,e,c,a,r);let g=Dc(h,ue.CHOOSE_SERVER),E=Dc(h,e.cloudProxyServer===\"proxy5\"?ue.CLOUD_PROXY_5:e.cloudProxyServer===\"proxy3\"||e.cloudProxyServer===\"proxy4\"?ue.CLOUD_PROXY:ue.CLOUD_PROXY_FALLBACK);return bf(g),{gatewayInfo:mf(g,o),proxyInfo:E,url:o}},h=>(h.gatewayInfo&&X.joinChooseServer(e.sid,{lts:c,succ:!0,csAddr:o,serverList:h.gatewayInfo.gatewayAddrs.map(p=>p.address),ec:null,opid:l,cid:h.gatewayInfo.cid.toString(),uid:h.gatewayInfo.uid.toString(),csIp:h.gatewayInfo.csIp,unilbsServerIds:a.toString(),isHttp3:r}),h.proxyInfo&&X.joinWebProxyAP(e.sid,{lts:c,sucess:1,apServerAddr:o,turnServerAddrList:h.proxyInfo.addresses.map(p=>p.ip).join(\",\"),errorCode:null,eventType:e.cloudProxyServer,unilbsServerIds:a.toString()}),!1),h=>h.code!==R.OPERATION_ABORTED&&(h.code===R.CAN_NOT_GET_GATEWAY_SERVER?h.data.retry:(X.joinWebProxyAP(e.sid,{lts:c,sucess:0,apServerAddr:o,turnServerAddrList:null,errorCode:h.code,eventType:e.cloudProxyServer,unilbsServerIds:a.toString(),extend:JSON.stringify({networkState:u})}),_.warning(\"[\".concat(e.clientId,\"] multi unilbs network error, retry\"),h),!0)),i)}var l0=(t,e,n,i,r,o)=>{let{sid:s,clientId:a,cloudProxyServer:c}=n,d=[],l=u=>{u.flag===4096?X.joinChooseServer(s,{lts:i,succ:!1,csAddr:e,opid:t.opid,serverList:null,ec:u.error.message,csIp:u.error.data&&u.error.data.csIp,unilbsServerIds:r.toString(),isHttp3:o}):u.flag!==1048576&&u.flag!==4194304&&u.flag!==4194310||X.joinWebProxyAP(s,{lts:i,sucess:0,apServerAddr:e,turnServerAddrList:null,errorCode:u.error.code,eventType:c,unilbsServerIds:r.toString()});};if(t.response_body.forEach(u=>{let h=u.buffer.code;if(u.uri===23&&h===0&&!u.buffer.edges_services)if(u.buffer.flag===4194310)_.warning(\"no edge services in ap response of proxy fallback, will not set proxy in iceServers\"),u.buffer.edges_services=[];else {let p={error:new O(R.CAN_NOT_GET_GATEWAY_SERVER,\"no edge services in ap response\",{retry:!0,csIp:t.detail[502]}),flag:u.buffer.flag};d.push(p),l(p);}if(h!==0){let p=ta(h),g={error:new O(R.CAN_NOT_GET_GATEWAY_SERVER,p.desc,{desc:p.desc,retry:p.retry,csIp:t.detail[502]}),flag:u.buffer.flag};u.buffer.flag===4194310?_.warning(g.error.toString()):d.push(g),l(g);}}),d.length)throw _.warning(\"[\".concat(a||\"sid-\".concat(s.slice(0,6)),\"] multi unilbs \").concat(e,\" failed, \").concat(d.map(u=>\"flag: \".concat(u.flag,\", message: \").concat(u.error.message,\", retry: \").concat(u.error.data.retry)).join(\" | \"))),new O(R.CAN_NOT_GET_GATEWAY_SERVER,d.map(u=>\"flag: \".concat(u.flag,\", message: \").concat(u.error.message)).join(\" | \"),{retry:!!d.find(u=>u.error.data.retry),csIp:t.detail[502],desc:[...new Set(d.map(u=>{var h;return u==null||(h=u.error)===null||h===void 0||(h=h.data)===null||h===void 0?void 0:h.desc}).filter(u=>!!u))]})},bf=t=>{var e,n,i,r;if(t.addresses&&t.addresses.length===0&&t.code===0)throw new O(R.CAN_NOT_GET_GATEWAY_SERVER,\"void gateway address\",{retry:!0,csIp:t.detail&&t.detail[502]});if(v(\"AP_AREA\")&&((i=t.detail)!==null&&i!==void 0&&i[23]&&typeof((r=t.detail)===null||r===void 0?void 0:r[23])==\"string\"?XI(t.detail[23].toLowerCase()):XI()),(e=t.detail)!==null&&e!==void 0&&e[19]&&typeof((n=t.detail)===null||n===void 0?void 0:n[19])==\"string\"){let s=t.detail[19],a=s?.split(\";\");for(let c=0;c<a.length;c++){var o;let d=rn(o=a[c]).call(o);t.addresses[c]&&a&&(t.addresses[c].fingerprint=d);}}if(v(\"GATEWAY_ADDRESS\")&&v(\"GATEWAY_ADDRESS\").length>0){_.debug(\"assign gateway address to\",v(\"GATEWAY_ADDRESS\"));let s=v(\"GATEWAY_ADDRESS\").map(a=>{var c,d;let l=(c=(d=t.addresses.find(u=>u.ip===a.ip&&u.port===a.port))===null||d===void 0?void 0:d.fingerprint)!==null&&c!==void 0?c:\"\";return {ip:a.ip,port:a.port,ticket:t.addresses[0]&&t.addresses[0].ticket,fingerprint:l}});t.addresses=s;}},HG=(t,e)=>{if(t.response_body&&t.response_body.length){let n=t.response_body[0];if(n.buffer.code!==0){let i=ta(n.buffer.code);throw new O(R.UPDATE_TICKET_FAILED,\"[\".concat(n.buffer.code,\"]: \").concat(i.desc),{retry:i.retry})}return n.buffer.ticket}throw _.debug(\"update ticket request received ap response without response body:\",e),new O(R.UPDATE_TICKET_FAILED,\"cannot find response body from ap response\",{retry:!1})},wf=(t,e,n)=>{let i=Math.floor(Math.random()*1e12),r={appid:t.appId,client_ts:Date.now(),opid:i,sid:t.sid,request_bodies:[{uri:22,buffer:{cname:t.cname,detail:em({6:t.stringUid,11:e,12:v(\"USE_NEW_TOKEN\")?\"1\":void 0,22:e},t.apRTM?{26:\"RTM2\"}:{}),key:t.token,service_ids:n,uid:t.uid||0}}]};r.request_bodies.forEach(s=>{t.multiIP&&t.multiIP.gateway_ip&&(s.buffer.detail[5]=JSON.stringify({vocs_ip:[t.multiIP.uni_lbs_ip],vos_ip:[t.multiIP.gateway_ip]}));});let o=new FormData;return o.append(\"request\",JSON.stringify(r)),[o,i]},KG=(t,e)=>{let n=Math.floor(Math.random()*1e12),i={appid:t.appId,client_ts:Date.now(),opid:n,sid:t.sid,request_bodies:[{uri:28,buffer:{cname:t.cname,detail:{1:\"\",6:t.stringUid,12:\"1\"},token:t.token,service_ids:e,uid:t.uid||0,edges_services:t.apResponse.addresses.map(o=>({ip:o.ip,port:o.port}))}}]},r=new FormData;return r.append(\"request\",JSON.stringify(i)),[r,n]},Ys=0;function Ta(t){return j.all(t.map(e=>e.then(n=>{throw n},n=>n))).then(e=>{throw e},e=>e)}var Uc=async t=>{let{fragementLength:e,referenceList:n,asyncMapHandler:i,allFailedhandler:r,promisesCollector:o}=t,s=0,a=e,c,d=0,l=async()=>{let u=(()=>{let h=s*a,p=h+a;return n.slice(h,p).map(i)})();o&&o.push(...u);try{c=await Ta(u);}catch(h){if(d+=a,s++,!(d>=n.length))return void await l();r(h);}u.forEach(h=>h.cancel());};return await l(),c},u0=async t=>{let{referenceList:e,asyncMapHandler:n,closeFn:i}=t,r=e.length,o=0,s=async()=>{let a=n(e.shift());try{return await a}catch(c){if(o++,o>=r||i!=null&&i(c))throw c;return s()}};return s()};async function nm(t,e,n,i){return {gatewayInfo:await async function(o,s,a,c){let d=null,l=[],u=async()=>{let p=v(\"WEBCS_DOMAIN\").slice(0,v(\"AJAX_REQUEST_CONCURRENT\")).map(f=>({url:o.proxyServer?\"https://\".concat(o.proxyServer,\"/ap/?url=\").concat(f+\"/api/v2/transpond/webrtc?v=2\"):\"https://\".concat(f,\"/api/v2/transpond/webrtc?v=2\"),areaCode:Mc()})),g=c.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"chooseServer\",urls:p.map(f=>f.url)}),E=await Uc({fragementLength:v(\"FRAGEMENT_LENGTH\"),referenceList:p,asyncMapHandler:f=>(_.debug(\"[\".concat(o.clientId,\"] Connect to choose_server:\"),f.url),ZI(f,o,s,a)),allFailedhandler:f=>{throw c.recordJoinChannelService({endTs:Date.now(),status:\"error\",errors:f},g),f[0]},promisesCollector:l});return c.recordJoinChannelService({endTs:Date.now(),status:\"success\"},g),E},h=async()=>{if(await Me(1e3),d!==null)return d;let p=v(\"WEBCS_DOMAIN_BACKUP_LIST\").map(f=>({url:o.proxyServer?\"https://\".concat(o.proxyServer,\"/ap/?url=\").concat(f+\"/api/v2/transpond/webrtc?v=2\"):\"https://\".concat(f,\"/api/v2/transpond/webrtc?v=2\"),areaCode:Mc()})),g=c.recordJoinChannelService({endTs:void 0,startTs:Date.now(),status:\"pending\",service:\"chooseServer\",urls:p.map(f=>f.url)}),E=await Uc({fragementLength:v(\"FRAGEMENT_LENGTH\"),referenceList:p,asyncMapHandler:f=>(_.debug(\"[\".concat(o.clientId,\"] Connect to backup choose_server:\"),f.url),ZI(f,o,s,a)),allFailedhandler:f=>{throw c.recordJoinChannelService({endTs:Date.now(),status:\"error\",errors:f},g),f[0]},promisesCollector:l});return c.recordJoinChannelService({endTs:Date.now(),status:\"success\"},g),E};try{return d=await Ta([u(),h()]),l.length&&l.forEach(p=>p.cancel&&typeof p.cancel==\"function\"&&p.cancel()),d}catch(p){throw p[0]}}(t,e,n,i)}}async function tv(t,e,n,i,r){let o=t.cloudProxyServer;if(o===\"disabled\"){if(t.useLocalAccessPoint)return await nm(t,e,n,r);if(v(\"JOIN_WITH_FALLBACK_MEDIA_PROXY\")){let{gatewayInfo:h,proxyInfo:p}=await nv(t,e,n,r);if(t.turnServer&&t.turnServer.mode!==\"auto\")return {gatewayInfo:h};let g=p.map(E=>({turnServerURL:E.address,tcpport:E.tcpport||Ve.tcpport,udpport:E.udpport||Ve.udpport,username:E.username||Ve.username,password:E.password||Ve.password,forceturn:!1,security:!0}));if(r.useP2P){var s;let E=(s=t.uid)!==null&&s!==void 0?s:h.uid,f=\"glb:\".concat(E.toString()),S=await PE(f),C=p.map(A=>({turnServerURL:A.address,tcpport:A.tcpport||Ve.tcpport,udpport:A.udpport||Ve.udpport,username:f,password:S,forceturn:!1,security:!0}));g.push(...C);}return t.turnServer={mode:\"manual\",servers:g},{gatewayInfo:h}}return await nm(t,e,n,r)}let{proxyInfo:a,gatewayInfo:c}=await nv(t,e,n,r),d={gatewayInfo:c},l=a.map(h=>({turnServerURL:h.address,tcpport:o===\"proxy3\"?void 0:h.tcpport?h.tcpport:Ve.tcpport,udpport:o===\"proxy4\"?void 0:h.udpport?h.udpport:Ve.udpport,username:h.username||Ve.username,password:h.password||Ve.password,forceturn:o!==\"proxy4\",security:o===\"proxy5\"}));if(r.useP2P){var u;let h=(u=t.uid)!==null&&u!==void 0?u:c.uid,p=\"glb:\".concat(h.toString()),g=await PE(p),E=a.map(f=>({turnServerURL:f.address,tcpport:o===\"proxy3\"?void 0:f.tcpport||Ve.tcpport,udpport:o===\"proxy4\"?void 0:f.udpport||Ve.udpport,username:p,password:g,forceturn:o!==\"proxy4\",security:o===\"proxy5\"}));l.push(...E);}return t.turnServer={mode:\"manual\",servers:l},_.debug(\"[\".concat(t.clientId,\"] set proxy server: \").concat(t.proxyServer,\", mode: \").concat(o)),d}async function h0(t,e,n,i,r){let o=v(\"ACCOUNT_REGISTER\").slice(0,v(\"AJAX_REQUEST_CONCURRENT\")),s=[];s=e.proxyServer?o.map(c=>\"https://\".concat(e.proxyServer,\"/ap/?url=\").concat(c+\"/api/v1\")):o.map(c=>\"https://\".concat(c,\"/api/v1\"));let a=r?.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"stringUID\",urls:s});try{let c=await async function(d,l,u,h,p){let g=Date.now(),E={sid:u.sid,opid:10,appid:u.appId,string_uid:l},f=d[0],S=await Wi(()=>Hi(f+\"\".concat(f.indexOf(\"?\")===-1?\"?\":\"&\",\"action=stringuid\"),{data:E,cancelToken:h,headers:{\"X-Packet-Service-Type\":0,\"X-Packet-URI\":72}}),(C,A)=>{if(C.code===0){if(C.uid<=0||C.uid>=Math.pow(2,32))throw _.error(\"Invalid Uint Uid \".concat(l,\" => \").concat(C.uid),C),X.reqUserAccount(E.sid,{lts:g,success:!1,serverAddr:f,stringUid:E.string_uid,uid:C.uid,errorCode:R.INVALID_UINT_UID_FROM_STRING_UID,extend:E}),new O(R.INVALID_UINT_UID_FROM_STRING_UID);return X.reqUserAccount(E.sid,{lts:g,success:!0,serverAddr:f,stringUid:E.string_uid,uid:C.uid,errorCode:null,extend:E}),!1}let b=ta(C.code);return b.retry&&(f=d[(A+1)%d.length]),X.reqUserAccount(E.sid,{lts:g,success:!1,serverAddr:f,stringUid:E.string_uid,uid:C.uid,errorCode:b.desc,extend:E}),b.retry},(C,A)=>C.code!==R.OPERATION_ABORTED&&(X.reqUserAccount(E.sid,{lts:g,success:!1,serverAddr:f,stringUid:E.string_uid,uid:null,errorCode:C.code,extend:E}),f=d[(A+1)%d.length],!0),p);if(S.code!==0){let C=ta(S.code);throw new O(R.UNEXPECTED_RESPONSE,C.desc)}return S}(s,t,e,n,i);return r?.recordJoinChannelService({status:\"success\",endTs:Date.now()},a),c.uid}catch(c){throw r?.recordJoinChannelService({status:\"error\",endTs:Date.now(),errors:[c]},a),c}}async function YG(t,e,n){let i=v(\"ACCOUNT_REGISTER\"),r=[];r=e.proxyServer?i.map(o=>\"https://\".concat(e.proxyServer,\"/ap/?url=\").concat(o+\"/api/v1\")):i.map(o=>\"https://\".concat(o,\"/api/v1\"));try{return await u0({referenceList:r,asyncMapHandler:s=>async function(a,c,d,l){let u=Date.now(),h={sid:d.sid,opid:10,appid:d.appId,string_uid:c};try{let p=await Hi(a+\"\".concat(a.indexOf(\"?\")===-1?\"?\":\"&\",\"action=stringuid\"),{data:h,cancelToken:l,headers:{\"X-Packet-Service-Type\":0,\"X-Packet-URI\":72}});if(p.code!==0){let g=ta(p.code);throw new O(R.UNEXPECTED_RESPONSE,\"preload sua error:\".concat(g.desc),g)}if(p.uid<=0||p.uid>=Math.pow(2,32))throw new O(R.INVALID_UINT_UID_FROM_STRING_UID);return {requestTime:u,url:a,req:h,uid:p.uid,elapse:Date.now()-u}}catch(p){throw p}}(s,t,e,n),closeFn:s=>s.code===R.OPERATION_ABORTED||s.code===R.UNEXPECTED_RESPONSE&&!s.data.retry})}catch(o){throw o}}async function qG(t,e,n){let i=v(\"CDS_AP\").slice(0,v(\"AJAX_REQUEST_CONCURRENT\")).map(c=>t.proxyServer?\"https://\".concat(t.proxyServer,\"/ap/?url=\").concat(c+\"/api/v1\"):\"https://\".concat(c,\"/api/v1?action=config\")),r=i.map(c=>function(d,l,u,h){let p=mt(),g={flag:64,cipher_method:0,features:{device:p.name,system:p.os,system_general:navigator.userAgent,vendor:l.appId,version:ii,cname:l.cname,sid:l.sid,session_id:l.sid,detail:\"\",proxyServer:l.proxyServer}};return Wi(()=>Hi(d,{data:g,timeout:1e3,cancelToken:u,headers:{\"X-Packet-Service-Type\":0,\"X-Packet-URI\":54}}),void 0,E=>E.code!==R.OPERATION_ABORTED,h)}(c,t,e,n)),o=null,s=null,a={};try{o=await Ta(r);}catch(c){if(c.code===R.OPERATION_ABORTED)throw c;s=c;}if(r.forEach(c=>c.cancel()),X.reportApiInvoke(t.sid,{name:Te.REQUEST_CONFIG_DISTRIBUTE,options:{error:s,res:o}}).onSuccess(),o&&o.test_tags)try{a=function(c){if(!c.test_tags)return {};let d=c.test_tags,l=Object.keys(d),u={};return l.forEach(h=>{var p;let g=rn(p=h.slice(4)).call(p),E=JSON.parse(d[h])[1];u[g]=E;}),u}(o);}catch{}return a}async function ev(t,e){let n=v(\"WEBCS_DOMAIN\").concat(v(\"WEBCS_DOMAIN_BACKUP_LIST\")).map(i=>({url:\"https://\".concat(i,\"/api/v2/transpond/webrtc?v=2\"),areaCode:Mc(),serviceIds:[ue.CHOOSE_SERVER,ue.CLOUD_PROXY_FALLBACK]}));try{return await u0({referenceList:n,asyncMapHandler:r=>async function(o,s,a){let c,{url:d,areaCode:l,serviceIds:u}=o,h=Date.now(),[p,g]=wf(s,l,u),E=he.networkState;try{E&&he.networkState===wn.OFFLINE&&he.onlineWaiter&&await j.race([he.onlineWaiter,Me(Ee.maxRetryTimeout)]),E=he.networkState;let{data:f,headers:S}=await Hi(d,{data:p,cancelToken:a,headers:{\"Content-Type\":\"multipart/form-data;\"}},!0,!0);c=S.http3===\"1\"?1:-1,(w=>{let D=[];if(w.response_body.forEach(k=>{let B=k.buffer.code;if(k.uri===23&&B===0&&!k.buffer.edges_services)if(k.buffer.flag===4194310)k.buffer.edges_services=[];else {let V={error:new O(R.CAN_NOT_GET_GATEWAY_SERVER,\"no edge services in ap response\",{retry:!0,csIp:w.detail[502]}),flag:k.buffer.flag};D.push(V);}if(B!==0){let V=ta(B),z={error:new O(R.CAN_NOT_GET_GATEWAY_SERVER,V.desc,{desc:V.desc,retry:V.retry,csIp:w.detail[502]}),flag:k.buffer.flag};k.buffer.flag===4194310?_.warning(z.error.toString()):D.push(z);}}),D.length)throw new O(R.CAN_NOT_GET_GATEWAY_SERVER,D.map(k=>\"flag: \".concat(k.flag,\", message: \").concat(k.error.message)).join(\" | \"),{retry:!!D.find(k=>k.error.data.retry),csIp:w.detail[502],desc:[...new Set(D.map(k=>{var B;return k==null||(B=k.error)===null||B===void 0||(B=B.data)===null||B===void 0?void 0:B.desc}).filter(k=>!!k))]})})(f);let A=Dc(f,ue.CHOOSE_SERVER),b=Dc(f,ue.CLOUD_PROXY_FALLBACK);return bf(A),{gatewayInfo:mf(A,d),proxyInfo:b,opid:g,requestTime:h,url:d,isHttp3:c,elapse:Date.now()-h}}catch(f){throw f}}(r,t,e),closeFn:r=>r.code===R.OPERATION_ABORTED||r.code===R.CAN_NOT_GET_GATEWAY_SERVER&&!r.data.retry})}catch(i){throw i}}async function nv(t,e,n,i){let r=v(\"PROXY_SERVER_TYPE3\"),o=(p,g,E)=>{let f=E||r;return Array.isArray(f)&&(f=g%2==0?r[1]:r[0]),\"https://\".concat(f,\"/ap/?url=\").concat(p)},s=null,a=[],c=async()=>{let p=v(\"WEBCS_DOMAIN\").slice(0,v(\"AJAX_REQUEST_CONCURRENT\")).map((f,S)=>{let C;return C=t.cloudProxyServer===\"disabled\"&&t.proxyServer?o(\"\".concat(f,\"/api/v2/transpond/webrtc?v=2\"),S,t.proxyServer):t.cloudProxyServer===\"disabled\"||t.cloudProxyServer===\"fallback\"?\"https://\".concat(f,\"/api/v2/transpond/webrtc?v=2\"):o(\"\".concat(f,\"/api/v2/transpond/webrtc?v=2\"),S),{url:C,areaCode:Mc(),serviceIds:[ue.CHOOSE_SERVER,t.cloudProxyServer===\"proxy5\"?ue.CLOUD_PROXY_5:t.cloudProxyServer===\"proxy3\"||t.cloudProxyServer===\"proxy4\"?ue.CLOUD_PROXY:ue.CLOUD_PROXY_FALLBACK]}}),g=i.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"chooseServer\",urls:p.map(f=>f.url)}),E=await Uc({fragementLength:v(\"FRAGEMENT_LENGTH\"),referenceList:p,asyncMapHandler:f=>(_.debug(\"[\".concat(t.clientId,\"] Connect to choose_server:\"),f.url),$I(f,t,e,n)),allFailedhandler:f=>{throw i.recordJoinChannelService({endTs:Date.now(),status:\"error\",errors:f},g),f[0]},promisesCollector:a});return i.recordJoinChannelService({endTs:Date.now(),status:\"success\"},g),E},d=async()=>{if(await Me(1e3),s!==null)return s;let p=v(\"WEBCS_DOMAIN_BACKUP_LIST\").map((f,S)=>{let C;return C=t.cloudProxyServer===\"disabled\"&&t.proxyServer?o(\"\".concat(f,\"/api/v2/transpond/webrtc?v=2\"),S,t.proxyServer):t.cloudProxyServer===\"disabled\"||t.cloudProxyServer===\"fallback\"?\"https://\".concat(f,\"/api/v2/transpond/webrtc?v=2\"):o(\"\".concat(f,\"/api/v2/transpond/webrtc?v=2\"),S),{url:C,areaCode:Mc(),serviceIds:[ue.CHOOSE_SERVER,t.cloudProxyServer===\"proxy5\"?ue.CLOUD_PROXY_5:t.cloudProxyServer===\"proxy3\"||t.cloudProxyServer===\"proxy4\"?ue.CLOUD_PROXY:ue.CLOUD_PROXY_FALLBACK]}}),g=i.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"chooseServer\",urls:p.map(f=>f.url)}),E=await Uc({fragementLength:v(\"FRAGEMENT_LENGTH\"),referenceList:p,asyncMapHandler:f=>(_.debug(\"[\".concat(t.clientId,\"] Connect to backup choose_server:\"),f.url),$I(f,t,e,n)),allFailedhandler:f=>{throw i.recordJoinChannelService({endTs:Date.now(),status:\"error\",errors:f},g),f[0]},promisesCollector:a});return i.recordJoinChannelService({endTs:Date.now(),status:\"success\"},g),E},l,u,h;try{({gatewayInfo:l,proxyInfo:u,url:h}=await Ta([c(),d()]));}catch(p){throw p[0]}if(a.length&&a.forEach(p=>p.cancel&&typeof p.cancel==\"function\"&&p.cancel()),!l||!u)throw new O(R.UNEXPECTED_ERROR,\"missing gateway or proxy response\").print();if(t.apUrl=h,t.cloudProxyServer!==\"disabled\"&&Array.isArray(r)&&h){let p=/^https?:\\/\\/(.+?)(\\/.*)?$/.exec(h)[1];W(r).call(r,p)&&(t.proxyServer=p,_.setProxyServer(p),X.setProxyServer(p));}return s={gatewayInfo:l,proxyInfo:await kO(u,l.uid)},s}async function zG(t,e,n){let i=v(\"UAP_AP\").slice(0,v(\"AJAX_REQUEST_CONCURRENT\")).map(o=>t.proxyServer?\"https://\".concat(t.proxyServer,\"/ap/?url=\").concat(o+\"/api/v1?action=uap\"):\"https://\".concat(o,\"/api/v1?action=uap\")),r=i.map(o=>function(s,a,c,d){let l={command:\"convergeAllocateEdge\",sid:a.sid,appId:a.appId,token:a.token,ts:Date.now(),version:ii,cname:a.cname,uid:a.uid.toString(),requestId:p_,seq:p_};p_+=1;let u={service_name:\"tele_channel\",json_body:JSON.stringify(l)};return Wi(async()=>{let h=await Hi(s,{data:u,cancelToken:c,headers:{\"X-Packet-Service-Type\":0,\"X-Packet-URI\":61}});if(h.code!==0){let g=new O(R.UNEXPECTED_RESPONSE,\"cross channel ap error, code\"+h.code,{retry:!0});throw _.error(g.toString()),g}let p=JSON.parse(h.json_body);if(p.code!==200){let g=new O(R.UNEXPECTED_RESPONSE,\"cross channel app center error, code: \".concat(p.code,\", reason: \").concat(p.reason));throw _.error(g.toString()),g}if(!p.servers||p.servers.length===0){let g=new O(R.UNEXPECTED_RESPONSE,\"cross channel app center empty server\");throw _.error(g.toString()),g}return {vid:p.vid,workerToken:p.workerToken,addressList:(v(\"CHANNEL_MEDIA_RELAY_SERVERS\")||p.servers).map(g=>\"wss://\".concat(g.address.replace(/\\./g,\"-\"),\".\").concat(v(\"WORKER_DOMAIN\"),\":\").concat(g.wss))}},void 0,h=>!!(h.code!==R.OPERATION_ABORTED&&h.code!==R.UNEXPECTED_RESPONSE||h.data&&h.data.retry),d)}(o,t,e,n));try{let o=await Ta(r);return r.forEach(s=>s.cancel()),o}catch(o){throw o[0]}}async function JG(t,e,n){let i=null,r=[],o=async s=>{let a=v(s?\"WEBCS_DOMAIN_BACKUP_LIST\":\"WEBCS_DOMAIN\").map(c=>t.proxyServer?\"https://\".concat(t.proxyServer,\"/ap/?url=\").concat(c+\"/api/v2/transpond/webrtc?v=2\"):\"https://\".concat(c,\"/api/v2/transpond/webrtc?v=2\"));return s&&(await Me(1e3),i!==null)?i:await Uc({fragementLength:v(\"FRAGEMENT_LENGTH\"),referenceList:a,asyncMapHandler:c=>(_.debug(\"[\".concat(t.clientId,\"] update ticket, Connect to \").concat(s?\"backup\":\"\",\" choose_server:\"),c),function(d,l,u,h){let[p]=KG(l,[ue.CHOOSE_SERVER]),g=he.networkState;return Wi(async()=>{g&&he.networkState===wn.OFFLINE&&he.onlineWaiter&&await j.race([he.onlineWaiter,Me(h&&h.maxRetryTimeout||Ee.maxRetryTimeout)]),g=he.networkState;let E=await Hi(d,{data:p,cancelToken:u,headers:{\"Content-Type\":\"multipart/form-data;\"}},!0);return HG(E,d)},()=>!1,E=>E.code!==R.OPERATION_ABORTED&&(E.code===R.UPDATE_TICKET_FAILED?E.data.retry:(_.warning(\"[\".concat(l.clientId,\"] update ticket network error, retry\"),E),!0)),h)}(c,t,e,n)),allFailedhandler:c=>{throw c[0]},promisesCollector:r})};try{return i=await Ta([o(!1),o(!0)]),r.length&&r.forEach(s=>s.cancel&&typeof s.cancel==\"function\"&&s.cancel()),i}catch(s){throw s[0]}}function iv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function rv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iv(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iv(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var im=class extends Xt{get isSuccess(){return !!this.configs}constructor(){super(),T(this,\"configs\",void 0),T(this,\"joinInfo\",void 0),T(this,\"cancelToken\",void 0),T(this,\"retryConfig\",{timeout:3e3,timeoutFactor:1.5,maxRetryCount:1,maxRetryTimeout:1e4}),T(this,\"interval\",void 0),T(this,\"mutex\",new ze(\"config-distribute\")),T(this,\"mutableParamsRead\",!1);}startGetConfigDistribute(e,n){this.joinInfo=e,this.cancelToken=n,this.interval&&this.stopGetConfigDistribute(),v(\"ENABLE_CONFIG_DISTRIBUTE\")&&(this.updateConfigDistribute(),this.interval=window.setInterval(()=>{this.updateConfigDistribute();},v(\"CONFIG_DISTRIBUTE_INTERVAL\")));}stopGetConfigDistribute(){this.interval&&clearInterval(this.interval),this.interval=void 0,this.joinInfo=void 0,this.cancelToken=void 0;}async awaitConfigDistributeComplete(){this.mutex.isLocked&&(await this.mutex.lock())();}async updateConfigDistribute(){if(this.mutableParamsRead||(this.mutableParamsRead=!0,X.reportApiInvoke(null,{options:void 0,name:Te.LOAD_CONFIG_FROM_LOCALSTORAGE,tag:Zt.TRACER}).onSuccess(JSON.stringify($r))),!this.joinInfo||!this.cancelToken||!this.retryConfig)return void _.debug(\"[config-distribute] get config distribute interrupted have no joininfo\");let e,n=await this.mutex.lock();try{e=await qG(this.joinInfo,this.cancelToken,this.retryConfig),_.debug(\"[config-distribute] get config distribute\",JSON.stringify(e)),e.limit_bitrate&&this.handleBitrateLimit(e.limit_bitrate),this.cacheGlobalParameterConfig(e),this.configs=e;}catch(i){let r=new O(R.NETWORK_RESPONSE_ERROR,i);_.warning(\"[config-distribute] \".concat(r.toString()));}finally{n();}}getBitrateLimit(){return this.configs?this.configs.limit_bitrate:void 0}handleBitrateLimit(e){var n;(n=e)&&n.uplink&&n.id&&n.uplink.max_bitrate!==void 0&&n.uplink.min_bitrate!==void 0&&(this.configs&&this.configs.limit_bitrate?this.configs&&this.configs.limit_bitrate&&this.configs.limit_bitrate.id!==e.id&&this.emit(FE.UPDATE_BITRATE_LIMIT,e):this.emit(FE.UPDATE_BITRATE_LIMIT,e));}getLowStreamConfigDistribute(){return this.configs&&this.configs.limit_bitrate&&rv({},this.configs.limit_bitrate.low_stream_uplink)}cacheGlobalParameterConfig(e){var n;let i=ed(n=Object.keys(e).filter(o=>/^webrtc_ng_global_parameter/.test(o))).call(n);for(let o=0;o<i.length;o++)for(let s=i.length-1;s>o;s--){let a=i[s];if(typeof e[a].__priority==\"number\"){let c=e[a].__priority,d=i[s-1];if(typeof e[d].__priority==\"number\"){if(!(c>e[d].__priority))continue;{let l=a;i[s]=i[s-1],i[s-1]=l;}}else {let l=a;i[s]=i[s-1],i[s-1]=l;}}}let r={};i.forEach(o=>{let s=e[o],a=s.__expires;Object.keys(s).forEach(c=>{c===\"__priority\"||c===\"__expires\"||Object.prototype.hasOwnProperty.call(r,c)||(r[c]=rv({value:s[c]},a&&{expires:a}));});});try{(function(a){try{let c=Date.now();Object.keys(a).forEach(d=>{switch(d){case\"ENABLE_EVENT_REPORT\":case\"UPLOAD_LOG\":case\"ENABLE_AG_ADAPTATION\":case\"FORCE_AG_HIGH_FRAMERATE\":case\"FORCE_SUPPORT_AG_ADAPTATION\":case\"ENCODER_CONFIG_LIMIT\":case\"CAMERA_CAPTURE_CONFIG\":case\"ENABLE_PRELOAD\":if(Object.prototype.hasOwnProperty.call(oe,d)){let{value:l,expires:u}=a[d];if(u&&u<=c)return;$r[d]=l,oe[d]=l,_.debug(\"Update global parameters from config distribute\",d,l);}}});}catch(c){_.error(\"Error update config immediately: \".concat(a),c.message);}})(r);let o=JSON.stringify(r),s=window.btoa(o);window.localStorage.setItem(\"websdk_ng_global_parameter\",s),_.debug(\"Caching global parameters \".concat(o));}catch(o){_.error(\"Error caching global parameters:\",o.message);}}},rm=class extends Xt{constructor(){super(...arguments),T(this,\"resultStorage\",new Map);}setLocalAudioStats(e,n,i){this.record(\"AUDIO_INPUT_LEVEL_TOO_LOW\",e,this.checkAudioInputLevel(i,n)),this.record(\"SEND_AUDIO_BITRATE_TOO_LOW\",e,this.checkSendAudioBitrate(i,n));}setLocalVideoStats(e,n,i){this.record(\"SEND_VIDEO_BITRATE_TOO_LOW\",e,this.checkSendVideoBitrate(i,n)),this.record(\"FRAMERATE_INPUT_TOO_LOW\",e,this.checkFramerateInput(i,n)),this.record(\"FRAMERATE_SENT_TOO_LOW\",e,this.checkFramerateSent(i));}setRemoteAudioStats(e,n){let i=e.getUserId();this.record(\"AUDIO_OUTPUT_LEVEL_TOO_LOW\",i,this.checkAudioOutputLevel(n));}setRemoteVideoStats(e,n){let i=e.getUserId();this.record(\"RECV_VIDEO_DECODE_FAILED\",i,this.checkVideoDecode(n));}record(e,n,i){if(v(\"STATS_UPDATE_INTERVAL\")>500)return;this.resultStorage.has(e)||this.resultStorage.set(e,{result:[],isPrevNormal:!0});let r=this.resultStorage.get(e);if(r&&(r.result.push(i),r.result.length>=5)){var o;let s=W(o=r.result).call(o,!0);r.isPrevNormal&&!s&&this.emit(\"exception\",ov[e],e,n),!r.isPrevNormal&&s&&this.emit(\"exception\",ov[e]+2e3,e+\"_RECOVER\",n),r.isPrevNormal=s,r.result=[];}}checkAudioOutputLevel(e){return !(e.receiveBitrate>0&&e.receiveLevel===0)}checkAudioInputLevel(e,n){return n instanceof ge&&!n.isActive||!!n.muted||e.sendVolumeLevel!==0}checkFramerateInput(e,n){let i=null;n._encoderConfig&&n._encoderConfig.frameRate&&(i=Nn(n._encoderConfig.frameRate));let r=e.captureFrameRate;return !i||!r||!(i>10&&r<5||i<10&&i>=5&&r<=1)}checkFramerateSent(e){return !(e.captureFrameRate&&e.sendFrameRate&&e.captureFrameRate>5&&e.sendFrameRate<=1)}checkSendVideoBitrate(e,n){return !!n.muted||e.sendBitrate!==0}checkSendAudioBitrate(e,n){return n instanceof ge&&!n.isActive||!!n.muted||e.sendBitrate!==0}checkVideoDecode(e){return e.receiveBitrate===0||e.decodeFrameRate!==0}},ov={FRAMERATE_INPUT_TOO_LOW:1001,FRAMERATE_SENT_TOO_LOW:1002,SEND_VIDEO_BITRATE_TOO_LOW:1003,RECV_VIDEO_DECODE_FAILED:1005,AUDIO_INPUT_LEVEL_TOO_LOW:2001,AUDIO_OUTPUT_LEVEL_TOO_LOW:2002,SEND_AUDIO_BITRATE_TOO_LOW:2003},qe=new class{markSubscribeStart(t,e){performance.mark(\"agora-web-sdk/\".concat(t,\"/subscribe-\").concat(e));}markPublishStart(t,e){performance.mark(\"agora-web-sdk/\".concat(t,\"/publish-\").concat(e));}measureFromSubscribeStart(t,e){let n=performance.getEntriesByName(\"agora-web-sdk/\".concat(t,\"/subscribe-\").concat(e));if(n.length>0){let i=n[n.length-1];return Math.round(performance.now()-i.startTime)}return 0}measureFromPublishStart(t,e){let n=performance.getEntriesByName(\"agora-web-sdk/\".concat(t,\"/publish-\").concat(e));if(n.length>0){let i=n[n.length-1];return Math.round(performance.now()-i.startTime)}return 0}};function Of(t,e){this.v=t,this.k=e;}function Tt(t){return new Of(t,0)}var XG=Lb,QG=mr;xt({target:\"Promise\",stat:!0,forced:!0},{withResolvers:function(){var t=QG.f(this);return {promise:t.promise,resolve:t.resolve,reject:t.reject}}});var ZG=mr,$G=_a;xt({target:\"Promise\",stat:!0,forced:!0},{try:function(t){var e=ZG.f(this),n=$G(t);return (n.error?e.reject:e.resolve)(n.value),e.promise}});var om=ae(XG),p0=Ea.f(\"asyncIterator\"),tW=ae(p0);function Ja(t){var e,n;function i(o,s){try{var a=t[o](s),c=a.value,d=c instanceof Of;om.resolve(d?c.v:c).then(function(l){if(d){var u=o===\"return\"?\"return\":\"next\";if(!c.k||l.done)return i(u,l);l=t[u](l).value;}r(a.done?\"return\":\"normal\",l);},function(l){i(\"throw\",l);});}catch(l){r(\"throw\",l);}}function r(o,s){switch(o){case\"return\":e.resolve({value:s,done:!0});break;case\"throw\":e.reject(s);break;default:e.resolve({value:s,done:!1});}(e=e.next)?i(e.key,e.arg):n=null;}this._invoke=function(o,s){return new om(function(a,c){var d={key:o,arg:s,resolve:a,reject:c,next:null};n?n=n.next=d:(e=n=d,i(o,s));})},typeof t.return!=\"function\"&&(this.return=void 0);}function Bi(t){return function(){return new Ja(t.apply(this,arguments))}}Ja.prototype[typeof Ds==\"function\"&&tW||\"@@asyncIterator\"]=function(){return this},Ja.prototype.next=function(t){return this._invoke(\"next\",t)},Ja.prototype.throw=function(t){return this._invoke(\"throw\",t)},Ja.prototype.return=function(t){return this._invoke(\"return\",t)};var sv=ae(Gi.Object.getOwnPropertySymbols),eW=xt,nW=Nm.indexOf,iW=Nu,sm=gc([].indexOf),av=!!sm&&1/sm([1],1,-0)<0;eW({target:\"Array\",proto:!0,forced:av||!iW(\"indexOf\")},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return av?sm(this,t,e)||0:nW(this,t,e)}});var rW=bi(\"Array\").indexOf,oW=hn,sW=rW,__=Array.prototype,aW=function(t){var e=t.indexOf;return t===__||oW(__,t)&&e===__.indexOf?sW:e},cv=ae(aW);function cW(t,e){if(t==null)return {};var n,i,r=function(s,a){if(s==null)return {};var c,d,l={},u=NO(s);for(d=0;d<u.length;d++)c=u[d],cv(a).call(a,c)>=0||(l[c]=s[c]);return l}(t,e);if(sv){var o=sv(t);for(i=0;i<o.length;i++)n=o[i],cv(e).call(e,n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n]);}return r}function Si(t){if(Array.isArray(t))return t.map(n=>n);if(!dv(t))return t;let e={};for(let n in t){let i=t[n];dv(i)||Array.isArray(i)?e[n]=Si(i):e[n]=i;}return e}function dv(t){return !(typeof t!=\"object\"||Array.isArray(t)||!t)}var cc=class{constructor(e){T(this,\"input\",[]),T(this,\"size\",void 0),this.size=e;}add(e){this.input.push(e),this.input.length>this.size&&this.input.splice(0,1);}diffMean(){return this.input.length===0?0:(this.input[this.input.length-1]-this.input[0])/this.input.length}},hr={address:\"unknown\",candidateType:\"unknown\",id:\"unknown\",port:0,priority:0,protocol:\"unknown\",type:\"unknown\"},xc={timestamp:0,bitrate:{actualEncoded:0,transmit:0},sendPacketLossRate:0,recvPacketLossRate:0,videoRecv:[],videoSend:[],audioRecv:[],audioSend:[],selectedCandidatePair:{id:\"unknown\",localCandidate:hr,remoteCandidate:hr}},_0={firsCount:0,nacksCount:0,plisCount:0,framesDecodeCount:0,framesDecodeInterval:0,framesDecodeFreezeTime:0,decodeFrameRate:0,bytes:0,packetsLost:0,packetLostRate:0,packets:0,ssrc:0,qpSumPerFrame:0,framesDroppedCount:0,outputFrameRate:0},E0={firsCount:0,nacksCount:0,plisCount:0,frameCount:0,bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,jitterMs:0,qpSumPerFrame:0},m0={bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,jitterMs:0},f0={jitterBufferMs:0,jitterMs:0,bytes:0,packetsLost:0,packetLostRate:0,packetsDiscarded:0,packets:0,ssrc:0,receivedFrames:0,droppedFrames:0,concealedSamples:0};function lv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function uv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lv(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lv(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var Vc=class{constructor(e,n){T(this,\"onFirstVideoReceived\",void 0),T(this,\"onFirstVideoDecoded\",void 0),T(this,\"onFirstAudioReceived\",void 0),T(this,\"onFirstVideoDecodedTimeout\",void 0),T(this,\"onFirstAudioDecoded\",void 0),T(this,\"onSelectedLocalCandidateChanged\",void 0),T(this,\"onSelectedRemoteCandidateChanged\",void 0),T(this,\"videoIsReady\",!1),T(this,\"videoIsReady2\",{}),T(this,\"pc\",void 0),T(this,\"options\",void 0),T(this,\"intervalTimer\",void 0),T(this,\"stats\",Si(xc)),T(this,\"isFirstVideoReceived\",{}),T(this,\"isFirstVideoDecoded\",{}),T(this,\"isFirstAudioReceived\",{}),T(this,\"isFirstAudioDecoded\",{}),T(this,\"isFirstVideoDecodedTimeout\",{}),T(this,\"lossRateWindowStats\",[]),this.pc=e,this.options=n,this.intervalTimer=window.setInterval(async()=>{this.updateStats();},this.options.updateInterval);}getStats(){return this.stats}getSelectedCandidatePair(){return new j(e=>{e({local:uv({},hr),remote:uv({},hr)});})}setVideoIsReady(e){this.videoIsReady=e;}setVideoIsReady2(e,n){this.videoIsReady2[e]=n;}getVideoIsReady(e){return this.videoIsReady2[e]||!1}setIsFirstAudioDecoded(e){}destroy(){window.clearInterval(this.intervalTimer),this.pc=void 0;}calcLossRate(e){this.lossRateWindowStats.push(e),this.lossRateWindowStats.length>this.options.lossRateInterval&&this.lossRateWindowStats.splice(0,1);let n=this.lossRateWindowStats.length,i=[\"videoSend\",\"audioSend\",\"videoRecv\",\"audioRecv\"],r=0,o=0,s=0,a=0;for(let c of i)e[c].forEach((d,l)=>{if(!this.lossRateWindowStats[n-1][c][l]||!this.lossRateWindowStats[0][c][l])return;let u=this.lossRateWindowStats[n-1][c][l].packets-this.lossRateWindowStats[0][c][l].packets,h=this.lossRateWindowStats[n-1][c][l].packetsLost-this.lossRateWindowStats[0][c][l].packetsLost;c===\"videoSend\"||c===\"audioSend\"?(r+=u,s+=h):(o+=u,a+=h),Number.isNaN(u)||Number.isNaN(u)?d.packetLostRate=0:d.packetLostRate=u<=0||h<=0?0:h/(u+h);});e.sendPacketLossRate=r<=0||s<=0?0:s/(r+s),e.recvPacketLossRate=o<=0||a<=0?0:a/(o+a);}};function hv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function dW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hv(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hv(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var am=class extends Vc{constructor(){super(...arguments),T(this,\"_stats\",xc),T(this,\"lastDecodeVideoReceiverStats\",new Map);}async updateStats(){let e=await this._getStats(),n=this.statsResponsesToObjects(e);this._stats=Si(xc);let i=n.filter(o=>o.type===\"ssrc\");this.processSSRCStats(i);let r=n.find(o=>o.type===\"VideoBwe\");r&&this.processBandwidthStats(r),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats;}processBandwidthStats(e){this._stats.bitrate={actualEncoded:Number(e.googActualEncBitrate),targetEncoded:Number(e.googTargetEncBitrate),retransmit:Number(e.googRetransmitBitrate),transmit:Number(e.googTransmitBitrate)},this._stats.sendBandwidth=Number(e.googAvailableSendBandwidth);}processSSRCStats(e){e.forEach(n=>{var i;let r=W(i=n.id).call(i,\"send\");switch(\"\".concat(n.mediaType,\"_\").concat(r?\"send\":\"recv\")){case\"video_send\":{let o=Si(E0);o.codec=n.googCodecName,o.adaptionChangeReason=\"none\",n.googCpuLimitedResolution&&(o.adaptionChangeReason=\"cpu\"),n.googBandwidthLimitedResolution&&(o.adaptionChangeReason=\"bandwidth\"),o.avgEncodeMs=Number(n.googAvgEncodeMs),o.inputFrame={width:Number(n.googFrameWidthInput)||Number(n.googFrameWidthSent),height:Number(n.googFrameHeightInput)||Number(n.googFrameHeightSent),frameRate:Number(n.googFrameRateInput)},o.sentFrame={width:Number(n.googFrameWidthSent),height:Number(n.googFrameHeightSent),frameRate:Number(n.googFrameRateInput)},o.firsCount=Number(n.googFirReceived),o.nacksCount=Number(n.googNacksReceived),o.plisCount=Number(n.googPlisReceived),o.frameCount=Number(n.framesEncoded),o.bytes=Number(n.bytesSent),o.packets=Number(n.packetsSent),o.packetsLost=Number(n.packetsLost),o.ssrc=Number(n.ssrc),o.rttMs=Number(n.googRtt||0),this._stats.videoSend.push(o),this._stats.rtt=o.rttMs;break}case\"video_recv\":{let o=Si(_0),s=this.lastDecodeVideoReceiverStats.get(Number(n.ssrc));if(o.codec=n.googCodecName,o.targetDelayMs=Number(n.googTargetDelayMs),o.renderDelayMs=Number(n.googRenderDelayMs),o.currentDelayMs=Number(n.googCurrentDelayMs),o.minPlayoutDelayMs=Number(n.googMinPlayoutDelayMs),o.decodeMs=Number(n.googDecodeMs),o.maxDecodeMs=Number(n.googMaxDecodeMs),o.receivedFrame={width:Number(n.googFrameWidthReceived),height:Number(n.googFrameHeightReceived),frameRate:Number(n.googFrameRateReceived)},o.decodedFrame={width:Number(n.googFrameWidthReceived),height:Number(n.googFrameHeightReceived),frameRate:Number(n.googFrameRateDecoded)},o.decodeFrameRate=Number(n.googFrameRateDecoded),o.outputFrame={width:Number(n.googFrameWidthReceived),height:Number(n.googFrameHeightReceived),frameRate:Number(n.googFrameRateOutput)},o.jitterBufferMs=Number(n.googJitterBufferMs),o.firsCount=Number(n.googFirsSent),o.nacksCount=Number(n.googNacksSent),o.plisCount=Number(n.googPlisSent),o.framesDecodeCount=Number(n.framesDecoded),o.bytes=Number(n.bytesReceived),o.packets=Number(n.packetsReceived),o.packetsLost=Number(n.packetsLost),o.ssrc=Number(n.ssrc),o.packets>0&&!this.isFirstVideoReceived[o.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(o.ssrc),this.isFirstVideoReceived[o.ssrc]=!0),o.framesDecodeCount>0&&!this.isFirstVideoDecoded[o.ssrc]&&(this.onFirstVideoDecoded&&this.onFirstVideoDecoded(o.ssrc,o.decodedFrame.width,o.decodedFrame.height),this.isFirstVideoDecoded[o.ssrc]=!0),s){let a=s.stats,c=Date.now()-s.lts;o.framesDecodeFreezeTime=a.framesDecodeFreezeTime,o.framesDecodeInterval=a.framesDecodeInterval,o.framesDecodeCount>a.framesDecodeCount&&this.isFirstVideoDecoded[o.ssrc]?(s.lts=Date.now(),o.framesDecodeInterval=c,o.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(n.ssrc,10))?o.framesDecodeFreezeTime+=o.framesDecodeInterval:this.setVideoIsReady2(parseInt(n.ssrc,10),!0))):o.framesDecodeCount<s.stats.framesDecodeCount&&(o.framesDecodeInterval=0);}this.lastDecodeVideoReceiverStats.set(o.ssrc,{stats:dW({},o),lts:Date.now()}),this._stats.videoRecv.push(o);break}case\"audio_recv\":{let o=Si(f0);o.codec=n.googCodecName,o.outputLevel=Math.abs(Number(n.audioOutputLevel))/32767,o.decodingCNG=Number(n.googDecodingCNG),o.decodingCTN=Number(n.googDecodingCTN),o.decodingCTSG=Number(n.googDecodingCTSG),o.decodingNormal=Number(n.googDecodingNormal),o.decodingPLC=Number(n.googDecodingPLC),o.decodingPLCCNG=Number(n.googDecodingPLCCNG),o.expandRate=Number(n.googExpandRate),o.accelerateRate=Number(n.googAccelerateRate),o.preemptiveExpandRate=Number(n.googPreemptiveExpandRate),o.secondaryDecodedRate=Number(n.googSecondaryDecodedRate),o.speechExpandRate=Number(n.googSpeechExpandRate),o.preferredJitterBufferMs=Number(n.googPreferredJitterBufferMs),o.jitterBufferMs=Number(n.googJitterBufferMs),o.jitterMs=Number(n.googJitterReceived),o.bytes=Number(n.bytesReceived),o.packets=Number(n.packetsReceived),o.packetsLost=Number(n.packetsLost),o.ssrc=Number(n.ssrc),o.receivedFrames=Number(n.googDecodingCTN)||Number(n.packetsReceived),o.droppedFrames=Number(n.googDecodingPLC)+Number(n.googDecodingPLCCNG)||Number(n.packetsLost),o.receivedFrames>0&&!this.isFirstAudioReceived[o.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(o.ssrc),this.isFirstAudioReceived[o.ssrc]=!0),o.decodingNormal>0&&!this.isFirstAudioDecoded[o.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(o.ssrc),this.isFirstAudioDecoded[o.ssrc]=!0),this._stats.audioRecv.push(o);break}case\"audio_send\":{let o=Si(m0);o.codec=n.googCodecName,o.inputLevel=Math.abs(Number(n.audioInputLevel))/32767,o.aecReturnLoss=Number(n.googEchoCancellationReturnLoss||0),o.aecReturnLossEnhancement=Number(n.googEchoCancellationReturnLossEnhancement||0),o.residualEchoLikelihood=Number(n.googResidualEchoLikelihood||0),o.residualEchoLikelihoodRecentMax=Number(n.googResidualEchoLikelihoodRecentMax||0),o.bytes=Number(n.bytesSent),o.packets=Number(n.packetsSent),o.packetsLost=Number(n.packetsLost),o.ssrc=Number(n.ssrc),o.rttMs=Number(n.googRtt||0),this._stats.rtt=o.rttMs,this._stats.audioSend.push(o);break}}});}_getStats(){return new j((e,n)=>{this.pc.getStats(e,n);})}statsResponsesToObjects(e){let n=[];return e.result().forEach(i=>{let r={id:i.id,timestamp:i.timestamp.valueOf().toString(),type:i.type};i.names().forEach(o=>{r[o]=i.stat(o);}),n.push(r);}),n}};function pv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function Ao(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pv(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pv(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var hu=class extends Vc{constructor(){super(...arguments),T(this,\"_stats\",xc),T(this,\"report\",void 0),T(this,\"lastDecodeVideoReceiverStats\",new Map),T(this,\"lastVideoFramesRecv\",new Map),T(this,\"lastVideoFramesSent\",new Map),T(this,\"lastVideoFramesDecode\",new Map),T(this,\"lastVideoFramesOutput\",new Map),T(this,\"lastVideoJBDelay\",new Map),T(this,\"lastAudioJBDelay\",new Map),T(this,\"mediaBytesSent\",new Map),T(this,\"mediaBytesRetransmit\",new Map),T(this,\"mediaBytesTargetEncode\",new Map),T(this,\"lastEncoderMs\",new Map);}async updateStats(){this.report=await this.pc.getStats(),this._stats=Si(xc),this.report.forEach(e=>{switch(e.type){case kn.OUTBOUND:case kn.INBOUND:{let n=e.mediaType||e.kind,i=!n&&\"frameWidth\"in e,r=!n&&!(\"frameWidth\"in e);e.type===kn.OUTBOUND?n===\"audio\"||r?this.processAudioOutboundStats(e):(n===\"video\"||i)&&this.processVideoOutboundStats(e):e.type===kn.INBOUND&&(n===\"audio\"||r?this.processAudioInboundStats(e):(n===\"video\"||i)&&this.processVideoInboundStats(e));break}case kn.TRANSPORT:{let n=this.report.get(e.selectedCandidatePairId);n&&this.processCandidatePairStats(n);break}case kn.CANDIDATE_PAIR:e.selected&&this.processCandidatePairStats(e);}}),this.updateSendBitrate(),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats;}async getSelectedCandidatePair(){let e=await this.pc.getStats(),n={local:Ao({},hr),remote:Ao({},hr)};return e.forEach(i=>{let r;if(i.type===kn.TRANSPORT&&(r=e.get(i.selectedCandidatePairId)),i.type===kn.CANDIDATE_PAIR&&i.selected&&(r=i),r){let o=(s,a)=>{s.type=a.type,s.id=a.id,a.address&&(s.address=a.address),a.candidateType&&(s.candidateType=a.candidateType),a.port&&(s.port=a.port),a.priority&&(s.priority=a.priority),a.protocol&&(s.protocol=a.protocol),a.relayProtocol&&(s.relayProtocol=a.relayProtocol);};if(r.localCandidateId){let s=e.get(r.localCandidateId);s&&o(n.local,s);}if(r.remoteCandidateId){let s=e.get(r.remoteCandidateId);s&&o(n.remote,s);}}}),n}processCandidatePairStats(e){if(this._stats.sendBandwidth=e.availableOutgoingBitrate||0,e.currentRoundTripTime&&(this._stats.rtt=1e3*e.currentRoundTripTime),this._stats.videoSend.forEach(n=>{e.currentRoundTripTime&&(n.rttMs=1e3*e.currentRoundTripTime);}),this._stats.audioSend.forEach(n=>{e.currentRoundTripTime&&(n.rttMs=1e3*e.currentRoundTripTime);}),this._stats.selectedCandidatePair.id=e.id,e.localCandidateId){let n=this.report.get(e.localCandidateId);n&&this.processCandidateStats(n);}if(e.remoteCandidateId){let n=this.report.get(e.remoteCandidateId);n&&this.processCandidateStats(n);}}processCandidateStats(e){let n;e.type===kn.LOCAL_CANDIDATE&&(n=this._stats.selectedCandidatePair.localCandidate),e.type===kn.REMOTE_CANDIDATE&&(n=this._stats.selectedCandidatePair.remoteCandidate),n&&(n.type=e.type,n.id=e.id,e.address&&(n.address=e.address),e.candidateType&&(n.candidateType=e.candidateType),e.port&&(n.port=e.port),e.priority&&(n.priority=e.priority),e.protocol&&(n.protocol=e.protocol),e.relayProtocol&&(n.relayProtocol=e.relayProtocol),e.type===kn.LOCAL_CANDIDATE&&this.stats.selectedCandidatePair.localCandidate.id!==n.id&&this.onSelectedLocalCandidateChanged&&this.onSelectedLocalCandidateChanged(Ao({},n),Ao({},this.stats.selectedCandidatePair.localCandidate)),e.type===kn.REMOTE_CANDIDATE&&this.stats.selectedCandidatePair.remoteCandidate.id!==n.id&&this.onSelectedRemoteCandidateChanged&&this.onSelectedRemoteCandidateChanged(Ao({},n),Ao({},this.stats.selectedCandidatePair.remoteCandidate)));}processAudioInboundStats(e){let n=this._stats.audioRecv.find(i=>i.ssrc===e.ssrc);n||(n=Si(f0),this._stats.audioRecv.push(n)),n.ssrc=e.ssrc,n.packets=e.packetsReceived,n.packetsLost=e.packetsLost,n.packetsDiscarded=e.packetsDiscarded,n.bytes=e.bytesReceived,n.jitterMs=1e3*e.jitter,this.processAudioTrackReceiverStats(e,e.trackId,n),e.codecId&&(n.codec=this.getCodecFromCodecStats(e.codecId)),n.receivedFrames||(n.receivedFrames=e.packetsReceived),n.droppedFrames||(n.droppedFrames=e.packetsLost),n.receivedFrames>0&&!this.isFirstAudioReceived[n.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(n.ssrc),this.isFirstAudioReceived[n.ssrc]=!0),n.outputLevel&&n.outputLevel>0&&!this.isFirstAudioDecoded[n.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(n.ssrc),this.isFirstAudioDecoded[n.ssrc]=!0),typeof e.concealedSamples==\"number\"&&(n.concealedSamples=e.concealedSamples);}processVideoInboundStats(e){let n=this._stats.videoRecv.find(a=>a.ssrc===e.ssrc);n||(n=Si(_0),this._stats.videoRecv.push(n)),n.ssrc=e.ssrc,n.packets=e.packetsReceived,n.packetsLost=e.packetsLost,n.bytes=e.bytesReceived,n.firsCount=e.firCount,n.nacksCount=e.nackCount,n.plisCount=e.pliCount,n.framesDecodeCount=e.framesDecoded,n.framesDroppedCount=e.framesDropped,n.totalInterFrameDelay=e.totalInterFrameDelay,n.totalSquaredInterFrameDelay=e.totalSquaredInterFrameDelay,n.totalFreezesDuration=e.totalFreezesDuration;let i=this.lastDecodeVideoReceiverStats.get(n.ssrc),r=this.lastVideoFramesDecode.get(n.ssrc),o=this.lastVideoFramesOutput.get(n.ssrc),s=Date.now();if(n.framesDecodeCount>0&&!this.isFirstVideoDecoded[n.ssrc]){let a=n.decodedFrame?n.decodedFrame.width:0,c=n.decodedFrame?n.decodedFrame.height:0;this.onFirstVideoDecoded&&this.onFirstVideoDecoded(n.ssrc,a,c),this.isFirstVideoDecoded[n.ssrc]=!0;}if(i){let a=i.stats,c=s-i.lts;n.framesDecodeFreezeTime=a.framesDecodeFreezeTime,n.framesDecodeInterval=a.framesDecodeInterval,!this.isFirstVideoDecoded[n.ssrc]&&c>this.options.firstVideoDecodedTimeout&&!this.isFirstVideoDecodedTimeout[n.ssrc]&&(this.onFirstVideoDecodedTimeout&&this.onFirstVideoDecodedTimeout(n.ssrc),this.isFirstVideoDecodedTimeout[n.ssrc]=!0),n.framesDecodeCount>a.framesDecodeCount&&this.isFirstVideoDecoded[n.ssrc]?(i.lts=Date.now(),n.framesDecodeInterval=c,n.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(e.ssrc))?n.framesDecodeFreezeTime+=n.framesDecodeInterval:this.setVideoIsReady2(parseInt(e.ssrc,10),!0))):n.framesDecodeCount<a.framesDecodeCount&&(n.framesDecodeInterval=0),e.framesDecoded&&e.qpSum&&(i.stats.framesDecodeCount>e.framesDecoded?n.qpSumPerFrame=e.qpSum/e.framesDecoded:n.qpSumPerFrame=(e.qpSum-i.qpSum)/(e.framesDecoded-i.stats.framesDecodeCount));}r&&s-r.lts>=800?(n.decodeFrameRate=Math.round((n.framesDecodeCount-r.count)/((s-r.lts)/1e3)),this.lastVideoFramesDecode.set(n.ssrc,{count:n.framesDecodeCount,lts:s,rate:n.decodeFrameRate})):r?n.decodeFrameRate=r.rate:this.lastVideoFramesDecode.set(n.ssrc,{count:n.framesDecodeCount,lts:s,rate:0}),n.framesDroppedCount&&e.framesReceived&&(o&&s-o.lts>=800?(n.outputFrameRate=Math.round((e.framesReceived-n.framesDroppedCount-o.count)/((s-o.lts)/1e3)),this.lastVideoFramesOutput.set(n.ssrc,{count:e.framesReceived-n.framesDroppedCount,lts:s,rate:Math.max(n.outputFrameRate,0)})):o?n.outputFrameRate=o.rate:this.lastVideoFramesOutput.set(n.ssrc,{count:e.framesReceived-n.framesDroppedCount,lts:s,rate:0})),e.totalDecodeTime&&(n.decodeMs=1e3*e.totalDecodeTime),this.processVideoTrackReceiverStats(e,e.trackId,n),e.codecId&&(n.codec=this.getCodecFromCodecStats(e.codecId)),e.framerateMean&&(n.framesRateFirefox=e.framerateMean),n.packets>0&&!this.isFirstVideoReceived[n.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(n.ssrc),this.isFirstVideoReceived[n.ssrc]=!0),this.lastDecodeVideoReceiverStats.set(n.ssrc,{stats:Ao({},n),lts:i?i.lts:Date.now(),qpSum:e.qpSum});}processVideoOutboundStats(e){let n=this._stats.videoSend.find(r=>r.ssrc===e.ssrc);n||(n=Si(E0),this._stats.videoSend.push(n));let i=this.mediaBytesSent.get(e.ssrc);if(i)i.add(e.bytesSent);else {let r=new cc(10);r.add(e.bytesSent),this.mediaBytesSent.set(e.ssrc,r);}if(e.retransmittedBytesSent!==void 0){let r=this.mediaBytesRetransmit.get(e.ssrc);if(r)r.add(e.retransmittedBytesSent);else {let o=new cc(10);o.add(e.retransmittedBytesSent),this.mediaBytesRetransmit.set(e.ssrc,o);}}if(e.totalEncodedBytesTarget){let r=this.mediaBytesTargetEncode.get(e.ssrc);if(r)r.add(e.totalEncodedBytesTarget);else {let o=new cc(10);o.add(e.totalEncodedBytesTarget),this.mediaBytesTargetEncode.set(e.ssrc,o);}}if(n.ssrc=e.ssrc,n.bytes=e.bytesSent,n.packets=e.packetsSent,n.firsCount=e.firCount,n.nacksCount=e.nackCount,n.plisCount=e.pliCount,n.frameCount=e.framesEncoded,n.adaptionChangeReason=e.qualityLimitationReason,n.scalabilityMode=e.scalabilityMode,e.totalEncodeTime&&e.framesEncoded){let r=this.lastEncoderMs.get(e.ssrc);if(!r||r.lastFrameCount>e.framesEncoded)n.avgEncodeMs=1e3*e.totalEncodeTime/e.framesEncoded;else {let o=e.framesEncoded-r.lastFrameCount,s=e.totalEncodeTime-r.lastEncoderTime;n.avgEncodeMs=1e3*s/o;}}if(e.framesEncoded&&e.qpSum){let r=this.lastEncoderMs.get(e.ssrc);!r||r.lastFrameCount>e.framesEncoded?n.qpSumPerFrame=e.qpSum/e.framesEncoded:n.qpSumPerFrame=(e.qpSum-r.lastQpSum)/(e.framesEncoded-r.lastFrameCount);}if(this.lastEncoderMs.set(e.ssrc,{lastFrameCount:e.framesEncoded,lastEncoderTime:e.totalEncodeTime,lastQpSum:e.qpSum,lts:Date.now()}),e.codecId&&(n.codec=this.getCodecFromCodecStats(e.codecId)),e.mediaSourceId&&this.processVideoMediaSource(e.mediaSourceId,n),this.processVideoTrackSenderStats(e,e.trackId,n),e.remoteId)this.processRemoteInboundStats(e.remoteId,n);else {let r=this.findRemoteStatsId(e.ssrc,kn.REMOTE_INBOUND);r&&this.processRemoteInboundStats(r,n);}}processAudioOutboundStats(e){let n=this._stats.audioSend.find(i=>i.ssrc===e.ssrc);if(n||(n=Si(m0),this._stats.audioSend.push(n)),n.ssrc=e.ssrc,n.packets=e.packetsSent,n.bytes=e.bytesSent,e.mediaSourceId&&this.processAudioMediaSource(e.mediaSourceId,n),e.codecId&&(n.codec=this.getCodecFromCodecStats(e.codecId)),this.processAudioTrackSenderStats(e,e.trackId,n),e.remoteId)this.processRemoteInboundStats(e.remoteId,n);else {let i=this.findRemoteStatsId(e.ssrc,kn.REMOTE_INBOUND);i&&this.processRemoteInboundStats(i,n);}}findRemoteStatsId(e,n){var i;let r=Array.from(Pr(i=this.report).call(i)).find(o=>o.type===n&&o.ssrc===e);return r?r.id:null}processVideoMediaSource(e,n){let i=this.report.get(e);i&&i.width&&i.height&&i.framesPerSecond&&(n.inputFrame={width:i.width,height:i.height,frameRate:i.framesPerSecond});}processAudioMediaSource(e,n){let i=this.report.get(e);i&&(n.inputLevel=i.audioLevel);}processVideoTrackSenderStats(e,n,i){var r,o,s,a;let c=n?this.report.get(n):void 0,d=(r=c?.framesSent)!==null&&r!==void 0?r:e.framesSent;if(typeof d!=\"number\")return;let l=(o=c?.frameWidth)!==null&&o!==void 0?o:e.frameWidth,u=(s=c?.frameHeight)!==null&&s!==void 0?s:e.frameHeight,h=(a=c?.framesPerSecond)!==null&&a!==void 0?a:e.framesPerSecond;if(typeof l==\"number\"&&typeof u==\"number\"||(l=0,u=0),h==null){let p=Date.now(),g=this.lastVideoFramesSent.get(i.ssrc);g&&p-g.lts>=800?(h=Math.round((d-g.count)/((p-g.lts)/1e3)),this.lastVideoFramesSent.set(i.ssrc,{count:d,lts:p,rate:h})):g?h=g.rate:this.lastVideoFramesSent.set(i.ssrc,{count:d,lts:p,rate:0});}i.sentFrame={width:l,height:u,frameRate:Math.max(0,h)};}processVideoTrackReceiverStats(e,n,i){var r,o,s,a,c;let d=n?this.report.get(n):void 0,l=(r=d?.framesReceived)!==null&&r!==void 0?r:e.framesReceived,u=(o=d?.frameWidth)!==null&&o!==void 0?o:e.frameWidth,h=(s=d?.frameHeight)!==null&&s!==void 0?s:e.frameHeight,p=(a=d?.jitterBufferDelay)!==null&&a!==void 0?a:e.jitterBufferDelay,g=(c=d?.jitterBufferEmittedCount)!==null&&c!==void 0?c:e.jitterBufferEmittedCount;if(typeof l==\"number\"){let E=this.lastVideoFramesRecv.get(i.ssrc),f=Date.now();i.framesReceivedCount=l;let S=0;E&&f-E.lts>=800?(S=Math.round((l-E.count)/((f-E.lts)/1e3)),this.lastVideoFramesRecv.set(i.ssrc,{count:l,lts:f,rate:S})):E?S=E.rate:this.lastVideoFramesRecv.set(i.ssrc,{count:l,lts:f,rate:0}),i.receivedFrame={width:u||0,height:h||0,frameRate:S||0},i.decodedFrame={width:u||0,height:h||0,frameRate:i.decodeFrameRate||0},i.outputFrame={width:u||0,height:h||0,frameRate:i.outputFrameRate||i.decodeFrameRate||0};}if(p&&g){let E=this.lastVideoJBDelay.get(i.ssrc)||{jitterBufferDelay:0,jitterBufferEmittedCount:0,jitterBufferMs:0},f=E.jitterBufferMs,S=g-E.jitterBufferEmittedCount;S>0&&(f=1e3*(p-E.jitterBufferDelay)/S),i.jitterBufferMs=f,i.currentDelayMs=Math.round(f),this.lastVideoJBDelay.set(i.ssrc,{jitterBufferDelay:p,jitterBufferEmittedCount:g,jitterBufferMs:i.currentDelayMs});}}processAudioTrackSenderStats(e,n,i){var r,o,s,a;let c=n?this.report.get(n):void 0,d=(r=(o=c?.echoReturnLoss)!==null&&o!==void 0?o:e.echoReturnLoss)!==null&&r!==void 0?r:0,l=(s=(a=c?.echoReturnLossEnhancement)!==null&&a!==void 0?a:e.echoReturnLossEnhancement)!==null&&s!==void 0?s:0;i.aecReturnLoss=d,i.aecReturnLossEnhancement=l;}processAudioTrackReceiverStats(e,n,i){var r,o,s,a,c,d,l;let u=n?this.report.get(n):void 0,h=(r=u?.removedSamplesForAcceleration)!==null&&r!==void 0?r:e.removedSamplesForAcceleration,p=(o=u?.totalSamplesReceived)!==null&&o!==void 0?o:e.totalSamplesReceived,g=(s=u?.jitterBufferDelay)!==null&&s!==void 0?s:e.jitterBufferDelay,E=(a=u?.jitterBufferEmittedCount)!==null&&a!==void 0?a:e.jitterBufferEmittedCount,f=(c=u?.audioLevel)!==null&&c!==void 0?c:e?.audioLevel,S=(d=u?.totalSamplesDuration)!==null&&d!==void 0?d:e?.totalSamplesDuration,C=(l=u?.concealedSamples)!==null&&l!==void 0?l:e.concealedSamples;if(h&&p&&(i.accelerateRate=h/p),g&&E){let b=this.lastAudioJBDelay.get(i.ssrc)||{jitterBufferDelay:0,jitterBufferEmittedCount:0,jitterBufferMs:0},w=b.jitterBufferMs,D=E-b.jitterBufferEmittedCount;D>0&&(w=1e3*(g-b.jitterBufferDelay)/D),i.jitterBufferMs=Math.round(w),this.lastAudioJBDelay.set(i.ssrc,{jitterBufferDelay:g,jitterBufferEmittedCount:E,jitterBufferMs:i.jitterBufferMs});}i.outputLevel=f;let A=1920;S&&p&&(A=p/S/50,i.receivedFrames=Math.round(p/A)),C&&(i.droppedFrames=Math.round(C/A));}processRemoteInboundStats(e,n){let i=this.report.get(e);i&&(n.packetsLost=i.packetsLost,i.roundTripTime&&(n.rttMs=1e3*i.roundTripTime),i.jitter&&(n.jitterMs=1e3*i.jitter),i.timestamp&&(n.timestamp=i.timestamp));}getCodecFromCodecStats(e){let n=this.report.get(e);if(!n)return \"\";let i=n.mimeType.match(/\\/(.*)$/);return i&&i[1]?i[1]:\"\"}updateSendBitrate(){let e=0,n=null,i=null;this.mediaBytesSent.forEach(o=>{e+=o.diffMean();}),this.mediaBytesRetransmit.forEach(o=>{n=n===null?o.diffMean():n+o.diffMean();}),this.mediaBytesTargetEncode.forEach(o=>{i=i===null?o.diffMean():i+o.diffMean();});let r=n!==null?e-n:e;this._stats.bitrate={actualEncoded:8*r/(this.options.updateInterval/1e3),transmit:8*e/(this.options.updateInterval/1e3)},n!==null&&(this._stats.bitrate.retransmit=8*n/(this.options.updateInterval/1e3)),i!==null&&(this._stats.bitrate.targetEncoded=8*i/(this.options.updateInterval/1e3));}},cm=class extends Vc{updateStats(){return j.resolve()}};function Nf(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:8,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:500,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e4,o=function(){let s=navigator.userAgent.toLocaleLowerCase().match(/chrome\\/[\\d]*/i);return s&&s[0]?Number(s[0].split(\"/\")[1]):null}();return o?o<76?new am(t,{updateInterval:e,lossRateInterval:n,freezeRateLimit:i,firstVideoDecodedTimeout:r}):new hu(t,{updateInterval:e,lossRateInterval:n,freezeRateLimit:i,firstVideoDecodedTimeout:r}):function(s){if(!window.RTCStatsReport)return !1;let a=s.getStats();return !!(a instanceof j||function(c){return !!c&&(typeof c==\"object\"||typeof c==\"function\")&&typeof c.then==\"function\"}(a))}(t)?new hu(t,{updateInterval:e,lossRateInterval:n,freezeRateLimit:i,firstVideoDecodedTimeout:r}):new cm(t,{updateInterval:e,lossRateInterval:n,freezeRateLimit:i,firstVideoDecodedTimeout:r})}var _v=class{get localCapabilities(){return le(this._localCapabilities)}get rtpCapabilities(){return le(this._rtpCapabilities)}get candidates(){return le(this._candidates)}get iceParameters(){return le(this._iceParameters)}get dtlsParameters(){return le(this._dtlsParameters)}constructor(t){T(this,\"sessionDesc\",void 0),T(this,\"_localCapabilities\",void 0),T(this,\"_rtpCapabilities\",void 0),T(this,\"_candidates\",void 0),T(this,\"_iceParameters\",void 0),T(this,\"_dtlsParameters\",void 0),T(this,\"setup\",void 0),T(this,\"currentMidIndex\",void 0),T(this,\"cname\",\"o/i14u9pJrxRKAsu\"),T(this,\"firefoxSsrcMidMap\",new Map),t=le(t);let{remoteIceParameters:e,remoteDtlsParameters:n,candidates:i,remoteRTPCapabilities:r,localCapabilities:o,direction:s,setup:a,videoCodec:c,audioCodec:d}=t,l;this.setup=a,l=s===cn.RECEIVE_ONLY?Le.parse(`v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE 0 1\na=msid-semantic: WMS\na=extmap-allow-mixed\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:0\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:1\n`):Le.parse(`v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE 0 1\na=msid-semantic: WMS\na=extmap-allow-mixed\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=recvonly\na=rtcp-mux\na=rtcp-rsize\na=mid:0\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=recvonly\na=rtcp-mux\na=rtcp-rsize\na=mid:1\n`),this._rtpCapabilities=r,this._candidates=i,this._iceParameters=e,this._dtlsParameters=n,this._localCapabilities=o;let u=s===cn.RECEIVE_ONLY?this.rtpCapabilities.send:this.rtpCapabilities.recv,h=s===cn.RECEIVE_ONLY?this._localCapabilities.recv:this._localCapabilities.send,p=s===cn.RECEIVE_ONLY?r.send.videoCodecs:ac(Q.VIDEO,u,h,c),g=s===cn.RECEIVE_ONLY?r.send.audioCodecs:ac(Q.AUDIO,u,h,d);for(let E of l.mediaDescriptions)E.attributes.iceUfrag=e.iceUfrag,E.attributes.icePwd=e.icePwd,E.attributes.fingerprints=n.fingerprints,E.attributes.candidates=i,E.attributes.setup=this.setup,E.media.mediaType===\"application\"&&(E.attributes.sctpPort=\"5000\"),E.media.mediaType===\"video\"&&(E.media.fmts=p.map(f=>f.payloadType.toString(10)),E.attributes.payloads=p,E.attributes.extmaps=u.videoExtensions),E.media.mediaType===\"audio\"&&(E.media.fmts=g.map(f=>f.payloadType.toString(10)),E.attributes.payloads=g,E.attributes.extmaps=u.audioExtensions,oa(E));this.sessionDesc=l,this.currentMidIndex=l.mediaDescriptions.length-1;}toString(){return Le.print(this.sessionDesc)}hasMid(t){return Array.isArray(t)?t.every(e=>this.hasMid(e)):this.sessionDesc.mediaDescriptions.some(e=>e.attributes.mid===t)}send(t,e,n,i,r){n=n.replace(/ /g,\"-\");let{ssrcs:o,ssrcGroups:s}=Lo(e,this.cname,v(\"SYNC_GROUP\")?n:void 0),a=this.findPreloadMediaDesc(o);if(a){if($t()&&this.firefoxSsrcMidMap.set(o[0].ssrcId,a.attributes.mid),r&&(r.twcc||r.remb)){let c=this.sessionDesc.mediaDescriptions.indexOf(a);return this.sessionDesc.mediaDescriptions[c]=this.mungSendMediaDesc(a,r),{mid:a.attributes.mid,needExchangeSDP:!0}}return {mid:a.attributes.mid,needExchangeSDP:!1}}{let c=this.findAvailableMediaIndex(t,o,i),d;return c===-1?(d=this.createOrRecycleSendMedia(t,o,s,\"sendonly\",i,r),this.updateBundleMids()):(d=le(this.sessionDesc.mediaDescriptions[c]),d.attributes.direction=\"sendonly\",d.attributes.ssrcs=o,d.attributes.ssrcGroups=s,this.sessionDesc.mediaDescriptions[c]=this.mungSendMediaDesc(d,r)),$t()&&this.firefoxSsrcMidMap.set(o[0].ssrcId,d.attributes.mid),{needExchangeSDP:!0,mid:d.attributes.mid}}}stopSending(t){let e=this.sessionDesc.mediaDescriptions.filter(n=>n.attributes.mid&&t.indexOf(n.attributes.mid)!==-1);if(e.length!==t.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.\");e.forEach(n=>{n.attributes.ssrcs=[];}),this.updateBundleMids();}receive(t,e,n){let i=[];return t.forEach(r=>{let o=r._mediaStreamTrack.kind,s=this.findAvailableRecvMediaIndex(o),a,c=!1;s===-1?(c=!0,a=this.createOrRecycleRecvMedia(r,[],\"recvonly\",e,n),this.updateBundleMids()):(a=le(this.sessionDesc.mediaDescriptions[s]),a.attributes.direction=\"recvonly\"),i.push({mid:a.attributes.mid,needCreateTransceiver:c});}),i}stopReceiving(t){let e=this.sessionDesc.mediaDescriptions.filter(n=>t.indexOf(n.attributes.mid)!==-1);if(e.length!==t.length)throw new Error(\"MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.\");e.forEach(n=>{n.media.port=\"0\",n.attributes.direction=\"inactive\";}),this.updateBundleMids();}addRemoteCandidate(t){let{foundation:e,protocol:n,address:i,port:r,type:o,relatedAddress:s,relatedPort:a,priority:c}=new RTCIceCandidate(t),d={foundation:e??\"\",componentId:\"1\",transport:n??\"\",priority:c?c+\"\":\"\",connectionAddress:i??\"\",port:r?r+\"\":\"\",type:o?o+\"\":\"\",relAddr:s??\"\",relPort:a?a+\"\":\"\",extension:{}};this.candidates.some(l=>l.priority===d.priority&&l.connectionAddress===d.connectionAddress&&l.port===d.port)||(this._candidates.push(d),this.sessionDesc.mediaDescriptions.forEach(l=>{l.attributes.candidates=this.candidates;}));}clearRemoteCandidate(){this._candidates=[],this.sessionDesc.mediaDescriptions[0].attributes.candidates=this._candidates;}createOrRecycleRecvMedia(t,e,n,i,r){let o=t._mediaStreamTrack.kind,s=this.rtpCapabilities.recv,a=ac(o,s,this.localCapabilities.send,o===Q.AUDIO?r:i),c=o===Q.VIDEO?s.videoExtensions:s.audioExtensions,d=\"\".concat(++this.currentMidIndex),l={media:{mediaType:o,port:\"9\",protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:a.map(h=>h.payloadType.toString(10))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:[],extmaps:c,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:e,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:a,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:n,rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(d)}};l=this.mungRecvMediaDsec(l,t);let u=this.findFirstClosedMedia(o);if(u){let h=this.sessionDesc.mediaDescriptions.indexOf(u);this.sessionDesc.mediaDescriptions[h]=l;}else this.sessionDesc.mediaDescriptions.push(l);return l}muteRemote(t){let e=this.sessionDesc.mediaDescriptions.filter(n=>W(t).call(t,n.attributes.mid||\"\"));if(e.length!==t.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.\");e.forEach(n=>{n.attributes.direction=\"inactive\";});}unmuteRemote(t){let e=this.sessionDesc.mediaDescriptions.filter(n=>W(t).call(t,n.attributes.mid||\"\"));if(e.length!==t.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.\");e.forEach(n=>{n.attributes.direction=\"recvonly\";});}findAvailableMediaIndex(t,e,n){return this.sessionDesc.mediaDescriptions.findIndex(i=>{let r=i.media.mediaType===t&&i.media.port!==\"0\"&&(i.attributes.direction===\"sendonly\"||i.attributes.direction===\"sendrecv\")&&i.attributes.ssrcs.length===0;if($t()){if(r){let o=this.firefoxSsrcMidMap.get(e[0].ssrcId);return !(o||i.attributes.mid!==\"0\"&&i.attributes.mid!==\"1\")||!(!o||o!==i.attributes.mid)}return !1}return r&&i.attributes.mid===n})}findAvailableRecvMediaIndex(t){return this.sessionDesc.mediaDescriptions.findIndex(e=>{let n=e.media.mediaType===t&&e.media.port!==\"0\"&&(e.attributes.direction===\"recvonly\"||e.attributes.direction===\"sendrecv\");return e.attributes.mid!==\"0\"&&e.attributes.mid!==\"1\"&&n})}predictReceivingMids(t){let e=[];for(let n=0;n<t;n++)e.push((this.currentMidIndex+n+1).toString(10));return e}restartICE(t){t=le(t),this._iceParameters=t,this.sessionDesc.mediaDescriptions.forEach(e=>{e.attributes.iceUfrag=t.iceUfrag,e.attributes.icePwd=t.icePwd;});}createOrRecycleSendMedia(t,e,n,i,r,o){let s=this.rtpCapabilities.send,a=t===Q.VIDEO?s.videoCodecs:s.audioCodecs,c=t===Q.VIDEO?s.videoExtensions:s.audioExtensions;$t()&&(r=\"\".concat(++this.currentMidIndex));let d={media:{mediaType:t,port:\"9\",protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:a.map(u=>u.payloadType.toString(10))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:[],extmaps:c,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:e,ssrcGroups:n,rtcpFeedbackWildcards:[],payloads:a,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:i,rtcpMux:!0,rtcpRsize:!0,mid:r}};d=this.mungSendMediaDesc(d,o);let l=this.findFirstClosedMedia(t);if(l){let u=this.sessionDesc.mediaDescriptions.indexOf(l);this.sessionDesc.mediaDescriptions[u]=d;}else this.sessionDesc.mediaDescriptions.push(d);return d}mungRecvMediaDsec(t,e,n){let i=le(t);return If(i),ra(i,e),vf(i,e),r0(i),lu(i,n,this.localCapabilities.send),i}mungSendMediaDesc(t,e){let n=le(t);return lu(n,e,this.localCapabilities.recv),oa(n),n}updateRecvMedia(t,e){let n=this.sessionDesc.mediaDescriptions.findIndex(i=>i.attributes.mid===t);if(n!==-1){let i=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[n],e);this.sessionDesc.mediaDescriptions[n]=i;}}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter(t=>t.media.port!==\"0\").map(t=>t.attributes.mid);}findPreloadMediaDesc(t){return this.sessionDesc.mediaDescriptions.find(e=>{var n;return ((n=e.attributes)===null||n===void 0||(n=n.ssrcs[0])===null||n===void 0?void 0:n.ssrcId)===t[0].ssrcId})}findFirstClosedMedia(t){return this.sessionDesc.mediaDescriptions.find(e=>$t()?e.media.port===\"0\"&&e.media.mediaType===t:e.media.port===\"0\")}},lW=[\"sdp\"],Vt;function Ev(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function Gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ev(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ev(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var mv=(Vt=class bs extends Kl{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get dtlsTransportState(){var e,n;return (e=(n=this.peerConnection.getReceivers()[0])===null||n===void 0||(n=n.transport)===null||n===void 0?void 0:n.state)!==null&&e!==void 0?e:null}get localCodecs(){return []}set isInRestartIce(e){this._isInRestartIce=e;}get isInRestartIce(){return this._isInRestartIce}constructor(e,n,i){super(e,n),T(this,\"direction\",void 0),T(this,\"name\",void 0),T(this,\"store\",void 0),T(this,\"spec\",void 0),T(this,\"peerConnection\",void 0),T(this,\"initialOffer\",void 0),T(this,\"transport\",void 0),T(this,\"statsFilter\",void 0),T(this,\"localCandidateCount\",0),T(this,\"_isInRestartIce\",!1),T(this,\"mutex\",new ze(\"P2PConnection-mutex\")),T(this,\"onLocalCandidate\",void 0),T(this,\"remoteSDP\",void 0),T(this,\"pendingCandidates\",[]),T(this,\"localCapabilities\",void 0),T(this,\"isReady\",!1),T(this,\"restartCnt\",0),T(this,\"curTurnServerIndex\",0),this.store=n,this.spec=e,this.peerConnection=new RTCPeerConnection(bs.resolvePCConfiguration(e,n.p2pTransport),{optional:[{googDscp:!0}]}),this.direction=i??cn.SEND_ONLY,this.name=this.direction===cn.SEND_ONLY?\"sendP2PConnection\":\"recvP2PConnection\",this.statsFilter=Nf(this.peerConnection,v(\"STATS_UPDATE_INTERVAL\"),void 0,$t()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1;}async establish(e){try{let n=await s0();if(this.localCapabilities=uu(n),e){let{sdp:i}=e,r=cW(e,lW),o=function(){let l={audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},u=Lc(arguments.length>2?arguments[2]:void 0,arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},\"sendonly\"),h={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},p={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},g={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(Ii(u,l,\"videoExtensions\",h,p,g),Ii(u,l,\"videoCodecs\",h,p,g),Ii(u,l,\"audioExtensions\",h,p,g),Ii(u,l,\"audioCodecs\",h,p,g),v(\"RAISE_H264_BASELINE_PRIORITY\")){let E=g.videoCodecs.findIndex(f=>f.rtpMap&&f.rtpMap.encodingName.toLocaleLowerCase()===\"h264\"&&f.fmtp&&f.fmtp.parameters[\"profile-level-id\"]===\"42001f\");if(E!==-1){let f=g.videoCodecs.findIndex(S=>S.rtpMap&&S.rtpMap.encodingName.toLocaleLowerCase()===\"h264\");if(f<E){_.debug(\"raising H264 baseline profile priority\");let S=g.videoCodecs[E];g.videoCodecs.splice(E,1),g.videoCodecs.splice(f,0,S);}f!==-1&&v(\"FILTER_SEND_H264_BASELINE\")&&(h.videoCodecs=h.videoCodecs.filter(S=>!(S.rtpMap&&S.rtpMap.encodingName.toLocaleLowerCase()===\"h264\"&&S.fmtp&&S.fmtp.parameters[\"profile-level-id\"]!==\"42001f\")));}}return {send:h,recv:p,sendrecv:g}}({},{},i);this.remoteSDP=new _v({remoteIceParameters:r.iceParameters,remoteDtlsParameters:r.dtlsParameters,candidates:[],remoteRTPCapabilities:o,localCapabilities:this.localCapabilities,direction:this.direction,setup:\"actpass\",videoCodec:this.store.codec,audioCodec:this.store.audioCodec}),await this.setRemoteDescription({type:\"offer\",sdp:this.remoteSDP.toString()}),this.isReady=!0;let s=await this.peerConnection.createAnswer();if(!s.sdp)throw new Error(\"Cannot get answer sdp when trying to establish PeerConnection.\");let a=io(s.sdp);await this.peerConnection.setLocalDescription(s);let c=await zI({},{},s.sdp);this.localCapabilities=uu(c);let d=this.peerConnection.getTransceivers()[0];return d!=null&&d.receiver&&d.receiver.transport&&this.tryBindTransportEvents(d.receiver.transport),Gr(Gr({},a),{},{sdp:s.sdp})}{this.peerConnection.addTransceiver(\"video\",{direction:\"sendonly\"}),this.peerConnection.addTransceiver(\"audio\",{direction:\"sendonly\"});let i=await this.peerConnection.createOffer();if(!i.sdp)throw new Error(\"Cannot get initialOffer.sdp when trying to establish PeerConnection.\");let r=io(i.sdp);return this.initialOffer=i,Gr(Gr({},r),{},{sdp:i.sdp})}}catch(n){throw new N(R.GET_LOCAL_CONNECTION_PARAMS_FAILED,n.toString())}}async connect(e){try{if(!this.initialOffer)throw new Error(\"Cannot establish P2PConnection without initial offer.\");await this.peerConnection.setLocalDescription(this.initialOffer);let{sdp:n,iceParameters:i,dtlsParameters:r}=e,o=await zI({},{},n);this.remoteSDP=new _v({remoteIceParameters:i,remoteDtlsParameters:r,candidates:[],remoteRTPCapabilities:o,localCapabilities:this.localCapabilities,direction:this.direction,setup:\"active\",videoCodec:this.store.codec,audioCodec:this.store.audioCodec}),await this.setRemoteDescription({type:\"answer\",sdp:this.remoteSDP.toString()});let s=this.peerConnection.getTransceivers()[0];s!=null&&s.sender&&s.sender.transport&&this.tryBindTransportEvents(s.sender.transport);}catch(n){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.connect failed; \".concat(n.toString()))}}async addRemoteCandidate(e){try{e&&this.pendingCandidates.push(e),this.peerConnection.remoteDescription&&this.isReady&&(this.pendingCandidates.forEach(n=>{this.peerConnection.addIceCandidate(n);}),this.pendingCandidates=[]);}catch(n){throw new N(R.ADD_CANDIDATE_FAILED,\"P2PConnection.addRemoteCandidate failed; \".concat(n.toString()))}}send(e,n,i){var r=this;return Bi(function*(){let o=yield Tt(r.mutex.lock(\"From P2PConnection.send\"));try{if(!r.remoteSDP)throw new Error(\"Cannot call P2PConnection.send before remote SDP created\");let s=[],a=r.remoteSDP.receive(e,n,i);e.forEach((f,S)=>{if(a[S].needCreateTransceiver){let C=r.peerConnection.addTransceiver(f._mediaStreamTrack,{direction:\"sendonly\"});s.push(C),f._updateRtpTransceiver(C);}else {let C=r.peerConnection.getTransceivers().find(A=>A.mid===a[S].mid);if(!C)throw new Error(\"cannot find transceiver when sendPeerconnection send, mid is \".concat(a[S].mid));s.push(C),f._updateRtpTransceiver(C);}}),$t()&&v(\"SIMULCAST\")===!0&&(yield Tt(r.applySimulcastForFirefox(s,e)));let c=a.map(f=>f.mid),d=yield Tt(r.peerConnection.createOffer()),l=r.mungSendOfferSDP(d.sdp,e,c),u=Le.parse(l),h=c.map(f=>{let S=u.mediaDescriptions.find(C=>C.attributes.mid===f);if(!S)throw new Error(\"Cannot extract ssrc from mediaDescription.\");return n0(S,v(\"USE_PUB_RTX\"))}),p=s.map((f,S)=>{let C=c[S];return {localSSRC:h[S],id:C}});yield Tt(r.peerConnection.setLocalDescription({type:\"offer\",sdp:l}));try{yield p;}catch(f){let S=r.remoteSDP.toString();throw yield Tt(r.peerConnection.setLocalDescription({type:\"offer\",sdp:l})),yield Tt(r.peerConnection.setRemoteDescription({type:\"answer\",sdp:S})),yield Tt(r.stopSending(c,!0)),f}yield Tt(r.applySimulcastEncodings(s,e)),yield Tt(r.applySendEncodings(s,e));let g=r.remoteSDP.toString(),E=r.logSDPExchange(l,\"offer\",\"local\",\"send\");return E?.(g),yield Tt(r.setRemoteDescription({type:\"answer\",sdp:g})),s.map((f,S)=>{let C=c[S];return {localSSRC:h[S],id:C}})}catch(s){throw s instanceof N?s:new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.send failed; \".concat(s.toString()))}finally{o();}})()}async stopSending(e,n){let i=n?void 0:await this.mutex.lock(\"From P2PConnection.stopSending\");try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopSending before remote SDP created\");let r=this.peerConnection.getTransceivers().filter(c=>e.indexOf(c.mid)!==-1);if(r.length!==e.length)throw new Error(\"Transceivers' length (\".concat(r.length,\") doesn't match mids' length (\").concat(e.length,\") when trying to call P2PConnection.stopSending.\"));r.map(c=>{var d;c.direction=\"inactive\",(d=c.stop)===null||d===void 0||d.call(c);});let o=await this.peerConnection.createOffer(),s=this.logSDPExchange(o.sdp||\"\",\"offer\",\"local\",\"stopSending\");await this.peerConnection.setLocalDescription(o),this.remoteSDP.stopReceiving(e);let a=this.remoteSDP.toString();s?.(a),await this.setRemoteDescription({type:\"answer\",sdp:a});}catch(r){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.stopSending failed; \".concat(r.toString()))}finally{i&&i();}}async receive(e,n,i,r){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.receive \".concat(e,\" before remoteSDP created.\"));let{mid:o,needExchangeSDP:s}=this.remoteSDP.send(e,n,i,r);if(s){let c=this.remoteSDP.toString(),d=this.logSDPExchange(c,\"offer\",\"remote\",\"receive\");await this.setRemoteDescription({type:\"offer\",sdp:c});let l=await this.peerConnection.createAnswer(),u=this.mungReceiveAnswerSDP(l.sdp,o,e);d?.(u||\"\"),await this.peerConnection.setLocalDescription({type:\"answer\",sdp:u}),_.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] receive \").concat(e,\" by exchanging SDP.\"));}else _.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] receive \").concat(e,\" no need to exchange SDP.\"));let a=this.peerConnection.getTransceivers().find(c=>c.mid===o);if(!a||a.mid===null)throw new Error(\"Cannot get transceiver after setLocalDescription.\");return {track:a.receiver.track,mid:a.mid,transceiver:a}}catch(o){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.receive failed; \".concat(o.toString()))}}async mockReceive(e,n,i,r){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.receive \".concat(e,\" before remoteSDP created.\"));let{mid:o,needExchangeSDP:s}=this.remoteSDP.send(e,n,i,r);if(s){let a=this.remoteSDP.toString(),c=this.logSDPExchange(a,\"offer\",\"remote\",\"receive\");await this.setRemoteDescription({type:\"offer\",sdp:a});let d=await this.peerConnection.createAnswer(),l=this.mungReceiveAnswerSDP(d.sdp,o,e);c?.(l||\"\"),await this.peerConnection.setLocalDescription({type:\"answer\",sdp:l}),_.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] receive \").concat(e,\" by exchanging SDP.\"));}else _.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] receive \").concat(e,\" no need to exchange SDP.\"));}catch(o){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.receive failed; \".concat(o.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopReceiving before remote SDP created.\");this.remoteSDP.stopSending(e);let n=this.remoteSDP.toString(),i=this.logSDPExchange(n,\"offer\",\"remote\",\"stopReceiving\");await this.setRemoteDescription({type:\"offer\",sdp:n});let r=await this.peerConnection.createAnswer();i?.(r.sdp||\"\"),await this.peerConnection.setLocalDescription(r);}catch(n){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection stopReceiving failed; \".concat(n.toString()))}}async restartICE(e){try{if(this.store.p2pTransport===Oo.Auto&&(this.store.p2pTransport=Oo.SdRtn,ft().supportPCSetConfiguration&&this.peerConnection.setConfiguration(bs.resolvePCConfiguration(this.spec,this.store.p2pTransport))),this.restartCnt>3&&(this.restartCnt=0,ft().supportPCSetConfiguration&&this.peerConnection.setConfiguration(bs.resolvePCConfiguration(this.spec,this.store.p2pTransport,++this.curTurnServerIndex))),!e){this.restartCnt++,this.isReady=!1;let n=await this.peerConnection.createOffer({iceRestart:!0});if(!n.sdp)throw new Error(\"Cannot restartICE because restart offer SDP does not exist.\");let{iceParameters:i}=io(n.sdp);return this.store.descriptionStart(),this.direction===cn.SEND_ONLY&&await this.peerConnection.setLocalDescription(n),i}if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopReceiving before remote SDP created.\");if(this.remoteSDP.restartICE(e),this.store.descriptionStart(),this.direction===cn.RECEIVE_ONLY){this.restartCnt++,await this.setRemoteDescription({type:\"offer\",sdp:this.remoteSDP.toString()});let n=await this.peerConnection.createAnswer();if(!n.sdp)throw new Error(\"Cannot get answer sdp when trying to iceRestart.\");let{iceParameters:i}=io(n.sdp);return await this.peerConnection.setLocalDescription(n),i}await this.setRemoteDescription({type:\"answer\",sdp:this.remoteSDP.toString()}),this.isReady=!0;}catch(n){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection stopReceiving failed; \".concat(n.toString()))}}close(){var e;this.peerConnection.close(),this.peerConnection.onicecandidate=null,(e=this.onConnectionStateChange)===null||e===void 0||e.call(this,\"closed\"),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.transport=void 0,this.statsFilter.destroy();}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,n){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.updateEncoderConfig before remote SDP created.\");let i=await this.peerConnection.createOffer(),r=this.mungSendOfferSDP(i.sdp,[n],[e]);this.remoteSDP.updateRecvMedia(e,n);let o=this.remoteSDP.toString(),s=this.logSDPExchange(r,\"offer\",\"local\",\"updateEncoderConfig\");await this.peerConnection.setLocalDescription({type:\"offer\",sdp:r}),s?.(o),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:o});}catch(i){throw new N(R.EXCHANGE_SDP_FAILED,i.toString())}}async updateSendParameters(e,n){let i=this.peerConnection.getTransceivers().filter(r=>r.mid===e);i.length===1&&(this.isVP8Simulcast(n)?$t()||await this.applySimulcastEncodings(i,[n]):await this.applySendEncodings(i,[n]));}setStatsRemoteVideoIsReady(e,n){this.statsFilter.setVideoIsReady2(e,n);}async replaceTrack(e,n){let i=this.peerConnection.getTransceivers().find(r=>r.mid===n);i&&await i.sender.replaceTrack(e._mediaStreamTrack);}async getSelectedCandidatePair(){let e=this.peerConnection.getReceivers();if(e.length>0&&e[0].transport&&e[0].transport.iceTransport&&e[0].transport.iceTransport.getSelectedCandidatePair&&e[0].transport.iceTransport.getSelectedCandidatePair()){let n=e[0].transport.iceTransport,{local:i,remote:r}=n.getSelectedCandidatePair();return {local:Gr(Gr({},hr),{},{candidateType:i.type,protocol:i.protocol,address:i.address,port:i.port}),remote:Gr(Gr({},hr),{},{candidateType:r.type,protocol:r.protocol,address:r.address,port:r.port})}}return this.statsFilter.getSelectedCandidatePair()}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e,n;W(e=[\"connected\",\"completed\"]).call(e,this.peerConnection.iceConnectionState)&&(this.isReady=!1),(n=this.onICEConnectionStateChange)===null||n===void 0||n.call(this,this.peerConnection.iceConnectionState);},this.peerConnection.onconnectionstatechange=()=>{var e;this.peerConnection.connectionState===\"connected\"&&(this.restartCnt=0),(e=this.onConnectionStateChange)===null||e===void 0||e.call(this,this.peerConnection.connectionState);},this.startICECandidate();}startICECandidate(){this.peerConnection.onicecandidate||(this.localCandidateCount=0,this.peerConnection.onicecandidate=e=>{if(e.candidate){var n;e.candidate.candidate&&((n=this.onLocalCandidate)===null||n===void 0||n.call(this,e.candidate.toJSON())),this.localCandidateCount+=1;}else _.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] local candidate count\"),this.localCandidateCount);});}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null;}static resolvePCConfiguration(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r={iceServers:[]};var o;return e.iceServers?r.iceServers=e.iceServers:e.turnServer&&e.turnServer.mode!==\"off\"&&(Yu(e.turnServer.servers)?r.iceServers=e.turnServer.servers:(r.iceServers&&r.iceServers.push(...bs.turnServerConfigToIceServers(e.turnServer.servers,n,i)),v(\"USE_TURN_SERVER_OF_GATEWAY\")&&r.iceServers&&e.turnServer.serversFromGateway&&r.iceServers.push(...bs.turnServerConfigToIceServers(e.turnServer.serversFromGateway,n,i)),W(o=[Oo.Relay,Oo.SdRtn]).call(o,n)&&(r.iceTransportPolicy=\"relay\"),v(\"FORCE_TURN_TCP\")?r.iceTransportPolicy=\"relay\":e.turnServer.servers.concat(e.turnServer.serversFromGateway||[]).forEach(s=>{s.forceturn&&(r.iceTransportPolicy=\"relay\");}))),v(\"ENABLE_ENCODED_TRANSFORM\")&&ft().supportWebRTCEncodedTransform&&(r.encodedInsertableStreams=!0),_.debug(\"P2PConnection p2pTransport is \".concat(n)),r}static turnServerConfigToIceServers(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=[],o=e.filter(a=>a.tcpport);_.debug(\"P2PConnection turnServers is \".concat(o,\", current index is \").concat(i));let s=o.length>i?o[i]:o[0];switch(n){case Oo.SdRtn:let a=e.filter(d=>{var l;return W(l=d.username).call(l,\"glb:\")&&d.turnServerURL==d.turnServerURL}),c=a.length>i?a[i]:a[0];c&&(r.push({username:c.username,credential:c.password,credentialType:\"password\",urls:\"turn:\".concat(Us(c.turnServerURL),\":\").concat(c.tcpport,\"?transport=udp\")}),r.push({username:c.username,credential:c.password,credentialType:\"password\",urls:\"turns:\".concat(Us(c.turnServerURL),\":\").concat(c.tcpport,\"?transport=tcp\")}));break;case Oo.Relay:s&&(r.push({username:s.username,credential:s.password,credentialType:\"password\",urls:\"turn:\".concat(s.turnServerURL,\":\").concat(s.tcpport,\"?transport=udp\")}),r.push({username:s.username,credential:s.password,credentialType:\"password\",urls:\"turns:\".concat(Us(s.turnServerURL),\":\").concat(s.tcpport,\"?transport=tcp\")}));break;default:s&&(r.push({username:s.username,credential:s.password,credentialType:\"password\",urls:\"turn:\".concat(s.turnServerURL,\":\").concat(s.tcpport,\"?transport=udp\")}),r.push({username:s.username,credential:s.password,credentialType:\"password\",urls:\"turns:\".concat(Us(s.turnServerURL),\":\").concat(s.tcpport,\"?transport=tcp\")}),r.push({username:s.username,credential:s.password,credentialType:\"password\",urls:\"stun:\".concat(s.turnServerURL,\":\").concat(s.tcpport)}));}return r}tryBindTransportEvents(e){if(e){this.transport=e,e.onstatechange=()=>{var i;e!=null&&e.state&&((i=this.onDTLSTransportStateChange)===null||i===void 0||i.call(this,e.state));},e.onerror=i=>{var r;(r=this.onDTLSTransportError)===null||r===void 0||r.call(this,\"error\"in i?i.error:i);};let n=e.iceTransport;n&&(n.onstatechange=()=>{let i=e?.iceTransport.state;var r;i&&((r=this.onICETransportStateChange)===null||r===void 0||r.call(this,i));},n.getSelectedCandidatePair&&(n.onselectedcandidatepairchange=()=>{if(n.getSelectedCandidatePair()){let{local:i,remote:r}=n.getSelectedCandidatePair();_.info(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] selectedcandidatepairchange: local \").concat(JSON.stringify({candidateType:i.type,protocol:i.protocol}),\", remote \").concat(JSON.stringify({candidateType:r.type,protocol:r.protocol,address:r.address,port:r.port}),\" )\"));}}));}}tryUnbindTransportEvents(){this.transport&&(this.transport.onstatechange=null,this.transport.onerror=null,this.transport.iceTransport&&(this.transport.iceTransport.onstatechange=null));}async updateRtpSenderEncodings(e,n){var i;if(n||(n=this.peerConnection.getSenders().find(l=>l.track===e._mediaStreamTrack)),!n)return _.warn(\"[\".concat(e.getTrackId(),\"] no rtpSender found}\"));if(this.isVP8Simulcast(e))return _.warn(\"[updateRtpSenderEncodings] Track is VP8 simulcast, please apply simulcast encodings\");if(!ft().supportSetRtpSenderParameters)return _.warn(\"[updateRtpSenderEncodings] Browser not support set rtp-sender parameters\");let r={},o={};switch(e._optimizationMode){case\"motion\":r.degradationPreference=\"maintain-framerate\";break;case\"detail\":r.degradationPreference=\"maintain-resolution\";break;default:r.degradationPreference=\"balanced\";}if(e._encoderConfig){var s;let{bitrateMax:l,frameRate:u,scaleResolutionDownBy:h}=e._encoderConfig;l&&(o.maxBitrate=1e3*l),W(s=e._hints).call(s,Gt.LOW_STREAM)&&(u&&(o.maxFramerate=Nn(u)),h&&h>=1&&(o.scaleResolutionDownBy=h));}if(v(\"DSCP_TYPE\")&&ho()){var a;let l=v(\"DSCP_TYPE\");W(a=[\"very-low\",\"low\",\"medium\",\"high\"]).call(a,l)&&(o.networkPriority=l);}let c=n.getParameters(),d=(i=c.encodings)===null||i===void 0?void 0:i[0];$t()&&!d&&(r.encodings=[o]),d&&Object.assign(d,o),Object.assign(c,r),_.debug(\"[\".concat(e.getTrackId(),\"] updateRtpSenderEncodings: \").concat(JSON.stringify(c.encodings))),await n.setParameters(c);}async applySendEncodings(e,n){try{if(!ft().supportSetRtpSenderParameters||e.length!==n.length)return;for(let i=0;i<e.length;i++){let r=e[i],o=n[i];o instanceof Ft&&!this.isVP8Simulcast(o)&&await this.updateRtpSenderEncodings(o,r.sender);}}catch{_.debug(\"[\".concat(this.store.clientId,\"] Apply RTPSendEncodings failed.\"));}}mungSendOfferSDP(e,n,i){let r=Le.parse(e);return n.forEach((o,s)=>{let a=i[s],c=r.mediaDescriptions.find(d=>d.attributes.mid===a);c&&(ra(c,o),o0(c,o,this.store.codec));}),Le.print(r)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var n;(n=this.onFirstAudioReceived)===null||n===void 0||n.call(this,e);},this.statsFilter.onFirstVideoReceived=e=>{var n;(n=this.onFirstVideoReceived)===null||n===void 0||n.call(this,e);},this.statsFilter.onFirstAudioDecoded=e=>{var n;(n=this.onFirstAudioDecoded)===null||n===void 0||n.call(this,e);},this.statsFilter.onFirstVideoDecoded=(e,n,i)=>{var r;(r=this.onFirstVideoDecoded)===null||r===void 0||r.call(this,e,n,i);},this.statsFilter.onSelectedLocalCandidateChanged=(e,n)=>{var i;(i=this.onSelectedLocalCandidateChanged)===null||i===void 0||i.call(this,e,n);},this.statsFilter.onSelectedRemoteCandidateChanged=(e,n)=>{var i;(i=this.onSelectedRemoteCandidateChanged)===null||i===void 0||i.call(this,e,n);},this.statsFilter.onFirstVideoDecodedTimeout=e=>{var n;(n=this.onFirstVideoDecodedTimeout)===null||n===void 0||n.call(this,e);};}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0;}async applySimulcastForFirefox(e,n){if(e.length===n.length)for(let c=0;c<e.length;c++){var i,r,o,s,a;let d=e[c],l=n[c];if(l instanceof Ft&&!W(i=l._hints).call(i,Gt.LOW_STREAM)&&(r=l._encoderConfig)!==null&&r!==void 0&&r.bitrateMax&&((o=l._encoderConfig)===null||o===void 0?void 0:o.bitrateMax)>200&&(s=l._scalabilityMode)!==null&&s!==void 0&&s.numSpatialLayers&&((a=l._scalabilityMode)===null||a===void 0?void 0:a.numSpatialLayers)>1&&this.store.codec===\"vp8\"){let u={},h={high:1e3*(l._encoderConfig.bitrateMax-50),medium:5e4};u.encodings=[{rid:\"m\",active:!0,maxBitrate:h.medium,scaleResolutionDownBy:4},{rid:\"h\",active:!0,maxBitrate:h.high}];let p=d.sender.getParameters();await d.sender.setParameters(Object.assign(p,u));}}}async applySimulcastEncodings(e,n){if(!$t()&&e.length===n.length)for(let i=0;i<e.length;i++){let r=n[i];if(r instanceof Ft&&this.isVP8Simulcast(r)){let o=e[i],s={},a={high:1e3*(r._encoderConfig.bitrateMax-50),medium:5e4};s.encodings=[{active:!0,adaptivePtime:!1,networkPriority:\"high\",priority:\"high\",maxBitrate:a.high},{active:!0,adaptivePtime:!1,networkPriority:\"low\",priority:\"low\",maxBitrate:a.medium,scaleResolutionDownBy:4}];let c=o.sender.getParameters();await o.sender.setParameters(Object.assign(c,s));}}}isVP8Simulcast(e){var n,i,r,o,s;return !!(e instanceof Ft&&v(\"SIMULCAST\")&&this.store.codec===\"vp8\"&&!W(n=e._hints).call(n,Gt.LOW_STREAM)&&(i=e._encoderConfig)!==null&&i!==void 0&&i.bitrateMax&&((r=e._encoderConfig)===null||r===void 0?void 0:r.bitrateMax)>200&&(o=e._scalabilityMode)!==null&&o!==void 0&&o.numSpatialLayers&&((s=e._scalabilityMode)===null||s===void 0?void 0:s.numSpatialLayers)>1)}logSDPExchange(e,n,i,r){if(v(\"SDP_LOGGING\"))return _.upload(\"[\".concat(this.store.clientId,\"] exchanging \").concat(i,\" \").concat(n,\" SDP during P2PConnection.\").concat(r,`\n`),e),n===\"offer\"?o=>{this.logSDPExchange(o,\"answer\",i===\"local\"?\"remote\":\"local\",r);}:void 0}async muteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.muteLocal before remote SDP created.\");let n=this.peerConnection.getTransceivers().filter(s=>s.mid&&e.indexOf(s.mid)!==-1);if(n.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length.\");n.map(s=>{s.direction=\"inactive\";});let i=await this.peerConnection.createOffer(),r=this.logSDPExchange(i.sdp||\"\",\"offer\",\"local\",\"muteLocal\");await this.peerConnection.setLocalDescription(i),this.remoteSDP.muteRemote(e);let o=this.remoteSDP.toString();r?.(o),await this.setRemoteDescription({type:\"answer\",sdp:o});}catch(n){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.muteLocal failed; \".concat(n.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.unmuteLocal before remote SDP created.\");let n=this.peerConnection.getTransceivers().filter(s=>s.mid&&e.indexOf(s.mid)!==-1);if(n.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length.\");n.map(async s=>{s.direction=\"sendonly\";});let i=await this.peerConnection.createOffer(),r=this.logSDPExchange(i.sdp||\"\",\"offer\",\"local\",\"unmuteLocal\");await this.peerConnection.setLocalDescription(i),this.remoteSDP.unmuteRemote(e);let o=this.remoteSDP.toString();r?.(o),await this.setRemoteDescription({type:\"answer\",sdp:o});}catch(n){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.unmuteLocal failed; \".concat(n.toString()))}}async getRemoteSSRC(e,n){var i,r;if(n=(i=n)!==null&&i!==void 0?i:(r=this.currentRemoteDescription)===null||r===void 0?void 0:r.sdp){var o;let s=(o=Le.parse(n).mediaDescriptions.find(a=>a.attributes.mid===e))===null||o===void 0?void 0:o.attributes.ssrcs;return s?.[0].ssrcId}}async setRemoteDescription(e){var n;await this.peerConnection.setRemoteDescription(e),W(n=[\"connected\",\"completed\"]).call(n,this.peerConnection.iceConnectionState)||(this.isReady=!0,this.addRemoteCandidate());}mungReceiveAnswerSDP(e,n,i){let r=Le.parse(e),o=r.mediaDescriptions.find(s=>s.attributes.mid===n);return o&&i===Q.AUDIO&&o.media.mediaType===\"audio\"&&oa(o),Le.print(r)}},q(Vt.prototype,\"establish\",[_i],Object.getOwnPropertyDescriptor(Vt.prototype,\"establish\"),Vt.prototype),q(Vt.prototype,\"connect\",[_i],Object.getOwnPropertyDescriptor(Vt.prototype,\"connect\"),Vt.prototype),q(Vt.prototype,\"receive\",[_i],Object.getOwnPropertyDescriptor(Vt.prototype,\"receive\"),Vt.prototype),q(Vt.prototype,\"mockReceive\",[_i],Object.getOwnPropertyDescriptor(Vt.prototype,\"mockReceive\"),Vt.prototype),q(Vt.prototype,\"stopReceiving\",[_i],Object.getOwnPropertyDescriptor(Vt.prototype,\"stopReceiving\"),Vt.prototype),q(Vt.prototype,\"restartICE\",[_i],Object.getOwnPropertyDescriptor(Vt.prototype,\"restartICE\"),Vt.prototype),q(Vt.prototype,\"close\",[_i],Object.getOwnPropertyDescriptor(Vt.prototype,\"close\"),Vt.prototype),q(Vt.prototype,\"updateEncoderConfig\",[_i],Object.getOwnPropertyDescriptor(Vt.prototype,\"updateEncoderConfig\"),Vt.prototype),q(Vt.prototype,\"updateSendParameters\",[_i],Object.getOwnPropertyDescriptor(Vt.prototype,\"updateSendParameters\"),Vt.prototype),q(Vt.prototype,\"replaceTrack\",[_i],Object.getOwnPropertyDescriptor(Vt.prototype,\"replaceTrack\"),Vt.prototype),q(Vt.prototype,\"muteLocal\",[_i],Object.getOwnPropertyDescriptor(Vt.prototype,\"muteLocal\"),Vt.prototype),q(Vt.prototype,\"unmuteLocal\",[_i],Object.getOwnPropertyDescriptor(Vt.prototype,\"unmuteLocal\"),Vt.prototype),Vt);function _i(t,e,n){let i=t[e];if(typeof i!=\"function\")throw new Error(\"Cannot use mutex on object property.\");return n.value=async function(){let r=this.mutex,o=await r.lock(\"From P2PConnection.\".concat(e));try{for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return await i.apply(this,a)}finally{o();}},n}function dm(t,e){let n=document.createElement(\"video\"),i=document.createElement(\"canvas\");n.setAttribute(\"style\",\"display:none\"),i.setAttribute(\"style\",\"display:none\"),n.setAttribute(\"muted\",\"\"),n.muted=!0,n.setAttribute(\"autoplay\",\"\"),n.autoplay=!0,n.setAttribute(\"playsinline\",\"\"),i.width=Nn(e.width),i.height=Nn(e.height);let r=Nn(e.framerate||15);document.body.append(n),document.body.append(i);let o=t._mediaStreamTrack;n.srcObject=new MediaStream([o]),n.play();let s=i.getContext(\"2d\");if(!s)throw new O(R.UNEXPECTED_ERROR,\"can not get canvas context\");let a=ft(),c=i.captureStream(a.supportRequestFrame?0:r).getVideoTracks()[0];c.canvas||(c.canvas=i),i.startCapture=()=>{if(!n)return i.stopCapture&&i.stopCapture();if(n.paused&&n.play(),n.videoHeight>2&&n.videoWidth>2){let l=n.videoWidth,u=n.videoHeight/l,h=i.width*u;Math.abs(h-i.height)>=2&&(_.debug(\"adjust low stream resolution\",\"\".concat(i.width,\"x\").concat(i.height,\" -> \").concat(i.width,\"x\").concat(h)),i.height=h);}s.drawImage(n,0,0,i.width,i.height),c.requestFrame&&c.requestFrame(),o!==t._mediaStreamTrack&&(o=t._mediaStreamTrack,n.srcObject=new MediaStream([o]));},i.stopCapture=Rf(()=>i.startCapture&&i.startCapture(),r);let d=c.stop;return c.stop=()=>{d.call(c),n&&(n.remove(),n.srcObject=null,n=null),i&&(i.width=0,i.remove(),i.stopCapture&&i.stopCapture(),i.startCapture=void 0,i.stopCapture=void 0,i=null),_.debug(\"clean low stream renderer\");},c}var Al=function(t){return t[t.HEIGHT=2033]=\"HEIGHT\",t[t.FRAME_RATE=2034]=\"FRAME_RATE\",t[t.WIDTH=2035]=\"WIDTH\",t}(Al||{}),Ie=function(t){return t[t.FRAME_RATE=2002]=\"FRAME_RATE\",t[t.WIDTH=2003]=\"WIDTH\",t[t.HEIGHT=2004]=\"HEIGHT\",t[t.PACKAGE_LOST=2005]=\"PACKAGE_LOST\",t[t.AVG_ENCODE=2007]=\"AVG_ENCODE\",t[t.NACKS=2009]=\"NACKS\",t[t.PLIS=2010]=\"PLIS\",t[t.FIRS=2011]=\"FIRS\",t[t.BITRATE=2012]=\"BITRATE\",t[t.PACKAGE_RATE=2031]=\"PACKAGE_RATE\",t[t.ADAPTATION=2032]=\"ADAPTATION\",t[t.ACTUAL_ENCODED=2060]=\"ACTUAL_ENCODED\",t[t.BANDWIDTH=2061]=\"BANDWIDTH\",t[t.RETRANSMIT=2062]=\"RETRANSMIT\",t[t.TARGET_ENCODED=2064]=\"TARGET_ENCODED\",t[t.TRANSMIT=2066]=\"TRANSMIT\",t[t.FREEZE=2082]=\"FREEZE\",t[t.DISABLED=2095]=\"DISABLED\",t[t.PLAYER_STATUS=2128]=\"PLAYER_STATUS\",t[t.QP_SUM=2143]=\"QP_SUM\",t}(Ie||{}),Do=function(t){return t[t.BITRATE=2069]=\"BITRATE\",t[t.PACKAGE_LOST=2070]=\"PACKAGE_LOST\",t[t.PACKAGE_RATE=2071]=\"PACKAGE_RATE\",t[t.HEIGHT=2073]=\"HEIGHT\",t[t.FRAME_RATE=2075]=\"FRAME_RATE\",t[t.WIDTH=2077]=\"WIDTH\",t}(Do||{}),Qe=function(t){return t[t.JITTER=-1]=\"JITTER\",t[t.PACKAGE_LOST=2014]=\"PACKAGE_LOST\",t[t.WIDTH=2018]=\"WIDTH\",t[t.HEIGHT=2019]=\"HEIGHT\",t[t.FRAME_RATE=2020]=\"FRAME_RATE\",t[t.JITTER_BUFFER=2023]=\"JITTER_BUFFER\",t[t.CURRENT_DELAY=2024]=\"CURRENT_DELAY\",t[t.NACKS=2026]=\"NACKS\",t[t.PLIS=2027]=\"PLIS\",t[t.FIRS=2028]=\"FIRS\",t[t.BITRATE=2029]=\"BITRATE\",t[t.PACKAGE_RATE=2078]=\"PACKAGE_RATE\",t[t.FREEZE=2084]=\"FREEZE\",t[t.DISABLED=2101]=\"DISABLED\",t[t.PLAYER_STATUS=2129]=\"PLAYER_STATUS\",t[t.QP_SUM=2144]=\"QP_SUM\",t[t.I_FRAME_DELAY=2149]=\"I_FRAME_DELAY\",t}(Qe||{}),Po=function(t){return t[t.FRAME_RATE_DECODE=2021]=\"FRAME_RATE_DECODE\",t[t.FRAME_RATE_RENDER=2022]=\"FRAME_RATE_RENDER\",t[t.FRAME_RATE_OUTPUT=2155]=\"FRAME_RATE_OUTPUT\",t[t.FREEZE_TIME=2109]=\"FREEZE_TIME\",t[t.FREEZE_TIME_RENDER=2147]=\"FREEZE_TIME_RENDER\",t[t.FREEZE_DURATION=2156]=\"FREEZE_DURATION\",t}(Po||{}),g0=function(t){return t[t.PCM_LEVEL=2104]=\"PCM_LEVEL\",t}(g0||{}),zr=function(t){return t[t.PACKAGE_LOST=-1]=\"PACKAGE_LOST\",t[t.LEVEL=2038]=\"LEVEL\",t[t.BITRATE=2039]=\"BITRATE\",t[t.PACKAGE_RATE=2040]=\"PACKAGE_RATE\",t[t.AEC_RETURN_LOSS=2041]=\"AEC_RETURN_LOSS\",t[t.AEC_RETURN_LOSS_ENH=2042]=\"AEC_RETURN_LOSS_ENH\",t[t.FREEZE=2081]=\"FREEZE\",t[t.DISABLED=2096]=\"DISABLED\",t}(zr||{}),mi=function(t){return t[t.BITRATE=2044]=\"BITRATE\",t[t.PACKAGE_LOST=2045]=\"PACKAGE_LOST\",t[t.PACKAGE_RATE=2046]=\"PACKAGE_RATE\",t[t.CURRENT_DELAY=2047]=\"CURRENT_DELAY\",t[t.JITTER_BUFFER=2054]=\"JITTER_BUFFER\",t[t.JITTER=2055]=\"JITTER\",t[t.FREEZE=2083]=\"FREEZE\",t[t.DISABLED=2102]=\"DISABLED\",t[t.PCM_LEVEL=2105]=\"PCM_LEVEL\",t[t.PLAYER_STATUS=2130]=\"PLAYER_STATUS\",t[t.CONCEALED_SAMPLES=2148]=\"CONCEALED_SAMPLES\",t}(mi||{}),T0=function(t){return t[t.FREEZE_TIME=-1]=\"FREEZE_TIME\",t[t.LEVEL=2043]=\"LEVEL\",t}(T0||{}),$n=function(t){return t[t.RTT=2006]=\"RTT\",t[t.CONN_TYPE=801]=\"CONN_TYPE\",t}($n||{}),Rr=1e3,bo=3;function st(t,e,n){n!=null&&Number.isFinite(n)&&(t[e]=Math.round(Math.max(0,n)));}function fv(t){let e={[$n.CONN_TYPE]:0,[$n.RTT]:t.rtt};switch(t.selectedCandidatePair.localCandidate.candidateType){case\"relay\":{let n=t.selectedCandidatePair.localCandidate.relayProtocol;n===\"udp\"&&(e[$n.CONN_TYPE]=1),n===\"tcp\"&&(e[$n.CONN_TYPE]=3),n===\"tls\"&&(e[$n.CONN_TYPE]=4);break}case\"srflx\":e[$n.CONN_TYPE]=2;}return e}function gv(t){let e=0;switch(t){case\"none\":e=0;break;case\"cpu\":e=1;break;case\"bandwidth\":e=2;break;case\"other\":e=3;}return e}var pu=class extends Xt{constructor(e){super(),T(this,\"store\",void 0),T(this,\"uploadWRTCStatsTimer\",void 0),T(this,\"uploadOutboundDenoiserStatsTimer\",void 0),T(this,\"uploadExtStatsTimer\",void 0),T(this,\"uploadExtUsageStatsTimer\",void 0),T(this,\"uploadInboundExtStatsTimer\",void 0),T(this,\"requestStats\",void 0),T(this,\"requestTransportStats\",void 0),T(this,\"requestLocalMedia\",void 0),T(this,\"requestRemoteMedia\",void 0),T(this,\"requestAllTracks\",void 0),T(this,\"requestVideoIsReady\",void 0),T(this,\"requestUploadStats\",void 0),T(this,\"requestUpload\",void 0),T(this,\"uploadOutboundStarted\",!1),T(this,\"uploadInboundStarted\",!1),T(this,\"uploadTransportStarted\",!1),T(this,\"uploadExtensionUsageStarted\",!1),T(this,\"lastRecvStats\",void 0),T(this,\"lastSendStats\",void 0),T(this,\"lastFullRecvStats\",void 0),T(this,\"lastFullSendStats\",void 0),T(this,\"needUploadRenderFreezeTime\",!0),this.store=e;}uploadWRTCStats(e){if(!this.requestStats||!this.requestUploadStats)return;let n,i;if(this.uploadTransportStarted&&(n=this.requestStats(),this.store.useP2P&&(i=this.requestStats(!0))),!n&&this.uploadOutboundStarted&&(n=this.requestStats()),!i&&this.uploadInboundStarted&&(i=this.requestStats(!0)),n||i){let r={};if(this.uploadTransportStarted&&n){let o=this.getTransportStats(n,i,e);o&&(r.misc=[o]);}if(this.uploadOutboundStarted&&n){let o=this.getOutboundStats(n,e?this.lastSendStats:this.lastFullSendStats,e);o&&(r.outbound=[o]);}if(this.uploadInboundStarted&&i){let o=this.getInboundStats(i,e?this.lastRecvStats:this.lastFullRecvStats,e);o&&(r.inbound=o);}this.requestUploadStats(r);}this.lastRecvStats=i,this.lastSendStats=n,e||(this.lastFullRecvStats=i,this.lastFullSendStats=n);}startUploadWRTCStats(){if(this.uploadWRTCStatsTimer)return;let e=1;this.uploadWRTCStatsTimer=window.setInterval(()=>{if(!this.uploadTransportStarted&&!this.uploadInboundStarted&&!this.uploadOutboundStarted)return this.stopUploadWRTCStats();this.uploadWRTCStats(e!==bo),++e===bo+1&&(e=1);},Rr);}stopUploadWRTCStats(){window.clearInterval(this.uploadWRTCStatsTimer),this.uploadWRTCStatsTimer=void 0,this.lastSendStats&&(this.lastSendStats.videoSend=[],this.lastSendStats.audioSend=[],this.lastSendStats=void 0),this.lastRecvStats&&(this.lastRecvStats.videoRecv=[],this.lastRecvStats.audioRecv=[],this.lastRecvStats=void 0);}getTransportStats(e,n,i){if(!this.requestStats)return;if(i)return e.rtt==null?void 0:{addition:{[$n.RTT]:e.rtt,[$n.CONN_TYPE]:void 0}};let r=fv(e);if(this.store.useP2P){if(n){let o=fv(n);r[$n.CONN_TYPE]+=o[$n.CONN_TYPE]<<3;}r[$n.CONN_TYPE]+=110;}else r[$n.CONN_TYPE]+=100;return {addition:r}}getOutboundStats(e,n,i){if(!this.requestUploadStats||!this.requestLocalMedia)return;let r=this.requestLocalMedia();if(!r||r.length===0)return;let o,s,a;return r.forEach(c=>{let[d,{track:l,ssrcs:u}]=c;switch(d){case U.LocalVideoLowTrack:case U.LocalVideoTrack:if(d===U.LocalVideoTrack){let h=function(E,f,S,C,A){let b=f.videoSend.find(z=>z.ssrc===E);if(!b)return;let w={},{sentFrame:D,inputFrame:k}=b;if(k&&D){let z=k.frameRate,lt=D.frameRate;w[Ie.FREEZE]=function(vt,Dt){let ce=!0;return ce=!(vt<=5)&&(vt<=10?Dt<3:vt<=20?Dt<4:Dt<5),ce}(z,lt)?1:0;}if(st(w,Ie.QP_SUM,b.qpSumPerFrame),A)return w;switch(D&&(st(w,Ie.HEIGHT,D.height),st(w,Ie.WIDTH,D.width),st(w,Ie.FRAME_RATE,D.frameRate)),w[Ie.DISABLED]=C._originMediaStreamTrack&&!C._originMediaStreamTrack.enabled||C._mediaStreamTrack&&!C._mediaStreamTrack.enabled?1:0,b.adaptionChangeReason){case\"none\":w[Ie.ADAPTATION]=0;break;case\"cpu\":w[Ie.ADAPTATION]=1;break;case\"bandwidth\":w[Ie.ADAPTATION]=2;break;case\"other\":w[Ie.ADAPTATION]=3;}let B=0;b.adaptionChangeReason&&(B+=gv(b.adaptionChangeReason)),f.qualityLimitationReason&&(B+=gv(f.qualityLimitationReason)<<3),w[Ie.ADAPTATION]=B,w[Ie.PLAYER_STATUS]=o_[C._player?C._player.videoElementStatus:\"uninit\"],st(w,Ie.NACKS,b.nacksCount),st(w,Ie.PLIS,b.plisCount),st(w,Ie.FIRS,b.firsCount),st(w,Ie.AVG_ENCODE,b.avgEncodeMs);let V=S&&S.videoSend.find(z=>z.ssrc===E);if(V){let z=A?Rr:Rr*bo;V.timestamp&&b.timestamp&&(z=b.timestamp-V.timestamp),V.packets!=null&&b.packets!=null&&st(w,Ie.PACKAGE_RATE,1e3*(b.packets-V.packets)/z),b.packetsLost!=null&&V.packetsLost!=null&&st(w,Ie.PACKAGE_LOST,b.packetsLost-V.packetsLost),V.bytes!=null&&b.bytes!=null&&st(w,Ie.BITRATE,8*(b.bytes-V.bytes)/z);}return w}(u[0].ssrcId,e,n,l,i),p=i?null:function(E,f,S){let C=f.videoSend.find(B=>B.ssrc===E);if(!C)return null;let A={},b=C.inputFrame,w=b&&b.height||S&&S.videoHeight||0,D=b&&b.width||S&&S.videoWidth||0,k=b&&b.frameRate||0;return st(A,Al.HEIGHT,w),st(A,Al.WIDTH,D),st(A,Al.FRAME_RATE,k),A}(u[0].ssrcId,e,l),g=i?null:function(E){let f={};return st(f,Ie.RETRANSMIT,E.bitrate.retransmit),st(f,Ie.TARGET_ENCODED,E.bitrate.targetEncoded),st(f,Ie.ACTUAL_ENCODED,E.bitrate.actualEncoded),st(f,Ie.TRANSMIT,E.bitrate.transmit),st(f,Ie.BANDWIDTH,E.sendBandwidth),f}(e);s=Object.assign({},h,p,g);}else a=i?void 0:function(h,p,g){let E=p.videoSend.find(C=>C.ssrc===h);if(!E)return;let f={},S=E.sentFrame;if(S&&(st(f,Do.HEIGHT,S.height),st(f,Do.WIDTH,S.width),st(f,Do.FRAME_RATE,S.frameRate)),g){let C=g.videoSend.find(A=>A.ssrc===h);if(C){let A=Rr*bo;C.timestamp&&E.timestamp&&(A=E.timestamp-C.timestamp),C.packets!=null&&E.packets!=null&&st(f,Do.PACKAGE_RATE,1e3*(E.packets-C.packets)/A),E.packetsLost!=null&&C.packetsLost!=null&&st(f,Do.PACKAGE_LOST,E.packetsLost-C.packetsLost),C.bytes!=null&&E.bytes!=null&&st(f,Do.BITRATE,8*(E.bytes-C.bytes)/A);}}return f}(u[0].ssrcId,e,n);break;case U.LocalAudioTrack:o=i?void 0:function(h,p,g,E){let f=p.audioSend.find(w=>w.ssrc===h);if(!f)return;let S={};S[zr.DISABLED]=E._originMediaStreamTrack&&!E._originMediaStreamTrack.enabled||E._mediaStreamTrack&&!E._mediaStreamTrack.enabled?1:0;let C=100*E._source.getAccurateVolumeLevel(),A=f.inputLevel;if(A!=null){let w=Math.ceil(50*Math.log10(100*A+1));st(S,zr.LEVEL,w);}st(S,g0.PCM_LEVEL,C),st(S,zr.AEC_RETURN_LOSS,f.aecReturnLoss),st(S,zr.AEC_RETURN_LOSS_ENH,f.aecReturnLossEnhancement),S[zr.FREEZE]=0;let b=g&&g.audioSend.find(w=>w.ssrc===h);if(b){let w=Rr*bo;b.timestamp&&f.timestamp&&(w=f.timestamp-b.timestamp),b.bytes!=null&&f.bytes!=null&&st(S,zr.BITRATE,8*(f.bytes-b.bytes)/w),b.packets!=null&&f.packets!=null&&st(S,zr.PACKAGE_RATE,1e3*(f.packets-b.packets)/w);}return S}(u[0].ssrcId,e,n,l);}}),{high:s,low:a,audio:o}}getInboundStats(e,n,i){if(!this.requestRemoteMedia)return;let r=this.requestRemoteMedia()||[],o=[];return r.forEach(s=>{let[a,c]=s,d={peer:a.uid};if(c.has(Q.VIDEO)&&a.videoTrack){let l=a._videoSSRC&&this.requestVideoIsReady&&this.requestVideoIsReady(a._videoSSRC)||!1,u=a.videoTrack?function(h,p,g,E,f,S,C){var A;let b=p.videoRecv.find(lt=>lt.ssrc===h);if(!b)return;let w={},{receivedFrame:D,outputFrame:k,decodeFrameRate:B}=b,V=g&&g.videoRecv.find(lt=>lt.ssrc===h);if(w[Qe.FREEZE]=f&&_u.isRemoteVideoFreeze(E,b,V)?1:0,st(w,Po.FRAME_RATE_DECODE,B),st(w,Qe.QP_SUM,b.qpSumPerFrame),b.framesRateFirefox&&st(w,Qe.FRAME_RATE,b.framesRateFirefox),D&&st(w,Qe.FRAME_RATE,D.frameRate),V){let lt=p.timestamp-g.timestamp||(C?Rr:bo*Rr);b.packetsLost!=null&&V.packetsLost!=null&&st(w,Qe.PACKAGE_LOST,b.packetsLost-V.packetsLost),V.bytes!=null&&b.bytes!=null&&st(w,Qe.BITRATE,8*(b.bytes-V.bytes)/lt),V.packets!=null&&b.packets!=null&&st(w,Qe.PACKAGE_RATE,1e3*(b.packets-V.packets)/lt);}if(C)return w;D?(st(w,Qe.HEIGHT,D.height),st(w,Qe.WIDTH,D.width)):E&&(st(w,Qe.HEIGHT,E._videoHeight||0),st(w,Qe.WIDTH,E._videoWidth||0)),k&&st(w,Po.FRAME_RATE_OUTPUT,k.frameRate);let z=(A=E._player)===null||A===void 0?void 0:A.rendFrameRate.toFixed(0);if(z&&st(w,Po.FRAME_RATE_RENDER,+z),st(w,Qe.JITTER_BUFFER,b.jitterBufferMs),st(w,Qe.CURRENT_DELAY,b.currentDelayMs),st(w,Qe.FIRS,b.firsCount),st(w,Qe.NACKS,b.nacksCount),st(w,Qe.PLIS,b.plisCount),E){w[Qe.DISABLED]=E._originMediaStreamTrack.enabled&&E._mediaStreamTrack.enabled?0:1;let lt=E._player;if(lt){let{freezeTimeCounterList:vt,renderFreezeAccTime:Dt,videoElementStatus:ce}=lt;if(vt&&vt.length>0&&st(w,Po.FREEZE_TIME,vt.splice(0,1)[0]),S&&yr.visibility===\"visible\"&&ce===nn.PLAYING&&ft().supportRequestVideoFrameCallback){let Wt=Math.min(6e3,Dt);lt.renderFreezeAccTime=Math.max(0,Dt-Wt),st(w,Po.FREEZE_TIME_RENDER,Wt);}if(typeof b.totalFreezesDuration==\"number\"){let Wt=V&&V.totalFreezesDuration?b.totalFreezesDuration-V.totalFreezesDuration:b.totalFreezesDuration;st(w,Po.FREEZE_DURATION,1e3*Wt);}}}if(w[Qe.PLAYER_STATUS]=o_[E._player?E._player.videoElementStatus:\"uninit\"],V&&b.totalInterFrameDelay!==void 0&&b.totalSquaredInterFrameDelay!==void 0&&V.totalInterFrameDelay!==void 0&&V.totalSquaredInterFrameDelay!==void 0){let lt=b.totalInterFrameDelay-V.totalInterFrameDelay,vt=b.totalSquaredInterFrameDelay-V.totalSquaredInterFrameDelay,Dt=b.framesDecodeCount-V.framesDecodeCount,ce=lt/Dt*1e3,Wt=Math.round(1e3*Math.sqrt((vt-Math.pow(lt,2)/Dt)/Dt));!isNaN(Wt)&&ce+Wt>Math.max(3*ce,ce+150)&&(w[Qe.I_FRAME_DELAY]=Wt);}return w}(a._videoSSRC,e,n,a.videoTrack,l===!0,this.needUploadRenderFreezeTime,i):void 0;u&&(d.video=u);}if(c.has(Q.AUDIO)&&a.audioTrack){let l=a.audioTrack?function(u,h,p,g,E){let f=h.audioRecv.find(V=>V.ssrc===u);if(!f)return;let S={},C=p&&p.audioRecv.find(V=>V.ssrc===u),{receivedFrames:A,droppedFrames:b}=f;var w,D;if(st(S,mi.JITTER,f.jitterMs),A!=null&&b!=null&&(S[mi.FREEZE]=(D=b,(w=A)===0||100*D/w>20?1:0)),C){let V=h.timestamp-p.timestamp||(E?Rr:Rr*bo);f.packets!=null&&C.packets!=null&&st(S,mi.PACKAGE_RATE,1e3*(f.packets-C.packets)/V),C.bytes!=null&&f.bytes!=null&&st(S,mi.BITRATE,8*(f.bytes-C.bytes)/V),f.packetsLost!=null&&C.packetsLost!=null&&st(S,mi.PACKAGE_LOST,f.packetsLost-C.packetsLost);}if(E)return S;let k=100*g._source.getAccurateVolumeLevel(),B=f.outputLevel;if(B!=null){let V=Math.ceil(50*Math.log10(100*B+1));st(S,T0.LEVEL,V);}if(st(S,mi.PCM_LEVEL,k),g&&(S[mi.DISABLED]=g._originMediaStreamTrack.enabled&&g._mediaStreamTrack.enabled?0:1),st(S,mi.JITTER_BUFFER,f.jitterBufferMs),st(S,mi.CURRENT_DELAY,f.jitterBufferMs),S[mi.PLAYER_STATUS]=o_[En.getPlayerState(g.getTrackId())],C){let V=f.concealedSamples-C.concealedSamples;V>0&&st(S,mi.CONCEALED_SAMPLES,V);}return S}(a._audioSSRC,e,n,a.audioTrack,i):void 0;l&&(d.audio=l);}(d.video||d.audio)&&o.push(d);}),this.needUploadRenderFreezeTime=!this.needUploadRenderFreezeTime,o}startUploadTransportStats(){this.uploadTransportStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats();}stopUploadTransportStats(){this.uploadTransportStarted=!1;}startUploadOutboundStats(){this.uploadOutboundStarted||(this.uploadOutboundStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats(),this.uploadOutboundDenoiserStatsTimer&&window.clearInterval(this.uploadOutboundDenoiserStatsTimer),this.uploadOutboundDenoiserStatsTimer=window.setInterval(()=>{if(!this.requestAllTracks||!this.requestUpload)return;let e=(this.requestAllTracks()||[]).find(n=>n instanceof ou);if(e&&e._external.getDenoiserStats){let n=e._external.getDenoiserStats();n&&this.requestUpload(wc.DENOISER_STATS,n);}},2e3),this.uploadExtStatsTimer&&window.clearInterval(this.uploadExtStatsTimer),this.uploadExtStatsTimer=window.setInterval(()=>{!this.requestAllTracks||!this.requestUpload||this.requestAllTracks().forEach(e=>{e.getProcessorStats().forEach(n=>{this.requestUpload&&this.requestUpload(n.type,n.stats);});});},2e3));}stopUploadOutboundStats(){this.uploadOutboundStarted&&(this.uploadOutboundStarted=!1,this.lastSendStats&&(this.lastSendStats.videoSend=[],this.lastSendStats.audioSend=[],this.lastSendStats=void 0),this.uploadOutboundDenoiserStatsTimer&&window.clearInterval(this.uploadOutboundDenoiserStatsTimer),this.uploadOutboundDenoiserStatsTimer=void 0);}startUploadInboundStats(){this.uploadInboundStarted||(this.uploadInboundStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats(),this.uploadInboundExtStatsTimer&&window.clearInterval(this.uploadInboundExtStatsTimer),this.uploadInboundExtStatsTimer=window.setInterval(()=>{!this.requestUpload||!this.requestRemoteMedia||(this.requestRemoteMedia()||[]).forEach(e=>{let[n,i]=e;i.has(Q.VIDEO)&&n.videoTrack&&n.videoTrack.getProcessorStats().forEach(r=>{this.requestUpload&&this.requestUpload(r.type,r.stats);}),i.has(Q.AUDIO)&&n.audioTrack&&n.audioTrack.getProcessorStats().forEach(r=>{this.requestUpload&&this.requestUpload(r.type,r.stats);});});},2e3));}stopUploadInboundStats(){this.uploadInboundStarted&&(this.uploadInboundStarted=!1,this.lastRecvStats&&(this.lastRecvStats.videoRecv=[],this.lastRecvStats.audioRecv=[],this.lastRecvStats=void 0));}startUploadExtensionUsageStats(){if(this.uploadExtensionUsageStarted)return;this.uploadExtensionUsageStarted=!0,this.uploadExtUsageStatsTimer&&window.clearInterval(this.uploadExtUsageStatsTimer);let e=new Map;this.uploadExtUsageStatsTimer=window.setInterval(async()=>{let n=Date.now(),i={connectionInterval:v(\"EXTENSION_USAGE_UPLOAD_INTERVAL\")/1e3,details:[],lts:n},r=[],o=this.requestAllTracks&&this.requestAllTracks()||[];for(let d of o)!d.muted&&d.enabled&&(r=r.concat(await d.getProcessorUsage()));let s=this.requestRemoteMedia&&this.requestRemoteMedia()||[];for(let[d,l]of s)l.has(Q.VIDEO)&&d.videoTrack&&(r=r.concat(await d.videoTrack.getProcessorUsage())),l.has(Q.AUDIO)&&d.audioTrack&&(r=r.concat(await d.audioTrack.getProcessorUsage()));if(r.length===0)return;i.details=function(d,l){let u={};for(let{id:E,value:f,level:S,direction:C}of d){var h;let A=(h=l.get(E))!==null&&h!==void 0?h:0,b=f===2?A+v(\"EXTENSION_USAGE_UPLOAD_INTERVAL\")/1e3:A;var p,g;l.set(E,b),u[E]?(f===2&&(u[E].value=f),S>u[E].level&&(u[E].level=S),C===\"remote\"&&(u[E].remoteUidCount+=1),u[E].totalTs=(p=l.get(E))!==null&&p!==void 0?p:0):u[E]={value:f,level:S,remoteUidCount:C===\"local\"?0:1,totalTs:(g=l.get(E))!==null&&g!==void 0?g:0};}return Object.keys(u).map(E=>{let{level:f,value:S,totalTs:C}=u[E];return {id:E,level:f,value:S,totalTs:C}})}(r,e);let a=Date.now(),c=a>n?a:n+1;this.requestUpload&&this.requestUpload(wc.EXTENSION_USAGE_STATS,{usageStats:i,sendTs:c});},v(\"EXTENSION_USAGE_UPLOAD_INTERVAL\"));}stopUploadExtensionUsageStats(){this.uploadExtensionUsageStarted&&(this.uploadExtensionUsageStarted=!1,this.uploadExtUsageStatsTimer&&window.clearInterval(this.uploadExtUsageStatsTimer),this.uploadExtUsageStatsTimer=void 0);}},ir=class{get hasVideo(){return this._video_enabled_&&!this._video_muted_&&this._video_added_}get hasAudio(){return this._audio_enabled_&&!this._audio_muted_&&this._audio_added_}get audioTrack(){if(this.hasAudio||this._audio_pre_subscribed)return this._audioTrack}get videoTrack(){if(this.hasVideo||this._video_pre_subscribed)return this._videoTrack}get dataChannels(){return this._dataChannels}constructor(e,n){T(this,\"uid\",void 0),T(this,\"_uintid\",void 0),T(this,\"_trust_in_room_\",!0),T(this,\"_trust_audio_enabled_state_\",!0),T(this,\"_trust_video_enabled_state_\",!0),T(this,\"_trust_audio_mute_state_\",!0),T(this,\"_trust_video_mute_state_\",!0),T(this,\"_audio_muted_\",!1),T(this,\"_video_muted_\",!1),T(this,\"_audio_enabled_\",!0),T(this,\"_video_enabled_\",!0),T(this,\"_audio_added_\",!1),T(this,\"_video_added_\",!1),T(this,\"_is_pre_created\",!1),T(this,\"_video_pre_subscribed\",!1),T(this,\"_audio_pre_subscribed\",!1),T(this,\"_trust_video_stream_added_state_\",!0),T(this,\"_trust_audio_stream_added_state_\",!0),T(this,\"_audioTrack\",void 0),T(this,\"_videoTrack\",void 0),T(this,\"_dataChannels\",[]),T(this,\"_audioSSRC\",void 0),T(this,\"_videoSSRC\",void 0),T(this,\"_audioOrtc\",void 0),T(this,\"_videoOrtc\",void 0),T(this,\"_cname\",void 0),T(this,\"_rtxSsrcId\",void 0),T(this,\"_videoMid\",void 0),T(this,\"_audioMid\",void 0),this.uid=e,this._uintid=n;}},Ui=function(t){return t.SEND_ONLY=\"SEND_ONLY\",t.RECEIVE_ONLY=\"RECEIVE_ONLY\",t}({});function uW(t,e){var n;let i;switch(e){case U.LocalAudioTrack:i=Ct.Audio;break;case U.LocalVideoTrack:i=W(n=t._hints).call(n,Gt.SCREEN_TRACK)?Ct.Screen:Ct.High;break;case U.LocalVideoLowTrack:i=Ct.Low;}return i}function lm(t){let e=ft();if(t.some(n=>n._bypassWebAudio))throw new N(R.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio\");if(!e.webAudioMediaStreamDest)throw new N(R.NOT_SUPPORTED,\"cannot publish multiple tracks because your browser does not support audio mixing\")}function E_(t,e){lm(t);let n=new ge;return t.forEach(i=>n.addAudioTrack(i)),n}var Tv,Sv,Rv,Cv,Iv,vv,yv,Av,bv,wv,Ov,Ht;function Nv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function Yd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nv(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nv(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var An=(Tv=Pi(Ui.SEND_ONLY),Sv=Pi(Ui.SEND_ONLY),Rv=Pi(),Cv=Pi(Ui.RECEIVE_ONLY),Iv=Pi(Ui.RECEIVE_ONLY),vv=Pi(Ui.RECEIVE_ONLY),yv=Pi(Ui.RECEIVE_ONLY),Av=Pi(Ui.RECEIVE_ONLY),bv=Pi(Ui.RECEIVE_ONLY),wv=Pi(),Ov=Pi(Ui.RECEIVE_ONLY),Ht=class extends Xt{get state(){return this._state}set state(t){let e=this._state;this._state=t,this.emit(tt.StateChange,e,this._state);}constructor(t,e){super(),T(this,\"isPlanB\",!1),T(this,\"store\",void 0),T(this,\"statsUploader\",void 0),T(this,\"sendConnection\",void 0),T(this,\"recvConnection\",void 0),T(this,\"localTrackMap\",new Map),T(this,\"remoteUserMap\",new Map),T(this,\"localDataChannels\",[]),T(this,\"pendingLocalTracks\",[]),T(this,\"pendingRemoteTracks\",[]),T(this,\"statsCollector\",void 0),T(this,\"dtlsFailedCount\",0),T(this,\"sendMutex\",new ze(\"P2PChannel2-send-mutex\")),T(this,\"recvMutex\",new ze(\"P2PChannel2-recv-mutex\")),T(this,\"_state\",Rt.Disconnected),T(this,\"_restartStates\",[\"disconnected\",\"failed\"]),T(this,\"reconnectInterval\",void 0),T(this,\"uploadUnplinkStarted\",!1),T(this,\"uploadDownlinkStarted\",!1),T(this,\"uplinkStateUploadInterval\",void 0),T(this,\"downlinkStatsUploadInterval\",void 0),T(this,\"handleMuteLocalTrack\",async(n,i,r)=>{let o=await this.sendMutex.lock(\"Locking from P2PChannel2.handleMuteLocalTrack\");try{if(!this.sendConnection||this.state!==Rt.Connected)return void r(new N(R.INVALID_OPERATION,\"Cannot call P2PChannel2.handleMuteLocalTrack before sendConnection established.\"));let c=this.filterTobeMutedTracks(n);if(c.length===0)return void i();let d=c.find(p=>p[0]===\"videoLowTrack\");d&&d[1].track._originMediaStreamTrack.stop(),await this.sendConnection.muteLocal(c.map(p=>{let[,{id:g}]=p;return g}));let l=!1;var s,a;n.trackMediaType===\"video\"?l=!((s=this.localTrackMap.get(U.LocalAudioTrack))===null||s===void 0||!s.track._muted):l=((a=this.localTrackMap.get(U.LocalVideoTrack))===null||a===void 0?void 0:a.id)===void 0;let u=this.createMuteMessage(c);await kt(this,tt.RequestMuteLocal,u);let h=n.trackMediaType===\"video\"?to.MUTE_LOCAL_VIDEO:to.MUTE_LOCAL_AUDIO;await kt(this,tt.RequestP2PMuteLocal,{action:h,message:u,isMuteAll:l}),i();}catch(c){r(c);}finally{o();}}),T(this,\"handleUnmuteLocalTrack\",async(n,i,r)=>{let o=await this.sendMutex.lock(\"Locking from P2PChannel2.handleUnmuteLocalTrack\");try{if(!this.sendConnection||this.state!==Rt.Connected)return void r(new N(R.INVALID_OPERATION,\"Cannot call P2PChannel2.handleUnmuteLocalTrack before sendConnection established.\"));let s=this.filterTobeUnmutedTracks(n);if(s.length===0)return void i();await this.sendConnection.unmuteLocal(s.map(d=>{let[,{id:l}]=d;return l}));let a=this.createUnmuteMessage(s),c=n.trackMediaType===\"video\"?to.UNMUTE_LOCAL_VIDEO:to.UNMUTE_LOCAL_AUDIO;await kt(this,tt.RequestP2PMuteLocal,{action:c,message:a}),i();}catch(s){r(s);}finally{o();}}),T(this,\"handleUpdateVideoEncoder\",async(n,i,r)=>{let o=await this.sendMutex.lock(\"Locking from P2PChannel2.handleSetVideoEncoder\");try{let s=this.localTrackMap.get(U.LocalVideoTrack);if(!this.sendConnection||!s||s.track!==n||this.state!==Rt.Connected)return void i();let{id:a,track:c}=s;a&&(await this.sendConnection.updateSendParameters(a,c),await this.sendConnection.updateEncoderConfig(a,c),this.emit(tt.UpdateVideoEncoder,c)),i();}catch(s){r(s);}finally{o();}}),T(this,\"handleUpdateVideoSendParameters\",async(n,i,r)=>{let o=await this.sendMutex.lock(\"Locking from P2PChannel2.handleUpdateVideoSendParameters\");try{let s=this.localTrackMap.get(U.LocalVideoTrack);if(!this.sendConnection||!s||s.track!==n||this.state!==Rt.Connected)return void i();let{id:a,track:c}=s;a&&await this.sendConnection.updateSendParameters(a,c),i();}catch(s){r(s);}finally{o();}}),T(this,\"handleReplaceTrack\",async(n,i,r,o)=>{let s;_.debug(\"[\".concat(this.store.clientId,\"] P2PChannel2 handleReplaceTrack for [track-id-\").concat(n.getTrackId(),\"]\")),typeof o==\"boolean\"&&o||(s=await this.sendMutex.lock(\"From P2PChannel2.handleReplaceTrack\"));try{var a;let d=Array.from(this.localTrackMap.entries()).find(l=>{let[,{track:u}]=l;return n===u});if(!this.sendConnection||!d||d[1].id===void 0||this.state!==Rt.Connected)return void i();if(await((a=this.sendConnection)===null||a===void 0?void 0:a.replaceTrack(n,d[1].id)),d[0]===U.LocalVideoTrack&&ft().supportDualStreamEncoding){let l=this.localTrackMap.get(U.LocalVideoLowTrack);if(l){let u=n._mediaStreamTrack.clone();l.track._originMediaStreamTrack.stop(),l.track._mediaStreamTrack=u,l.track._originMediaStreamTrack=u,await new j((h,p)=>{this.handleReplaceTrack(l.track,h,p,!0);});}}i();}catch(d){r(d);}finally{var c;(c=s)===null||c===void 0||c();}}),T(this,\"handleGetLocalVideoStats\",n=>{n(this.statsCollector.getLocalVideoTrackStats());}),T(this,\"handleGetLocalAudioStats\",n=>{n(this.statsCollector.getLocalAudioTrackStats());}),T(this,\"handleGetRemoteVideoStats\",n=>this.statsCollector.getRemoteVideoTrackStats(n.uid)[n.uid]),T(this,\"handleGetRemoteAudioStats\",n=>this.statsCollector.getRemoteAudioTrackStats(n.uid)[n.uid]),this.store=t,this.statsCollector=e,this.statsCollector.addP2PChannel(this),this.statsUploader=new pu(t),this.bindStatsUploaderEvents(),this.reconnectInterval=window.setInterval(()=>{[this.sendConnection,this.recvConnection].forEach(n=>{n&&(n.iceConnectionState!==\"disconnected\"&&n.iceConnectionState!==\"failed\"||this.handleDisconnect(n.direction));});},v(\"ICE_RESTART_INTERVAL\"));}async startP2PConnection(t,e){throw new N(R.NOT_SUPPORTED,\"p2p mode does not support startP2PConnection.\")}async connect(t){throw new N(R.NOT_SUPPORTED,\"p2p mode does not support connect.\")}async startP2P(t,e){let n;try{if(e){this.recvConnection&&(_.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.startP2P reset recvConnection.\")),this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection)),n=await this.recvMutex.lock(\"From P2PChannel.startP2P\"),this.recvConnection=new mv(t,this.store,cn.RECEIVE_ONLY),this.bindConnectionEvents(this.recvConnection);let i=await this.recvConnection.establish(e);return {iceParameters:i.iceParameters,dtlsParameters:i.dtlsParameters,sdp:i.sdp}}{this.state=Rt.New,this.sendConnection&&(_.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.startP2P reset sendConnection.\")),this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection)),n=await this.sendMutex.lock(\"From P2PChannel.startP2P\"),this.sendConnection=new mv(t,this.store),this.store.peerConnectionStart(),this.bindConnectionEvents(this.sendConnection);let i=await this.sendConnection.establish();return {iceParameters:i.iceParameters,dtlsParameters:i.dtlsParameters,sdp:i.sdp}}}finally{n&&n();}}async p2pConnect(t){if(!this.sendConnection)throw new N(R.UNEXPECTED_ERROR,\"Cannot P2PChannel2.p2pConnect before P2PChannel2.startP2PConnection .\");this.store.peerConnectionStart(),await this.sendConnection.connect(t),this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=Rt.Connected;}async addRemoteCandidate(t,e){if(e===cn.RECEIVE_ONLY){if(!this.sendConnection)throw new N(R.UNEXPECTED_ERROR,\"Cannot P2PChannel2.connect before P2PChannel2.addRemoteCandidate .\");await this.sendConnection.addRemoteCandidate(t);}else {if(!this.recvConnection)throw new N(R.UNEXPECTED_ERROR,\"Cannot P2PChannel2.connect before P2PChannel2.addRemoteCandidate .\");await this.recvConnection.addRemoteCandidate(t);}}publish(t,e,n){var i=this;return Bi(function*(){let r=yield Tt(i.sendMutex.lock(\"From P2PChannel.publish\"));try{if(!i.sendConnection||i.state!==Rt.Connected){i.throwIfTrackTypeNotMatch(t);let d=t.filter(l=>i.pendingLocalTracks.indexOf(l)===-1);return void(i.pendingLocalTracks=i.pendingLocalTracks.concat(d))}i.store.pubId=i.store.pubId+1,qe.markPublishStart(i.store.clientId,i.store.pubId);let o=i.filterTobePublishedTracks(t,e,n);if(o.length===0)return void(yield Tt(i.tryToUnmuteAudio(t)));o.forEach(d=>{let{track:l,type:u}=d,h=Date.now();i.store.publish(l.getTrackId(),u===U.LocalAudioTrack?\"audio\":\"video\",h);}),i.bindLocalTrackEvents(o);let s=yield Tt(i.sendConnection.send(o.map(d=>{let{track:l}=d;return l}),i.store.codec,i.store.audioCodec)),a=(yield Tt(s.next())).value,c=i.createGatewayPublishMessage(o,a);try{yield c;}catch(d){throw s.throw(d),d?.code===R.WS_ABORT&&o.forEach(l=>{let{track:u}=l;i.pendingLocalTracks.indexOf(u)===-1&&i.pendingLocalTracks.push(u);}),i.unbindLocalTrackEvents(o),d}yield Tt(s.next()),o.forEach(d=>{let{type:l}=d;i.statsCollector.addLocalStats(l);}),i.statsUploader.startUploadOutboundStats(),i.assignLocalTracks(o,a),o.forEach(d=>{let{track:l,type:u}=d,h=Date.now();i.store.publish(l.getTrackId(),u===U.LocalAudioTrack?\"audio\":\"video\",void 0,h);}),i.startUploadUplinkState();}finally{r();}})()}async unpublish(t){if(!this.sendConnection||this.state!==Rt.Connected)return void(t.length===0?this.pendingLocalTracks.length=0:this.pendingLocalTracks=this.pendingLocalTracks.filter(r=>!W(t).call(t,r)));let e=this.filterTobeUnpublishedTracks(t);if(e.length===0)return;let n=e.find(r=>r[0]===\"videoLowTrack\");n&&n[1].track.close();let i=this.createGatewayUnpublishMessage(e);if(await this.sendConnection.stopSending(e.map(r=>{let[,{id:o}]=r;return o})),this.withdrawLocalTracks(e),this.unbindLocalTrackEvents(e.map(r=>{let[o,{track:s}]=r;return {type:o,track:s}})),e.forEach(r=>{let[o]=r;this.statsCollector.removeLocalStats(o);}),this.localTrackMap.size===0&&(this.statsUploader.stopUploadOutboundStats(),this.stopUploadUplinkState()),this.sendConnection&&this.state===Rt.Connected)return n&&n[1].track.close(),i;t.forEach(r=>{let o=this.pendingLocalTracks.indexOf(r);o!==-1&&this.pendingLocalTracks.splice(o,1);});}startUploadUplinkState(){if(this.uploadUnplinkStarted)return;this.uploadUnplinkStarted=!0,this.uplinkStateUploadInterval&&window.clearInterval(this.uplinkStateUploadInterval);let t=()=>{let e=[],n=[];Array.from(this.localTrackMap.entries()).forEach(i=>{let[r,{track:o,ssrcs:s}]=i,a={stream_type:uW(o,r),ssrcs:s};o._muted||!o._enabled?e.push(a):n.push(a);}),e.length>0&&e.forEach(i=>{kt(this,tt.RequestMuteLocal,[i]);}),n.length>0&&n.forEach(i=>{kt(this,tt.RequestUnmuteLocal,[i]);});};t(),this.uplinkStateUploadInterval=window.setInterval(()=>{t();},3e3);}stopUploadUplinkState(){this.uploadUnplinkStarted&&(this.uploadUnplinkStarted=!1,this.uplinkStateUploadInterval&&window.clearInterval(this.uplinkStateUploadInterval));}publishLowStream(t){return Bi(function*(){throw new N(R.NOT_SUPPORTED,\"p2p mode does not support publishLowStream.\")})()}async republish(){this.pendingLocalTracks.length>0&&(_.debug(\"[\".concat(this.store.clientId,\"] Emit P2PChannelEvents.RequestRePublish to republish tracks.\")),await Ge(this,tt.RequestRePublish,this.pendingLocalTracks),this.emit(tt.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[]);}async unpublishLowStream(){throw new N(R.NOT_SUPPORTED,\"p2p mode does not support unpublishLowStream.\")}async subscribe(t,e,n,i){var r;if(!this.recvConnection)throw new N(R.INVALID_OPERATION,\"Cannot subscribe remote user when recvConnection disconnected.\");if((r=this.remoteUserMap.get(t))!==null&&r!==void 0&&r.has(e))return;let{track:o,mid:s,transceiver:a}=await this.recvConnection.receive(e,[{ssrcId:n}],String(t.uid),i);e===Q.AUDIO?(t._audioTrack?t._audioTrack._updateOriginMediaStreamTrack(o):(t._audioTrack=new Ks(o,t.uid,t._uintid,this.store),_.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote audio track: \").concat(t._audioTrack.getTrackId()))),a&&t._audioTrack._updateRtpTransceiver(a),this.bindRemoteTrackEvents(t,t._audioTrack)):(t._videoSSRC=n,t._videoTrack?t._videoTrack._updateOriginMediaStreamTrack(o):(t._videoTrack=new Hs(o,t.uid,t._uintid,this.store),_.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote video track: \").concat(t._videoTrack.getTrackId()))),a&&t._videoTrack._updateRtpTransceiver(a),this.bindRemoteTrackEvents(t,t._videoTrack));let c=this.remoteUserMap.get(t);c?c.set(e,s):this.remoteUserMap.set(t,new Map([[e,s]])),this.statsCollector.addRemoteStats(t.uid),this.statsUploader.startUploadInboundStats(),this.startUploadDownlinkState();let d=this.pendingRemoteTracks.findIndex(l=>{let{user:u,kind:h}=l;return u.uid===t.uid&&e===h});d!==-1&&(this.pendingRemoteTracks.splice(d,1),this.emit(tt.MediaReconnectEnd,t.uid));}async mockSubscribe(t,e,n,i){if(!this.recvConnection)throw new N(R.INVALID_OPERATION,\"Cannot subscribe remote user when recvConnection disconnected.\");await this.recvConnection.mockReceive(e,[{ssrcId:n}],String(t.uid),i);}async unsubscribe(t,e,n){let i=this.pendingRemoteTracks.filter(o=>{let{user:s,kind:a}=o;return e!==void 0?s.uid===t.uid&&e===a:s.uid===t.uid});if(i.forEach(o=>{let s=this.pendingRemoteTracks.indexOf(o);this.pendingRemoteTracks.splice(s,1);}),this.recvConnection||n||i.forEach(o=>{let{kind:s}=o;var a;if(s===Q.AUDIO)(a=t._audioTrack)===null||a===void 0||a._destroy(),t._audioTrack=void 0;else if(s===Q.VIDEO){var c;(c=t._videoTrack)===null||c===void 0||c._destroy(),t._videoTrack=void 0;}}),!this.recvConnection)return;let r=this.filterTobeUnSubscribedTracks(t,e);r.length!==0&&(await this.recvConnection.stopReceiving(r.map(o=>{let[,{id:s}]=o;return s})),this.withdrawRemoteTracks(r),this.remoteUserMap.size===0&&(this.statsUploader.stopUploadInboundStats(),this.stopUploadDownlinkState()),r.forEach(o=>{let[s,{kind:a}]=o;var c,d;if(a===Q.VIDEO&&s._videoSSRC&&((c=this.recvConnection)===null||c===void 0||c.setStatsRemoteVideoIsReady(s._videoSSRC,!1)),a===Q.VIDEO)this.unbindRemoteTrackEvents(s._videoTrack),n||((d=s._videoTrack)===null||d===void 0||d._destroy(),s._videoTrack=void 0);else if(a===Q.AUDIO){var l;this.unbindRemoteTrackEvents(s._audioTrack),!n&&((l=s._audioTrack)===null||l===void 0||l._destroy(),s._audioTrack=void 0);}}),r.forEach(o=>{let[,{kind:s}]=o;kt(this,tt.RequestP2PMuteRemote,s);}));}startUploadDownlinkState(){if(this.uploadDownlinkStarted)return;this.uploadDownlinkStarted=!0,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval);let t=()=>Array.from(this.remoteUserMap.entries()).forEach(e=>{let[,n]=e;[Q.VIDEO,Q.AUDIO].forEach(i=>{n.has(i)?kt(this,tt.RequestP2PUnmuteRemote,i):kt(this,tt.RequestP2PMuteRemote,i);});});t(),this.downlinkStatsUploadInterval=window.setInterval(()=>{t();},3e3);}stopUploadDownlinkState(){this.uploadDownlinkStarted&&(this.uploadDownlinkStarted=!1,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval));}getAllDataChannels(){return this.localDataChannels}async massSubscribe(t){throw new N(R.NOT_SUPPORTED,\"p2p mode does not support massSubscribe.\")}async massSubscribeNoLock(t){throw new N(R.NOT_SUPPORTED,\"p2p mode does not support massSubscribeNoLock.\")}async massUnsubscribe(t){throw new N(R.NOT_SUPPORTED,\"p2p mode does not support massUnsubscribe.\")}async massUnsubscribeNoLock(t){throw new N(R.NOT_SUPPORTED,\"p2p mode does not support massUnsubscribeNoLock.\")}async muteRemote(t,e){if(!this.recvConnection)return;let n=this.remoteUserMap.get(t);if(!n)return void _.warning(\"[\".concat(this.store.clientId,\"] P2PChannel2.muteRemote has no remote user \").concat(t.uid,\".\"));if(!n.get(e))return void _.warning(\"[\".concat(this.store.clientId,\"] P2PChannel2.muteRemote has no remote user \").concat(t.uid,\" media type \").concat(e,\".\"));let i=e===Q.VIDEO?t._videoSSRC:t._audioSSRC;i!==void 0&&this.recvConnection.setStatsRemoteVideoIsReady(i,!1);}async unmuteRemote(t,e){return this.unmuteRemoteNoLock(t,e)}async unmuteRemoteNoLock(t,e){if(!this.recvConnection)return;let n=this.remoteUserMap.get(t);if(!n)return void _.warning(\"[\".concat(this.store.clientId,\"] P2PChannel2.unmuteRemote has no remote user \").concat(t.uid,\".\"));n.get(e)||_.warning(\"[\".concat(this.store.clientId,\"] P2PChannel2.unmuteRemote has no remote user \").concat(t.uid,\" media type \").concat(e,\".\"));}getAllTracks(t){let e=this.localTrackMap.get(U.LocalAudioTrack);if(e?.track instanceof ge){let n=e.track;return Array.from(this.localTrackMap.entries()).filter(i=>{let[r]=i;return r!==U.LocalAudioTrack}).filter(i=>{let[r]=i;return !(t&&r===U.LocalVideoLowTrack)}).map(i=>{let[,{track:r}]=i;return r}).concat(n.trackList)}return Array.from(this.localTrackMap.entries()).filter(n=>{let[i]=n;return !(t&&i===U.LocalVideoLowTrack)}).map(n=>{let[,{track:i}]=n;return i})}reportPublishEvent(t,e,n,i,r){if(t){let s=this.localTrackMap.get(U.LocalAudioTrack),a=i?this.localTrackMap.get(U.LocalVideoLowTrack):this.localTrackMap.get(U.LocalVideoTrack);X.publish(this.store.sessionId,{eventElapse:qe.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:t,ec:e,audioName:s?.track.getTrackLabel(),videoName:a?.track.getTrackLabel(),screenshare:a?.track._hints.indexOf(Gt.SCREEN_TRACK)!==-1,audio:!!s,video:!!a,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r});}else {var o;n||(n=[]);let s=n.find(c=>c instanceof Qt),a=i?(o=this.localTrackMap.get(U.LocalVideoTrack))===null||o===void 0?void 0:o.track:n.find(c=>c instanceof Ft);X.publish(this.store.sessionId,{eventElapse:qe.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:t,ec:e,audioName:s?.getTrackLabel(),videoName:a?.getTrackLabel(),screenshare:a?._hints.indexOf(Gt.SCREEN_TRACK)!==-1,audio:!!s,video:!!a,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r});}}reportSubscribeEvent(t,e,n,i){let r=i===Q.VIDEO?n._videoSSRC:n._audioSSRC;r&&X.subscribe(this.store.sessionId,{succ:t,ec:e,video:i===Q.VIDEO,audio:i===Q.AUDIO,peerid:n.uid,subscribeRequestid:i===Q.VIDEO?n._videoSSRC:n._audioSSRC,p2pid:this.store.p2pId,eventElapse:qe.measureFromSubscribeStart(this.store.clientId,r)});}reset(){_.debug(\"[\".concat(this.store.clientId,\"] P2PChannel2.reset\")),this.sendMutex=new ze(\"P2PChannel2-send-mutex\"),this.sendMutex=new ze(\"P2PChannel2-recv-mutex\"),this.sendConnection&&(this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),this.sendConnection=void 0),this.recvConnection&&(this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),this.recvConnection=void 0),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),this.statsUploader.stopUploadExtensionUsageStats(),this.stopUploadUplinkState(),this.stopUploadDownlinkState(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.unbindRtpTransceiver();let t=this.localTrackMap.get(U.LocalAudioTrack);if(t?.track instanceof ge){if(t.track.trackList.length>0){let e=t.track;t.track.trackList.forEach(n=>{e.removeAudioTrack(n);});}t.track.close();}this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.dtlsFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.reconnectInterval&&(window.clearInterval(this.reconnectInterval),this.reconnectInterval=void 0),this.state=Rt.Disconnected;}getStats(t){var e,n;return t?(n=this.recvConnection)===null||n===void 0?void 0:n.getStats():(e=this.sendConnection)===null||e===void 0?void 0:e.getStats()}getRemoteVideoIsReady(t){var e;return ((e=this.recvConnection)===null||e===void 0?void 0:e.getRemoteVideoIsReady(t))||!1}getLocalAudioVolume(){let t=this.localTrackMap.get(U.LocalAudioTrack);if(t)return t.track.getVolumeLevel()}getLocalVideoSize(){let t=this.localTrackMap.get(U.LocalVideoTrack);if(t)return {width:t.track.videoWidth||0,height:t.track.videoHeight||0}}getEncoderConfig(t){let e=this.localTrackMap.get(t);return e&&e.track instanceof Ft||e&&e.track instanceof Qt?e.track._encoderConfig:void 0}getLocalMedia(t){return this.localTrackMap.get(t)}hasLocalMedia(){return this.localTrackMap.size>0}hasRemoteMedia(t,e){if(!t)return this.remoteUserMap.size>0;let n=this.remoteUserMap.get(t);return !!n&&(!e||n.has(e))}async hasRemoteMediaWithLock(t,e){if(!t)return this.remoteUserMap.size>0;let n=this.remoteUserMap.get(t);return !!n&&(!e||n.has(e))}getRemoteMedia(t){var e;let n=Array.from(xn(e=this.remoteUserMap).call(e)).find(i=>i.uid===t);return n?{audioTrack:n.audioTrack,audioSSRC:n._audioSSRC,videoTrack:n.videoTrack,videoSSRC:n._videoSSRC}:{}}getAudioLevels(){let t=Array.from(this.remoteUserMap.entries()).map(n=>{let[i]=n;return {uid:i.uid,level:i.audioTrack?100*i.audioTrack._source.getAccurateVolumeLevel():0}}),e=this.localTrackMap.get(U.LocalAudioTrack);return e&&t.push({level:100*e.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),t=ed(t).call(t,(n,i)=>n.level-i.level),t}async disconnectForReconnect(){this.sendConnection&&this.recvConnection&&(_.debug(\"[\".concat(this.store.clientId,\"] P2PChannel2.disconnectForReconnect closing P2PConnection\")),this.state=Rt.Reconnecting,v(\"KEEP_LAST_FRAME\")&&this.remoteUserMap.size!==0&&Array.from(this.remoteUserMap.entries()).forEach(t=>{let[e]=t;var n;e._videoTrack&&e._videoTrack._player&&((n=e._videoTrack._player.getVideoElement())===null||n===void 0||n.pause(),e._videoTrack._player.isKeepLastFrame=!0,e._videoTrack._originMediaStreamTrack.stop());}),this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),this.sendConnection=void 0,this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),this.recvConnection=void 0,this.localTrackMap.size!==0&&(Array.from(this.localTrackMap.entries()).forEach(t=>{var e;let[n,{track:i}]=t;switch(n){case U.LocalVideoTrack:W(e=i._hints).call(e,Gt.LOW_STREAM)?i.close():this.pendingLocalTracks.push(i);break;case U.LocalAudioTrack:i instanceof ge?this.pendingLocalTracks=this.pendingLocalTracks.concat(i.trackList):this.pendingLocalTracks.push(i);case U.LocalVideoLowTrack:}}),this.emit(tt.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),this.remoteUserMap.size!==0&&Array.from(this.remoteUserMap.entries()).forEach(t=>{let[e,n]=t;Array.from(xn(n).call(n)).forEach(i=>{this.setPendingRemoteMedia(e,i);}),this.emit(tt.MediaReconnectStart,e.uid);}),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),this.stopUploadUplinkState(),this.stopUploadDownlinkState(),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),_.debug(\"[\".concat(this.store.clientId,\"] P2PChannel2 disconnected, waiting to reconnect.\")));}hasPendingRemoteMedia(t,e){for(let n of this.pendingRemoteTracks){let{user:i,kind:r}=n;if((t instanceof ir?t.uid:t)===i.uid&&e===r)return !0}return !1}setPendingRemoteMedia(t,e){this.hasPendingRemoteMedia(t,e)||this.pendingRemoteTracks.push({user:t,kind:e});}async restartICE(t,e){let n,i;if(t===cn.SEND_ONLY){if(!this.sendConnection)throw new N(R.INVALID_OPERATION,\"Cannot call P2PChannel2.handleMuteLocalTrack before sendConnection established.\");n=await this.sendMutex.lock(\"From P2PChannel.restartICE\"),i=this.sendConnection;}else {if(!this.recvConnection)throw new N(R.INVALID_OPERATION,\"Cannot call P2PChannel2.handleMuteLocalTrack before recvConnection established.\");n=await this.recvMutex.lock(\"From P2PChannel.restartICE\"),i=this.recvConnection;}try{if(e){let r=await i.restartICE(e);return i.isInRestartIce=!1,r}{let r=await i.restartICE();if(r){let o=await Ge(this,tt.RequestP2PRestartICE,{direction:cn.RECEIVE_ONLY,iceParameter:r});await i.restartICE(o),i.isInRestartIce=!1;}}}finally{n();}}getUplinkNetworkQuality(){if(!this.sendConnection)return 0;let t=this.sendConnection.getStats(),e=this.localTrackMap.get(U.LocalVideoTrack),n=this.localTrackMap.get(U.LocalAudioTrack),i=t.videoSend.find(p=>{var g;return p.ssrc===(e==null||(g=e.ssrcs)===null||g===void 0?void 0:g[0].ssrcId)}),r=t.audioSend.find(p=>{var g;return p.ssrc===(n==null||(g=n.ssrcs)===null||g===void 0?void 0:g[0].ssrcId)});if(!i||!r)return 1;let o=ni(this,tt.NeedSignalRTT),s=i?i.rttMs:void 0,a=r?r.rttMs:void 0,c=s&&a?(s+a)/2:s||a,d=(c&&o?(c+o)/2:c||o)||0,l=100*t.sendPacketLossRate*.7/50+.3*d/1500,u=l<.17?1:l<.36?2:l<.59?3:l<.1?4:5,h=e?.track;if(h&&h._encoderConfig&&h._hints.indexOf(Gt.SCREEN_TRACK)===-1){let p=h._encoderConfig.bitrateMax,g=t.bitrate.actualEncoded;if(p&&g){let E=(1e3*p-g)/(1e3*p);return OO[E<.15?0:E<.3?1:E<.45?2:E<.6?3:4][u]}}return u}getDownlinkNetworkQuality(){if(!this.recvConnection)return 0;let t=this.recvConnection.getStats(),e=0;return Array.from(this.remoteUserMap.entries()).forEach(n=>{let[i]=n,r=i._audioSSRC,o=i._videoSSRC,s=t.audioRecv.find(g=>g.ssrc===r),a=t.videoRecv.find(g=>g.ssrc===o);if(!s&&!a)return void(e+=1);let c=ni(this,tt.NeedSignalRTT),d=t.rtt,l=(d&&c?(d+c)/2:d||c)||0,u=s?s.jitterMs:void 0,h=t.recvPacketLossRate,p=.7*h*100/50+.3*l/1500;u&&(p=.6*h*100/50+.2*l/1500+.2*u/400),e+=p<.1?1:p<.17?2:p<.36?3:p<.59?4:5;}),this.remoteUserMap.size>0?Math.round(e/this.remoteUserMap.size):e}async muteLocalTrack(t){return new j((e,n)=>{this.handleMuteLocalTrack(t,e,n);})}filterTobePublishedTracks(t,e,n){let i=[],r=ft(),o=this.getAllTracks();t=Ls(t=t.filter(c=>o.indexOf(c)===-1));let s=!1,a=!1;for(let c of t){if(c instanceof Ft&&(this.localTrackMap.has(U.LocalVideoTrack)||s?new N(R.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(i.push({track:c,type:U.LocalVideoTrack}),s=!0),e)){let d=this.getLowVideoTrack(c,n);i.push({track:d,type:U.LocalVideoLowTrack});}if(c instanceof Qt){let d=this.localTrackMap.get(U.LocalAudioTrack);if(d){if(!(d.track instanceof ge))throw new N(R.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing\");if(c._bypassWebAudio)throw new N(R.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio\");d.track.addAudioTrack(c),this.bindLocalAudioTrackEvents(c,!0);}else if(a){let l=i.find(u=>{let{type:h}=u;return h===U.LocalAudioTrack});if(!(l.track instanceof ge))throw new N(R.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing\");if(c._bypassWebAudio)throw new N(R.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio\");l.track.addAudioTrack(c);}else {if(!r.webAudioMediaStreamDest||c instanceof ge||c._bypassWebAudio)i.push({track:c,type:U.LocalAudioTrack});else {let l=new ge;l.addAudioTrack(c),i.push({track:l,type:U.LocalAudioTrack});}a=!0;}}}return i}filterTobeUnpublishedTracks(t){let e=[],n=this.getAllTracks();t=Ls(t=t.filter(i=>n.indexOf(i)!==-1));for(let i of t){if(i instanceof Qt){let r=this.localTrackMap.get(U.LocalAudioTrack);if(!r)continue;r.track instanceof ge?(r.track.removeAudioTrack(i),this.unbindLocalAudioTrackEvents(i),r.track.trackList.length===0&&(e.push([U.LocalAudioTrack,r]),r.track.close())):e.push([U.LocalAudioTrack,r]);}if(i instanceof Ft){let r=this.localTrackMap.get(U.LocalVideoTrack);if(!r)continue;e.push([U.LocalVideoTrack,r]);let o=this.localTrackMap.get(U.LocalVideoLowTrack);o&&e.push([U.LocalVideoLowTrack,o]);}}return e}bindLocalTrackEvents(t){t.forEach(e=>{let{track:n,type:i}=e;switch(i){case U.LocalVideoTrack:n.addListener(H.GET_STATS,this.handleGetLocalVideoStats),n.addListener(H.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),n.addListener(H.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),n.addListener(H.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),n.addListener(H.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),n.addListener(H.NEED_REPLACE_TRACK,this.handleReplaceTrack),n.addListener(H.NEED_MUTE_TRACK,this.handleMuteLocalTrack),n.addListener(H.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case U.LocalAudioTrack:this.bindLocalAudioTrackEvents(n);case U.LocalVideoLowTrack:}});}bindLocalAudioTrackEvents(t,e){t instanceof ge?t.trackList.forEach(n=>{n.addListener(H.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),n.addListener(H.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),n.addListener(H.GET_STATS,this.handleGetLocalAudioStats),n.addListener(H.NEED_MUTE_TRACK,this.handleMuteLocalTrack),n.addListener(H.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);}):(t.addListener(H.GET_STATS,this.handleGetLocalAudioStats),t.addListener(H.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.addListener(H.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.addListener(H.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.addListener(H.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),e||t.addListener(H.NEED_REPLACE_TRACK,this.handleReplaceTrack));}unbindLocalTrackEvents(t){t||(t=Array.from(this.localTrackMap.entries()).map(e=>{let[n,{track:i}]=e;return {track:i,type:n}})),t.forEach(e=>{let{track:n,type:i}=e;switch(i){case U.LocalVideoTrack:n.off(H.GET_STATS,this.handleGetLocalVideoStats),n.off(H.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),n.off(H.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),n.off(H.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),n.off(H.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),n.off(H.NEED_REPLACE_TRACK,this.handleReplaceTrack),n.off(H.NEED_MUTE_TRACK,this.handleMuteLocalTrack),n.off(H.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case U.LocalAudioTrack:this.unbindLocalAudioTrackEvents(n);case U.LocalVideoLowTrack:}});}unbindLocalAudioTrackEvents(t){t instanceof ge?t.trackList.forEach(e=>{e.off(H.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(H.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(H.GET_STATS,this.handleGetLocalAudioStats),e.off(H.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(H.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);}):(t.off(H.GET_STATS,this.handleGetLocalAudioStats),t.off(H.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.off(H.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.off(H.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.off(H.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.off(H.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack));}bindRemoteTrackEvents(t,e){e instanceof Hs&&e.addListener(H.GET_STATS,n=>{n(this.handleGetRemoteVideoStats(t));}),e instanceof Ks&&e.addListener(H.GET_STATS,n=>{n(this.handleGetRemoteAudioStats(t));});}unbindRemoteTrackEvents(t){t&&t.removeAllListeners(H.GET_STATS);}unbindAllRemoteTrackEvents(){Array.from(this.remoteUserMap.entries()).forEach(t=>{let[e,n]=t;n.has(Q.AUDIO)&&this.unbindRemoteTrackEvents(e._audioTrack),n.has(Q.VIDEO)&&this.unbindRemoteTrackEvents(e._videoTrack);});}createGatewayPublishMessage(t,e){return t.map((n,i)=>{var r;let o,{track:s,type:a}=n;switch(a){case U.LocalAudioTrack:o=Ct.Audio;break;case U.LocalVideoTrack:o=W(r=s._hints).call(r,Gt.SCREEN_TRACK)?Ct.Screen:Ct.High;break;case U.LocalVideoLowTrack:o=Ct.Low;}return {kind:a===U.LocalAudioTrack?Q.AUDIO:Q.VIDEO,stream_type:o,mid:e[i].id,ssrcs:e[i].localSSRC,isMuted:s.muted||!s.enabled}})}createGatewayUnpublishMessage(t){return t.map(e=>{var n;let i,[r,{track:o,ssrcs:s,id:a}]=e;switch(r){case U.LocalVideoTrack:i=W(n=o._hints).call(n,Gt.SCREEN_TRACK)?Ct.Screen:Ct.High;break;case U.LocalAudioTrack:i=Ct.Audio;break;case U.LocalVideoLowTrack:i=Ct.Low;}return {stream_type:i,ssrcs:s,mid:a}})}assignLocalTracks(t,e){t.forEach((n,i)=>{let{track:r,type:o}=n;this.localTrackMap.set(o,{track:r,id:e[i].id,ssrcs:e[i].localSSRC});});}withdrawLocalTracks(t){t.forEach(e=>{let[n]=e;this.localTrackMap.delete(n);});}bindConnectionEvents(t){t.onConnectionStateChange=async e=>{var n;_.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: \").concat(t.name,\".onConnectionStateChange(\").concat(e,\")\")),this.emit(tt.PeerConnectionStateChange,e),e!==\"connected\"||this.store.keyMetrics.peerConnectionEnd||this.store.peerConnectionEnd(),e===\"connected\"&&(t.isInRestartIce=!1),W(n=this._restartStates).call(n,e)&&!t.isInRestartIce&&(e===\"disconnected\"&&await Me(800),t.iceConnectionState!==\"disconnected\"&&t.iceConnectionState!==\"failed\"||this.handleDisconnect(t.direction));},t.onICEConnectionStateChange=e=>{e!==\"connected\"||this.store.keyMetrics.iceConnectionEnd||this.store.iceConnectionEnd(),_.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onICEConnectionStateChange(\").concat(e,\")\")),X.reportApiInvoke(this.store.sessionId,{name:\"ICEConnectionStateChange\",options:e,tag:Zt.TRACER}).onSuccess(),this.emit(tt.IceConnectionStateChange,e);},t.onICETransportStateChange=e=>{_.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onICETransportStateChange(\").concat(e,\")\"));},t.onDTLSTransportStateChange=e=>{_.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onDTLSTransportStateChange(\").concat(e,\")\"));},t.onDTLSTransportError=e=>{_.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onDTLSTransportError(\").concat(e,\")\"));},t.onFirstAudioDecoded=e=>{var n;let i=Array.from(xn(n=this.remoteUserMap).call(n)).find(o=>o._audioSSRC===e);var r;i&&(this.store.subscribe(i.uid,\"audio\",void 0,void 0,void 0,Date.now()),(r=i.audioTrack)===null||r===void 0||r.emit(Ws.FIRST_FRAME_DECODED),X.firstRemoteFrame(this.store.sessionId,De.FIRST_AUDIO_DECODE,Jt.FIRST_AUDIO_DECODE,{peer:i._uintid,subscribeElapse:qe.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId}));},t.onFirstAudioReceived=e=>{var n;let i=Array.from(xn(n=this.remoteUserMap).call(n)).find(r=>r._audioSSRC===e);i&&X.firstRemoteFrame(this.store.sessionId,De.FIRST_AUDIO_RECEIVED,Jt.FIRST_AUDIO_RECEIVED,{peer:i._uintid,subscribeElapse:qe.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId});},t.onFirstVideoDecoded=(e,n,i)=>{this.reportVideoFirstFrameDecoded(e,n,i);},t.onFirstVideoReceived=e=>{var n;let i=Array.from(xn(n=this.remoteUserMap).call(n)).find(r=>r._videoSSRC===e);i&&X.firstRemoteFrame(this.store.sessionId,De.FIRST_VIDEO_RECEIVED,Jt.FIRST_VIDEO_RECEIVED,{peer:i._uintid,subscribeElapse:qe.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId});},t.onSelectedLocalCandidateChanged=(e,n)=>{let i=e.candidateType===\"relay\",r=n.candidateType===\"relay\";n.candidateType!==\"unknown\"&&i===r||this.emit(tt.ConnectionTypeChange,i),_.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.SelectedLocalCandidateChanged(\").concat(JSON.stringify(eo(n)),\" -> \").concat(JSON.stringify(eo(e)),\")\"));},t.onSelectedRemoteCandidateChanged=(e,n)=>{_.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.SelectedRemoteCandidateChanged(\").concat(JSON.stringify(eo(n)),\" -> \").concat(JSON.stringify(eo(e)),\")\"));},t.onFirstVideoDecodedTimeout=e=>{this.reportVideoFirstFrameDecoded(e,void 0,void 0,!0);},t.onLocalCandidate=e=>{this.emit(tt.LocalCandidate,{candidate:e,direction:t.direction});};}unbindConnectionEvents(t){t.onConnectionStateChange=void 0,t.onICEConnectionStateChange=void 0,t.onICETransportStateChange=void 0,t.onDTLSTransportStateChange=void 0,t.onDTLSTransportError=void 0,t.onFirstAudioDecoded=void 0,t.onFirstAudioReceived=void 0,t.onFirstVideoDecoded=void 0,t.onFirstVideoReceived=void 0,t.onSelectedLocalCandidateChanged=void 0,t.onSelectedRemoteCandidateChanged=void 0,t.onFirstVideoDecodedTimeout=void 0,t.onLocalCandidate=void 0;}async handleDisconnect(t){let e=t===cn.SEND_ONLY?this.sendConnection:this.recvConnection;e&&!e.isInRestartIce&&(e.isInRestartIce=!0,_.debug(\"[\".concat(this.store.clientId,\"] [P2PChannel-\").concat(e.name,\"] start use restartICE\")),t===cn.SEND_ONLY?this.restartICE(t):Ge(this,tt.RequestP2PRestartICE,{direction:cn.SEND_ONLY}));}filterTobeMutedTracks(t){let e=[];if(this.getAllTracks().indexOf(t)===-1)return e;let n=this.localTrackMap.get(U.LocalAudioTrack);if(t instanceof Qt&&n?.track instanceof ge)return n.track.isActive||e.push([U.LocalAudioTrack,n]),e;let i=Array.from(this.localTrackMap.entries()).find(r=>{let[,{track:o}]=r;return t===o});if(i&&(e.push(i),i[0]===U.LocalVideoTrack)){let r=this.localTrackMap.get(U.LocalVideoLowTrack);r&&e.push([U.LocalVideoLowTrack,r]);}return e}filterTobeUnmutedTracks(t){let e=[],n=this.localTrackMap.get(U.LocalAudioTrack);if(t instanceof Qt&&n?.track instanceof ge)return n.track.isActive&&e.push([U.LocalAudioTrack,n]),e;let i=Array.from(this.localTrackMap.entries()).find(r=>{let[,{track:o}]=r;return t===o});if(i)if(i[0]===U.LocalVideoTrack){e.push(i);let r=this.localTrackMap.get(U.LocalVideoLowTrack);r&&e.push([U.LocalVideoLowTrack,r]);}else e.push(i);return e}createMuteMessage(t){return t.map(e=>{var n;let i,[r,{track:o,ssrcs:s,id:a}]=e;switch(r){case U.LocalAudioTrack:i=Ct.Audio;break;case U.LocalVideoTrack:i=W(n=o._hints).call(n,Gt.SCREEN_TRACK)?Ct.Screen:Ct.High;break;case U.LocalVideoLowTrack:i=Ct.Low;}return {stream_type:i,ssrcs:s,mid:a}})}createUnmuteMessage(t){return t.map(e=>{var n;let i,[r,{track:o,ssrcs:s,id:a}]=e;switch(r){case U.LocalAudioTrack:i=Ct.Audio;break;case U.LocalVideoTrack:i=W(n=o._hints).call(n,Gt.SCREEN_TRACK)?Ct.Screen:Ct.High;break;case U.LocalVideoLowTrack:i=Ct.Low;}return {stream_type:i,ssrcs:s,mid:a}})}filterTobeUnSubscribedTracks(t,e){let n=[],i=this.remoteUserMap.get(t);if(!i)return n;if(e){let r=i.get(e);if(!r)return n;n.push([t,{kind:e,id:r}]);}else Array.from(i.entries()).forEach(r=>{let[o,s]=r;n.push([t,{kind:o,id:s}]);});return n}createUnsubscribeMessage(t){let e=[];return t.forEach(n=>{let[i,{kind:r,id:o}]=n;switch(r){case Q.VIDEO:return void(i._videoSSRC&&e.push({stream_type:Q.VIDEO,ssrcId:i._videoSSRC}));case Q.AUDIO:return void(i._audioSSRC&&e.push({stream_type:Q.AUDIO,ssrcId:i._audioSSRC}))}}),e}withdrawRemoteTracks(t){t.forEach(e=>{let[n,{kind:i}]=e,r=this.remoteUserMap.get(n);r&&(r.delete(i),Array.from(r.entries()).length===0&&this.remoteUserMap.delete(n));});}async updateBitrateLimit(t){let e=this.localTrackMap.get(U.LocalVideoTrack),n=this.localTrackMap.get(U.LocalVideoLowTrack);e&&await e.track.setBitrateLimit(t.uplink),n&&t.low_stream_uplink&&await n.track.setBitrateLimit({max_bitrate:t.low_stream_uplink.bitrate,min_bitrate:t.low_stream_uplink.bitrate||0});}isP2PDisconnected(){if(this.sendConnection&&this.recvConnection){let t=this.sendConnection.peerConnectionState,e=this.recvConnection.peerConnectionState;return t!==\"connected\"&&e!==\"connected\"}return !0}async tryToUnmuteAudio(t){for(let e=0;e<t.length;e++)if(t[e]instanceof Qt){let n=this.filterTobeUnmutedTracks(t[e]);if(n.length===0)continue;let i=this.createUnmuteMessage(n);return void await kt(this,tt.RequestUnmuteLocal,i)}}bindStatsUploaderEvents(){this.statsUploader.requestStats=t=>this.getStats(t),this.statsUploader.requestLocalMedia=()=>Array.from(this.localTrackMap.entries()).filter(t=>{let[,{ssrcs:e}]=t;return !!e}),this.statsUploader.requestRemoteMedia=()=>Array.from(this.remoteUserMap.entries()),this.statsUploader.requestVideoIsReady=t=>{var e;return !((e=this.recvConnection)===null||e===void 0||!e.getRemoteVideoIsReady(t))},this.statsUploader.requestUpload=(t,e)=>this.emit(tt.RequestUpload,t,e),this.statsUploader.requestUploadStats=t=>this.emit(tt.RequestUploadStats,t),this.statsUploader.requestAllTracks=()=>this.getAllTracks();}unbindStatsUploaderEvents(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0;}async requestReconnect(){this.dtlsFailedCount+=1,await Me(hf(this.dtlsFailedCount,Ee)),this.emit(tt.RequestReconnect);}async reconnectP2P(){}canPublishLowStream(){return this.localTrackMap.has(U.LocalVideoTrack)||this.pendingLocalTracks.some(t=>t instanceof Ft)}throwIfTrackTypeNotMatch(t){if(t.filter(e=>e instanceof Ft).length>1)throw new N(R.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(t.filter(e=>e instanceof Qt).length>1&&(t.some(e=>e instanceof Qt&&e._bypassWebAudio)||!ft().webAudioMediaStreamDest))throw new N(R.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode\");for(let e of t){if(e instanceof Ft&&this.pendingLocalTracks.some(n=>n instanceof Ft))throw new N(R.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(e instanceof Qt&&this.pendingLocalTracks.some(n=>n instanceof Qt)&&(!ft().webAudioMediaStreamDest||e._bypassWebAudio||this.pendingLocalTracks.some(n=>n instanceof Qt&&n._bypassWebAudio)))throw new N(R.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode\")}}getLowVideoTrack(t,e){let n=!v(\"DISABLE_DUAL_STREAM_USE_ENCODING\")&&ft().supportDualStreamEncoding,i=Yd(Yd({},{width:160,height:120,framerate:15,bitrate:50}),e),r;r=n?t._mediaStreamTrack.clone():dm(t,i);let o=Ut(8,\"track-low-\"),s=new Ft(r,Yd(Yd({},n&&{scaleResolutionDownBy:GE(i,t)}),{},{frameRate:i.framerate,bitrateMax:i.bitrate,bitrateMin:i.bitrate}),void 0,void 0,o);return s.on(Ko.TRANSCEIVER_UPDATED,a=>{t._updateRtpTransceiver(a,na.LOW_STREAM);}),s._hints.push(Gt.LOW_STREAM),t.addListener(H.NEED_CLOSE,()=>{s.close();}),s}async globalLock(){return this.recvMutex.lock(\"From P2PChannel2.globalLock\")}reportVideoFirstFrameDecoded(t,e,n,i){var r;let o=Array.from(xn(r=this.remoteUserMap).call(r)).find(s=>s._videoSSRC===t);if(o){i||this.store.subscribe(o.uid,\"video\",void 0,void 0,void 0,void 0,Date.now());let s=this.store.keyMetrics,a=s.subscribe.find(c=>c.userId===o.uid&&c.type===\"video\");X.firstRemoteVideoDecode(this.store.sessionId,De.FIRST_VIDEO_DECODE,Jt.FIRST_VIDEO_DECODE,{peer:o._uintid,videowidth:e,videoheight:n,subscribeElapse:qe.measureFromSubscribeStart(this.store.clientId,t),subscribeRequestid:t,p2pid:this.store.p2pId,apEnd:s.requestAPEnd||0,apStart:s.requestAPStart||0,joinGwEnd:s.joinGatewayEnd||0,joinGwStart:s.joinGatewayStart||0,pcEnd:s.peerConnectionEnd||0,pcStart:s.peerConnectionStart||0,subscriberEnd:a?.subscribeEnd||0,subscriberStart:a?.subscribeStart||0,videoAddNotify:a?.streamAdded||0,state:i?1:0});}}async remoteMediaSsrcChanged(t,e,n){if(!this.recvConnection)return !1;let i=this.remoteUserMap.get(t);if(!i)return !1;let r=i.get(e);if(!r)return !1;let o=await this.recvConnection.getRemoteSSRC(r);return o!==void 0&&o!==n}isPreSubScribe(t){return !1}async publishDataChannel(t){throw new N(R.NOT_SUPPORTED)}async unpublishDataChannel(t){throw new N(R.NOT_SUPPORTED)}async subscribeDataChannel(t,e){throw new N(R.NOT_SUPPORTED)}async unsubscribeDataChannel(t,e){throw new N(R.NOT_SUPPORTED)}hasPendingRemoteDataChannel(t,e){throw new N(R.NOT_SUPPORTED)}setPendingRemoteDataChannel(t,e){throw new N(R.NOT_SUPPORTED)}async preConnect(t){throw new N(R.NOT_SUPPORTED)}getEstablishParams(){throw new N(R.NOT_SUPPORTED)}async reSubscribe(t){throw new N(R.NOT_SUPPORTED)}async updateVideoStreamParameter(t,e){throw new N(R.NOT_SUPPORTED)}unbindRtpTransceiver(){this.localTrackMap.size!==0&&Array.from(this.localTrackMap.entries()).forEach(t=>{let[e,{track:n}]=t;e===U.LocalVideoLowTrack?n._updateRtpTransceiver(void 0,na.LOW_STREAM):n._updateRtpTransceiver(void 0);});}},q(Ht.prototype,\"p2pConnect\",[Tv],Object.getOwnPropertyDescriptor(Ht.prototype,\"p2pConnect\"),Ht.prototype),q(Ht.prototype,\"unpublish\",[Sv],Object.getOwnPropertyDescriptor(Ht.prototype,\"unpublish\"),Ht.prototype),q(Ht.prototype,\"unpublishLowStream\",[Rv],Object.getOwnPropertyDescriptor(Ht.prototype,\"unpublishLowStream\"),Ht.prototype),q(Ht.prototype,\"subscribe\",[Cv],Object.getOwnPropertyDescriptor(Ht.prototype,\"subscribe\"),Ht.prototype),q(Ht.prototype,\"mockSubscribe\",[Iv],Object.getOwnPropertyDescriptor(Ht.prototype,\"mockSubscribe\"),Ht.prototype),q(Ht.prototype,\"unsubscribe\",[vv],Object.getOwnPropertyDescriptor(Ht.prototype,\"unsubscribe\"),Ht.prototype),q(Ht.prototype,\"muteRemote\",[yv],Object.getOwnPropertyDescriptor(Ht.prototype,\"muteRemote\"),Ht.prototype),q(Ht.prototype,\"unmuteRemote\",[Av],Object.getOwnPropertyDescriptor(Ht.prototype,\"unmuteRemote\"),Ht.prototype),q(Ht.prototype,\"hasRemoteMediaWithLock\",[bv],Object.getOwnPropertyDescriptor(Ht.prototype,\"hasRemoteMediaWithLock\"),Ht.prototype),q(Ht.prototype,\"disconnectForReconnect\",[wv],Object.getOwnPropertyDescriptor(Ht.prototype,\"disconnectForReconnect\"),Ht.prototype),q(Ht.prototype,\"remoteMediaSsrcChanged\",[Ov],Object.getOwnPropertyDescriptor(Ht.prototype,\"remoteMediaSsrcChanged\"),Ht.prototype),Ht);function Pi(t){return function(e,n,i){let r=e[n];if(typeof r!=\"function\")throw new Error(\"Cannot use mutex on object property.\");return i.value=async function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];switch(t){case Ui.SEND_ONLY:{let c=await this.sendMutex.lock(\"From P2PChannel2.\".concat(n));try{return await r.apply(this,s)}finally{c();}}case Ui.RECEIVE_ONLY:{let c=await this.recvMutex.lock(\"From P2PChannel2.\".concat(n));try{return await r.apply(this,s)}finally{c();}}default:{let c=await this.sendMutex.lock(\"From P2PChannel2.\".concat(n)),d=await this.recvMutex.lock(\"From P2PChannel2.\".concat(n));try{return await r.apply(this,s)}finally{c(),d();}}}},i}}function Dv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function wo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dv(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dv(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var _u=class t{constructor(e){T(this,\"store\",void 0),T(this,\"onStatsException\",void 0),T(this,\"onUploadPublishDuration\",void 0),T(this,\"onStatsChanged\",void 0),T(this,\"localStats\",new Map),T(this,\"remoteStats\",new Map),T(this,\"updateStatsInterval\",void 0),T(this,\"trafficStats\",void 0),T(this,\"trafficStatsPeerList\",[]),T(this,\"uplinkStats\",void 0),T(this,\"exceptionMonitor\",void 0),T(this,\"p2pChannel\",void 0),T(this,\"scalabilityMode\",xE.L1T1),T(this,\"updateStats\",()=>{this.p2pChannel&&(this.updateRemoteStats(this.p2pChannel),this.updateLocalStats(this.p2pChannel));}),this.store=e,this.exceptionMonitor=new rm,this.exceptionMonitor.on(\"exception\",(n,i,r)=>{this.onStatsException&&this.onStatsException(n,i,r);});}startUpdateStats(){this.updateStatsInterval||(this.updateStatsInterval=window.setInterval(this.updateStats,1e3));}stopUpdateStats(){this.updateStatsInterval&&(window.clearInterval(this.updateStatsInterval),this.updateStatsInterval=void 0);}reset(){this.localStats=new Map,this.remoteStats=new Map,this.trafficStats=void 0,this.trafficStatsPeerList=[],this.uplinkStats=void 0;}getLocalAudioTrackStats(){return this.localStats.get(U.LocalAudioTrack)||wo({},KE)}getLocalVideoTrackStats(){return this.localStats.get(U.LocalVideoTrack)||wo({},YE)}getRemoteAudioTrackStats(e){let n=(o,s)=>{if(!this.trafficStats)return s;let a=this.trafficStats.peer_delay.find(c=>c.peer_uid===o);return a&&(s.publishDuration=a.B_ppad+(Date.now()-this.trafficStats.timestamp)),s},i={};if(e){var r;let o=(r=this.remoteStats.get(e))===null||r===void 0?void 0:r.audioStats;o&&(i[e]=n(e,o));}else Array.from(this.remoteStats.entries()).forEach(o=>{let[s,{audioStats:a}]=o;a&&(i[s]=n(s,a));});return i}getRemoteNetworkQualityStats(e){let n={};if(e){var i;let r=(i=this.remoteStats.get(e))===null||i===void 0?void 0:i.networkStats;r&&(n[e]=r);}else Array.from(this.remoteStats.entries()).forEach(r=>{let[o,{networkStats:s}]=r;s&&(n[o]=s);});return n}getRemoteVideoTrackStats(e){let n=(o,s)=>{if(!this.trafficStats)return s;let a=this.trafficStats.peer_delay.find(c=>c.peer_uid===o);return a&&(s.publishDuration=a.B_ppvd+(Date.now()-this.trafficStats.timestamp)),s},i={};if(e){var r;let o=(r=this.remoteStats.get(e))===null||r===void 0?void 0:r.videoStats;o&&(i[e]=n(e,o));}else Array.from(this.remoteStats.entries()).forEach(o=>{let[s,{videoStats:a}]=o;a&&(i[s]=n(s,a));});return i}getRTCStats(){let e=0,n=0,i=0,r=0,o=this.localStats.get(U.LocalAudioTrack);o&&(e+=o.sendBytes,n+=o.sendBitrate);let s=this.localStats.get(U.LocalVideoTrack);s&&(e+=s.sendBytes,n+=s.sendBitrate);let a=this.localStats.get(U.LocalVideoLowTrack);a&&(e+=a.sendBytes,n+=a.sendBitrate),this.remoteStats.forEach(d=>{let{audioStats:l,videoStats:u}=d;l&&(i+=l.receiveBytes,r+=l.receiveBitrate),u&&(i+=u.receiveBytes,r+=u.receiveBitrate);});let c=1;return this.trafficStats&&(c+=this.trafficStats.peer_delay.length),{Duration:0,UserCount:c,SendBitrate:n,SendBytes:e,RecvBytes:i,RecvBitrate:r,OutgoingAvailableBandwidth:this.uplinkStats?this.uplinkStats.B_uab/1e3:0,RTT:this.trafficStats?2*this.trafficStats.B_acd:0}}addLocalStats(e){this.localStats.set(e,void 0);}removeLocalStats(e){e?this.localStats.delete(e):this.localStats.clear();}addRemoteStats(e){this.remoteStats.set(e,{});}removeRemoteStats(e){e?this.remoteStats.delete(e):this.remoteStats.clear();}addP2PChannel(e){this.p2pChannel=e;}updateTrafficStats(e){e.peer_delay=e.peer_delay.filter(n=>n.B_ppad!==void 0||n.B_ppvd!==void 0),e.peer_delay.filter(n=>this.trafficStatsPeerList.indexOf(n.peer_uid)===-1).forEach(n=>{var i;let r=(i=this.p2pChannel)===null||i===void 0?void 0:i.getRemoteMedia(n.peer_uid),o=r!=null&&r.videoSSRC?qe.measureFromSubscribeStart(this.store.clientId,r.videoSSRC):0,s=r!=null&&r.audioSSRC?qe.measureFromSubscribeStart(this.store.clientId,r.audioSSRC):0;n.B_ppad!==void 0&&n.B_ppvd!==void 0&&(this.onUploadPublishDuration&&this.onUploadPublishDuration(n.peer_uid,n.B_ppad,n.B_ppvd,o>s?o:s),this.trafficStatsPeerList.push(n.peer_uid));}),this.trafficStats=e;}updateUplinkStats(e){this.uplinkStats&&this.uplinkStats.B_fir!==e.B_fir&&_.debug(\"[\".concat(this.store.clientId,\"]: Period fir changes to \").concat(e.B_fir)),this.uplinkStats=e;}static isRemoteVideoFreeze(e,n,i){if(!e)return !1;let r=!!i&&n.framesDecodeFreezeTime>i.framesDecodeFreezeTime,o=!i||n.framesDecodeCount>i.framesDecodeCount;return r||!o}static isRemoteAudioFreeze(e){return !!e&&e._isFreeze()}isLocalVideoFreeze(e){return !(!e.inputFrame||!e.sentFrame)&&e.inputFrame.frameRate>5&&e.sentFrame.frameRate<3}updateLocalStats(e){Array.from(this.localStats.entries()).forEach(n=>{let[i,r]=n;switch(i){case U.LocalVideoTrack:case U.LocalVideoLowTrack:{let s=r,a=wo({},YE),c=e.getStats(),d=e.getLocalMedia(i);if(c){let l=c.videoSend.find(u=>u.ssrc===d?.ssrcs[0].ssrcId);if(l){let u=e.getLocalVideoSize(),h=e.getEncoderConfig(U.LocalVideoTrack);l.codec!==\"H264\"&&l.codec!==\"H265\"&&l.codec!==\"VP8\"&&l.codec!==\"VP9\"&&l.codec!==\"AV1X\"&&l.codec!==\"AV1\"||(a.codecType=l.codec),a.sendBytes=l.bytes,a.sendBitrate=s?8*Math.max(0,a.sendBytes-s.sendBytes):0,l.inputFrame?(a.captureFrameRate=l.inputFrame.frameRate,a.captureResolutionHeight=l.inputFrame.height,a.captureResolutionWidth=l.inputFrame.width):u&&(a.captureResolutionWidth=u.width,a.captureResolutionHeight=u.height),l.sentFrame?(a.sendFrameRate=l.sentFrame.frameRate,a.sendResolutionHeight=l.sentFrame.height,a.sendResolutionWidth=l.sentFrame.width):u&&(a.sendResolutionWidth=u.width,a.sendResolutionHeight=u.height),l.avgEncodeMs&&(a.encodeDelay=l.avgEncodeMs),h&&h.bitrateMax&&(a.targetSendBitrate=1e3*h.bitrateMax),a.sendPackets=l.packets,a.sendPacketsLost=l.packetsLost,a.sendJitterMs=l.jitterMs,a.sendRttMs=l.rttMs,a.totalDuration=s?s.totalDuration+1:1,a.totalFreezeTime=s?s.totalFreezeTime:0,this.isLocalVideoFreeze(l)&&(a.totalFreezeTime+=1),l.scalabilityMode&&this.scalabilityMode!==l.scalabilityMode&&(_.debug(\"[\".concat(this.store.clientId,\"]: The scalabilityMode of the video sending stream is \").concat(l.scalabilityMode)),this.scalabilityMode=l.scalabilityMode);}this.trafficStats&&(a.currentPacketLossRate=(this.trafficStats.B_pvlr4||0)/100);}var o;this.localStats.set(i,a),(s?.sendResolutionWidth!==a.sendResolutionWidth||s?.sendResolutionHeight!==a.sendResolutionHeight)&&((o=this.onStatsChanged)===null||o===void 0||o.call(this,\"resolution\",{width:a.sendResolutionWidth,height:a.sendResolutionHeight})),a&&d&&this.exceptionMonitor.setLocalVideoStats(this.store.uid,d.track,a);break}case U.LocalAudioTrack:{let s=r,a=wo({},KE),c=e.getStats(),d=e.getLocalMedia(i);if(c){let l=c.audioSend.find(u=>u.ssrc===d?.ssrcs[0].ssrcId);if(l){if(l.codec!==\"opus\"&&l.codec!==\"aac\"&&l.codec!==\"PCMU\"&&l.codec!==\"PCMA\"&&l.codec!==\"G722\"||(a.codecType=l.codec),l.inputLevel)a.sendVolumeLevel=Math.round(32767*l.inputLevel);else {let u=e.getLocalAudioVolume();u&&(a.sendVolumeLevel=Math.round(32767*u));}a.sendBytes=l.bytes,a.sendPackets=l.packets,a.sendPacketsLost=l.packetsLost,a.sendJitterMs=l.jitterMs,a.sendRttMs=l.rttMs,a.sendBitrate=s?8*Math.max(0,a.sendBytes-s.sendBytes):0;}}this.trafficStats&&(a.currentPacketLossRate=(this.trafficStats.B_palr4||0)/100),this.localStats.set(U.LocalAudioTrack,a),a&&d&&this.exceptionMonitor.setLocalAudioStats(this.store.uid,d.track,a);break}}});}updateRemoteStats(e){Array.from(this.remoteStats.entries()).forEach(n=>{var i,r;let[o,{videoStats:s,audioStats:a,videoPcStats:c}]=n,d=a,l=s,u=c,h=wo({},GO),p=wo({},WO),g=wo({},kG),{audioTrack:E,videoTrack:f,audioSSRC:S,videoSSRC:C}=e.getRemoteMedia(o),A;A=e instanceof An?e.getStats(!0):e.getStats();let b=(i=A)===null||i===void 0?void 0:i.audioRecv.find(k=>k.ssrc===S),w=(r=A)===null||r===void 0?void 0:r.videoRecv.find(k=>k.ssrc===C),D=this.trafficStats&&this.trafficStats.peer_delay.find(k=>k.peer_uid===o);if(b&&(b.codec!==\"opus\"&&b.codec!==\"aac\"&&b.codec!==\"PCMU\"&&b.codec!==\"PCMA\"&&b.codec!==\"G722\"||(h.codecType=b.codec),b.outputLevel?h.receiveLevel=Math.round(32767*b.outputLevel):E&&(h.receiveLevel=Math.round(32767*E.getVolumeLevel())),h.receiveBytes=b.bytes,h.receivePackets=b.packets,h.receivePacketsLost=b.packetsLost,h.receivePacketsDiscarded=b.packetsDiscarded,h.packetLossRate=h.receivePacketsLost/(h.receivePackets+h.receivePacketsLost),h.receiveBitrate=d?8*Math.max(0,h.receiveBytes-d.receiveBytes):0,h.totalDuration=d?d.totalDuration+1:1,h.totalFreezeTime=d?d.totalFreezeTime:0,h.freezeRate=h.totalFreezeTime/h.totalDuration,h.receiveDelay=b.jitterBufferMs,h.totalDuration>10&&t.isRemoteAudioFreeze(E)&&(h.totalFreezeTime+=1)),w){w.codec!==\"H264\"&&w.codec!==\"H265\"&&w.codec!==\"VP8\"&&w.codec!==\"VP9\"&&w.codec!==\"AV1X\"&&w.codec!==\"AV1\"||(p.codecType=w.codec),p.receiveBytes=w.bytes,p.receiveBitrate=l?8*Math.max(0,p.receiveBytes-l.receiveBytes):0,p.decodeFrameRate=w.decodeFrameRate<0?0:w.decodeFrameRate,p.renderFrameRate=w.decodeFrameRate<0?0:w.decodeFrameRate,w.outputFrame&&(p.renderFrameRate=w.outputFrame.frameRate),w.receivedFrame?(p.receiveFrameRate=w.receivedFrame.frameRate,p.receiveResolutionHeight=w.receivedFrame.height,p.receiveResolutionWidth=w.receivedFrame.width):f&&(p.receiveResolutionHeight=f._videoHeight||0,p.receiveResolutionWidth=f._videoWidth||0),w.framesRateFirefox!==void 0&&(p.receiveFrameRate=Math.round(w.framesRateFirefox)),p.receivePackets=w.packets,p.receivePacketsLost=w.packetsLost,p.packetLossRate=p.receivePacketsLost/(p.receivePackets+p.receivePacketsLost),p.totalDuration=l?l.totalDuration+1:1,p.totalFreezeTime=l?l.totalFreezeTime:0,p.receiveDelay=w.jitterBufferMs||0;let k=!!C&&e.getRemoteVideoIsReady(C);f&&k&&t.isRemoteVideoFreeze(f,w,u)&&(p.totalFreezeTime+=1),p.freezeRate=p.totalFreezeTime/p.totalDuration;}D&&(h.end2EndDelay=D.B_ad,p.end2EndDelay=D.B_vd,h.transportDelay=D.B_ed,p.transportDelay=D.B_ed,h.currentPacketLossRate=D.B_ealr4/100,p.currentPacketLossRate=D.B_evlr4/100,g.uplinkNetworkQuality=D.B_punq?D.B_punq:0,g.downlinkNetworkQuality=D.B_pdnq?D.B_pdnq:0),this.remoteStats.set(o,{audioStats:h,videoStats:p,videoPcStats:w,networkStats:g}),E&&this.exceptionMonitor.setRemoteAudioStats(E,h),f&&this.exceptionMonitor.setRemoteVideoStats(f,p);});}},Eu=class{constructor(){T(this,\"destChannelMediaInfos\",new Map),T(this,\"srcChannelMediaInfo\",void 0);}setSrcChannelInfo(e){MR(e),this.srcChannelMediaInfo=e;}addDestChannelInfo(e){MR(e),this.destChannelMediaInfos.set(e.channelName,e);}removeDestChannelInfo(e){Xu(e),this.destChannelMediaInfos.delete(e);}getSrcChannelMediaInfo(){return this.srcChannelMediaInfo}getDestChannelMediaInfo(){return this.destChannelMediaInfos}};function Pv(t){if(!(t instanceof Eu))return new O(R.INVALID_PARAMS,\"Config should be instance of [ChannelMediaRelayConfiguration]\").throw();let e=t.getSrcChannelMediaInfo(),n=t.getDestChannelMediaInfo();if(!e)return new O(R.INVALID_PARAMS,\"srcChannelMediaInfo should not be empty\").throw();if(n.size===0)return new O(R.INVALID_PARAMS,\"destChannelMediaInfo should not be empty\").throw()}function kv(t){var e={},n=!1;function i(r,o){return n=!0,{done:!1,value:new Of(o=new om(function(s){s(t[r](o));}),1)}}return e[Ds!==void 0&&zw||\"@@iterator\"]=function(){return this},e.next=function(r){return n?(n=!1,r):i(\"next\",r)},typeof t.throw==\"function\"&&(e.throw=function(r){if(n)throw n=!1,r;return i(\"throw\",r)}),typeof t.return==\"function\"&&(e.return=function(r){return n?(n=!1,r):i(\"return\",r)}),e}var hW=ae(p0);function Lv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function Mv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lv(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lv(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var Pt;function Uv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function qd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uv(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uv(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var Va=(Pt=class Xa extends Yl{get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get localCodecs(){return [...new Set(this.localCapabilities&&this.localCapabilities.videoCodecs.map(e=>e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||\"\").filter(e=>{var n;return W(n=Object.keys(Ju)).call(n,e)}))]}constructor(e,n){super(e,n),T(this,\"store\",void 0),T(this,\"peerConnection\",void 0),T(this,\"remoteSDP\",void 0),T(this,\"initialOffer\",void 0),T(this,\"statsFilter\",void 0),T(this,\"useRTX\",!1),T(this,\"localCapabilities\",void 0),T(this,\"localCandidateCount\",0),T(this,\"allCandidatesReceived\",!1),T(this,\"establishPromise\",void 0),T(this,\"mutex\",new ze(\"P2PConnection-mutex\")),this.store=n,this.peerConnection=new RTCPeerConnection(Xa.resolvePCConfiguration(e),{optional:[{googDscp:!0}]}),this.statsFilter=Nf(this.peerConnection,v(\"STATS_UPDATE_INTERVAL\"),void 0,$t()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,this.establishPromise=this.establish();}async establish(){try{let e=await this.peerConnection.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});if(!e.sdp)throw new Error(\"Cannot get initialOffer.sdp when trying to establish PeerConnection.\");let n=io(e.sdp),i=Lc(e.sdp,{filterRTX:!this.useRTX,filterVideoFec:v(\"FILTER_VIDEO_FEC\"),filterAudioFec:v(\"FILTER_AUDIO_FEC\"),filterAudioCodec:[\"opus\"]});return this.localCapabilities=i,this.initialOffer=e,qd(qd({},n),{},{rtpCapabilities:{send:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},recv:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},sendrecv:i},offerSDP:e.sdp})}catch(e){throw new N(R.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}}async updateRemoteConnect(){}async connect(e){try{if(!this.initialOffer)throw new Error(\"Cannot establish P2PConnection without initial offer.\");this.remoteSDP=new class{constructor(i){T(this,\"sessionDesc\",void 0),T(this,\"localCapabilities\",void 0),T(this,\"rtpCapabilities\",void 0),T(this,\"candidates\",void 0),T(this,\"iceParameters\",void 0),T(this,\"dtlsParameters\",void 0),T(this,\"setup\",void 0),T(this,\"currentMidIndex\",void 0),T(this,\"cname\",void 0),i=le(i);let{iceParameters:r,dtlsParameters:o,candidates:s,rtpCapabilities:a,setup:c,localCapabilities:d,sdkCodec:l,cname:u}=i,h=Le.parse(`v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE audio video\na=msid-semantic: WMS\na=ice-lite\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendrecv\na=rtcp-mux\na=rtcp-rsize\na=mid:audio\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendrecv\na=rtcp-mux\na=rtcp-rsize\na=mid:video\n`);this.rtpCapabilities=a,this.candidates=s,this.iceParameters=r,this.dtlsParameters=o,this.setup=c,this.localCapabilities=d,this.cname=u;for(let p=0;p<h.mediaDescriptions.length;p++){let g=h.mediaDescriptions[p];if(g.attributes.iceUfrag=r.iceUfrag,g.attributes.icePwd=r.icePwd,g.attributes.fingerprints=o.fingerprints,g.attributes.candidates=s,g.attributes.setup=c,g.media.mediaType===\"video\"){g.media.fmts=a.videoCodecs.map(f=>f.payloadType.toString(10));let E=a.videoCodecs.filter(f=>{var S,C;return (S=f.rtpMap)===null||S===void 0?void 0:W(C=S.encodingName.toLowerCase()).call(C,l)});E.length===0&&(E=a.videoCodecs),g.attributes.payloads=E,g.attributes.extmaps=a.videoExtensions;}g.media.mediaType===\"audio\"&&(g.media.fmts=a.audioCodecs.map(E=>E.payloadType.toString(10)),g.attributes.payloads=a.audioCodecs,g.attributes.extmaps=a.audioExtensions),h.mediaDescriptions[p]=this.mungMediaDesc(g);}this.sessionDesc=h,this.currentMidIndex=h.mediaDescriptions.length-1;}toString(){return Le.print(this.sessionDesc)}send(i,r,o){let{ssrcs:s,ssrcGroups:a}=Lo(r,this.cname),c=this.sessionDesc.mediaDescriptions.find(u=>i===Q.VIDEO?u.media.mediaType===\"video\":u.media.mediaType===\"audio\"),d=s[0].attributes.label,l=s[0].attributes.mslabel;return c.attributes.ssrcs=c.attributes.ssrcs.concat(s),c.attributes.ssrcGroups=c.attributes.ssrcGroups.concat(a),{id:d,mslabel:l}}batchSend(i){return i.map(r=>{let{kind:o,ssrcMsg:s}=r;return this.send(o,s,void 0)})}stopSending(i){this.sessionDesc.mediaDescriptions.forEach(r=>{let o=[],s=[],a=[];r.attributes.ssrcs.forEach(c=>{W(i).call(i,c.attributes.label||\"\")?a.push(c):o.push(c);}),r.attributes.ssrcGroups.forEach(c=>{var d;W(d=a.map(l=>l.ssrcId)).call(d,c.ssrcIds[0])||s.push(c);}),r.attributes.ssrcs=o,r.attributes.ssrcGroups=s;});}mute(i){let r=this.sessionDesc.mediaDescriptions.find(o=>o.attributes.mid===i);if(!r)throw new Error(\"mediaDescription not found with \".concat(i,\" in remote SDP when calling RemoteSDP.mute.\"));r.attributes.direction=\"inactive\";}unmute(i){let r=this.sessionDesc.mediaDescriptions.find(o=>o.attributes.mid===i);if(!r)throw new Error(\"mediaDescription not found with \".concat(i,\" in remote SDP when calling RemoteSDP.unmute.\"));r.attributes.direction=\"sendonly\";}receive(i,r,o){i.forEach((s,a)=>{let c=s._mediaStreamTrack,d=this.sessionDesc.mediaDescriptions.findIndex(u=>u.attributes.mid===c.kind),l=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[d],s);this.sessionDesc.mediaDescriptions[d]=l;});}stopReceiving(i){}updateCandidates(i){i===On.TCP?this.candidates.forEach(r=>{this.candidates.findIndex(o=>o.transport===\"tcp\"&&o.connectionAddress===r.connectionAddress&&o.port===r.port)===-1&&this.candidates.push(Mv(Mv({},r),{},{foundation:\"tcpcandidate\",priority:Number(r.priority)-1+\"\",transport:\"tcp\",port:Number(r.port)+90+\"\"}));}):this.candidates=this.candidates.filter(r=>r.transport!==\"tcp\");for(let r of this.sessionDesc.mediaDescriptions)r.attributes.candidates=this.candidates;}restartICE(i){i=le(i),this.iceParameters=i,this.sessionDesc.mediaDescriptions.forEach(r=>{r.attributes.iceUfrag=i.iceUfrag,r.attributes.icePwd=i.icePwd;});}predictReceivingMids(i){let r=[];for(let o=0;o<i;o++)r.push((this.currentMidIndex+o+1).toString(10));return r}mungRecvMediaDsec(i,r){let o=le(i);return ra(o,r),vf(o,r),o}updateRecvMedia(i,r){let o=this.sessionDesc.mediaDescriptions.findIndex(s=>s.attributes.mid===i);if(o!==-1){let s=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[o],r);this.sessionDesc.mediaDescriptions[o]=s;}}bumpMid(i){this.currentMidIndex+=i;}updateTrackLabel(i,r,o){let s=this.sessionDesc.mediaDescriptions.find(c=>i===Q.VIDEO?c.attributes.mid===\"video\":c.attributes.mid===\"audio\");if(s){let c=s.attributes.ssrcs.find(d=>d.attributes.label===r);var a;c&&(c.attributes.label=o,(a=c.attributes.msid)===null||a===void 0||a.replace(r,o));}}mungMediaDesc(i){let r=le(i);return If(r),function(o){let s=o.attributes.extmaps.find(a=>a.extensionName===\"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\");s&&o.attributes.extmaps.splice(o.attributes.extmaps.indexOf(s),1),o.attributes.payloads.forEach(a=>{let c=a.rtcpFeedbacks.findIndex(d=>d.type===\"transport-cc\");c!==-1&&a.rtcpFeedbacks.splice(c,1);});}(r),r}getSSRC(i){for(let r of this.sessionDesc.mediaDescriptions)for(let o of r.attributes.ssrcs)if(o.attributes.label===i)return [o]}}(qd(qd({},e),{},{rtpCapabilities:e.rtpCapabilities.send,localCapabilities:this.localCapabilities,sdkCodec:this.store.codec}));let n=this.remoteSDP.toString();await this.peerConnection.setLocalDescription(this.initialOffer),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:n});}catch(n){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.connect failed; \".concat(n.toString()))}}async updateRemoteRTPCapabilities(e,n){throw new N(R.NOT_SUPPORTED,\"Planb mode does not support createDataChannels.\")}getPreMedia(e){}send(e,n){var i=this;return Bi(function*(){let r=yield Tt(i.mutex.lock());try{if(!i.remoteSDP)throw new Error(\"Cannot call P2PConnection.send before remote SDP created\");let o=e.map(h=>i.peerConnection.addTrack(h._mediaStreamTrack)),s=yield Tt(i.peerConnection.createOffer()),a=Le.parse(s.sdp),c=e.map(h=>{let p=h._mediaStreamTrack,g=a.mediaDescriptions.find(E=>E.attributes.mid===p.kind);if(!g)throw new Error(\"Cannot extract ssrc from mediaDescription.\");return function(E,f,S){let C=E.attributes.ssrcs.filter(b=>b.attributes.label===f),A=E.attributes.ssrcGroups;if(C.length===0)throw new Error(\"Cannot extract ssrc from plan-b SDP.\");if(A&&C.length>1){let b=A.find(w=>w.ssrcIds.indexOf(C[0].ssrcId)!==-1);return b?[{ssrcId:b.ssrcIds[0],rtx:S?b.ssrcIds[1]:void 0}]:[{ssrcId:C[0].ssrcId}]}return [{ssrcId:C[0].ssrcId}]}(g,p.id,i.useRTX)}),d;try{d=yield c;}catch(h){throw o.forEach(p=>{je()&&p.replaceTrack(null),i.peerConnection.removeTrack(p);}),h}let l=i.mungSendOfferSDP(s.sdp,e);i.remoteSDP.receive(e,n,d);let u=i.remoteSDP.toString();return yield Tt(i.peerConnection.setLocalDescription({type:\"offer\",sdp:l})),yield Tt(i.applySendEncodings(o,e)),yield Tt(i.peerConnection.setRemoteDescription({type:\"answer\",sdp:u})),e.map((h,p)=>{let g=h._mediaStreamTrack.id;return {localSSRC:c[p],id:g}})}catch(o){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.send failed; \".concat(o.toString()))}finally{r();}})()}async stopSending(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopSending before remote SDP created\");let n=this.peerConnection.getSenders().filter(o=>{var s;return e.indexOf(((s=o.track)===null||s===void 0?void 0:s.id)||\"\")!==-1});if(n.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.\");n.map(o=>{je()&&o.replaceTrack(null),this.peerConnection.removeTrack(o);});let i=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(i),this.remoteSDP.stopReceiving(e);let r=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:r});}catch(n){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.stopSending failed; \".concat(n.toString()))}}async receive(e,n,i,r){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.receive \".concat(e,\" before remoteSDP created.\"));let{id:o,mslabel:s}=this.remoteSDP.send(e,n,r),a=new j((l,u)=>{let h=setTimeout(()=>{u(new Error(\"Cannot receive track, id: \".concat(o)));},1e4),p=g=>{let E=mt();if((E.name===\"Safari\"&&Number(E.version)===11||ln())&&g.track.id!==o&&g.streams[0].id===s){var f;let S=g.streams[0].getTracks()[0];return (f=this.remoteSDP)===null||f===void 0||f.updateTrackLabel(e,o,g.track.id),this.peerConnection.removeEventListener(\"track\",p),clearTimeout(h),void l(S)}if(g.track.id===o)return this.peerConnection.removeEventListener(\"track\",p),clearTimeout(h),void l(g.track)};this.peerConnection.addEventListener(\"track\",p);}),c=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:c});let d=await this.peerConnection.createAnswer();return await this.peerConnection.setLocalDescription(d),{track:await a,id:o}}catch(o){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.receive failed; \".concat(o.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopReceiving before remote SDP created.\");this.remoteSDP.stopSending(e);let n=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:n});let i=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(i);}catch(n){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection stopReceiving failed; \".concat(n.toString()))}}async muteRemote(e){}async unmuteRemote(e){}async muteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.muteLocal before remote SDP created.\");let n=this.peerConnection.getSenders().filter(i=>{var r;return e.indexOf(((r=i.track)===null||r===void 0?void 0:r.id)||\"\")!==-1});if(n.length!==e.length)throw new Error(\"sender' length doesn't match mids' length.\");n.map(i=>{if(je()&&i.track)i.track.enabled=!1;else {let r=i.getParameters();r.encodings.forEach(o=>o.active=!1),i.setParameters(r);}});}catch(n){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.muteLocal failed; \".concat(n.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.unmuteLocal before remote SDP created.\");let n=this.peerConnection.getSenders().filter(o=>{var s;return e.indexOf(((s=o.track)===null||s===void 0?void 0:s.id)||\"\")!==-1});if(n.length!==e.length)throw new Error(\"Senders' length doesn't match mids' length.\");n.map(async o=>{if(je()&&o.track)o.track.enabled=!0;else {let s=o.getParameters();s.encodings.forEach(a=>a.active=!0),await o.setParameters(s);}});let i=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(i);let r=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:r});}catch(n){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.unmuteLocal failed; \".concat(n.toString()))}}restartICE(e){var n=this;return Bi(function*(){let i=yield Tt(n.mutex.lock(\"From P2PConnection.restartICE\"));try{if(!n.remoteSDP)throw new Error(\"Cannot restartICE before remoteSDP created.\");if(ft().supportPCSetConfiguration){let c=n.peerConnection.getConfiguration(),d=e===On.RELAY?\"relay\":\"all\";c.iceTransportPolicy!==d&&(_.debug(\"[\".concat(n.store.clientId,\"] restartICE change iceTransportPolicy from [\").concat(c.iceTransportPolicy,\"] to [\").concat(d,\"]\")),c.iceTransportPolicy=d,n.peerConnection.setConfiguration(c));}else if(e===On.RELAY)return;e!==On.RELAY&&n.remoteSDP.updateCandidates(e);let r=yield Tt(n.peerConnection.createOffer({iceRestart:!0}));if(!r.sdp)throw new Error(\"Cannot restartICE because restart offer SDP does not exist.\");let o=io(r.sdp),{remoteIceParameters:s}=yield o.iceParameters;n.remoteSDP.restartICE(s);let a=n.remoteSDP.toString();yield Tt(n.peerConnection.setLocalDescription(r)),yield Tt(n.peerConnection.setRemoteDescription({type:\"answer\",sdp:a}));}catch(r){_.warning(\"[\".concat(n.store.clientId,\"] restart ICE failed, abort operation\"),r);}finally{i();}})()}close(){var e;this.peerConnection.close(),(e=this.onConnectionStateChange)===null||e===void 0||e.call(this,\"closed\"),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.statsFilter.destroy();}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,n){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.updateEncoderConfig before remote SDP created.\");let i=await this.peerConnection.createOffer(),r=this.mungSendOfferSDP(i.sdp,[n]);this.remoteSDP.updateRecvMedia(n._mediaStreamTrack.kind,n);let o=this.remoteSDP.toString();await this.peerConnection.setLocalDescription({type:\"offer\",sdp:r}),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:o});}catch(i){throw new N(R.EXCHANGE_SDP_FAILED,i.toString())}}async updateSendParameters(e,n){let i=this.peerConnection.getSenders().filter(r=>{var o;return ((o=r.track)===null||o===void 0?void 0:o.id)===e});i.length===1&&await this.applySendEncodings(i,[n]);}setStatsRemoteVideoIsReady(e,n){this.statsFilter.setVideoIsReady2(e,n);}async replaceTrack(e,n){let i=this.peerConnection.getSenders().find(r=>{var o;return ((o=r.track)===null||o===void 0?void 0:o.id)===n});i&&await i.replaceTrack(e._mediaStreamTrack);}createDataChannels(e,n){throw new N(R.NOT_SUPPORTED,\"Planb mode does not support createDataChannels.\")}stopDataChannels(e){throw new N(R.NOT_SUPPORTED,\"Planb mode does not support stopDataChannels.\")}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e;(e=this.onICEConnectionStateChange)===null||e===void 0||e.call(this,this.peerConnection.iceConnectionState);},this.peerConnection.onconnectionstatechange=()=>{var e;(e=this.onConnectionStateChange)===null||e===void 0||e.call(this,this.peerConnection.connectionState);},this.peerConnection.onicecandidate=e=>{e.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,_.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] local candidate count\"),this.localCandidateCount));},setTimeout(()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,_.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] onicecandidate timeout, local candidate count\"),this.localCandidateCount));},v(\"CANDIDATE_TIMEOUT\"));}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null;}static resolvePCConfiguration(e){let n={iceServers:[],sdpSemantics:\"plan-b\"};return e.iceServers?n.iceServers=e.iceServers:e.turnServer&&e.turnServer.mode!==\"off\"&&(Yu(e.turnServer.servers)?n.iceServers=e.turnServer.servers:(n.iceServers&&n.iceServers.push(...Xa.turnServerConfigToIceServers(e.turnServer.servers)),v(\"USE_TURN_SERVER_OF_GATEWAY\")&&n.iceServers&&e.turnServer.serversFromGateway&&n.iceServers.push(...Xa.turnServerConfigToIceServers(e.turnServer.serversFromGateway)),e.turnServer.servers.concat(e.turnServer.serversFromGateway||[]).forEach(i=>{i.forceturn&&(n.iceTransportPolicy=\"relay\");}))),n}static turnServerConfigToIceServers(e){let n=[];return e.forEach(i=>{i.security?i.tcpport&&n.push({username:i.username,credential:i.password,credentialType:\"password\",urls:\"turns:\".concat(i.turnServerURL,\":\").concat(i.tcpport,\"?transport=tcp\")}):(i.udpport&&n.push({username:i.username,credential:i.password,credentialType:\"password\",urls:\"turn:\".concat(i.turnServerURL,\":\").concat(i.udpport,\"?transport=udp\")}),i.tcpport&&n.push({username:i.username,credential:i.password,credentialType:\"password\",urls:\"turn:\".concat(i.turnServerURL,\":\").concat(i.tcpport,\"?transport=tcp\")}));}),n}async updateRtpSenderEncodings(e,n){var i;if(n||(n=this.peerConnection.getSenders().find(d=>{var l;return ((l=d.track)===null||l===void 0?void 0:l.id)===e._mediaStreamTrack.id})),!n)return _.warn(\"[\".concat(e.getTrackId(),\"] no rtpSender found}\"));if(!ft().supportSetRtpSenderParameters)return _.warn(\"Browser not support set rtp-sender parameters\");let r={},o={};if(e instanceof Ft)switch(e._optimizationMode){case\"motion\":r.degradationPreference=\"maintain-framerate\";break;case\"detail\":r.degradationPreference=\"maintain-resolution\";break;default:r.degradationPreference=\"balanced\";}if(v(\"DSCP_TYPE\")&&ho()){var s;let d=v(\"DSCP_TYPE\");W(s=[\"very-low\",\"low\",\"medium\",\"high\"]).call(s,d)&&(o.networkPriority=d);}let a=n.getParameters(),c=(i=a.encodings)===null||i===void 0?void 0:i[0];c&&Object.assign(c,o),Object.assign(a,r),_.debug(\"[\".concat(e.getTrackId(),\"] updateRtpSenderEncodings: \").concat(JSON.stringify(a.encodings))),await n.setParameters(a);}async applySendEncodings(e,n){try{if(!ft().supportSetRtpSenderParameters||e.length!==n.length)return;for(let i=0;i<e.length;i++){let r=e[i],o=n[i];r&&o&&await this.updateRtpSenderEncodings(o,r);}}catch{_.debug(\"[\".concat(this.store.clientId,\"] Apply RTPSendEncodings failed.\"));}}mungSendOfferSDP(e,n){let i=Le.parse(e);return n.forEach((r,o)=>{let s=r._mediaStreamTrack,a=i.mediaDescriptions.find(c=>c.attributes.mid===s.kind);a&&ra(a,r);}),Le.print(i)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var n;(n=this.onFirstAudioReceived)===null||n===void 0||n.call(this,e);},this.statsFilter.onFirstVideoReceived=e=>{var n;(n=this.onFirstVideoReceived)===null||n===void 0||n.call(this,e);},this.statsFilter.onFirstAudioDecoded=e=>{var n;(n=this.onFirstAudioDecoded)===null||n===void 0||n.call(this,e);},this.statsFilter.onFirstVideoDecoded=(e,n,i)=>{var r;(r=this.onFirstVideoDecoded)===null||r===void 0||r.call(this,e,n,i);},this.statsFilter.onSelectedLocalCandidateChanged=(e,n)=>{var i;(i=this.onSelectedLocalCandidateChanged)===null||i===void 0||i.call(this,e,n);},this.statsFilter.onSelectedRemoteCandidateChanged=(e,n)=>{var i;(i=this.onSelectedRemoteCandidateChanged)===null||i===void 0||i.call(this,e,n);};}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0;}async batchReceive(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.batchReceive before remoteSDP created.\");let n=this.remoteSDP.batchSend(e).map((o,s)=>{let{id:a,mslabel:c}=o,{kind:d}=e[s];return new j((l,u)=>{let h=setTimeout(()=>{u(new Error(\"Cannot receive track, id: \".concat(a)));},1e4),p=g=>{let E=mt();if(E.name===\"Safari\"&&Number(E.version)===11&&g.track.id!==a&&g.streams[0].id===c){var f;let S=g.streams[0].getTracks()[0];return (f=this.remoteSDP)===null||f===void 0||f.updateTrackLabel(d,a,g.track.id),this.peerConnection.removeEventListener(\"track\",p),clearTimeout(h),void l({track:S,id:a})}if(g.track.id===a)return this.peerConnection.removeEventListener(\"track\",p),clearTimeout(h),void l({track:g.track,id:a})};this.peerConnection.addEventListener(\"track\",p);})}),i=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:i});let r=await this.peerConnection.createAnswer();return await this.peerConnection.setLocalDescription(r),await j.all(n)}catch(n){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.receive failed; \".concat(n.toString()))}}async getRemoteSSRC(e){if(!this.remoteSDP)return;let n=this.remoteSDP.getSSRC(e);return n?.[0].ssrcId}setConfiguration(e){if(ft().supportPCSetConfiguration){let n=Xa.resolvePCConfiguration(e);this.peerConnection.setConfiguration(n);}}},q(Pt.prototype,\"connect\",[Jn],Object.getOwnPropertyDescriptor(Pt.prototype,\"connect\"),Pt.prototype),q(Pt.prototype,\"stopSending\",[Jn],Object.getOwnPropertyDescriptor(Pt.prototype,\"stopSending\"),Pt.prototype),q(Pt.prototype,\"receive\",[Jn],Object.getOwnPropertyDescriptor(Pt.prototype,\"receive\"),Pt.prototype),q(Pt.prototype,\"stopReceiving\",[Jn],Object.getOwnPropertyDescriptor(Pt.prototype,\"stopReceiving\"),Pt.prototype),q(Pt.prototype,\"muteRemote\",[Jn],Object.getOwnPropertyDescriptor(Pt.prototype,\"muteRemote\"),Pt.prototype),q(Pt.prototype,\"unmuteRemote\",[Jn],Object.getOwnPropertyDescriptor(Pt.prototype,\"unmuteRemote\"),Pt.prototype),q(Pt.prototype,\"muteLocal\",[Jn],Object.getOwnPropertyDescriptor(Pt.prototype,\"muteLocal\"),Pt.prototype),q(Pt.prototype,\"unmuteLocal\",[Jn],Object.getOwnPropertyDescriptor(Pt.prototype,\"unmuteLocal\"),Pt.prototype),q(Pt.prototype,\"close\",[Jn],Object.getOwnPropertyDescriptor(Pt.prototype,\"close\"),Pt.prototype),q(Pt.prototype,\"updateEncoderConfig\",[Jn],Object.getOwnPropertyDescriptor(Pt.prototype,\"updateEncoderConfig\"),Pt.prototype),q(Pt.prototype,\"updateSendParameters\",[Jn],Object.getOwnPropertyDescriptor(Pt.prototype,\"updateSendParameters\"),Pt.prototype),q(Pt.prototype,\"replaceTrack\",[Jn],Object.getOwnPropertyDescriptor(Pt.prototype,\"replaceTrack\"),Pt.prototype),q(Pt.prototype,\"getRemoteSSRC\",[Jn],Object.getOwnPropertyDescriptor(Pt.prototype,\"getRemoteSSRC\"),Pt.prototype),Pt);function Jn(t,e,n){let i=t[e];if(typeof i!=\"function\")throw new Error(\"Cannot use mutex on object property.\");return n.value=async function(){let r=this.mutex,o=await r.lock(\"Locking from P2PConnection.\".concat(e));try{for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return await i.apply(this,a)}finally{o();}},n}function xv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function Wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xv(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xv(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var Fa=\"9\",Vv=4e4,um=class{get localCapabilities(){return le(this._localCapabilities)}get rtpCapabilities(){return le(this._rtpCapabilities)}get candidates(){return le(this._candidates)}get iceParameters(){return le(this._iceParameters)}get dtlsParameters(){return le(this._dtlsParameters)}constructor(e){T(this,\"sessionDesc\",void 0),T(this,\"_localCapabilities\",void 0),T(this,\"_rtpCapabilities\",void 0),T(this,\"_candidates\",void 0),T(this,\"_iceParameters\",void 0),T(this,\"_dtlsParameters\",void 0),T(this,\"setup\",void 0),T(this,\"currentMidIndex\",void 0),T(this,\"cname\",void 0),T(this,\"firefoxSsrcMidMap\",new Map),e=le(e);let{iceParameters:n,dtlsParameters:i,candidates:r,rtpCapabilities:o,setup:s,localCapabilities:a,cname:c}=e;this._rtpCapabilities=o,this._candidates=r,this._iceParameters=n,this._dtlsParameters=i,this._localCapabilities=a,this.setup=s,this.cname=c,this.sessionDesc=this.updateRemoteRTPCapabilities(o),this.currentMidIndex=this.sessionDesc.mediaDescriptions.length-1;}preloadRemoteMedia(e){let n=this.candidates,i=this.dtlsParameters,r=this.iceParameters,o=this.rtpCapabilities.send,s=this.sessionDesc.mediaDescriptions.length-1;for(let a=1;a<e;a++){let c=2*a+2e4,d=2*a+Vv,{ssrcs:l,ssrcGroups:u}=Lo([{ssrcId:c}],this.cname),{ssrcs:h,ssrcGroups:p}=Lo([{ssrcId:d,rtx:v(\"USE_SUB_RTX\")?d+1:void 0}],this.cname);this.sessionDesc.mediaDescriptions.push({media:{mediaType:\"video\",port:Fa,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:o.videoCodecs.map(g=>g.payloadType.toString(10))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:r.iceUfrag,icePwd:r.icePwd,unrecognized:[],candidates:n,extmaps:o.videoExtensions,fingerprints:i.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:h,ssrcGroups:p,rtcpFeedbackWildcards:[],payloads:o.videoCodecs,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:\"sendonly\",rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(++s)}}),this.sessionDesc.mediaDescriptions.push({media:{mediaType:\"audio\",port:Fa,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:o.audioCodecs.map(g=>g.payloadType.toString(10))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:r.iceUfrag,icePwd:r.icePwd,unrecognized:[],candidates:n,extmaps:o.audioExtensions,fingerprints:i.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:l,ssrcGroups:u,rtcpFeedbackWildcards:[],payloads:o.audioCodecs,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:\"sendonly\",rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(++s)}}),this.currentMidIndex+=2;}this.updateBundleMids();}toString(){return Le.print(this.sessionDesc)}send(e,n,i,r){let{ssrcs:o,ssrcGroups:s}=Lo(n,this.cname,v(\"SYNC_GROUP\")?i:void 0),a=this.findPreloadMediaDesc(o);if(a){if($t()&&this.firefoxSsrcMidMap.set(o[0].ssrcId,a.attributes.mid),r&&(r.twcc||r.remb)){let c=this.sessionDesc.mediaDescriptions.indexOf(a);return this.sessionDesc.mediaDescriptions[c]=this.mungSendMediaDesc(a,r),{mid:a.attributes.mid,needExchangeSDP:!0}}return {mid:a.attributes.mid,needExchangeSDP:!1}}{let c=this.findAvailableMediaIndex(e,o),d;return c===-1||c===1&&(je()||function(){let l=mt();return !(l.name!==It.CHROME||!l.osVersion)&&Number(l.version)<=90}())||c===0&&v(\"USE_SUB_RTX\")||hR()?(d=this.createOrRecycleSendMedia(e,o,s,\"sendonly\",r),this.updateBundleMids()):(d=le(this.sessionDesc.mediaDescriptions[c]),d.attributes.direction=\"sendonly\",d.attributes.ssrcs=o,d.attributes.ssrcGroups=s,this.sessionDesc.mediaDescriptions[c]=this.mungSendMediaDesc(d,r)),$t()&&this.firefoxSsrcMidMap.set(o[0].ssrcId,d.attributes.mid),{mid:d.attributes.mid,needExchangeSDP:!0}}}sendDataChannel(){let{mediaDesc:e,needExchangeSDP:n}=this.createOrRecycleDataChannel();return this.updateBundleMids(),{mid:e.attributes.mid,needExchangeSDP:n}}batchSend(e){let n=e.map(o=>{let{kind:s,ssrcMsg:a,mslabel:c}=o;return this.send(s,a,c)}),i=[],r=!1;return n.forEach(o=>{let{mid:s,needExchangeSDP:a}=o;a&&(r=!0),i.push(s);}),{mids:i,needExchangeSDP:r}}stopSending(e){let n=this.sessionDesc.mediaDescriptions.filter(i=>i.attributes.mid&&e.indexOf(i.attributes.mid)!==-1);if(n.length!==e.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.\");n.forEach(i=>{i.attributes.mid===\"0\"||$t()||hR()?i.attributes.ssrcs=[]:(i.attributes.ssrcs=[],i.attributes.direction=\"inactive\",i.media.port=\"0\");}),this.updateBundleMids();}mute(e){let n=this.sessionDesc.mediaDescriptions.find(i=>i.attributes.mid===e);if(!n)throw new Error(\"mediaDescription not found with \".concat(e,\" in remote SDP when calling RemoteSDP.mute.\"));n.attributes.direction=\"inactive\";}unmute(e){let n=this.sessionDesc.mediaDescriptions.find(i=>i.attributes.mid===e);if(!n)throw new Error(\"mediaDescription not found with \".concat(e,\" in remote SDP when calling RemoteSDP.unmute.\"));n.attributes.direction=\"sendonly\";}muteRemote(e){let n=this.sessionDesc.mediaDescriptions.filter(i=>W(e).call(e,i.attributes.mid||\"\"));if(n.length!==e.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.\");n.forEach(i=>{i.attributes.direction=\"inactive\";});}unmuteRemote(e){let n=this.sessionDesc.mediaDescriptions.filter(i=>W(e).call(e,i.attributes.mid||\"\"));if(n.length!==e.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.\");n.forEach(i=>{i.attributes.direction=\"recvonly\";});}receive(e,n,i,r){e.forEach((o,s)=>{this.createOrRecycleRecvMedia(o,[],\"recvonly\",n,i,r[s]);}),this.updateBundleMids();}stopReceiving(e){let n=this.sessionDesc.mediaDescriptions.filter(i=>e.indexOf(i.attributes.mid)!==-1);if(n.length!==e.length)throw new Error(\"MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.\");n.forEach(i=>{i.media.port=\"0\",i.attributes.direction=\"inactive\";}),this.updateBundleMids();}updateRemoteRTPCapabilities(e){let n=this.sessionDesc||Le.parse(`v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE 0 1\na=msid-semantic: WMS\na=ice-lite\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:0\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:1\n`);this._rtpCapabilities=e;let i=this.rtpCapabilities.send,r=this.localCapabilities.send;for(let o of n.mediaDescriptions){if(o.attributes.iceUfrag=this._iceParameters.iceUfrag,o.attributes.icePwd=this._iceParameters.icePwd,o.attributes.fingerprints=this._dtlsParameters.fingerprints,o.attributes.candidates=this._candidates,o.attributes.setup=this.setup,o.media.mediaType===\"application\"&&(o.attributes.sctpPort=\"5000\"),o.media.mediaType===\"video\"){if(i.videoCodecs.length===0){let s=r.videoCodecs.filter(a=>{var c,d;return (c=a.rtpMap)===null||c===void 0?void 0:W(d=c.encodingName.toLowerCase()).call(d,\"vp8\")})||[r.videoCodecs[0]];o.media.fmts=s.map(a=>a.payloadType.toString(10)),o.attributes.payloads=s,o.attributes.extmaps=[];}else if(o.media.fmts=i.videoCodecs.map(s=>s.payloadType.toString(10)),o.attributes.payloads=i.videoCodecs,o.attributes.extmaps=i.videoExtensions,v(\"PRELOAD_MEDIA_COUNT\")>0){let{ssrcs:s,ssrcGroups:a}=Lo([{ssrcId:Vv,rtx:v(\"USE_SUB_RTX\")?40001:void 0}],this.cname);o.attributes.ssrcs=s,o.attributes.ssrcGroups=a;}}if(o.media.mediaType===\"audio\"){if(i.audioCodecs.length===0){let s=r.audioCodecs.filter(a=>{var c,d;return (c=a.rtpMap)===null||c===void 0?void 0:W(d=c.encodingName.toLowerCase()).call(d,\"opus\")})||[r.audioCodecs[0]];o.media.fmts=s.map(a=>a.payloadType.toString(10)),o.attributes.payloads=s,o.attributes.extmaps=[];}else if(o.media.fmts=i.audioCodecs.map(s=>s.payloadType.toString(10)),o.attributes.payloads=i.audioCodecs,o.attributes.extmaps=i.audioExtensions,oa(o),v(\"PRELOAD_MEDIA_COUNT\")>0){let{ssrcs:s,ssrcGroups:a}=Lo([{ssrcId:2e4}],this.cname);o.attributes.ssrcs=s,o.attributes.ssrcGroups=a;}}}return this.sessionDesc=n,this.currentMidIndex=n.mediaDescriptions.length-1,this.sessionDesc}updateCandidates(e){let n=this._candidates.filter(i=>i.transport===\"udp\");if(e===On.TCP){if(n.length===0)return;if(v(\"TCP_CANDIDATE_ONLY\")){let i=this._candidates.filter(r=>r.transport===\"tcp\");n.forEach(r=>{i.findIndex(o=>o.connectionAddress===r.connectionAddress)===-1&&i.push(Wr(Wr({},r),{},{foundation:\"tcpcandidate\",priority:Number(r.priority)-1+\"\",transport:\"tcp\",port:Number(r.port)+90+\"\"}));}),this._candidates=i;}else {let i=[];n.forEach(r=>{i.push(Wr(Wr({},r),{},{foundation:\"tcpcandidate\",priority:Number(r.priority)-1+\"\",transport:\"tcp\",port:Number(r.port)+90+\"\"}));}),this._candidates=[...n,...i];}}else if(e===On.RELAY){if(n.length!==0)return;{let i=this._candidates.filter(r=>r.transport===\"tcp\");i.forEach(r=>{n.push(Wr(Wr({},r),{},{foundation:\"udpcandidate\",priority:Number(r.priority)+1+\"\",transport:\"udp\",port:Number(r.port)-90+\"\"}));}),this._candidates=[...n,...i];}}else n.length===0?(this._candidates.filter(i=>i.transport===\"tcp\").forEach(i=>{n.push(Wr(Wr({},i),{},{foundation:\"udpcandidate\",priority:Number(i.priority)+1+\"\",transport:\"udp\",port:Number(i.port)-90+\"\"}));}),this._candidates=n):this._candidates=this._candidates.filter(i=>i.transport!==\"tcp\");for(let i of this.sessionDesc.mediaDescriptions)i.attributes.candidates=this.candidates;}restartICE(e){e=le(e),this._iceParameters=e,this.sessionDesc.mediaDescriptions.forEach(n=>{n.attributes.iceUfrag=e.iceUfrag,n.attributes.icePwd=e.icePwd;});}predictReceivingMids(e){let n=[];for(let i=0;i<e;i++)n.push((this.currentMidIndex+i+1).toString(10));return n}findAvailableMediaIndex(e,n){return this.sessionDesc.mediaDescriptions.findIndex(i=>{let r=i.media.mediaType===e&&i.media.port!==\"0\"&&(i.attributes.direction===\"sendonly\"||i.attributes.direction===\"sendrecv\")&&i.attributes.ssrcs.length===0;if($t()){if(r){let o=this.firefoxSsrcMidMap.get(n[0].ssrcId);return !(o||i.attributes.mid!==\"0\"&&i.attributes.mid!==\"1\")||!(!o||o!==i.attributes.mid)}return !1}return r})}createOrRecycleDataChannel(){for(let i of this.sessionDesc.mediaDescriptions)if(i.media.mediaType===\"application\")return {mediaDesc:i,needExchangeSDP:!1};this.currentMidIndex+=1;let e=\"\".concat(this.currentMidIndex),n={media:{mediaType:\"application\",port:Fa,protos:[\"UDP\",\"DTLS\",\"SCTP\"],fmts:[\"webrtc-datachannel\"]},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:[],fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[],rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,mid:\"\".concat(e),sctpPort:\"5000\"}};return this.sessionDesc.mediaDescriptions.push(n),{mediaDesc:n,needExchangeSDP:!0}}createOrRecycleRecvMedia(e,n,i,r,o,s){let a=e._mediaStreamTrack.kind,c=this.rtpCapabilities.recv,d=ac(a,c,this.localCapabilities.send,a===Q.VIDEO?r:o),l=a===Q.VIDEO?c.videoExtensions:c.audioExtensions;this.currentMidIndex+=1;let u=\"\".concat(this.currentMidIndex),h={media:{mediaType:a,port:Fa,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:d.map(g=>g.payloadType.toString(10))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:l,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:n,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:d,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:i,rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(u)}};h=this.mungRecvMediaDsec(h,e,s);let p=this.findFirstClosedMedia(a);if(p){let g=this.sessionDesc.mediaDescriptions.indexOf(p);this.sessionDesc.mediaDescriptions[g]=h;}else this.sessionDesc.mediaDescriptions.push(h);return h}updateRemoteCodec(e,n,i){let r=[...new Set(this._rtpCapabilities.recv.videoCodecs.map(h=>h.rtpMap&&h.rtpMap.encodingName.toLowerCase()||\"\").filter(h=>{var p;return W(p=Object.keys(Ju)).call(p,h)}))],o=new Set(n);if(r.every(h=>o.has(h)))return _.debug(\"codecs has not changed, no need to updateRemoteCodec, codecs: \".concat(n)),!1;let s=this._rtpCapabilities.recv.videoCodecs.filter(h=>n.some(p=>{var g;return W(g=h.rtpMap&&h.rtpMap.encodingName.toLowerCase()||\"\").call(g,p)}));if(s.length===0)return _.debug(\"updateRemoteCodec failed, because cannot find matched codec, remoteCapabilities codecs: \".concat(r,\" codecs: \").concat(n)),!1;let a=[...new Set(s.map(h=>h.rtpMap&&h.rtpMap.encodingName.toLowerCase()||\"\"))],c;if(_.debug(\"updateRemoteCodec, from \".concat(r,\" to \").concat(a)),e.length===0)c=this.sessionDesc.mediaDescriptions.filter(h=>h.media.mediaType===\"video\"&&h.attributes.direction===\"recvonly\");else if(c=this.sessionDesc.mediaDescriptions.filter(h=>h.attributes.mid&&W(e).call(e,h.attributes.mid)&&h.attributes.direction===\"recvonly\"),c.length!==e.length)return _.debug(\"updateRemoteCodec failed, because cannot find mids, mids: \".concat(e,\", codecs: \").concat(n)),!1;if(v(\"USE_PUB_RTX\")||v(\"USE_SUB_RTX\")){let h=yf(s,this.rtpCapabilities.recv.videoCodecs);s.push(...h);}this._rtpCapabilities.recv.videoCodecs=s;let d=this.localCapabilities.send,l=this.rtpCapabilities.recv,u=ac(Q.VIDEO,l,d,i);return c.forEach(h=>{let p=u.map(g=>g.payloadType.toString(10));_.debug(\"updateRemoteCodec mid: \".concat(h.attributes.mid,\", from \").concat(h.attributes.payloads,\" to \").concat(u)),h.attributes.payloads=u,h.media.fmts=p;}),!0}createOrRecycleSendMedia(e,n,i,r,o){let s=this.rtpCapabilities.send,a=e===Q.VIDEO?s.videoCodecs:s.audioCodecs,c=e===Q.VIDEO?s.videoExtensions:s.audioExtensions;this.currentMidIndex+=1;let d=\"\".concat(this.currentMidIndex),l={media:{mediaType:e,port:Fa,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:a.map(h=>h.payloadType.toString(10))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:c,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:n,ssrcGroups:i,rtcpFeedbackWildcards:[],payloads:a,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:r,rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(d)}};l=this.mungSendMediaDesc(l,o);let u=this.findFirstClosedMedia(e);if(u){let h=this.sessionDesc.mediaDescriptions.indexOf(u);this.sessionDesc.mediaDescriptions[h]=l;}else this.sessionDesc.mediaDescriptions.push(l);return l}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter(e=>e.media.port!==\"0\").map(e=>e.attributes.mid);}mungRecvMediaDsec(e,n,i){let r=le(e);return If(r),ra(r,n),vf(r,n),r0(r),lu(r,i,this.localCapabilities.send),r}mungSendMediaDesc(e,n){let i=le(e);return lu(i,n,this.localCapabilities.recv),oa(i),i}updateRecvMedia(e,n){let i=this.sessionDesc.mediaDescriptions.findIndex(r=>r.attributes.mid===e);if(i!==-1){let r=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[i],n);this.sessionDesc.mediaDescriptions[i]=r;}}bumpMid(e){this.currentMidIndex+=e;}findFirstClosedMedia(e){return this.sessionDesc.mediaDescriptions.find(n=>$t()?n.media.port===\"0\"&&n.media.mediaType===e:n.media.port===\"0\")}findPreloadMediaDesc(e){return this.sessionDesc.mediaDescriptions.find(n=>{var i;return ((i=n.attributes)===null||i===void 0||(i=i.ssrcs[0])===null||i===void 0?void 0:i.ssrcId)===e[0].ssrcId})}getSSRC(e){var n;return (n=this.sessionDesc.mediaDescriptions.find(i=>i.attributes.mid===e))===null||n===void 0?void 0:n.attributes.ssrcs}};function Fv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function Ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fv(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fv(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var dc=function(t){return t.BANDWIDTH=\"bandwidth\",t.CPU=\"cpu\",t.NONE=\"none\",t.OTHER=\"other\",t}({}),qs=function(t){return t[t.DOWN=0]=\"DOWN\",t[t.UP=1]=\"UP\",t}(qs||{}),mu=new Map;function Bv(t,e,n,i){let{scale:r}=t;if(r===0&&i===qs.UP||r>=e.length-1&&i===qs.DOWN)return t;let o=Ar(Ar({},t),{},{scale:i===qs.DOWN?++r:--r});switch(n){case\"maintain-framerate\":o=Ar(Ar({},o),e[r].motion);break;case\"maintain-resolution\":o=Ar(Ar({},o),e[r].detail);break;case\"balanced\":o=Ar(Ar({},o),e[r].balanced);}return o}function S0(t,e){if(e){let n={overUse:0,underUse:0,adaptationList:R0(e)};mu.set(t,n);}else mu.delete(t);}function R0(t){let e=Ar({},t),{bitrateMax:n,frameRate:i,scaleResolutionDownBy:r,bitrateMin:o}=e,{MIN_FRAME_RATE:s,MAX_THRESHOLD_FRAMERATE:a,MAX_SCALE:c,BITRATE_MIN_THRESHOLD:d,BITRATE_MAX_THRESHOLD:l,BWE_SCALE_UP_THRESHOLD:u,BWE_SCALE_DOWN_THRESHOLD:h,PERF_SCALE_DOWN_THRESHOLD:p,PERF_SCALE_UP_THRESHOLD:g,BALANCE_BITRATE_FACTOR:E,BALANCE_FRAMERATE_FACTOR:f,BALANCE_RESOLUTION_FACTOR:S,MOTION_RESOLUTION_FACTOR:C,MOTION_BITRATE_FACTOR:A,DETAIL_FRAMERATE_FACTOR:b,DETAIL_BITRATE_FACTOR:w}=_f,D=Math.min(e.frameRate,a),k=[{scale:0,threshold:{bwe_down:Math.round(Math.pow(h,1)*n),bwe_up:n,fps_down:Math.round(Math.pow(p,1)*D),fps_up:i},balanced:{scaleResolutionDownBy:1,frameRate:i,bitrateMax:n,bitrateMin:o},motion:{scaleResolutionDownBy:1,frameRate:i,bitrateMax:n,bitrateMin:o},detail:{scaleResolutionDownBy:1,frameRate:i,bitrateMax:n,bitrateMin:o}}];for(let B=1;B<=c;B++){let V={bwe_up:Math.round(Math.pow(u,B)*n),bwe_down:Math.round(Math.pow(h,B+1)*n),fps_up:Math.round(Math.pow(g,B)*D),fps_down:Math.round(Math.pow(p,B+1)*D)},z={scaleResolutionDownBy:r/Math.pow(S,B),frameRate:Math.max(Math.round(Math.pow(f,B)*i),s),bitrateMax:Math.max(Math.round(Math.pow(E,B)*n),l),bitrateMin:Math.max(Math.round(Math.pow(E,B)*o),d)},lt={scaleResolutionDownBy:r/Math.pow(C,B),frameRate:i,bitrateMax:Math.max(Math.round(Math.pow(A,B)*n),l),bitrateMin:Math.max(Math.round(Math.pow(A,B)*o),d)},vt={scaleResolutionDownBy:1,frameRate:Math.max(Math.round(Math.pow(b,B)*i),s),bitrateMax:Math.max(Math.round(Math.pow(w,B)*n),l),bitrateMin:Math.max(Math.round(Math.pow(w,B)*o),d)};k.push({scale:B,threshold:V,balanced:z,motion:lt,detail:vt});}return k}function pW(t,e,n,i,r,o){let s=mu.get(t)||{overUse:0,underUse:0,adaptationList:R0(r)},{adaptationList:a}=s;mu.set(t,s);let{OVERUSE_TIMES_THRESHOLD:c,UNDERUSE_TIMES_THRESHOLD:d}=_f,{scale:l}=i,u,h;return typeof e==\"number\"&&e>0&&function(p,g,E,f){if(g>=E.length)return !1;let{threshold:{fps_down:S}}=E[g];return v(\"FORCE_AG_HIGH_FRAMERATE\")&&f===\"maintain-framerate\"&&(S=E[0].threshold.fps_down),p<S}(e,l,a,o)&&(s.overUse++,h=dc.CPU,s.overUse>c)||typeof n==\"number\"&&n>0&&function(p,g,E){if(g>=E.length)return !1;let{threshold:{bwe_down:f}}=E[g];return p<f}(n,l,a)&&(s.overUse++,h=dc.BANDWIDTH,s.overUse>c)?(s.overUse=0,s.underUse=0,u=Bv(i,a,o,qs.DOWN),[u,h]):(typeof e==\"number\"&&e>0&&typeof n==\"number\"&&n>0&&function(p,g,E,f){if(g===0)return;let{threshold:{fps_up:S}}=E[g];return v(\"FORCE_AG_HIGH_FRAMERATE\")&&f===\"maintain-framerate\"&&(S=E[1].threshold.fps_up),p>S}(e,l,a,o)&&function(p,g,E){if(g===0)return;let{threshold:{bwe_up:f}}=E[g];return p>f}(n,l,a)&&(s.underUse++,s.underUse>d&&(s.overUse=0,s.underUse=0,u=Bv(i,a,o,qs.UP),u.scale===0&&(h=dc.NONE))),[u,h])}function jv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function m_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jv(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jv(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}function _W(t){var e;return !!v(\"ENABLE_AG_ADAPTATION\")&&!!(t instanceof XE||W(e=t._hints).call(e,Gt.CUSTOM_TRACK))&&(!!v(\"FORCE_SUPPORT_AG_ADAPTATION\")||!!(function(n){let i=mt();if(i.os!==ye.IOS||!i.osVersion)return !1;let r=i.osVersion.split(\".\");return Number(r[0])>=n}(14)&&fO(17,4)||mO(14)&&gO(17,4)))}var fu=new Map;function zd(t,e){let n=fu.get(t);if(n){let{timer:i}=n;window.clearTimeout(i),fu.delete(t);}e.qualityLimitationReason=dc.NONE,S0(t);}var pt;function Gv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function Qi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gv(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gv(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var ki=(pt=class Qa extends Yl{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get dtlsTransportState(){var e,n;return (e=(n=this.peerConnection.getReceivers()[0])===null||n===void 0||(n=n.transport)===null||n===void 0?void 0:n.state)!==null&&e!==void 0?e:null}get localCodecs(){return [...new Set(this.localCapabilities&&this.localCapabilities.send.videoCodecs.map(e=>e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||\"\").filter(e=>{var n;return W(n=Object.keys(Ju)).call(n,e)}))]}constructor(e,n){super(e,n),T(this,\"store\",void 0),T(this,\"peerConnection\",void 0),T(this,\"id\",Ut(5,\"connection-\")),T(this,\"remoteSDP\",void 0),T(this,\"initialOffer\",void 0),T(this,\"transportEventReceiver\",void 0),T(this,\"statsFilter\",void 0),T(this,\"extension\",{useXR:v(\"USE_XR\")}),T(this,\"localCapabilities\",void 0),T(this,\"remoteCodecs\",void 0),T(this,\"localCandidateCount\",0),T(this,\"allCandidatesReceived\",!1),T(this,\"isPreallocation\",!1),T(this,\"preSSRCMap\",new Map),T(this,\"dataStreamChannelMap\",new Map),T(this,\"establishPromise\",void 0),T(this,\"recoveredDataChannelIds\",[]),T(this,\"currentDataChannelId\",1),T(this,\"mutex\",new ze(\"P2PConnection-mutex\")),T(this,\"qualityLimitationReason\",dc.NONE),this.store=n,this.peerConnection=new RTCPeerConnection(Qa.resolvePCConfiguration(e),{optional:[{googDscp:!0}]}),this.statsFilter=Nf(this.peerConnection,v(\"STATS_UPDATE_INTERVAL\"),void 0,$t()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,this.establishPromise=this.establish();}getPreMedia(e){let n=this.preSSRCMap.get(e);if(n!==void 0){let i=this.peerConnection.getTransceivers().find(r=>r.mid===n);if(i)return {transceiver:i,track:i.receiver.track,id:n}}}async updateRemoteRTPCapabilities(e,n){if(this.remoteCodecs=n,!this.remoteSDP)return void _.debug(\"[P2PConnection] cannot updateRemoteRTPCapabilities before remote SDP created, local codecs: \".concat(this.localCodecs,\", codecs: \").concat(n));if(this.remoteSDP.updateRemoteCodec(e,n,this.store.codec)){let i=await this.peerConnection.createOffer(),r=this.logSDPExchange(i.sdp||\"\",\"offer\",\"local\",\"muteLocal\");await this.peerConnection.setLocalDescription(i);let o=this.remoteSDP.toString();r?.(o),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:o});}else _.debug(\"[P2PConnection] updateRemoteRTPCapabilities no need to exchange SDP.\");}async establish(){try{this.peerConnection.addTransceiver(\"video\",{direction:\"recvonly\"}),this.peerConnection.addTransceiver(\"audio\",{direction:\"recvonly\"});let e=await this.peerConnection.createOffer();if(!e.sdp)throw new Error(\"Cannot get initialOffer.sdp when trying to establish PeerConnection.\");let n=io(e.sdp),i=await s0({filterRTX:!v(\"USE_PUB_RTX\")&&!v(\"USE_SUB_RTX\"),filterVideoFec:v(\"FILTER_VIDEO_FEC\"),filterAudioFec:v(\"FILTER_AUDIO_FEC\"),filterVideoCodec:v(\"FILTER_VIDEO_CODEC\")},this.extension);return this.localCapabilities=uu(i),this.initialOffer=e,Qi(Qi({},n),{},{rtpCapabilities:i,offerSDP:e.sdp})}catch(e){throw new N(R.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}}async connect(e){try{if(!this.initialOffer)throw new Error(\"Cannot establish P2PConnection without initial offer.\");this.remoteSDP=new um(Qi(Qi({},e),{},{localCapabilities:this.localCapabilities})),e.preallocation&&(this.isPreallocation=!0),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0&&this.remoteSDP.updateRemoteCodec([],this.remoteCodecs,this.store.codec);let n=this.remoteSDP.toString(),i=a0(this.initialOffer.sdp,this.extension),r=this.logSDPExchange(i||\"\",\"offer\",\"local\",\"connect\");this.store.descriptionStart(),await this.peerConnection.setLocalDescription({type:\"offer\",sdp:i}),r?.(n),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:n});let o=this.peerConnection.getTransceivers()[0];if(o!=null&&o.receiver&&this.tryBindTransportEvents(o.receiver),v(\"PRELOAD_MEDIA_COUNT\")>0){this.remoteSDP.preloadRemoteMedia(v(\"PRELOAD_MEDIA_COUNT\"));let a=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:a});let c=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(c);}let{preSSRCs:s}=e;if(Array.isArray(s)&&s.length>0){let{mids:a}=this.remoteSDP.batchSend(s.map(c=>({kind:c.kind,ssrcMsg:[{ssrcId:c.ssrcId,rtx:c.rtx}],mslabel:c.mslabel})));a.forEach((c,d)=>{this.preSSRCMap.set(s[d].ssrcId,c);}),await Wd(this.peerConnection,this.remoteSDP,this.extension),_.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] pre-batchReceive exchange SDP.\"));}}catch(n){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.connect failed; \".concat(n.toString()))}}async updateRemoteConnect(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.updateRemoteConnect before remote SDP created\");let{rtpCapabilities:n}=e;this.remoteSDP.updateRemoteRTPCapabilities(n),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0&&this.remoteSDP.updateRemoteCodec([],this.remoteCodecs,this.store.codec);let{preSSRCs:i}=e;if(Array.isArray(i)&&i.length>0){let{mids:r}=this.remoteSDP.batchSend(i.map(o=>Object.assign({},{kind:o.kind,ssrcMsg:[{ssrcId:o.ssrcId,rtx:o.rtx}],mslabel:o.mslabel})));r.forEach((o,s)=>{this.preSSRCMap.set(i[s].ssrcId,o);});}await Wd(this.peerConnection,this.remoteSDP,this.extension),_.debug(\"[P2PConnection] updateRemoteRTPCapabilities by exchanging SDP.\");}catch(n){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.updateRemoteConnect failed; \".concat(n.toString()))}}send(e,n,i){var r=this;return Bi(function*(){let o=yield Tt(r.mutex.lock(\"From P2PConnection.send\"));try{if(!r.remoteSDP)throw new Error(\"Cannot call P2PConnection.send before remote SDP created\");let s=[];e.forEach(E=>{let f=r.peerConnection.addTransceiver(E._mediaStreamTrack,{direction:\"sendonly\"});s.push(f),E._updateRtpTransceiver(f);}),$t()&&v(\"SIMULCAST\")===!0&&(yield Tt(r.applySimulcastForFirefox(s,e)));let a=yield Tt(r.peerConnection.createOffer()),c=r.remoteSDP.predictReceivingMids(e.length),d=r.mungSendOfferSDP(a.sdp,e,c),l=Le.parse(d),u=c.map(E=>{let f=l.mediaDescriptions.find(S=>S.attributes.mid===E);if(!f)throw new Error(\"Cannot extract ssrc from mediaDescription.\");return n0(f,v(\"USE_PUB_RTX\"))}),h;try{h=yield u;}catch(E){h=[],r.remoteSDP.receive(e,n,i,h);let f=r.remoteSDP.toString();throw yield Tt(r.peerConnection.setLocalDescription({type:\"offer\",sdp:d})),yield Tt(r.peerConnection.setRemoteDescription({type:\"answer\",sdp:f})),yield Tt(r.stopSending(c,!0)),E}r.remoteSDP.receive(e,n,i,h);let p=r.remoteSDP.toString(),g=r.logSDPExchange(d,\"offer\",\"local\",\"send\");return yield Tt(r.peerConnection.setLocalDescription({type:\"offer\",sdp:d})),yield Tt(r.applySimulcastEncodings(s,e)),yield Tt(r.applySendEncodings(s,e)),g?.(p),yield Tt(r.peerConnection.setRemoteDescription({type:\"answer\",sdp:p})),s.map((E,f)=>{let S=c[f];return {localSSRC:u[f],id:S,transceiver:E}})}catch(s){throw s instanceof N?s:new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.send failed; \".concat(s.toString()))}finally{o();}})()}async createDataChannels(e,n){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.createDataChannels before remote SDP created\");let i=this.dataStreamChannelMap.get(e);if(i&&i.readyState===\"open\")_.debug(\"[P2PConnection] Channels are already available and can be reused directly.\");else {let o=this.currentDataChannelId<1023?this.currentDataChannelId++:this.recoveredDataChannelIds.shift();if(typeof o!=\"number\")throw new Error(\"create DataChannel error, because cannot get dc id\");i=this.peerConnection.createDataChannel(\"datastream-channel\",{id:o,negotiated:!0,ordered:!1,maxRetransmits:v(\"DATASTREAM_MAX_RETRANSMITS\")}),i.binaryType=\"arraybuffer\",this.dataStreamChannelMap.set(e,i);}n.forEach(o=>{o._updateOriginDataChannel(i);});let{needExchangeSDP:r}=this.remoteSDP.sendDataChannel();if(r){let o=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:o});let s=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(s),_.debug(\"[P2PConnection] createDataChannels by exchanging SDP.\");}else _.debug(\"[P2PConnection] createDataChannels no need to exchange SDP.\");return}catch(i){throw i instanceof N?i:new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.createDataChannels failed; \".concat(i.toString()))}}async stopDataChannels(e){try{let n=this.dataStreamChannelMap.get(e);return n&&(n.id&&this.recoveredDataChannelIds.push(n.id),n.close()),void this.dataStreamChannelMap.delete(e)}catch(n){throw n instanceof N?n:new N(R.DATACHANNEL_FAILED,\"P2PConnection.stopDataChannels failed; \".concat(n.toString()))}}async stopSending(e,n){let i=n?void 0:await this.mutex.lock(\"From P2PConnection.stopSending\");try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopSending before remote SDP created\");let r=this.peerConnection.getTransceivers().filter(c=>e.indexOf(c.mid)!==-1);if(r.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.\");r.map(c=>{var d;zd(this.id+c.mid,this),c.direction=\"inactive\",(d=c.stop)===null||d===void 0||d.call(c);});let o=await this.peerConnection.createOffer(),s=this.logSDPExchange(o.sdp||\"\",\"offer\",\"local\",\"stopSending\");await this.peerConnection.setLocalDescription(o),this.remoteSDP.stopReceiving(e);let a=this.remoteSDP.toString();s?.(a),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:a});}catch(r){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.stopSending failed; \".concat(r.toString()))}finally{i&&i();}}async receive(e,n,i,r){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.receive \".concat(e,\" before remoteSDP created.\"));let{mid:o,needExchangeSDP:s}=this.remoteSDP.send(e,n,i,r);s&&(await Wd(this.peerConnection,this.remoteSDP,this.extension),_.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] receive \").concat(e,\" by exchanging SDP.\")));let a=this.peerConnection.getTransceivers().find(c=>c.mid===o);if(!a)throw new Error(\"Cannot get transceiver after setLocalDescription.\");return {track:a.receiver.track,id:o,transceiver:a}}catch(o){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.receive failed; \".concat(o.toString()))}}async batchReceive(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.batchReceive before remoteSDP created.\");let{mids:n,needExchangeSDP:i}=this.remoteSDP.batchSend(e);return i&&(await Wd(this.peerConnection,this.remoteSDP,this.extension),_.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] batchReceive by exchanging SDP.\"))),n.map(r=>{let o=this.peerConnection.getTransceivers().find(s=>s.mid===r);if(!o)throw new Error(\"Cannot get transceiver after setLocalDescription.\");return {track:o.receiver.track,id:r,transceiver:o}})}catch(n){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.receive failed; \".concat(n.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopReceiving before remote SDP created.\");e.forEach(o=>{Array.from(this.preSSRCMap.entries()).some(s=>{let[a,c]=s;if(c===o)return this.preSSRCMap.delete(a),!0});}),this.remoteSDP.stopSending(e);let n=this.remoteSDP.toString(),i=this.logSDPExchange(n,\"offer\",\"remote\",\"stopReceiving\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:n});let r=await this.peerConnection.createAnswer();i?.(r.sdp||\"\"),await this.peerConnection.setLocalDescription(r);}catch(n){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection stopReceiving failed; \".concat(n.toString()))}}async muteRemote(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.muteRemote mid=\".concat(e,\" before remote SDP created.\"));this.remoteSDP.mute(e);let n=this.remoteSDP.toString(),i=this.logSDPExchange(n,\"offer\",\"remote\",\"muteRemote\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:n});let r=await this.peerConnection.createAnswer();i?.(r.sdp||\"\"),await this.peerConnection.setLocalDescription(r);}catch(n){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.muteRemote failed; \".concat(n.toString()))}}async unmuteRemote(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.unmuteRemote mid=\".concat(e,\" before remote SDP created.\"));this.remoteSDP.unmute(e);let n=this.remoteSDP.toString(),i=this.logSDPExchange(n,\"offer\",\"remote\",\"unmuteRemote\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:n});let r=await this.peerConnection.createAnswer();i?.(r.sdp||\"\"),await this.peerConnection.setLocalDescription(r);}catch(n){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.unmuteRemote failed; \".concat(n.toString()))}}async muteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.muteLocal before remote SDP created.\");let n=this.peerConnection.getTransceivers().filter(s=>s.mid&&e.indexOf(s.mid)!==-1);if(n.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length.\");n.map(s=>{s.direction=\"inactive\";});let i=await this.peerConnection.createOffer(),r=this.logSDPExchange(i.sdp||\"\",\"offer\",\"local\",\"muteLocal\");await this.peerConnection.setLocalDescription(i),this.remoteSDP.muteRemote(e);let o=this.remoteSDP.toString();r?.(o),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:o});}catch(n){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.muteLocal failed; \".concat(n.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.unmuteLocal before remote SDP created.\");let n=this.peerConnection.getTransceivers().filter(s=>s.mid&&e.indexOf(s.mid)!==-1);if(n.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length.\");n.map(async(s,a)=>{s.direction=\"sendonly\";});let i=await this.peerConnection.createOffer(),r=this.logSDPExchange(i.sdp||\"\",\"offer\",\"local\",\"unmuteLocal\");await this.peerConnection.setLocalDescription(i),this.remoteSDP.unmuteRemote(e);let o=this.remoteSDP.toString();r?.(o),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:o});}catch(n){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.unmuteLocal failed; \".concat(n.toString()))}}restartICE(e){var n=this;return Bi(function*(){let i=yield Tt(n.mutex.lock(\"From P2PConnection.restartICE\"));try{if(!n.remoteSDP)throw new Error(\"Cannot restartICE before remoteSDP created.\");if(ft().supportPCSetConfiguration){let d=n.peerConnection.getConfiguration(),l=e===On.RELAY?\"relay\":\"all\";d.iceTransportPolicy!==l&&(_.debug(\"[\".concat(n.store.clientId,\"] restartICE change iceTransportPolicy from [\").concat(d.iceTransportPolicy,\"] to [\").concat(l,\"]\")),d.iceTransportPolicy=l,n.peerConnection.setConfiguration(d));}else if(e===On.RELAY)return;n.remoteSDP.updateCandidates(e);let r=yield Tt(n.peerConnection.createOffer({iceRestart:!0}));if(!r.sdp)throw new Error(\"Cannot restartICE because restart offer SDP does not exist.\");let o=io(r.sdp),{remoteIceParameters:s}=yield o.iceParameters;n.remoteSDP.restartICE(s);let a=n.remoteSDP.toString(),c=n.logSDPExchange(r.sdp||\"\",\"offer\",\"local\",\"restartICE\");n.store.descriptionStart(),yield Tt(n.peerConnection.setLocalDescription(r)),c?.(a),yield Tt(n.peerConnection.setRemoteDescription({type:\"answer\",sdp:a}));}catch(r){_.warning(\"[\".concat(n.store.clientId,\"] restart ICE failed, abort operation\"),r);}finally{i();}})()}close(){var e;this.peerConnection.getTransceivers().forEach(n=>{zd(this.id+n.mid,this);}),this.preSSRCMap.clear(),this.peerConnection.close(),(e=this.onConnectionStateChange)===null||e===void 0||e.call(this,\"closed\"),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.transportEventReceiver=void 0,this.statsFilter.destroy(),this.dataStreamChannelMap.clear(),this.recoveredDataChannelIds=[],this.currentDataChannelId=1;}getStats(){return Qi(Qi({},this.statsFilter.getStats()),{},{qualityLimitationReason:this.qualityLimitationReason})}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,n){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.updateEncoderConfig before remote SDP created.\");let i=await this.peerConnection.createOffer(),r=this.mungSendOfferSDP(i.sdp,[n],[e]);this.remoteSDP.updateRecvMedia(e,n);let o=this.remoteSDP.toString(),s=this.logSDPExchange(r,\"offer\",\"local\",\"updateEncoderConfig\");await this.peerConnection.setLocalDescription({type:\"offer\",sdp:r}),s?.(o),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:o});}catch(i){throw new N(R.EXCHANGE_SDP_FAILED,i.toString())}}async updateSendParameters(e,n){let i=this.peerConnection.getTransceivers().filter(r=>r.mid===e);i.length===1&&(this.isVP8Simulcast(n)?$t()||await this.applySimulcastEncodings(i,[n]):await this.applySendEncodings(i,[n]));}setStatsRemoteVideoIsReady(e,n){this.statsFilter.setVideoIsReady2(e,n);}async replaceTrack(e,n){let i=this.peerConnection.getTransceivers().find(r=>r.mid===n);i&&await i.sender.replaceTrack(e._mediaStreamTrack);}async getSelectedCandidatePair(){let e=this.peerConnection.getReceivers();if(e.length>0&&e[0].transport&&e[0].transport.iceTransport&&e[0].transport.iceTransport.getSelectedCandidatePair&&e[0].transport.iceTransport.getSelectedCandidatePair()){let n=e[0].transport.iceTransport,{local:i,remote:r}=n.getSelectedCandidatePair();return {local:Qi(Qi({},hr),{},{candidateType:i.type,protocol:i.protocol,address:i.address,port:i.port}),remote:Qi(Qi({},hr),{},{candidateType:r.type,protocol:r.protocol,address:r.address,port:r.port})}}return this.statsFilter.getSelectedCandidatePair()}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e;(e=this.onICEConnectionStateChange)===null||e===void 0||e.call(this,this.peerConnection.iceConnectionState);},this.peerConnection.onconnectionstatechange=()=>{var e;(e=this.onConnectionStateChange)===null||e===void 0||e.call(this,this.peerConnection.connectionState);},this.peerConnection.onicecandidate=e=>{e.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,_.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] local candidate count\"),this.localCandidateCount));},setTimeout(()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,_.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] onicecandidate timeout, local candidate count\"),this.localCandidateCount));},v(\"CANDIDATE_TIMEOUT\"));}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null;}static resolvePCConfiguration(e){let n={iceServers:[]};return e.iceServers?n.iceServers=e.iceServers:e.turnServer&&e.turnServer.mode!==\"off\"&&(Yu(e.turnServer.servers)?n.iceServers=e.turnServer.servers:(n.iceServers&&n.iceServers.push(...Qa.turnServerConfigToIceServers(e.turnServer.servers)),v(\"USE_TURN_SERVER_OF_GATEWAY\")&&n.iceServers&&e.turnServer.serversFromGateway&&n.iceServers.push(...Qa.turnServerConfigToIceServers(e.turnServer.serversFromGateway)),v(\"FORCE_TURN_TCP\")?n.iceTransportPolicy=\"relay\":e.turnServer.servers.concat(e.turnServer.serversFromGateway||[]).forEach(i=>{i.forceturn&&(n.iceTransportPolicy=\"relay\");}))),v(\"ENABLE_ENCODED_TRANSFORM\")&&ft().supportWebRTCEncodedTransform&&(n.encodedInsertableStreams=!0),n}static turnServerConfigToIceServers(e){let n=[];return e.forEach(i=>{i.security?i.tcpport&&n.push({username:i.username,credential:i.password,credentialType:\"password\",urls:\"turns:\".concat(Us(i.turnServerURL),\":\").concat(i.tcpport,\"?transport=tcp\")}):(i.udpport&&!v(\"FORCE_TURN_TCP\")&&n.push({username:i.username,credential:i.password,credentialType:\"password\",urls:\"turn:\".concat(i.turnServerURL,\":\").concat(i.udpport,\"?transport=udp\")}),i.tcpport&&n.push({username:i.username,credential:i.password,credentialType:\"password\",urls:\"turn:\".concat(i.turnServerURL,\":\").concat(i.tcpport,\"?transport=tcp\")}));}),n}tryBindTransportEvents(e){let n=e.transport;if(n){this.transportEventReceiver=e,n.onstatechange=()=>{var r;n!=null&&n.state&&((r=this.onDTLSTransportStateChange)===null||r===void 0||r.call(this,n.state));},n.onerror=r=>{var o;(o=this.onDTLSTransportError)===null||o===void 0||o.call(this,\"error\"in r?r.error:r);};let i=n.iceTransport;i&&(i.onstatechange=()=>{let r=n?.iceTransport.state;var o;r&&((o=this.onICETransportStateChange)===null||o===void 0||o.call(this,r));},i.getSelectedCandidatePair&&(i.onselectedcandidatepairchange=()=>{if(i.getSelectedCandidatePair()){let{local:r,remote:o}=i.getSelectedCandidatePair();_.info(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] selectedcandidatepairchange: local \").concat(JSON.stringify({candidateType:r.type,protocol:r.protocol}),\", remote \").concat(JSON.stringify({candidateType:o.type,protocol:o.protocol,address:o.address,port:o.port}),\" )\"));}}));}}tryUnbindTransportEvents(){this.transportEventReceiver&&this.transportEventReceiver.transport&&(this.transportEventReceiver.transport.onstatechange=null,this.transportEventReceiver.transport.onerror=null,this.transportEventReceiver.transport.iceTransport&&(this.transportEventReceiver.transport.iceTransport.onstatechange=null));}async updateRtpSenderEncodings(e,n){var i,r;if(n||(n=this.peerConnection.getSenders().find(f=>f.track===e._mediaStreamTrack)),!n)return _.warn(\"[\".concat(e.getTrackId(),\"] no rtpSender found}\"));if(this.isVP8Simulcast(e))return _.warn(\"[updateRtpSenderEncodings] Track is VP8 simulcast, please apply simulcast encodings\");if(!ft().supportSetRtpSenderParameters)return _.warn(\"[updateRtpSenderEncodings] Browser not support set rtp-sender parameters\");let o={},s={};switch(e._optimizationMode){case\"motion\":o.degradationPreference=\"maintain-framerate\";break;case\"detail\":o.degradationPreference=\"maintain-resolution\";break;case\"balanced\":o.degradationPreference=\"balanced\";}let a=function(E,f){return E.getTransceivers().find(S=>S.sender.track===f||S.receiver.track===f)}(this.peerConnection,e._mediaStreamTrack),c=xG(e);if(_W(e)&&a&&n&&c&&this.getLocalVideoStats&&W(i=[\"vp8\",\"vp9\"]).call(i,this.store.codec)){var d;let E=o.degradationPreference||(W(d=e._hints).call(d,Gt.CUSTOM_TRACK)?v(\"CUSTOM_ADAPTATION_DEFAULT_MODE\"):\"maintain-framerate\");(function(f,S,C,A,b,w){if(zd(f,C),b(S),A!==\"balanced\"&&A!==\"maintain-framerate\"&&A!==\"maintain-resolution\")return;let D=-1;S0(f,S);let k=window.setInterval(()=>{let V=fu.get(f);if(!v(\"ENABLE_AG_ADAPTATION\")||!V)return zd(f,C),void b(S);let z=w();if(z.sendPackets>0&&z.OutgoingAvailableBandwidth>0){if(D===-1)return void(D=Date.now());if(Date.now()-D<1e3)return;let lt=z.sendFrameRate,vt=z.OutgoingAvailableBandwidth,[Dt,ce]=pW(f,lt,vt,V.adaptationConfig,S,A);ce&&(C.qualityLimitationReason=ce),Dt&&V.adaptationConfig.scale!==Dt.scale&&(_.debug(\"[\".concat(f,\"] applyAdaptation: \").concat(C.qualityLimitationReason,`\n           sendFps `).concat(lt,\", bwe \").concat(vt,\", switch from \").concat(V.adaptationConfig.scale,\" to \").concat(Dt.scale,\" \")),V.adaptationConfig=m_(m_({},V.adaptationConfig),Dt),b(Dt));}},v(\"CHECK_LOCAL_STATS_INTERVAL\")),B=m_({},S);fu.set(f,{timer:k,adaptationConfig:B,originConfig:S,adaptationFunc:b}),_.debug(\"[\".concat(f,\"] start adaptation, originConfig: \").concat(JSON.stringify(S),\", degradationPreference: \").concat(A));})(this.id+a.mid,c,this,E,f=>{n&&this.updateAdaptation(n,f);},this.getLocalVideoStats.bind(this));}if(e._encoderConfig){var l;let{bitrateMax:E,frameRate:f,scaleResolutionDownBy:S}=e._encoderConfig;E&&(s.maxBitrate=1e3*E),(W(l=e._hints).call(l,Gt.LOW_STREAM)||e.isUseScaleResolutionDownBy)&&(f&&(s.maxFramerate=Nn(f)),S&&S>=1&&(s.scaleResolutionDownBy=S));}let{maxFramerate:u}=v(\"ENCODER_CONFIG_LIMIT\");if(u&&typeof u==\"number\"&&(s.maxFramerate=s.maxFramerate?Math.min(s.maxFramerate,u):u),v(\"DSCP_TYPE\")&&ho()){var h;let E=v(\"DSCP_TYPE\");W(h=[\"very-low\",\"low\",\"medium\",\"high\"]).call(h,E)&&(s.networkPriority=E);}let p=n.getParameters(),g=(r=p.encodings)===null||r===void 0?void 0:r[0];$t()&&!g&&(o.encodings=[s]),g&&Object.assign(g,s),Object.assign(p,o),_.debug(\"[\".concat(e.getTrackId(),\"] updateRtpSenderEncodings: \").concat(JSON.stringify(p.encodings))),await n.setParameters(p),await async function(E,f,S){try{var C;if(!ft().supportSetRtpSenderParameters||!function(k){return k===\"vp9\"}(E)||!v(\"ENABLE_SVC\"))return;let A={},b={},w=f.getParameters(),D=(C=w.encodings)===null||C===void 0?void 0:C[0];b.scalabilityMode=$E(S),D&&Object.assign(D,b),Object.assign(w,A),await f.setParameters(w),_.debug(\"[updateAdaptation] updateRtpSenderEncodings scalabilityMode success: \".concat(JSON.stringify(w.encodings)));}catch(A){_.debug(\"[updateAdaptation] updateRtpSenderEncodings scalabilityMode failed\",A);}}(this.store.codec,n,v(\"SVC_MODE\"));}async updateAdaptation(e,n){var i,r;if(!e)return _.debug(\"[updateAdaptation] no rtpSender found\");if(!ft().supportSetRtpSenderParameters)return _.debug(\"[updateAdaptation] Browser not support set rtp-sender parameters\");let o={},{bitrateMax:s,frameRate:a,scaleResolutionDownBy:c}=n;s&&(o.maxBitrate=1e3*s),a&&(o.maxFramerate=Nn(a)),c&&c>=1&&W(i=[\"vp8\",\"vp9\"]).call(i,this.store.codec)&&(o.scaleResolutionDownBy=c);let d=e.getParameters(),l=(r=d.encodings)===null||r===void 0?void 0:r[0];l&&Object.assign(l,o),Object.assign(d,{});try{await e.setParameters(d),_.debug(\"[updateAdaptation] updateRtpSenderEncodings: \".concat(JSON.stringify(d.encodings)));}catch(u){!(\"transport\"in e)||e.transport&&e.transport.state===\"connected\"?this.peerConnectionState!==\"connected\"?_.debug(\"[updateAdaptation] peerConnection not connected}\"):_.debug(\"[updateAdaptation] updateRtpSenderEncodings failed\",u):_.debug(\"[updateAdaptation] rtpSender transport not connected}\");}}async applySendEncodings(e,n){try{if(!ft().supportSetRtpSenderParameters||e.length!==n.length)return;for(let i=0;i<e.length;i++){let r=e[i],o=n[i];o instanceof Ft&&!this.isVP8Simulcast(o)&&await this.updateRtpSenderEncodings(o,r.sender);}}catch{_.debug(\"[\".concat(this.store.clientId,\"] Apply RTPSendEncodings failed.\"));}}mungSendOfferSDP(e,n,i){let r=Le.parse(e);return n.forEach((o,s)=>{let a=i[s],c=r.mediaDescriptions.find(d=>d.attributes.mid===a);c&&(ra(c,o),o0(c,o,this.store.codec));}),Le.print(r)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var n;(n=this.onFirstAudioReceived)===null||n===void 0||n.call(this,e);},this.statsFilter.onFirstVideoReceived=e=>{var n;(n=this.onFirstVideoReceived)===null||n===void 0||n.call(this,e);},this.statsFilter.onFirstAudioDecoded=e=>{var n;(n=this.onFirstAudioDecoded)===null||n===void 0||n.call(this,e);},this.statsFilter.onFirstVideoDecoded=(e,n,i)=>{var r;(r=this.onFirstVideoDecoded)===null||r===void 0||r.call(this,e,n,i);},this.statsFilter.onSelectedLocalCandidateChanged=(e,n)=>{var i;(i=this.onSelectedLocalCandidateChanged)===null||i===void 0||i.call(this,e,n);},this.statsFilter.onSelectedRemoteCandidateChanged=(e,n)=>{var i;(i=this.onSelectedRemoteCandidateChanged)===null||i===void 0||i.call(this,e,n);},this.statsFilter.onFirstVideoDecodedTimeout=e=>{var n;(n=this.onFirstVideoDecodedTimeout)===null||n===void 0||n.call(this,e);};}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0;}async applySimulcastForFirefox(e,n){if(e.length===n.length)for(let c=0;c<e.length;c++){var i,r,o,s,a;let d=e[c],l=n[c];if(l instanceof Ft&&!W(i=l._hints).call(i,Gt.LOW_STREAM)&&(r=l._encoderConfig)!==null&&r!==void 0&&r.bitrateMax&&((o=l._encoderConfig)===null||o===void 0?void 0:o.bitrateMax)>200&&(s=l._scalabilityMode)!==null&&s!==void 0&&s.numSpatialLayers&&((a=l._scalabilityMode)===null||a===void 0?void 0:a.numSpatialLayers)>1&&this.store.codec===\"vp8\"){let u={},h={high:1e3*(l._encoderConfig.bitrateMax-50),medium:5e4};u.encodings=[{rid:\"m\",active:!0,maxBitrate:h.medium,scaleResolutionDownBy:4},{rid:\"h\",active:!0,maxBitrate:h.high}];let p=d.sender.getParameters();await d.sender.setParameters(Object.assign(p,u));}}}async applySimulcastEncodings(e,n){if(!$t()&&e.length===n.length)for(let i=0;i<e.length;i++){let r=n[i];if(r instanceof Ft&&this.isVP8Simulcast(r)){let o=e[i],s={},a={high:1e3*(r._encoderConfig.bitrateMax-50),medium:5e4};s.encodings=[{active:!0,adaptivePtime:!1,networkPriority:\"high\",priority:\"high\",maxBitrate:a.high},{active:!0,adaptivePtime:!1,networkPriority:\"low\",priority:\"low\",maxBitrate:a.medium,scaleResolutionDownBy:4}];let c=o.sender.getParameters();await o.sender.setParameters(Object.assign(c,s));}}}isVP8Simulcast(e){var n,i,r,o,s;return !!(e instanceof Ft&&v(\"SIMULCAST\")&&this.store.codec===\"vp8\"&&!W(n=e._hints).call(n,Gt.LOW_STREAM)&&(i=e._encoderConfig)!==null&&i!==void 0&&i.bitrateMax&&((r=e._encoderConfig)===null||r===void 0?void 0:r.bitrateMax)>200&&(o=e._scalabilityMode)!==null&&o!==void 0&&o.numSpatialLayers&&((s=e._scalabilityMode)===null||s===void 0?void 0:s.numSpatialLayers)>1)}logSDPExchange(e,n,i,r){if(v(\"SDP_LOGGING\"))return _.upload(\"[\".concat(this.store.clientId,\"] exchanging \").concat(i,\" \").concat(n,\" SDP during P2PConnection.\").concat(r,`\n`),e),n===\"offer\"?o=>{this.logSDPExchange(o,\"answer\",i===\"local\"?\"remote\":\"local\",r);}:void 0}async getRemoteSSRC(e){if(!this.remoteSDP)return;let n=this.remoteSDP.getSSRC(e);return n&&n.length!==0?n[0].ssrcId:void 0}setConfiguration(e){if(ft().supportPCSetConfiguration){let n=Qa.resolvePCConfiguration(e);this.peerConnection.setConfiguration(n);}}},q(pt.prototype,\"updateRemoteRTPCapabilities\",[pn],Object.getOwnPropertyDescriptor(pt.prototype,\"updateRemoteRTPCapabilities\"),pt.prototype),q(pt.prototype,\"connect\",[pn],Object.getOwnPropertyDescriptor(pt.prototype,\"connect\"),pt.prototype),q(pt.prototype,\"updateRemoteConnect\",[pn],Object.getOwnPropertyDescriptor(pt.prototype,\"updateRemoteConnect\"),pt.prototype),q(pt.prototype,\"createDataChannels\",[pn],Object.getOwnPropertyDescriptor(pt.prototype,\"createDataChannels\"),pt.prototype),q(pt.prototype,\"receive\",[pn],Object.getOwnPropertyDescriptor(pt.prototype,\"receive\"),pt.prototype),q(pt.prototype,\"batchReceive\",[pn],Object.getOwnPropertyDescriptor(pt.prototype,\"batchReceive\"),pt.prototype),q(pt.prototype,\"stopReceiving\",[pn],Object.getOwnPropertyDescriptor(pt.prototype,\"stopReceiving\"),pt.prototype),q(pt.prototype,\"muteRemote\",[pn],Object.getOwnPropertyDescriptor(pt.prototype,\"muteRemote\"),pt.prototype),q(pt.prototype,\"unmuteRemote\",[pn],Object.getOwnPropertyDescriptor(pt.prototype,\"unmuteRemote\"),pt.prototype),q(pt.prototype,\"muteLocal\",[pn],Object.getOwnPropertyDescriptor(pt.prototype,\"muteLocal\"),pt.prototype),q(pt.prototype,\"unmuteLocal\",[pn],Object.getOwnPropertyDescriptor(pt.prototype,\"unmuteLocal\"),pt.prototype),q(pt.prototype,\"close\",[pn],Object.getOwnPropertyDescriptor(pt.prototype,\"close\"),pt.prototype),q(pt.prototype,\"updateEncoderConfig\",[pn],Object.getOwnPropertyDescriptor(pt.prototype,\"updateEncoderConfig\"),pt.prototype),q(pt.prototype,\"updateSendParameters\",[pn],Object.getOwnPropertyDescriptor(pt.prototype,\"updateSendParameters\"),pt.prototype),q(pt.prototype,\"replaceTrack\",[pn],Object.getOwnPropertyDescriptor(pt.prototype,\"replaceTrack\"),pt.prototype),q(pt.prototype,\"updateAdaptation\",[pn],Object.getOwnPropertyDescriptor(pt.prototype,\"updateAdaptation\"),pt.prototype),q(pt.prototype,\"getRemoteSSRC\",[pn],Object.getOwnPropertyDescriptor(pt.prototype,\"getRemoteSSRC\"),pt.prototype),pt);function pn(t,e,n){let i=t[e];if(typeof i!=\"function\")throw new Error(\"Cannot use mutex on object property.\");return n.value=async function(){let r=this.mutex,o=await r.lock(\"From P2PConnection.\".concat(e));try{for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return await i.apply(this,a)}finally{o();}},n}var at;function Wv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function Zi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wv(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wv(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}function Hv(t){var e,n,i,r=2;for(typeof Symbol<\"u\"&&(n=hW,i=Symbol.iterator);r--;){if(n&&(e=t[n])!=null)return e.call(t);if(i&&(e=t[i])!=null)return new bl(e.call(t));n=\"@@asyncIterator\",i=\"@@iterator\";}throw new TypeError(\"Object is not async iterable\")}function bl(t){function e(n){if(Object(n)!==n)return j.reject(new TypeError(n+\" is not an object.\"));var i=n.done;return j.resolve(n.value).then(function(r){return {value:r,done:i}})}return bl=function(n){this.s=n,this.n=n.next;},bl.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(n){var i=this.s.return;return i===void 0?j.resolve({value:n,done:!0}):e(i.apply(this.s,arguments))},throw:function(n){var i=this.s.return;return i===void 0?j.reject(n):e(i.apply(this.s,arguments))}},new bl(t)}var Jd=(at=class extends Xt{get state(){return this._state}set state(t){let e=this._state;this._state=t,this.emit(tt.StateChange,e,this._state);}constructor(t,e){super(),T(this,\"isPlanB\",void 0),T(this,\"store\",void 0),T(this,\"statsUploader\",void 0),T(this,\"connection\",void 0),T(this,\"localTrackMap\",new Map),T(this,\"remoteUserMap\",new Map),T(this,\"localDataChannels\",[]),T(this,\"remoteDataChannelMap\",new Map),T(this,\"pendingLocalTracks\",[]),T(this,\"pendingRemoteTracks\",[]),T(this,\"pendingLocalDataChannels\",[]),T(this,\"pendingRemoteDataChannels\",[]),T(this,\"statsCollector\",void 0),T(this,\"shouldForwardP2PCreation\",void 0),T(this,\"iceFailedCount\",0),T(this,\"dtlsFailedCount\",0),T(this,\"mutex\",new ze(\"P2PChannel-mutex\")),T(this,\"_state\",Rt.Disconnected),T(this,\"_pcStatsUploadType\",v(\"NEW_ICE_RESTART\")?Tr.FIRST_CONNECTION:Tr.OLD_FIRST_CONNECTION),T(this,\"_isInRestartIce\",!1),T(this,\"_isStartRestartIce\",!1),T(this,\"_restartStates\",[\"disconnected\",\"failed\"]),T(this,\"_restartTimer\",void 0),T(this,\"_isFirstConnected\",!0),T(this,\"handleMuteLocalTrack\",async(n,i,r)=>{let o=await this.mutex.lock(\"Locking from P2PChannel.handleMuteLocalTrack\");try{if(!this.connection||this.state!==Rt.Connected)return void r(new N(R.INVALID_OPERATION,\"Cannot call P2PChannel.handleMuteLocalTrack before connection established.\"));let s=this.filterTobeMutedTracks(n);if(s.length===0)return void i();let a=s.find(d=>d[0]===\"videoLowTrack\");a&&a[1].track._originMediaStreamTrack.stop(),await this.connection.muteLocal(s.map(d=>{let[,{id:l}]=d;return l}));let c=this.createMuteMessage(s);await kt(this,tt.RequestMuteLocal,c),i();}catch(s){r(s);}finally{o();}}),T(this,\"handleUnmuteLocalTrack\",async(n,i,r)=>{let o=await this.mutex.lock(\"Locking from P2PChannel.handleUnmuteLocalTrack\");try{if(!this.connection||this.state!==Rt.Connected)return void r(new N(R.INVALID_OPERATION,\"Cannot call P2PChannel.handleUnmuteLocalTrack before connection established.\"));let s=this.filterTobeUnmutedTracks(n);if(s.length===0)return void i();let a=s.find(d=>d[0]===\"videoLowTrack\");if(a){let d=a[1];if(d.track._originMediaStreamTrack.stop(),!v(\"DISABLE_DUAL_STREAM_USE_ENCODING\")&&ft().supportDualStreamEncoding){let l=n._mediaStreamTrack.clone();d.track._mediaStreamTrack=l,d.track._originMediaStreamTrack=l;}else {let l=dm(n,Ac(this,tt.RequestLowStreamParameter));d.track._mediaStreamTrack=l,d.track._originMediaStreamTrack=l;}await new j((l,u)=>{this.handleReplaceTrack(d.track,l,u,!0);});}await this.connection.unmuteLocal(s.map(d=>{let[,{id:l}]=d;return l}));let c=this.createUnmuteMessage(s);await kt(this,tt.RequestUnmuteLocal,c),i();}catch(s){r(s);}finally{o();}}),T(this,\"handleUpdateVideoEncoder\",async(n,i,r)=>{let o=await this.mutex.lock(\"Locking from P2PChannel.handleSetVideoEncoder\");try{let s=this.localTrackMap.get(U.LocalVideoTrack);if(!this.connection||!s||s.track!==n||this.state!==Rt.Connected)return void i();let{id:a,track:c}=s;await this.connection.updateSendParameters(a,c),await this.connection.updateEncoderConfig(a,c),this.emit(tt.UpdateVideoEncoder,c),i();}catch(s){r(s);}finally{o();}}),T(this,\"handleUpdateVideoSendParameters\",async(n,i,r)=>{let o=await this.mutex.lock(\"Locking from P2PChannel.handleUpdateVideoSendParameters\");try{let s=this.localTrackMap.get(U.LocalVideoTrack);if(!this.connection||!s||s.track!==n||this.state!==Rt.Connected)return void i();let{id:a,track:c}=s;await this.connection.updateSendParameters(a,c),i();}catch(s){r(s);}finally{o();}}),T(this,\"handleReplaceMixingTrack\",async(n,i,r,o)=>{if(!this.connection||this.state!==Rt.Connected)return void i();let s=E_([n]),a;_.debug(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection will replace audioTrack [\").concat(s.getTrackId(),\"]\")),typeof o==\"boolean\"&&o||(a=await this.mutex.lock(\"From P2PChannel.handleReplaceMixingTrack\"));try{await this.replaceTrack(n,s),i();}catch(d){r(d);}finally{var c;(c=a)===null||c===void 0||c();}}),T(this,\"handleReplaceTrack\",async(n,i,r,o)=>{let s;_.debug(\"[\".concat(this.store.clientId,\"] P2PChannel handleReplaceTrack for [track-id-\").concat(n.getTrackId(),\"]\")),typeof o==\"boolean\"&&o||(s=await this.mutex.lock(\"From P2PChannel.handleReplaceTrack\"));try{var a;let d=Array.from(this.localTrackMap.entries()).find(l=>{let[,{track:u}]=l;return n===u});if(!this.connection||!d||this.state!==Rt.Connected)return void i();if(await((a=this.connection)===null||a===void 0?void 0:a.replaceTrack(n,d[1].id)),this.isPlanB){let l=d[1];l.id=n._mediaStreamTrack.id,this.localTrackMap.set(d[0],l);}if(d[0]===U.LocalVideoTrack&&!v(\"DISABLE_DUAL_STREAM_USE_ENCODING\")&&ft().supportDualStreamEncoding){let l=this.localTrackMap.get(U.LocalVideoLowTrack);if(l){let u=n._mediaStreamTrack.clone();l.track._originMediaStreamTrack.stop(),l.track._mediaStreamTrack=u,l.track._originMediaStreamTrack=u,await new j((h,p)=>{this.handleReplaceTrack(l.track,h,p,!0);});}}i();}catch(d){r(d);}finally{var c;(c=s)===null||c===void 0||c();}}),T(this,\"handleGetRTCStats\",n=>{n(this.statsCollector.getRTCStats());}),T(this,\"handleGetLocalVideoStats\",n=>{n(this.statsCollector.getLocalVideoTrackStats());}),T(this,\"handleGetLocalAudioStats\",n=>{n(this.statsCollector.getLocalAudioTrackStats());}),T(this,\"handleGetRemoteVideoStats\",n=>this.statsCollector.getRemoteVideoTrackStats(n.uid)[n.uid]),T(this,\"handleGetRemoteAudioStats\",n=>this.statsCollector.getRemoteAudioTrackStats(n.uid)[n.uid]),this.store=t,this.statsCollector=e,this.statsCollector.addP2PChannel(this),this.statsUploader=new pu(this.store),this.bindStatsUploaderEvents(),this.isPlanB=!ft().supportUnifiedPlan||v(\"CHROME_FORCE_PLAN_B\")&&ho(),this.shouldForwardP2PCreation=v(\"FORWARD_P2P_CREATION\")&&ft().supportPCSetConfiguration&&lf(),this.shouldForwardP2PCreation&&(this.connection=this.isPlanB?new Va({},this.store):new ki({},this.store),this.bindConnectionEvents(this.connection));}async startP2PConnection(t){var e;this.state=Rt.New;let n=this.shouldForwardP2PCreation&&((e=this.connection)===null||e===void 0?void 0:e.peerConnectionState)===\"closed\";if(this.shouldForwardP2PCreation&&!n||(n&&this.connection&&(_.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.startP2PConnection ForwardP2P closed.\")),this.connection.close(),this.unbindConnectionEvents(this.connection)),this.connection=this.isPlanB?new Va(t,this.store):new ki(t,this.store),this.bindConnectionEvents(this.connection)),!this.connection)throw new N(R.UNEXPECTED_ERROR,\"Cannot P2PChannel.startConnection before P2PConnection initialization .\");return this._pcStatsUploadType=v(\"NEW_ICE_RESTART\")?Tr.FIRST_CONNECTION:Tr.OLD_FIRST_CONNECTION,this._isFirstConnected=!0,this._isInRestartIce=!1,this._isStartRestartIce=!1,this.connection.setConfiguration(t),this.connection.establishPromise}async connect(t){if(!this.connection)throw new N(R.UNEXPECTED_ERROR,\"Cannot P2PChannel.connect before P2PChannel.startP2PConnection .\");v(\"ENABLE_PREALLOC_PC\")&&this.state===Rt.Connected?await this.connection.updateRemoteConnect(t):(this.store.peerConnectionStart(),await this.connection.connect(t),this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=Rt.Connected);}updateRemoteRTPCapabilities(t){let e=Array.from(this.localTrackMap.entries()).filter(r=>{var o;let[s]=r;return W(o=[U.LocalVideoLowTrack,U.LocalVideoTrack]).call(o,s)}),n=e.map(r=>{let[,{id:o}]=r;return o}),i=e.map(r=>{let[o]=r;return o});if(this.connection instanceof ki){if(X.updateRemoteRTPCapabilities(this.store.sessionId,{trackTypes:JSON.stringify(i),localCodecs:JSON.stringify(this.connection.localCodecs),remoteCodecs:JSON.stringify(t)}),!W(t).call(t,this.store.codec)){let r=[\"vp9\",\"vp8\",\"h264\"].find(o=>W(t).call(t,o));r&&(this.store.codec=r,_.debug(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\" updateRemoteRTPCapabilities] default codec is not available, hence the fallback to \").concat(r,\".\")));}this.connection.updateRemoteRTPCapabilities(n,t);}}async getEstablishParams(){var t;if(this.connection instanceof ki&&this.connection.peerConnectionState!==\"closed\"&&W(t=[Rt.New,Rt.Connected]).call(t,this.state))return this.connection.establishPromise}async publishDataChannel(t){if(!this.connection||this.state!==Rt.Connected){if(this.state===Rt.Disconnected)throw new N(R.UNEXPECTED_ERROR,\"PeerConnection already disconnected.\");return t.forEach(n=>{var i;W(i=this.pendingLocalDataChannels).call(i,n)||this.pendingLocalDataChannels.push(n);}),[]}let e=this.filterTobePublishedDataChannels(t);return e.length===0?[]:(e.forEach(n=>{let i=Date.now();this.store.publish(n.id.toString(),\"datachannel\",i);}),await this.connection.createDataChannels(this.store.uid,e),e.forEach(n=>{this.localDataChannels.push(n);let i=Date.now();this.store.publish(n.id+\"\",\"datachannel\",void 0,i);}),t.map(n=>({streamId:n.id,ordered:n.ordered,maxRetransmits:n.maxRetransmits,metadata:n.metadata,channelId:n._originDataChannelId})))}publish(t,e,n){var i=this;return Bi(function*(){let r=yield Tt(i.mutex.lock(\"From P2PChannel.publish\"));try{if(!i.connection||i.state!==Rt.Connected){if(i.state===Rt.Disconnected)throw new N(R.UNEXPECTED_ERROR,\"PeerConnection already disconnected.\");i.throwIfTrackTypeNotMatch(t);let s=t.filter(a=>i.pendingLocalTracks.indexOf(a)===-1);return void(i.pendingLocalTracks=i.pendingLocalTracks.concat(s))}i.store.pubId=i.store.pubId+1,qe.markPublishStart(i.store.clientId,i.store.pubId);let o=i.filterTobePublishedTracks(t,e,n);if(o.length===0)return void(yield Tt(i.tryToUnmuteAudio(t)));yield*kv(Hv(i.doPublish(i.connection,o)));}finally{r();}})()}doPublish(t,e){var n=this;return Bi(function*(){e.forEach(u=>{let{track:h,type:p}=u,g=Date.now();n.store.publish(h.getTrackId(),p===U.LocalAudioTrack?\"audio\":\"video\",g);}),n.bindLocalTrackEvents(e);let i=e.map(u=>{let{track:h}=u;return h}),r=yield Tt(t.send(e.map(u=>{let{track:h}=u;return h}),n.store.codec,n.store.audioCodec)),o=(yield Tt(r.next())).value,s=n.createGatewayPublishMessage(e,o),a;try{a=yield s;}catch(u){throw r.throw(u),u?.code===R.WS_ABORT&&e.forEach(h=>{let{track:p}=h;n.pendingLocalTracks.indexOf(p)===-1&&n.pendingLocalTracks.push(p);}),n.unbindLocalTrackEvents(e),u}let c=n.mapPubResToRemoteConfig(s,a),d=(yield Tt(r.next(c))).value,l=v(\"ENABLE_VIDEO_SEI\");i.forEach(async u=>{let h=u.getRTCRtpTransceiver();h&&l&&(u.trackMediaType===Q.VIDEO?await BG(h.sender,u):u.trackMediaType===Q.AUDIO&&await async function(p){if(!ft().supportWebRTCEncodedTransform)return void _.warning(\"browser not support audio encoded transform\");if(Bd.has(p)||!p.track)return;let g={track:p.track};if(oo()){if(!p.createEncodedStreams)return void _.warning(\"browser not support createEncodedStreams() API\");let f=null;try{f=p.createEncodedStreams();}catch(C){return void _.error(\"create audio-encoded-streams error\",C&&C.message)}let S=new TransformStream({transform(C,A){g.controller||(g.controller=A),p.track&&p.track.id!==g.track.id&&(_.debug(\"audio track changed: \".concat(g.track.id,\" => \").concat(p.track.id)),g.track.removeEventListener(\"ended\",E),g.track=p.track,g.track.addEventListener(\"ended\",E)),A.enqueue(C);}});f.readable.pipeThrough(S).pipeTo(f.writable);}else if(je()){if(typeof RTCRtpScriptTransform>\"u\")return void _.warning(\"browser not support RTCRtpScriptTransform\");let f=vl(),S=new MessageChannel;await new j(A=>f.onmessage=b=>{b.data===\"registered\"&&A(void 0);});let C=new RTCRtpScriptTransform(f,{name:\"tx\",port:S.port2},[S.port2]);p.transform=C,await new j(A=>f.onmessage=b=>{b.data===\"started\"&&A(void 0);}),S.port1.onmessage=A=>{var b;A.data.transformed&&p.track&&((b=p.track)===null||b===void 0?void 0:b.id)!==g.track.id&&(_.debug(\"audio track changed: \".concat(g.track.id,\" => \").concat(p.track.id)),g.track.removeEventListener(\"ended\",E),g.track=p.track,g.track.addEventListener(\"ended\",E));},g.worker=f;}function E(){if(p.track){if(this.id!==p.track.id)return;p.track.removeEventListener(\"ended\",E);}let f=Bd.get(p);if(f){Bd.delete(p);try{var S,C;(S=f.controller)===null||S===void 0||S.terminate(),(C=f.worker)===null||C===void 0||C.terminate();}catch(A){_.warning(A&&A.message);}}}Bd.set(p,g),p.track.addEventListener(\"ended\",E);}(h.sender));}),e.forEach(u=>{let{type:h}=u;n.statsCollector.addLocalStats(h);}),n.assignLocalTracks(e,d),n.statsUploader.startUploadOutboundStats(),e.forEach(u=>{let{track:h,type:p}=u,g=Date.now();n.store.publish(h.getTrackId(),p===U.LocalAudioTrack?\"audio\":\"video\",void 0,g);});})()}async updateVideoStreamParameter(t,e){let n=this.localTrackMap.get(e);if(!n)return;if(!(n.track instanceof Ft))return _.warn(\"[updateVideoStreamParameter]: track is not an instance of LocalVideoTrack\");if(!(this.connection instanceof ki||this.connection instanceof Va))return _.warn(\"[updateVideoStreamParameter]: connection is not P2PConnection or P2PConnectionPlanB\");let{track:i}=n,r=function(o,s){let a={};return o.height&&o.width&&(a.scaleResolutionDownBy=GE(o,s)),a.maxFramerate=o.framerate?Nn(o.framerate):void 0,a.maxBitrate=o.bitrate?1e3*o.bitrate:void 0,a}(t,i);if(i._encoderConfig||(i._encoderConfig={}),e!==U.LocalVideoLowTrack||!v(\"DISABLE_DUAL_STREAM_USE_ENCODING\")&&ft().supportDualStreamEncoding)r.scaleResolutionDownBy!=null&&(i._encoderConfig.scaleResolutionDownBy=r.scaleResolutionDownBy);else {let o=i._originMediaStreamTrack;if(!o.canvas)return _.warn(\"[\".concat(i.getTrackId(),\"] no canvas on track\"));(function(s,a){let c=s.canvas;a.width&&(c.width=Nn(a.width)),a.height&&(c.height=Nn(a.height)),a.framerate&&(c.stopCapture&&c.stopCapture(),c.stopCapture=Rf(()=>{!c.startCapture&&c.stopCapture&&c.stopCapture(),c.startCapture&&c.startCapture();},Nn(a.framerate)));})(o,t);}r.maxBitrate!=null&&(i._encoderConfig.bitrateMax=r.maxBitrate/1e3),r.maxFramerate!=null&&(i._encoderConfig.frameRate&&typeof i._encoderConfig.frameRate==\"object\"?i._encoderConfig.frameRate.max=r.maxFramerate:i._encoderConfig.frameRate={max:r.maxFramerate}),_.debug(\"[\".concat(i.getTrackId(),\"] LowStreamEncoderConfig: , \").concat(JSON.stringify(i._encoderConfig))),await this.connection.updateRtpSenderEncodings(i);}publishLowStream(t){var e=this;return Bi(function*(){if(!e.connection||e.state!==Rt.Connected)return;let n=yield Tt(e.mutex.lock(\"Locking from P2PChannel.publishLowStream\"));try{let r=e.localTrackMap.get(U.LocalVideoTrack);if(!r)throw new N(R.UNEXPECTED_ERROR,\"Could not find high stream\");if(e.localTrackMap.has(U.LocalVideoLowTrack))throw new N(R.UNEXPECTED_ERROR,\"[\".concat(e.store.clientId,\"] Can't publish low stream when stream already publish\"));let o=[{track:e.getLowVideoTrack(r.track,t),type:U.LocalVideoLowTrack}];if(yield*kv(Hv(e.doPublish(e.connection,o))),r.track.muted||!r.track.enabled){var i;let s=(i=e.localTrackMap.get(U.LocalVideoLowTrack))===null||i===void 0?void 0:i.id;s!==void 0&&(yield Tt(e.connection.muteLocal([s])));}}finally{n();}})()}async republish(){this.pendingLocalTracks.length>0&&(_.debug(\"[\".concat(this.store.clientId,\"] Emit P2PChannelEvents.RequestRePublish to republish tracks.\")),await Ge(this,tt.RequestRePublish,this.pendingLocalTracks),this.emit(tt.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[]),this.pendingLocalDataChannels.length>0&&(_.debug(\"Emit P2PChannelEvents.RequestRePublishDataChannel to republish datachannels.\"),await Ge(this,tt.RequestRePublishDataChannel,this.pendingLocalDataChannels),this.pendingLocalDataChannels=[]);}async reSubscribe(t){for(let e=this.pendingRemoteTracks.length-1;e>=0;e--){let{user:n,kind:i}=this.pendingRemoteTracks[e];(i!==Q.AUDIO||n._audio_added_&&n._audioSSRC)&&(i!==Q.VIDEO||n._video_added_&&n._videoSSRC)||this.pendingRemoteTracks.splice(e,1);}if(t)await Ge(this,tt.RequestReSubscribe,this.pendingRemoteTracks);else for(let{user:e,kind:n}of this.pendingRemoteTracks)await this.subscribe(e,n,n===Q.VIDEO?e._videoSSRC:e._audioSSRC);this.pendingRemoteTracks.forEach(e=>{let{user:n}=e;this.emit(tt.MediaReconnectEnd,n.uid);}),this.pendingRemoteTracks=[];}async unpublish(t){if(!this.connection||this.state!==Rt.Connected)return void t.forEach(i=>{let r=this.pendingLocalTracks.indexOf(i);r!==-1&&this.pendingLocalTracks.splice(r,1);});let e=this.filterTobeUnpublishedTracks(t);if(e.length===0)return;let n=e.find(i=>i[0]===\"videoLowTrack\");return n&&n[1].track.close(),this.doUnpublish(this.connection,e)}async unpublishDataChannel(t){if(!this.connection||this.state!==Rt.Connected)return void t.forEach(n=>{let i=this.pendingLocalDataChannels.indexOf(n);i!==-1&&this.pendingLocalDataChannels.splice(i,1);});let e=this.filterTobeUnpublishedDataChannels(t);return e.length!==0?(e.forEach(n=>{let i=this.localDataChannels.indexOf(n);i!==-1&&this.localDataChannels.splice(i,1);}),this.localDataChannels.length===0&&await this.connection.stopDataChannels(this.store.uid),e.map(n=>n.id)):void 0}async unpublishLowStream(){if(!this.connection||this.state!==Rt.Connected)return;let t=this.localTrackMap.get(U.LocalVideoLowTrack);if(!t)return;t.track.close();let e=[[U.LocalVideoLowTrack,t]];return this.doUnpublish(this.connection,e)}async doUnpublish(t,e){let n=this.createGatewayUnpublishMessage(e);return await t.stopSending(e.map(i=>{let[,{id:r}]=i;return r})),this.withdrawLocalTracks(e),this.unbindLocalTrackEvents(e.map(i=>{let[r,{track:o}]=i;return {type:r,track:o}})),e.forEach(i=>{let[r]=i;this.statsCollector.removeLocalStats(r);}),this.localTrackMap.size===0&&this.statsUploader.stopUploadOutboundStats(),n}async subscribeDataChannel(t,e){if(!this.connection||this.state!==Rt.Connected)throw new N(R.INVALID_OPERATION,\"Cannot subscribe remote user when peerConnection disconnected.\");let n=e.filter(i=>{var r;return !((r=this.remoteDataChannelMap.get(t))!==null&&r!==void 0&&r.get(i.id))});if(n.length!==0)return await this.connection.createDataChannels(t.uid,n),n.forEach(i=>{var r;this.remoteDataChannelMap.has(t)?(r=this.remoteDataChannelMap.get(t))===null||r===void 0||r.set(i.id,i):this.remoteDataChannelMap.set(t,new Map([[i.id,i]]));let o=this.pendingRemoteDataChannels.findIndex(s=>{let{user:a,id:c}=s;return a.uid===t.uid&&c===i.id});o!==-1&&this.pendingRemoteDataChannels.splice(o,1);}),n.map(i=>i.id)}async subscribe(t,e,n,i,r){var o;if(!this.connection||this.state!==Rt.Connected)throw new N(R.INVALID_OPERATION,\"Cannot subscribe remote user when peerConnection disconnected.\");if((o=this.remoteUserMap.get(t))!==null&&o!==void 0&&o.has(e))return;let s,a,c,d=this.connection.getPreMedia(n);if(d)_.debug(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] preSSRCMap has ssrcId: \").concat(n,\", no need to send sub to gateway.\")),c=d.transceiver,s=d.track,a=d.id;else if(r){let h=r.find(g=>{let{stream_type:E}=g;return E===e});if(!h)throw new N(R.UNEXPECTED_ERROR,\"Cannot subscribe to remote \".concat(e,\" for user: \").concat(t.uid,\" because subscribe answer from gateway does not contain stream_type: \").concat(e,\".\"));let p=await this.connection.receive(e,h.ssrcs,String(t._uintid),h.attributes);this.connection instanceof ki&&(c=p.transceiver),s=p.track,a=p.id;}else {let h=await this.connection.receive(e,[{ssrcId:n,rtx:i}],String(t._uintid),void 0);this.connection instanceof ki&&(c=h.transceiver),s=h.track,a=h.id;}e===Q.AUDIO?(t._audioTrack?t._audioTrack._updateOriginMediaStreamTrack(s):(t._audioTrack=new Ks(s,t.uid,t._uintid,this.store),_.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote audio track: \").concat(t._audioTrack.getTrackId()))),c&&t._audioTrack._updateRtpTransceiver(c),this.bindRemoteTrackEvents(t,t._audioTrack)):(t._videoTrack?t._videoTrack._updateOriginMediaStreamTrack(s):(t._videoTrack=new Hs(s,t.uid,t._uintid,this.store),_.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote video track: \").concat(t._videoTrack.getTrackId()))),c&&t._videoTrack._updateRtpTransceiver(c),this.bindRemoteTrackEvents(t,t._videoTrack)),v(\"ENABLE_VIDEO_SEI\")&&c&&(e==Q.VIDEO?await async function(h){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ft().supportWebRTCEncodedTransform)return void _.warning(\"browser not support video encoded transform\");if(!h.track)return;if(xa.has(h)){let f=xa.get(h);return void(f&&(f.onSei=p.onSei))}let g={track:h.track,onSei:p.onSei};if(oo()){if(!h.createEncodedStreams)return void _.warning(\"browser not support createEncodedStreams() API\");let f=null;try{f=h.createEncodedStreams();}catch(C){return void _.error(\"create video-encoded-streams error\",C&&C.message)}let S=new TransformStream({transform(C,A){g.controller||(g.controller=A),h.track&&h.track.id!==g.track.id&&(_.debug(\"video track changed: \".concat(g.track.id,\" => \").concat(h.track.id)),g.track.removeEventListener(\"ended\",E),g.track=h.track,g.track.addEventListener(\"ended\",E));let b=function(w){let D=new DataView(w.data),k=0;for(;k+4<w.data.byteLength;){if(D.getUint8(k+0)===0&&D.getUint8(k+1)===0&&D.getUint8(k+2)===0&&D.getUint8(k+3)===1&&D.getUint8(k+4)===6){let B=k+6,V=0,z=0;for(;(z=D.getUint8(B++))===255;)V+=255;V+=z;let lt=FG(w.data,B,V);return new Uint8Array(lt)}k++;}return null}(C);b&&g.onSei&&g.onSei(b),A.enqueue(C);}});f.readable.pipeThrough(S).pipeTo(f.writable);}else if(je()){if(typeof RTCRtpScriptTransform>\"u\")return void _.warning(\"browser not support RTCRtpScriptTransform\");let f=vl(),S=new MessageChannel;await new j(A=>f.onmessage=b=>{b.data===\"registered\"&&A(void 0);});let C=new RTCRtpScriptTransform(f,{name:\"rx\",port:S.port2},[S.port2]);h.transform=C,await new j(A=>f.onmessage=b=>{b.data===\"started\"&&A(void 0);}),S.port1.onmessage=A=>{var b;A.data.transformed&&h.track&&((b=h.track)===null||b===void 0?void 0:b.id)!==g.track.id?(_.debug(\"video track changed: \".concat(g.track.id,\" => \").concat(h.track.id)),g.track.removeEventListener(\"ended\",E),g.track=h.track,g.track.addEventListener(\"ended\",E)):A.data.sei&&g.onSei&&g.onSei(A.data.sei);},g.worker=f;}function E(){if(h.track){if(this.id!==h.track.id)return;h.track.removeEventListener(\"ended\",E);}(function(f){let S=xa.get(f);if(S){xa.delete(f);try{var C,A;(C=S.controller)===null||C===void 0||C.terminate(),(A=S.worker)===null||A===void 0||A.terminate();}catch(b){_.warning(b&&b.message);}}})(h);}xa.set(h,g),h.track.addEventListener(\"ended\",E);}(c.receiver,{onSei:h=>{var p;(p=t._videoTrack)===null||p===void 0||p._onSei(h);}}):e==Q.AUDIO&&await async function(h){if(!ft().supportWebRTCEncodedTransform)return void _.warning(\"browser not support audio encoded transform\");if(jd.has(h))return;let p={track:h.track};if(oo()){if(!h.createEncodedStreams)return void _.warning(\"browser not support createEncodedStreams() API\");let E=null;try{E=h.createEncodedStreams();}catch(S){return void _.error(\"create audio-encoded-streams error\",S&&S.message)}let f=new TransformStream({transform(S,C){p.controller||(p.controller=C),h.track&&h.track.id!==p.track.id&&(_.debug(\"audio track changed: \".concat(p.track.id,\" => \").concat(h.track.id)),p.track.removeEventListener(\"ended\",g),p.track=h.track,p.track.addEventListener(\"ended\",g)),C.enqueue(S);}});E.readable.pipeThrough(f).pipeTo(E.writable);}else if(je()){if(typeof RTCRtpScriptTransform>\"u\")return void _.warning(\"browser not support RTCRtpScriptTransform\");let E=vl(),f=new MessageChannel;await new j(C=>E.onmessage=A=>{A.data===\"registered\"&&C(void 0);});let S=new RTCRtpScriptTransform(E,{name:\"rx\",port:f.port2},[f.port2]);h.transform=S,await new j(C=>E.onmessage=A=>{A.data===\"started\"&&C(void 0);}),f.port1.onmessage=C=>{var A;C.data.transformed&&h.track&&((A=h.track)===null||A===void 0?void 0:A.id)!==p.track.id&&(_.debug(\"audio track changed: \".concat(p.track.id,\" => \").concat(h.track.id)),p.track.removeEventListener(\"ended\",g),p.track=h.track,p.track.addEventListener(\"ended\",g));},p.worker=E;}function g(){h.track.removeEventListener(\"ended\",g),function(E){let f=jd.get(E);if(f){jd.delete(E);try{var S,C;(S=f.controller)===null||S===void 0||S.terminate(),(C=f.worker)===null||C===void 0||C.terminate();}catch(A){_.warning(A&&A.message);}}}(h);}jd.set(h,p),h.track.addEventListener(\"ended\",g);}(c.receiver));let l=this.remoteUserMap.get(t);l?l.set(e,a):this.remoteUserMap.set(t,new Map([[e,a]])),this.statsCollector.addRemoteStats(t.uid),this.statsUploader.startUploadInboundStats();let u=this.pendingRemoteTracks.findIndex(h=>{let{user:p,kind:g}=h;return p.uid===t.uid&&e===g});u!==-1&&(this.pendingRemoteTracks.splice(u,1),this.emit(tt.MediaReconnectEnd,t.uid));}async massSubscribe(t){return this.massSubscribeNoLock(t)}async massSubscribeNoLock(t){if(!this.connection||this.state!==Rt.Connected)throw new N(R.INVALID_OPERATION,\"Cannot subscribeAll remote users when peerConnection disconnected.\");t=t.filter(r=>{var o;let{user:s,mediaType:a}=r;return !((o=this.remoteUserMap.get(s))!==null&&o!==void 0&&o.has(a))});let e=[],n=new Map;t.forEach(r=>{if(!this.connection)return;let o=this.connection.getPreMedia(r.ssrcId);o?n.set(r.ssrcId,o):e.push(r);});let i=await this.connection.batchReceive(e.map(r=>{let{user:o,mediaType:s,ssrcId:a,rtxSsrcId:c}=r;return {kind:s,ssrcMsg:[{ssrcId:a,rtx:c}],mslabel:String(o._uintid)}}));e.forEach((r,o)=>{n.set(r.ssrcId,i[o]);}),t.forEach(r=>{let{user:o,mediaType:s,ssrcId:a}=r,c=n.get(a);if(!c)return void _.debug(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] cannot find \").concat(o.uid,\" subscribe data,\").concat(s,\", \").concat(a));let{track:d,id:l,transceiver:u}=c;s===Q.AUDIO?(o._audioTrack?o._audioTrack._updateOriginMediaStreamTrack(d):(o._audioTrack=new Ks(d,o.uid,o._uintid,this.store),_.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote audio track: \").concat(o._audioTrack.getTrackId()))),u&&o._audioTrack._updateRtpTransceiver(u),this.bindRemoteTrackEvents(o,o._audioTrack)):(o._videoTrack?o._videoTrack._updateOriginMediaStreamTrack(d):(o._videoTrack=new Hs(d,o.uid,o._uintid,this.store),_.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote video track: \").concat(o._videoTrack.getTrackId()))),u&&o._videoTrack._updateRtpTransceiver(u),this.bindRemoteTrackEvents(o,o._videoTrack));let h=this.remoteUserMap.get(o);h?h.set(s,l):this.remoteUserMap.set(o,new Map([[s,l]])),this.statsCollector.addRemoteStats(o.uid),this.statsUploader.startUploadInboundStats();let p=this.pendingRemoteTracks.findIndex(g=>{let{user:E,kind:f}=g;return E.uid===o.uid&&s===f});p!==-1&&(this.pendingRemoteTracks.splice(p,1),this.emit(tt.MediaReconnectEnd,o.uid));});}async unsubscribe(t,e,n){let i=this.pendingRemoteTracks.filter(s=>{let{user:a,kind:c}=s;return e!==void 0?a.uid===t.uid&&e===c:a.uid===t.uid});if(i.forEach(s=>{let a=this.pendingRemoteTracks.indexOf(s);this.pendingRemoteTracks.splice(a,1);}),this.connection&&this.state===Rt.Connected||n||i.forEach(s=>{let{kind:a}=s;var c;if(a===Q.AUDIO)(c=t._audioTrack)===null||c===void 0||c._destroy(),t._audioTrack=void 0;else if(a===Q.VIDEO){var d;(d=t._videoTrack)===null||d===void 0||d._destroy(),t._videoTrack=void 0;}}),!this.connection||this.state!==Rt.Connected)return;let r=this.filterTobeUnSubscribedTracks(t,e);if(r.length===0)return;await this.connection.stopReceiving(r.map(s=>{let[,{id:a}]=s;return a}));let o=this.createUnsubscribeMessage(r);return this.withdrawRemoteTracks(r),this.remoteUserMap.size===0&&this.statsUploader.stopUploadInboundStats(),r.forEach(s=>{let[a,{kind:c}]=s;var d,l;if(c===Q.VIDEO&&a._videoSSRC&&((d=this.connection)===null||d===void 0||d.setStatsRemoteVideoIsReady(a._videoSSRC,!1)),c===Q.VIDEO)this.unbindRemoteTrackEvents(a._videoTrack),n||((l=a._videoTrack)===null||l===void 0||l._destroy(),a._videoTrack=void 0);else if(c===Q.AUDIO){var u;this.unbindRemoteTrackEvents(a._audioTrack),!n&&((u=a._audioTrack)===null||u===void 0||u._destroy(),a._audioTrack=void 0);}}),o}async unsubscribeDataChannel(t,e){if(e.forEach(r=>{let o=this.pendingRemoteDataChannels.findIndex(s=>s.id===r.id);o!==-1&&this.pendingRemoteDataChannels.splice(o,1);}),!this.connection)return;let n=this.filterTobeUnSubscribedDataChannels(t,e);if(n.length===0)return;e.forEach(r=>{r._close();});let i=this.remoteDataChannelMap.get(t);return n.forEach(r=>{i&&i.delete(r.id);}),i&&i.size===0&&(this.remoteDataChannelMap.delete(t),await this.connection.stopDataChannels(t.uid)),n.map(r=>r.id)}async massUnsubscribe(t){return this.massUnsubscribeNoLock(t)}async massUnsubscribeNoLock(t){let e=[];for(let{user:r,mediaType:o}of t){let s=this.pendingRemoteTracks.filter(a=>{let{user:c,kind:d}=a;return o!==void 0?c.uid===r.uid&&o===d:c.uid===r.uid});s.forEach(a=>{let c=this.pendingRemoteTracks.indexOf(a);this.pendingRemoteTracks.splice(c,1);}),e=e.concat(s);}if(!this.connection||this.state!==Rt.Connected)return void e.forEach(r=>{let{user:o,kind:s}=r;var a;if(s===Q.AUDIO)(a=o._audioTrack)===null||a===void 0||a._destroy(),o._audioTrack=void 0;else if(s===Q.VIDEO){var c;(c=o._videoTrack)===null||c===void 0||c._destroy(),o._videoTrack=void 0;}});let n=ji(t).call(t,(r,o)=>{let{user:s,mediaType:a}=o,c=this.filterTobeUnSubscribedTracks(s,a);return r.concat(c)},[]);if(n.length===0)return;await this.connection.stopReceiving(n.map(r=>{let[,{id:o}]=r;return o}));let i=this.createUnsubscribeAllMessage(n);return this.withdrawRemoteTracks(n),this.remoteUserMap.size===0&&this.statsUploader.stopUploadInboundStats(),n.forEach(r=>{let[o,{kind:s}]=r;var a,c;if(s===Q.VIDEO&&o._videoSSRC&&((a=this.connection)===null||a===void 0||a.setStatsRemoteVideoIsReady(o._videoSSRC,!1)),s===Q.VIDEO)this.unbindRemoteTrackEvents(o._videoTrack),(c=o._videoTrack)===null||c===void 0||c._destroy(),o._videoTrack=void 0;else if(s===Q.AUDIO){var d;this.unbindRemoteTrackEvents(o._audioTrack),(d=o._audioTrack)===null||d===void 0||d._destroy(),o._audioTrack=void 0;}}),i}isPreSubScribe(t){return !this.connection||this.state!==Rt.Connected?!1:!!this.connection.getPreMedia(t)}async muteRemote(t,e){if(!this.connection)return;let n=this.remoteUserMap.get(t);if(!n)return void _.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.muteRemote has no remote user \").concat(t.uid,\".\"));if(!n.get(e))return void _.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.muteRemote has no remote user \").concat(t.uid,\" media type \").concat(e,\".\"));let i=e===Q.VIDEO?t._videoSSRC:t._audioSSRC;i!==void 0&&this.connection.setStatsRemoteVideoIsReady(i,!1);}async unmuteRemote(t,e){return this.unmuteRemoteNoLock(t,e)}async unmuteRemoteNoLock(t,e){if(!this.connection)return;let n=this.remoteUserMap.get(t);if(!n)return void _.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.unmuteRemote has no remote user \").concat(t.uid,\".\"));n.get(e)||_.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.unmuteRemote has no remote user \").concat(t.uid,\" media type \").concat(e,\".\"));}getAllTracks(t){let e=this.localTrackMap.get(U.LocalAudioTrack);if(e?.track instanceof ge){let n=e.track;return Array.from(this.localTrackMap.entries()).filter(i=>{let[r]=i;return r!==U.LocalAudioTrack}).filter(i=>{let[r]=i;return !(t&&r===U.LocalVideoLowTrack)}).map(i=>{let[,{track:r}]=i;return r}).concat(n.trackList)}return Array.from(this.localTrackMap.entries()).filter(n=>{let[i]=n;return !(t&&i===U.LocalVideoLowTrack)}).map(n=>{let[,{track:i}]=n;return i})}getAllDataChannels(){return this.localDataChannels}reportPublishEvent(t,e,n,i,r){if(t){let s=this.localTrackMap.get(U.LocalAudioTrack),a=i?this.localTrackMap.get(U.LocalVideoLowTrack):this.localTrackMap.get(U.LocalVideoTrack);X.publish(this.store.sessionId,{eventElapse:qe.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:t,ec:e,audioName:s?.track.getTrackLabel(),videoName:a?.track.getTrackLabel(),screenshare:a?.track._hints.indexOf(Gt.SCREEN_TRACK)!==-1,audio:!!s,video:!!a,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r});}else {var o;n||(n=[]);let s=n.find(c=>c instanceof Qt),a=i?(o=this.localTrackMap.get(U.LocalVideoTrack))===null||o===void 0?void 0:o.track:n.find(c=>c instanceof Ft);X.publish(this.store.sessionId,{eventElapse:qe.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:t,ec:e,audioName:s?.getTrackLabel(),videoName:a?.getTrackLabel(),screenshare:a?._hints.indexOf(Gt.SCREEN_TRACK)!==-1,audio:!!s,video:!!a,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r});}}reportSubscribeEvent(t,e,n,i){let r=i===Q.VIDEO?n._videoSSRC:n._audioSSRC;r&&X.subscribe(this.store.sessionId,{succ:t,ec:e,video:i===Q.VIDEO,audio:i===Q.AUDIO,peerid:n.uid,subscribeRequestid:r,p2pid:this.store.p2pId,eventElapse:qe.measureFromSubscribeStart(this.store.clientId,r),preSsrc:this.isPreSubScribe(r)});}reset(){_.debug(\"[\".concat(this.store.clientId,\"] P2PChannel.reset\")),this.mutex=new ze(\"P2PChannel-mutex\"),this.connection&&(this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0),this.shouldForwardP2PCreation&&(this.connection=this.isPlanB?new Va({},this.store):new ki({},this.store),this.bindConnectionEvents(this.connection)),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),this.statsUploader.stopUploadExtensionUsageStats(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.unbindRtpTransceiver();let t=this.localTrackMap.get(U.LocalAudioTrack);if(t?.track instanceof ge){if(t.track.trackList.length>0){let e=t.track;t.track.trackList.forEach(n=>{e.removeAudioTrack(n);});}t.track.close();}this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.iceFailedCount=0,this.dtlsFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.localDataChannels=[],this.remoteDataChannelMap.clear(),this.pendingLocalDataChannels=[],this.pendingRemoteDataChannels=[],this.state=Rt.Disconnected;}getStats(){var t;return (t=this.connection)===null||t===void 0?void 0:t.getStats()}getRemoteVideoIsReady(t){var e;return ((e=this.connection)===null||e===void 0?void 0:e.getRemoteVideoIsReady(t))||!1}getLocalAudioVolume(){let t=this.localTrackMap.get(U.LocalAudioTrack);if(t)return t.track.getVolumeLevel()}getLocalVideoSize(){let t=this.localTrackMap.get(U.LocalVideoTrack);if(t)return {width:t.track.videoWidth||0,height:t.track.videoHeight||0}}getEncoderConfig(t){let e=this.localTrackMap.get(t);return e&&e.track instanceof Ft||e&&e.track instanceof Qt?e.track._encoderConfig:void 0}getLocalMedia(t){return this.localTrackMap.get(t)}hasLocalMedia(){return this.localTrackMap.size>0}hasRemoteMedia(t,e){if(!t)return this.remoteUserMap.size>0;let n=this.remoteUserMap.get(t);return !!n&&(!e||n.has(e))}async hasRemoteMediaWithLock(t,e){if(!t)return this.remoteUserMap.size>0;let n=this.remoteUserMap.get(t);return !!n&&(!e||n.has(e))}getRemoteMedia(t){var e;let n=Array.from(xn(e=this.remoteUserMap).call(e)).find(i=>i.uid===t);return n?{audioTrack:n.audioTrack,audioSSRC:n._audioSSRC,videoTrack:n.videoTrack,videoSSRC:n._videoSSRC}:{}}getAudioLevels(){let t=Array.from(this.remoteUserMap.entries()).map(n=>{let[i]=n;return {uid:i.uid,level:i.audioTrack?100*i.audioTrack._source.getAccurateVolumeLevel():0}}),e=this.localTrackMap.get(U.LocalAudioTrack);return e&&t.push({level:100*e.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),t=ed(t).call(t,(n,i)=>n.level-i.level),t}async disconnectForReconnect(){this.connection&&(_.debug(\"[\".concat(this.store.clientId,\"] P2PChannel.disconnectForReconnect closing P2PConnection\")),this.state=Rt.Reconnecting,v(\"KEEP_LAST_FRAME\")&&this.remoteUserMap.size!==0&&Array.from(this.remoteUserMap.entries()).forEach(t=>{let[e]=t;var n;e._videoTrack&&e._videoTrack._player&&((n=e._videoTrack._player.getVideoElement())===null||n===void 0||n.pause(),e._videoTrack._player.isKeepLastFrame=!0,e._videoTrack._originMediaStreamTrack.stop());}),this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0,this.shouldForwardP2PCreation&&(this.connection=this.isPlanB?new Va({},this.store):new ki({},this.store),this.bindConnectionEvents(this.connection)),this.localTrackMap.size!==0&&(Array.from(this.localTrackMap.entries()).forEach(t=>{var e;let[n,{track:i}]=t;switch(n){case U.LocalVideoTrack:W(e=i._hints).call(e,Gt.LOW_STREAM)?i.close():this.pendingLocalTracks.push(i);break;case U.LocalAudioTrack:i instanceof ge?this.pendingLocalTracks=this.pendingLocalTracks.concat(i.trackList):this.pendingLocalTracks.push(i);case U.LocalVideoLowTrack:}}),this.emit(tt.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),this.remoteUserMap.size!==0&&Array.from(this.remoteUserMap.entries()).forEach(t=>{let[e,n]=t;Array.from(xn(n).call(n)).forEach(i=>{this.setPendingRemoteMedia(e,i);}),this.emit(tt.MediaReconnectStart,e.uid);}),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),this.localDataChannels.length!==0&&(this.localDataChannels.forEach(t=>{this.pendingLocalDataChannels.push(t);}),this.localDataChannels.length=0),this.remoteDataChannelMap.size!==0&&(Array.from(this.remoteDataChannelMap.entries()).forEach(t=>{let[e,n]=t;Array.from(xn(n).call(n)).forEach(i=>{this.setPendingRemoteDataChannel(e,i);});}),this.remoteDataChannelMap.clear()),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),_.debug(\"[\".concat(this.store.clientId,\"] P2PChannel disconnected, waiting to reconnect.\")));}hasPendingRemoteDataChannel(t,e){for(let n of this.pendingRemoteDataChannels){let{user:i,id:r}=n;if((t instanceof ir?t.uid:t)===i.uid&&r===e)return !0}return !1}setPendingRemoteDataChannel(t,e){this.hasPendingRemoteDataChannel(t,e)||this.pendingRemoteDataChannels.push({user:t,id:e});}hasPendingRemoteMedia(t,e){for(let n of this.pendingRemoteTracks){let{user:i,kind:r}=n;if((t instanceof ir?t.uid:t)===i.uid&&e===r)return !0}return !1}setPendingRemoteMedia(t,e){this.hasPendingRemoteMedia(t,e)||this.pendingRemoteTracks.push({user:t,kind:e});}restartICE(t){var e=this;return Bi(function*(){if(!e.connection||e.state!==Rt.Connected)return;let n=yield Tt(e.mutex.lock(\"From P2PChannel.restartICE\")),i;try{i=yield Tt(e.connection.restartICE(t));let o=yield Tt(i.next());if(o.done)return;let s=o.value,a=yield s;switch(e.reportPCDisconnectedOrFailed(t),t){case On.TCP:e._pcStatsUploadType=Tr.TCP_RESTART;break;case On.RELAY:e._pcStatsUploadType=Tr.RELAY_RESTART;break;default:e._pcStatsUploadType=Tr.OLD_RESTART;}e._isInRestartIce=!0,i.next(a);}catch(o){var r;(r=i)===null||r===void 0||r.throw(o);}finally{n();}})()}getUplinkNetworkQuality(){if(!this.connection)return 0;let t=this.connection.getStats(),e=this.localTrackMap.get(U.LocalVideoTrack),n=this.localTrackMap.get(U.LocalAudioTrack),i=t.videoSend.find(p=>p.ssrc===e?.ssrcs[0].ssrcId),r=t.audioSend.find(p=>p.ssrc===n?.ssrcs[0].ssrcId);if(!i||!r)return 1;let o=ni(this,tt.NeedSignalRTT),s=i?i.rttMs:void 0,a=r?r.rttMs:void 0,c=s&&a?(s+a)/2:s||a,d=(c&&o?(c+o)/2:c||o)||0,l=100*t.sendPacketLossRate*.7/50+.3*d/1500,u=l<.17?1:l<.36?2:l<.59?3:l<.1?4:5,h=e?.track;if(h&&h._encoderConfig&&h._hints.indexOf(Gt.SCREEN_TRACK)===-1){let p=h._encoderConfig.bitrateMax,g=t.bitrate.actualEncoded;if(p&&g){let E=(1e3*p-g)/(1e3*p);return OO[E<.15?0:E<.3?1:E<.45?2:E<.6?3:4][u]}}return u}getDownlinkNetworkQuality(){if(!this.connection)return 0;let t=this.connection.getStats(),e=0;return Array.from(this.remoteUserMap.entries()).forEach(n=>{let[i]=n,r=i._audioSSRC,o=i._videoSSRC,s=t.audioRecv.find(g=>g.ssrc===r),a=t.videoRecv.find(g=>g.ssrc===o);if(!s&&!a)return void(e+=1);let c=ni(this,tt.NeedSignalRTT),d=t.rtt,l=(d&&c?(d+c)/2:d||c)||0,u=s?s.jitterMs:void 0,h=t.recvPacketLossRate,p=.7*h*100/50+.3*l/1500;u&&(p=.6*h*100/50+.2*l/1500+.2*u/400),e+=p<.1?1:p<.17?2:p<.36?3:p<.59?4:5;}),this.remoteUserMap.size>0?Math.round(e/this.remoteUserMap.size):e}async muteLocalTrack(t){return new j((e,n)=>{this.handleMuteLocalTrack(t,e,n);})}async replaceTrack(t,e){var n;if(_.debug(\"[\".concat(this.store.clientId,\"] P2PChannel replaceTrack from [\").concat(t.getTrackId(),\"] to [\").concat(e.getTrackId(),\"]\")),!this.connection||this.state!==Rt.Connected)return;let i=Array.from(this.localTrackMap.entries()).find(o=>{let[,{track:s}]=o;return t===s});if(!i)return;let r=i[0];if(t!==e&&(this.unbindLocalTrackEvents([{track:t,type:r}]),this.bindLocalTrackEvents([{track:e,type:r}]),i[1].track=e),await((n=this.connection)===null||n===void 0?void 0:n.replaceTrack(e,i[1].id)),this.isPlanB){let o=i[1];o.id=e._mediaStreamTrack.id,this.localTrackMap.set(r,o);}if(r===U.LocalVideoTrack&&!v(\"DISABLE_DUAL_STREAM_USE_ENCODING\")&&ft().supportDualStreamEncoding){let o=this.localTrackMap.get(U.LocalVideoLowTrack);if(o){let s=t._mediaStreamTrack.clone();o.track._originMediaStreamTrack.stop(),o.track._mediaStreamTrack=s,o.track._originMediaStreamTrack=s,await new j((a,c)=>{this.handleReplaceTrack(o.track,a,c,!0);});}}}filterTobePublishedTracks(t,e,n){let i=[],r=this.getAllTracks();t=Ls(t=t.filter(c=>r.indexOf(c)===-1));let o,s=!1,a=this.localTrackMap.get(U.LocalAudioTrack);for(let c of t){if(c instanceof Ft&&(this.localTrackMap.has(U.LocalVideoTrack)||s?new N(R.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(i.push({track:c,type:U.LocalVideoTrack}),s=!0),e)){let d=this.getLowVideoTrack(c,n);i.push({track:d,type:U.LocalVideoLowTrack});}if(c instanceof Qt)if(a){let d=a.track;if(d instanceof ge)lm([c]),d.addAudioTrack(c),this.bindLocalAudioTrackEvents(c,!0);else {let l=E_([d,c]);_.debug(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection will replace audioTrack [\").concat(l.getTrackId(),\"]\")),this.replaceTrack(d,l);}}else o instanceof ge?(lm([c]),o.addAudioTrack(c)):o||!c._useAudioElement&&ft().webAudioMediaStreamDest&&!c._bypassWebAudio?o=E_(o?[c,o]:[c]):o=c;}return o&&(_.debug(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection will send audioTrack [\").concat(o.getTrackId(),\"]\")),i.push({track:o,type:U.LocalAudioTrack})),i}filterTobeUnpublishedTracks(t){let e=[],n=this.getAllTracks();t=Ls(t=t.filter(i=>n.indexOf(i)!==-1));for(let i of t){if(i instanceof Qt){let r=this.localTrackMap.get(U.LocalAudioTrack);if(!r)continue;r.track instanceof ge?(r.track.removeAudioTrack(i),this.unbindLocalAudioTrackEvents(i),r.track.trackList.length===0&&(e.push([U.LocalAudioTrack,r]),r.track.close())):e.push([U.LocalAudioTrack,r]);}if(i instanceof Ft){let r=this.localTrackMap.get(U.LocalVideoTrack);if(!r)continue;e.push([U.LocalVideoTrack,r]);let o=this.localTrackMap.get(U.LocalVideoLowTrack);o&&e.push([U.LocalVideoLowTrack,o]);}}return e}filterTobePublishedDataChannels(t){return t=(t=Ls(t)).filter(e=>this.localDataChannels.findIndex(n=>n.id===e.id)===-1)}filterTobeUnpublishedDataChannels(t){return t=(t=(t=Ls(t)).filter(e=>this.localDataChannels.indexOf(e)!==-1)).filter(e=>e._originDataChannel)}bindLocalTrackEvents(t){t.forEach(e=>{let{track:n,type:i}=e;switch(i){case U.LocalVideoTrack:n.addListener(H.GET_STATS,this.handleGetLocalVideoStats),n.addListener(H.GET_RTC_STATS,this.handleGetRTCStats),n.addListener(H.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),n.addListener(H.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),n.addListener(H.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),n.addListener(H.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),n.addListener(H.NEED_REPLACE_TRACK,this.handleReplaceTrack),n.addListener(H.NEED_MUTE_TRACK,this.handleMuteLocalTrack),n.addListener(H.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case U.LocalAudioTrack:this.bindLocalAudioTrackEvents(n);case U.LocalVideoLowTrack:}});}bindLocalAudioTrackEvents(t,e){t instanceof ge?t.trackList.forEach(n=>{n.addListener(H.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),n.addListener(H.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),n.addListener(H.GET_STATS,this.handleGetLocalAudioStats),n.addListener(H.NEED_MUTE_TRACK,this.handleMuteLocalTrack),n.addListener(H.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);}):(t.addListener(H.GET_STATS,this.handleGetLocalAudioStats),t.addListener(H.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.addListener(H.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.addListener(H.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.addListener(H.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),e||(t.addListener(H.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.addListener(H.NEED_REPLACE_MIXING_TRACK,this.handleReplaceMixingTrack)));}unbindLocalTrackEvents(t){t||(t=Array.from(this.localTrackMap.entries()).map(e=>{let[n,{track:i}]=e;return {track:i,type:n}})),t.forEach(e=>{let{track:n,type:i}=e;switch(i){case U.LocalVideoTrack:n.off(H.GET_STATS,this.handleGetLocalVideoStats),n.off(H.GET_RTC_STATS,this.handleGetRTCStats),n.off(H.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),n.off(H.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),n.off(H.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),n.off(H.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),n.off(H.NEED_REPLACE_TRACK,this.handleReplaceTrack),n.off(H.NEED_MUTE_TRACK,this.handleMuteLocalTrack),n.off(H.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case U.LocalAudioTrack:this.unbindLocalAudioTrackEvents(n);case U.LocalVideoLowTrack:}});}unbindLocalAudioTrackEvents(t){t instanceof ge?t.trackList.forEach(e=>{e.off(H.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(H.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(H.GET_STATS,this.handleGetLocalAudioStats),e.off(H.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(H.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);}):(t.off(H.GET_STATS,this.handleGetLocalAudioStats),t.off(H.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.off(H.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.off(H.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.off(H.NEED_REPLACE_MIXING_TRACK,this.handleReplaceMixingTrack),t.off(H.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.off(H.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack));}bindRemoteTrackEvents(t,e){e instanceof Hs&&e.addListener(H.GET_STATS,n=>{n(this.handleGetRemoteVideoStats(t));}),e instanceof Ks&&e.addListener(H.GET_STATS,n=>{n(this.handleGetRemoteAudioStats(t));});}unbindRemoteTrackEvents(t){t&&t.removeAllListeners(H.GET_STATS);}unbindAllRemoteTrackEvents(){Array.from(this.remoteUserMap.entries()).forEach(t=>{let[e,n]=t;n.has(Q.AUDIO)&&this.unbindRemoteTrackEvents(e._audioTrack),n.has(Q.VIDEO)&&this.unbindRemoteTrackEvents(e._videoTrack);});}createGatewayPublishMessage(t,e){return t.map((n,i)=>{var r;let o,s,{track:a,type:c}=n;switch(c){case U.LocalAudioTrack:o=Ct.Audio,s={dtx:a instanceof ou&&a._config.DTX,hq:!1,lq:!1,stereo:!1,speech:!1};break;case U.LocalVideoTrack:o=W(r=a._hints).call(r,Gt.SCREEN_TRACK)?Ct.Screen:Ct.High,s=Zi(Zi({},GR(a)),{},{codec:this.store.codec,svc_mode:$E()});break;case U.LocalVideoLowTrack:o=Ct.Low,s=Zi(Zi({},GR(a)),{},{codec:this.store.codec,svc_mode:$E()});}return {stream_type:o,attributes:s,ssrcs:e[i]}})}createGatewayUnpublishMessage(t){return t.map(e=>{var n;let i,[r,{track:o,ssrcs:s,id:a}]=e;switch(r){case U.LocalVideoTrack:i=W(n=o._hints).call(n,Gt.SCREEN_TRACK)?Ct.Screen:Ct.High;break;case U.LocalAudioTrack:i=Ct.Audio;break;case U.LocalVideoLowTrack:i=Ct.Low;}return {stream_type:i,ssrcs:s,mid:a}})}assignLocalTracks(t,e){t.forEach((n,i)=>{let{track:r,type:o}=n;this.localTrackMap.set(o,{track:r,id:e[i].id,ssrcs:e[i].localSSRC});});}withdrawLocalTracks(t){t.forEach(e=>{let[n]=e;this.localTrackMap.delete(n);});}bindConnectionEvents(t){t.onConnectionStateChange=async e=>{if(_.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onConnectionStateChange(\").concat(e,\")\")),this.emit(tt.PeerConnectionStateChange,e),e!==\"connected\"||this.store.keyMetrics.peerConnectionEnd||this.store.peerConnectionEnd(),e===\"connected\"&&(this._restartTimer&&(clearTimeout(this._restartTimer),this._restartTimer=void 0),(this._isFirstConnected||this._isInRestartIce)&&this.reportPCStats(Date.now(),!0,this._pcStatsUploadType),this._isInRestartIce=!1,this._isFirstConnected=!1,this._isStartRestartIce=!1),v(\"NEW_ICE_RESTART\")){var n;if(W(n=this._restartStates).call(n,e)){if(this._isStartRestartIce)return;this._isStartRestartIce=!0;let i=s=>{(t.iceConnectionState===\"disconnected\"||t.iceConnectionState===\"checking\"||t.iceConnectionState===\"failed\")&&(_.debug(\"[\".concat(this.store.clientId,\"] [P2PChannel] start use restartICE, type is \").concat(s)),ni(this,tt.QueryClientConnectionState)===\"CONNECTED\"&&this.emit(tt.RequestRestartICE,s));},r=()=>{t.iceConnectionState!==\"disconnected\"&&t.iceConnectionState!==\"checking\"&&t.iceConnectionState!==\"failed\"||(this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),_.debug(\"[\".concat(this.store.clientId,\"] P2PConnection disconnected timeout, force reconnect\")),setTimeout(()=>this.emit(tt.P2PLost),0),this.iceFailedCount+=1,this.requestReconnect());},o=v(\"ICE_RESTART_INTERVAL\");return void(this._restartTimer=window.setTimeout(()=>{if(v(\"JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE\")&&ft().supportPCSetConfiguration)i(On.RELAY),this._restartTimer=window.setTimeout(r,o);else if($t())i(On.UDP),this._restartTimer=window.setTimeout(r,4e3);else {if(i(On.TCP),ft().supportPCSetConfiguration)return void(this._restartTimer=window.setTimeout(()=>{i(On.RELAY),this._restartTimer=window.setTimeout(r,o);},o));this._restartTimer=window.setTimeout(r,o);}},800))}}else {if(e===\"disconnected\"&&t.iceConnectionState===\"disconnected\")return setTimeout(()=>{t.iceConnectionState===\"disconnected\"&&v(\"ICE_RESTART\")&&ni(this,tt.QueryClientConnectionState)===\"CONNECTED\"&&this.emit(tt.RequestRestartICE);},800),void setTimeout(()=>{t.peerConnectionState===\"disconnected\"&&(_.debug(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection disconnected timeout 4000ms, force reconnect\")),this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),this._isInRestartIce=!1,setTimeout(()=>this.emit(tt.P2PLost),0),this.iceFailedCount+=1,this.requestReconnect());},4e3);e===\"failed\"&&(_.debug(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection state failed, force reconnect\")),this.reportPCDisconnectedOrFailed(),setTimeout(()=>this.emit(tt.P2PLost),0),this.iceFailedCount+=1,await this.requestReconnect());}},t.onICEConnectionStateChange=e=>{e!==\"connected\"||this.store.keyMetrics.iceConnectionEnd||this.store.iceConnectionEnd(),_.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onICEConnectionStateChange(\").concat(e,\")\")),X.reportApiInvoke(this.store.sessionId,{name:\"ICEConnectionStateChange\",options:e,tag:Zt.TRACER}).onSuccess(),this.emit(tt.IceConnectionStateChange,e);},t.onICETransportStateChange=e=>{_.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onICETransportStateChange(\").concat(e,\")\"));},t.onDTLSTransportStateChange=e=>{_.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onDTLSTransportStateChange(\").concat(e,\")\"));},t.onDTLSTransportError=e=>{_.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onDTLSTransportError(\").concat(e,\")\"));},t.onFirstAudioDecoded=e=>{var n;let i=Array.from(xn(n=this.remoteUserMap).call(n)).find(o=>o._audioSSRC===e);var r;i&&(this.store.subscribe(i.uid,\"audio\",void 0,void 0,void 0,Date.now()),(r=i.audioTrack)===null||r===void 0||r.emit(Ws.FIRST_FRAME_DECODED),X.firstRemoteFrame(this.store.sessionId,De.FIRST_AUDIO_DECODE,Jt.FIRST_AUDIO_DECODE,{peer:i._uintid,subscribeElapse:qe.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId}));},t.onFirstAudioReceived=e=>{var n;let i=Array.from(xn(n=this.remoteUserMap).call(n)).find(r=>r._audioSSRC===e);i&&X.firstRemoteFrame(this.store.sessionId,De.FIRST_AUDIO_RECEIVED,Jt.FIRST_AUDIO_RECEIVED,{peer:i._uintid,subscribeElapse:qe.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId});},t.onFirstVideoDecoded=(e,n,i)=>{this.reportVideoFirstFrameDecoded(e,n,i);},t.onFirstVideoReceived=e=>{var n;let i=Array.from(xn(n=this.remoteUserMap).call(n)).find(r=>r._videoSSRC===e);i&&X.firstRemoteFrame(this.store.sessionId,De.FIRST_VIDEO_RECEIVED,Jt.FIRST_VIDEO_RECEIVED,{peer:i._uintid,subscribeElapse:qe.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId});},t.onSelectedLocalCandidateChanged=(e,n)=>{let i=e.candidateType===\"relay\",r=n.candidateType===\"relay\";n.candidateType!==\"unknown\"&&i===r||this.emit(tt.ConnectionTypeChange,i),_.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.SelectedLocalCandidateChanged(\").concat(JSON.stringify(eo(n)),\" -> \").concat(JSON.stringify(eo(e)),\")\"));},t.onSelectedRemoteCandidateChanged=(e,n)=>{_.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.SelectedRemoteCandidateChanged(\").concat(JSON.stringify(eo(n)),\" -> \").concat(JSON.stringify(eo(e)),\")\"));},t.onFirstVideoDecodedTimeout=e=>{this.reportVideoFirstFrameDecoded(e,void 0,void 0,!0);},t.getLocalVideoStats=()=>{let e=this.statsCollector.getLocalVideoTrackStats(),n=this.statsCollector.getRTCStats();return Zi(Zi({},e),n)};}unbindConnectionEvents(t){t.onConnectionStateChange=void 0,t.onICEConnectionStateChange=void 0,t.onICETransportStateChange=void 0,t.onDTLSTransportStateChange=void 0,t.onDTLSTransportError=void 0,t.onFirstAudioDecoded=void 0,t.onFirstAudioReceived=void 0,t.onFirstVideoDecoded=void 0,t.onFirstVideoReceived=void 0,t.onSelectedLocalCandidateChanged=void 0,t.onSelectedRemoteCandidateChanged=void 0,t.onFirstVideoDecodedTimeout=void 0,t.getLocalVideoStats=void 0;}filterTobeMutedTracks(t){let e=[];if(this.getAllTracks().indexOf(t)===-1)return e;let n=this.localTrackMap.get(U.LocalAudioTrack);if(t instanceof Qt&&n?.track instanceof ge)return n.track.isActive||e.push([U.LocalAudioTrack,n]),e;let i=Array.from(this.localTrackMap.entries()).find(r=>{let[,{track:o}]=r;return t===o});if(i&&(e.push(i),i[0]===U.LocalVideoTrack)){let r=this.localTrackMap.get(U.LocalVideoLowTrack);r&&e.push([U.LocalVideoLowTrack,r]);}return e}filterTobeUnmutedTracks(t){let e=[],n=this.localTrackMap.get(U.LocalAudioTrack);if(t instanceof Qt&&n?.track instanceof ge)return n.track.isActive&&e.push([U.LocalAudioTrack,n]),e;let i=Array.from(this.localTrackMap.entries()).find(r=>{let[,{track:o}]=r;return t===o});if(i)if(i[0]===U.LocalVideoTrack){e.push(i);let r=this.localTrackMap.get(U.LocalVideoLowTrack);r&&e.push([U.LocalVideoLowTrack,r]);}else e.push(i);return e}createMuteMessage(t){return t.map(e=>{var n;let i,[r,{track:o,ssrcs:s,id:a}]=e;switch(r){case U.LocalAudioTrack:i=Ct.Audio;break;case U.LocalVideoTrack:i=W(n=o._hints).call(n,Gt.SCREEN_TRACK)?Ct.Screen:Ct.High;break;case U.LocalVideoLowTrack:i=Ct.Low;}return {stream_type:i,ssrcs:s,mid:a}})}createUnmuteMessage(t){return t.map(e=>{var n;let i,[r,{track:o,ssrcs:s,id:a}]=e;switch(r){case U.LocalAudioTrack:i=Ct.Audio;break;case U.LocalVideoTrack:i=W(n=o._hints).call(n,Gt.SCREEN_TRACK)?Ct.Screen:Ct.High;break;case U.LocalVideoLowTrack:i=Ct.Low;}return {stream_type:i,ssrcs:s,mid:a}})}filterTobeUnSubscribedTracks(t,e){let n=[],i=this.remoteUserMap.get(t);if(!i)return n;if(e){let r=i.get(e);if(!r)return n;n.push([t,{kind:e,id:r}]);}else Array.from(i.entries()).forEach(r=>{let[o,s]=r;n.push([t,{kind:o,id:s}]);});return n}filterTobeUnSubscribedDataChannels(t,e){let n=[];return e.forEach(i=>{var r;(r=this.remoteDataChannelMap.get(t))!==null&&r!==void 0&&r.has(i.id)&&n.push(i);}),n}createUnsubscribeMessage(t){let e=[];return t.forEach(n=>{let[i,{kind:r,id:o}]=n;switch(r){case Q.VIDEO:return void(i._videoSSRC&&e.push({stream_type:Q.VIDEO,ssrcId:i._videoSSRC}));case Q.AUDIO:return void(i._audioSSRC&&e.push({stream_type:Q.AUDIO,ssrcId:i._audioSSRC}))}}),e}createUnsubscribeAllMessage(t){let e=new Map;return t.forEach(n=>{let[i,{kind:r}]=n;if(e.has(i)){let o=e.get(i);r===Q.VIDEO?o|=ve.Video:o|=ve.Audio,e.set(i,o);}else r===Q.VIDEO?e.set(i,ve.Video):e.set(i,ve.Audio);}),{users:Array.from(e.entries()).map(n=>{let[i,r]=n;return {stream_id:i.uid,stream_type:r}})}}withdrawRemoteTracks(t){t.forEach(e=>{let[n,{kind:i}]=e,r=this.remoteUserMap.get(n);r&&(r.delete(i),Array.from(r.entries()).length===0&&this.remoteUserMap.delete(n));});}async updateBitrateLimit(t){let e=this.localTrackMap.get(U.LocalVideoTrack),n=this.localTrackMap.get(U.LocalVideoLowTrack);e&&await e.track.setBitrateLimit(t.uplink),n&&t.low_stream_uplink&&await n.track.setBitrateLimit({max_bitrate:t.low_stream_uplink.bitrate,min_bitrate:t.low_stream_uplink.bitrate||0});}isP2PDisconnected(){return this.connection?this.connection.peerConnectionState!==\"connected\":!0}mapPubResToRemoteConfig(t,e){return t.map((n,i)=>{var r;let{stream_type:o}=n;return (r=e.find(s=>{let{stream_type:a}=s;return o===a}))===null||r===void 0?void 0:r.attributes})}async tryToUnmuteAudio(t){for(let n=0;n<t.length;n++)if(t[n]instanceof Qt){var e;let i=this.filterTobeUnmutedTracks(t[n]);if(i.length===0)continue;await((e=this.connection)===null||e===void 0?void 0:e.unmuteLocal(i.map(o=>{let[,{id:s}]=o;return s})));let r=this.createUnmuteMessage(i);return void await kt(this,tt.RequestUnmuteLocal,r)}}bindStatsUploaderEvents(){this.statsUploader.requestStats=()=>this.getStats(),this.statsUploader.requestLocalMedia=()=>Array.from(this.localTrackMap.entries()),this.statsUploader.requestRemoteMedia=()=>Array.from(this.remoteUserMap.entries()),this.statsUploader.requestVideoIsReady=t=>{var e;return !((e=this.connection)===null||e===void 0||!e.getRemoteVideoIsReady(t))},this.statsUploader.requestUpload=(t,e)=>this.emit(tt.RequestUpload,t,e),this.statsUploader.requestUploadStats=t=>this.emit(tt.RequestUploadStats,t),this.statsUploader.requestAllTracks=()=>this.getAllTracks();}unbindStatsUploaderEvents(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0;}async requestReconnect(){this.dtlsFailedCount+=1,await Me(hf(this.dtlsFailedCount,Ee)),this.emit(tt.RequestReconnect);}async reconnectP2P(){let t=Array.from(this.localTrackMap.entries()),e=this.createGatewayUnpublishMessage(t);Array.from(this.remoteUserMap.entries()),e.length>0&&await Ge(this,tt.RequestUnpublishForReconnectPC,e),this.disconnectForReconnect(),this.emit(tt.RequestReconnectPC);}canPublishLowStream(){return this.localTrackMap.has(U.LocalVideoTrack)||this.pendingLocalTracks.some(t=>t instanceof Ft)}throwIfTrackTypeNotMatch(t){if(t.filter(e=>e instanceof Ft).length>1)throw new N(R.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(t.filter(e=>e instanceof Qt).length>1&&(t.some(e=>e instanceof Qt&&e._bypassWebAudio)||!ft().webAudioMediaStreamDest))throw new N(R.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode\");for(let e of t){if(e instanceof Ft&&this.pendingLocalTracks.some(n=>n instanceof Ft))throw new N(R.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(e instanceof Qt&&this.pendingLocalTracks.some(n=>n instanceof Qt)&&(!ft().webAudioMediaStreamDest||e._bypassWebAudio||this.pendingLocalTracks.some(n=>n instanceof Qt&&n._bypassWebAudio)))throw new N(R.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode\")}}getLowVideoTrack(t,e){let n=!v(\"DISABLE_DUAL_STREAM_USE_ENCODING\")&&ft().supportDualStreamEncoding,i=Zi(Zi({},{width:160,height:120,framerate:15,bitrate:50}),e),r;r=n?t._mediaStreamTrack.clone():dm(t,i);let o=Ut(8,\"track-low-\"),s=new Ft(r,Zi(Zi({},n&&{scaleResolutionDownBy:GE(i,t)}),{},{frameRate:i.framerate,bitrateMax:i.bitrate,bitrateMin:i.bitrate}),void 0,void 0,o);return s.on(Ko.TRANSCEIVER_UPDATED,a=>{t._updateRtpTransceiver(a,na.LOW_STREAM);}),s._hints.push(Gt.LOW_STREAM),t.on(\"sei-to-send\",a=>{s.emit(\"sei-to-send\",a);}),t.addListener(H.NEED_CLOSE,()=>{s.close();}),s}async globalLock(){return this.mutex.lock(\"From P2PChannel.globalLock\")}async reportPCStats(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(this.connection&&this.connection instanceof ki){var r,o,s,a;let c=this.store.keyMetrics.descriptionStart||0,{iceConnectionState:d,dtlsTransportState:l,peerConnectionState:u}=this.connection,{local:h,remote:p}=await this.connection.getSelectedCandidatePair();X.pcStats(this.store.sessionId,{startTime:c,eventElapse:t-c||0,iceconnectionsate:d,dtlsstate:l,connectionstate:u,intSucc:e?1:2,error:i,selectedLocalCandidateProtocol:(r=h?.protocol)!==null&&r!==void 0?r:\"\",selectedLocalCandidateType:(o=h.candidateType)!==null&&o!==void 0?o:\"\",selectedLocalCandidateAddress:\"\".concat(h.address,\":\").concat(h.port),selectedRemoteCandidateProtocol:(s=p.protocol)!==null&&s!==void 0?s:\"\",selectedRemoteCandidateType:(a=p.candidateType)!==null&&a!==void 0?a:\"\",selectedRemoteCandidateAddress:\"\".concat(p.address,\":\").concat(p.port),restartCnt:n,preallocation:this.connection.isPreallocation});}}reportVideoFirstFrameDecoded(t,e,n,i){var r;let o=Array.from(xn(r=this.remoteUserMap).call(r)).find(s=>s._videoSSRC===t);if(o){i||this.store.subscribe(o.uid,\"video\",void 0,void 0,void 0,void 0,Date.now());let s=this.store.keyMetrics,a=s.subscribe.find(c=>c.userId===o.uid&&c.type===\"video\");X.firstRemoteVideoDecode(this.store.sessionId,De.FIRST_VIDEO_DECODE,Jt.FIRST_VIDEO_DECODE,{peer:o._uintid,videowidth:e,videoheight:n,subscribeElapse:qe.measureFromSubscribeStart(this.store.clientId,t),subscribeRequestid:t,p2pid:this.store.p2pId,apEnd:s.requestAPEnd||0,apStart:s.requestAPStart||0,joinGwEnd:s.joinGatewayEnd||0,joinGwStart:s.joinGatewayStart||0,pcEnd:s.peerConnectionEnd||0,pcStart:s.peerConnectionStart||0,subscriberEnd:a?.subscribeEnd||0,subscriberStart:a?.subscribeStart||0,videoAddNotify:a?.streamAdded||0,state:i?1:0,firstFrame:a?.firstFrame||0});}}async remoteMediaSsrcChanged(t,e,n){if(!this.connection)return !1;let i=this.remoteUserMap.get(t);if(!i)return !1;let r=i.get(e);if(!r)return !1;let o=await this.connection.getRemoteSSRC(r);return o!==void 0&&o!==n}unbindRtpTransceiver(){this.localTrackMap.size!==0&&Array.from(this.localTrackMap.entries()).forEach(t=>{let[e,{track:n}]=t;e===U.LocalVideoLowTrack?n._updateRtpTransceiver(void 0,na.LOW_STREAM):n._updateRtpTransceiver(void 0);});}reportPCDisconnectedOrFailed(t){this.connection&&this.connection instanceof ki&&(this.connection.iceConnectionState!==\"disconnected\"&&this.connection.iceConnectionState!==\"checking\"&&this.connection.iceConnectionState!==\"failed\"||(this._isFirstConnected?(this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),this._isFirstConnected=!1):this._pcStatsUploadType===Tr.TCP_RESTART&&t===On.RELAY?this.reportPCStats(Date.now(),!1,this._pcStatsUploadType):this.reportPCStats(Date.now(),!1,Tr.DISCONNECTED_OR_FAILED)));}},q(at.prototype,\"startP2PConnection\",[tn],Object.getOwnPropertyDescriptor(at.prototype,\"startP2PConnection\"),at.prototype),q(at.prototype,\"connect\",[tn],Object.getOwnPropertyDescriptor(at.prototype,\"connect\"),at.prototype),q(at.prototype,\"updateRemoteRTPCapabilities\",[tn],Object.getOwnPropertyDescriptor(at.prototype,\"updateRemoteRTPCapabilities\"),at.prototype),q(at.prototype,\"publishDataChannel\",[tn],Object.getOwnPropertyDescriptor(at.prototype,\"publishDataChannel\"),at.prototype),q(at.prototype,\"unpublish\",[tn],Object.getOwnPropertyDescriptor(at.prototype,\"unpublish\"),at.prototype),q(at.prototype,\"unpublishDataChannel\",[tn],Object.getOwnPropertyDescriptor(at.prototype,\"unpublishDataChannel\"),at.prototype),q(at.prototype,\"unpublishLowStream\",[tn],Object.getOwnPropertyDescriptor(at.prototype,\"unpublishLowStream\"),at.prototype),q(at.prototype,\"subscribeDataChannel\",[tn],Object.getOwnPropertyDescriptor(at.prototype,\"subscribeDataChannel\"),at.prototype),q(at.prototype,\"subscribe\",[tn],Object.getOwnPropertyDescriptor(at.prototype,\"subscribe\"),at.prototype),q(at.prototype,\"massSubscribe\",[tn],Object.getOwnPropertyDescriptor(at.prototype,\"massSubscribe\"),at.prototype),q(at.prototype,\"unsubscribe\",[tn],Object.getOwnPropertyDescriptor(at.prototype,\"unsubscribe\"),at.prototype),q(at.prototype,\"unsubscribeDataChannel\",[tn],Object.getOwnPropertyDescriptor(at.prototype,\"unsubscribeDataChannel\"),at.prototype),q(at.prototype,\"massUnsubscribe\",[tn],Object.getOwnPropertyDescriptor(at.prototype,\"massUnsubscribe\"),at.prototype),q(at.prototype,\"muteRemote\",[tn],Object.getOwnPropertyDescriptor(at.prototype,\"muteRemote\"),at.prototype),q(at.prototype,\"unmuteRemote\",[tn],Object.getOwnPropertyDescriptor(at.prototype,\"unmuteRemote\"),at.prototype),q(at.prototype,\"hasRemoteMediaWithLock\",[tn],Object.getOwnPropertyDescriptor(at.prototype,\"hasRemoteMediaWithLock\"),at.prototype),q(at.prototype,\"disconnectForReconnect\",[tn],Object.getOwnPropertyDescriptor(at.prototype,\"disconnectForReconnect\"),at.prototype),q(at.prototype,\"updateBitrateLimit\",[tn],Object.getOwnPropertyDescriptor(at.prototype,\"updateBitrateLimit\"),at.prototype),q(at.prototype,\"remoteMediaSsrcChanged\",[tn],Object.getOwnPropertyDescriptor(at.prototype,\"remoteMediaSsrcChanged\"),at.prototype),at);function tn(t,e,n){let i=t[e];if(typeof i!=\"function\")throw new Error(\"Cannot use mutex on object property.\");return n.value=async function(){let r=this.mutex,o=await r.lock(\"From P2PChannel.\".concat(e));try{for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return await i.apply(this,a)}finally{o();}},n}var C0={};function Ba(t){(!(arguments.length>1&&arguments[1]!==void 0)||arguments[1])&&_.debug(\"install service \".concat(t.name)),C0[t.name]=t;}function Za(t){let e=C0[t];if(!e)throw new N(R.INVALID_OPERATION,\"\".concat(t,\" not found, please use AgoraRTC.use(\").concat(t,\"Service) to load it first\"));return e}function Kv(t,e){return Za(\"DataStream\").create(t,e)}function Yv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function qv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yv(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yv(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var EW=Date.now(),mW=20,hm=new Map,wl=new Map;async function I0(t){let e=hm.get(t),n=Array.isArray(e)&&e[e.length-1],i=wl.get(t);if(!n)return void(i.isSyncing=!1);let r={uid:n.uid,payload:n.payload};i.firstRecvTs===0&&(i.firstRecvTs=n.recvTs,i.firstSendTs=n.sendTs);let o=n.sendTs-i.firstSendTs,s=o-(Date.now()-i.firstRecvTs);s>0&&(i.firstRecvTs=Date.now()-o);let a=n.mediaDelay+s;a<=0?(e.pop(),v0(n.context,r),a=0):a=Math.min(a,mW),setTimeout(()=>e.length&&I0(t),a);}function v0(t,e){t.safeEmit(ut.STREAM_MESSAGE,e.uid,e.payload),t.onStreamMessage&&t.onStreamMessage(e);}function fW(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;if(!t.syncWithAudio)return v0(n,{uid:t.uid,payload:t.payload});let i=\"\".concat(n.id,\"-\").concat(t.uid),r=hm.get(i)||[],o=r.findIndex(d=>t.sendTs>=d.sendTs),s=qv(qv({},t),{},{context:n,mediaDelay:e,recvTs:Date.now()});o===-1?r.push(s):r.splice(o,0,s),hm.set(i,r);let a=!1;var c;wl.has(i)?a=!((c=wl.get(i))===null||c===void 0||!c.isSyncing):wl.set(i,{isSyncing:a,firstRecvTs:0,firstSendTs:0}),a||I0(i);}var gW=mt().name;function zv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function Jv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zv(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zv(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var zs=\"websdk_ng_cache_parameter\",TW=v(\"MAX_PRELOAD_ASYNC_LENGTH\"),SW=1e4,Mo=new Map,Uo=[],f_=null,g_=0,T_=0,Xd=new Map,RW=function(t,e){let n=[],i=0,r=async()=>{let o=n.shift();o&&await o(),n.length>0&&i<e?r():i--;};return async function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return new j(async(c,d)=>{n.push(async()=>{try{let l=await t(...s);c(l);}catch(l){d(l);}}),i<e&&(i++,r());})}}(y0,TW),S_=mn.CancelToken.source();async function y0(t,e,n,i,r,o){try{if(!v(\"ENABLE_PRELOAD\"))return;if(!ft().supportWebCrypto)return void po(()=>{_.warn(\"Your browser does not support preloading, this feature  be run in a secure environment\");},\"preload_webcrypto_not_supported\");if(!n&&n!==null)throw new N(R.INVALID_PARAMS,\"Invalid token: \".concat(n,\". If you don not use token, set it to null\"));n&&Pe(n,\"token\",1,2047),Pe(t,\"appid\",1,2047),Xu(e),i&&Qu(i);let s=Ms();_.debug(\"preload channel \".concat(e,\", uid is \").concat(i));let a={appId:t,cname:e,token:n||t,uid:typeof i!=\"string\"?i:null,sid:s,proxyServer:r},c,d;typeof i==\"string\"?(a.stringUid=i,[d,c]=await j.all([YG(i,{sid:s,appId:t},S_.token),ev(Jv(Jv({},a),{},{token:n||t,uid:0}),S_.token)]),a.uid=d.uid,c.gatewayInfo.uid=a.uid,c.gatewayInfo.res.uid=a.uid):(o&&(a.stringUid=o),c=await ev(a,S_.token));let l={sid:s,appId:t,cname:e,token:n||t,uid:a.stringUid||i,intUid:a.uid||c.gatewayInfo.uid,stringUid:a.stringUid,ts:Date.now(),sua:d,ap:c};await async function(u){let h;try{u.uid&&A0({appId:u.appId,cname:u.cname,token:u.token,uid:u.uid,stringUid:u.stringUid});let p=O0(u),g=await async function(f,S){try{let C=await window.crypto.subtle.importKey(\"raw\",yO(S),\"AES-GCM\",!1,[\"encrypt\"]),A=await window.crypto.subtle.encrypt({name:\"AES-GCM\",iv:new Uint8Array(1)},C,Fo(window.btoa(JSON.stringify(f))));return so(new Uint8Array(A))}catch{return}}(u,u.token||u.appId);if(!g)return;h=w0(zs);let E=h?JSON.parse(h):[];E.push({[p]:g}),E.length>v(\"AP_CACHE_NUM\")&&E.shift(),gu(zs,JSON.stringify(E));}catch(p){_.warn(\"Error caching server parameters:\",p.message),gu(zs,\"\");}}(l),g_++;}catch(s){throw T_++,function(a){f_||(f_=window.setTimeout(()=>{let d=\"\";Xd.forEach((l,u)=>{d+=\"\".concat(u,\": \").concat(l,\" ;\");}),X.reportApiInvoke(null,{name:Te.PRELOAD,options:{success:g_,failed:T_,err:d}}).onError(a),g_=0,T_=0,Xd.clear(),f_=null;},SW));let c=Xd.get(a.code)||0;Xd.set(a.code,c+1);}(s),s}}async function Xv(t){try{let e=A0(t);if(!e||t.cloudProxyServer!==\"disabled\")return;let n=await async function(i,r){try{let o=await window.crypto.subtle.importKey(\"raw\",yO(r),\"AES-GCM\",!1,[\"decrypt\"]),s=await window.crypto.subtle.decrypt({name:\"AES-GCM\",iv:new Uint8Array(1)},o,Fo(i));return JSON.parse(window.atob(so(new Uint8Array(s))))}catch{return}}(e,t.token||t.appId);if(!n||!function(i,r){return i.cname===r.cname&&i.appId===r.appId&&i.token===r.token?r.stringUid?i.stringUid===r.stringUid:typeof r.uid==\"number\"?i.uid===r.uid:i.uid==r.uid:!1}(n,t))return;if(n&&Date.now()-n.ts<v(\"AP_CACHE_LIFETIME\"))return n}catch(e){_.warn(\"Error get preloadInfo\",e.message);}}function A0(t){let e;try{if(e=w0(zs),!e)return;let n=JSON.parse(e),i=O0(t),r=function(s,a){for(let c=s.length-1;c>=0;c--)if(a(s[c]))return c;return -1}(n,s=>i in s);if(r===-1)return;let o=n.splice(r,1)[0];return gu(zs,JSON.stringify(n)),o[i]}catch(n){_.warn(\"Error delete preload info: \".concat(e),n.message),gu(zs,\"\");}}function Df(t){if(t){let e=Mo.get(t);e&&(window.clearTimeout(e),e=null,Mo.delete(t)),W(Uo).call(Uo,t)||t.cloudProxyServer!==\"disabled\"||Uo.push(t);}if(Mo.size<v(\"AP_CACHE_NUM\")&&Uo.length>0){let e=Uo.shift();Mo.set(e,window.setTimeout(async()=>{let{appId:n,cname:i,token:r,stringUid:o,uid:s,proxyServer:a}=e;try{await RW(n,i,r,s,a,o),Mo.has(e)&&Df(e);}catch(c){_.warn(\"update preload failed\",c.message),b0(e);}},v(\"AP_UPDATE_INTERVAL\")));}}function b0(t){let e=Uo.indexOf(t);e!==-1&&Uo.splice(e,1);let n=Mo.get(t);n&&(window.clearTimeout(n),n=null,Mo.delete(t),Df());}function Qv(t,e){let n=t.sua,i=t.ap;e&&n&&X.reqUserAccount(t.sid,{lts:n.requestTime,elapse:n.elapse,success:!0,serverAddr:n.url,stringUid:e,uid:t.intUid,errorCode:null,extend:n.req}),X.reportResourceTiming(t.ap.url,t.sid),X.joinWebProxyAP(t.sid,{lts:i.requestTime,elapse:i.elapse,sucess:1,apServerAddr:i.url,turnServerAddrList:i.proxyInfo.addresses.map(r=>r.ip).join(\",\"),eventType:\"disabled\",unilbsServerIds:[ue.CHOOSE_SERVER,ue.CLOUD_PROXY_FALLBACK].toString()}),X.joinChooseServer(t.sid,{lts:i.requestTime,elapse:i.elapse,succ:!0,csAddr:i.url,opid:i.opid,serverList:i.gatewayInfo.gatewayAddrs.map(r=>r.address),ec:null,cid:i.gatewayInfo.cid.toString(),uid:i.gatewayInfo.uid.toString(),csIp:i.gatewayInfo.csIp,unilbsServerIds:[ue.CHOOSE_SERVER].toString(),isHttp3:i.isHttp3});}function w0(t){return window.atob(window.localStorage.getItem(t)||\"\")}function gu(t,e){window.localStorage.setItem(t,window.btoa(e));}function O0(t){let e=\"\".concat(t.appId,\"_\").concat(t.cname);return typeof t.uid==\"string\"&&(e+=\"_s_\".concat(t.uid)),typeof t.uid==\"number\"&&(e+=\"_\".concat(t.uid)),t.token&&(e+=\"_\".concat(t.token)),bO(e)}function CW(t){let e=function(){let n=yW.pop();return n?(n.offset=n.limit=0,n):{bytes:new Uint8Array(64),offset:0,limit:0}}();return function(n,i){let r=n.appId;r!==void 0&&(de(i,10),Hr(i,r));let o=n.cid;o!==void 0&&(de(i,16),de(i,o));let s=n.cname;s!==void 0&&(de(i,26),Hr(i,s));let a=n.deviceId;a!==void 0&&(de(i,34),Hr(i,a));let c=n.elapse;c!==void 0&&(de(i,40),Kr(i,c));let d=n.fileSize;d!==void 0&&(de(i,48),Kr(i,Ss(d)));let l=n.height;l!==void 0&&(de(i,56),Kr(i,Ss(l)));let u=n.jpg;u!==void 0&&(de(i,66),de(i,u.length),Zv(i,u));let h=n.networkType;h!==void 0&&(de(i,72),Kr(i,Ss(h)));let p=n.osType;p!==void 0&&(de(i,80),Kr(i,Ss(p)));let g=n.requestId;g!==void 0&&(de(i,90),Hr(i,g));let E=n.sdkVersion;E!==void 0&&(de(i,98),Hr(i,E));let f=n.sequence;f!==void 0&&(de(i,104),Kr(i,Ss(f)));let S=n.sid;S!==void 0&&(de(i,114),Hr(i,S));let C=n.timestamp;C!==void 0&&(de(i,120),Kr(i,C));let A=n.uid;A!==void 0&&(de(i,128),de(i,A));let b=n.vid;b!==void 0&&(de(i,136),de(i,b));let w=n.width;w!==void 0&&(de(i,144),Kr(i,Ss(w)));let D=n.service;D!==void 0&&(de(i,152),de(i,D));let k=n.callbackData;k!==void 0&&(de(i,162),de(i,k.length),Zv(i,k));let B=n.ticket;B!==void 0&&(de(i,170),Hr(i,B));let V=n.vendorConfigs;V!==void 0&&(de(i,178),Hr(i,V));}(t,e),function(n){let i=n.bytes,r=n.limit;return i.length===r?i:i.subarray(0,r)}(e)}function IW(t){return function(n){let i={};t:for(;!AW(n);){let r=$a(n);switch(r>>>3){case 0:break t;case 1:i.code=$a(n);break;case 2:i.msg=$v(n,$a(n));break;case 3:i.requestId=$v(n,$a(n));break;case 4:i.timestamp=bW(n,!1);break;default:vW(n,7&r);}}return i}({bytes:e=t,offset:0,limit:e.length});var e;}function vW(t,e){switch(e){case 0:for(;128&gi(t););break;case 2:R_(t,$a(t));break;case 5:R_(t,4);break;case 1:R_(t,8);break;default:throw new Error(\"Unimplemented type: \"+e)}}function Ss(t){return {low:t|=0,high:t>>31,unsigned:t>=0}}var yW=[];function R_(t,e){if(t.offset+e>t.limit)throw new Error(\"Skip past limit\");t.offset+=e;}function AW(t){return t.offset>=t.limit}function $u(t,e){let n=t.bytes,i=t.offset,r=t.limit,o=i+e;if(o>n.length){let s=new Uint8Array(2*o);s.set(n),t.bytes=s;}return t.offset=o,o>r&&(t.limit=o),i}function N0(t,e){let n=t.offset;if(n+e>t.limit)throw new Error(\"Read past limit\");return t.offset+=e,n}function Zv(t,e){let n=$u(t,e.length);t.bytes.set(e,n);}function $v(t,e){let n=N0(t,e),i=String.fromCharCode,r=t.bytes,o=\"\\uFFFD\",s=\"\";for(let a=0;a<e;a++){let c,d,l,u,h=r[a+n];128&h?(224&h)==192?a+1>=e?s+=o:(c=r[a+n+1],(192&c)!=128?s+=o:(u=(31&h)<<6|63&c,u<128?s+=o:(s+=i(u),a++))):(240&h)==224?a+2>=e?s+=o:(c=r[a+n+1],d=r[a+n+2],(49344&(c|d<<8))!=32896?s+=o:(u=(15&h)<<12|(63&c)<<6|63&d,u<2048||u>=55296&&u<=57343?s+=o:(s+=i(u),a+=2))):(248&h)==240?a+3>=e?s+=o:(c=r[a+n+1],d=r[a+n+2],l=r[a+n+3],(12632256&(c|d<<8|l<<16))!=8421504?s+=o:(u=(7&h)<<18|(63&c)<<12|(63&d)<<6|63&l,u<65536||u>1114111?s+=o:(u-=65536,s+=i(55296+(u>>10),56320+(1023&u)),a+=3))):s+=o:s+=i(h);}return s}function Hr(t,e){let n=e.length,i=0;for(let s=0;s<n;s++){let a=e.charCodeAt(s);a>=55296&&a<=56319&&s+1<n&&(a=(a<<10)+e.charCodeAt(++s)-56613888),i+=a<128?1:a<2048?2:a<65536?3:4;}de(t,i);let r=$u(t,i),o=t.bytes;for(let s=0;s<n;s++){let a=e.charCodeAt(s);a>=55296&&a<=56319&&s+1<n&&(a=(a<<10)+e.charCodeAt(++s)-56613888),a<128?o[r++]=a:(a<2048?o[r++]=a>>6&31|192:(a<65536?o[r++]=a>>12&15|224:(o[r++]=a>>18&7|240,o[r++]=a>>12&63|128),o[r++]=a>>6&63|128),o[r++]=63&a|128);}}function gi(t){return t.bytes[N0(t,1)]}function ty(t,e){let n=$u(t,1);t.bytes[n]=e;}function $a(t){let e,n=0,i=0;do e=gi(t),n<32&&(i|=(127&e)<<n),n+=7;while(128&e);return i}function de(t,e){for(e>>>=0;e>=128;)ty(t,127&e|128),e>>>=7;ty(t,e);}function bW(t,e){let n,i=0,r=0,o=0;return n=gi(t),i=127&n,128&n&&(n=gi(t),i|=(127&n)<<7,128&n&&(n=gi(t),i|=(127&n)<<14,128&n&&(n=gi(t),i|=(127&n)<<21,128&n&&(n=gi(t),r=127&n,128&n&&(n=gi(t),r|=(127&n)<<7,128&n&&(n=gi(t),r|=(127&n)<<14,128&n&&(n=gi(t),r|=(127&n)<<21,128&n&&(n=gi(t),o=127&n,128&n&&(n=gi(t),o|=(127&n)<<7))))))))),{low:i|r<<28,high:r>>>4|o<<24,unsigned:e}}function Kr(t,e){let n=e.low>>>0,i=(e.low>>>28|e.high<<4)>>>0,r=e.high>>>24,o=r===0?i===0?n<16384?n<128?1:2:n<1<<21?3:4:i<16384?i<128?5:6:i<1<<21?7:8:r<128?9:10,s=$u(t,o),a=t.bytes;switch(o){case 10:a[s+9]=r>>>7&1;case 9:a[s+8]=o!==9?128|r:127&r;case 8:a[s+7]=o!==8?i>>>21|128:i>>>21&127;case 7:a[s+6]=o!==7?i>>>14|128:i>>>14&127;case 6:a[s+5]=o!==6?i>>>7|128:i>>>7&127;case 5:a[s+4]=o!==5?128|i:127&i;case 4:a[s+3]=o!==4?n>>>21|128:n>>>21&127;case 3:a[s+2]=o!==3?n>>>14|128:n>>>14&127;case 2:a[s+1]=o!==2?n>>>7|128:n>>>7&127;case 1:a[s]=o!==1?128|n:127&n;}}var ey={},ny={},Tu=4294967296,D0=Tu*Tu,iy=D0/2;P0(0,!0);var ry=P0(0),wW=sa(0,-2147483648,!1),OW=sa(-1,2147483647,!1);function P0(t,e){let n,i,r;return e?(r=0<=(t>>>=0)&&t<256)&&(i=ny[t],i)?i:(n=sa(t,0,!0),r&&(ny[t]=n),n):(r=-128<=(t|=0)&&t<128)&&(i=ey[t],i)?i:(n=sa(t,t<0?-1:0,!1),r&&(ey[t]=n),n)}function sa(t,e,n){return {low:0|t,high:0|e,unsigned:!!n}}function DW(t,e){if(isNaN(t))return ry;{if(t<=-iy)return wW;if(t+1>=iy)return OW}return t<0?ry:sa(t%Tu|0,t/Tu|0,e)}function oy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}var pm=class t extends Xt{get connectionState(){return this._connectionState}set connectionState(e){if(this._connectionState===e)return;let n=this._connectionState;this._connectionState=e,this.emit(Mi.CONNECTION_STATE_CHANGE,e,n);}get quality(){return this._quality}set quality(e){this._quality=e>1?1:e<.1?.1:e,this._qualityTimer&&(window.clearTimeout(this._qualityTimer),this._qualityTimer=null),this._quality>=1||(this._qualityTimer=window.setTimeout(()=>{this.quality=this._quality/this._qualityRatio;},6e4));}constructor(e){var n;super(),T(this,\"name\",\"AgoraRTCImageModeration\"),T(this,\"_connectionState\",Xn.CONNECTING),T(this,\"_sequence\",0),T(this,\"_moderationStartTime\",void 0),T(this,\"_workerConnection\",void 0),T(this,\"_workerMessageLengthLimit\",void 0),T(this,\"_qualityRatio\",void 0),T(this,\"_connectInfo\",void 0),T(this,\"_cancelTokenSource\",mn.CancelToken.source()),T(this,\"_retryConfig\",void 0),T(this,\"_moderationInterval\",void 0),T(this,\"_moderationTimer\",null),T(this,\"_moderationMode\",1),T(this,\"_quality\",1),T(this,\"_qualityTimer\",null),T(this,\"_ticket\",void 0),T(this,\"_moderationIntervalMinimum\",void 0),T(this,\"_uploadFailedNum\",0),T(this,\"_uploadNum\",0),T(this,\"_uploadTimer\",null),T(this,\"_extraInfo\",void 0),T(this,\"_vendor\",\"\"),T(this,\"_encoder\",new TextEncoder),T(this,\"_moderationId\",void 0),T(this,\"inspectImage\",()=>{if(this.connectionState!==Xn.CONNECTED)throw new O(R.OPERATION_ABORTED,\"image moderation service connection status is \".concat(this.connectionState));this._moderationTimer&&(window.clearInterval(this._moderationTimer),this._moderationTimer=null),this._moderationTimer=window.setInterval(()=>{this.connectionState===Xn.CONNECTED?this.requestToInspectImage():_.debug(\"[\".concat(this._moderationId,\"] Moderation State is not connected , \"),this.connectionState);},this._moderationInterval<this._moderationIntervalMinimum?this._moderationIntervalMinimum:this._moderationInterval),this.requestToInspectImage();}),this._moderationId=Ut(5,\"image-moderation-\"),this._workerMessageLengthLimit=v(\"IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT\"),this._moderationIntervalMinimum=v(\"IMAGE_MODERATION_INTERVAL_MINIMUM\"),this._moderationInterval=(n=e.interval)!==null&&n!==void 0?n:1e3,e.extraInfo&&(this._extraInfo=this._encoder.encode(e.extraInfo)),e.vendor&&(this._vendor=e.vendor),this._qualityRatio=v(\"IMAGE_MODERATION_QUALITY_RATIO\"),this._moderationStartTime=Number(Date.now()),this._workerConnection=new Qo(\"worker-\"+this._moderationId,Ee),this.on(Mi.STATE_CHANGE,(i,r)=>{_.debug(\"[\".concat(this._moderationId,\"] Moderation operation :\").concat(hs[i],\" \").concat(r||\"\"));}),this.handleWorkerEvents();}async init(e,n){this.emit(Mi.STATE_CHANGE,hs.CONNECT_AP),this._connectInfo=e;let i=this._cancelTokenSource.token;return this._retryConfig=n,new j((r,o)=>{this.on(Mi.CONNECTION_STATE_CHANGE,(s,a)=>{s===Xn.CONNECTED&&r();}),this.requestAP(e,i,n).then(s=>{this.connectWorker(s);}).catch(s=>{o(s);});})}updateConfig(e){var n;this._moderationInterval=(n=e.interval)!==null&&n!==void 0?n:1e3,e.extraInfo&&(this._extraInfo=this._encoder.encode(e.extraInfo)),e.vendor&&(this._vendor=e.vendor),_.debug(\"[\".concat(this._moderationId,\"] updateConfig: \").concat(JSON.stringify(e))),this.connectionState===Xn.CONNECTED&&this.inspectImage();}async requestAP(e,n,i){let r=v(\"WEBCS_DOMAIN\").map(c=>\"https://\".concat(c,\"/api/v1\")),o=await function(c,d,l,u){let{appId:h,areaCode:p,cname:g,sid:E,token:f,uid:S}=d;Ys++;let C=\"moderation_plugin\",A={service_name:C,json_body:JSON.stringify({appId:h,areaCode:p,cname:g,command:\"allocateEdge\",requestId:Ys,seq:Ys,sid:E,appToken:f,ts:Date.now(),uid:S+\"\"})},b,w,D=c[0];return Wi(async()=>{b=Date.now();let k=await Hi(D,{data:A,cancelToken:l,headers:{\"X-Packet-Service-Type\":\"0\",\"X-Packet-URI\":\"61\"},params:{action:\"wrtc_gateway\"}});if(w=Date.now()-b,k.code!==0){let z=new O(R.UNEXPECTED_RESPONSE,\"moderation plugin ap error, code\"+k.code,{retry:!0,responseTime:w});throw _.error(z.toString()),z}let B=JSON.parse(k.json_body);if(B.code!==200){let z=new O(R.UNEXPECTED_RESPONSE,\"moderation plugin ap error, code: \".concat(B.code,\", reason: \").concat(B.reason),{code:B.code,responseTime:w});throw _.error(z.toString()),z}if(!B.servers||!Array.isArray(B.servers)||B.servers.length===0){let z=new O(R.UNEXPECTED_RESPONSE,\"moderation plugin ap empty server\",{code:B.code,responseTime:w});throw _.error(z.toString()),z}if(!B.servers.some(z=>!!z.wss)){let z=new O(R.UNEXPECTED_RESPONSE,\"moderation plugin ap empty port\",{code:B.code,responseTime:w});throw _.error(z.toString()),z}let V=v(\"IMAGE_MODERATION_WORKER_HOST\");return {addressList:B.servers.map(z=>{let{address:lt,wss:vt}=z;if(lt&&vt)return \"wss://\".concat(lt.replace(/\\./g,\"-\"),\".\").concat(V,\":\").concat(vt,\"/moderation\")}).filter(z=>!!z),workerToken:B.workerToken,vid:B.vid,ticket:B.appTicket,responseTime:w}},(k,B)=>(X.apworkerEvent(E,{success:!0,sc:200,serviceName:C,responseDetail:JSON.stringify(k.addressList),firstSuccess:B===0,responseTime:w,serverIp:c[B%c.length]}),!1),(k,B)=>(X.apworkerEvent(E,{success:!1,sc:k.data&&k.data.code||200,serviceName:C,responseTime:w,serverIp:c[B%c.length]}),!!(k.code!==R.OPERATION_ABORTED&&k.code!==R.UNEXPECTED_RESPONSE||k.data&&k.data.retry)&&(D=c[(B+1)%c.length],!0)),u)}(r,e,n,i);this.emit(Mi.STATE_CHANGE,hs.AP_CONNECTED);let{addressList:s,ticket:a}=o;return this._ticket=a,s}async connectWorker(e){this.emit(Mi.STATE_CHANGE,hs.CONNECT_WORKER),await this._workerConnection.init(e,1e4);}handleWorkerEvents(){this._workerConnection.on(it.CONNECTED,async()=>{this.emit(Mi.STATE_CHANGE,hs.WORKER_CONNECTED,this._workerConnection.url),this.connectionState=Xn.CONNECTED;}),this._workerConnection.on(it.CLOSED,()=>{this.connectionState=Xn.CLOSED;}),this._workerConnection.on(it.FAILED,()=>{this.connectionState=Xn.CLOSED;}),this._workerConnection.on(it.RECONNECTING,()=>{this.connectionState=this.connectionState===Xn.CONNECTED?Xn.RECONNECTING:Xn.CONNECTING;}),this._workerConnection.on(it.ON_MESSAGE,async e=>{if(e.data instanceof ArrayBuffer){let n=IW(new Uint8Array(e.data));v(\"SHOW_IMAGE_MODERATION_WORKER_MESSAGE\")&&_.debug(\"[\".concat(this._moderationId,\"] Response message for worker of image moderation \"),JSON.stringify(n)),this._uploadNum++,n.code===void 0||n.code===0||(this._uploadFailedNum++,_.error(\"[\".concat(this._moderationId,\"] Error response from worke, code is \").concat(n.code,\", msg is \").concat(n.msg)),this._uploadTimer||(this._uploadTimer=window.setTimeout(()=>{X.reportApiInvoke(this._connectInfo.sid||null,{name:Te.IMAGE_MODERATION_UPLOAD,options:[this._uploadFailedNum,this._uploadNum,n.code],tag:Zt.TRACER}).onError(new O(R.IMAGE_MODERATION_UPLOAD_FAILED,n.msg)),this._uploadTimer=null;},v(\"IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL\"))));}else _.error(\"[\".concat(this._moderationId,\"] Unexpected message type from worker\"));}),this._workerConnection.on(it.WILL_RECONNECT,(e,n,i)=>{e===\"recover\"&&i(e),i(\"tryNext\");}),this._workerConnection.on(it.REQUEST_NEW_URLS,(e,n)=>{this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(e).catch(n);});}static intToLong(e){return {low:e|=0,high:e>>31,unsigned:e>=0}}async requestToInspectImage(){let e=ni(this,Mi.CLIENT_LOCAL_VIDEO_TRACK),n={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid};if(e){if(!e.isPlaying)return void(v(\"SHOW_IMAGE_MODERATION_WORKER_MESSAGE\")&&_.debug(\"Only the track being played can be inspected\"));this._sequence++;let i=await this.generateRequestData(e,n);this._workerConnection.sendMessage(i,!0,!0);}else v(\"SHOW_IMAGE_MODERATION_WORKER_MESSAGE\")&&_.debug(\"Only the track being published can be inspected\");}async generateRequestData(e,n){let{appId:i,cname:r,cid:o,vid:s,sid:a,uid:c}=n,d=Date.now(),l=await e.getCurrentFrameImage(\"image/jpeg\",this.quality),u=await QO(l,i,r),h=this._sequence+\"-\"+o+\"-\"+c+\"-\"+d+\"-\"+Ut(12,\"\"),p={appId:i,cid:o,cname:r,deviceId:\"\",elapse:t.intToLong(Number(d-this._moderationStartTime)),fileSize:l.buffer.byteLength,height:l.height,width:l.width,jpg:u,networkType:6,osType:7,requestId:h,sdkVersion:\"4.22.0\",sequence:this._sequence,sid:a,timestamp:DW(d),uid:c,vid:s,service:this._moderationMode,ticket:this._ticket,callbackData:this._extraInfo,vendorConfigs:this._vendor};this._extraInfo===void 0&&delete p.callbackData;let g=CW(p);if(g.byteLength<this._workerMessageLengthLimit){if(v(\"SHOW_IMAGE_MODERATION_WORKER_MESSAGE\")){let E=function(f){for(var S=1;S<arguments.length;S++){var C=arguments[S]!=null?arguments[S]:{};S%2?oy(Object(C),!0).forEach(function(A){T(f,A,C[A]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(C)):oy(Object(C)).forEach(function(A){Object.defineProperty(f,A,Object.getOwnPropertyDescriptor(C,A));});}return f}({},p);delete E.jpg,_.debug(\"[\".concat(this._moderationId,\"] Request message for worker of image moderation service: \"),JSON.stringify(E));}return g}{let E=this.quality*this._qualityRatio;return this.quality=E,await this.generateRequestData(e,{appId:i,cname:r,cid:o,vid:s,sid:a,uid:c})}}close(){this._cancelTokenSource.cancel(),this._cancelTokenSource=mn.CancelToken.source(),this._workerConnection&&this._workerConnection.close(),this._moderationTimer&&window.clearInterval(this._moderationTimer),this._moderationTimer=null,this._uploadTimer&&window.clearTimeout(this._uploadTimer),this._uploadTimer=null,this.connectionState=Xn.CLOSED,this.emit(Mi.STATE_CHANGE,hs.CLOSED);}};function k0(t){if(Nt(t.interval,\"interval\",1e3,1/0),t&&t.extraInfo&&t.extraInfo.length>1024)throw new O(R.INVALID_PARAMS,\"config.extraInfo length cannot exceed 1024 bytes\");if(t&&t.vendor&&t.vendor.length>1024)throw new O(R.INVALID_PARAMS,\"config.vendor length cannot exceed 1024 bytes\")}var PW={name:\"ImageModeration\",create:function(t){let{config:e}=t;return k0(e),new pm(e)}},sy,ay,cy,dy,ly,uy,hy,py,_y,Ey,my,fy,gy,Ty,Sy,Ry,Cy,Iy,vy,yy,Ay,by,wy,Oy,Ny,Dy,Py,ky,Ly,My,Uy,xy,Vy,Fy,By,jy,Gy,Wy,Hy,Ky,G;function Yy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function xi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yy(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yy(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}ze.setLogger(_);var kW=(sy=$(),ay=$({argsMap:(t,e)=>{if(!Array.isArray(e)){if(!(e instanceof no))return [e];e=[e];}return e.map(n=>n?Object(n).toString():\"null\")}}),cy=$({argsMap:(t,e)=>(e||(e=[]),Array.isArray(e)||e.trackMediaType!==fa.DATA?(Array.isArray(e)||(e=[e]),e.map(n=>n.getTrackId())):[e.getChannelId()])}),dy=$({argsMap:(t,e,n,i)=>[typeof e==\"object\"?e.uid:e,n,i]}),ly=$({argsMap:(t,e,n)=>[e,n]}),uy=$({argsMap:(t,e)=>e.map(n=>{let{user:i,mediaType:r}=n;return [i?.uid,r]})}),hy=$({argsMap:(t,e,n,i)=>[typeof e==\"object\"?e.uid:e,n,i]}),py=$({argsMap:(t,e)=>e.map(n=>{let{user:i,mediaType:r}=n;return {uid:i?.uid,mediaType:r}})}),_y=$(),Ey=$(),my=$(),fy=$(),gy=$(),Ty=$(),Sy=$(),Ry=$(),Cy=$(),Iy=$(),vy=$(),yy=$(),Ay=$(),by=$(),wy=$({argsMap:(t,e)=>[e]}),Oy=$(),Ny=$(),Dy=$(),Py=$(),ky=$(),Ly=$(),My=$(),Uy=$(),xy=$({argsMap:(t,e)=>(Array.isArray(e)||(e=[e]),[JSON.stringify(e)])}),Vy=$(),Fy=$(),By=$(),jy=$(),Gy=$(),Wy=$(),Hy=$({reportResult:!0}),Ky=$(),G=class extends Xt{get connectionState(){return this._gateway.state}get remoteUsers(){return this._users}get localTracks(){return this._p2pChannel.getAllTracks(!0)}get uid(){return this._uid}get channelName(){return this._channelName}get localDataChannels(){return this._p2pChannel.getAllDataChannels()}get mode(){return this._config.mode}get role(){var t;return ((t=this._config)===null||t===void 0?void 0:t.role)||\"audience\"}get codec(){return this._config.codec}get audioCodec(){return this._config.audioCodec||\"opus\"}get isStringUID(){return !!this._joinInfo&&!!this._joinInfo.stringUid}get __className__(){return \"Client\"}constructor(t){let e;if(super(),T(this,\"store\",void 0),T(this,\"_uid\",void 0),T(this,\"_channelName\",void 0),T(this,\"_uintUid\",void 0),T(this,\"_users\",[]),T(this,\"_config\",void 0),T(this,\"_clientId\",void 0),T(this,\"_appId\",void 0),T(this,\"_sessionId\",null),T(this,\"_key\",void 0),T(this,\"_rtmConfig\",{}),T(this,\"_joinInfo\",void 0),T(this,\"_gateway\",void 0),T(this,\"_statsCollector\",void 0),T(this,\"_configDistribute\",void 0),T(this,\"_leaveMutex\",new ze(\"client-leave\")),T(this,\"_publishMutex\",new ze(\"client-publish\")),T(this,\"_renewTokenMutex\",new ze(\"client-renewtoken\")),T(this,\"_subscribeMutex\",new ze(\"client-subscribe\")),T(this,\"_encryptionMode\",\"none\"),T(this,\"_encryptionSecret\",null),T(this,\"_encryptionSalt\",null),T(this,\"_encryptDataStream\",!1),T(this,\"_encryptDataStreamKey\",null),T(this,\"_encryptDataStreamIv\",null),T(this,\"_proxyServer\",void 0),T(this,\"_turnServer\",{servers:[],mode:\"auto\"}),T(this,\"_cloudProxyServerMode\",\"disabled\"),T(this,\"_isDualStreamEnabled\",!1),T(this,\"_defaultStreamFallbackType\",void 0),T(this,\"_lowStreamParameter\",void 0),T(this,\"_streamFallbackTypeCacheMap\",new Map),T(this,\"_remoteStreamTypeCacheMap\",new Map),T(this,\"_axiosCancelSource\",mn.CancelToken.source()),T(this,\"_audioVolumeIndicationInterval\",void 0),T(this,\"_networkQualityInterval\",void 0),T(this,\"_userOfflineTimeout\",void 0),T(this,\"_streamRemovedTimeout\",void 0),T(this,\"_liveTranscodeStreamingClient\",void 0),T(this,\"_liveRawStreamingClient\",void 0),T(this,\"_channelMediaRelayClient\",void 0),T(this,\"_networkQualitySensitivity\",\"normal\"),T(this,\"_p2pChannel\",void 0),T(this,\"_useLocalAccessPoint\",!1),T(this,\"_setLocalAPVersion\",void 0),T(this,\"_joinAndNotLeaveYet\",!1),T(this,\"_numberOfJoinCount\",0),T(this,\"_remoteDefaultVideoStreamType\",void 0),T(this,\"_inspect\",void 0),T(this,\"_moderation\",void 0),T(this,\"_license\",void 0),T(this,\"_pendingPublishedUsers\",[]),T(this,\"ntpAlignErrorCount\",0),T(this,\"remoteInboundOffset\",0),T(this,\"_handleLocalTrackEnable\",(n,i,r)=>{this.publish(n,!1).then(i).catch(r);}),T(this,\"_handleLocalTrackDisable\",(n,i,r)=>{this.unpublish(n).then(i).catch(r);}),T(this,\"_handleUserOnline\",n=>{if(v(\"BLOCK_LOCAL_CLIENT\")&&Io(n.uid,this.channelName))return void _.debug(\"[\".concat(n.uid,\"] will be ignored in local\"));this.isStringUID&&typeof n.uid!=\"string\"&&_.error(\"[\".concat(this._clientId,\"] StringUID is Mixed with UintUID\"));let i=this._users.find(r=>r.uid===n.uid);if(i)i._trust_in_room_=!0,i._is_pre_created&&(i._is_pre_created=!1,this.safeEmit(ut.USER_JOINED,i));else {let r=new ir(n.uid,n.uint_id||n.uid);this._users.push(r),_.debug(\"[\".concat(this._clientId,\"] user online\"),n.uid),this.safeEmit(ut.USER_JOINED,r);}}),T(this,\"_handleUserOffline\",n=>{if(v(\"BLOCK_LOCAL_CLIENT\")&&Io(n.uid,this.channelName))return;let i=this._users.find(r=>r.uid===n.uid);i&&(this._handleRemoveStream(n),this._handleRemoveDataChannels(n),i._audio_pre_subscribed||i._video_pre_subscribed?i._is_pre_created=!0:Wl(this._users,i),this._remoteStreamTypeCacheMap.delete(i.uid),this._streamFallbackTypeCacheMap.delete(i.uid),_.debug(\"[\".concat(this._clientId,\"] user offline\"),n.uid,\"reason:\",n.reason),this.safeEmit(ut.USER_LEAVED,i,n.reason));}),T(this,\"_handleAddAudioOrVideoStream\",(n,i,r,o,s,a,c)=>{if(v(\"BLOCK_LOCAL_CLIENT\")&&Io(i,this.channelName))return;let d=this._users.find(u=>u.uid===i);if(!d)return void _.error(\"[\".concat(this._clientId,\"] can not find target user!(on_add_stream)\"));_.debug(\"[\".concat(this._clientId,\"] stream added with uid \").concat(i,\", type \").concat(n)),this.store.subscribe(d.uid,n,void 0,void 0,void 0,Date.now());let l=n===\"audio\"?d.hasAudio:d.hasVideo;d._uintid||(d._uintid=s||i),n===\"audio\"?d._trust_audio_stream_added_state_=!0:d._trust_video_stream_added_state_=!0,n===\"audio\"?(d._audio_added_=!0,r!==void 0&&(d._audioSSRC=r),o!==void 0&&(d._cname=o),a&&(d._audioOrtc=a)):(d._video_added_=!0,r!==void 0&&(d._videoSSRC=r),o!==void 0&&(d._cname=o),c!==void 0&&(d._rtxSsrcId=c),a&&(d._videoOrtc=a)),(n===\"audio\"?d.hasAudio:d.hasVideo)&&!l&&(_.info(\"[\".concat(this._clientId,\"] remote user \").concat(d.uid,\" published \").concat(n)),this.safeEmit(ut.USER_PUBLISHED,d,n)),n===\"video\"?X.onGatewayStream(this._sessionId,De.ON_ADD_VIDEO_STREAM,Jt.ON_ADD_VIDEO_STREAM,{peer:s||i,ssrc:d._videoSSRC}):X.onGatewayStream(this._sessionId,De.ON_ADD_AUDIO_STREAM,Jt.ON_ADD_AUDIO_STREAM,{peer:s||i,ssrc:d._audioSSRC}),this._p2pChannel.remoteMediaSsrcChanged(d,n,r).then(u=>{if(u&&(_.debug(\"[\".concat(this._clientId,\"] resubscribe \").concat(n,\" for user \").concat(d.uid,\" after rejoin because SSRC id changed.\")),this._p2pChannel instanceof Jd))return this._p2pChannel.unsubscribe(d,n,!0).then(()=>this._subscribe(d,n,!0).catch(h=>{_.error(\"[\".concat(this._clientId,\"] resubscribe error\"),h.toString());}))}),this._p2pChannel.hasPendingRemoteMedia(d,n)&&(_.debug(\"[\".concat(this._clientId,\"] resubscribe \").concat(n,\" for user \").concat(d.uid,\" after reconnect.\")),this._subscribe(d,n,!0).catch(u=>{_.error(\"[\".concat(this._clientId,\"] resubscribe error\"),u.toString());}));}),T(this,\"_handleRemoveStream\",n=>{if(v(\"BLOCK_LOCAL_CLIENT\")&&Io(n.uid,this.channelName))return;let i=this._users.find(o=>o.uid===n.uid);if(!i)return void _.warning(\"[\".concat(this._clientId,\"] can not find target user!(on_remove_stream)\"));_.debug(\"[\".concat(this._clientId,\"] stream removed with uid \").concat(n.uid));let r=()=>{};i.hasAudio&&i.hasVideo?r=()=>{_.info(\"[\".concat(this._clientId,\"] remote user \").concat(i.uid,\" unpublished audio track\")),this.safeEmit(ut.USER_UNPUBLISHED,i,\"audio\"),_.info(\"[\".concat(this._clientId,\"] remote user \").concat(i.uid,\" unpublished video track\")),this.safeEmit(ut.USER_UNPUBLISHED,i,\"video\");}:i.hasVideo?r=()=>{_.info(\"[\".concat(this._clientId,\"] remote user \").concat(i.uid,\" unpublished video track\")),this.safeEmit(ut.USER_UNPUBLISHED,i,\"video\");}:i.hasAudio&&(r=()=>{_.info(\"[\".concat(this._clientId,\"] remote user \").concat(i.uid,\" unpublished audio track\")),this.safeEmit(ut.USER_UNPUBLISHED,i,\"audio\");}),i._video_pre_subscribed||i._audio_pre_subscribed||(i._trust_audio_stream_added_state_=!0,i._trust_video_stream_added_state_=!0,i._audio_added_=!1,i._video_added_=!1,this._p2pChannel instanceof Jd&&this._p2pChannel.unsubscribe(i).then(o=>{if(o)return this._gateway.unsubscribe(o,i.uid)}),i._audioSSRC=void 0,i._videoSSRC=void 0,i._audioOrtc=void 0,i._videoOrtc=void 0,i._rtxSsrcId=void 0),X.onGatewayStream(this._sessionId,De.ON_REMOVE_STREAM,Jt.ON_REMOVE_STREAM,{peer:n.uint_id||n.uid}),r();}),T(this,\"_handleSetStreamLocalEnable\",(n,i,r)=>{if(v(\"BLOCK_LOCAL_CLIENT\")&&Io(i,this.channelName))return;let o=this._users.find(c=>c.uid===i);if(!o)return void _.error(\"[\".concat(this._clientId,\"] can not find target user!(disable_local)\"));_.debug(\"[\".concat(this._clientId,\"] local \").concat(n,\" \").concat(r?\"enabled\":\"disabled\",\" with uid \").concat(i));let s=n===\"audio\"?o.hasAudio:o.hasVideo;if(n===\"audio\"){o._trust_audio_enabled_state_=!0;let c=o._audio_enabled_;if(o._audio_enabled_=r,o._audio_enabled_===c)return;{let d=o._audio_enabled_?\"enable-local-audio\":\"disable-local-audio\";_.debug(\"[\".concat(this._clientId,\"] user-info-updated, uid: \").concat(i,\", msg: \").concat(d)),this.safeEmit(ut.USER_INFO_UPDATED,i,d);}}else {o._trust_video_enabled_state_=!0;let c=o._video_enabled_;if(o._video_enabled_=r,o._video_enabled_===c)return;{let d=o._video_enabled_?\"enable-local-video\":\"disable-local-video\";_.debug(\"[\".concat(this._clientId,\"] user-info-update, uid: \").concat(i,\", msg: \").concat(d)),this.safeEmit(ut.USER_INFO_UPDATED,i,d);}}let a=n===\"audio\"?o.hasAudio:o.hasVideo;return s!==a?!s&&a?(_.info(\"[\".concat(this._clientId,\"] remote user \").concat(i,\" published \").concat(n)),void this.safeEmit(ut.USER_PUBLISHED,o,n)):(n===\"video\"&&o._videoTrack&&o._videoTrack._destroy(),n===\"audio\"&&o._audioTrack,this._p2pChannel.muteRemote(o,n),_.info(\"[\".concat(this._clientId,\"] remote user \").concat(i,\" unpublished \").concat(n)),void this.safeEmit(ut.USER_UNPUBLISHED,o,n)):void 0}),T(this,\"_handleMuteStream\",(n,i,r)=>{if(v(\"BLOCK_LOCAL_CLIENT\")&&Io(n,this.channelName))return;_.debug(\"[\".concat(this._clientId,\"] receive mute message\"),n,i,r);let o=this._users.find(c=>c.uid===n);if(!o)return void _.warning(\"[\".concat(this._clientId,\"] can not find remote user, ignore mute event, uid: \").concat(n));let s=i===\"audio\"?o.hasAudio:o.hasVideo;if(i===\"audio\"){o._trust_audio_mute_state_=!0;let c=o._audio_muted_;if(o._audio_muted_=r,o._audio_muted_===c)return;{let d=o._audio_muted_?\"mute-audio\":\"unmute-audio\";_.debug(\"[\".concat(this._clientId,\"] user-info-update, uid: \").concat(n,\", msg: \").concat(d)),this.safeEmit(ut.USER_INFO_UPDATED,n,d);}}else {o._trust_video_mute_state_=!0;let c=o._video_muted_;if(o._video_muted_=r,o._video_muted_===c)return;{let d=o._video_muted_?\"mute-video\":\"unmute-video\";_.debug(\"[\".concat(this._clientId,\"] user-info-update, uid: \").concat(n,\", msg: \").concat(d)),this.safeEmit(ut.USER_INFO_UPDATED,n,d);}}let a=i===\"audio\"?o.hasAudio:o.hasVideo;if(s!==a){if(!s&&a)return (i===\"audio\"?o._audioSSRC:o._videoSSRC)?(_.info(\"[\".concat(this._clientId,\"] remote user \").concat(n,\" published \").concat(i)),void this.safeEmit(ut.USER_PUBLISHED,o,i)):void _.warning(\"[\".concat(this._clientId,\"] remote user \").concat(n,\" receive \").concat(i,\" unmute message  before add stream message, \").concat(i,\" SSRC doesn't exist yet.\"));i===\"video\"&&o._videoTrack&&!o._video_pre_subscribed&&o._videoTrack._destroy(),i===\"audio\"&&o._audioTrack,this._p2pChannel.muteRemote(o,i),_.info(\"[\".concat(this._clientId,\"] remote user \").concat(n,\" unpublished \").concat(i)),this.safeEmit(ut.USER_UNPUBLISHED,o,i);}}),T(this,\"_handleP2PLost\",async n=>{_.debug(\"[\".concat(this._clientId,\"] receive p2p lost\"),n),parseInt(n.p2pid,10)===this.store.p2pId?await this._p2pChannel.requestReconnect():_.warning(\"[\".concat(this._clientId,\"] P2PLost stream not found\"),n);}),T(this,\"_handleTokenWillExpire\",()=>{_.debug(\"[\".concat(this._clientId,\"] received message onTokenPrivilegeWillExpire\")),this.safeEmit(ut.ON_TOKEN_PRIVILEGE_WILL_EXPIRE);}),T(this,\"_handleBeforeUnload\",n=>{n.type===\"beforeunload\"&&n.returnValue!==void 0&&n.returnValue!==\"\"||(this.leave(),_.info(\"[\".concat(this._clientId,\"] auto leave onbeforeunload or pagehide\")));}),T(this,\"_handleUpdateNetworkQuality\",()=>{if(this._networkQualitySensitivity===\"normal\")return;if(navigator&&navigator.onLine!==void 0&&!navigator.onLine)return void this.safeEmit(ut.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6});let n={downlinkNetworkQuality:0,uplinkNetworkQuality:0};n.uplinkNetworkQuality=this._p2pChannel.getUplinkNetworkQuality(),n.downlinkNetworkQuality=this._p2pChannel.getDownlinkNetworkQuality(),this.safeEmit(ut.NETWORK_QUALITY,n);}),T(this,\"_handleP2PAddAudioOrVideoStream\",(n,i,r,o)=>{let s=this._users.find(c=>c.uid===i);if(!s)return void _.error(\"[\".concat(this._clientId,\"] can not find target user!(on_add_stream)\"));_.debug(\"[\".concat(this._clientId,\"] stream added with uid \").concat(i,\", type \").concat(n)),this.store.subscribe(s.uid,n,void 0,void 0,void 0,Date.now());let a=n===\"audio\"?s.hasAudio:s.hasVideo;n===\"audio\"?s._trust_audio_stream_added_state_=!0:s._trust_video_stream_added_state_=!0,n===\"audio\"?(s._audio_added_=!0,r!==void 0&&(s._audioSSRC=r),o!==void 0&&(s._audioMid=o)):(s._video_added_=!0,r!==void 0&&(s._videoSSRC=r),o!==void 0&&(s._videoMid=o)),(n===\"audio\"?s.hasAudio:s.hasVideo)&&!a&&(_.info(\"[\".concat(this._clientId,\"] remote user \").concat(s.uid,\" published \").concat(n)),this.safeEmit(ut.USER_PUBLISHED,s,n)),this._p2pChannel.hasPendingRemoteMedia(s,n)&&(_.debug(\"[\".concat(this._clientId,\"] resubscribe \").concat(n,\" for user \").concat(s.uid,\" after reconnect.\")),this._subscribe(s,n,!0).catch(c=>{_.error(\"[\".concat(this._clientId,\"] resubscribe error\"),c.toString());}));}),this._config=t,this._clientId=Ut(5,\"client-\"),this.store=new ME(t.codec,t.audioCodec,t.mode,this._clientId),this.store.clientCreated(),t.proxyServer&&this.setProxyServer(t.proxyServer,!0),t.turnServer&&this.setTurnServer(t.turnServer,!0),_.info(\"[\".concat(this._clientId,\"] Initializing AgoraRTC client v\").concat(ii,\" build: \").concat(Ef,\", mode: \").concat(this.mode,\", codec: \").concat(this.codec)),t.clientRoleOptions)try{fR(t.clientRoleOptions),e=Object.assign({},t.clientRoleOptions);}catch(n){_.warning(\"[\".concat(this._clientId,\"] \").concat(n.toString()));}this._statsCollector=new _u(this.store),this._statsCollector.onStatsException=(n,i,r)=>{_.debug(\"[\".concat(this._clientId,\"] receive exception msg, code: \").concat(n,\", msg: \").concat(i,\", uid: \").concat(r)),this.safeEmit(ut.EXCEPTION,{code:n,msg:i,uid:r});},this._statsCollector.onUploadPublishDuration=(n,i,r,o)=>{let s=this._users.find(a=>a.uid===n);s&&X.peerPublishStatus(this._sessionId,{subscribeElapse:o,audioPublishDuration:i,videoPublishDuration:r,peer:s._uintid});},this.store.useP2P=t.mode===\"p2p\",this._gateway=new tm(this.store,{clientId:this._clientId,mode:this.mode,codec:this.codec,websocketRetryConfig:t.websocketRetryConfig||Ee,httpRetryConfig:t.httpRetryConfig||Ee,forceWaitGatewayResponse:t.forceWaitGatewayResponse===void 0||t.forceWaitGatewayResponse,statsCollector:this._statsCollector,role:t.role,clientRoleOptions:e}),this._configDistribute=new im,this.store.useP2P?(this._p2pChannel=new An(this.store,this._statsCollector),this._handleP2PEvents()):this._p2pChannel=new Jd(this.store,this._statsCollector),this._handleP2PChannelEvents(),this._handleGatewayEvents(),this._handleGatewaySignalEvents();}async joinMeta(t,e,n,i,r){let o=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5],s=arguments.length>6&&arguments[6]!==void 0&&arguments[6];Ot(\"JOIN_GATEWAY_USE_443PORT_ONLY\",o),Ot(\"JOIN_GATEWAY_USE_DUAL_DOMAIN\",s);let a=this._gateway.signal.websocket;return a instanceof Nc&&(a.use443PortOnly=o,a.tryDoubleDomain=s),async function(c,d,l){bd.get(c)||bd.set(c,[]),wd.get(c)||wd.set(c,d),Yi.get(c)||Yi.set(c,0);let u=bd.get(c),h=wd.get(c);if(!u||!h)throw new Error(\"concurrent: deferQueue or maxConcurrency is null\");if(Yi.get(c)===h){let S=vc();u.push(S),await S.promise;}Yi.set(c,Yi.get(c)+1);for(var p=arguments.length,g=new Array(p>3?p-3:0),E=3;E<p;E++)g[E-3]=arguments[E];let f=await l(...g);return Yi.set(c,Yi.get(c)-1),Yi.get(c)===h-1&&u.length>0&&(u[0].resolve(),u.shift()),Yi.get(c)===0&&(bd.set(c,[]),wd.set(c,0),Yi.set(c,0)),f}(\"client.join\",v(\"JOIN_MAX_CONCURRENCY\"),this.join.bind(this),t,e,n,i,r)}async join(t,e,n,i,r){let o=++this._numberOfJoinCount;this.store.joinStart(),i&&(this.store.uid=i);let s=(Nd||Nd||(Nd=(window.location.protocol.split(\":\")[0]||\"\").toUpperCase(),Nd))===\"HTTPS\",a=vR()?window.isSecureContext:\"Browser Not Support\";(!vR()&&!s||!window.isSecureContext)&&_.warning(\"The website must be running in a secure context (About secure context: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts ), otherwise the media collection will be restricted by the browser\"),this.connectionState===\"DISCONNECTED\"&&(this.store.avoidJoinStart=Math.round(Date.now()),_.debug(\"[\".concat(this._clientId,\"] set avoidJoinStart to \").concat(this.store.avoidJoinStart))),X.setAppId(t);try{if(!n&&n!==null)throw new O(R.INVALID_PARAMS,\"Invalid token: \".concat(n,\". If you don not use token, set it to null\"));n&&Pe(n,\"token\",1,2047),Pe(t,\"appid\",1,2047),Xu(e),i&&Qu(i),r&&Pe(r,\"optionalInfo\",1,2047);}catch(E){throw X.reportApiInvoke(Ms(),{name:Te.JOIN,options:[t,e,n,i],states:{isHttps:s,isSecureContext:a},tag:Zt.TRACER}).onError(E),E}if(this._leaveMutex.isLocked&&(_.debug(\"[\".concat(this._clientId,\"] join: waiting leave operation\")),(await this._leaveMutex.lock())(),_.debug(\"[\".concat(this._clientId,\"] join: continue\"))),this._joinAndNotLeaveYet=!0,this.connectionState!==\"DISCONNECTED\"){let E=new O(R.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Client already in connecting/connected state\"));throw X.reportApiInvoke(Ms(),{name:Te.JOIN,options:[t,e,n,i],states:{isHttps:s,isSecureContext:a},tag:Zt.TRACER}).onError(E),E}this._gateway.state=\"CONNECTING\";let c=await Xv({appId:t,cname:e,uid:i,stringUid:typeof i==\"string\"?i:void 0,token:n||t,cloudProxyServer:this._cloudProxyServerMode});if(!this._joinAndNotLeaveYet)throw new O(R.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Client already left\"));let d=c?.sid||Ms();_.info(\"[\".concat(this._clientId,\"] start join channel \").concat(e,\", join number: \").concat(o)),this._sessionId||(this._sessionId=d,this.store.sessionId=this._sessionId);let l=X.reportApiInvoke(d,{name:Te.JOIN,options:[t,e,n,i],states:{isHttps:s,isSecureContext:a},tag:Zt.TRACER}),u=xi(xi({},this._rtmConfig),{},{clientId:this._clientId,appId:t,sid:this._sessionId,cname:e,uid:typeof i!=\"string\"?i:null,turnServer:this._turnServer,proxyServer:this._proxyServer,token:n||t,cloudProxyServer:this._cloudProxyServerMode,optionalInfo:r,license:this._license,useLocalAccessPoint:this._useLocalAccessPoint,preload:!!c},this._remoteDefaultVideoStreamType!==void 0&&{defaultVideoStream:this._remoteDefaultVideoStreamType});if(this._useLocalAccessPoint&&(u.setLocalAPVersion=this._setLocalAPVersion),typeof i==\"string\"&&(u.stringUid=i,this._uintUid?(u.uid=this._uintUid,this._uintUid=void 0):u.uid=0),this._encryptionMode!==\"none\"&&this._encryptionSecret){if(u.aesmode=this._encryptionMode,u.aespassword=await(async E=>{let f=function(b){let w=window.atob(`MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDCMnXAHkKIGAM+x4N22gCI+Wyu\nSTM9ztkT3uYslTT2PuKmZfPzhH6kVdO7PTjGCOZnAsyb3oTtWat0KcxQ4jxvqQV+\nHvYl3iI1Yd4vl2c3qRMJPLtRDfNxa2Mcxgq7e9aEUibzdd0st+OJAy3tOj/Y0aVy\nxQiYDz3vqa6bP29adwIDAQAB`),D=new Uint8Array(new ArrayBuffer(w.length));for(let k=0;k<w.length;k+=1)D[k]=w.charCodeAt(k);return D}(),S=await window.crypto.subtle.importKey(\"spki\",f,{name:\"RSA-OAEP\",hash:\"SHA-256\"},!0,[\"encrypt\"]),C=uf(E),A=await window.crypto.subtle.encrypt({name:\"RSA-OAEP\"},S,C);return function(b){let w=\"\";for(let D=0;D<b.length;D+=1)w+=String.fromCharCode(b[D]);return window.btoa(w)}(new Uint8Array(A))})(this._encryptionSecret),!this._joinAndNotLeaveYet)throw new O(R.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Client already left\"));this._encryptionSalt&&(u.aessalt=this._encryptionSalt);}if(this._encryptDataStream&&(this._encryptionMode===\"aes-128-gcm2\"||this._encryptionMode===\"aes-256-gcm2\"))if(this._encryptionSalt&&this._encryptionSecret)if(window.crypto.subtle){let E=new TextEncoder,f=v(\"USE_PURE_ENCRYPTION_MASTER_KEY\")?E.encode(u.appId+this._encryptionSecret+this._encryptionSecret):E.encode(u.appId+u.cname+this._encryptionSecret);this._encryptDataStreamIv=await async function(S,C,A){let b=await window.crypto.subtle.importKey(\"raw\",C,\"PBKDF2\",!1,[\"deriveBits\",\"deriveKey\"]),w=S===\"aes-128-gcm2\"?128:256,D=await window.crypto.subtle.deriveBits({name:\"PBKDF2\",iterations:AR,hash:\"SHA-256\",salt:A},b,w+TB);return new Uint8Array(D).subarray(w/8)}(this._encryptionMode,f,Fo(this._encryptionSalt)),this._encryptDataStreamKey=await async function(S,C,A){let b=await window.crypto.subtle.importKey(\"raw\",C,\"PBKDF2\",!1,[\"deriveBits\",\"deriveKey\"]),w=S===\"aes-128-gcm2\"?128:256;return await window.crypto.subtle.deriveKey({name:\"PBKDF2\",iterations:AR,hash:\"SHA-256\",salt:A},b,{name:\"AES-GCM\",length:w},!0,[\"encrypt\",\"decrypt\"])}(this._encryptionMode,f,Fo(this._encryptionSalt));}else a?_.warning(\"[\".concat(this._clientId,\"] encrypt datastream must be running in a secure context, fallback to plain data stream\")):_.warning(\"[\".concat(this._clientId,\"] current browser do not support WebCrypto ,fallback to plain data stream\")),this._encryptDataStream=!1;else this._encryptDataStream=!1,_.debug(\"[\".concat(this._clientId,\"] no salt / secret, cannot support encrypt data stream, fallback to plain data stream\"));this._startSession(this._sessionId,{channel:e,appId:t,stringUid:u.stringUid});let h=this._sessionId;setTimeout(()=>{this.connectionState===\"CONNECTING\"&&h===this._sessionId&&X.joinChannelTimeout(this._sessionId,5);},5e3);try{var p;let E,f=u.cloudProxyServer;if(W(p=[\"proxy3\",\"proxy4\",\"proxy5\"]).call(p,f)){let w=v(\"PROXY_SERVER_TYPE3\");Array.isArray(w)?u.proxyServer=w[0]:u.proxyServer=w;}if(X.setProxyServer(u.proxyServer),_.setProxyServer(u.proxyServer),this.store.requestAPStart(),c){if(_.debug(\"[\".concat(this._clientId,\"] get serverInfo Success from Preload Cache \").concat(u.stringUid?\", \".concat(u.stringUid,\" => \").concat(c.intUid):\"\",\" \")),u.stringUid&&!u.uid&&(u.uid=c.intUid),E={gatewayInfo:c.ap.gatewayInfo},v(\"JOIN_WITH_FALLBACK_MEDIA_PROXY\")&&u.turnServer.mode===\"auto\")if(c.ap.proxyInfo.addresses.length===0)_.warning(\"no edge services in ap response of proxy fallback, will not set proxy in iceServers\");else {let w=(await kO(c.ap.proxyInfo,c.ap.gatewayInfo.uid)).map(D=>({turnServerURL:D.address,tcpport:D.tcpport||Ve.tcpport,udpport:D.udpport||Ve.udpport,username:D.username||Ve.username,password:D.password||Ve.password,forceturn:!1,security:!0}));u.turnServer={mode:\"manual\",servers:w};}Qv(c,u.stringUid);}else {if(u.stringUid&&!u.uid){let w;[w,E]=await j.all([h0(u.stringUid,u,this._axiosCancelSource.token,this._config.httpRetryConfig||Ee,this.store),tv(u,this._axiosCancelSource.token,this._config.httpRetryConfig||Ee,!0,this.store)]),_.debug(\"[\".concat(this._clientId,\"] getUserAccount Success \").concat(u.stringUid,\" => \").concat(w)),u.uid=w,E.gatewayInfo.uid=w,E.gatewayInfo.res.uid=w;}else E=await tv(u,this._axiosCancelSource.token,this._config.httpRetryConfig||Ee,!0,this.store);if(!this._joinAndNotLeaveYet)throw new O(R.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Client already left\"))}this.store.requestAPEnd(),setTimeout(()=>{this._configDistribute.startGetConfigDistribute(u,this._axiosCancelSource.token),this._configDistribute.on(FE.UPDATE_BITRATE_LIMIT,w=>{this._p2pChannel.updateBitrateLimit(w);});},0),this._key=n||t;let S=E.gatewayInfo,C=u.uid?u.uid:S.uid;this._joinInfo=xi(xi({},u),{},{cid:S.cid,uid:C,vid:S.vid,apResponse:S.res,apGatewayAddress:S.apGatewayAddress,uni_lbs_ip:S.uni_lbs_ip,gatewayAddrs:S.gatewayAddrs}),this.store.intUid=C;let A=await this._joinGateway();if(!this._joinAndNotLeaveYet)throw new O(R.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Client already left\"));l.onSuccess(A),this._appId=t,this._channelName=u.cname,this._uid=A,this.store.uid=A,setTimeout(()=>{this._networkQualityInterval&&window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=window.setInterval(this._handleUpdateNetworkQuality,2e3),window.addEventListener(je()?\"beforeunload\":\"pagehide\",this._handleBeforeUnload),this._statsCollector.startUpdateStats();},0);let b=u.stringUid?\"string uid: \".concat(u.stringUid,\",uid: \").concat(u.uid):\"uid: \".concat(this._uid);return _.info(\"[\".concat(this._clientId,\"] Joining channel success: channel: \").concat(e,\",\").concat(b)),setTimeout(()=>{_.startUpload();},5e3),this.store.joinEnd(),g=this,W(Jr).call(Jr,g)||Jr.push(g),this._cloudProxyServerMode===\"disabled\"&&ft().supportWebCrypto&&v(\"ENABLE_PRELOAD\")&&Df(this._joinInfo),A}catch(E){let f=Array.isArray(E)?E[0]:E;throw f&&f.code===R.OPERATION_ABORTED?_.warning(\"[\".concat(this._clientId,\"] join number: \").concat(o,\", Joining channel failed, rollback\"),f):_.error(\"[\".concat(this._clientId,\"] join number: \").concat(o,\", Joining channel failed, rollback\"),f),f.code!==R.OPERATION_ABORTED&&this._numberOfJoinCount===o&&(this._gateway.state=\"DISCONNECTED\",this._reset()),l.onError(f),f}var g;}_joinGateway(){if(!this._joinInfo||!this._key)throw new O(R.INVALID_OPERATION);return this._gateway.join(this._joinInfo,this._key,!(this._joinInfo.cloudProxyServer!==\"disabled\"||this._joinInfo.proxyServer||!v(\"JOIN_WITH_FALLBACK_SIGNAL_PROXY\")))}async leave(){_.info(\"[\".concat(this._clientId,\"] Leaving channel\")),window.removeEventListener(je()?\"beforeunload\":\"pagehide\",this._handleBeforeUnload),this._reset(),function(e){let n=Jr.indexOf(e);n!==-1&&Jr.splice(n,1);}(this),this._statsCollector.stopUpdateStats();let t=await this._leaveMutex.lock();if(this.connectionState===\"DISCONNECTED\")return _.info(\"[\".concat(this._clientId,\"] Leaving channel repeated, success\")),void t();await this._gateway.leave(this.connectionState!==\"CONNECTED\"),_.info(\"[\".concat(this._clientId,\"] Leaving channel success\")),this._joinAndNotLeaveYet=!1,this.store.resetJoinChannelServiceRecords(),t();}async publish(t){let e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(!Array.isArray(t)){if(!(t instanceof no))return this._publishDataChannel(t);t=[t];}if(t.length===0)throw new O(R.INVALID_PARAMS,\"param list is empty\");let n=t;if(this._gateway.role===\"audience\")throw new O(R.INVALID_OPERATION,\"audience can not publish stream\");for(let r of n){if(!(r instanceof no))throw new O(R.INVALID_PARAMS,\"parameter is not local track\");if(!r._enabled&&e)throw new O(R.TRACK_IS_DISABLED,\"can not publish a disabled track: \".concat(r.getTrackId()))}_.info(\"[\".concat(this._clientId,\"] Publishing tracks, id \").concat(n.map(r=>\"\".concat(r.getTrackId(),\" \"))));let i=await this._publishMutex.lock();await this._configDistribute.awaitConfigDistributeComplete(),e&&n.forEach(r=>{let o=this._configDistribute.getBitrateLimit();r instanceof Ft&&o&&r.setBitrateLimit(o.uplink);});try{await this._publishHighStream(n),_.info(\"[\".concat(this._clientId,\"] Publish success, id \").concat(n.map(r=>\"\".concat(r.getTrackId(),\" \"))));}catch(r){throw _.error(\"[\".concat(this._clientId,\"] publish error\"),r.toString()),r}finally{i();}}async _publishDataChannel(t){Nt(t.id,\"id\",0,65535,!0),Nr(t.ordered,\"ordered\"),Pe(t.metadata,\"metadata\",0,512),_.info(\"[\".concat(this._clientId,\"] Publishing datachannels, id \").concat(t.id));let e=await this._publishMutex.lock();try{if(this._p2pChannel.getAllDataChannels().findIndex(r=>r.id===t.id)!==-1)throw new O(R.INVALID_PARAMS,\"Invalid id: \".concat(t.id,\". If you want to republish the datachannel, unpublish first\"));if(!this._joinInfo||this._uid===void 0)throw new O(R.INVALID_OPERATION,\"Can't publish datachannel, haven't joined yet!\");if(this.connectionState!==\"CONNECTED\"&&this.connectionState!==\"RECONNECTING\")throw new O(R.INVALID_OPERATION,\"can not publish datachannel in \".concat(this.connectionState,\" state\"));if(this._turnServer.mode===\"auto\"&&v(\"FORCE_TURN\")&&!v(\"TURN_ENABLE_TCP\")&&!v(\"TURN_ENABLE_UDP\"))throw new O(R.UNEXPECTED_ERROR,\"force TURN With No TURN Configuration\");let n=function(r){return Kv(r,!1)}(t),i=await this._p2pChannel.publishDataChannel([n]);if(i.length>0){if(typeof n._originDataChannelId!=\"number\")throw _.error(\"[\".concat(this._clientId,\"] can not publish with mediaType datachannel, cannot get RTCDatachannel id\")),new O(R.CREATE_DATACHANNEL_ERROR);try{await j.all(i.map(r=>this._uid&&this._gateway.publishDataChannel(this._uid,r,!0))),await n._waitTillOpen();}catch(r){if(r.code!==R.DISCONNECT_P2P)throw r}}return _.info(\"[\".concat(this._clientId,\"] Publish dataChannels success, id \").concat(n.id)),n}catch(n){throw _.error(\"[\".concat(this._clientId,\"] publish datachannels error\"),n.toString()),n}finally{e();}}async unpublish(t){if(!this._joinInfo||this._uid===void 0)throw new O(R.INVALID_OPERATION,\"Can't unpublish stream, haven't joined yet!\");let e=[];if(t)if(Array.isArray(t))e=t;else {if(!(t instanceof no))return this._unpublishDataChannel([t]);e=[t];}else this.store.useP2P||await this._unpublishDataChannel(),e=this._p2pChannel.getAllTracks(!0);_.info(\"[\".concat(this._clientId,\"] Unpublish tracks, tracks \").concat(e.map(i=>\"\".concat(i.getTrackId(),\" \")),\" \"));let n=await this._publishMutex.lock();try{if(this._p2pChannel instanceof An){let i=await this._p2pChannel.unpublish(e);i&&await this._gateway.sendExtensionMessage(ie.UNPUBLISH,{unpubMsg:i},!0);}else {let i=await this._p2pChannel.unpublish(e);i&&await this._gateway.unpublish(i,this._uid),_.info(\"[\".concat(this._clientId,\"] Unpublish success,tracks \").concat(e.map(r=>\"\".concat(r.getTrackId()))));}}catch(i){throw _.error(\"[\".concat(this._clientId,\"] unpublish error\"),i.toString()),i}finally{n&&n();}}async _unpublishDataChannel(t){t!==void 0&&t.length!==0||(t=this._p2pChannel.getAllDataChannels()),_.info(\"[\".concat(this._clientId,\"] Unpublish datachannels, datachannels \").concat(t.map(n=>\"\".concat(n.id,\" \")),\" \"));let e=await this._publishMutex.lock();try{let n=await this._p2pChannel.unpublishDataChannel(t);n&&await this._gateway.unpublishDataChannel(n),_.info(\"[\".concat(this._clientId,\"] Unpublish dataChannel success,dataChannel \").concat(t.map(i=>\"\".concat(i.id))));}catch(n){throw _.error(\"[\".concat(this._clientId,\"] unpublish dataChannel error\"),n.toString()),n}finally{e&&e();}}async subscribe(t,e,n){if(!(t instanceof ir)){let i=this.remoteUsers.find(r=>r.uid===t);if(!i)throw new O(R.INVALID_REMOTE_USER,\"user is not in the channel\");t=i;}return e===\"datachannel\"?this._subscribeDataChannel(t,n):this._subscribe(t,e)}async presubscribe(t,e){if(Ce(e,\"mediaType\",[\"audio\",\"video\"]),this._p2pChannel instanceof An)throw new O(R.INVALID_OPERATION,\"can't presub at p2p mode\");if(!this._joinInfo)throw new O(R.INVALID_OPERATION,\"can't presub when not join\");if(this.connectionState!==\"CONNECTED\"&&this.connectionState!==\"RECONNECTING\")throw new O(R.INVALID_OPERATION,\"can't presub in \".concat(this.connectionState,\" state\"));let n=e===Q.AUDIO,i=e===Q.VIDEO,r=await this._subscribeMutex.lock();try{let{ssrcId:o,ortc:s,rtxSsrcId:a,cname:c,uint_id:d}=await this._gateway.presubscribe(t,e,!0);if(o==null)throw new O(R.UNEXPECTED_RESPONSE,\"no ssrc id\");let l=this._users.find(h=>h.uid===t);l||(l=new ir(t,d||t),l._is_pre_created=!0,this._users.push(l)),c&&(l._cname=c),l._uintid||(l._uintid=d||t),n&&(l._audioSSRC=o,l._audio_pre_subscribed=!0,s&&(l._audioOrtc=s)),i&&(l._videoSSRC=o,l._video_pre_subscribed=!0,s&&(l._videoOrtc=s),a!=null&&(l._rtxSsrcId=a)),_.info(\"[\".concat(this._clientId,\"] presub succeed ssrc: \").concat(o)),await this._p2pChannel.subscribe(l,e,o,a,s);let u=n?l._audioTrack:l._videoTrack;if(!u)throw new O(R.UNEXPECTED_ERROR,\"can not find remote track in user\");return n&&(l._trust_audio_stream_added_state_=!0,l._audio_added_=!0),i&&(l._trust_video_stream_added_state_=!0,l._video_added_=!0),u}catch(o){throw _.error(\"[\".concat(this._clientId,\"] presub user \").concat(t,\" error\"),o),o}finally{r();}}async _subscribeDataChannel(t,e){var n;if(Nt(e,\"channelId\",0,65535,!0),!this._joinInfo)throw new O(R.INVALID_OPERATION,\"Can't subscribe datachannel, not joined\");if(this.connectionState!==\"CONNECTED\"&&this.connectionState!==\"RECONNECTING\")throw new O(R.INVALID_OPERATION,\"Can't subscribe datachannel in \".concat(this.connectionState,\" state\"));if(!this._users.find(a=>a===t))throw _.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(t.uid,\", this user is not in the channel\")),new O(R.INVALID_REMOTE_USER,\"user is not in the channel\");if(!t.hasAudio&&!t.hasVideo&&t._dataChannels.length===0)throw _.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(t.uid,\", user is not published\")),new O(R.INVALID_REMOTE_USER,\"user is not published\");let r=(n=t._dataChannels)===null||n===void 0?void 0:n.find(a=>a.id===e);if(!r)throw _.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(t.uid,\" with mediaType datachannel, remote datachannel is not published\")),new O(R.REMOTE_USER_IS_NOT_PUBLISHED);let o=await this._subscribeMutex.lock();_.info(\"[\".concat(this._clientId,\"] subscribe user \").concat(t.uid,\", mediaType: datachannel\"));try{let a=await this._p2pChannel.subscribeDataChannel(t,[r]);if(a&&W(a).call(a,r.id))try{var s;if(typeof r._originDataChannelId!=\"number\")throw _.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(t.uid,\" with mediaType datachannel, cannot get RTCDatachannel\")),new O(R.CREATE_DATACHANNEL_ERROR);let c={id:r.id,datachannelId:r._originDataChannelId,ordered:r.ordered,maxRetransmits:r.maxRetransmits,metadata:(s=r.metadata)!==null&&s!==void 0?s:\"\"};await this._gateway.subscribeDataChannel(t.uid,c,!0),await r._waitTillOpen();}catch(c){if(c?.code!==R.WS_ABORT)throw await this._p2pChannel.unsubscribeDataChannel(t,[r]),c;await this._p2pChannel.unsubscribeDataChannel(t,[r]),this._p2pChannel.setPendingRemoteDataChannel(t,r.id);}return _.info(\"[\".concat(this._clientId,\"] subscribe success user \").concat(t.uid,\", mediaType: datachannel\")),r}finally{o();}}async _p2pSubscribe(t,e,n){if(Ce(e,\"mediaType\",[\"audio\",\"video\"]),!this._joinInfo)throw new O(R.INVALID_OPERATION,\"Can't subscribe stream, not joined\");if(this.connectionState!==\"CONNECTED\"&&this.connectionState!==\"RECONNECTING\")throw new O(R.INVALID_OPERATION,\"Can't subscribe stream in \".concat(this.connectionState,\" state\"));if(!this._users.find(o=>o===t)){let o=new O(R.INVALID_REMOTE_USER,\"user is not in the channel\");throw _.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(t.uid,\", this user is not in the channel\")),o}if(!t.hasAudio&&!t.hasVideo){let o=new O(R.INVALID_REMOTE_USER,\"user is not published\");throw _.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(t.uid,\", user is not published\")),o}if(!n&&(e===\"audio\"&&!t.hasAudio||e===\"video\"&&!t.hasVideo)){let o=new O(R.REMOTE_USER_IS_NOT_PUBLISHED);throw _.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(t.uid,\" with mediaType \").concat(e,\", remote track is not published\")),o}let r=await this._subscribeMutex.lock();_.info(\"[\".concat(this._clientId,\"] subscribe user \").concat(t.uid,\", mediaType: \").concat(e));try{if(await this._p2pChannel.hasRemoteMediaWithLock(t,e))await this._p2pChannel.unmuteRemote(t,e);else try{let s=e===\"audio\"?t._audioSSRC:t._videoSSRC,a=e===\"audio\"?t._audioMid:t._videoMid;this.store.subscribe(t.uid,e,Date.now()),this._p2pChannel instanceof An&&await this._p2pChannel.subscribe(t,e,s,a);}catch(s){throw s}_.info(\"[\".concat(this._clientId,\"] subscribe success user \").concat(t.uid,\", mediaType: \").concat(e)),this._defaultStreamFallbackType&&this.setStreamFallbackOption(t.uid,this._defaultStreamFallbackType).catch(s=>{_.warning(\"[\".concat(this._clientId,\"] auto set fallback failed\"),s);});let o=e===\"audio\"?t._audioTrack:t._videoTrack;if(!o)throw new O(R.UNEXPECTED_ERROR,\"can not find remote track in user object\");return o}catch(o){throw _.error(\"[\".concat(this._clientId,\"] subscribe user \").concat(t.uid,\" error\"),o),o}finally{r();}}async _subscribe(t,e,n){if(this._p2pChannel instanceof An)return this._p2pSubscribe(t,e);if(Ce(e,\"mediaType\",[\"audio\",\"video\"]),!this._joinInfo)throw new O(R.INVALID_OPERATION,\"Can't subscribe stream, not joined\");if(this.connectionState!==\"CONNECTED\"&&this.connectionState!==\"RECONNECTING\")throw new O(R.INVALID_OPERATION,\"Can't subscribe stream in \".concat(this.connectionState,\" state\"));if(!this._users.find(d=>d===t)){let d=new O(R.INVALID_REMOTE_USER,\"user is not in the channel\");throw _.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(t.uid,\", this user is not in the channel\")),d}if(!t.hasAudio&&!t.hasVideo){let d=new O(R.INVALID_REMOTE_USER,\"user is not published\");throw _.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(t.uid,\", user is not published\")),d}if(!(n||(e!==\"audio\"||t.hasAudio&&t._audioSSRC!==void 0)&&(e!==\"video\"||t.hasVideo&&t._videoSSRC!==void 0))){let d=new O(R.REMOTE_USER_IS_NOT_PUBLISHED);throw _.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(t.uid,\" with mediaType \").concat(e,\", remote track is not published\")),d}let r=e===\"audio\"?t._audioSSRC:t._videoSSRC,o=e===\"audio\"?t._audioOrtc:t._videoOrtc,s=e===\"video\"?t._rtxSsrcId:void 0,a={stream_type:e===\"audio\"?Q.AUDIO:Q.VIDEO,ssrcId:r},c=await this._subscribeMutex.lock();_.info(\"[\".concat(this._clientId,\"] subscribe user \").concat(t.uid,\", mediaType: \").concat(e));try{if(await this._p2pChannel.hasRemoteMediaWithLock(t,e))await this._p2pChannel.unmuteRemote(t,e);else try{let l=e===\"audio\"?t._audioSSRC:t._videoSSRC;l!==void 0&&l!==r&&(r=l,o=e===\"audio\"?t._audioOrtc:t._videoOrtc,s=e===\"video\"?t._rtxSsrcId:void 0,a={stream_type:e===\"audio\"?Q.AUDIO:Q.VIDEO,ssrcId:r}),qe.markSubscribeStart(this.store.clientId,r),this.store.subscribe(t.uid,e,Date.now()),await this._p2pChannel.subscribe(t,e,r,s,o);try{this._p2pChannel.isPreSubScribe(r)||await this._gateway.subscribe(t.uid,a,!0);}catch(u){if(u?.code!==R.WS_ABORT)throw await this._p2pChannel.unsubscribe(t,e),u;await this._p2pChannel.unsubscribe(t,e,!0),this._p2pChannel.setPendingRemoteMedia(t,e);}this.store.subscribe(t.uid,e,void 0,Date.now()),this._p2pChannel.reportSubscribeEvent(!0,null,t,e);}catch(l){throw this._p2pChannel.reportSubscribeEvent(!1,l?.code,t,e),l}_.info(\"[\".concat(this._clientId,\"] subscribe success user \").concat(t.uid,\", mediaType: \").concat(e)),this._defaultStreamFallbackType&&this.setStreamFallbackOption(t.uid,this._defaultStreamFallbackType).catch(l=>{_.warning(\"[\".concat(this._clientId,\"] auto set fallback failed\"),l);});let d=e===\"audio\"?t._audioTrack:t._videoTrack;if(!d)throw new O(R.UNEXPECTED_ERROR,\"can not find remote track in user object\");return d}catch(d){throw _.error(\"[\".concat(this._clientId,\"] subscribe user \").concat(t.uid,\" error\"),d),d}finally{c();}}async massSubscribe(t){if(br(t,\"subscribeList\"),!this._joinInfo)throw new O(R.INVALID_OPERATION,\"Can't subscribe stream, not joined\");if(this.connectionState!==\"CONNECTED\"&&this.connectionState!==\"RECONNECTING\")throw new O(R.INVALID_OPERATION,\"Can't subscribe stream in \".concat(this.connectionState,\" state\"));let e=Date.now(),n=new Map,i=await this._subscribeMutex.lock();_.info(\"[\".concat(this._clientId,\"]start massSubscribe user \").concat(t.map(a=>{let{user:c,mediaType:d}=a;return \"user: \".concat(c?.uid,\", mediaType: \").concat(d)}).join(\"; \")));let r=(t=[...t]).map(a=>{let{user:c,mediaType:d}=a;return {user:c,mediaType:d}}),o=await this._p2pChannel.globalLock();try{var s;for(let c=t.length-1;c>=0;c--){let d=t[c],{user:l,mediaType:u}=d;if(Ce(u,\"mediaType\",[\"audio\",\"video\"]),!l){let E=new O(R.INVALID_PARAMS,\"user property does not exist in subscribeList item\");throw _.error(\"[\".concat(this._clientId,\"] user property does not exist in subscribeList item\")),E}if(!this._users.find(E=>E===l)){let E=new O(R.INVALID_REMOTE_USER,\"user is not in the channel\");_.error(\"[\".concat(this._clientId,\"] can not massSubscribe \").concat(l.uid,\", this user is not in the channel\")),r[c].error=E,t.splice(c,1);continue}if(u===\"audio\"&&(!l.hasAudio||l._audioSSRC===void 0)||u===\"video\"&&(!l.hasVideo||l._videoSSRC===void 0)){let E=new O(R.REMOTE_USER_IS_NOT_PUBLISHED);_.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(l.uid,\" with mediaType \").concat(u,\", remote user is not published\")),r[c].error=E,t.splice(c,1);continue}let p=ve.Video|ve.LwoVideo,g=n.get(l);if(g){if(u===\"video\"?g&p:g&ve.Audio){t.splice(c,1),_.warning(\"[\".concat(this._clientId,\"] repeat massSubscribe user:\").concat(l.uid,\", mediaType:\").concat(u,\" twice\"));continue}n.set(l,g|(u===\"video\"?p:ve.Audio));}else n.set(l,u===\"video\"?p:ve.Audio);}for(let c=t.length-1;c>=0;c--){let d=t[c],{user:l,mediaType:u}=d,h=ve.Video|ve.LwoVideo;if(this._p2pChannel.hasRemoteMedia(l,u)){await this._p2pChannel.unmuteRemoteNoLock(l,u);let p=n.get(l);n.set(l,u===\"video\"?p^h:p^ve.Audio),t.splice(c,1);}}this.store.massSubscribe(t.map(c=>({userId:c.user.uid,type:c.mediaType})),e);let a=ji(s=Array.from(n.entries())).call(s,(c,d)=>{let[l,u]=d;if(u===0)return c;let h={stream_id:l.uid,stream_type:u};return u&ve.Audio&&(h.audio_ssrc=l._audioSSRC),u&ve.Video&&(h.video_ssrc=l._videoSSRC),c.push(h),c},[]);try{t.length>0&&await this._p2pChannel.massSubscribeNoLock(t.map(d=>{let{user:l,mediaType:u}=d;return {user:l,mediaType:u,ssrcId:u===Q.VIDEO?l._videoSSRC:l._audioSSRC,rtxSsrcId:u===Q.VIDEO?l._rtxSsrcId:void 0}}));let c=new Map;if(a=a.filter(d=>d.video_ssrc&&!this._p2pChannel.isPreSubScribe(d.video_ssrc)||d.audio_ssrc&&!this._p2pChannel.isPreSubScribe(d.audio_ssrc)||!d.video_ssrc&&!d.audio_ssrc),a.length>0){let d=await this._gateway.subscribeAll(a,!0);(d?.users||[]).forEach(l=>{let{stream_id:u,video_error_code:h,audio_error_code:p,error_code:g}=l;(h||p||g)&&c.set(u,{video_error_code:h,audio_error_code:p,error_code:g});});}if(Array.from(c.entries()).length>0){let d=[];Array.from(c.entries()).forEach(l=>{let[u,h]=l,p=this.remoteUsers.find(g=>g.uid===u);if(p){let g;h.error_code||h.video_error_code&&h.audio_error_code?g=void 0:h.video_error_code?g=Q.VIDEO:h.audio_error_code&&(g=Q.AUDIO),d.push({user:p,mediaType:g});}}),d.length>0&&await this._p2pChannel.massUnsubscribeNoLock(d);}for(let d of r){let l=c.get(d.user.uid);if(l){let u=l.error_code||d.mediaType===\"audio\"&&l.audio_error_code||d.mediaType===\"video\"&&l.video_error_code;if(u){let h=Oc(u);_.error(\"user:\".concat(d.user.uid,\" mediaType:\").concat(d.mediaType,\" has massSubscribe error \").concat(h.desc)),d.error=new O(R.SUBSCRIBE_FAILED,\"code \".concat(u,\": \").concat(h.desc));}}d.error||(d.mediaType===\"video\"?d.track=d.user.videoTrack:d.track=d.user.audioTrack);}return this.store.massSubscribe(r.filter(d=>!d.error).map(d=>({userId:d.user.uid,type:d.mediaType})),void 0,Date.now()),r.forEach(d=>{var l;X.subscribe(this.store.sessionId,{succ:!!d.error,ec:((l=d.error)===null||l===void 0?void 0:l.code)||null,video:d.mediaType===Q.VIDEO,audio:d.mediaType===Q.AUDIO,peerid:d.user.uid,subscribeRequestid:d.mediaType===Q.VIDEO?d.user._videoSSRC:d.user._audioSSRC,p2pid:this.store.p2pId,eventElapse:Math.floor(performance.now()-e),preSsrc:this._p2pChannel.isPreSubScribe(d.user._videoSSRC)},!0);}),_.info(\"[\".concat(this._clientId,\"] massSubscribe success \").concat(t.map(d=>{let{user:l,mediaType:u}=d;return \"user: \".concat(l?.uid,\", mediaType: \").concat(u)}).join(\"; \"))),r}catch(c){throw await this._p2pChannel.massUnsubscribeNoLock(t),c}}finally{o(),i();}}async unsubscribe(t,e,n){if(!(t instanceof ir)){let o=this.remoteUsers.find(s=>s.uid===t);if(!o)throw new O(R.INVALID_REMOTE_USER,\"user is not in the channel\");t=o;}if(e||this.store.useP2P){if(e===\"datachannel\")return this._unsubscribeDataChannel(t,n)}else await this._unsubscribeDataChannel(t,n);if(e&&Ce(e,\"mediaType\",[\"audio\",\"video\"]),!this._joinInfo)throw new O(R.INVALID_OPERATION,\"Can't unsubscribe stream, haven't joined yet!\");if(!this._users.find(o=>o===t)){let o=new O(R.INVALID_REMOTE_USER,\"user is not in the channel\");throw _.error(\"[\".concat(this._clientId,\"] can not unsubscribe \").concat(t.uid,\", user is not in the channel\")),o}_.info(\"[\".concat(this._clientId,\"] unsubscribe uid: \").concat(t.uid,\", mediaType: \").concat(e));let r=await this._subscribeMutex.lock();try{if(this._p2pChannel instanceof An)await this._p2pChannel.unsubscribe(t,e);else {let o=await this._p2pChannel.unsubscribe(t,e);o&&await this._gateway.unsubscribe(o,t.uid),e&&e!==\"audio\"||(t._audio_pre_subscribed=!1),e&&e!==\"video\"||(t._video_pre_subscribed=!1),t._is_pre_created&&Wl(this._users,t),_.info(\"[\".concat(this._clientId,\"] unsubscribe success uid: \").concat(t.uid,\", mediaType: \").concat(e));}}catch(o){if(o.code===R.DISCONNECT_P2P)return void _.warning(\"disconnecting p2p, abort unsubscribe request.\");throw _.error(\"[\".concat(this._clientId,\"] unsubscribe user \").concat(t.uid,\" error\"),o.toString()),o}finally{r();}}async _unsubscribeDataChannel(t,e){if(e&&Nt(e,\"id\",0,65535,!0),!this._joinInfo)throw new O(R.INVALID_OPERATION,\"Can't unsubscribe datachannel, haven't joined yet!\");if(!this._users.find(r=>r===t)){let r=new O(R.INVALID_REMOTE_USER,\"user is not in the channel\");throw _.error(\"[\".concat(this._clientId,\"] can not unsubscribe \").concat(t.uid,\", user is not in the channel\")),r}let i;if(typeof e==\"number\"){let r=t._dataChannels.find(o=>o.id===e);r&&(i=[r]);}else i=t._dataChannels;if(i===void 0){let r=new O(R.REMOTE_USER_IS_NOT_PUBLISHED);throw _.error(\"[\".concat(this._clientId,\"] can not unsubscribe \").concat(t.uid,\" with channelId \").concat(e,\", remote datachannel is not published\")),r}_.info(\"[\".concat(this._clientId,\"] unsubscribe uid: \").concat(t.uid,\", mediaType: datachannel, ids: \").concat(i.map(r=>r.id)));try{let r=await this._p2pChannel.unsubscribeDataChannel(t,i);r&&await this._gateway.unsubscribeDataChannel(r,t.uid),_.info(\"[\".concat(this._clientId,\"] unsubscribe datachannel success uid: \").concat(t.uid,\", mediaType: datachannel, ids: \").concat(r));}catch(r){if(r.code===R.DISCONNECT_P2P)return void _.warning(\"disconnecting p2p, abort unsubscribe request.\");throw _.error(\"[\".concat(this._clientId,\"] unsubscribe user \").concat(t.uid,\" error\"),r.toString()),r}}async massUnsubscribe(t){if(br(t,\"unsubscribeList\"),!this._joinInfo)throw new O(R.INVALID_OPERATION,\"Can't unsubscribeAll stream, haven't joined yet!\");_.info(\"[\".concat(this._clientId,\"] start massUnsubscribe \").concat(t.map(n=>{let{user:i,mediaType:r}=n;return \"user: \".concat(i?.uid,\", mediaType: \").concat(r,\";\")}).join())),t=[...t];let e=new Map;for(let n=t.length-1;n>=0;n--){let{user:i,mediaType:r}=t[n];if(!i){let a=new O(R.INVALID_PARAMS,\"user property does not exist in unsubscribeList item\");throw _.error(\"[\".concat(this._clientId,\"] user property does not exist in unsubscribeList item\")),a}if(Ce(r,\"mediaType\",[\"video\",\"audio\",void 0]),!this._users.find(a=>a===i)){_.warning(\"[\".concat(this._clientId,\"] can not unsubscribe \").concat(i.uid,\", user is not in the channel\")),t.splice(n,1);continue}let s=ve.Video|ve.LwoVideo;if(e.has(i)){let a=e.get(i),c;switch(r){case\"video\":c=a&s;break;case\"audio\":c=a&ve.Audio;break;default:c=a&(ve.Audio|s);}if(c){_.warning(\"[\".concat(this._clientId,\"] repeat massUnsubscribe user:\").concat(i.uid,\",mediaType:\").concat(r,\" twice.\")),t.splice(n,1);continue}r?r===\"audio\"?e.set(i,a|ve.Audio):r===\"video\"&&e.set(i,a|s):e.set(i,a|ve.Audio|s);}else r?r===\"audio\"?e.set(i,ve.Audio):r===\"video\"&&e.set(i,s):e.set(i,ve.Audio|s);}try{let n=await this._p2pChannel.massUnsubscribe(t);n&&await this._gateway.massUnsubscribe(n),_.info(\"[\".concat(this._clientId,\"] massUnsubscribe success \").concat(t.map(i=>{let{user:r,mediaType:o}=i;return \"user: \".concat(r?.uid,\", mediaType: \").concat(o,\";\")}).join()));}catch(n){if(n.code===R.DISCONNECT_P2P)return void _.warning(\"[\".concat(this._clientId,\"] disconnecting p2p, abort unsubscribe request.\"));throw _.error(\"[\".concat(this._clientId,\"] massUnsubscribe error\"),n.toString()),n}}async setLowStreamParameter(t){((function(n){if(!n)throw new N(R.INVALID_PARAMS);zt(n.width)||bp(n.width,\"streamParameter.width\"),zt(n.height)||bp(n.height,\"streamParameter.height\"),zt(n.framerate)||bp(n.framerate,\"streamParameter.framerate\"),zt(n.bitrate)||Nt(n.bitrate,\"streamParameter.bitrate\");}))(t),(!t.width&&t.height||t.width&&!t.height)&&_.warning(\"[\".concat(this._clientId,\"] The width and height parameters take effect only when both are set\")),_.info(\"[\".concat(this._clientId,\"] set low stream parameter to\"),JSON.stringify(t));let e=this._configDistribute.getLowStreamConfigDistribute();if(e&&e.bitrate&&t.bitrate&&e.bitrate<t.bitrate&&(t.bitrate=e.bitrate),this._lowStreamParameter=t,this._isDualStreamEnabled)return this._p2pChannel.updateVideoStreamParameter(t,U.LocalVideoLowTrack)}async enableDualStream(){if(!ft().supportDualStream)throw X.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),new O(R.NOT_SUPPORTED,\"Your browser is not support dual stream\");if(this._isDualStreamEnabled)throw new O(R.INVALID_OPERATION,\"Dual stream is already enabled\");if(this._p2pChannel.canPublishLowStream())try{await this._publishLowStream();}catch(t){throw X.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),t}this._isDualStreamEnabled=!0,X.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!0}),_.info(\"[\".concat(this._clientId,\"] enable dual stream\"));}async disableDualStream(){if(this._isDualStreamEnabled){if(!this._joinInfo)throw new O(R.INVALID_OPERATION,\"Can't publish stream, haven't joined yet!\");if(this._p2pChannel.getLocalMedia(U.LocalVideoLowTrack))try{let t=await this._p2pChannel.unpublishLowStream();t&&await this._gateway.unpublish(t,this._joinInfo.stringUid||this._joinInfo.uid);}catch(t){throw X.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!1}),t}this._isDualStreamEnabled=!1,X.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!0}),_.info(\"[\".concat(this._clientId,\"] disable dual stream\"));}}async setClientRole(t,e){if(function(n){Ce(n,\"role\",[\"audience\",\"host\"]);}(t),e&&fR(e),this.mode===\"rtc\"||this.mode===\"p2p\")throw _.warning(\"[\".concat(this._clientId,\"]\").concat(this.mode,\" mode can not use setClientRole\")),new O(R.INVALID_OPERATION,\"\".concat(this.mode,\" mode can not use setClientRole\"));if(e&&e.level&&t===\"host\")throw new O(R.INVALID_OPERATION,\"host mode can not set audience latency level\");if(t===\"audience\"&&this._p2pChannel.hasLocalMedia())throw new O(R.INVALID_OPERATION,\"can not set client role to audience when publishing stream\");await this._gateway.setClientRole(t,e),this._config.role=t,_.info(\"[\".concat(this._clientId,\"] set client role to \").concat(t,\", level: \").concat(e&&e.level));}getRemoteInboundOffset(){var t;let e=(t=this._p2pChannel.getStats())===null||t===void 0?void 0:t.audioSend[0];if(!e||!e.timestamp)return 0;let n=e.timestamp-Date.now();return Math.abs(n)>1e3+e.rttMs+100?this.ntpAlignErrorCount+=1:this.ntpAlignErrorCount=0,this.ntpAlignErrorCount>=3?n:0}getNtpWallTimeInMs(){return document.visibilityState===\"visible\"&&(this.remoteInboundOffset=this.getRemoteInboundOffset()),this.remoteInboundOffset+Date.now()+this._gateway.ntpOffset}setProxyServer(t,e){if(Pe(t,\"proxyServer\"),!e){if(this.connectionState!==\"DISCONNECTED\")throw new O(R.INVALID_OPERATION,\"Set proxy server before join channel\");if(this._cloudProxyServerMode!==\"disabled\"||this._useLocalAccessPoint)throw new O(R.INVALID_OPERATION,\"You have already set the proxy\")}this._proxyServer=t,X.setProxyServer(this._proxyServer),_.setProxyServer(this._proxyServer),_.info(\"[\".concat(this._clientId,\"] Set proxy server \").concat(e?\"by initialize call\":\"\",\" success.\"));}setTurnServer(t,e){if(Array.isArray(t)||(t=[t]),!e){if(this.connectionState!==\"DISCONNECTED\")throw new O(R.INVALID_OPERATION,\"Set turn server before join channel\");if(this._cloudProxyServerMode!==\"disabled\"||this._useLocalAccessPoint)throw new O(R.INVALID_OPERATION,\"You have already set the proxy\")}if(Yu(t))return this._turnServer={servers:t,mode:\"original-manual\"},void _.info(\"[\".concat(this._clientId,\"] Set original turnserver \").concat(e?\"by initialize call\":\"\",\" success: \").concat(t.map(n=>n.urls).join(\",\"),\".\"));t.forEach(n=>vO(n)),this._turnServer={servers:t,mode:\"manual\"},_.info(\"[\".concat(this._clientId,\"] Set turnserver \").concat(e?\"by initialize call\":\"\",\" success.\"));}setLicense(t){if(this.connectionState!==\"DISCONNECTED\")throw new O(R.INVALID_OPERATION,\"you should set license before join channel\");if(Pe(t,\"license\",32,32),!/^[A-Za-z\\d]+$/.test(t))throw new O(R.INVALID_PARAMS,\"license should only contains characters from A-Z a-z 0-9\");this._license=t,_.info(\"[\".concat(this._clientId,\"] set license success\"),t);}startProxyServer(t){if(this.connectionState!==\"DISCONNECTED\")throw new O(R.INVALID_OPERATION,\"Start proxy server before join channel\");if(this._proxyServer||this._turnServer.mode===\"manual\"||this._useLocalAccessPoint)throw new O(R.INVALID_OPERATION,\"You have already set the proxy\");let e=[3,4,5],n;switch(t===void 0&&(t=3),t){case 1:case 2:throw new O(R.NOT_SUPPORTED,\"proxy mode 1/2 has been deprecated and not supported.\");case 3:n=\"proxy3\";break;case 4:n=\"proxy4\";break;case 5:n=\"proxy5\";break;default:throw new O(R.INVALID_PARAMS,\"proxy server mode must be \".concat(e.join(\"|\")))}this._cloudProxyServerMode=n,this.store.cloudProxyServerMode=n,_.info(\"[\".concat(this._clientId,\"] set cloud proxy server mode to\"),this._cloudProxyServerMode);}stopProxyServer(){if(this.connectionState!==\"DISCONNECTED\")throw new O(R.INVALID_OPERATION,\"Stop proxy server after leave channel\");X.setProxyServer(),_.setProxyServer(),this._cloudProxyServerMode=\"disabled\",this.store.cloudProxyServerMode=\"disabled\",_.info(\"[\".concat(this._clientId,\"] set cloud proxy server mode to\"),this._cloudProxyServerMode),this._proxyServer=void 0,this._turnServer={mode:\"auto\",servers:[]};}setLocalAccessPointsV2(t){if(!t.accessPoints)throw new O(R.INVALID_PARAMS,\"accessPoints is required.\");br(t.accessPoints.serverList,\"accessPoints.serverList\"),Pe(t.accessPoints.domain,\"accessPoints.domain\");let e=(h,p)=>{Nt(h,p,0,65535,!0);},n=443;if(t.accessPoints.port&&(e(t.accessPoints.port,\"accessPoints.port\"),n=t.accessPoints.port),this._proxyServer||this._cloudProxyServerMode!==\"disabled\")throw new O(R.INVALID_OPERATION,\"set local access point failed, You have already set the cloud proxy\");v(\"CLOSE_AFB_FOR_LOCAL_AP\")&&(Ot(\"JOIN_WITH_FALLBACK_SIGNAL_PROXY\",!1),Ot(\"JOIN_WITH_FALLBACK_MEDIA_PROXY\",!1));let i=/^((\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])$/,r=t.accessPoints.domain,o=t.accessPoints.serverList.map(h=>i.test(h)?\"\".concat(h.replace(/\\./g,\"-\"),\".\").concat(r):h),s=o.map(h=>\"\".concat(h,\":\").concat(n));this._useLocalAccessPoint=!0,this._setLocalAPVersion=2,Ot(\"WEBCS_DOMAIN\",s),Ot(\"WEBCS_DOMAIN_BACKUP_LIST\",s),Ot(\"GATEWAY_DOMAINS\",[r]),t.report&&t.report.hostname&&Array.isArray(t.report.hostname)&&t.report.hostname.length?(br(t.report.hostname,\"report.hostname\"),Ot(\"EVENT_REPORT_DOMAIN\",t.report.hostname[0]),Ot(\"EVENT_REPORT_BACKUP_DOMAIN\",t.report.hostname[1]||t.report.hostname[0])):(Ot(\"EVENT_REPORT_DOMAIN\",o[0]),Ot(\"EVENT_REPORT_BACKUP_DOMAIN\",o[1]||o[0]));let a=6443;t.report&&t.report.port&&(e(t.report.port,\"report.port\"),a=t.report.port),Ot(\"STATS_COLLECTOR_PORT\",a),t.report?Ot(\"ENABLE_EVENT_REPORT\",!0):Ot(\"ENABLE_EVENT_REPORT\",!1);let c=\"\";t.log&&t.log.hostname&&Array.isArray(t.log.hostname)&&t.log.hostname.length?(br(t.log.hostname,\"log.hostname\"),c=t.log.hostname[0]):c=o[0];let d=6444;t.log&&t.log.port&&(e(t.log.port,\"log.port\"),d=t.log.port),Ot(\"LOG_UPLOAD_SERVER\",\"\".concat(c,\":\").concat(d));let l=[];t.cds&&t.cds.hostname&&Array.isArray(t.cds.hostname)&&t.cds.hostname.length?(br(t.cds.hostname,\"cds.hostname\"),l=t.cds.hostname):l=o;let u=443;t.cds&&t.cds.port&&(e(t.cds.port,\"cds.port\"),u=t.cds.port),Ot(\"CDS_AP\",l.map(h=>\"\".concat(h,\":\").concat(u))),t.cds?Ot(\"ENABLE_CONFIG_DISTRIBUTE\",!0):Ot(\"ENABLE_CONFIG_DISTRIBUTE\",!1),_.info(\"set local access point v2 success\");}setLocalAccessPoints(t,e){if(br(t,\"serverList\"),Pe(e,\"domain\"),this._proxyServer||this._cloudProxyServerMode!==\"disabled\")throw new O(R.INVALID_OPERATION,\"set local access point failed, You have already set the cloud proxy\");let n=/^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])$/;t=t.map(i=>n.test(i)?\"\".concat(i.replace(/\\./g,\"-\"),\".\").concat(e):i),this._useLocalAccessPoint=!0,this._setLocalAPVersion=1,Ot(\"WEBCS_DOMAIN\",t),Ot(\"WEBCS_DOMAIN_BACKUP_LIST\",t),Ot(\"GATEWAY_DOMAINS\",[e]),Ot(\"EVENT_REPORT_DOMAIN\",t[0]),Ot(\"EVENT_REPORT_BACKUP_DOMAIN\",t[1]||t[0]),Ot(\"LOG_UPLOAD_SERVER\",\"\".concat(t[0],\":6444\")),_.info(\"[\".concat(this._clientId,\"] set local access point success\"));}async setRemoteDefaultVideoStreamType(t){if(Ce(t,\"streamType\",[0,1]),this._remoteDefaultVideoStreamType=t,this._joinInfo)try{await this._gateway.setDefaultRemoteVideoStreamType(t),this._joinInfo.defaultVideoStream=this._remoteDefaultVideoStreamType;}catch(e){throw _.error(\"[\".concat(this._clientId,\"] set default remote video stream type error\"),e.toString()),e}else _.debug(\"[\".concat(this._clientId,\"] haven't joined yet, cache remoteDefaultVideoStreamType \").concat(t));}async setRemoteVideoStreamType(t,e){Ce(e,\"streamType\",[0,1]);try{await this._gateway.setRemoteVideoStreamType(t,e),setTimeout(()=>{let n=this._users.find(i=>i.uid===t);n&&n.videoTrack&&n.videoTrack.updateMediaStreamTrackResolution();},2e3);}catch(n){throw _.error(\"[\".concat(this._clientId,\"] set remote video stream type error\"),n.toString()),n}_.info(\"[\".concat(this._clientId,\"] set remote \").concat(t,\" video stream type to \").concat(e)),this._remoteStreamTypeCacheMap.set(t,e);}async setStreamFallbackOption(t,e){Ce(e,\"fallbackType\",[0,1,2]);try{await this._gateway.setStreamFallbackOption(t,e);}catch(n){throw _.error(\"[\".concat(this._clientId,\"] set stream fallback option\"),n.toString()),n}_.info(\"[\".concat(this._clientId,\"] set remote \").concat(t,\" stream fallback type to \").concat(e)),this._streamFallbackTypeCacheMap.set(t,e);}setEncryptionConfig(t,e,n,i){((function(o){Ce(o,\"encryptionMode\",[\"aes-128-xts\",\"aes-256-xts\",\"aes-128-ecb\",\"sm4-128-ecb\",\"aes-128-gcm\",\"aes-256-gcm\",\"aes-128-gcm2\",\"aes-256-gcm2\",\"none\"]);}))(t),Pe(e,\"secret\");let r=[\"aes-128-gcm2\",\"aes-256-gcm2\"];if(W(r).call(r,t)){if(!n||!(n instanceof Uint8Array&&n.length===32))throw new O(R.INVALID_PARAMS,\"salt must be an Uint8Array and exactly equal to 32 bytes\")}else if(n)throw new O(R.INVALID_PARAMS,\"current encrypt mode does not need salt\");if(i){if(Nr(i,\"encryptDataStream\"),!W(r).call(r,t))throw new O(R.INVALID_PARAMS,\"current encrypt mode does not support data stream\");this._encryptDataStream=!0;}new RegExp(`^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*,.<>?/:;'\"|{}\\\\[\\\\]])(?=.{8,})`).test(e)||_.warning(`The secret is not strong:\n      The secret must contain at least 1 lowercase alphabetical character,\n      The secret must contain at least 1 uppercase alphabetical character,\n      The secret must contain at least 1 numeric character,\n      The secret must contain at least one special character,\n      The secret must be eight characters or longer.\n      `),this._encryptionMode=t,this._encryptionSecret=e,n&&(this._encryptionSalt=so(n));}async renewToken(t){if(Pe(t,\"token\",1,2047),!this._key||!this._joinInfo)throw new O(R.INVALID_OPERATION,\"renewToken should not be called before user join\");let e=this._key;this._key=t,this._joinInfo&&(this._joinInfo.token=t);let n=await this._renewTokenMutex.lock();try{if(v(\"USE_NEW_TOKEN\")){_.debug(\"[\".concat(this._clientId,\"] start renew token with ticket from unilbs\"));let i=await JG(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||Ee);_.debug(\"[\".concat(this._clientId,\"] get ticket from unilbs success\")),await this._gateway.renewToken({token:t,ticket:i});}else _.debug(\"[\".concat(this._clientId,\"] start renew token without ticket\")),await this._gateway.renewToken({token:t});_.debug(\"[\".concat(this._clientId,\"] renewToken success\"));}catch(i){throw this._key=e,this._joinInfo.token=e,_.error(\"[\".concat(this._clientId,\"] renewToken failed\"),i.toString()),i}finally{n();}}enableAudioVolumeIndicator(){this._audioVolumeIndicationInterval?_.warning(\"you have already enabled audio volume indicator!\"):this._audioVolumeIndicationInterval=window.setInterval(()=>{let t=this._p2pChannel.getAudioLevels();this.safeEmit(ut.VOLUME_INDICATOR,t);},v(\"AUDIO_VOLUME_INDICATION_INTERVAL\")||2e3);}getRTCStats(){let t=this._statsCollector.getRTCStats(),e=this._gateway.getInChannelInfo();return t.Duration=Math.round(e.duration/1e3),t}async startLiveStreaming(t,e){if(!e){if(this.codec!==\"h264\")throw new O(R.LIVE_STREAMING_INVALID_RAW_STREAM,\"raw streaming is only support h264\");if(!this._p2pChannel.hasLocalMedia())throw new O(R.LIVE_STREAMING_INVALID_RAW_STREAM,\"can not find stream to raw streaming\")}if(this._liveRawStreamingClient&&this._liveRawStreamingClient.hasUrl(t)||this._liveTranscodeStreamingClient&&this._liveTranscodeStreamingClient.hasUrl(t))throw new O(R.LIVE_STREAMING_TASK_CONFLICT);let n=e?er.TRANSCODE:er.RAW;return this._createLiveStreamingClient(n).startLiveStreamingTask(t,n)}setLiveTranscoding(t){return this._createLiveStreamingClient(er.TRANSCODE).setTranscodingConfig(t)}async stopLiveStreaming(t){let e=[this._liveRawStreamingClient,this._liveTranscodeStreamingClient].filter(n=>n&&n.hasUrl(t));if(!e.length)throw new O(R.INVALID_PARAMS,\"can not find live streaming url to stop\");await j.all(e.map(n=>n&&n.stopLiveStreamingTask(t)));}async startChannelMediaRelay(t){Pv(t),await this._createChannelMediaRelayClient().startChannelMediaRelay(t);}async updateChannelMediaRelay(t){Pv(t),await this._createChannelMediaRelayClient().updateChannelMediaRelay(t);}async stopChannelMediaRelay(){await this._createChannelMediaRelayClient().stopChannelMediaRelay(),this._statsCollector.onStatsChanged&&(this._statsCollector.onStatsChanged=void 0);}async sendStreamMessage(t){var e;let n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(!this._joinInfo)throw new O(R.INVALID_OPERATION,\"can not send data stream, not joined\");if((typeof t==\"string\"||t instanceof Uint8Array)&&(t={payload:t}),typeof t.payload==\"string\"){let r=new TextEncoder;t.payload=r.encode(t.payload);}let i=!1;if(this._encryptDataStream&&this._encryptDataStreamIv&&this._encryptDataStreamKey&&window.crypto.subtle&&W(e=[\"aes-128-gcm2\",\"aes-256-gcm2\"]).call(e,this._encryptionMode)&&(i=!0,t.payload=await async function(r,o,s){var a;let c=ji(a=Array.from(s)).call(a,(E,f)=>E+f,0),d={serverTs:0,seq:SB++,length:s.length,checkSum:c},l=new Uint8Array(IR(c,2)),u=new ArrayBuffer(us),h=new DataView(u);h.setUint32(0,d.serverTs),h.setUint16(4,d.seq),h.setUint16(6,d.length),h.setUint16(8,d.checkSum);let p=16-s.length%16;s=TR(s,new Uint8Array(p));let g=await window.crypto.subtle.encrypt({name:\"AES-GCM\",iv:r,tagLength:yR,additionalData:l},o,s);return TR(new Uint8Array(u),new Uint8Array(g))}(this._encryptDataStreamIv,this._encryptDataStreamKey,t.payload)),new Blob([t.payload]).size>1024)throw new O(R.INVALID_PARAMS,i?\"encrypted stream message out of range.\":\"stream message out of range.\");return this._gateway.signal.request(et.DATA_STREAM,{payload:so(t.payload),syncWithAudio:t.syncWithAudio,sendTs:Date.now()-EW},!n)}sendMetadata(t){if(!this._joinInfo)throw new O(R.INVALID_OPERATION,\"can not send metadata, not joined\");if(new Blob([t]).size>1024)throw new O(R.METADATA_OUT_OF_RANGE);return this._gateway.signal.request(et.SEND_METADATA,{session_id:this._joinInfo.sid,metadata:so(t)})}async sendCustomReportMessage(t){if(Array.isArray(t)||(t=[t]),t.forEach(RB),!this._joinInfo)throw new O(R.INVALID_OPERATION,\"can not send custom report, not joined\");await X.sendCustomReportMessage(this._joinInfo.sid,t);}getLocalAudioStats(){return this._statsCollector.getLocalAudioTrackStats()}getRemoteAudioStats(){return this._statsCollector.getRemoteAudioTrackStats()}getLocalVideoStats(){return this._statsCollector.getLocalVideoTrackStats()}getRemoteVideoStats(){return this._statsCollector.getRemoteVideoTrackStats()}getRemoteNetworkQuality(){return this._statsCollector.getRemoteNetworkQualityStats()}async pickSVCLayer(t,e){Ce(e.spatialLayer,\"spatialLayer\",[0,1,2,3]),Ce(e.temporalLayer,\"temporalLayer\",[0,1,2,3]);try{await this._gateway.pickSVCLayer(t,e);}catch(n){throw _.error(\"[\".concat(this._clientId,\"] pick SVC layer failed\"),n.toString()),n}}async setRTMConfig(t){let{apRTM:e=!1,rtmFlag:n}=t;if(Nr(e,\"apRTM\"),Nt(n,\"rtmFlag\",0),this._rtmConfig.apRTM=e,this._rtmConfig.rtmFlag=n,_.debug(\"[\".concat(this._clientId,\"] setRTMconfig \").concat(JSON.stringify(t),\" in \").concat(this.connectionState,\" state\")),(this.connectionState===\"CONNECTED\"||this.connectionState===\"RECONNECTING\")&&this._joinInfo)return this._joinInfo.apRTM=e,this._joinInfo.rtmFlag=n,this._gateway.setRTM2Flag(n)}_reset(){if(_.debug(\"[\".concat(this._clientId,\"] reset client\")),this._axiosCancelSource.cancel(),this._axiosCancelSource=mn.CancelToken.source(),this._streamFallbackTypeCacheMap=new Map,this._remoteStreamTypeCacheMap=new Map,this._configDistribute.stopGetConfigDistribute(),this._joinInfo&&b0(this._joinInfo),this._joinInfo=void 0,this._proxyServer=void 0,this._defaultStreamFallbackType=void 0,this._sessionId=null,this.store.sessionId=null,this._statsCollector.reset(),this._key=void 0,this._appId=void 0,this._uid=void 0,this.store.uid=void 0,this._channelName=void 0,this._encryptionMode=\"none\",this._encryptionSecret=null,this._encryptionSalt=null,this._encryptDataStreamKey=null,this._encryptDataStreamIv=null,this._pendingPublishedUsers=[],this._users.forEach(t=>{t._audioTrack&&t._audioTrack._destroy(),t._videoTrack&&t._videoTrack._destroy(),t._dataChannels&&(t._dataChannels.forEach(e=>e._close()),t._dataChannels.length=0);}),this._users=[],this._audioVolumeIndicationInterval&&(window.clearInterval(this._audioVolumeIndicationInterval),this._audioVolumeIndicationInterval=void 0),this._cloudProxyServerMode===\"fallback\"&&(this._cloudProxyServerMode=\"disabled\",this.store.cloudProxyServerMode=\"disabled\"),this._p2pChannel.reset(),this._publishMutex=new ze(\"client-publish\"),this._subscribeMutex=new ze(\"client-subscribe\"),this._networkQualityInterval&&(window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=void 0),this._liveRawStreamingClient&&(this._liveRawStreamingClient.terminate(),this._liveRawStreamingClient.removeAllListeners(),this._liveRawStreamingClient=void 0),this._liveTranscodeStreamingClient&&(this._liveTranscodeStreamingClient.terminate(),this._liveTranscodeStreamingClient.removeAllListeners(),this._liveTranscodeStreamingClient=void 0),this._channelMediaRelayClient&&(this._channelMediaRelayClient.dispose(),this._channelMediaRelayClient=void 0),this._inspect)try{this._inspect.close(),this._inspect=void 0;}catch{}if(this._moderation)try{this.setImageModeration(!1);}catch{}}_startSession(t,e){var n;let i=t||Ms();t?_.debug(\"[\".concat(this._clientId,\"] new Session \").concat(i)):_.debug(\"[\".concat(this._clientId,\"] renewSession \").concat(this._sessionId,\" => \").concat(i));let r=t?\"\":this._sessionId||\"\";this._sessionId=i,this.store.sessionId=i;let o={lts:new Date().getTime(),mode:this.mode,buildFormat:2,stringUid:e?.stringUid||((n=this._joinInfo)===null||n===void 0?void 0:n.stringUid),channelProfile:this.mode===\"live\"?1:0,channelMode:0,isABTestSuccess:Number(this._configDistribute.isSuccess),lsid:r,clientRole:this.role===\"audience\"?2:1};X.sessionInit(this._sessionId,xi({cname:e.channel,appid:e.appId},o)),this._joinInfo&&(this._joinInfo.sid=i),this._gateway.joinInfo&&(this._gateway.joinInfo.sid=i);}async _publishHighStream(t){if(!this._joinInfo||this._uid===void 0)throw new O(R.INVALID_OPERATION,\"Can't publish stream, haven't joined yet!\");if(this.connectionState!==\"CONNECTED\"&&this.connectionState!==\"RECONNECTING\")throw new O(R.INVALID_OPERATION,\"can not publish stream in \".concat(this.connectionState,\" state\"));if(this._turnServer.mode===\"auto\"&&v(\"FORCE_TURN\")&&!v(\"TURN_ENABLE_TCP\")&&!v(\"TURN_ENABLE_UDP\"))throw new O(R.UNEXPECTED_ERROR,\"force TURN With No TURN Configuration\");_.debug(\"[\".concat(this._clientId,\"] publish high stream\"));try{let n=await this._p2pChannel.publish(t,this._isDualStreamEnabled,this._lowStreamParameter);if(this._p2pChannel instanceof An){let i=(await n.next()).value;if(i){try{await this._gateway.sendExtensionMessage(ie.PUBLISH,i,!0);}catch(r){throw n.throw(r),r}await n.next();}this._p2pChannel.reportPublishEvent(!0,null);}else {let i=(await n.next()).value;if(i){var e;let r;try{r=await this._gateway.publish(this._uid,i,!0);}catch(o){if(o.code!==R.DISCONNECT_P2P)throw n.throw(o),o}await n.next(((e=r)===null||e===void 0?void 0:e.ortc)||[]);}this._p2pChannel.reportPublishEvent(!0,null);for(let r of t)r instanceof Ft&&r._encoderConfig&&this._gateway.setVideoProfile(r._encoderConfig),!r.muted&&r.enabled||await this._p2pChannel.muteLocalTrack(r);}}catch(n){if(this._p2pChannel.reportPublishEvent(!1,n?.code,t),n?.code===R.WS_ABORT)return;throw n}}async _publishLowStream(){if(!this._joinInfo||this._uid===void 0)throw new O(R.INVALID_OPERATION,\"Can't publish stream, haven't joined yet!\");if(this.connectionState!==\"CONNECTED\"&&this.connectionState!==\"RECONNECTING\")throw new O(R.INVALID_OPERATION,\"can not publish stream in \".concat(this.connectionState,\" state\"));_.debug(\"[\".concat(this._clientId,\"] publish low stream\"));let t=this._configDistribute.getLowStreamConfigDistribute();t&&t.bitrate&&(this._lowStreamParameter||(this._lowStreamParameter={width:160,height:120,framerate:15,bitrate:50}),this._lowStreamParameter&&this._lowStreamParameter.bitrate&&t.bitrate<this._lowStreamParameter.bitrate&&(this._lowStreamParameter.bitrate=t.bitrate));try{let n=await this._p2pChannel.publishLowStream(this._lowStreamParameter),i=(await n.next()).value;if(i){var e;let r;try{r=await this._gateway.publish(this._uid,i,!0);}catch(o){if(o.code!==R.DISCONNECT_P2P)throw n.throw(o),o}n.next(((e=r)===null||e===void 0?void 0:e.ortc)||[]),this._p2pChannel.reportPublishEvent(!0,null,void 0,!0);}}catch(n){if(this._p2pChannel.reportPublishEvent(!1,n?.code,void 0,!0),n?.code===R.WS_ABORT)return;throw n}}_createLiveStreamingClient(t){let e=()=>{if(!this._joinInfo||!this._appId)return new O(R.INVALID_OPERATION,\"can not create live streaming client, please join channel first\").throw();let n=(i={joinInfo:this._joinInfo,appId:this._appId,websocketRetryConfig:this._config.websocketRetryConfig,httpRetryConfig:this._config.httpRetryConfig},Za(\"LiveStreaming\").create(i));var i;return n.onLiveStreamError=(r,o)=>{X.reportApiInvoke(this._sessionId,{name:Te.ON_LIVE_STREAM_ERROR,options:[r,o],tag:Zt.TRACER}).onSuccess(),this.safeEmit(ut.LIVE_STREAMING_ERROR,r,o);},n.onLiveStreamWarning=(r,o)=>{X.reportApiInvoke(this._sessionId,{name:Te.ON_LIVE_STREAM_WARNING,options:[r,o],tag:Zt.TRACER}).onSuccess(),this.safeEmit(ut.LIVE_STREAMING_WARNING,r,o);},n.on(VE.REQUEST_WORKER_MANAGER_LIST,(r,o,s)=>{if(!this._joinInfo)return s(new O(R.INVALID_OPERATION,\"can not find join info to get worker manager\"));(async function(a,c,d,l){let u=v(\"UAP_AP\").slice(0,v(\"AJAX_REQUEST_CONCURRENT\")).map(h=>c.proxyServer?\"https://\".concat(c.proxyServer,\"/ap/?url=\").concat(h+\"/api/v1?action=uap\"):\"https://\".concat(h,\"/api/v1?action=uap\"));return await WG(u,a,c,d,l)})(r,this._joinInfo,this._axiosCancelSource.token,Ee).then(o).catch(s);}),n};return t===er.RAW?(this._liveRawStreamingClient=this._liveRawStreamingClient||e(),this._liveRawStreamingClient):(this._liveTranscodeStreamingClient=this._liveTranscodeStreamingClient||e(),this._liveTranscodeStreamingClient)}_createChannelMediaRelayClient(){if(!this._joinInfo)return new O(R.INVALID_OPERATION,\"can not create channel media relay client, please join channel first\").throw();if(!this._channelMediaRelayClient){let{sendResolutionWidth:e,sendResolutionHeight:n}=this.getLocalVideoStats(),i=(t={joinInfo:this._joinInfo,clientId:this._clientId,websocketRetryConfig:this._config.websocketRetryConfig,httpRetryConfig:this._config.httpRetryConfig,resolution:{width:e,height:n}},Za(\"ChannelMediaRelay\").create(t));i.on(\"state\",r=>{r===Sn.RELAY_STATE_FAILURE&&i&&i.dispose(),this.safeEmit(ut.CHANNEL_MEDIA_RELAY_STATE,r);}),i.on(\"event\",r=>{this.safeEmit(ut.CHANNEL_MEDIA_RELAY_EVENT,r);}),this._channelMediaRelayClient=i,this._statsCollector.onStatsChanged=(r,o)=>{var s;r===\"resolution\"&&((s=this._channelMediaRelayClient)===null||s===void 0||s.setVideoProfile(o));};}var t;return this._channelMediaRelayClient}_handleUpdateDataChannel(t,e){let{added:n,deleted:i}=t,r=[];if(e){let o=[];this._users.forEach(s=>{s._dataChannels.forEach(a=>{n.every(c=>c.uid!==s._uintid||c.stream_id!==a.id)&&o.push({uid:s._uintid,stream_id:a.id,ordered:a.ordered,max_retrans_times:a.maxRetransmits,metadata:a.metadata});});}),o.length>0&&this._handleUpdateDataChannel({added:[],deleted:o});}Array.isArray(n)&&n.length>0&&n.forEach(o=>{let{uid:s,stream_id:a,ordered:c,max_retrans_times:d,metadata:l}=o,u=this._users.find(h=>h._uintid===s);if(!u)return void _.error(\"[\".concat(this._clientId,\"] can not find target user!(on_add_data_channel)\"));if(_.debug(\"[\".concat(this._clientId,\"] data_channel added with uid \").concat(s)),W(r).call(r,u)||r.push(u),u._uintid||(u._uintid=s),u._dataChannels.findIndex(h=>h.id===o.stream_id)===-1){let h={id:a,ordered:!!c,maxRetransmits:d,metadata:l},p=function(g){return Kv(g,!0)}(h);u._dataChannels.push(p),_.info(\"[\".concat(this._clientId,\"] remote user \").concat(u.uid,\" published datachannel\")),e||this.safeEmit(ut.USER_PUBLISHED,u,\"datachannel\",h);}this._p2pChannel.hasPendingRemoteDataChannel(u,o.stream_id)&&(_.debug(\"[\".concat(this._clientId,\"] resubscribe datachannel for user \").concat(u.uid,\" after reconnect.\")),this._subscribeDataChannel(u,o.stream_id).catch(h=>{_.error(\"[\".concat(this._clientId,\"] resubscribe datachannel error\"),h.toString());}));}),e&&(this.safeEmit(ut.PUBLISHED_USER_LIST,this._pendingPublishedUsers),this._pendingPublishedUsers=[]),Array.isArray(i)&&i.length>0&&i.forEach(o=>{let{uid:s,stream_id:a}=o,c=this._users.find(l=>l._uintid===s);if(!c)return void _.error(\"[\".concat(this._clientId,\"] can not find target user!(on_delete_data_channel)\"));let d=c._dataChannels.find(l=>l.id===o.stream_id);d&&(_.debug(\"[\".concat(this._clientId,\"] data_stream delete with uid \").concat(s)),this._p2pChannel.unsubscribeDataChannel(c,[d]).then(l=>{if(c._dataChannels=c._dataChannels.filter(u=>u!==d),l)return this._gateway.unsubscribeDataChannel(l,c.uid)}),_.info(\"[\".concat(this._clientId,\"] remote user \").concat(s,\" unpublished datachannel ,id:\").concat(d.id)),this.safeEmit(ut.USER_UNPUBLISHED,c,\"datachannel\",d._config));});}_handleRemoveDataChannels(t){let e=this._users.find(n=>n.uid===t.uid);if(e){if(e._dataChannels!==void 0&&e._dataChannels.length>0){_.debug(\"[\".concat(this._clientId,\"] datachannel removed with uid \").concat(t.uid));let n=()=>{_.info(\"[\".concat(this._clientId,\"] remote user \").concat(e.uid,\" unpublished datachannel\")),e._dataChannels.forEach(i=>{this.safeEmit(ut.USER_UNPUBLISHED,e,\"datachannel\",i._config);});};this._p2pChannel.unsubscribeDataChannel(e,e._dataChannels).then(i=>{if(i)return this._gateway.unsubscribeDataChannel(i,e.uid)}),n();}}else _.warning(\"[\".concat(this._clientId,\"] can not find target user!(on_remove_datachannel)\"));}_handleGatewayEvents(){this._gateway.on(xe.DISCONNECT_P2P,async()=>{await this._p2pChannel.disconnectForReconnect();}),this._gateway.on(xe.CONNECTION_STATE_CHANGE,(t,e,n)=>{var i;if(n===At.FALLBACK)return;let r=()=>{this.safeEmit(ut.CONNECTION_STATE_CHANGE,t,e,n);};if(X.reportApiInvoke(this._sessionId||((i=this._gateway.joinInfo)===null||i===void 0?void 0:i.sid)||null,{name:Te.CONNECTION_STATE_CHANGE,options:[t,e,n],tag:Zt.TRACER}).onSuccess(JSON.stringify({cur:t,prev:e,reason:n})),_.info(\"[\".concat(this._clientId,\"] connection state change: \").concat(e,\" -> \").concat(t)),t===\"DISCONNECTED\")return this._reset(),void r();if(t===\"RECONNECTING\")this._users.forEach(s=>{s._trust_in_room_=!1,s._trust_audio_enabled_state_=!1,s._trust_video_enabled_state_=!1,s._trust_audio_mute_state_=!1,s._trust_video_mute_state_=!1,s._trust_audio_stream_added_state_=!1,s._trust_video_stream_added_state_=!1,s._is_pre_created||(s._audio_pre_subscribed||(s._audioSSRC=void 0,s._audioOrtc=void 0),s._video_pre_subscribed||(s._videoSSRC=void 0,s._videoOrtc=void 0,s._rtxSsrcId=void 0),s._cname=void 0);}),this._userOfflineTimeout&&window.clearTimeout(this._userOfflineTimeout),this._streamRemovedTimeout&&window.clearTimeout(this._streamRemovedTimeout),this._userOfflineTimeout=void 0,this._streamRemovedTimeout=void 0;else if(t===\"CONNECTED\"){var o;this._streamFallbackTypeCacheMap.forEach((s,a)=>{this._gateway.setStreamFallbackOption(a,s).catch(c=>{_.warning(\"[\".concat(this._clientId,\"] auto set stream fallback option failed\"),c);});}),this._remoteStreamTypeCacheMap.forEach((s,a)=>{this._gateway.setRemoteVideoStreamType(a,s).catch(c=>{_.warning(\"[\".concat(this._clientId,\"] auto set remote stream type failed\"),c);});}),this._remoteDefaultVideoStreamType!==void 0&&((o=this._joinInfo)===null||o===void 0?void 0:o.defaultVideoStream)===void 0&&this.setRemoteDefaultVideoStreamType(this._remoteDefaultVideoStreamType).then(()=>{_.debug(\"[\".concat(this._clientId,\"] setRemoteDefaultVideoStreamType after gateway connected\"));}).catch(s=>{_.error(\"[\".concat(this._clientId,\"] setRemoteDefaultVideoStreamType after gateway failed, \").concat(s));}),this.store.useP2P||(this._p2pChannel.republish(),this._userOfflineTimeout=window.setTimeout(()=>{this.connectionState===\"CONNECTED\"&&(this._userOfflineTimeout=void 0,this._users.filter(s=>!s._trust_in_room_).forEach(s=>{_.debug(\"[\".concat(this._clientId,\"] user offline timeout, emit user offline \").concat(s.uid)),this._handleUserOffline({uid:s.uid});}));},3e3),this._streamRemovedTimeout=window.setTimeout(()=>{this.connectionState===\"CONNECTED\"&&(this._streamRemovedTimeout=void 0,this._users.forEach(s=>{s._trust_audio_mute_state_||(_.debug(\"[\".concat(this._clientId,\"] auto dispatch audio unmute event \").concat(s.uid)),this._handleMuteStream(s.uid,Q.AUDIO,!1)),s._trust_video_mute_state_||(_.debug(\"[\".concat(this._clientId,\"] auto dispatch video unmute event \").concat(s.uid)),this._handleMuteStream(s.uid,Q.VIDEO,!1)),s._trust_audio_enabled_state_||(_.debug(\"[\".concat(this._clientId,\"] auto dispatch enable local audio \").concat(s.uid)),this._handleSetStreamLocalEnable(\"audio\",s.uid,!0)),s._trust_video_enabled_state_||(_.debug(\"[\".concat(this._clientId,\"] auto dispatch enable local video \").concat(s.uid)),this._handleSetStreamLocalEnable(\"video\",s.uid,!0)),s._trust_video_stream_added_state_||(_.debug(\"[\".concat(this._clientId,\"] auto dispatch reset video stream added \").concat(s.uid)),this._handleResetAddStream(s,\"video\")),s._trust_audio_stream_added_state_||(_.debug(\"[\".concat(this._clientId,\"] auto dispatch reset audio stream added \").concat(s.uid)),this._handleResetAddStream(s,\"audio\")),s._video_added_||s._audio_added_||(_.debug(\"[\".concat(this._clientId,\"] auto dispatch stream remove \").concat(s.uid)),this._handleRemoveStream({uid:s.uid,uint_id:s._uintid}));}));},1e3));}r();}),this._gateway.on(xe.REQUEST_NEW_GATEWAY_LIST,async(t,e)=>{if(!this._joinInfo)return e(new O(R.UNEXPECTED_ERROR,\"can not recover, no join info\"));try{let n,i=await Xv(xi(xi({},this._joinInfo),{},{uid:this._joinInfo.uid,stringUid:void 0}));i?(n=i.ap,Qv(i),this._joinInfo.preload=!0):(n=await nm(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||Ee,this.store),this._joinInfo.preload=!1),this._joinInfo&&(this._joinInfo.apResponse=n.gatewayInfo.res,this._joinInfo.gatewayAddrs=n.gatewayInfo.gatewayAddrs,this._joinInfo.uni_lbs_ip=n.gatewayInfo.uni_lbs_ip);let r=[];n.gatewayInfo.gatewayAddrs.forEach(o=>{let{address:s}=o,[a,c]=s.split(\":\");this._joinInfo&&this._joinInfo.proxyServer?r.push({proxy:this._joinInfo.proxyServer,host:a,port:c}):r.push({host:a,port:c});}),t(r);}catch(n){e(n);}}),this._gateway.on(xe.NETWORK_QUALITY,t=>{this._networkQualitySensitivity===\"normal\"&&this.safeEmit(ut.NETWORK_QUALITY,t);}),this._gateway.on(xe.STREAM_TYPE_CHANGE,(t,e)=>{this.safeEmit(ut.STREAM_TYPE_CHANGED,t,e),X.reportApiInvoke(this._sessionId,{name:Te.STREAM_TYPE_CHANGE,options:[t,e],tag:Zt.TRACER}).onSuccess(JSON.stringify({uid:t,streamType:e}));}),this._gateway.on(xe.IS_P2P_DISCONNECTED,t=>{this._p2pChannel.isP2PDisconnected()?t(!0):this._p2pChannel.hasLocalMedia()||this._p2pChannel.hasRemoteMedia()?t(!1):t(!0);}),this._gateway.on(xe.REQUEST_P2P_CONNECTION_PARAMS,async(t,e,n)=>{try{let i=await this._p2pChannel.getEstablishParams();v(\"ENABLE_PREALLOC_PC\")&&i||(i=await this._p2pChannel.startP2PConnection(t)),e(i);}catch(i){n(i);}}),this._gateway.on(xe.JOIN_RESPONSE,(t,e)=>{if(this.store.useP2P)return;let n=qI(t.ortc,e,t.attributes.userAttributes.preSubSsrcs);this._p2pChannel.connect(n);}),this._gateway.on(xe.PRE_CONNECT_PC,async t=>{let{candidates:e,fingerprint:n}=t;if(this._joinInfo&&e.length>0&&!this._p2pChannel.isPlanB){var i;await this._p2pChannel.startP2PConnection({turnServer:this._joinInfo.turnServer});let{cert:r,cid:o}=this._joinInfo.apResponse;await this._p2pChannel.connect({iceParameters:{iceUfrag:\"\".concat(o,\"_\").concat(r),icePwd:\"\".concat(o,\"_\").concat(r)},dtlsParameters:{fingerprints:[{hashFunction:\"sha-256\",fingerprint:(i=v(\"FINGERPRINT\"))!==null&&i!==void 0?i:n}]},candidates:e,rtpCapabilities:{send:{audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},recv:{audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]}},setup:\"active\",cname:\"o/i14u9pJrxRKAsu\",preallocation:!0});}});}_handleGatewaySignalEvents(){this._gateway.signal.on(dt.ON_USER_ONLINE,this._handleUserOnline),this._gateway.signal.on(dt.ON_USER_OFFLINE,this._handleUserOffline),this._gateway.signal.on(dt.ON_ADD_AUDIO_STREAM,t=>this._handleAddAudioOrVideoStream(\"audio\",t.uid,t.ssrcId,t.cname,t.uint_id,t.ortc)),this._gateway.signal.on(dt.ON_ADD_VIDEO_STREAM,t=>this._handleAddAudioOrVideoStream(\"video\",t.uid,t.ssrcId,t.cname,t.uint_id,t.ortc,t.rtxSsrcId)),this._gateway.signal.on(dt.ON_REMOTE_DATASTREAM_UPDATE,t=>{this._handleUpdateDataChannel(t);}),this._gateway.signal.on(dt.ON_REMOTE_FULL_DATASTREAM_INFO,t=>{this._handleUpdateDataChannel({added:t.datastreams||[],deleted:[]},!0);}),this._gateway.signal.on(dt.ON_REMOVE_STREAM,this._handleRemoveStream),this._gateway.signal.on(dt.ON_P2P_LOST,this._handleP2PLost),this._gateway.signal.on(dt.MUTE_AUDIO,t=>this._handleMuteStream(t.uid,Q.AUDIO,!0)),this._gateway.signal.on(dt.UNMUTE_AUDIO,t=>this._handleMuteStream(t.uid,Q.AUDIO,!1)),this._gateway.signal.on(dt.MUTE_VIDEO,t=>this._handleMuteStream(t.uid,Q.VIDEO,!0)),this._gateway.signal.on(dt.UNMUTE_VIDEO,t=>this._handleMuteStream(t.uid,Q.VIDEO,!1)),this._gateway.signal.on(dt.RECEIVE_METADATA,t=>{let e=Fo(t.metadata);this.safeEmit(ut.RECEIVE_METADATA,t.uid,e);}),this._gateway.signal.on(dt.ON_DATA_STREAM,async t=>{var e;if(!t)return;let n=Fo(t.payload);if(this._encryptDataStream&&this._encryptDataStreamIv&&this._encryptDataStreamKey&&window.crypto.subtle&&W(e=[\"aes-128-gcm2\",\"aes-256-gcm2\"]).call(e,this._encryptionMode)){if(t.payload.length<us)throw new O(R.UNEXPECTED_RESPONSE,\"payload length \".concat(t.payload.length,\" is less than header length \").concat(us));n=await async function(o,s,a){let c=a.subarray(0,us),d=c.slice(8,us),l=(d[0]<<8)+d[1],u=(c[6]<<8)+c[7],h=await window.crypto.subtle.decrypt({name:\"AES-GCM\",iv:o,tagLength:yR,additionalData:new Uint8Array(IR(l,2))},s,a.subarray(us));return new Uint8Array(h).subarray(0,u)}(this._encryptDataStreamIv,this._encryptDataStreamKey,n);}let i=0;if(t.ordered||t.syncWithAudio){let r=this._p2pChannel.getStats(),o=this.remoteUsers.find(a=>a.uid===t.uid),s=r?.audioRecv.find(a=>a.ssrc===o?._audioSSRC);i=s?.jitterBufferMs;}i==null&&(i=0),fW(xi(xi({},t),{},{payload:n}),i,{id:this._clientId,onStreamMessage:typeof this.onStreamMessage==\"function\"?this.onStreamMessage.bind(this):void 0,safeEmit:this.safeEmit.bind(this)});}),this._gateway.signal.on(dt.ON_CRYPT_ERROR,()=>{po(()=>{_.warning(\"[\".concat(this._clientId,\"] on crypt error\")),this.safeEmit(ut.CRYPT_ERROR);},this._sessionId);}),this._gateway.signal.on(dt.ON_TOKEN_PRIVILEGE_WILL_EXPIRE,this._handleTokenWillExpire),this._gateway.signal.on(dt.ON_TOKEN_PRIVILEGE_DID_EXPIRE,()=>{_.warning(\"[\".concat(this._clientId,\"] received message onTokenPrivilegeDidExpire, please get new token and join again\")),this._gateway.leave(!0,At.TOKEN_EXPIRE),this.safeEmit(ut.ON_TOKEN_PRIVILEGE_DID_EXPIRE),this._reset();}),this._gateway.signal.on(dt.ON_STREAM_FALLBACK_UPDATE,t=>{_.debug(\"[\".concat(this._clientId,\"] stream fallback peerId: \").concat(t.stream_id,\", attr: \").concat(t.stream_type)),this.safeEmit(ut.STREAM_FALLBACK,t.stream_id,t.stream_type===1?\"fallback\":\"recover\");}),this._gateway.signal.on(dt.ON_PUBLISH_STREAM,t=>{this.uid===this._uid&&(this._p2pChannel.reportPublishEvent(!0,null,void 0,!1,JSON.stringify({proxy:t.proxy})),_.info(\"[\".concat(this._clientId,\"] on publish stream, \").concat(JSON.stringify(t))));}),this._gateway.signal.on(dt.ENABLE_LOCAL_VIDEO,t=>{this._handleSetStreamLocalEnable(\"video\",t.uid,!0);}),this._gateway.signal.on(dt.DISABLE_LOCAL_VIDEO,t=>{this._handleSetStreamLocalEnable(\"video\",t.uid,!1);}),this._gateway.signal.on(nt.REQUEST_TIMEOUT,(t,e)=>{if(this._joinInfo)switch(t){case et.PUBLISH:{if(!e)return;let r=e.ortc;if(r){var n,i;let o=r.some(c=>{let{stream_type:d}=c;return d===Ct.Audio}),s=r.some(c=>{let{stream_type:d}=c;return d!==Ct.Audio}),a=r.some(c=>{let{stream_type:d}=c;return d===Ct.Screen||d===Ct.ScreenLow});e.state===\"offer\"&&X.publish(this._joinInfo.sid,{eventElapse:qe.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:!1,ec:R.TIMEOUT,audio:o,video:s,p2pid:e.p2p_id,publishRequestid:this.store.pubId,screenshare:a,audioName:o?(n=r.find(c=>{let{stream_type:d}=c;return d===Ct.Audio}))===null||n===void 0||(n=n.ssrcs[0])===null||n===void 0?void 0:n.ssrcId.toString():void 0,videoName:s?(i=r.find(c=>{let{stream_type:d}=c;return d!==Ct.Audio}))===null||i===void 0||(i=i.ssrcs[0])===null||i===void 0?void 0:i.ssrcId.toString():void 0});}break}case et.SUBSCRIBE:e&&X.subscribe(this._joinInfo.sid,{succ:!1,ec:R.TIMEOUT,audio:e.stream_type===Q.AUDIO,video:e.stream_type===Q.VIDEO,peerid:e.stream_id,subscribeRequestid:e.ssrcId,p2pid:this.store.p2pId,eventElapse:qe.measureFromSubscribeStart(this.store.clientId,e.ssrcId),preSsrc:this._p2pChannel.isPreSubScribe(e.ssrcId)});}}),this._gateway.signal.on(dt.ON_P2P_OK,t=>{this.uid,this._uid;}),this._gateway.signal.on(dt.ON_PUBLISHED_USER_LIST,t=>{if(t==null||!t.users)return;v(\"BLOCK_LOCAL_CLIENT\")&&(t.users=t.users.filter(i=>!Io(i.string_id||i.stream_id,this.channelName)));let e=[],n=[];for(let i of t.users){let r=this._users.find(l=>l._uintid===i.stream_id);r?r._trust_in_room_=!0:(r=new ir(i.string_id||i.stream_id,i.stream_id),this._users.push(r),this.getListeners(ut.PUBLISHED_USER_LIST).length===0&&(_.debug(\"[\".concat(this._clientId,\"] user online\"),i.stream_id),this.safeEmit(ut.USER_JOINED,r)));let o=ve.Audio&i.stream_type,s=(ve.Video|ve.LwoVideo)&i.stream_type,a=(65280&i.stream_type)!=0,c=o&&r.hasAudio,d=s&&r.hasVideo;s&&(r._trust_video_stream_added_state_=!0,r._video_added_=!0,r._videoSSRC=i.video_ssrc,r._rtxSsrcId=i.video_rtx),o&&(r._trust_audio_stream_added_state_=!0,r._audio_added_=!0,r._audioSSRC=i.audio_ssrc),o&&!c&&this.getListeners(ut.PUBLISHED_USER_LIST).length===0&&(_.info(\"[\".concat(this._clientId,\"] remote user \").concat(r.uid,\" published audio\")),this.safeEmit(ut.USER_PUBLISHED,r,\"audio\")),s&&!d&&this.getListeners(ut.PUBLISHED_USER_LIST).length===0&&(_.info(\"[\".concat(this._clientId,\"] remote user \").concat(r.uid,\" published video\")),this.safeEmit(ut.USER_PUBLISHED,r,\"video\")),(o&&!c||s&&!d||a)&&e.push(r),s&&this._p2pChannel.hasPendingRemoteMedia(r,\"video\")&&n.push({user:r,mediaType:\"video\"}),o&&this._p2pChannel.hasPendingRemoteMedia(r,\"audio\")&&n.push({user:r,mediaType:\"audio\"});}n.length>0&&(_.debug(\"[\".concat(this._clientId,\"] RE massSubscribe after reconnect \").concat(n.map(i=>\"user: \".concat(i.user.uid,\", mediaType: \").concat(i.mediaType)).join(\"; \"),\" \")),this.massSubscribe(n).catch(i=>{_.error(\"[\".concat(this._clientId,\"] mass resubscribe error\"),i.toString());})),this.getListeners(ut.PUBLISHED_USER_LIST).length>0?v(\"ENABLE_DATASTREAM_2\")?this._pendingPublishedUsers=e:(_.info(\"[\".concat(this._clientId,\"] client emit user-list event, users: \").concat(e.map(i=>i.uid).join(\", \"))),this.safeEmit(ut.PUBLISHED_USER_LIST,e)):_.info(\"[\".concat(this._clientId,\"] client not emit user-list event case there is no user-list listener, users: \").concat(e.map(i=>i.uid).join(\", \")));}),this._gateway.signal.on(dt.ON_RTP_CAPABILITY_CHANGE,t=>{let{video_codec:e}=t;this._p2pChannel instanceof Jd&&this._p2pChannel.updateRemoteRTPCapabilities(e.map(n=>n.toLowerCase()).filter(n=>{var i;return W(i=Object.keys(Ju)).call(i,n)}));});}_handleP2PEvents(){this._gateway.signal.on(dt.ON_USER_OFFLINE,()=>{this._p2pChannel.disconnectForReconnect();}),this._gateway.signal.on(ie.PUBLISH,(t,e,n)=>{let{uid:i}=t;t.forEach(r=>{let{kind:o,ssrcs:s,mid:a,isMuted:c}=r;this._handleP2PAddAudioOrVideoStream(o,i,s[0].ssrcId,a);let d=this._users.find(l=>l.uid===i);return d&&this._p2pChannel instanceof An?this._p2pChannel.mockSubscribe(d,o,s[0].ssrcId,a).then(()=>{e();}).catch(n):e(),this._handleMuteStream(i,o,!!c)});}),this._gateway.signal.on(ie.CALL,async(t,e,n)=>{if(this._p2pChannel instanceof An)try{var i;e(await this._p2pChannel.startP2P({turnServer:(i=this._joinInfo)===null||i===void 0?void 0:i.turnServer},t));}catch(r){n(r);}}),this._gateway.signal.on(nt.P2P_CONNECTION,async t=>{this._p2pChannel instanceof An&&await this._p2pChannel.p2pConnect(t);}),this._gateway.signal.on(ie.UNPUBLISH,async(t,e,n)=>{if(this._p2pChannel instanceof An){let{unpubMsg:i,uid:r}=t,o=this._users.find(s=>s.uid===r);if(!o)return _.warning(\"[\".concat(this._clientId,\"] can not find remote user, ignore mute event, uid: \").concat(r)),void e();try{i.forEach(async s=>{let{stream_type:a}=s,c=a===Ct.Audio?Q.AUDIO:Q.VIDEO;await this._p2pChannel.unsubscribe(o,c),this._handleMuteStream(r,c,!0);}),e();}catch(s){n(s);}}}),this._gateway.signal.on(ie.CONTROL,async(t,e)=>{let{action:n}=t;switch(n){case to.MUTE_LOCAL_VIDEO:this._handleMuteStream(e,Q.VIDEO,!0);break;case to.MUTE_LOCAL_AUDIO:this._handleMuteStream(e,Q.AUDIO,!0);break;case to.UNMUTE_LOCAL_VIDEO:this._handleP2PAddAudioOrVideoStream(\"video\",e),this._handleMuteStream(e,Q.VIDEO,!1);break;case to.UNMUTE_LOCAL_AUDIO:this._handleP2PAddAudioOrVideoStream(\"audio\",e),this._handleMuteStream(e,Q.AUDIO,!1);}}),this._gateway.signal.on(ie.RESTART_ICE,async(t,e,n)=>{if(this._p2pChannel instanceof An)try{let{direction:i,iceParameter:r}=t;i!==cn.SEND_ONLY||r?e(await this._p2pChannel.restartICE(i,r)):(this._p2pChannel.handleDisconnect(i),e());}catch(i){n(i);}}),this._gateway.signal.on(ie.CANDIDATE,t=>{if(this._p2pChannel instanceof An){let{candidate:e,direction:n}=t;this._p2pChannel.addRemoteCandidate(e,n);}}),this._p2pChannel.on(tt.RequestP2PRestartICE,async(t,e,n)=>{try{let{direction:i}=t;e(await this._gateway.sendExtensionMessage(ie.RESTART_ICE,t,i===cn.SEND_ONLY));}catch(i){n(i);}}),this._p2pChannel.on(tt.LocalCandidate,t=>{this._gateway.sendExtensionMessage(ie.CANDIDATE,JSON.stringify(t),!0);}),this._p2pChannel.on(tt.RequestP2PMuteLocal,async(t,e,n)=>{try{await this._gateway.sendExtensionMessage(ie.CONTROL,t,!0),e();}catch(i){n(i);}}),this._p2pChannel.on(tt.RequestP2PUnmuteRemote,async(t,e,n)=>{if(this._joinInfo)try{await this._gateway.unmuteRemote(t,this._joinInfo.stringUid||this._joinInfo.uid),e();}catch(i){i.code===R.DISCONNECT_P2P?e():n(i);}else e();}),this._p2pChannel.on(tt.RequestP2PMuteRemote,async(t,e,n)=>{if(this._joinInfo)try{await this._gateway.muteRemote(t,this._joinInfo.stringUid||this._joinInfo.uid),e();}catch(i){i.code===R.DISCONNECT_P2P?e():n(i);}else e();}),this._p2pChannel.on(tt.StateChange,(t,e)=>{e===Rt.Connected&&this._p2pChannel.republish();});}_handleP2PChannelEvents(){this._p2pChannel.on(tt.RequestMuteLocal,async(t,e,n)=>{if(this._joinInfo)try{await this._gateway.muteLocal(t,this._joinInfo.stringUid||this._joinInfo.uid),e();}catch(i){i.code===R.DISCONNECT_P2P?e():n(i);}else e();}),this._p2pChannel.on(tt.RequestUnmuteLocal,async(t,e,n)=>{if(this._joinInfo)try{await this._gateway.unmuteLocal(t,this._joinInfo.stringUid||this._joinInfo.uid),e();}catch(i){i.code===R.DISCONNECT_P2P?e():n(i);}else e();}),this._p2pChannel.on(tt.RequestRePublish,(t,e,n)=>{this.publish(t,!1).then(e).catch(n);}),this._p2pChannel.on(tt.RequestRePublishDataChannel,(t,e,n)=>{j.all(t.map(async i=>{let r=await this._p2pChannel.publishDataChannel([i]);try{r.forEach(o=>{this._uid&&this._gateway.publishDataChannel(this._uid,o,!0);});}catch(o){if(o.code!==R.DISCONNECT_P2P)throw o}})).then(e).catch(n);}),this._p2pChannel.on(tt.RequestReSubscribe,async(t,e,n)=>{try{for(let{user:i,kind:r}of t)r===Q.VIDEO?await this.subscribe(i,\"video\"):await this.subscribe(i,\"audio\");e();}catch(i){n(i);}}),this._p2pChannel.on(tt.RequestUpload,(t,e)=>{this._gateway.upload(t,e);}),this._p2pChannel.on(tt.RequestUploadStats,t=>{this._gateway.uploadWRTCStats(t);}),this._p2pChannel.on(tt.MediaReconnectStart,t=>{this.safeEmit(ut.MEDIA_RECONNECT_START,t);}),this._p2pChannel.on(tt.MediaReconnectEnd,t=>{this.safeEmit(ut.MEDIA_RECONNECT_END,t);}),this._p2pChannel.on(tt.NeedSignalRTT,t=>{t(this._gateway.getSignalRTT());}),this._p2pChannel.on(tt.RequestRestartICE,async t=>{if(this._p2pChannel instanceof An)return;let e=await this._p2pChannel.restartICE(t),n=await e.next();if(n.done)return;let i=n.value,r;try{r=await this._gateway.restartICE({iceParameters:i});}catch(s){return void e.throw(s)}let{iceParameters:o}=function(s){let a=s.iceParameters;return {iceParameters:{iceUfrag:a.iceUfrag,icePwd:a.icePwd}}}(r);await e.next({remoteIceParameters:o});}),this._p2pChannel.on(tt.RequestReconnect,async()=>{this._gateway.reconnect();}),this._p2pChannel.on(tt.RequestReconnectPC,async()=>{var t;let{iceParameters:e,dtlsParameters:n,rtpCapabilities:i}=await this._p2pChannel.startP2PConnection({turnServer:(t=this._joinInfo)===null||t===void 0?void 0:t.turnServer}),{gatewayEstablishParams:r,gatewayAddress:o}=await this._gateway.reconnectPC({iceParameters:e,dtlsParameters:n,rtpCapabilities:i}),s=qI(r,o);await this._p2pChannel.connect(s),await this._p2pChannel.republish(),await this._p2pChannel.reSubscribe();}),this._p2pChannel.on(tt.RequestUnpublishForReconnectPC,async(t,e,n)=>{this._joinInfo&&this._uid!==void 0?(await this._gateway.unpublish(t,this._uid),e()):n();}),this._p2pChannel.on(tt.P2PLost,()=>{this.safeEmit(ut.P2P_LOST,this.store.uid);}),this._p2pChannel.on(tt.UpdateVideoEncoder,t=>{t._encoderConfig&&this._gateway.setVideoProfile(t._encoderConfig);}),this._p2pChannel.on(tt.ConnectionTypeChange,t=>{this.safeEmit(ut.IS_USING_CLOUD_PROXY,t);}),this._p2pChannel.on(tt.RequestLowStreamParameter,t=>{t(this._lowStreamParameter||{width:160,height:120,framerate:15,bitrate:50});}),this._p2pChannel.on(tt.QueryClientConnectionState,t=>{t(this.connectionState);});}getKeyMetrics(){return this.store.keyMetrics}async enableContentInspect(t){if(!this._joinInfo||this.connectionState!==\"CONNECTED\")throw new O(R.INVALID_OPERATION,\"[\".concat(this._clientId,\"] can not create content inspect, please join channel first\"));if(this._inspect)throw new O(R.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Inspect content service already in connecting/connected state\"));try{let n=(e={config:t},Za(\"ContentInspect\").create(e));this._inspect=n,this.handleVideoInspectEvents(n);let{appId:i,cname:r,sid:o,token:s,uid:a,cid:c,vid:d}=this._joinInfo;await n.init({appId:i,areaCode:\"\",cname:r,sid:o,token:s,uid:a,cid:c,vid:d?Number(d):0},Ee);}catch(n){throw Array.isArray(n)?n[0]:n}var e;}handleVideoInspectEvents(t){t.on(we.CONNECTION_STATE_CHANGE,(e,n)=>{if(this.safeEmit(ut.CONTENT_INSPECT_CONNECTION_STATE_CHANGE,e,n),n===Ei.CONNECTED){if(this.connectionState!==\"CONNECTED\")return void this.safeEmit(ut.CONTENT_INSPECT_ERROR,new O(R.OPERATION_ABORTED,\"Content inspect was cancelled because it left the channel\"));t.inspectImage();}}),t.on(we.INSPECT_RESULT,(e,n)=>{var i;if(n?.code===R.INVALID_OPERATION&&this.connectionState===\"DISCONNECTED\")return _.debug(\"Stop inspect content because that has left channel\"),this==null||(i=this._inspect)===null||i===void 0||i.close(),void(this._inspect=void 0);this.safeEmit(ut.CONTENT_INSPECT_RESULT,e,n);}),t.on(we.CLIENT_LOCAL_VIDEO_TRACK,e=>{e(this.localTracks.filter(n=>n.trackMediaType===\"video\")[0]);});}async disableContentInspect(){if(!this._inspect)throw new O(R.INVALID_OPERATION,\"[\".concat(this._clientId,\"] inspectVideoContent not started\"));try{this._inspect.close(),this._inspect=void 0;}catch(t){throw Array.isArray(t)?t[0]:t}}async setImageModeration(t,e){if(Nr(t,\"enabled\"),t){if(!e)throw new O(R.INVALID_PARAMS,\"config is required\");if(k0(e),!this._joinInfo)throw new O(R.INVALID_OPERATION,\"can not create image moderation, please join channel first\");try{if(this._moderation)this._moderation.updateConfig(e);else {let i=(n={config:e},Za(\"ImageModeration\").create(n));this._moderation=i,this.handleImageModerationEvents(i);let{appId:r,cname:o,sid:s,token:a,uid:c,cid:d,vid:l}=this._joinInfo;await i.init({appId:r,areaCode:\"\",cname:o,sid:s,token:a,uid:c,cid:d,vid:l?Number(l):0},Ee);}}catch(i){throw Array.isArray(i)?i[0]:i}}else {var n;if(!this._moderation)throw new O(R.INVALID_OPERATION,\"[\".concat(this._clientId,\"] image moderation not started\"));try{this._moderation.close(),this._moderation.removeAllListeners(),this._moderation=void 0;}catch(i){throw Array.isArray(i)?i[0]:i}}}handleImageModerationEvents(t){t.on(Mi.CONNECTION_STATE_CHANGE,(e,n)=>{if(this.safeEmit(ut.IMAGE_MODERATION_CONNECTION_STATE_CHANGE,e,n),e===Xn.CONNECTED){if(this.connectionState!==\"CONNECTED\")throw this.setImageModeration(!1),new O(R.OPERATION_ABORTED,\"Image moderation was cancelled because it left the channel\");t.inspectImage();}}),t.on(Mi.CLIENT_LOCAL_VIDEO_TRACK,e=>{e(this.localTracks.filter(n=>n.trackMediaType===\"video\")[0]);});}setP2PTransport(t){if(function(e){Ce(e,\"transport\",[\"default\",\"auto\",\"relay\",\"sd-rtn\"]);}(t),this.mode!==\"p2p\")throw new O(R.INVALID_OPERATION,\"only p2p mode can set p2pTransport\");this.store.p2pTransport=t,_.info(\"[\".concat(this._clientId,\"] set client p2pTransport to \").concat(t));}getJoinChannelServiceRecords(){return _.debug(\"getJoinChannelServiceRecords\"),this.store.joinChannelServiceRecords}async setPublishAudioFilterEnabled(t){Nr(t,\"enabled\"),Ot(\"ENABLE_PUBLISH_AUDIO_FILTER\",t),this._joinInfo&&await this._gateway.setPublishAudioFilterEnabled(t);}_handleResetAddStream(t,e){switch(e){case\"audio\":t._audio_added_=!1,t._trust_audio_stream_added_state_=!0;break;case\"video\":t._video_added_=!1,t._trust_video_stream_added_state_=!0;}}},q(G.prototype,\"leave\",[sy],Object.getOwnPropertyDescriptor(G.prototype,\"leave\"),G.prototype),q(G.prototype,\"publish\",[ay],Object.getOwnPropertyDescriptor(G.prototype,\"publish\"),G.prototype),q(G.prototype,\"unpublish\",[cy],Object.getOwnPropertyDescriptor(G.prototype,\"unpublish\"),G.prototype),q(G.prototype,\"subscribe\",[dy],Object.getOwnPropertyDescriptor(G.prototype,\"subscribe\"),G.prototype),q(G.prototype,\"presubscribe\",[ly],Object.getOwnPropertyDescriptor(G.prototype,\"presubscribe\"),G.prototype),q(G.prototype,\"massSubscribe\",[uy],Object.getOwnPropertyDescriptor(G.prototype,\"massSubscribe\"),G.prototype),q(G.prototype,\"unsubscribe\",[hy],Object.getOwnPropertyDescriptor(G.prototype,\"unsubscribe\"),G.prototype),q(G.prototype,\"massUnsubscribe\",[py],Object.getOwnPropertyDescriptor(G.prototype,\"massUnsubscribe\"),G.prototype),q(G.prototype,\"setLowStreamParameter\",[_y],Object.getOwnPropertyDescriptor(G.prototype,\"setLowStreamParameter\"),G.prototype),q(G.prototype,\"enableDualStream\",[Ey],Object.getOwnPropertyDescriptor(G.prototype,\"enableDualStream\"),G.prototype),q(G.prototype,\"disableDualStream\",[my],Object.getOwnPropertyDescriptor(G.prototype,\"disableDualStream\"),G.prototype),q(G.prototype,\"setClientRole\",[fy],Object.getOwnPropertyDescriptor(G.prototype,\"setClientRole\"),G.prototype),q(G.prototype,\"setProxyServer\",[gy],Object.getOwnPropertyDescriptor(G.prototype,\"setProxyServer\"),G.prototype),q(G.prototype,\"setTurnServer\",[Ty],Object.getOwnPropertyDescriptor(G.prototype,\"setTurnServer\"),G.prototype),q(G.prototype,\"setLicense\",[Sy],Object.getOwnPropertyDescriptor(G.prototype,\"setLicense\"),G.prototype),q(G.prototype,\"startProxyServer\",[Ry],Object.getOwnPropertyDescriptor(G.prototype,\"startProxyServer\"),G.prototype),q(G.prototype,\"stopProxyServer\",[Cy],Object.getOwnPropertyDescriptor(G.prototype,\"stopProxyServer\"),G.prototype),q(G.prototype,\"setLocalAccessPointsV2\",[Iy],Object.getOwnPropertyDescriptor(G.prototype,\"setLocalAccessPointsV2\"),G.prototype),q(G.prototype,\"setLocalAccessPoints\",[vy],Object.getOwnPropertyDescriptor(G.prototype,\"setLocalAccessPoints\"),G.prototype),q(G.prototype,\"setRemoteDefaultVideoStreamType\",[yy],Object.getOwnPropertyDescriptor(G.prototype,\"setRemoteDefaultVideoStreamType\"),G.prototype),q(G.prototype,\"setRemoteVideoStreamType\",[Ay],Object.getOwnPropertyDescriptor(G.prototype,\"setRemoteVideoStreamType\"),G.prototype),q(G.prototype,\"setStreamFallbackOption\",[by],Object.getOwnPropertyDescriptor(G.prototype,\"setStreamFallbackOption\"),G.prototype),q(G.prototype,\"setEncryptionConfig\",[wy],Object.getOwnPropertyDescriptor(G.prototype,\"setEncryptionConfig\"),G.prototype),q(G.prototype,\"renewToken\",[Oy],Object.getOwnPropertyDescriptor(G.prototype,\"renewToken\"),G.prototype),q(G.prototype,\"enableAudioVolumeIndicator\",[Ny],Object.getOwnPropertyDescriptor(G.prototype,\"enableAudioVolumeIndicator\"),G.prototype),q(G.prototype,\"startLiveStreaming\",[Dy],Object.getOwnPropertyDescriptor(G.prototype,\"startLiveStreaming\"),G.prototype),q(G.prototype,\"setLiveTranscoding\",[Py],Object.getOwnPropertyDescriptor(G.prototype,\"setLiveTranscoding\"),G.prototype),q(G.prototype,\"stopLiveStreaming\",[ky],Object.getOwnPropertyDescriptor(G.prototype,\"stopLiveStreaming\"),G.prototype),q(G.prototype,\"startChannelMediaRelay\",[Ly],Object.getOwnPropertyDescriptor(G.prototype,\"startChannelMediaRelay\"),G.prototype),q(G.prototype,\"updateChannelMediaRelay\",[My],Object.getOwnPropertyDescriptor(G.prototype,\"updateChannelMediaRelay\"),G.prototype),q(G.prototype,\"stopChannelMediaRelay\",[Uy],Object.getOwnPropertyDescriptor(G.prototype,\"stopChannelMediaRelay\"),G.prototype),q(G.prototype,\"sendCustomReportMessage\",[xy],Object.getOwnPropertyDescriptor(G.prototype,\"sendCustomReportMessage\"),G.prototype),q(G.prototype,\"pickSVCLayer\",[Vy],Object.getOwnPropertyDescriptor(G.prototype,\"pickSVCLayer\"),G.prototype),q(G.prototype,\"setRTMConfig\",[Fy],Object.getOwnPropertyDescriptor(G.prototype,\"setRTMConfig\"),G.prototype),q(G.prototype,\"enableContentInspect\",[By],Object.getOwnPropertyDescriptor(G.prototype,\"enableContentInspect\"),G.prototype),q(G.prototype,\"disableContentInspect\",[jy],Object.getOwnPropertyDescriptor(G.prototype,\"disableContentInspect\"),G.prototype),q(G.prototype,\"setImageModeration\",[Gy],Object.getOwnPropertyDescriptor(G.prototype,\"setImageModeration\"),G.prototype),q(G.prototype,\"setP2PTransport\",[Wy],Object.getOwnPropertyDescriptor(G.prototype,\"setP2PTransport\"),G.prototype),q(G.prototype,\"getJoinChannelServiceRecords\",[Hy],Object.getOwnPropertyDescriptor(G.prototype,\"getJoinChannelServiceRecords\"),G.prototype),q(G.prototype,\"setPublishAudioFilterEnabled\",[Ky],Object.getOwnPropertyDescriptor(G.prototype,\"setPublishAudioFilterEnabled\"),G.prototype),G),Su=class t{constructor(e,n){T(this,\"id\",0),T(this,\"element\",void 0),T(this,\"peerPair\",void 0),T(this,\"context\",void 0),T(this,\"audioPlayerElement\",void 0),T(this,\"audioTrack\",void 0),t.count+=1,this.id=t.count,this.element=e,this.context=n;}initPeers(){this.peerPair=[new RTCPeerConnection,new RTCPeerConnection],this.peerPair[1].ontrack=e=>{let n=document.createElement(\"audio\");n.srcObject=new MediaStream([e.track]),n.play(),this.audioPlayerElement=n;};}async switchSdp(){if(!this.peerPair)return;let e=async(i,r)=>{let o=r===\"offer\"?await i.createOffer():await i.createAnswer();return await i.setLocalDescription(o),i.iceGatheringState===\"complete\"?i.localDescription:new j(s=>{i.onicegatheringstatechange=()=>{i.iceGatheringState===\"complete\"&&s(i.localDescription);};})},n=async(i,r)=>await i.setRemoteDescription(r);try{let i=await e(this.peerPair[0],\"offer\");await n(this.peerPair[1],i);let r=await e(this.peerPair[1],\"answer\");await n(this.peerPair[0],r);}catch(i){throw new O(R.LOCAL_AEC_ERROR,i.toString()).print()}}async getTracksFromMediaElement(e){if(this.audioTrack)return this.audioTrack;let n;try{e instanceof HTMLVideoElement&&(e.captureStream?e.captureStream():e.mozCaptureStream()),n=this.context.createMediaStreamDestination(),this.context.createMediaElementSource(e).connect(n);}catch(r){throw new O(R.LOCAL_AEC_ERROR,r.toString()).print()}if(!n)throw new O(R.LOCAL_AEC_ERROR,\"no dest node when local aec\").print();let i=n.stream.getAudioTracks()[0];return this.audioTrack=i,i}getElement(){return this.element}async startEchoCancellation(){this.context.resume(),this.peerPair&&this.close(),this.initPeers();let e=this.element,n=await this.getTracksFromMediaElement(e);this.peerPair&&this.peerPair[0].addTrack(n),await this.switchSdp();}close(){_.debug(\"close echo cancellation unit, id is\",this.id),this.audioPlayerElement&&this.audioPlayerElement.pause(),this.peerPair&&this.peerPair.forEach(e=>{e.close();}),this.peerPair=void 0,this.audioPlayerElement=void 0;}},qy,Qd;T(Su,\"count\",0);var LW=window.AudioContext||window.webkitAudioContext,MW=new(qy=$({report:X}),q((Qd=class{constructor(){T(this,\"units\",[]),T(this,\"context\",void 0);}processExternalMediaAEC(t){if(!this._doesEnvironmentNeedAEC())return _.debug(\"the system does not need to process local aec\"),-1;this.context||(this.context=new LW);let e=this.units.find(n=>n&&n.getElement()===t);return e||(e=new Su(t,this.context),this.units.push(e)),e.startEchoCancellation(),_.debug(\"start processing local audio echo cancellation, id is\",e.id),e.id}_doesEnvironmentNeedAEC(){return mt().name!==It.SAFARI}}).prototype,\"processExternalMediaAEC\",[qy],Object.getOwnPropertyDescriptor(Qd.prototype,\"processExternalMediaAEC\"),Qd.prototype),Qd);function zy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function Jy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zy(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zy(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var I_=window||document;function L0(t){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!I_)return;let n=Mt._cspEventHandlerPointer;if(n&&e)return void console.error(n,e);let i=r=>{if(!(r&&r.blockedURI&&(Mt.onSecurityPolicyViolation||Mt.getListeners(nr.SECURITY_POLICY_VIOLATION).length>0)))return;let o=r.blockedURI;v(\"CSP_DETECTED_HOSTNAME_LIST\").some(s=>W(o).call(o,s))&&(Mt.onSecurityPolicyViolation&&typeof Mt.onSecurityPolicyViolation==\"function\"&&Mt.onSecurityPolicyViolation(r),Mt.getListeners(nr.SECURITY_POLICY_VIOLATION).length>0&&Mt.safeEmit(nr.SECURITY_POLICY_VIOLATION,r));};n&&I_.removeEventListener(\"securitypolicyviolation\",n),(e||t&&typeof t==\"function\"||Mt.getListeners(nr.SECURITY_POLICY_VIOLATION).length>0)&&I_.addEventListener(\"securitypolicyviolation\",i),Mt._cspEventHandlerPointer=i;}var UW=hn,xW=nO,Xy=RegExp.prototype,VW=function(t){return t===Xy||UW(Xy,t)?xW(t):t.flags},en=ae(VW);function Sa(t){let e=t.length;for(;--e>=0;)t[e]=0;}var Pf=256,M0=286,lc=30,uc=15,_m=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Ol=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),FW=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Qy=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),wr=new Array(576);Sa(wr);var hc=new Array(60);Sa(hc);var Fc=new Array(512);Sa(Fc);var Bc=new Array(256);Sa(Bc);var kf=new Array(29);Sa(kf);var Ru=new Array(lc);function v_(t,e,n,i,r){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=t&&t.length;}var Zy,$y,tA;function y_(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e;}Sa(Ru);var U0=t=>t<256?Fc[t]:Fc[256+(t>>>7)],jc=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255;},Bn=(t,e,n)=>{t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,jc(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n);},rr=(t,e,n)=>{Bn(t,n[2*e],n[2*e+1]);},x0=(t,e)=>{let n=0;do n|=1&t,t>>>=1,n<<=1;while(--e>0);return n>>>1},V0=(t,e,n)=>{let i=new Array(16),r,o,s=0;for(r=1;r<=uc;r++)s=s+n[r-1]<<1,i[r]=s;for(o=0;o<=e;o++){let a=t[2*o+1];a!==0&&(t[2*o]=x0(i[a]++,a));}},F0=t=>{let e;for(e=0;e<M0;e++)t.dyn_ltree[2*e]=0;for(e=0;e<lc;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0;},B0=t=>{t.bi_valid>8?jc(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0;},eA=(t,e,n,i)=>{let r=2*e,o=2*n;return t[r]<t[o]||t[r]===t[o]&&i[e]<=i[n]},A_=(t,e,n)=>{let i=t.heap[n],r=n<<1;for(;r<=t.heap_len&&(r<t.heap_len&&eA(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!eA(e,i,t.heap[r],t.depth));)t.heap[n]=t.heap[r],n=r,r<<=1;t.heap[n]=i;},nA=(t,e,n)=>{let i,r,o,s,a=0;if(t.sym_next!==0)do i=255&t.pending_buf[t.sym_buf+a++],i+=(255&t.pending_buf[t.sym_buf+a++])<<8,r=t.pending_buf[t.sym_buf+a++],i===0?rr(t,r,e):(o=Bc[r],rr(t,o+Pf+1,e),s=_m[o],s!==0&&(r-=kf[o],Bn(t,r,s)),i--,o=U0(i),rr(t,o,n),s=Ol[o],s!==0&&(i-=Ru[o],Bn(t,i,s)));while(a<t.sym_next);rr(t,256,e);},b_=(t,e)=>{let n=e.dyn_tree,i=e.stat_desc.static_tree,r=e.stat_desc.has_stree,o=e.stat_desc.elems,s,a,c,d=-1;for(t.heap_len=0,t.heap_max=573,s=0;s<o;s++)n[2*s]!==0?(t.heap[++t.heap_len]=d=s,t.depth[s]=0):n[2*s+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=d<2?++d:0,n[2*c]=1,t.depth[c]=0,t.opt_len--,r&&(t.static_len-=i[2*c+1]);for(e.max_code=d,s=t.heap_len>>1;s>=1;s--)A_(t,n,s);c=o;do s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],A_(t,n,1),a=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=a,n[2*c]=n[2*s]+n[2*a],t.depth[c]=(t.depth[s]>=t.depth[a]?t.depth[s]:t.depth[a])+1,n[2*s+1]=n[2*a+1]=c,t.heap[1]=c++,A_(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((l,u)=>{let h=u.dyn_tree,p=u.max_code,g=u.stat_desc.static_tree,E=u.stat_desc.has_stree,f=u.stat_desc.extra_bits,S=u.stat_desc.extra_base,C=u.stat_desc.max_length,A,b,w,D,k,B,V=0;for(D=0;D<=uc;D++)l.bl_count[D]=0;for(h[2*l.heap[l.heap_max]+1]=0,A=l.heap_max+1;A<573;A++)b=l.heap[A],D=h[2*h[2*b+1]+1]+1,D>C&&(D=C,V++),h[2*b+1]=D,b>p||(l.bl_count[D]++,k=0,b>=S&&(k=f[b-S]),B=h[2*b],l.opt_len+=B*(D+k),E&&(l.static_len+=B*(g[2*b+1]+k)));if(V!==0){do{for(D=C-1;l.bl_count[D]===0;)D--;l.bl_count[D]--,l.bl_count[D+1]+=2,l.bl_count[C]--,V-=2;}while(V>0);for(D=C;D!==0;D--)for(b=l.bl_count[D];b!==0;)w=l.heap[--A],w>p||(h[2*w+1]!==D&&(l.opt_len+=(D-h[2*w+1])*h[2*w],h[2*w+1]=D),b--);}})(t,e),V0(n,d,t.bl_count);},iA=(t,e,n)=>{let i,r,o=-1,s=e[1],a=0,c=7,d=4;for(s===0&&(c=138,d=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)r=s,s=e[2*(i+1)+1],++a<c&&r===s||(a<d?t.bl_tree[2*r]+=a:r!==0?(r!==o&&t.bl_tree[2*r]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,o=r,s===0?(c=138,d=3):r===s?(c=6,d=3):(c=7,d=4));},rA=(t,e,n)=>{let i,r,o=-1,s=e[1],a=0,c=7,d=4;for(s===0&&(c=138,d=3),i=0;i<=n;i++)if(r=s,s=e[2*(i+1)+1],!(++a<c&&r===s)){if(a<d)do rr(t,r,t.bl_tree);while(--a!=0);else r!==0?(r!==o&&(rr(t,r,t.bl_tree),a--),rr(t,16,t.bl_tree),Bn(t,a-3,2)):a<=10?(rr(t,17,t.bl_tree),Bn(t,a-3,3)):(rr(t,18,t.bl_tree),Bn(t,a-11,7));a=0,o=r,s===0?(c=138,d=3):r===s?(c=6,d=3):(c=7,d=4);}},oA=!1,j0=(t,e,n,i)=>{Bn(t,0+(i?1:0),3),B0(t),jc(t,n),jc(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n;},BW=t=>{oA||((()=>{let e,n,i,r,o,s=new Array(16);for(i=0,r=0;r<28;r++)for(kf[r]=i,e=0;e<1<<_m[r];e++)Bc[i++]=r;for(Bc[i-1]=r,o=0,r=0;r<16;r++)for(Ru[r]=o,e=0;e<1<<Ol[r];e++)Fc[o++]=r;for(o>>=7;r<lc;r++)for(Ru[r]=o<<7,e=0;e<1<<Ol[r]-7;e++)Fc[256+o++]=r;for(n=0;n<=uc;n++)s[n]=0;for(e=0;e<=143;)wr[2*e+1]=8,e++,s[8]++;for(;e<=255;)wr[2*e+1]=9,e++,s[9]++;for(;e<=279;)wr[2*e+1]=7,e++,s[7]++;for(;e<=287;)wr[2*e+1]=8,e++,s[8]++;for(V0(wr,287,s),e=0;e<lc;e++)hc[2*e+1]=5,hc[2*e]=x0(e,5);Zy=new v_(wr,_m,257,M0,uc),$y=new v_(hc,Ol,0,lc,uc),tA=new v_(new Array(0),FW,0,19,7);})(),oA=!0),t.l_desc=new y_(t.dyn_ltree,Zy),t.d_desc=new y_(t.dyn_dtree,$y),t.bl_desc=new y_(t.bl_tree,tA),t.bi_buf=0,t.bi_valid=0,F0(t);},jW=(t,e,n,i)=>{let r,o,s=0;t.level>0?(t.strm.data_type===2&&(t.strm.data_type=(a=>{let c,d=4093624447;for(c=0;c<=31;c++,d>>>=1)if(1&d&&a.dyn_ltree[2*c]!==0)return 0;if(a.dyn_ltree[18]!==0||a.dyn_ltree[20]!==0||a.dyn_ltree[26]!==0)return 1;for(c=32;c<Pf;c++)if(a.dyn_ltree[2*c]!==0)return 1;return 0})(t)),b_(t,t.l_desc),b_(t,t.d_desc),s=(a=>{let c;for(iA(a,a.dyn_ltree,a.l_desc.max_code),iA(a,a.dyn_dtree,a.d_desc.max_code),b_(a,a.bl_desc),c=18;c>=3&&a.bl_tree[2*Qy[c]+1]===0;c--);return a.opt_len+=3*(c+1)+5+5+4,c})(t),r=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=r&&(r=o)):r=o=n+5,n+4<=r&&e!==-1?j0(t,e,n,i):t.strategy===4||o===r?(Bn(t,2+(i?1:0),3),nA(t,wr,hc)):(Bn(t,4+(i?1:0),3),((a,c,d,l)=>{let u;for(Bn(a,c-257,5),Bn(a,d-1,5),Bn(a,l-4,4),u=0;u<l;u++)Bn(a,a.bl_tree[2*Qy[u]+1],3);rA(a,a.dyn_ltree,c-1),rA(a,a.dyn_dtree,d-1);})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),nA(t,t.dyn_ltree,t.dyn_dtree)),F0(t),i&&B0(t);},GW=(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,e===0?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(Bc[n]+Pf+1)]++,t.dyn_dtree[2*U0(e)]++),t.sym_next===t.sym_end),WW=t=>{Bn(t,2,3),rr(t,256,wr),(e=>{e.bi_valid===16?(jc(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8);})(t);},HW={_tr_init:BW,_tr_stored_block:j0,_tr_flush_block:jW,_tr_tally:GW,_tr_align:WW},Gc=(t,e,n,i)=>{let r=65535&t|0,o=t>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do r=r+e[i++]|0,o=o+r|0;while(--s);r%=65521,o%=65521;}return r|o<<16|0},KW=new Uint32Array((()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t;}return e})()),an=(t,e,n,i)=>{let r=KW,o=i+n;t^=-1;for(let s=i;s<o;s++)t=t>>>8^r[255&(t^e[s])];return -1^t},Zo={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"},Ra={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:YW,_tr_stored_block:Em,_tr_flush_block:qW,_tr_tally:ao,_tr_align:zW}=HW,{Z_NO_FLUSH:co,Z_PARTIAL_FLUSH:JW,Z_FULL_FLUSH:XW,Z_FINISH:Ri,Z_BLOCK:sA,Z_OK:_n,Z_STREAM_END:aA,Z_STREAM_ERROR:dr,Z_DATA_ERROR:QW,Z_BUF_ERROR:w_,Z_DEFAULT_COMPRESSION:ZW,Z_FILTERED:$W,Z_HUFFMAN_ONLY:Zd,Z_RLE:t3,Z_FIXED:e3,Z_DEFAULT_STRATEGY:n3,Z_UNKNOWN:i3,Z_DEFLATED:th}=Ra,mm=286,r3=30,o3=19,s3=2*mm+1,a3=15,jo=258,lr=262,aa=42,Go=113,tc=666,Wo=(t,e)=>(t.msg=Zo[e],e),cA=t=>2*t-(t>4?9:0),Qr=t=>{let e=t.length;for(;--e>=0;)t[e]=0;},c3=t=>{let e,n,i,r=t.w_size;e=t.hash_size,i=e;do n=t.head[--i],t.head[i]=n>=r?n-r:0;while(--e);e=r,i=e;do n=t.prev[--i],t.prev[i]=n>=r?n-r:0;while(--e)},lo=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask,Zn=t=>{let e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0));},ti=(t,e)=>{qW(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Zn(t.strm);},te=(t,e)=>{t.pending_buf[t.pending++]=e;},ja=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e;},fm=(t,e,n,i)=>{let r=t.avail_in;return r>i&&(r=i),r===0?0:(t.avail_in-=r,e.set(t.input.subarray(t.next_in,t.next_in+r),n),t.state.wrap===1?t.adler=Gc(t.adler,e,r,n):t.state.wrap===2&&(t.adler=an(t.adler,e,r,n)),t.next_in+=r,t.total_in+=r,r)},G0=(t,e)=>{let n,i,r=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match,c=t.strstart>t.w_size-lr?t.strstart-(t.w_size-lr):0,d=t.window,l=t.w_mask,u=t.prev,h=t.strstart+jo,p=d[o+s-1],g=d[o+s];t.prev_length>=t.good_match&&(r>>=2),a>t.lookahead&&(a=t.lookahead);do if(n=e,d[n+s]===g&&d[n+s-1]===p&&d[n]===d[o]&&d[++n]===d[o+1]){o+=2,n++;do;while(d[++o]===d[++n]&&d[++o]===d[++n]&&d[++o]===d[++n]&&d[++o]===d[++n]&&d[++o]===d[++n]&&d[++o]===d[++n]&&d[++o]===d[++n]&&d[++o]===d[++n]&&o<h);if(i=jo-(h-o),o=h-jo,i>s){if(t.match_start=e,s=i,i>=a)break;p=d[o+s-1],g=d[o+s];}}while((e=u[e&l])>c&&--r!=0);return s<=t.lookahead?s:t.lookahead},ca=t=>{let e=t.w_size,n,i,r;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-lr)&&(t.window.set(t.window.subarray(e,e+e-i),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),c3(t),i+=e),t.strm.avail_in===0)break;if(n=fm(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=n,t.lookahead+t.insert>=3)for(r=t.strstart-t.insert,t.ins_h=t.window[r],t.ins_h=lo(t,t.ins_h,t.window[r+1]);t.insert&&(t.ins_h=lo(t,t.ins_h,t.window[r+3-1]),t.prev[r&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=r,r++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<lr&&t.strm.avail_in!==0)},W0=(t,e)=>{let n,i,r,o=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,s=0,a=t.strm.avail_in;do{if(n=65535,r=t.bi_valid+42>>3,t.strm.avail_out<r||(r=t.strm.avail_out-r,i=t.strstart-t.block_start,n>i+t.strm.avail_in&&(n=i+t.strm.avail_in),n>r&&(n=r),n<o&&(n===0&&e!==Ri||e===co||n!==i+t.strm.avail_in)))break;s=e===Ri&&n===i+t.strm.avail_in?1:0,Em(t,0,0,s),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,Zn(t.strm),i&&(i>n&&(i=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,n-=i),n&&(fm(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n);}while(s===0);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),s?4:e!==co&&e!==Ri&&t.strm.avail_in===0&&t.strstart===t.block_start?2:(r=t.window_size-t.strstart,t.strm.avail_in>r&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,r+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),r>t.strm.avail_in&&(r=t.strm.avail_in),r&&(fm(t.strm,t.window,t.strstart,r),t.strstart+=r,t.insert+=r>t.w_size-t.insert?t.w_size-t.insert:r),t.high_water<t.strstart&&(t.high_water=t.strstart),r=t.bi_valid+42>>3,r=t.pending_buf_size-r>65535?65535:t.pending_buf_size-r,o=r>t.w_size?t.w_size:r,i=t.strstart-t.block_start,(i>=o||(i||e===Ri)&&e!==co&&t.strm.avail_in===0&&i<=r)&&(n=i>r?r:i,s=e===Ri&&t.strm.avail_in===0&&n===i?1:0,Em(t,t.block_start,n,s),t.block_start+=n,Zn(t.strm)),s?3:1)},O_=(t,e)=>{let n,i;for(;;){if(t.lookahead<lr){if(ca(t),t.lookahead<lr&&e===co)return 1;if(t.lookahead===0)break}if(n=0,t.lookahead>=3&&(t.ins_h=lo(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-lr&&(t.match_length=G0(t,n)),t.match_length>=3)if(i=ao(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do t.strstart++,t.ins_h=lo(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!=0);t.strstart++;}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=lo(t,t.ins_h,t.window[t.strstart+1]);else i=ao(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(ti(t,!1),t.strm.avail_out===0))return 1}return t.insert=t.strstart<2?t.strstart:2,e===Ri?(ti(t,!0),t.strm.avail_out===0?3:4):t.sym_next&&(ti(t,!1),t.strm.avail_out===0)?1:2},Rs=(t,e)=>{let n,i,r;for(;;){if(t.lookahead<lr){if(ca(t),t.lookahead<lr&&e===co)return 1;if(t.lookahead===0)break}if(n=0,t.lookahead>=3&&(t.ins_h=lo(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-lr&&(t.match_length=G0(t,n),t.match_length<=5&&(t.strategy===$W||t.match_length===3&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-3,i=ao(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=r&&(t.ins_h=lo(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!=0);if(t.match_available=0,t.match_length=2,t.strstart++,i&&(ti(t,!1),t.strm.avail_out===0))return 1}else if(t.match_available){if(i=ao(t,0,t.window[t.strstart-1]),i&&ti(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return 1}else t.match_available=1,t.strstart++,t.lookahead--;}return t.match_available&&(i=ao(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===Ri?(ti(t,!0),t.strm.avail_out===0?3:4):t.sym_next&&(ti(t,!1),t.strm.avail_out===0)?1:2};function $i(t,e,n,i,r){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=r;}var ec=[new $i(0,0,0,0,W0),new $i(4,4,8,4,O_),new $i(4,5,16,8,O_),new $i(4,6,32,32,O_),new $i(4,4,16,16,Rs),new $i(8,16,32,32,Rs),new $i(8,16,128,128,Rs),new $i(8,32,128,256,Rs),new $i(32,128,258,1024,Rs),new $i(32,258,258,4096,Rs)];function d3(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=th,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*s3),this.dyn_dtree=new Uint16Array(2*(2*r3+1)),this.bl_tree=new Uint16Array(2*(2*o3+1)),Qr(this.dyn_ltree),Qr(this.dyn_dtree),Qr(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(a3+1),this.heap=new Uint16Array(2*mm+1),Qr(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*mm+1),Qr(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0;}var Wc=t=>{if(!t)return 1;let e=t.state;return !e||e.strm!==t||e.status!==aa&&e.status!==57&&e.status!==69&&e.status!==73&&e.status!==91&&e.status!==103&&e.status!==Go&&e.status!==tc?1:0},H0=t=>{if(Wc(t))return Wo(t,dr);t.total_in=t.total_out=0,t.data_type=i3;let e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?57:e.wrap?aa:Go,t.adler=e.wrap===2?0:1,e.last_flush=-2,YW(e),_n},K0=t=>{let e=H0(t);return e===_n&&(n=>{n.window_size=2*n.w_size,Qr(n.head),n.max_lazy_match=ec[n.level].max_lazy,n.good_match=ec[n.level].good_length,n.nice_match=ec[n.level].nice_length,n.max_chain_length=ec[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0;})(t.state),e},dA=(t,e,n,i,r,o)=>{if(!t)return dr;let s=1;if(e===ZW&&(e=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),r<1||r>9||n!==th||i<8||i>15||e<0||e>9||o<0||o>e3||i===8&&s!==1)return Wo(t,dr);i===8&&(i=9);let a=new d3;return t.state=a,a.strm=t,a.status=aa,a.wrap=s,a.gzhead=null,a.w_bits=i,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=r+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<r+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=e,a.strategy=o,a.method=n,K0(t)},l3=(t,e)=>{if(Wc(t)||e>sA||e<0)return t?Wo(t,dr):dr;let n=t.state;if(!t.output||t.avail_in!==0&&!t.input||n.status===tc&&e!==Ri)return Wo(t,t.avail_out===0?w_:dr);let i=n.last_flush;if(n.last_flush=e,n.pending!==0){if(Zn(t),t.avail_out===0)return n.last_flush=-1,_n}else if(t.avail_in===0&&cA(e)<=cA(i)&&e!==Ri)return Wo(t,w_);if(n.status===tc&&t.avail_in!==0)return Wo(t,w_);if(n.status===aa&&n.wrap===0&&(n.status=Go),n.status===aa){let r=th+(n.w_bits-8<<4)<<8,o=-1;if(o=n.strategy>=Zd||n.level<2?0:n.level<6?1:n.level===6?2:3,r|=o<<6,n.strstart!==0&&(r|=32),r+=31-r%31,ja(n,r),n.strstart!==0&&(ja(n,t.adler>>>16),ja(n,65535&t.adler)),t.adler=1,n.status=Go,Zn(t),n.pending!==0)return n.last_flush=-1,_n}if(n.status===57){if(t.adler=0,te(n,31),te(n,139),te(n,8),n.gzhead)te(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),te(n,255&n.gzhead.time),te(n,n.gzhead.time>>8&255),te(n,n.gzhead.time>>16&255),te(n,n.gzhead.time>>24&255),te(n,n.level===9?2:n.strategy>=Zd||n.level<2?4:0),te(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(te(n,255&n.gzhead.extra.length),te(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=an(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(te(n,0),te(n,0),te(n,0),te(n,0),te(n,0),te(n,n.level===9?2:n.strategy>=Zd||n.level<2?4:0),te(n,3),n.status=Go,Zn(t),n.pending!==0)return n.last_flush=-1,_n}if(n.status===69){if(n.gzhead.extra){let r=n.pending,o=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+o>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>r&&(t.adler=an(t.adler,n.pending_buf,n.pending-r,r)),n.gzindex+=a,Zn(t),n.pending!==0)return n.last_flush=-1,_n;r=0,o-=a;}let s=new Uint8Array(n.gzhead.extra);n.pending_buf.set(s.subarray(n.gzindex,n.gzindex+o),n.pending),n.pending+=o,n.gzhead.hcrc&&n.pending>r&&(t.adler=an(t.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0;}n.status=73;}if(n.status===73){if(n.gzhead.name){let r,o=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>o&&(t.adler=an(t.adler,n.pending_buf,n.pending-o,o)),Zn(t),n.pending!==0)return n.last_flush=-1,_n;o=0;}r=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,te(n,r);}while(r!==0);n.gzhead.hcrc&&n.pending>o&&(t.adler=an(t.adler,n.pending_buf,n.pending-o,o)),n.gzindex=0;}n.status=91;}if(n.status===91){if(n.gzhead.comment){let r,o=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>o&&(t.adler=an(t.adler,n.pending_buf,n.pending-o,o)),Zn(t),n.pending!==0)return n.last_flush=-1,_n;o=0;}r=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,te(n,r);}while(r!==0);n.gzhead.hcrc&&n.pending>o&&(t.adler=an(t.adler,n.pending_buf,n.pending-o,o));}n.status=103;}if(n.status===103){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Zn(t),n.pending!==0))return n.last_flush=-1,_n;te(n,255&t.adler),te(n,t.adler>>8&255),t.adler=0;}if(n.status=Go,Zn(t),n.pending!==0)return n.last_flush=-1,_n}if(t.avail_in!==0||n.lookahead!==0||e!==co&&n.status!==tc){let r=n.level===0?W0(n,e):n.strategy===Zd?((o,s)=>{let a;for(;;){if(o.lookahead===0&&(ca(o),o.lookahead===0)){if(s===co)return 1;break}if(o.match_length=0,a=ao(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++,a&&(ti(o,!1),o.strm.avail_out===0))return 1}return o.insert=0,s===Ri?(ti(o,!0),o.strm.avail_out===0?3:4):o.sym_next&&(ti(o,!1),o.strm.avail_out===0)?1:2})(n,e):n.strategy===t3?((o,s)=>{let a,c,d,l,u=o.window;for(;;){if(o.lookahead<=jo){if(ca(o),o.lookahead<=jo&&s===co)return 1;if(o.lookahead===0)break}if(o.match_length=0,o.lookahead>=3&&o.strstart>0&&(d=o.strstart-1,c=u[d],c===u[++d]&&c===u[++d]&&c===u[++d])){l=o.strstart+jo;do;while(c===u[++d]&&c===u[++d]&&c===u[++d]&&c===u[++d]&&c===u[++d]&&c===u[++d]&&c===u[++d]&&c===u[++d]&&d<l);o.match_length=jo-(l-d),o.match_length>o.lookahead&&(o.match_length=o.lookahead);}if(o.match_length>=3?(a=ao(o,1,o.match_length-3),o.lookahead-=o.match_length,o.strstart+=o.match_length,o.match_length=0):(a=ao(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++),a&&(ti(o,!1),o.strm.avail_out===0))return 1}return o.insert=0,s===Ri?(ti(o,!0),o.strm.avail_out===0?3:4):o.sym_next&&(ti(o,!1),o.strm.avail_out===0)?1:2})(n,e):ec[n.level].func(n,e);if(r!==3&&r!==4||(n.status=tc),r===1||r===3)return t.avail_out===0&&(n.last_flush=-1),_n;if(r===2&&(e===JW?zW(n):e!==sA&&(Em(n,0,0,!1),e===XW&&(Qr(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Zn(t),t.avail_out===0))return n.last_flush=-1,_n}return e!==Ri?_n:n.wrap<=0?aA:(n.wrap===2?(te(n,255&t.adler),te(n,t.adler>>8&255),te(n,t.adler>>16&255),te(n,t.adler>>24&255),te(n,255&t.total_in),te(n,t.total_in>>8&255),te(n,t.total_in>>16&255),te(n,t.total_in>>24&255)):(ja(n,t.adler>>>16),ja(n,65535&t.adler)),Zn(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?_n:aA)},u3=(t,e)=>{let n=e.length;if(Wc(t))return dr;let i=t.state,r=i.wrap;if(r===2||r===1&&i.status!==aa||i.lookahead)return dr;if(r===1&&(t.adler=Gc(t.adler,e,n,0)),i.wrap=0,n>=i.w_size){r===0&&(Qr(i.head),i.strstart=0,i.block_start=0,i.insert=0);let c=new Uint8Array(i.w_size);c.set(e.subarray(n-i.w_size,n),0),e=c,n=i.w_size;}let o=t.avail_in,s=t.next_in,a=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,ca(i);i.lookahead>=3;){let c=i.strstart,d=i.lookahead-2;do i.ins_h=lo(i,i.ins_h,i.window[c+3-1]),i.prev[c&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=c,c++;while(--d);i.strstart=c,i.lookahead=2,ca(i);}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,t.next_in=s,t.input=a,t.avail_in=o,i.wrap=r,_n},pc={deflateInit:(t,e)=>dA(t,e,th,15,8,n3),deflateInit2:dA,deflateReset:K0,deflateResetKeep:H0,deflateSetHeader:(t,e)=>Wc(t)||t.state.wrap!==2?dr:(t.state.gzhead=e,_n),deflate:l3,deflateEnd:t=>{if(Wc(t))return dr;let e=t.state.status;return t.state=null,e===Go?Wo(t,QW):_n},deflateSetDictionary:u3,deflateInfo:\"pako deflate (from Nodeca project)\"},h3=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),eh={assign:function(t){let e=Array.prototype.slice.call(arguments,1);for(;e.length;){let n=e.shift();if(n){if(typeof n!=\"object\")throw new TypeError(n+\"must be non-object\");for(let i in n)h3(n,i)&&(t[i]=n[i]);}}return t},flattenChunks:t=>{let e=0;for(let i=0,r=t.length;i<r;i++)e+=t[i].length;let n=new Uint8Array(e);for(let i=0,r=0,o=t.length;i<o;i++){let s=t[i];n.set(s,r),r+=s.length;}return n}},Y0=!0;try{String.fromCharCode.apply(null,new Uint8Array(1));}catch{Y0=!1;}var Hc=new Uint8Array(256);for(let t=0;t<256;t++)Hc[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Hc[254]=Hc[254]=1;var Kc={string2buf:t=>{if(typeof TextEncoder==\"function\"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,i,r,o,s=t.length,a=0;for(r=0;r<s;r++)n=t.charCodeAt(r),(64512&n)==55296&&r+1<s&&(i=t.charCodeAt(r+1),(64512&i)==56320&&(n=65536+(n-55296<<10)+(i-56320),r++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),o=0,r=0;o<a;r++)n=t.charCodeAt(r),(64512&n)==55296&&r+1<s&&(i=t.charCodeAt(r+1),(64512&i)==56320&&(n=65536+(n-55296<<10)+(i-56320),r++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|63&n):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e},buf2string:(t,e)=>{let n=e||t.length;if(typeof TextDecoder==\"function\"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let i,r,o=new Array(2*n);for(r=0,i=0;i<n;){let s=t[i++];if(s<128){o[r++]=s;continue}let a=Hc[s];if(a>4)o[r++]=65533,i+=a-1;else {for(s&=a===2?31:a===3?15:7;a>1&&i<n;)s=s<<6|63&t[i++],a--;a>1?o[r++]=65533:s<65536?o[r++]=s:(s-=65536,o[r++]=55296|s>>10&1023,o[r++]=56320|1023&s);}}return ((s,a)=>{if(a<65534&&s.subarray&&Y0)return String.fromCharCode.apply(null,s.length===a?s:s.subarray(0,a));let c=\"\";for(let d=0;d<a;d++)c+=String.fromCharCode(s[d]);return c})(o,r)},utf8border:(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(192&t[n])==128;)n--;return n<0||n===0?e:n+Hc[t[n]]>e?n:e}},q0=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0;},z0=Object.prototype.toString,{Z_NO_FLUSH:p3,Z_SYNC_FLUSH:_3,Z_FULL_FLUSH:E3,Z_FINISH:m3,Z_OK:Cu,Z_STREAM_END:f3,Z_DEFAULT_COMPRESSION:g3,Z_DEFAULT_STRATEGY:T3,Z_DEFLATED:S3}=Ra;function _c(t){this.options=eh.assign({level:g3,method:S3,chunkSize:16384,windowBits:15,memLevel:8,strategy:T3},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new q0,this.strm.avail_out=0;let n=pc.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==Cu)throw new Error(Zo[n]);if(e.header&&pc.deflateSetHeader(this.strm,e.header),e.dictionary){let i;if(i=typeof e.dictionary==\"string\"?Kc.string2buf(e.dictionary):z0.call(e.dictionary)===\"[object ArrayBuffer]\"?new Uint8Array(e.dictionary):e.dictionary,n=pc.deflateSetDictionary(this.strm,i),n!==Cu)throw new Error(Zo[n]);this._dict_set=!0;}}function N_(t,e){let n=new _c(e);if(n.push(t,!0),n.err)throw n.msg||Zo[n.err];return n.result}_c.prototype.push=function(t,e){let n=this.strm,i=this.options.chunkSize,r,o;if(this.ended)return !1;for(o=e===~~e?e:e===!0?m3:p3,typeof t==\"string\"?n.input=Kc.string2buf(t):z0.call(t)===\"[object ArrayBuffer]\"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;)if(n.avail_out===0&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),(o===_3||o===E3)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else {if(r=pc.deflate(n,o),r===f3)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),r=pc.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===Cu;if(n.avail_out!==0){if(o>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(n.avail_in===0)break}else this.onData(n.output);}return !0},_c.prototype.onData=function(t){this.chunks.push(t);},_c.prototype.onEnd=function(t){t===Cu&&(this.result=eh.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg;};var R3={Deflate:_c,deflate:N_,deflateRaw:function(t,e){return (e=e||{}).raw=!0,N_(t,e)},gzip:function(t,e){return (e=e||{}).gzip=!0,N_(t,e)},constants:Ra},$d=16209,C3=function(t,e){let n,i,r,o,s,a,c,d,l,u,h,p,g,E,f,S,C,A,b,w,D,k,B,V,z=t.state;n=t.next_in,B=t.input,i=n+(t.avail_in-5),r=t.next_out,V=t.output,o=r-(e-t.avail_out),s=r+(t.avail_out-257),a=z.dmax,c=z.wsize,d=z.whave,l=z.wnext,u=z.window,h=z.hold,p=z.bits,g=z.lencode,E=z.distcode,f=(1<<z.lenbits)-1,S=(1<<z.distbits)-1;t:do{p<15&&(h+=B[n++]<<p,p+=8,h+=B[n++]<<p,p+=8),C=g[h&f];e:for(;;){if(A=C>>>24,h>>>=A,p-=A,A=C>>>16&255,A===0)V[r++]=65535&C;else {if(!(16&A)){if(!(64&A)){C=g[(65535&C)+(h&(1<<A)-1)];continue e}if(32&A){z.mode=16191;break t}t.msg=\"invalid literal/length code\",z.mode=$d;break t}b=65535&C,A&=15,A&&(p<A&&(h+=B[n++]<<p,p+=8),b+=h&(1<<A)-1,h>>>=A,p-=A),p<15&&(h+=B[n++]<<p,p+=8,h+=B[n++]<<p,p+=8),C=E[h&S];n:for(;;){if(A=C>>>24,h>>>=A,p-=A,A=C>>>16&255,!(16&A)){if(!(64&A)){C=E[(65535&C)+(h&(1<<A)-1)];continue n}t.msg=\"invalid distance code\",z.mode=$d;break t}if(w=65535&C,A&=15,p<A&&(h+=B[n++]<<p,p+=8,p<A&&(h+=B[n++]<<p,p+=8)),w+=h&(1<<A)-1,w>a){t.msg=\"invalid distance too far back\",z.mode=$d;break t}if(h>>>=A,p-=A,A=r-o,w>A){if(A=w-A,A>d&&z.sane){t.msg=\"invalid distance too far back\",z.mode=$d;break t}if(D=0,k=u,l===0){if(D+=c-A,A<b){b-=A;do V[r++]=u[D++];while(--A);D=r-w,k=V;}}else if(l<A){if(D+=c+l-A,A-=l,A<b){b-=A;do V[r++]=u[D++];while(--A);if(D=0,l<b){A=l,b-=A;do V[r++]=u[D++];while(--A);D=r-w,k=V;}}}else if(D+=l-A,A<b){b-=A;do V[r++]=u[D++];while(--A);D=r-w,k=V;}for(;b>2;)V[r++]=k[D++],V[r++]=k[D++],V[r++]=k[D++],b-=3;b&&(V[r++]=k[D++],b>1&&(V[r++]=k[D++]));}else {D=r-w;do V[r++]=V[D++],V[r++]=V[D++],V[r++]=V[D++],b-=3;while(b>2);b&&(V[r++]=V[D++],b>1&&(V[r++]=V[D++]));}break}}break}}while(n<i&&r<s);b=p>>3,n-=b,p-=b<<3,h&=(1<<p)-1,t.next_in=n,t.next_out=r,t.avail_in=n<i?i-n+5:5-(n-i),t.avail_out=r<s?s-r+257:257-(r-s),z.hold=h,z.bits=p;},tl=15,I3=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),v3=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),y3=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),A3=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Ec=(t,e,n,i,r,o,s,a)=>{let c=a.bits,d,l,u,h,p,g,E=0,f=0,S=0,C=0,A=0,b=0,w=0,D=0,k=0,B=0,V=null,z=new Uint16Array(16),lt=new Uint16Array(16),vt,Dt,ce,Wt=null;for(E=0;E<=tl;E++)z[E]=0;for(f=0;f<i;f++)z[e[n+f]]++;for(A=c,C=tl;C>=1&&z[C]===0;C--);if(A>C&&(A=C),C===0)return r[o++]=20971520,r[o++]=20971520,a.bits=1,0;for(S=1;S<C&&z[S]===0;S++);for(A<S&&(A=S),D=1,E=1;E<=tl;E++)if(D<<=1,D-=z[E],D<0)return -1;if(D>0&&(t===0||C!==1))return -1;for(lt[1]=0,E=1;E<tl;E++)lt[E+1]=lt[E]+z[E];for(f=0;f<i;f++)e[n+f]!==0&&(s[lt[e[n+f]]++]=f);if(t===0?(V=Wt=s,g=20):t===1?(V=I3,Wt=v3,g=257):(V=y3,Wt=A3,g=0),B=0,f=0,E=S,p=o,b=A,w=0,u=-1,k=1<<A,h=k-1,t===1&&k>852||t===2&&k>592)return 1;for(;;){vt=E-w,s[f]+1<g?(Dt=0,ce=s[f]):s[f]>=g?(Dt=Wt[s[f]-g],ce=V[s[f]-g]):(Dt=96,ce=0),d=1<<E-w,l=1<<b,S=l;do l-=d,r[p+(B>>w)+l]=vt<<24|Dt<<16|ce|0;while(l!==0);for(d=1<<E-1;B&d;)d>>=1;if(d!==0?(B&=d-1,B+=d):B=0,f++,--z[E]==0){if(E===C)break;E=e[n+s[f]];}if(E>A&&(B&h)!==u){for(w===0&&(w=A),p+=S,b=E-w,D=1<<b;b+w<C&&(D-=z[b+w],!(D<=0));)b++,D<<=1;if(k+=1<<b,t===1&&k>852||t===2&&k>592)return 1;u=B&h,r[u]=A<<24|b<<16|p-o|0;}}return B!==0&&(r[p+B]=E-w<<24|64<<16|0),a.bits=A,0},{Z_FINISH:lA,Z_BLOCK:b3,Z_TREES:el,Z_OK:Yo,Z_STREAM_END:w3,Z_NEED_DICT:O3,Z_STREAM_ERROR:Ci,Z_DATA_ERROR:J0,Z_MEM_ERROR:X0,Z_BUF_ERROR:N3,Z_DEFLATED:uA}=Ra,nh=16180,Iu=16190,Cr=16191,D_=16192,P_=16194,nl=16199,il=16200,k_=16206,be=16209,hA=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function D3(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0;}var qo=t=>{if(!t)return 1;let e=t.state;return !e||e.strm!==t||e.mode<nh||e.mode>16211?1:0},Q0=t=>{if(qo(t))return Ci;let e=t.state;return t.total_in=t.total_out=e.total=0,t.msg=\"\",e.wrap&&(t.adler=1&e.wrap),e.mode=nh,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,Yo},Z0=t=>{if(qo(t))return Ci;let e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Q0(t)},$0=(t,e)=>{let n;if(qo(t))return Ci;let i=t.state;return e<0?(n=0,e=-e):(n=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?Ci:(i.window!==null&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,Z0(t))},pA=(t,e)=>{if(!t)return Ci;let n=new D3;t.state=n,n.strm=t,n.window=null,n.mode=nh;let i=$0(t,e);return i!==Yo&&(t.state=null),i},L_,M_,_A=!0,P3=t=>{if(_A){L_=new Int32Array(512),M_=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Ec(1,t.lens,0,288,L_,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Ec(2,t.lens,0,32,M_,0,t.work,{bits:5}),_A=!1;}t.lencode=L_,t.lenbits=9,t.distcode=M_,t.distbits=5;},tN=(t,e,n,i)=>{let r,o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(r=o.wsize-o.wnext,r>i&&(r=i),o.window.set(e.subarray(n-i,n-i+r),o.wnext),(i-=r)?(o.window.set(e.subarray(n-i,n),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0},k3=(t,e)=>{let n,i,r,o,s,a,c,d,l,u,h,p,g,E,f,S,C,A,b,w,D,k,B=0,V=new Uint8Array(4),z,lt,vt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(qo(t)||!t.output||!t.input&&t.avail_in!==0)return Ci;n=t.state,n.mode===Cr&&(n.mode=D_),s=t.next_out,r=t.output,c=t.avail_out,o=t.next_in,i=t.input,a=t.avail_in,d=n.hold,l=n.bits,u=a,h=c,k=Yo;t:for(;;)switch(n.mode){case nh:if(n.wrap===0){n.mode=D_;break}for(;l<16;){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}if(2&n.wrap&&d===35615){n.wbits===0&&(n.wbits=15),n.check=0,V[0]=255&d,V[1]=d>>>8&255,n.check=an(n.check,V,2,0),d=0,l=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&d)<<8)+(d>>8))%31){t.msg=\"incorrect header check\",n.mode=be;break}if((15&d)!==uA){t.msg=\"unknown compression method\",n.mode=be;break}if(d>>>=4,l-=4,D=8+(15&d),n.wbits===0&&(n.wbits=D),D>15||D>n.wbits){t.msg=\"invalid window size\",n.mode=be;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=512&d?16189:Cr,d=0,l=0;break;case 16181:for(;l<16;){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}if(n.flags=d,(255&en(n))!==uA){t.msg=\"unknown compression method\",n.mode=be;break}if(57344&en(n)){t.msg=\"unknown header flags set\",n.mode=be;break}n.head&&(n.head.text=d>>8&1),512&en(n)&&4&n.wrap&&(V[0]=255&d,V[1]=d>>>8&255,n.check=an(n.check,V,2,0)),d=0,l=0,n.mode=16182;case 16182:for(;l<32;){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}n.head&&(n.head.time=d),512&en(n)&&4&n.wrap&&(V[0]=255&d,V[1]=d>>>8&255,V[2]=d>>>16&255,V[3]=d>>>24&255,n.check=an(n.check,V,4,0)),d=0,l=0,n.mode=16183;case 16183:for(;l<16;){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}n.head&&(n.head.xflags=255&d,n.head.os=d>>8),512&en(n)&&4&n.wrap&&(V[0]=255&d,V[1]=d>>>8&255,n.check=an(n.check,V,2,0)),d=0,l=0,n.mode=16184;case 16184:if(1024&en(n)){for(;l<16;){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}n.length=d,n.head&&(n.head.extra_len=d),512&en(n)&&4&n.wrap&&(V[0]=255&d,V[1]=d>>>8&255,n.check=an(n.check,V,2,0)),d=0,l=0;}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&en(n)&&(p=n.length,p>a&&(p=a),p&&(n.head&&(D=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(o,o+p),D)),512&en(n)&&4&n.wrap&&(n.check=an(n.check,i,p,o)),a-=p,o+=p,n.length-=p),n.length))break t;n.length=0,n.mode=16186;case 16186:if(2048&en(n)){if(a===0)break t;p=0;do D=i[o+p++],n.head&&D&&n.length<65536&&(n.head.name+=String.fromCharCode(D));while(D&&p<a);if(512&en(n)&&4&n.wrap&&(n.check=an(n.check,i,p,o)),a-=p,o+=p,D)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&en(n)){if(a===0)break t;p=0;do D=i[o+p++],n.head&&D&&n.length<65536&&(n.head.comment+=String.fromCharCode(D));while(D&&p<a);if(512&en(n)&&4&n.wrap&&(n.check=an(n.check,i,p,o)),a-=p,o+=p,D)break t}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&en(n)){for(;l<16;){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}if(4&n.wrap&&d!==(65535&n.check)){t.msg=\"header crc mismatch\",n.mode=be;break}d=0,l=0;}n.head&&(n.head.hcrc=en(n)>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Cr;break;case 16189:for(;l<32;){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}t.adler=n.check=hA(d),d=0,l=0,n.mode=Iu;case Iu:if(n.havedict===0)return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=d,n.bits=l,O3;t.adler=n.check=1,n.mode=Cr;case Cr:if(e===b3||e===el)break t;case D_:if(n.last){d>>>=7&l,l-=7&l,n.mode=k_;break}for(;l<3;){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}switch(n.last=1&d,d>>>=1,l-=1,3&d){case 0:n.mode=16193;break;case 1:if(P3(n),n.mode=nl,e===el){d>>>=2,l-=2;break t}break;case 2:n.mode=16196;break;case 3:t.msg=\"invalid block type\",n.mode=be;}d>>>=2,l-=2;break;case 16193:for(d>>>=7&l,l-=7&l;l<32;){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}if((65535&d)!=(d>>>16^65535)){t.msg=\"invalid stored block lengths\",n.mode=be;break}if(n.length=65535&d,d=0,l=0,n.mode=P_,e===el)break t;case P_:n.mode=16195;case 16195:if(p=n.length,p){if(p>a&&(p=a),p>c&&(p=c),p===0)break t;r.set(i.subarray(o,o+p),s),a-=p,o+=p,c-=p,s+=p,n.length-=p;break}n.mode=Cr;break;case 16196:for(;l<14;){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}if(n.nlen=257+(31&d),d>>>=5,l-=5,n.ndist=1+(31&d),d>>>=5,l-=5,n.ncode=4+(15&d),d>>>=4,l-=4,n.nlen>286||n.ndist>30){t.msg=\"too many length or distance symbols\",n.mode=be;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;l<3;){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}n.lens[vt[n.have++]]=7&d,d>>>=3,l-=3;}for(;n.have<19;)n.lens[vt[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,z={bits:n.lenbits},k=Ec(0,n.lens,0,19,n.lencode,0,n.work,z),n.lenbits=z.bits,k){t.msg=\"invalid code lengths set\",n.mode=be;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;B=n.lencode[d&(1<<n.lenbits)-1],f=B>>>24,S=B>>>16&255,C=65535&B,!(f<=l);){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}if(C<16)d>>>=f,l-=f,n.lens[n.have++]=C;else {if(C===16){for(lt=f+2;l<lt;){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}if(d>>>=f,l-=f,n.have===0){t.msg=\"invalid bit length repeat\",n.mode=be;break}D=n.lens[n.have-1],p=3+(3&d),d>>>=2,l-=2;}else if(C===17){for(lt=f+3;l<lt;){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}d>>>=f,l-=f,D=0,p=3+(7&d),d>>>=3,l-=3;}else {for(lt=f+7;l<lt;){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}d>>>=f,l-=f,D=0,p=11+(127&d),d>>>=7,l-=7;}if(n.have+p>n.nlen+n.ndist){t.msg=\"invalid bit length repeat\",n.mode=be;break}for(;p--;)n.lens[n.have++]=D;}}if(n.mode===be)break;if(n.lens[256]===0){t.msg=\"invalid code -- missing end-of-block\",n.mode=be;break}if(n.lenbits=9,z={bits:n.lenbits},k=Ec(1,n.lens,0,n.nlen,n.lencode,0,n.work,z),n.lenbits=z.bits,k){t.msg=\"invalid literal/lengths set\",n.mode=be;break}if(n.distbits=6,n.distcode=n.distdyn,z={bits:n.distbits},k=Ec(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,z),n.distbits=z.bits,k){t.msg=\"invalid distances set\",n.mode=be;break}if(n.mode=nl,e===el)break t;case nl:n.mode=il;case il:if(a>=6&&c>=258){t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=d,n.bits=l,C3(t,h),s=t.next_out,r=t.output,c=t.avail_out,o=t.next_in,i=t.input,a=t.avail_in,d=n.hold,l=n.bits,n.mode===Cr&&(n.back=-1);break}for(n.back=0;B=n.lencode[d&(1<<n.lenbits)-1],f=B>>>24,S=B>>>16&255,C=65535&B,!(f<=l);){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}if(S&&!(240&S)){for(A=f,b=S,w=C;B=n.lencode[w+((d&(1<<A+b)-1)>>A)],f=B>>>24,S=B>>>16&255,C=65535&B,!(A+f<=l);){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}d>>>=A,l-=A,n.back+=A;}if(d>>>=f,l-=f,n.back+=f,n.length=C,S===0){n.mode=16205;break}if(32&S){n.back=-1,n.mode=Cr;break}if(64&S){t.msg=\"invalid literal/length code\",n.mode=be;break}n.extra=15&S,n.mode=16201;case 16201:if(n.extra){for(lt=n.extra;l<lt;){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}n.length+=d&(1<<n.extra)-1,d>>>=n.extra,l-=n.extra,n.back+=n.extra;}n.was=n.length,n.mode=16202;case 16202:for(;B=n.distcode[d&(1<<n.distbits)-1],f=B>>>24,S=B>>>16&255,C=65535&B,!(f<=l);){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}if(!(240&S)){for(A=f,b=S,w=C;B=n.distcode[w+((d&(1<<A+b)-1)>>A)],f=B>>>24,S=B>>>16&255,C=65535&B,!(A+f<=l);){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}d>>>=A,l-=A,n.back+=A;}if(d>>>=f,l-=f,n.back+=f,64&S){t.msg=\"invalid distance code\",n.mode=be;break}n.offset=C,n.extra=15&S,n.mode=16203;case 16203:if(n.extra){for(lt=n.extra;l<lt;){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}n.offset+=d&(1<<n.extra)-1,d>>>=n.extra,l-=n.extra,n.back+=n.extra;}if(n.offset>n.dmax){t.msg=\"invalid distance too far back\",n.mode=be;break}n.mode=16204;case 16204:if(c===0)break t;if(p=h-c,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){t.msg=\"invalid distance too far back\",n.mode=be;break}p>n.wnext?(p-=n.wnext,g=n.wsize-p):g=n.wnext-p,p>n.length&&(p=n.length),E=n.window;}else E=r,g=s-n.offset,p=n.length;p>c&&(p=c),c-=p,n.length-=p;do r[s++]=E[g++];while(--p);n.length===0&&(n.mode=il);break;case 16205:if(c===0)break t;r[s++]=n.length,c--,n.mode=il;break;case k_:if(n.wrap){for(;l<32;){if(a===0)break t;a--,d|=i[o++]<<l,l+=8;}if(h-=c,t.total_out+=h,n.total+=h,4&n.wrap&&h&&(t.adler=n.check=en(n)?an(n.check,r,h,s-h):Gc(n.check,r,h,s-h)),h=c,4&n.wrap&&(en(n)?d:hA(d))!==n.check){t.msg=\"incorrect data check\",n.mode=be;break}d=0,l=0;}n.mode=16207;case 16207:if(n.wrap&&en(n)){for(;l<32;){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}if(4&n.wrap&&d!==(4294967295&n.total)){t.msg=\"incorrect length check\",n.mode=be;break}d=0,l=0;}n.mode=16208;case 16208:k=w3;break t;case be:k=J0;break t;case 16210:return X0;default:return Ci}return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=d,n.bits=l,(n.wsize||h!==t.avail_out&&n.mode<be&&(n.mode<k_||e!==lA))&&tN(t,t.output,t.next_out,h-t.avail_out),u-=t.avail_in,h-=t.avail_out,t.total_in+=u,t.total_out+=h,n.total+=h,4&n.wrap&&h&&(t.adler=n.check=en(n)?an(n.check,r,h,t.next_out-h):Gc(n.check,r,h,t.next_out-h)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Cr?128:0)+(n.mode===nl||n.mode===P_?256:0),(u===0&&h===0||e===lA)&&k===Yo&&(k=N3),k},Or={inflateReset:Z0,inflateReset2:$0,inflateResetKeep:Q0,inflateInit:t=>pA(t,15),inflateInit2:pA,inflate:k3,inflateEnd:t=>{if(qo(t))return Ci;let e=t.state;return e.window&&(e.window=null),t.state=null,Yo},inflateGetHeader:(t,e)=>{if(qo(t))return Ci;let n=t.state;return 2&n.wrap?(n.head=e,e.done=!1,Yo):Ci},inflateSetDictionary:(t,e)=>{let n=e.length,i,r,o;return qo(t)?Ci:(i=t.state,i.wrap!==0&&i.mode!==Iu?Ci:i.mode===Iu&&(r=1,r=Gc(r,e,n,0),r!==i.check)?J0:(o=tN(t,e,n,n),o?(i.mode=16210,X0):(i.havedict=1,Yo)))},inflateInfo:\"pako inflate (from Nodeca project)\"},L3=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\"\",this.comment=\"\",this.hcrc=0,this.done=!1;},eN=Object.prototype.toString,{Z_NO_FLUSH:M3,Z_FINISH:U3,Z_OK:mc,Z_STREAM_END:U_,Z_NEED_DICT:x_,Z_STREAM_ERROR:x3,Z_DATA_ERROR:EA,Z_MEM_ERROR:V3}=Ra;function fc(t){this.options=eh.assign({chunkSize:65536,windowBits:15,to:\"\"},t||{});let e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&!(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new q0,this.strm.avail_out=0;let n=Or.inflateInit2(this.strm,e.windowBits);if(n!==mc)throw new Error(Zo[n]);if(this.header=new L3,Or.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary==\"string\"?e.dictionary=Kc.string2buf(e.dictionary):eN.call(e.dictionary)===\"[object ArrayBuffer]\"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Or.inflateSetDictionary(this.strm,e.dictionary),n!==mc)))throw new Error(Zo[n])}function V_(t,e){let n=new fc(e);if(n.push(t),n.err)throw n.msg||Zo[n.err];return n.result}fc.prototype.push=function(t,e){let n=this.strm,i=this.options.chunkSize,r=this.options.dictionary,o,s,a;if(this.ended)return !1;for(s=e===~~e?e:e===!0?U3:M3,eN.call(t)===\"[object ArrayBuffer]\"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),o=Or.inflate(n,s),o===x_&&r&&(o=Or.inflateSetDictionary(n,r),o===mc?o=Or.inflate(n,s):o===EA&&(o=x_));n.avail_in>0&&o===U_&&n.state.wrap>0&&t[n.next_in]!==0;)Or.inflateReset(n),o=Or.inflate(n,s);switch(o){case x3:case EA:case x_:case V3:return this.onEnd(o),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||o===U_))if(this.options.to===\"string\"){let c=Kc.utf8border(n.output,n.next_out),d=n.next_out-c,l=Kc.buf2string(n.output,c);n.next_out=d,n.avail_out=i-d,d&&n.output.set(n.output.subarray(c,c+d),0),this.onData(l);}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(o!==mc||a!==0){if(o===U_)return o=Or.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return !0},fc.prototype.onData=function(t){this.chunks.push(t);},fc.prototype.onEnd=function(t){t===mc&&(this.options.to===\"string\"?this.result=this.chunks.join(\"\"):this.result=eh.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg;};var F3={Inflate:fc,inflate:V_,inflateRaw:function(t,e){return (e=e||{}).raw=!0,V_(t,e)},ungzip:V_,constants:Ra},{Deflate:$H,deflate:B3,deflateRaw:t5,gzip:e5}=R3,{Inflate:n5,inflate:j3,inflateRaw:i5,ungzip:r5}=F3,G3=B3,W3=j3,nN=function(t){return t[t.ONE_BYTE=0]=\"ONE_BYTE\",t[t.TWO_BYTE=1]=\"TWO_BYTE\",t}(nN||{}),gm=class{constructor(){T(this,\"_sequence\",0),T(this,\"_startTime\",Date.now()),T(this,\"isUseOneByte\",!0);}get startTime(){let e=Date.now()-this._startTime;return e<Math.pow(2,16)?e:(this._startTime+=Math.pow(2,16),this.startTime)}get sequence(){return this._sequence<Math.pow(2,32)?this._sequence++:(this._sequence-=Math.pow(2,32),this.sequence)}serialize(e){let n={commonPacketHeader:{length:0,reserved:0,extension:0,sequence:this.sequence},commonStreamHeader:this.startTime,extension:void 0,payload:e};if(e.byteLength>128){let a=new Uint8Array(4);a.set([1,0,0,0]);let c={id:0,length:4,data:a.buffer},d={profile:this.isUseOneByte?0:1,length:this.isUseOneByte?5:6,datas:[c]};n.commonPacketHeader.extension=1,n.extension=d,n.payload=this.compress(e),n.commonPacketHeader.length=8+(n.extension.length+2)+n.payload.byteLength;}else n.commonPacketHeader.length=8+n.payload.byteLength;v(\"SHOW_DATASTREAM2_LOG\")&&_.debug(\"send data header: \".concat(JSON.stringify(n.commonPacketHeader)));let i=new ArrayBuffer(n.commonPacketHeader.length),r=new Uint8Array(i),o=new DataView(i),s=0;if(o.setUint16(s,n.commonPacketHeader.extension<<15|n.commonPacketHeader.reserved<<14|n.commonPacketHeader.length,!0),s+=2,o.setUint32(s,n.commonPacketHeader.sequence,!0),s+=4,o.setUint16(s,n.commonStreamHeader,!0),s+=2,n.extension){let a=this.serializeExtension(n.extension);r.set(new Uint8Array(a),s),s+=a.byteLength;}if(r.set(new Uint8Array(n.payload),s),s+=n.payload.byteLength,s!==n.commonPacketHeader.length)throw Error(\"serialize error!\");return i}deserialize(e){if(e.byteLength<4)return new ArrayBuffer(0);let n=new DataView(e),i=0,r=n.getUint16(i,!0);i+=2;let o={length:16383&r,reserved:(16384&r)>>14,extension:(32768&r)>>15,sequence:n.getUint16(i+2,!0)<<16|n.getUint16(i,!0)},s,a;if(i+=4,v(\"SHOW_DATASTREAM2_LOG\")&&_.debug(\"receive data header: \".concat(JSON.stringify(o))),n.getUint16(i,!0),i+=2,o.extension){a=this.deserializeExtension(e.slice(i)),i+=2+a.length,s=e.slice(i);let c=!1;if(a.datas.length>0){let d=a.datas.find(l=>l.id===0);d&&(c=(1&new DataView(d.data).getUint32(0,!0))==1);}s=c?this.decompress(s):s;}else s=e.slice(8);return s}serializeExtension(e){let{profile:n,length:i,datas:r}=e,o=new ArrayBuffer(i+2),s=new Uint8Array(o),a=new DataView(o),c=0;if(a.setUint8(c++,n),a.setUint8(c++,i),r.forEach(d=>{n?(a.setUint8(c++,d.id),a.setUint8(c++,d.length),s.set(new Uint8Array(d.data),c),c+=d.data.byteLength):(a.setUint8(c++,d.id|d.length<<4),s.set(new Uint8Array(d.data),c),c+=d.data.byteLength);}),c!==i+2)throw Error(\"serialize extension error, is \".concat(c,\"!==\").concat(i+2));return o}deserializeExtension(e){let n=new DataView(e),i=0,r=n.getUint8(i);i++;let o=n.getUint8(i);i++;let s=r===nN.TWO_BYTE,a=[],c=new DataView(e,2),d=0;for(;d<o;){let l=0,u=0,h=new ArrayBuffer(0);s?(l=c.getUint8(d),d++,u=c.getUint8(d),d++):(l=15&c.getUint8(d),u=c.getUint8(d)>>4,d++),u>0&&(h=c.buffer.slice(d+2,d+2+u),d+=h.byteLength),a.push({id:l,length:u,data:h});}if(d!==o)throw Error(\"parse error\");return {profile:r,length:o,datas:a}}decompress(e){return W3(new Uint8Array(e))}compress(e){return G3(new Uint8Array(e))}},H3={name:\"DataStream\",create:(t,e)=>{let n=e?new QE(t):new ZE(t);return n.useDataStream(new gm),n}},Tm=class extends Xt{constructor(e,n,i){super(),T(this,\"ws\",void 0),T(this,\"requestId\",1),T(this,\"heartBeatTimer\",void 0),T(this,\"joinInfo\",void 0),T(this,\"clientId\",void 0),T(this,\"onOpen\",()=>{this.emit(\"open\"),this.startHeartBeatCheck();}),T(this,\"onClose\",r=>{this.emit(\"close\"),this.dispose();}),T(this,\"onMessage\",r=>{let o=JSON.parse(r.data);if(!o||o.command!==\"serverResponse\"||!o.requestId)return o&&o.command===\"serverStatus\"&&o.serverStatus&&o.serverStatus.command?(this.emit(\"status\",o.serverStatus),void this.emit(o.serverStatus.command,o.serverStatus)):void 0;this.emit(\"req_\".concat(o.requestId),o);}),this.joinInfo=e,this.clientId=n,this.ws=new Qo(\"cross-channel-\".concat(this.clientId),i),this.ws.on(it.RECONNECTING,()=>{this.ws.reconnectMode=\"retry\",this.emit(\"reconnecting\");}),this.ws.on(it.CONNECTED,this.onOpen),this.ws.on(it.ON_MESSAGE,this.onMessage),this.ws.on(it.CLOSED,this.onClose);}isConnect(){return this.ws.state===\"connected\"}sendMessage(e){let n=this.requestId++;return e.requestId=n,e.seq=n,this.ws.sendMessage(e),n}waitStatus(e){return new j((n,i)=>{let r=window.setTimeout(()=>{i(new O(R.TIMEOUT,\"wait status timeout, status: \".concat(e)));},5e3);this.once(e,o=>{window.clearTimeout(r),o.state&&o.state!==0?i(new O(R.CROSS_CHANNEL_WAIT_STATUS_ERROR,\"wait status error, status: \".concat(e))):n(void 0);}),this.once(\"dispose\",()=>{window.clearTimeout(r),i(new O(R.WS_ABORT));});})}async request(e){if(this.ws.state===\"closed\")throw new O(R.WS_DISCONNECT);let n=()=>new j((s,a)=>{this.ws.once(it.CLOSED,()=>a(new O(R.WS_ABORT))),this.ws.once(it.CONNECTED,s);});this.ws.state!==\"connected\"&&await n();let i=this.sendMessage(e),r=new j((s,a)=>{let c=()=>{a(new O(R.WS_ABORT));};this.ws.once(it.RECONNECTING,c),this.ws.once(it.CLOSED,c),this.once(\"req_\".concat(i),s),Me(3e3).then(()=>{this.removeAllListeners(\"req_\".concat(i)),this.ws.off(it.RECONNECTING,c),this.ws.off(it.CLOSED,c),a(new O(R.TIMEOUT,\"cross channel ws request timeout\"));});}),o=await r;if(!o||o.code!==200)throw new O(R.CROSS_CHANNEL_SERVER_ERROR_RESPONSE,\"response: \".concat(JSON.stringify(o)));return o}async connect(e){this.ws.removeAllListeners(it.REQUEST_NEW_URLS),this.ws.on(it.REQUEST_NEW_URLS,n=>{n(e);}),await this.ws.init(e);}dispose(){this.clearHeartBeatCheck(),this.emit(\"dispose\"),this.removeAllListeners(),this.ws.close();}sendPing(e){let n=this.requestId++;return e.requestId=n,this.ws.sendMessage(e),n}startHeartBeatCheck(){this.heartBeatTimer&&window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=window.setInterval(()=>{this.sendPing({command:\"ping\",appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sid:this.joinInfo.sid,ts:+new Date,requestId:0});},3e3);}clearHeartBeatCheck(){window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=void 0;}},Sm=class extends Xt{set state(e){e!==this._state&&(e!==Sn.RELAY_STATE_FAILURE&&(this.errorCode=ys.RELAY_OK),this.emit(\"state\",e,this.errorCode),this._state=e);}get state(){return this._state}constructor(e,n,i,r,o){super(),T(this,\"joinInfo\",void 0),T(this,\"sid\",void 0),T(this,\"clientId\",void 0),T(this,\"cancelToken\",mn.CancelToken.source()),T(this,\"workerToken\",void 0),T(this,\"requestId\",0),T(this,\"signal\",void 0),T(this,\"prevChannelMediaConfig\",void 0),T(this,\"httpRetryConfig\",void 0),T(this,\"_resolution\",void 0),T(this,\"_state\",Sn.RELAY_STATE_IDLE),T(this,\"errorCode\",ys.RELAY_OK),T(this,\"onStatus\",s=>{_.debug(\"[\".concat(this.clientId,\"] ChannelMediaStatus: \").concat(JSON.stringify(s))),s&&s.command&&(s.command===\"onAudioPacketReceived\"&&this.emit(\"event\",Ir.PACKET_RECEIVED_AUDIO_FROM_SRC),s.command===\"onVideoPacketReceived\"&&this.emit(\"event\",Ir.PACKET_RECEIVED_VIDEO_FROM_SRC),s.command===\"onSrcTokenPrivilegeDidExpire\"&&(this.errorCode=ys.SRC_TOKEN_EXPIRED,this.state=Sn.RELAY_STATE_FAILURE),s.command===\"onDestTokenPrivilegeDidExpire\"&&(this.errorCode=ys.DEST_TOKEN_EXPIRED,this.state=Sn.RELAY_STATE_FAILURE));}),T(this,\"onReconnect\",async()=>{_.debug(\"[\".concat(this.clientId,\"] ChannelMediaSocket disconnect, reconnecting\")),this.emit(\"event\",Ir.NETWORK_DISCONNECTED),this.state=Sn.RELAY_STATE_IDLE,this.prevChannelMediaConfig&&this.sendStartRelayMessage(this.prevChannelMediaConfig).catch(s=>{this.state!==Sn.RELAY_STATE_IDLE&&(_.error(\"auto restart channel media relay failed\",s.toString()),this.errorCode=ys.SERVER_CONNECTION_LOST,this.state=Sn.RELAY_STATE_FAILURE);});}),this.joinInfo=e,this.clientId=n,this.sid=Ms(),this.signal=new Tm(this.joinInfo,this.clientId,i),this.httpRetryConfig=r,this._resolution=o;}async startChannelMediaRelay(e){if(this.state!==Sn.RELAY_STATE_IDLE)throw new O(R.INVALID_OPERATION);this.state=Sn.RELAY_STATE_CONNECTING,await this.connect(),_.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: connect success\"));try{await this.sendStartRelayMessage(e);}catch(n){throw n.data&&n.data.serverResponse&&n.data.serverResponse.command===\"SetSourceChannel\"?new O(R.CROSS_CHANNEL_FAILED_JOIN_SRC):n.data&&n.data.serverResponse&&n.serverResponse.command===\"SetDestChannelStatus\"?new O(R.CROSS_CHANNEL_FAILED_JOIN_DEST):n.data&&n.data.serverResponse&&n.serverResponse.command===\"StartPacketTransfer\"?new O(R.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST):n}this.prevChannelMediaConfig=e;}async updateChannelMediaRelay(e){if(this.state!==Sn.RELAY_STATE_RUNNING)throw new O(R.INVALID_OPERATION);await this.sendUpdateMessage(e),this.prevChannelMediaConfig=e;}async setVideoProfile(e){if(this._resolution=e,this.state!==Sn.RELAY_STATE_RUNNING)throw new O(R.INVALID_OPERATION);let n=this.genMessage(sn.SetVideoProfile);await this.signal.request(n),_.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: setVideoProfile success\"));}async stopChannelMediaRelay(){await this.sendStopRelayMessage(),_.debug(\"[\".concat(this.clientId,\"] stopChannelMediaRelay: send stop message success\")),this.state=Sn.RELAY_STATE_IDLE,this.dispose();}dispose(){_.debug(\"[\".concat(this.clientId,\"] disposeChannelMediaRelay\")),this.cancelToken.cancel(),this.cancelToken=mn.CancelToken.source(),this.state=Sn.RELAY_STATE_IDLE,this.emit(\"dispose\"),this.signal.dispose(),this.prevChannelMediaConfig=void 0;}async connect(){let e=await zG(this.joinInfo,this.cancelToken.token,this.httpRetryConfig);this.workerToken=e.workerToken,await this.signal.connect(e.addressList),this.emit(\"event\",Ir.NETWORK_CONNECTED),this.signal.on(\"status\",this.onStatus),this.signal.on(\"reconnecting\",this.onReconnect);}async sendStartRelayMessage(e){let n=this.genMessage(sn.StopPacketTransfer);await this.signal.request(n),await this.signal.waitStatus(\"Normal Quit\"),_.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: StopPacketTransfer success\"));let i=this.genMessage(sn.SetSdkProfile,e);await this.signal.request(i),_.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: SetSdkProfile success\"));let r=this.genMessage(sn.SetSourceChannel,e);await this.signal.request(r),await this.signal.waitStatus(\"SetSourceChannelStatus\"),this.emit(\"event\",Ir.PACKET_JOINED_SRC_CHANNEL),_.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: SetSourceChannel success\"));let o=this.genMessage(sn.SetSourceUserId,e);await this.signal.request(o),_.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: SetSourceUserId success\"));let s=this.genMessage(sn.SetDestChannel,e);await this.signal.request(s),await this.signal.waitStatus(\"SetDestChannelStatus\"),this.emit(\"event\",Ir.PACKET_JOINED_DEST_CHANNEL),_.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: SetDestChannel success\"));let a=this.genMessage(sn.StartPacketTransfer,e);await this.signal.request(a),this.emit(\"event\",Ir.PACKET_SENT_TO_DEST_CHANNEL),this.state=Sn.RELAY_STATE_RUNNING,_.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: StartPacketTransfer success\")),this.setVideoProfile(this._resolution);}async sendUpdateMessage(e){let n=this.genMessage(sn.UpdateDestChannel,e);await this.signal.request(n),this.emit(\"event\",Ir.PACKET_UPDATE_DEST_CHANNEL),_.debug(\"[\".concat(this.clientId,\"] sendUpdateMessage: UpdateDestChannel success\"));}async sendStopRelayMessage(){let e=this.genMessage(sn.StopPacketTransfer);await this.signal.request(e),_.debug(\"[\".concat(this.clientId,\"] sendStopRelayMessage: StopPacketTransfer success\"));}genMessage(e,n){let i=[],r=[],o=[];this.requestId+=1;let s={appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sdkVersion:ii,sid:this.sid,ts:Date.now(),requestId:this.requestId,seq:this.requestId,allocate:!0,clientRequest:{}};s.sdkVersion===\"4.22.0\"&&(s.sdkVersion=\"0.0.1\");let a=null,c=null;switch(e){case sn.SetSdkProfile:return s.clientRequest={command:\"SetSdkProfile\",type:\"multi_channel\"},s;case sn.SetSourceChannel:if(c=n&&n.getSrcChannelMediaInfo(),!c)throw new O(R.UNEXPECTED_ERROR,\"can not find source config\");return s.clientRequest={command:\"SetSourceChannel\",uid:\"0\",channelName:c.channelName,token:c.token||this.joinInfo.appId},s;case sn.SetSourceUserId:if(c=n&&n.getSrcChannelMediaInfo(),!c)throw new O(R.UNEXPECTED_ERROR,\"can not find source config\");return s.clientRequest={command:\"SetSourceUserId\",uid:c.uid+\"\"},s;case sn.SetDestChannel:if(a=n&&n.getDestChannelMediaInfo(),!a)throw new O(R.UNEXPECTED_ERROR,\"can not find dest config\");return a.forEach(d=>{i.push(d.channelName),r.push(d.uid+\"\"),o.push(d.token||this.joinInfo.appId);}),s.clientRequest={command:\"SetDestChannel\",channelName:i,uid:r,token:o},s;case sn.StartPacketTransfer:return s.clientRequest={command:\"StartPacketTransfer\"},s;case sn.Reconnect:return s.clientRequest={command:\"Reconnect\"},s;case sn.StopPacketTransfer:return s.clientRequest={command:\"StopPacketTransfer\"},s;case sn.UpdateDestChannel:if(a=n&&n.getDestChannelMediaInfo(),!a)throw new O(R.UNEXPECTED_ERROR,\"can not find dest config\");return a.forEach(d=>{i.push(d.channelName),r.push(d.uid+\"\"),o.push(d.token||this.joinInfo.appId);}),s.clientRequest={command:\"UpdateDestChannel\",channelName:i,uid:r,token:o},s;case sn.SetVideoProfile:s.clientRequest={command:\"SetVideoProfile\",width:this._resolution.width,height:this._resolution.height};}return s}},K3={name:\"ChannelMediaRelay\",create:function(t){return new Sm(t.joinInfo,t.clientId,t.websocketRetryConfig||Ee,t.httpRetryConfig||Ee,t.resolution)}};function mA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function Ga(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mA(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mA(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var Rm=class extends Xt{constructor(e,n,i,r){super(),T(this,\"spec\",void 0),T(this,\"token\",void 0),T(this,\"websocket\",void 0),T(this,\"pingpongTimer\",void 0),T(this,\"reconnectMode\",\"retry\"),T(this,\"serviceMode\",void 0),T(this,\"reqId\",0),T(this,\"commandReqId\",0),T(this,\"handleWebSocketOpen\",()=>{this.reconnectMode=\"retry\",this.startPingPong();}),T(this,\"handleWebSocketMessage\",o=>{if(!o.data)return;let s=JSON.parse(o.data);s.requestId?this.emit(\"@\".concat(s.requestId,\"-\").concat(s.sid),s):(X.workerEvent(this.spec.sid,{actionType:\"status\",serverCode:s.code,workerType:this.serviceMode===er.TRANSCODE?1:2}),this.emit(Xr.PUBLISH_STREAM_STATUS,s));}),this.spec=n,this.token=e,this.serviceMode=r,this.websocket=new Qo(\"live-streaming\",i),this.websocket.on(it.CONNECTED,this.handleWebSocketOpen),this.websocket.on(it.ON_MESSAGE,this.handleWebSocketMessage),this.websocket.on(it.REQUEST_NEW_URLS,(o,s)=>{Ge(this,Xr.REQUEST_NEW_ADDRESS).then(o).catch(s);}),this.websocket.on(it.RECONNECTING,()=>{this.websocket.reconnectMode=this.reconnectMode;});}init(e){return this.websocket.init(e)}async request(e,n,i,r){this.reqId+=1,e===\"request\"&&(this.commandReqId+=1);let o=this.commandReqId,s=this.reqId;if(!s||!this.websocket)throw new O(R.UNEXPECTED_ERROR);let a=Ga({command:e,sdkVersion:ii===\"4.22.0\"?\"0.0.1\":ii,seq:s,requestId:s,allocate:i,cname:this.spec.cname,appId:this.spec.appId,sid:this.spec.sid,uid:this.spec.uid.toString(),ts:Math.floor(Date.now()/1e3)},n);if(this.websocket.state===\"closed\")throw new O(R.WS_DISCONNECT);let c=()=>new j((h,p)=>{this.websocket.once(it.CLOSED,()=>p(new O(R.WS_ABORT))),this.websocket.once(it.CONNECTED,h);});this.websocket.state!==\"connected\"&&await c(),a.clientRequest&&(a.clientRequest.workerToken=this.token);let d=new j((h,p)=>{let g=()=>{p(new O(R.WS_ABORT));};this.websocket.once(it.RECONNECTING,g),this.websocket.once(it.CLOSED,g),this.once(\"@\".concat(s,\"-\").concat(this.spec.sid),E=>{h(E);});});r&&X.workerEvent(this.spec.sid,Ga(Ga({},r),{},{requestId:o,actionType:\"request\",payload:JSON.stringify(n.clientRequest),serverCode:0,code:0}));let l=Date.now();this.websocket.sendMessage(a);let u=null;try{u=await d;}catch(h){if(this.websocket.state===\"closed\")throw h;return await c(),await this.request(e,n,i)}return r&&X.workerEvent(this.spec.sid,Ga(Ga({},r),{},{requestId:o,actionType:\"response\",payload:JSON.stringify(u.serverResponse),serverCode:u.code,success:u.code===200,responseTime:Date.now()-l})),u.code!==200&&this.handleResponseError(u),u}tryNextAddress(){this.reconnectMode=\"tryNext\",this.websocket.reconnect(\"tryNext\");}close(){let e=ii===\"4.22.0\"?\"0.0.1\":ii;this.reqId+=1,this.websocket.state===\"connected\"?(this.websocket.sendMessage({command:\"request\",appId:this.spec.appId,cname:this.spec.cname,uid:this.spec.uid.toString(),sdkVersion:e,sid:this.spec.sid,seq:this.reqId,ts:Math.floor(Date.now()/1e3),requestId:this.reqId,clientRequest:{command:\"DestroyWorker\"}}),this.websocket.close(!1,!0)):this.websocket.close(!1),this.pingpongTimer&&(window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0);}handleResponseError(e){switch(e.code){case fe.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM:return void _.warning(\"live stream response already exists stream\");case fe.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR:case fe.LIVE_STREAM_RESPONSE_BAD_STREAM:case fe.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR:return new O(R.LIVE_STREAMING_INVALID_ARGUMENT,\"\",{code:e.code}).throw();case fe.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST:if(e.serverResponse.command===\"UnpublishStream\")return;throw new O(R.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"live stream response wm worker not exist\",{retry:!0});case fe.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED:return new O(R.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED,\"\",{code:e.code}).throw();case fe.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{let n=new O(R.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE);return this.emit(Xr.WARNING,n,e.serverResponse.url)}case fe.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN:{let n=new O(R.LIVE_STREAMING_WARN_FREQUENT_REQUEST);return this.emit(Xr.WARNING,n,e.serverResponse.url)}case fe.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH:throw new O(R.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"live stream response wm worker not exist\",{retry:!0});case fe.LIVE_STREAM_RESPONSE_NOT_SUPPORTED:return new O(R.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED,\"\",{code:e.code}).throw();case fe.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM:{let n=new O(R.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT);return this.emit(Xr.WARNING,n,e.serverResponse.url)}case fe.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR:return new O(R.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"\",{code:e.code}).throw();case fe.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT:throw new O(R.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"live stream resource limit\",{retry:!0,changeAddress:!0});case fe.LIVE_STREAM_RESPONSE_WORKER_LOST:case fe.LIVE_STREAM_RESPONSE_WORKER_QUIT:if(e.serverResponse.command===\"UnpublishStream\")return;throw new O(R.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"error fail send message\",{retry:!0,changeAddress:!0});case fe.ERROR_FAIL_SEND_MESSAGE:if(e.serverResponse.command===\"UnpublishStream\")return;if(e.serverResponse.command===\"UpdateTranscoding\"||e.serverResponse.command===\"ControlStream\")return new O(R.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"error fail send message\",{code:e.code}).throw();throw new O(R.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"error fail send message\",{retry:!0,changeAddress:!0});case fe.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case fe.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case fe.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case fe.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:return new O(R.LIVE_STREAMING_CDN_ERROR,\"\",{code:e.code}).throw()}}startPingPong(){this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(()=>{this.websocket.state===\"connected\"&&this.request(\"ping\",{}).catch(zu);},6e3);}};function fA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function Tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fA(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fA(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var Cm=class extends Xt{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ee,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ee;super(),T(this,\"onLiveStreamWarning\",void 0),T(this,\"onLiveStreamError\",void 0),T(this,\"spec\",void 0),T(this,\"retryTimeout\",1e4),T(this,\"connection\",void 0),T(this,\"httpRetryConfig\",void 0),T(this,\"wsRetryConfig\",void 0),T(this,\"streamingTasks\",new Map),T(this,\"isStartingStreamingTask\",!1),T(this,\"taskMutex\",new ze(\"live-streaming\")),T(this,\"cancelToken\",mn.CancelToken.source()),T(this,\"transcodingConfig\",void 0),T(this,\"uapResponse\",void 0),T(this,\"lastTaskId\",1),T(this,\"statusError\",new Map),this.spec=e,this.httpRetryConfig=i,this.wsRetryConfig=n;}async setTranscodingConfig(e){let n=Tn(Tn({},aj),e);n.videoCodecProfile!==66&&n.videoCodecProfile!==77&&n.videoCodecProfile!==100&&(_.debug(\"[\".concat(this.spec.clientId,\"] set transcoding config, fix video codec profile: \").concat(n.videoCodecProfile,\" -> 100\")),n.videoCodecProfile=100),n.transcodingUsers||(n.transcodingUsers=n.userConfigs),n.transcodingUsers&&(n.transcodingUsers=n.transcodingUsers.map(s=>Tn(Tn(Tn({},sj),s),{},{zOrder:s.zOrder?s.zOrder+1:1}))),function(s){zt(s.width)||Nt(s.width,\"config.width\",0,1e4),zt(s.height)||Nt(s.height,\"config.height\",0,1e4),zt(s.videoBitrate)||Nt(s.videoBitrate,\"config.videoBitrate\",1,1e6),zt(s.videoFrameRate)||Nt(s.videoFrameRate,\"config.videoFrameRate\"),zt(s.lowLatency)||Nr(s.lowLatency,\"config.lowLatency\"),zt(s.audioSampleRate)||Ce(s.audioSampleRate,\"config.audioSampleRate\",[32e3,44100,48e3]),zt(s.audioBitrate)||Nt(s.audioBitrate,\"config.audioBitrate\",1,128),zt(s.audioChannels)||Ce(s.audioChannels,\"config.audioChannels\",[1,2,3,4,5]),zt(s.videoGop)||Nt(s.videoGop,\"config.videoGop\"),zt(s.videoCodecProfile)||Ce(s.videoCodecProfile,\"config.videoCodecProfile\",[66,77,100]),zt(s.userCount)||Nt(s.userCount,\"config.userCount\",0,17),zt(s.backgroundColor)||Nt(s.backgroundColor,\"config.backgroundColor\",0,16777215),zt(s.userConfigExtraInfo)||Pe(s.userConfigExtraInfo,\"config.userConfigExtraInfo\",0,4096,!1),s.transcodingUsers&&!zt(s.transcodingUsers)&&(br(s.transcodingUsers,\"config.transcodingUsers\"),s.transcodingUsers.forEach((a,c)=>{Qu(a.uid),zt(a.x)||Nt(a.x,\"transcodingUser[\".concat(c,\"].x\"),0,1e4),zt(a.y)||Nt(a.y,\"transcodingUser[\".concat(c,\"].y\"),0,1e4),zt(a.width)||Nt(a.width,\"transcodingUser[\".concat(c,\"].width\"),0,1e4),zt(a.height)||Nt(a.height,\"transcodingUser[\".concat(c,\"].height\"),0,1e4),zt(a.zOrder)||Nt(a.zOrder-1,\"transcodingUser[\".concat(c,\"].zOrder\"),0,100),zt(a.alpha)||Nt(a.alpha,\"transcodingUser[\".concat(c,\"].alpha\"),0,1,!1);})),zt(s.watermark)||xp(s.watermark,\"watermark\"),zt(s.backgroundImage)||xp(s.backgroundImage,\"backgroundImage\"),s.images&&!zt(s.images)&&(br(s.images,\"config.images\"),s.images.forEach((a,c)=>{xp(a,\"images[\".concat(c,\"]\"));}));}(n);let i=[];n.images&&i.push(...n.images.map(s=>Tn(Tn(Tn({},Up),s),{},{zOrder:255}))),n.backgroundImage&&(i.push(Tn(Tn(Tn({},Up),n.backgroundImage),{},{zOrder:0})),delete n.backgroundImage),n.watermark&&(i.push(Tn(Tn(Tn({},Up),n.watermark),{},{zOrder:255})),delete n.watermark),n.images=i,n.transcodingUsers&&(n.userConfigs=n.transcodingUsers.map(s=>Tn({},s)),n.userCount=n.transcodingUsers.length,delete n.transcodingUsers);let r=(n.userConfigs||[]).map(s=>typeof s.uid==\"number\"?j.resolve(s.uid):h0(s.uid,this.spec,this.cancelToken.token,this.httpRetryConfig));if((await j.all(r)).forEach((s,a)=>{n.userConfigs&&n.userConfigs[a]&&(n.userConfigs[a].uid=s);}),this.transcodingConfig=n,this.connection)try{var o;let s=await this.connection.request(\"request\",{clientRequest:{command:\"UpdateTranscoding\",transcodingConfig:this.transcodingConfig}},!1,{command:\"UpdateTranscoding\",workerType:1,requestByUser:!0,tid:Array.from(Pr(o=this.streamingTasks).call(o)).map(a=>a.taskId).join(\"#\")});_.debug(\"[\".concat(this.spec.clientId,\"] update live transcoding config success, code: \").concat(s.code,\", config:\"),JSON.stringify(this.transcodingConfig));}catch(s){if(!s.data||!s.data.retry)throw s;s.data.changeAddress&&this.connection.tryNextAddress(),this.streamingTasks.forEach(a=>{_.warning(\"[\".concat(this.spec.clientId,\"] live streaming receive error\"),s.toString(),\"try to republish\",a.url),this.startLiveStreamingTask(a.url,a.mode,s).then(()=>{_.debug(\"[\".concat(this.spec.clientId,\"] live streaming republish \").concat(a.url,\" success\"));}).catch(c=>{_.error(\"[\".concat(this.spec.clientId,\"] live streaming republish failed\"),a.url,c.toString()),this.onLiveStreamError&&this.onLiveStreamError(a.url,c);});});}}async startLiveStreamingTask(e,n,i){if(!this.transcodingConfig&&n===er.TRANSCODE)throw new O(R.INVALID_OPERATION,\"[LiveStreaming] no transcoding config found, can not start transcoding streaming task\");let r={command:\"PublishStream\",ts:Date.now(),url:e,uid:this.spec.uid.toString(),autoDestroyTime:100,acceptImageTimeout:!0};_.debug(\"[\".concat(this.spec.clientId,\"] start live streaming \").concat(e,\", mode: \").concat(n));let o=await this.taskMutex.lock();if(!this.connection&&i)return void o();if(this.streamingTasks.get(e)&&!i)return o(),new O(R.LIVE_STREAMING_TASK_CONFLICT).throw();try{this.connection||(this.connection=await this.connect(n));}catch(a){throw o(),a}switch(n){case er.TRANSCODE:r.transcodingConfig=Tn({},this.transcodingConfig);}this.uapResponse&&this.uapResponse.vid&&(r.vid=this.uapResponse.vid),this.isStartingStreamingTask=!0;let s=this.lastTaskId++;try{let a=new j((d,l)=>{Me(this.retryTimeout).then(()=>{if(i)return l(i);let u=this.statusError.get(e);return u?(this.statusError.delete(e),l(u)):void 0});}),c=await j.race([this.connection.request(\"request\",{clientRequest:r},!0,{url:e,command:\"PublishStream\",workerType:n===er.TRANSCODE?1:2,requestByUser:!i,tid:s.toString()}),a]);this.isStartingStreamingTask=!1,_.debug(\"[\".concat(this.spec.clientId,\"] live streaming started, code: \").concat(c.code)),this.streamingTasks.set(e,{clientRequest:r,mode:n,url:e,taskId:s}),o();}catch(a){if(o(),this.isStartingStreamingTask=!1,!a.data||!a.data.retry||i)throw a;return a.data.changeAddress?(this.connection.tryNextAddress(),await this.startLiveStreamingTask(e,n,a)):await this.startLiveStreamingTask(e,n,a)}}stopLiveStreamingTask(e){return new j((n,i)=>{let r=this.streamingTasks.get(e);if(!r||!this.connection)return new O(R.UNEXPECTED_ERROR,\"can not find streaming task to stop\").throw();let o=r.mode;r.abortTask=()=>{_.debug(\"[\".concat(this.spec.clientId,\"] stop live streaming success(worker exception)\")),this.streamingTasks.delete(e),n();},this.connection.request(\"request\",{clientRequest:{command:\"UnpublishStream\",url:r.url}},!1,{url:e,command:\"UnPublishStream\",workerType:o===er.TRANSCODE?1:2,requestByUser:!0,tid:(this.lastTaskId++).toString()}).then(s=>{_.debug(\"[\".concat(this.spec.clientId,\"] stop live streaming success, code: \").concat(s.code)),this.streamingTasks.delete(e),this.streamingTasks.size===0&&(this.connection&&this.connection.close(),this.connection=void 0),n();}).catch(i);})}resetAllTask(){var e;let n=Array.from(Pr(e=this.streamingTasks).call(e));this.terminate();for(let i of n)this.startLiveStreamingTask(i.url,i.mode).catch(r=>{this.onLiveStreamError&&this.onLiveStreamError(i.url,r);});}terminate(){this.cancelToken&&this.cancelToken.cancel(),this.streamingTasks=new Map,this.isStartingStreamingTask=!1,this.statusError=new Map,this.cancelToken=mn.CancelToken.source(),this.uapResponse=void 0,this.connection&&this.connection.close(),this.connection=void 0;}async connect(e){if(this.connection)throw new O(R.UNEXPECTED_ERROR,\"live streaming connection has already connected\");let n=await Ge(this,VE.REQUEST_WORKER_MANAGER_LIST,e);return this.uapResponse=n,this.connection=new Rm(n.workerToken,this.spec,this.wsRetryConfig,e),this.connection.on(Xr.WARNING,(i,r)=>this.onLiveStreamWarning&&this.onLiveStreamWarning(r,i)),this.connection.on(Xr.PUBLISH_STREAM_STATUS,i=>this.handlePublishStreamServer(i)),this.connection.on(Xr.REQUEST_NEW_ADDRESS,(i,r)=>{if(!this.connection)return r(new O(R.UNEXPECTED_ERROR,\"can not get new live streaming address list\"));Ge(this,VE.REQUEST_WORKER_MANAGER_LIST,e).then(o=>{this.uapResponse=o,i(o.addressList);}).catch(r);}),await this.connection.init(n.addressList),this.connection}handlePublishStreamServer(e){let n=e.serverStatus&&e.serverStatus.url||\"empty_url\",i=this.streamingTasks.get(n),r=e.reason;switch(e.code){case fe.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case fe.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case fe.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case fe.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:{let s=new O(R.LIVE_STREAMING_CDN_ERROR,\"\",{code:e.code});if(i)return _.error(s.toString()),this.onLiveStreamError&&this.onLiveStreamError(n,s);if(!this.isStartingStreamingTask)return;this.statusError.set(n,s);}case fe.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{let s=new O(R.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE,r);return this.onLiveStreamWarning&&this.onLiveStreamWarning(n,s)}case fe.LIVE_STREAM_RESPONSE_WORKER_LOST:case fe.LIVE_STREAM_RESPONSE_WORKER_QUIT:{var o;if(!this.connection)return;this.connection.tryNextAddress();let s=Array.from(Pr(o=this.streamingTasks).call(o));for(let a of s)a.abortTask?a.abortTask():(_.warning(\"[\".concat(this.spec.clientId,\"] publish stream status code\"),e.code,\"try to republish\",a.url),this.startLiveStreamingTask(a.url,a.mode,new O(R.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"\",{code:e.code})).then(()=>{_.debug(\"[\".concat(this.spec.clientId,\"] republish live stream success\"),a.url);}).catch(c=>{_.error(c.toString()),this.onLiveStreamError&&this.onLiveStreamError(a.url,c);}));return}}}hasUrl(e){return this.streamingTasks.has(e)}},Y3={name:\"LiveStreaming\",create:function(t){return new Cm(t.joinInfo,t.websocketRetryConfig||Ee,t.httpRetryConfig||Ee)}};function q3(t){let e=gA();return function(n,i){let r=n.appId;r!==void 0&&(yt(i,10),tr(i,r));let o=n.cid;o!==void 0&&(yt(i,16),yt(i,o));let s=n.cname;s!==void 0&&(yt(i,26),tr(i,s));let a=n.deviceId;a!==void 0&&(yt(i,34),tr(i,a));let c=n.elapse;c!==void 0&&(yt(i,40),Yr(i,c));let d=n.fileSize;d!==void 0&&(yt(i,48),Yr(i,Cs(d)));let l=n.height;l!==void 0&&(yt(i,56),Yr(i,Cs(l)));let u=n.jpg;u!==void 0&&(yt(i,66),yt(i,u.length),function(si,L){let F=Ca(si,L.length);si.bytes.set(L,F);}(i,u));let h=n.networkType;h!==void 0&&(yt(i,72),Yr(i,Cs(h)));let p=n.osType;p!==void 0&&(yt(i,80),Yr(i,Cs(p)));let g=n.requestId;g!==void 0&&(yt(i,90),tr(i,g));let E=n.sdkVersion;E!==void 0&&(yt(i,98),tr(i,E));let f=n.sequence;f!==void 0&&(yt(i,104),Yr(i,Cs(f)));let S=n.sid;S!==void 0&&(yt(i,114),tr(i,S));let C=n.timestamp;C!==void 0&&(yt(i,120),Yr(i,C));let A=n.uid;A!==void 0&&(yt(i,128),yt(i,A));let b=n.vid;b!==void 0&&(yt(i,136),yt(i,b));let w=n.width;w!==void 0&&(yt(i,144),Yr(i,Cs(w)));let D=n.service;D!==void 0&&(yt(i,152),yt(i,D));let k=n.callbackData;k!==void 0&&(yt(i,162),tr(i,k));let B=n.jpgEncryption;B!==void 0&&(yt(i,168),yt(i,B));let V=n.requestType;V!==void 0&&(yt(i,176),yt(i,V));let z=n.scorePorn;z!==void 0&&(yt(i,185),j_(i,z));let lt=n.scoreSexy;lt!==void 0&&(yt(i,193),j_(i,lt));let vt=n.scoreNeutral;vt!==void 0&&(yt(i,201),j_(i,vt));let Dt=n.scene;Dt!==void 0&&(yt(i,208),yt(i,Dt));let ce=n.ossFilePrefix;ce!==void 0&&(yt(i,218),tr(i,ce));let Wt=n.serviceVendor;if(Wt!==void 0)for(let si of Wt){yt(i,226);let L=gA();X3(si,L),yt(i,L.limit),tH(i,L),$3(L);}}(t,e),function(n){let i=n.bytes,r=n.limit;return i.length===r?i:i.subarray(0,r)}(e)}function z3(t){return function(n){let i={};t:for(;!oN(n);){let r=or(n);switch(r>>>3){case 0:break t;case 1:i.code=or(n);break;case 2:i.msg=sN(n,or(n));break;case 3:{let o=Q3(n);i.data=J3(n),n.limit=o;break}default:iN(n,7&r);}}return i}({bytes:e=t,offset:0,limit:e.length});var e;}function J3(t){let e={};t:for(;!oN(t);){let n=or(t);switch(n>>>3){case 0:break t;case 1:e.requestId=sN(t,or(t));break;case 2:e.requestType=or(t)>>>0;break;case 3:e.scorePorn=B_(t);break;case 4:e.scoreSexy=B_(t);break;case 5:e.scoreNeutral=B_(t);break;case 6:e.requestScene=or(t)>>>0;break;case 7:e.scene=or(t)>>>0;break;default:iN(t,7&n);}}return e}function X3(t,e){let n=t.service;n!==void 0&&(yt(e,8),yt(e,n));let i=t.vendor;i!==void 0&&(yt(e,16),yt(e,i));let r=t.token;r!==void 0&&(yt(e,26),tr(e,r));let o=t.callbackUrl;o!==void 0&&(yt(e,34),tr(e,o));}function Q3(t){let e=or(t),n=t.limit;return t.limit=t.offset+e,n}function iN(t,e){switch(e){case 0:for(;128&aN(t););break;case 2:F_(t,or(t));break;case 5:F_(t,4);break;case 1:F_(t,8);break;default:throw new Error(\"Unimplemented type: \"+e)}}var Z3=new Float32Array(1);new Uint8Array(Z3.buffer);var Lf=new Float64Array(1),Rn=new Uint8Array(Lf.buffer);function Cs(t){return {low:t|=0,high:t>>31,unsigned:t>=0}}var rN=[];function gA(){let t=rN.pop();return t?(t.offset=t.limit=0,t):{bytes:new Uint8Array(64),offset:0,limit:0}}function $3(t){rN.push(t);}function F_(t,e){if(t.offset+e>t.limit)throw new Error(\"Skip past limit\");t.offset+=e;}function oN(t){return t.offset>=t.limit}function Ca(t,e){let n=t.bytes,i=t.offset,r=t.limit,o=i+e;if(o>n.length){let s=new Uint8Array(2*o);s.set(n),t.bytes=s;}return t.offset=o,o>r&&(t.limit=o),i}function Mf(t,e){let n=t.offset;if(n+e>t.limit)throw new Error(\"Read past limit\");return t.offset+=e,n}function sN(t,e){let n=Mf(t,e),i=String.fromCharCode,r=t.bytes,o=\"\\uFFFD\",s=\"\";for(let a=0;a<e;a++){let c,d,l,u,h=r[a+n];128&h?(224&h)==192?a+1>=e?s+=o:(c=r[a+n+1],(192&c)!=128?s+=o:(u=(31&h)<<6|63&c,u<128?s+=o:(s+=i(u),a++))):(240&h)==224?a+2>=e?s+=o:(c=r[a+n+1],d=r[a+n+2],(49344&(c|d<<8))!=32896?s+=o:(u=(15&h)<<12|(63&c)<<6|63&d,u<2048||u>=55296&&u<=57343?s+=o:(s+=i(u),a+=2))):(248&h)==240?a+3>=e?s+=o:(c=r[a+n+1],d=r[a+n+2],l=r[a+n+3],(12632256&(c|d<<8|l<<16))!=8421504?s+=o:(u=(7&h)<<18|(63&c)<<12|(63&d)<<6|63&l,u<65536||u>1114111?s+=o:(u-=65536,s+=i(55296+(u>>10),56320+(1023&u)),a+=3))):s+=o:s+=i(h);}return s}function tr(t,e){let n=e.length,i=0;for(let s=0;s<n;s++){let a=e.charCodeAt(s);a>=55296&&a<=56319&&s+1<n&&(a=(a<<10)+e.charCodeAt(++s)-56613888),i+=a<128?1:a<2048?2:a<65536?3:4;}yt(t,i);let r=Ca(t,i),o=t.bytes;for(let s=0;s<n;s++){let a=e.charCodeAt(s);a>=55296&&a<=56319&&s+1<n&&(a=(a<<10)+e.charCodeAt(++s)-56613888),a<128?o[r++]=a:(a<2048?o[r++]=a>>6&31|192:(a<65536?o[r++]=a>>12&15|224:(o[r++]=a>>18&7|240,o[r++]=a>>12&63|128),o[r++]=a>>6&63|128),o[r++]=63&a|128);}}function tH(t,e){let n=Ca(t,e.limit),i=t.bytes,r=e.bytes;for(let o=0,s=e.limit;o<s;o++)i[o+n]=r[o];}function aN(t){return t.bytes[Mf(t,1)]}function TA(t,e){let n=Ca(t,1);t.bytes[n]=e;}function B_(t){let e=Mf(t,8),n=t.bytes;return Rn[0]=n[e++],Rn[1]=n[e++],Rn[2]=n[e++],Rn[3]=n[e++],Rn[4]=n[e++],Rn[5]=n[e++],Rn[6]=n[e++],Rn[7]=n[e++],Lf[0]}function j_(t,e){let n=Ca(t,8),i=t.bytes;Lf[0]=e,i[n++]=Rn[0],i[n++]=Rn[1],i[n++]=Rn[2],i[n++]=Rn[3],i[n++]=Rn[4],i[n++]=Rn[5],i[n++]=Rn[6],i[n++]=Rn[7];}function or(t){let e,n=0,i=0;do e=aN(t),n<32&&(i|=(127&e)<<n),n+=7;while(128&e);return i}function yt(t,e){for(e>>>=0;e>=128;)TA(t,127&e|128),e>>>=7;TA(t,e);}function Yr(t,e){let n=e.low>>>0,i=(e.low>>>28|e.high<<4)>>>0,r=e.high>>>24,o=r===0?i===0?n<16384?n<128?1:2:n<1<<21?3:4:i<16384?i<128?5:6:i<1<<21?7:8:r<128?9:10,s=Ca(t,o),a=t.bytes;switch(o){case 10:a[s+9]=r>>>7&1;case 9:a[s+8]=o!==9?128|r:127&r;case 8:a[s+7]=o!==8?i>>>21|128:i>>>21&127;case 7:a[s+6]=o!==7?i>>>14|128:i>>>14&127;case 6:a[s+5]=o!==6?i>>>7|128:i>>>7&127;case 5:a[s+4]=o!==5?128|i:127&i;case 4:a[s+3]=o!==4?n>>>21|128:n>>>21&127;case 3:a[s+2]=o!==3?n>>>14|128:n>>>14&127;case 2:a[s+1]=o!==2?n>>>7|128:n>>>7&127;case 1:a[s]=o!==1?128|n:127&n;}}function SA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}var eH=new Map([[\"moderation\",1],[\"supervise\",2]]);function RA(t){return {low:t|=0,high:t>>31,unsigned:t>=0}}var Im=class extends Xt{get connectionState(){return this._connectionState}set connectionState(e){if(this._connectionState===e)return;let n=this._connectionState;this._connectionState=e,this.emit(we.CONNECTION_STATE_CHANGE,n,e);}get inspectType(){return this._inspectType}set inspectType(e){var n;this._inspectMode=ji(n=e.map(i=>eH.get(i)||0)).call(n,(i,r)=>i+r),this._inspectType=e;}get quality(){return this._quality}set quality(e){this._quality=e>1?1:e<.1?.1:e,this.qualityTimer&&(window.clearTimeout(this.qualityTimer),this.qualityTimer=null),this._quality>=1||(this.qualityTimer=window.setTimeout(()=>{this.quality=this._quality/this.qualityRatio;},6e4));}constructor(e){super(),T(this,\"name\",\"AgoraRTCVideoContentInspect\"),T(this,\"_connectionState\",Ei.CONNECTING),T(this,\"_innerConnectionState\",void 0),T(this,\"sequence\",0),T(this,\"inspectStartTime\",void 0),T(this,\"workerManagerConnection\",void 0),T(this,\"workerConnection\",void 0),T(this,\"workerMessageLengthLimit\",void 0),T(this,\"inspectIntervalMinimum\",void 0),T(this,\"qualityRatio\",void 0),T(this,\"_connectInfo\",void 0),T(this,\"_cancelTokenSource\",mn.CancelToken.source()),T(this,\"_retryConfig\",void 0),T(this,\"wmSequence\",0),T(this,\"inspectInterval\",void 0),T(this,\"inspectTimer\",null),T(this,\"ossFilePrefix\",void 0),T(this,\"extraInfo\",void 0),T(this,\"_inspectType\",void 0),T(this,\"_inspectMode\",void 0),T(this,\"_quality\",1),T(this,\"qualityTimer\",null),T(this,\"_inspectId\",void 0),T(this,\"_needWorkUrlOnly\",!1),T(this,\"inspectImage\",()=>{if(this.connectionState!==Ei.CONNECTED)throw new O(R.OPERATION_ABORTED,\"content inspect service connection status is \".concat(this.connectionState));this.inspectTimer&&(window.clearInterval(this.inspectTimer),this.inspectTimer=null),this.inspectTimer=window.setInterval(()=>{this.connectionState===Ei.CONNECTED?this.requestToInspectImage():_.debug(\"[\".concat(this._inspectId,\"] Inspect State is not connected , \"),this.connectionState);},this.inspectInterval<this.inspectIntervalMinimum?this.inspectIntervalMinimum:this.inspectInterval),this.requestToInspectImage();}),this._inspectId=Ut(5,\"inspect-\"),this.workerMessageLengthLimit=v(\"VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT\"),this.inspectIntervalMinimum=v(\"VIDEO_INSPECT_INTERVAL_MINIMUM\"),this.qualityRatio=v(\"VIDEO_INSPECT_QUALITY_RATIO\"),this.inspectInterval=e.interval,this.ossFilePrefix=e.ossFilePrefix,this.extraInfo=e.extraInfo,this.inspectType=e.inspectType,this.inspectStartTime=Number(Date.now()),this.workerManagerConnection=new Qo(\"worker-manager-\"+this._inspectId,Ee),this.on(we.STATE_CHANGE,(n,i)=>{this._innerConnectionState=n,_.debug(\"[\".concat(this._inspectId,\"] Inspect operation :\").concat(di[n],\" \").concat(i||\"\"));}),this.handleWorkerManagerEvents(),this.workerConnection=new Qo(\"worker-\"+this._inspectId,Ee),this.handleWorkerEvents();}async init(e,n){this.emit(we.STATE_CHANGE,di.CONNECT_AP),this._connectInfo=e;let i=this._cancelTokenSource.token;return this._retryConfig=n,new j((r,o)=>{this.on(we.CONNECTION_STATE_CHANGE,(s,a)=>{a===Ei.CONNECTED&&r();}),this.requestAP(e,i,n).then(s=>{this.connectWorkerManager(s);}).catch(s=>{o(s);});})}async requestAP(e,n,i){let r=v(\"WEBCS_DOMAIN\").map(a=>\"https://\".concat(a,\"/api/v1\")),o=await function(a,c,d,l){let{appId:u,areaCode:h,cname:p,sid:g,token:E,uid:f}=c;Ys++;let S=\"image_moderation_api\",C={service_name:S,json_body:JSON.stringify({appId:u,areaCode:h,cname:p,command:\"allocateEdge\",requestId:Ys,seq:Ys,sid:g,token:E,ts:Date.now(),uid:f+\"\"})},A,b,w=a[0];return Wi(async()=>{A=Date.now();let D=await Hi(w,{data:C,cancelToken:d,headers:{\"X-Packet-Service-Type\":\"0\",\"X-Packet-URI\":\"61\"},params:{action:\"wrtc_gateway\"}});if(b=Date.now()-A,D.code!==0){let z=new O(R.UNEXPECTED_RESPONSE,\"image inspect ap error, code\"+D.code,{retry:!0,responseTime:b});throw _.error(z.toString()),z}let k=JSON.parse(D.json_body);if(k.code!==200){let z=new O(R.UNEXPECTED_RESPONSE,\"image inspect ap error, code: \".concat(k.code,\", reason: \").concat(k.reason),{code:k.code,responseTime:b});throw _.error(z.toString()),z}if(!k.servers||!Array.isArray(k.servers)||k.servers.length===0){let z=new O(R.UNEXPECTED_RESPONSE,\"image inspect ap empty server\",{code:k.code,responseTime:b});throw _.error(z.toString()),z}let B=v(\"VIDEO_INSPECT_WORKER_MANAGER_HOST\"),V=v(\"VIDEO_INSPECT_WORKER_MANAGER_PORT\");return {addressList:k.servers.map(z=>{let{address:lt,wss:vt}=z;if(lt&&vt)return \"wss://\".concat(lt.replace(/\\./g,\"-\"),\".\").concat(B,\":\").concat(V||vt)}).filter(z=>!!z),workerToken:k.workerToken,vid:k.vid,responseTime:b}},(D,k)=>(X.apworkerEvent(g,{success:!0,sc:200,serviceName:S,responseDetail:JSON.stringify(D.addressList),firstSuccess:k===0,responseTime:b,serverIp:a[k%a.length]}),!1),(D,k)=>(X.apworkerEvent(g,{success:!1,sc:D.data&&D.data.code||200,serviceName:S,responseTime:b,serverIp:a[k%a.length]}),!!(D.code!==R.OPERATION_ABORTED&&D.code!==R.UNEXPECTED_RESPONSE||D.data&&D.data.retry)&&(w=a[(k+1)%a.length],!0)),l)}(r,e,n,i);this.emit(we.STATE_CHANGE,di.AP_CONNECTED);let{addressList:s}=o;return this.wmSequence++,s}async connectWorkerManager(e){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this._needWorkUrlOnly=n,this.emit(we.STATE_CHANGE,di.CONNECT_WORKER_MANAGER),await this.workerManagerConnection.init(e,1e4);}async connectWorker(e){await this.workerConnection.init([e]);}handleWorkerManagerEvents(){this.workerManagerConnection.on(it.CONNECTED,async()=>{this.emit(we.STATE_CHANGE,di.WORKER_MANAGER_CONNECTED,this.workerManagerConnection.url),this.workerManagerConnection.sendMessage({appId:this._connectInfo.appId,cname:this._connectInfo.cname,uid:this._connectInfo.uid+\"\",sdkVersion:\"4.22.0\",sid:this._connectInfo.sid,seq:this.wmSequence,ts:Number(Date.now()),requestId:Math.floor(1e12*Math.random()),allocate:!0,clientRequest:{command:\"join\"}},!0);}),this.workerManagerConnection.on(it.CLOSED,()=>{this._innerConnectionState<di.GET_WORKER_MANAGER_RESPONSE&&_.debug(\"[\".concat(this._inspectId,\"] Inspect worker manager is closed before connecting worker\"));}),this.workerManagerConnection.on(it.FAILED,()=>{this._innerConnectionState<di.GET_WORKER_MANAGER_RESPONSE&&_.debug(\"[\".concat(this._inspectId,\"] Connecting inspect worker manager is failed before connecting worker\"));}),this.workerManagerConnection.on(it.RECONNECTING,()=>{this._innerConnectionState<di.GET_WORKER_MANAGER_RESPONSE&&_.debug(\"[\".concat(this._inspectId,\"] Inspect worker manager is reconnecting before connecting worker\"));}),this.workerManagerConnection.on(it.ON_MESSAGE,async e=>{this.emit(we.STATE_CHANGE,di.GET_WORKER_MANAGER_RESPONSE);let n=this.workerManagerConnection.url;this.workerManagerConnection.close();let i=JSON.parse(e.data);if(i.code!==200)throw _.error(\"[\".concat(this._inspectId,\"] Unexpected code \").concat(i.code,\" from worker manager\")),new O(R.UNEXPECTED_RESPONSE,\"response code of worker is unexpected\",i);if(!(i.serverResponse&&i.serverResponse.portWss&&n))throw _.error(\"[\".concat(this._inspectId,\"] Unexpected content from worker manager : \").concat(JSON.stringify(i))),new O(R.UNEXPECTED_RESPONSE,\"response content of worker is unexpected\",i);{let r=v(\"VIDEO_INSPECT_WORKER_PORT\")||i.serverResponse.portWss,o=n.replace(/:\\d+\\/?$/,\":\".concat(r));this.emit(we.STATE_CHANGE,di.CONNECT_WORKER,o),this._needWorkUrlOnly?this.emit(we.REQUEST_NEW_WORKER_URL,o):await this.connectWorker(o);}}),this.workerManagerConnection.on(it.WILL_RECONNECT,(e,n,i)=>{i(e);}),this.workerManagerConnection.on(it.REQUEST_NEW_URLS,(e,n)=>{this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(e).catch(n);});}handleWorkerEvents(){this.workerConnection.on(it.CONNECTED,async()=>{this.emit(we.STATE_CHANGE,di.WORKER_CONNECTED,this.workerConnection.url),this.connectionState=Ei.CONNECTED;}),this.workerConnection.on(it.ON_MESSAGE,async e=>{if(e.data instanceof ArrayBuffer){let i=z3(new Uint8Array(e.data));if(v(\"SHOW_VIDEO_INSPECT_WORKER_MESSAGE\")&&_.debug(\"[\".concat(this._inspectId,\"] Response message for worker of inspect content \"),JSON.stringify(i)),i.code===200){if(Array.isArray(this.inspectType)&&this.inspectType.length===1&&this.inspectType[0]===\"supervise\")return void this.emit(we.INSPECT_RESULT,void 0,void 0);if(i.data&&i.data.scorePorn&&i.data.scoreSexy&&i.data.scoreNeutral){var n;let r={porn:i.data.scorePorn,sexy:i.data.scoreSexy,neutral:i.data.scoreNeutral},o=ji(n=Object.keys(r)).call(n,(a,c)=>r[a]>r[c]?a:c,\"porn\"),s=Object.keys(r).find(a=>a===o);this.emit(we.INSPECT_RESULT,s);}else this.emit(we.INSPECT_RESULT,void 0,new O(R.UNEXPECTED_RESPONSE,i.code+\"\",\"There is an unexpected data on message\"));}else this.emit(we.INSPECT_RESULT,void 0,new O(R.UNEXPECTED_RESPONSE,i.code+\"\",i.msg));}else _.error(\"[\".concat(this._inspectId,\"] Unexpected message type from worker\")),this.emit(we.INSPECT_RESULT,void 0,new O(R.UNEXPECTED_RESPONSE,\"invalid worker message type\"));}),this.workerConnection.on(it.CLOSED,()=>{this.connectionState=Ei.CLOSED;}),this.workerConnection.on(it.FAILED,()=>{this.connectionState=Ei.CLOSED;}),this.workerConnection.on(it.RECONNECTING,()=>{this.connectionState=this.connectionState===Ei.CONNECTED?Ei.RECONNECTING:Ei.CONNECTING;}),this.workerConnection.on(it.WILL_RECONNECT,(e,n,i)=>{e===\"recover\"&&i(e),i(\"tryNext\");}),this.workerConnection.on(it.REQUEST_NEW_URLS,(e,n)=>{this.workerManagerConnection.close(),this.once(we.REQUEST_NEW_WORKER_URL,i=>{e([i]);}),this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(i=>{this.connectWorkerManager(i,!0);}).catch(i=>{n(i);});});}async requestToInspectImage(){this.sequence++;let e=ni(this,we.CLIENT_LOCAL_VIDEO_TRACK),n={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid};if(e){if(!e.isPlaying)return void this.emit(we.INSPECT_RESULT,void 0,new O(R.INVALID_OPERATION,\"Only the track being played can be inspected\"));let i=await this.generateRequestData(e,n);this.workerConnection.sendMessage(i,!0,!0);}else this.emit(we.INSPECT_RESULT,void 0,new O(R.INVALID_OPERATION,\"Only the track being published can be inspected\"));}async generateRequestData(e,n){let{appId:i,cname:r,cid:o,vid:s,sid:a,uid:c}=n,d=Date.now(),l=await e.getCurrentFrameImage(\"image/jpeg\",this.quality),u=await QO(l,i,r),h=this.sequence+\"-\"+o+\"-\"+c+\"-\"+d+\"-\"+Ut(12,\"\"),p={appId:i,cid:o,cname:r,deviceId:\"\",elapse:RA(Number(d-this.inspectStartTime)),fileSize:u.byteLength,jpgEncryption:2,height:l.height,width:l.width,jpg:u,networkType:6,osType:7,requestId:h,sdkVersion:\"4.22.0\",sequence:this.sequence,sid:a,timestamp:RA(d),uid:c,vid:s,service:this._inspectMode,callbackData:this.extraInfo,ossFilePrefix:this.ossFilePrefix};this.extraInfo===void 0&&delete p.callbackData,this.ossFilePrefix===void 0&&delete p.ossFilePrefix;let g=q3(p);if(g.byteLength<this.workerMessageLengthLimit){if(v(\"SHOW_VIDEO_INSPECT_WORKER_MESSAGE\")){let E=function(f){for(var S=1;S<arguments.length;S++){var C=arguments[S]!=null?arguments[S]:{};S%2?SA(Object(C),!0).forEach(function(A){T(f,A,C[A]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(C)):SA(Object(C)).forEach(function(A){Object.defineProperty(f,A,Object.getOwnPropertyDescriptor(C,A));});}return f}({},p);delete E.jpg,_.debug(\"[\".concat(this._inspectId,\"] Request message for worker of inspect content \"),JSON.stringify(E));}return g}{let E=this.quality*this.qualityRatio;return this.quality=E,await this.generateRequestData(e,{appId:i,cname:r,cid:o,vid:s,sid:a,uid:c})}}close(){this._cancelTokenSource.cancel(),this._cancelTokenSource=mn.CancelToken.source(),this.workerManagerConnection&&this.workerManagerConnection.close(),this.workerConnection&&this.workerConnection.close(),this.inspectTimer&&window.clearInterval(this.inspectTimer),this.inspectTimer=null,this.connectionState=Ei.CLOSED,this.emit(we.STATE_CHANGE,di.CLOSED);}},nH={name:\"ContentInspect\",create:function(t){let{config:e}=t;return function(n){if(!n)throw new O(R.INVALID_PARAMS,\"inspectConfig is necessary.\");if(!n.inspectType||!Array.isArray(n.inspectType))throw new O(R.INVALID_PARAMS,\"inspectConfig.inspectType is necessary and is an instance of Array.\");{let i=[...new Set(n.inspectType)];i.forEach(r=>{var o;if(!W(o=[\"supervise\",\"moderation\"]).call(o,r))throw new O(R.INVALID_PARAMS,\"\".concat(r,\" is not a valid inspect type.\"))}),n.inspectType=i;}if(n&&n.extraInfo&&n.extraInfo.length>1024)throw new O(R.INVALID_PARAMS,\"inspectConfig.extraInfo length cannot exceed 1024 bytes\")}(e),new Im(e)}};Ot(\"PROCESS_ID\",\"process-\".concat(Ut(8,\"\"),\"-\").concat(Ut(4,\"\"),\"-\").concat(Ut(4,\"\"),\"-\").concat(Ut(4,\"\"),\"-\").concat(Ut(12,\"\"))),function(){let t;try{t=window.localStorage.getItem(\"websdk_ng_global_parameter\");}catch(e){return void _.error(\"Error loading sdk config\",e.message)}if(t)try{let e=JSON.parse(window.atob(t)),n=Date.now();_.debug(\"Loading global parameters from cache\",e),Object.keys(e).forEach(i=>{if(Object.prototype.hasOwnProperty.call(oe,i)){let{value:r,expires:o}=e[i];if(o&&o<=n)return;$r[i]=r,oe[i]=r;}});}catch(e){_.error(\"Error loading mutableParamsCache: \".concat(t),e.message);}}(),Array.isArray($r.AREAS)&&$r.AREAS.length>0&&Af($r.AREAS,!0);var CA=(t,e,n)=>{_.debug(\"setParameter key:\".concat(t,\", value:\").concat(JSON.stringify(e))),Ot(t,e,n);};Ba(K3,!1),Ba(Y3,!1),Ba(PW,!1),Ba(nH,!1),Ba(H3,!1);var Mt=function(t){let e=new Xt,n=t,i={getListeners:e.getListeners.bind(e),on:(r,o)=>(function(s,a){s===nr.SECURITY_POLICY_VIOLATION&&L0(a,!0);}(r,o),e.on.bind(e)(r,o)),addListener:e.addListener.bind(e),once:e.once.bind(e),off:e.off.bind(e),removeAllListeners:e.removeAllListeners.bind(e),emit:e.emit.bind(e),safeEmit:e.safeEmit.bind(e)};return Jy(Jy({},n),i)}({__TRACK_LIST__:As,VERSION:ii,BUILD:Ef,ESM_BUNDLER:!1,ESM:!0,UMD:!1,DEV:!1,setParameter:CA,getParameter:v,getSupportedCodec:async function(){let t={audio:[],video:[]};try{let e=new RTCPeerConnection,n=await async function(i){let r;return ft().supportUnifiedPlan?(i.addTransceiver(\"video\",{direction:\"recvonly\"}),i.addTransceiver(\"audio\",{direction:\"recvonly\"}),r=(await i.createOffer()).sdp):r=(await i.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0})).sdp,r}(e);if(!n)return t;e.close(),e=null,t=function(i){let r={video:[],audio:[]};return i.match(/ VP8/i)&&r.video.push(\"VP8\"),i.match(/ VP9/i)&&r.video.push(\"VP9\"),i.match(/ AV1/i)&&r.video.push(\"AV1\"),i.match(/ H264/i)&&r.video.push(\"H264\"),i.match(/ H265/i)&&r.video.push(\"H265\"),i.match(/ opus/i)&&r.audio.push(\"OPUS\"),i.match(/ PCMU/i)&&r.audio.push(\"PCMU\"),i.match(/ PCMA/i)&&r.audio.push(\"PCMA\"),i.match(/ G722/i)&&r.audio.push(\"G722\"),r}(n);}catch(e){throw new O(R.CREATE_OFFER_FAILED,e.toString&&e.toString()).print()}return t},checkSystemRequirements:function(){let t=X.reportApiInvoke(null,{name:Te.CHECK_SYSTEM_REQUIREMENTS,options:[],tag:Zt.TRACER}),e=!1;try{let o=window.RTCPeerConnection,s=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,a=window.WebSocket;e=!!(o&&s&&a),e&&lf()&&EO(75)&&new o().close();}catch(o){return _.error(\"check system requirement failed: \",o),!1}let n=!1,i=mt();i.name===It.CHROME&&Number(i.version)>=58&&(Vi.engine.name!==\"WebKit\"||function(){let o=mt();if(Gl()){if(o.os===ye.MAC_OS)return !0;if(o.os===ye.IOS){let s=Vi.os.version&&Vi.os.version.split(\".\");if(s&&Number(s[0])===14&&s[1]&&Number(s[1])>=3||s&&Number(s[0])>14)return !0}}return !1}())&&(n=!0),(i.name===It.FIREFOX&&Number(i.version)>=56||i.name===It.OPERA&&Number(i.version)>=45||i.name===It.SAFARI&&Number(i.version)>=11||i.name===\"WebKit\"&&(ln()||vi())&&i.osVersion&&Number(i.osVersion.split(\".\")[0])>=11||TO()||mt().name===It.QQ)&&(n=!0),_.debug(\"checkSystemRequirements, api:\",e,\"browser\",n);let r=e&&n;return t.onSuccess(r),r},getDevices:function(t){return Gn.enumerateDevices(!0,!0,t)},getMicrophones:function(t){return Gn.getRecordingDevices(t)},getCameras:function(t){return Gn.getCamerasDevices(t)},getElectronScreenSources:KO,getPlaybackDevices:function(t){return Gn.getSpeakers(t)},createClient:function(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{codec:\"vp8\",audioCodec:\"opus\",mode:\"rtc\"},n=X.reportApiInvoke(null,{name:Te.CREATE_CLIENT,options:[e],tag:Zt.TRACER});try{(function(i){Ce(i.codec,\"config.codec\",[\"vp8\",\"vp9\",\"av1\",\"h264\",\"h265\"]),Ce(i.mode,\"config.mode\",[\"rtc\",\"live\",\"p2p\"]),i.audioCodec!==void 0&&Ce(i.audioCodec,\"config.audioCodec\",[\"opus\",\"pcmu\",\"pcma\",\"g722\"]),i.proxyServer!==void 0&&Pe(i.proxyServer,\"config.proxyServer\",1,1e4),i.turnServer!==void 0&&vO(i.turnServer),i.httpRetryConfig!==void 0&&mR(i.httpRetryConfig),i.websocketRetryConfig!==void 0&&mR(i.websocketRetryConfig);})(e);}catch(i){throw n.onError(i),i}return (fO(16,0)||gO(16,0))&&(e.codec===\"vp9\"&&(e.codec=\"vp8\",_.debug(\"browser not support vp9, force use vp8\")),Ot(\"UNSUPPORTED_VIDEO_CODEC\",[\"vp9\"])),e.audioCodec===void 0&&(e.audioCodec=\"opus\"),n.onSuccess(),new kW(xi(xi({forceWaitGatewayResponse:!0},e),{},{role:W(t=[\"rtc\",\"p2p\"]).call(t,e.mode)?\"host\":e.role||\"audience\"}))},createCameraVideoTrack:async function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=v(\"CAMERA_CAPTURE_CONFIG\"),n=X.reportApiInvoke(null,{tag:Zt.TRACER,name:Te.CREATE_CAM_VIDEO_TRACK,options:[Kt({},t),e]});e&&(t.encoderConfig=e);let i=ru(t),r=Ut(8,\"track-cam-\"),o=null;_.info(\"start create camera video track with config\",JSON.stringify(t),\"trackId\",r);try{o=(await Fn({video:i},r)).getVideoTracks()[0]||null;}catch(a){throw n.onError(a),a}if(!o){let a=new N(R.UNEXPECTED_ERROR,\"can not find track in media stream\");return n.onError(a),a.throw(_)}t.optimizationMode&&c_(r,o,t,cr(t.encoderConfig));let s=new XE(o,t,i,t.scalabiltyMode?Fd(t.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},t.optimizationMode,r);return n.onSuccess(s.getTrackId()),_.info(\"create camera video success, trackId:\",r),s},createCustomVideoTrack:function(t){let e=X.reportApiInvoke(null,{tag:Zt.TRACER,name:Te.CREATE_CUSTOM_VIDEO_TRACK,options:[t]}),n=new Ft(t.mediaStreamTrack,{width:t.width,height:t.height,frameRate:t.frameRate,bitrateMax:t.bitrateMax,bitrateMin:t.bitrateMin},t.scalabiltyMode?Fd(t.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},t.optimizationMode,Ut(8,\"track-cus-\"),[Gt.CUSTOM_TRACK]);return e.onSuccess(n.getTrackId()),_.info(\"create custom video track success with config\",t,\"trackId\",n.getTrackId()),n},createScreenVideoTrack:async function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:\"disable\",n=X.reportApiInvoke(null,{tag:Zt.TRACER,name:Te.CREATE_SCREEN_VIDEO_TRACK,options:[Kt({},t),e]});t.encoderConfig?typeof t.encoderConfig==\"string\"||t.encoderConfig.width&&t.encoderConfig.height||(t.encoderConfig.width={max:1920},t.encoderConfig.height={max:1080}):t.encoderConfig=\"1080p_2\";let i=function(l){let u={};l.screenSourceType&&(u.mediaSource=l.screenSourceType),l.extensionId&&oo()&&(u.extensionId=l.extensionId);let{displaySurface:h,selfBrowserSurface:p,surfaceSwitching:g,systemAudio:E}=l;(OE(107)||lR(107)||uR(93))&&(h&&(Ce(h,\"displaySurface\",[\"browser\",\"window\",\"monitor\"]),u.displaySurface=h),p?(Ce(p,\"selfBrowserSurface\",[\"exclude\",\"include\"]),u.selfBrowserSurface=p):u.selfBrowserSurface=\"include\",g&&(Ce(g,\"surfaceSwitching\",[\"exclude\",\"include\"]),u.surfaceSwitching=g)),(OE(105)||lR(105)||uR(91))&&E&&(Ce(E,\"systemAudio\",[\"exclude\",\"include\"]),u.systemAudio=E),l.electronScreenSourceId&&(u.sourceId=l.electronScreenSourceId);let f=l.encoderConfig?r_(l.encoderConfig):null;return u.mandatory={chromeMediaSource:\"desktop\",maxWidth:f?f.width:void 0,maxHeight:f?f.height:void 0},f&&(f.frameRate&&(typeof f.frameRate==\"number\"?(u.mandatory.maxFrameRate=f.frameRate,u.mandatory.minFrameRate=f.frameRate):(u.mandatory.maxFrameRate=f.frameRate.max||f.frameRate.ideal||f.frameRate.exact||void 0,u.mandatory.minFrameRate=f.frameRate.min||f.frameRate.ideal||f.frameRate.exact||void 0),u.frameRate=f.frameRate),f.width&&(u.width=f.width),f.height&&(u.height=f.height)),u}(t),r=Ut(8,\"track-scr-v-\"),o=null,s=null,a=ft();if(!a.supportShareAudio&&e===\"enable\"){let l=new N(R.NOT_SUPPORTED,\"your browser or platform is not support share-screen with audio\");return n.onError(l),l.throw(_)}_.info(\"start create screen video track with config\",t,\"withAudio\",e,\"trackId\",r);try{let l=await Fn({screen:i,screenAudio:e===\"auto\"?a.supportShareAudio:e===\"enable\"},r);o=l.getVideoTracks()[0]||null,s=l.getAudioTracks()[0]||null;}catch(l){throw n.onError(l),l}if(!o){let l=new N(R.UNEXPECTED_ERROR,\"can not find track in media stream\");return n.onError(l),l.throw(_)}if(!s&&e===\"enable\"){o&&o.stop();let l=new N(R.SHARE_AUDIO_NOT_ALLOWED);return n.onError(l),l.throw(_)}t.optimizationMode||(t.optimizationMode=\"detail\"),t.optimizationMode&&(c_(r,o,t,t.encoderConfig&&r_(t.encoderConfig)||void 0),t.encoderConfig&&typeof t.encoderConfig!=\"string\"&&(t.encoderConfig.bitrateMin=t.encoderConfig.bitrateMax));let c=new Ft(o,t.encoderConfig?r_(t.encoderConfig):{},t.scalabiltyMode?Fd(t.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},t.optimizationMode,r,[Gt.SCREEN_TRACK]);if(!s)return n.onSuccess(c.getTrackId()),_.info(\"create screen video track success\",\"video:\",c.getTrackId()),c;let d=new Qt(s,void 0,Ut(8,\"track-scr-a-\"),!1);return n.onSuccess([c.getTrackId(),d.getTrackId()]),_.info(\"create screen video track success\",\"video:\",c.getTrackId(),\"audio:\",d.getTrackId()),[c,d]},createMicrophoneAndCameraTracks:async function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=v(\"CAMERA_CAPTURE_CONFIG\"),i=X.reportApiInvoke(null,{tag:Zt.TRACER,name:Te.CREATE_MIC_AND_CAM_TRACKS,options:[t,e,n]});n&&(e.encoderConfig=n);let r=ru(e),o=fC(t),s=Ut(8,\"track-mic-\"),a=Ut(8,\"track-cam-\"),c=null,d=null;_.info(\"start create camera video track(\".concat(a,\") and microphone audio track(\").concat(s,\") with config, audio: \").concat(JSON.stringify(t),\", video: \").concat(JSON.stringify(e)));try{let h=await Fn({audio:o,video:r},\"\".concat(s,\"-\").concat(a));c=h.getAudioTracks()[0],d=h.getVideoTracks()[0];}catch(h){throw i.onError(h),h}if(!c||!d){let h=new N(R.UNEXPECTED_ERROR,\"can not find tracks in media stream\");return i.onError(h),h.throw(_)}e.optimizationMode&&c_(a,d,e,cr(e.encoderConfig));let l=new ou(c,t,o,s),u=new XE(d,e,r,e.scalabiltyMode?Fd(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,a);return i.onSuccess([l.getTrackId(),u.getTrackId()]),_.info(\"create camera video track(\".concat(a,\") and microphone audio track(\").concat(s,\") success\")),[l,u]},createMicrophoneAudioTrack:async function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=X.reportApiInvoke(null,{tag:Zt.TRACER,name:Te.CREATE_MIC_AUDIO_TRACK,options:[t]}),n=fC(t),i=Ut(8,\"track-mic-\"),r=null;_.info(\"start create microphone audio track with config\",JSON.stringify(t),\"trackId\",i);try{r=(await Fn({audio:n},i)).getAudioTracks()[0]||null;}catch(s){throw e.onError(s),s}if(!r){let s=new N(R.UNEXPECTED_ERROR,\"can not find track in media stream\");return e.onError(s),s.throw(_)}let o=new ou(r,t,n,i);return e.onSuccess(o.getTrackId()),_.info(\"create microphone audio track success, trackId:\",i),o},createCustomAudioTrack:function(t){let e=X.reportApiInvoke(null,{tag:Zt.TRACER,name:Te.CREATE_CUSTOM_AUDIO_TRACK,options:[t]}),n=new Qt(t.mediaStreamTrack,t.encoderConfig?Jl(t.encoderConfig):{},Ut(8,\"track-cus-\"),!1);return _.info(\"create custom audio track success with config\",t,\"trackId\",n.getTrackId()),e.onSuccess(n.getTrackId()),n},createBufferSourceAudioTrack:async function(t){var e;let{cacheOnlineFile:n,encoderConfig:i}=t,{source:r}=t,o={source:r instanceof AudioBuffer?\"AudioBuffer\":r instanceof File?(e=File.name)!==null&&e!==void 0?e:\"File\":r,cacheOnlineFile:n,encoderConfig:i},s=X.reportApiInvoke(null,{tag:Zt.TRACER,name:Te.CREATE_BUFFER_AUDIO_TRACK,options:[o]});if(v(\"DISABLE_WEBAUDIO\"))throw new N(R.NOT_SUPPORTED,\"can not create BufferSourceAudioTrack when WebAudio disabled\");let a=Ut(8,\"track-buf-\");_.info(\"start create buffer source audio track with config\",JSON.stringify(o),\"trackId\",a);let c=r;if(!(r instanceof AudioBuffer))try{r=await async function(u,h){let p=null;if(typeof u==\"string\"){let E=eI.get(u);if(E)return _.debug(\"use cached audio resource: \",u),E;try{p=(await Wi(()=>mn.get(u,{responseType:\"arraybuffer\"}),void 0,void 0,{maxRetryCount:3})).data;}catch(f){throw new N(R.FETCH_AUDIO_FILE_FAILED,f.toString())}}else p=await new j((f,S)=>{let C=new FileReader;C.onload=A=>{A.target?f(A.target.result):S(new N(R.READ_LOCAL_AUDIO_FILE_ERROR));},C.onerror=()=>{S(new N(R.READ_LOCAL_AUDIO_FILE_ERROR));},C.readAsArrayBuffer(u);});let g=await function(E){let f=ga();return new j((S,C)=>{f.decodeAudioData(E,A=>{S(A);},A=>{C(new N(R.DECODE_AUDIO_FILE_FAILED,A.toString()));});})}(p);return typeof u==\"string\"&&h&&eI.set(u,g),g}(r,n);}catch(u){return s.onError(u),u.throw(_)}let d=new JE(r),l=new VG(c,d,i?Jl(i):{},a);return _.info(\"create buffer source audio track success, trackId:\",a),s.onSuccess(l.getTrackId()),l},setAppType:function(t){if(_.debug(\"setAppType: \".concat(t)),!(Number.isInteger(t)&&t>=0))throw _.debug(\"Invalid appType\"),new O(R.INVALID_PARAMS,\"invalid app type\",t);Ot(\"APP_TYPE\",Math.floor(t));},setLogLevel:function(t){_.setLogLevel(t);},enableLogUpload:function(){v(\"USE_NEW_LOG\")?Ot(\"UPLOAD_LOG\",!0):_.enableLogUpload();},disableLogUpload:function(){v(\"USE_NEW_LOG\")?Ot(\"UPLOAD_LOG\",!1):_.disableLogUpload();},createChannelMediaRelayConfiguration:function(){return new Eu},checkAudioTrackIsActive:async function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5e3,n=X.reportApiInvoke(null,{tag:Zt.TRACER,name:Te.CHECK_AUDIO_TRACK_IS_ACTIVE,options:[e]});if(!(t instanceof Qt||t instanceof Ks)){let c=new O(R.INVALID_TRACK,\"the parameter is not a audio track\");return n.onError(c),c.throw()}e&&e<1e3&&(e=1e3);let i=t instanceof Qt?t.getTrackLabel():\"remote_track\",r=t.getVolumeLevel(),o=r,s=r,a=Date.now();return new j(c=>{let d=setInterval(()=>{let l=t.getVolumeLevel();o=l>o?l:o,s=l<s?l:s;let u=o-s>1e-4,h=Date.now()-a;if(u||h>e){clearInterval(d);let p=u,g={duration:h,deviceLabel:i,maxVolumeLevel:o,result:p};_.info(\"[track-\".concat(t.getTrackId(),\"] check audio track active completed. \").concat(JSON.stringify(g))),n.onSuccess(g),c(p);}},200);})},checkVideoTrackIsActive:async function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5e3,n=X.reportApiInvoke(null,{tag:Zt.TRACER,name:Te.CHECK_VIDEO_TRACK_IS_ACTIVE,options:[e]});if(!(t instanceof Ft||t instanceof Hs)){let u=new O(R.INVALID_TRACK,\"the parameter is not a video track\");return n.onError(u),u.throw()}e&&e<1e3&&(e=1e3);let i=t instanceof Ft?t.getTrackLabel():\"remote_track\",r=t.getMediaStreamTrack(!0),o=document.createElement(\"video\");o.style.width=\"1px\",o.style.height=\"1px\",o.setAttribute(\"muted\",\"\"),o.muted=!0,o.setAttribute(\"playsinline\",\"\"),o.controls=!1,(je()||Gl())&&(o.style.opacity=\"0.01\",o.style.position=\"fixed\",o.style.left=\"0\",o.style.top=\"0\",document.body.appendChild(o)),o.srcObject=new MediaStream([r]),o.play();let s=document.createElement(\"canvas\");s.width=160,s.height=120;let a=0,c=0;try{let u=Date.now();a=await function(h,p,g,E){let f,S=0,C=null;return new j((A,b)=>{function w(){S>E&&f&&(f(),A(S));let D=g.getContext(\"2d\");if(!D){let V=new O(R.UNEXPECTED_ERROR,\"can not get canvas 2d context.\");return _.error(V.toString()),void b(V)}D.drawImage(h,0,0,160,120);let k=D.getImageData(0,0,g.width,g.height),B=Math.floor(k.data.length/3);if(C){for(let V=0;V<B;V+=3)if(k.data[V]!==C[V])return S+=1,void(C=k.data);C=k.data;}else C=k.data;}setTimeout(()=>{f&&(f(),A(S));},p),f=Rf(()=>{w();},30);})}(o,e,s,4),c=Date.now()-u;}catch(u){throw n.onError(u),u}gW===It.SAFARI&&(o.pause(),o.remove()),o.srcObject=null;let d=a>4,l={duration:c,changedPicNum:a,deviceLabel:i,result:d};return _.info(\"[track-\".concat(t.getTrackId(),\"] check video track active completed. \").concat(JSON.stringify(l))),n.onSuccess(l),d},setArea:Af,audioElementPlayCenter:En,resumeAudioContext:function(){En.autoResumeAfterInterruption(!0);},processExternalMediaAEC:function(t){MW.processExternalMediaAEC(t);},registerExtensions:function(t){let e=v(\"PLUGIN_INFO\")||[];t.forEach(n=>{\"name\"in n&&!W(e).call(e,n.name)&&e.push(n.name);let i=n;i.__registered__=!0,i.logger.hookLog=_.extLog,i.reporter.hookApiInvoke=X.extApiInvoke,i.parameters&&Object.keys(i.parameters).forEach(r=>{i.parameters[r]=v(r);});}),CA(\"PLUGIN_INFO\",e);},ChannelMediaRelayError:ys,ChannelMediaRelayEvent:Ir,ChannelMediaRelayState:Sn,RemoteStreamFallbackType:PG,RemoteStreamType:DG,ConnectionDisconnectedReason:At,AudienceLatencyLevelType:EB,AREAS:St,preload:async function(t,e,n,i){return y0(t,e,n,i)}});Object.defineProperties(Mt,{onAudioAutoplayFailed:{get:()=>Un.onAudioAutoplayFailed,set:t=>{Un.onAudioAutoplayFailed=t;}},onAutoplayFailed:{get:()=>Un.onAutoplayFailed,set:t=>{Un.onAutoplayFailed=t;}},_onSecurityPolicyViolation:{value:void 0,writable:!0},_cspEventHandlerPointer:{value:void 0,writable:!0},onSecurityPolicyViolation:{get:()=>Mt._onSecurityPolicyViolation,set(t){Mt._onSecurityPolicyViolation=t,L0(t);}},__CLIENT_LIST__:{get:()=>v(\"SHOW_GLOBAL_CLIENT_LIST\")?Jr:[]}}),Gn.on(Bo.CAMERA_DEVICE_CHANGED,t=>{_.info(\"camera device changed\",JSON.stringify(t)),Mt.onCameraChanged&&Mt.onCameraChanged(t),Mt.safeEmit(nr.CAMERA_CHANGED,t);}),Gn.on(Bo.RECORDING_DEVICE_CHANGED,t=>{_.info(\"microphone device changed\",JSON.stringify(t)),Mt.onMicrophoneChanged&&Mt.onMicrophoneChanged(t),Mt.safeEmit(nr.MICROPHONE_CHANGED,t);}),Gn.on(Bo.PLAYOUT_DEVICE_CHANGED,t=>{_.debug(\"playout device changed\",JSON.stringify(t)),Mt.onPlaybackDeviceChanged&&Mt.onPlaybackDeviceChanged(t),Mt.safeEmit(nr.PLAYBACK_DEVICE_CHANGED,t);}),En.onAutoplayFailed=()=>{_.info(\"detect audio element autoplay failed\"),Un.onAudioAutoplayFailed&&Un.onAudioAutoplayFailed();},wt.on(\"autoplay-failed\",()=>{_.info(\"detect webaudio autoplay failed\"),Un.onAudioAutoplayFailed&&Un.onAudioAutoplayFailed(),Mt.safeEmit(nr.AUTOPLAY_FAILED);}),wt.on(ke.STATE_CHANGE,(t,e)=>{_.info(\"audio context state changed: \".concat(e,\" => \").concat(t)),Mt.onAudioContextStateChanged&&Mt.onAudioContextStateChanged(t,e),Mt.safeEmit(nr.AUDIO_CONTEXT_STATE_CHANGED,t,e);}),he.on(ks.NETWORK_STATE_CHANGE,(t,e)=>{_.info(\"[network-indicator] network state changed, \".concat(e,\" => \").concat(t));}),window&&(window.__ARTC__=Mt);function Ae(t,e,n){return t.on(e,n),()=>t.off(e,n)}function iH(t){try{return t()}catch(e){console.error(e);}}function Kn(t){return ()=>t.forEach(iH)}function cN(t,e){let n=setInterval(t,e);return ()=>clearInterval(n)}function So(t,e){let n=setTimeout(t,e);return ()=>clearTimeout(n)}function Ia(){let t,e,n;function i(){if(e){let d=e;e=void 0,d();}}async function r(){if(n){let d=n;n=void 0;try{await d();}catch(l){console.error(l);}}}async function o(d){t=!0,await r();try{n=await d();}catch(l){console.error(l);}t=!1,i();}async function s(){t=!0,await r(),t=!1,i();}function a(d){t?e=()=>o(d):o(d);}function c(){t?e=s:s();}return {run:a,dispose:c}}var va=typeof document<\"u\"?react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect:react__WEBPACK_IMPORTED_MODULE_0__.useEffect;function aH(t){return t!=null&&typeof t.then==\"function\"}function Pn(){let t=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(!1);return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>(t.current=!1,()=>{t.current=!0;}),[]),t}function cH(){let t=Pn();function e(n,i){return new Promise(async(r,o)=>{try{let s=await n;t.current||r(s);}catch(s){t.current?i?i(s): true&&console.error(\"An error occurs from a promise after a component is unmounted\",s):o(s);}})}return (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(e,[t])}function ih(t){let e=cH(),[n,i]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)();return va(()=>{aH(t)?e(t).then(i):i(t);},[t,e]),n}function Yn(t,e){let n=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{let{run:i,dispose:r}=n.current||=Ia();return i(t),r},e);}function lN(t,e){let n=t.split(\".\"),i=e.split(\".\"),r=Math.max(n.length,i.length);for(let o=0;o<r;o++){let s=parseInt(n[o]||\"0\"),a=parseInt(i[o]||\"0\");if(s>a)return 1;if(s<a)return -1}return 0}function j5(t,e,n){let i=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(n);va(()=>{i.current=n;},[n]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{if(t)return Ae(t,e,(...r)=>{i.current&&i.current(...r);})},[e,t]);}function G5(t,e,n){let i=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(n);va(()=>{i.current=n;},[n]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{if(t)return Ae(t,e,(...r)=>{i.current&&i.current(...r);})},[e,t]);}var pN=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);function K5({client:t,children:e}){return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(pN.Provider,{value:t,children:e})}function uH(t){let e=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(pN);return t||e}function Ze(t){let e=uH(t);if(!e)throw new Error(\"Agora RTC client not found. Should be wrapped in <AgoraRTCProvider value={client} />\");return e}var _N=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);function J5({client:t,children:e}){return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_N.Provider,{value:t,children:e})}function X5(t){let e=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_N);return t||e}function i4(t){let e=Ze(t),[n,i]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(e?e.connectionState:\"DISCONNECTED\");return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{if(e){i(e.connectionState);let r;return Kn([Ae(e,\"connection-state-change\",o=>{r?.(),o===\"CONNECTED\"?r=So(()=>i(o),0):i(o);}),()=>r?.()])}else i(\"DISCONNECTED\");},[e]),n}function In(t){let e=Ze(t),[n,i]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(e?e.connectionState===\"CONNECTED\":!1);return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{if(e){i(e.connectionState===\"CONNECTED\");let r;return Kn([Ae(e,\"connection-state-change\",o=>{r?.(),r=So(()=>i(o===\"CONNECTED\"),0);}),()=>r?.()])}else i(!1);},[e]),n}function _4(t){let e=Ze(t),[n,i]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(e?.uid);return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{if(e)return Ae(e,\"connection-state-change\",r=>{if(r===\"CONNECTED\")return So(()=>i(e.uid),0);r===\"DISCONNECTED\"&&i(void 0);})},[e]),n}var Oe=class extends Error{rtcMethod;rtcError;name=\"AgoraRTCReactException\";constructor(e,n){typeof n==\"string\"?super(n):super(n.message),this.rtcMethod=e,this.rtcError=n;}log(e){console[e](this);}};function I4(t,e=!0,n){let i=Ze(n),r=In(n),o=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),[s,a]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[c,d]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),[l,u]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),h=Pn();return Yn(async()=>{if(h.current||(u(null),d(0),a(!1)),e&&i){try{h.current||a(!0);let{appid:g,channel:E,token:f,uid:S}=typeof t==\"function\"?await t():t,C=await i.join(g,E,f,S);h.current||d(C);}catch(g){console.error(g),h.current||u(new Oe(\"IAgoraRTCClient.join\",g));}h.current||a(!1);let p=o.current||=Ia();return Kn([()=>{p.dispose();},()=>{p.run(()=>i.unpublish(i.localTracks));},()=>{for(let g of i.localTracks)g.isPlaying&&g.stop(),g.close();p.run(()=>i.leave());}])}},[e,n]),{data:c,isLoading:s,isConnected:r,error:l}}var EN=()=>({uplinkNetworkQuality:0,downlinkNetworkQuality:0,delay:0});function w4(t){let e=Ze(t),[n,i]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(EN);return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{if(e)return Ae(e,\"network-quality\",r=>i({uplinkNetworkQuality:r.uplinkNetworkQuality,downlinkNetworkQuality:r.downlinkNetworkQuality,delay:e.getRTCStats().RTT??0}));i(EN());},[e]),n}function U4(t,e=!0,n){let i=Ze(n),r=In(n),o=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]),[s,a]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[c,d]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),l=Pn();return Yn(async()=>{if(l.current||(a(!1),d(null)),!i||!r||!e)return;let u=t.filter(Boolean),h=E=>{let f=lN(Mt.VERSION,\"4.18.2\")>=0;return f||new Oe(\"usePublish\",\"please check your agora-rtc-sdk-ng version in package.json, it's recommend upgrade to >= 4.18.2\").log(\"warn\"),f?i.mode!==\"live\"||i.role!==\"audience\":!0},p=E=>o.current.some(f=>f&&f.getTrackId()===E.getTrackId()),g=E=>h()&&E.enabled&&e&&!p(E);for(let E=0;E<u.length;E++){let f=u[E];if(f&&g(f)){await i.unpublish(o.current.filter(S=>S?.trackMediaType===f.trackMediaType));try{l.current||a(!0),await i.publish(f);}catch(S){console.error(S),l.current||d(new Oe(\"IAgoraRTCClient.publish\",S));}l.current||a(!1);}}o.current=u;},[r,e,i,t]),{isLoading:s,error:c}}function B4(t){let[e,n]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{if(t)return cN(()=>{n(t.getVolumeLevel());},1e3)},[t]),e}function q4(t=!0,e={ANS:!0,AEC:!0},n){let i=In(n),[r,o]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),[s,a]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[c,d]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),l=Pn();return Yn(async()=>{if(l.current||(a(!1),d(null)),i&&t&&!r){try{l.current||a(!0);let u=await Mt.createMicrophoneAudioTrack(e);l.current||o(u);}catch(u){console.error(u),l.current||d(new Oe(\"IAgoraRTC.createMicrophoneAudioTrack\",u));}l.current||a(!1);}!i&&!l.current&&o(null);},[i,t]),{localMicrophoneTrack:r,isLoading:s,error:c}}function tK(t=!0,e,n){let i=In(n),[r,o]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),[s,a]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[c,d]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),l=Pn();return Yn(async()=>{if(l.current||(a(!1),d(null)),i&&t&&!r){try{l.current||a(!0);let u=await Mt.createCameraVideoTrack(e);l.current||o(u);}catch(u){console.error(u),l.current||d(new Oe(\"IAgoraRTC.createCameraVideoTrack\",u));}l.current||a(!1);}!i&&!l.current&&o(null);},[i,t]),{localCameraTrack:r,isLoading:s,error:c}}function dK(t,e){let n=Ze(e),[i,r]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),o=In(),s=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]),[a,c]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[d,l]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),u=Pn();return Yn(async()=>{if(u.current||l(null),!Array.isArray(t)||!o)return;let h=async E=>{if(!E.audioTrack&&t.some(({uid:f})=>E.uid===f)){try{u.current||c(!0),await n.subscribe(E,\"audio\");}catch(f){console.error(f),u.current||l(new Oe(\"IAgoraRTCClient.subscribe\",f));}E.audioTrack&&!s.current.some(f=>f.getUserId()===E.uid)&&s.current.push(E.audioTrack),s.current=s.current.map(f=>E.audioTrack&&f.getUserId()===E.uid&&f.getTrackId()!==E.audioTrack.getTrackId()?E.audioTrack:f),u.current||(r([...s.current]),c(!1));}},p=async E=>{if(t.some(({uid:f})=>E.uid===f)){u.current||(s.current=s.current.filter(f=>f.getUserId()!==E.uid),r([...s.current]));try{u.current||c(!0),await n.unsubscribe(E,\"audio\");}catch(f){console.error(f),u.current||l(new Oe(\"IAgoraRTCClient.unsubscribe\",f));}u.current||c(!1);}};t.map(E=>{!E.audioTrack&&E.hasAudio&&h(E);});let g=[];for(let E=0;E<s.current.length;E++){let f=s.current[E];if(!t.some(S=>S.uid===f.getUserId())){let S=n.remoteUsers.find(C=>C.uid===f.getUserId());S&&g.push({user:S,mediaType:\"audio\"}),s.current.splice(E,1),E--;}}if(g.length>0){try{u.current||c(!0),await n.massUnsubscribe(g);}catch(E){console.error(E),u.current||l(new Oe(\"IAgoraRTCClient.massUnsubscribe\",E));}u.current||(r(s.current.slice()),c(!1));}return Kn([Ae(n,\"user-published\",(E,f)=>{t.find(S=>S.uid===E.uid)&&f===\"audio\"&&h(E);}),Ae(n,\"user-unpublished\",(E,f)=>{t.find(S=>S.uid===E.uid)&&f===\"audio\"&&p(E);})])},[o,n,t]),{audioTracks:i,isLoading:a,error:d}}function gK(t,e){let n=Ze(e),[i,r]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),o=In(),s=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]),[a,c]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[d,l]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),u=Pn();return Yn(async()=>{if(u.current||l(null),!Array.isArray(t)||!o)return;let h=async E=>{if(!E.videoTrack&&t.some(({uid:f})=>E.uid===f)){try{u.current||c(!0),await n.subscribe(E,\"video\");}catch(f){console.error(f),u.current||l(new Oe(\"IAgoraRTCClient.subscribe\",f));}E.videoTrack&&!s.current.some(f=>f.getUserId()===E.uid)&&s.current.push(E.videoTrack),s.current=s.current.map(f=>E.videoTrack&&f.getUserId()===E.uid&&f.getTrackId()!==E.videoTrack.getTrackId()?E.videoTrack:f),u.current||(r([...s.current]),c(!1));}},p=async E=>{if(t.some(({uid:f})=>E.uid===f)){u.current||(s.current=s.current.filter(f=>f.getUserId()!==E.uid),r([...s.current]));try{u.current||c(!0),await n.unsubscribe(E,\"video\");}catch(f){console.error(f),u.current||l(new Oe(\"IAgoraRTCClient.unsubscribe\",f));}u.current||c(!1);}};t.map(E=>{!E.videoTrack&&E.hasVideo&&h(E);});let g=[];for(let E=0;E<s.current.length;E++){let f=s.current[E];if(!t.some(S=>S.uid===f.getUserId())){let S=n.remoteUsers.find(C=>C.uid===f.getUserId());S&&g.push({user:S,mediaType:\"video\"}),s.current.splice(E,1),E--;}}if(g.length>0){try{u.current||c(!0),await n.massUnsubscribe(g);}catch(E){console.error(E),u.current||l(new Oe(\"IAgoraRTCClient.massUnsubscribe\",E));}u.current||(r(s.current.slice()),c(!1));}return Kn([Ae(n,\"user-published\",(E,f)=>{t.find(S=>S.uid===E.uid)&&f===\"video\"&&h(E);}),Ae(n,\"user-unpublished\",(E,f)=>{t.find(S=>S.uid===E.uid)&&f===\"video\"&&p(E);})])},[o,n,t]),{videoTracks:i,isLoading:a,error:d}}function Wf(t,e,n){let i=Ze(n),r=e===\"audio\"?\"audioTrack\":\"videoTrack\",[o,s]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(t&&t[r]),a=In(),c=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),[d,l]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[u,h]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{if(!t||!a)return;let p=!1;p||h(null);let g=e===\"audio\"?\"hasAudio\":\"hasVideo\",E=t.uid,f=async(A,b)=>{if(A[r]&&i.remoteUsers.some(({uid:w})=>A.uid===w))try{p||l(!0),await i.unsubscribe(A,b);}catch(w){p||h(new Oe(\"IAgoraRTCClient.unsubscribe\",w)),console.error(w);}p||(s(void 0),l(!1));},S=async(A,b)=>{try{!A[r]&&i.remoteUsers.some(({uid:w})=>A.uid===w)&&(p||l(!0),await i.subscribe(A,b)),p||s(A[r]);}catch(w){p||h(new Oe(\"IAgoraRTCClient.subscribe\",w)),console.error(w);}p||l(!1);},C=c.current||=Ia();return !t[r]&&t[g]?C.run(()=>S(t,e)):s(t[r]),Kn([()=>{p=!0,C.dispose();},Ae(i,\"user-published\",(A,b)=>{A.uid===E&&b===e&&C.run(()=>S(A,e));}),Ae(i,\"user-unpublished\",(A,b)=>{A.uid===E&&b===e&&C.run(()=>f(A,e));})])},[a,i,t,e,r]),{track:o,isLoading:d,error:u}}function DK(t){let e=Ze(t),[n,i]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(e?e.remoteUsers:[]);return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{if(e){let r=()=>i(e.remoteUsers.slice());return Kn([Ae(e,\"user-joined\",r),Ae(e,\"user-left\",r),Ae(e,\"user-published\",r),Ae(e,\"user-unpublished\",r)])}},[e]),n}function VK(t=!0,e,n,i){let r=In(i),[o,s]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),[a,c]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[d,l]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),u=Pn();return Yn(async()=>{if(u.current||(c(!1),l(null)),r&&t&&!o){try{u.current||c(!0);let h=await Mt.createScreenVideoTrack(e,n);u.current||s(h);}catch(h){console.error(h),u.current||l(new Oe(\"IAgoraRTC.createScreenVideoTrack\",h));}u.current||c(!1);}(!r||!t)&&!u.current&&s(null);},[r,t]),{screenTrack:o,isLoading:a,error:d}}function UH(){let t=new Map,e=1500;return {onMount:n=>{let i=t.get(n);i&&(i(),t.delete(n));},onUnmount:n=>{let i=t.get(n);i&&i(),t.set(n,So(()=>{n.isPlaying&&n.stop(),t.delete(n);},e));},dispose:()=>{for(let[n,i]of t)n.isPlaying&&n.stop(),i&&i();t.clear();}}}var Kf=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(void 0);function WK({children:t}){let[e]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(UH);return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>e.dispose,[e]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Kf.Provider,{value:e,children:t})}function rh(t,e,n,i){let r=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(Kf);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{if(t)return i&&e?t.play(i,n||void 0):t.stop(),r?(r.onMount(t),()=>r.onUnmount(t)):()=>{t.isPlaying&&t.stop();}},[t,i,e,r,n]);}function oh(t,e){let n=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(Kf);va(()=>{if(t)return e?t.play():t.stop(),n?(n.onMount(t),()=>n.onUnmount(t)):()=>{t.isPlaying&&t.stop();}},[t,e,n]);}function TN({track:t,play:e=!1,volume:n,disabled:i,muted:r,children:o}){let s=ih(t);return oh(s,e),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{s&&n!=null&&s.setVolume(n);},[s,n]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{s&&i!=null&&s.setEnabled(!i).catch(console.warn);},[i,s]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{s&&r!=null&&s.setMuted(r).catch(console.warn);},[r,s]),o?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:o}):null}var sh={position:\"relative\",width:\"100%\",height:\"100%\",overflow:\"hidden\",background:\"#000\"},ah={width:\"100%\",height:\"100%\"},ya={position:\"absolute\",top:0,left:0,width:\"100%\",height:\"100%\",overflow:\"hidden\",zIndex:2},Ro=(t,e)=>(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>({...t,...e}),[t,e]);function RN({track:t,play:e,disabled:n,muted:i,style:r,videoPlayerConfig:o,...s}){let a=Ro(ah,r),[c,d]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),l=ih(t);return rh(l,e,o,c),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{l&&n!=null&&l.setEnabled(!n).catch(console.warn);},[n,l]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{l&&i!=null&&l.setMuted(i).catch(console.warn);},[i,l]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\",{...s,ref:d,style:a})}var WH={width:\"100%\",height:\"100%\",background:\"#1a1e21 center/cover no-repeat\",filter:\"blur(16px) brightness(0.4)\"},HH={position:\"absolute\",top:\"50%\",left:\"50%\",maxWidth:\"50%\",maxHeight:\"50%\",aspectRatio:\"1\",transform:\"translate(-50%, -50%)\",borderRadius:\"50%\",overflow:\"hidden\",objectFit:\"cover\"};function ch({cover:t}){return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\",{style:ya,children:typeof t==\"string\"?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\",{style:{...WH,backgroundImage:`url(${t})`}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"img\",{src:t,style:HH})]}):t()})}function h6({micOn:t,cameraOn:e,audioTrack:n,videoTrack:i,playAudio:r,playVideo:o,volume:s,cover:a,children:c,style:d,...l}){let u=Ro(sh,d);return o=o??!!e,r=r??!!t,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\",{...l,style:u,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(RN,{disabled:!e,play:o,track:i}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(TN,{disabled:!t,play:r,track:n,volume:s}),a&&!e&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ch,{cover:a}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\",{style:ya,children:c})]})}function IN({track:t,play:e=!1,playbackDeviceId:n,volume:i,children:r}){return oh(t,e),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{t&&n!=null&&t.setPlaybackDevice(n).catch(console.warn);},[t,n]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{t&&i!=null&&t.setVolume(i);},[t,i]),r?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:r}):null}function vN({track:t,play:e,style:n,videoPlayerConfig:i,...r}){let o=Ro(ah,n),[s,a]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);return rh(t,e,i,s),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\",{...r,ref:a,style:o})}function O6({user:t,playVideo:e,playAudio:n,playbackDeviceId:i,volume:r,cover:o,style:s,children:a,videoPlayerConfig:c,...d}){let l=Ro(sh,s),{track:u}=Wf(t,\"video\"),{track:h}=Wf(t,\"audio\");return e=e??t?.hasVideo,n=n??t?.hasAudio,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\",{...d,style:l,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(vN,{play:e,track:u,videoPlayerConfig:c}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(IN,{play:n,playbackDeviceId:i,track:h,volume:r}),o&&!e&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ch,{cover:o}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\",{style:ya,children:a})]})}var zf=class{appType=1001;constructor(){Mt.setAppType(this.appType);}};new zf;var k6=\"2.3.0\";var U6=Mt;/*! Bundled license information:\n\nagora-rtc-sdk-ng/AgoraRTC_N-production.esm.mjs:\n  (*! formdata-polyfill. MIT License. Jimmy W?rting <https://jimmy.warting.se/opensource> *)\n*/\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYWdvcmEtcnRjLXJlYWN0L2Rpc3QvYWdvcmEtcnRjLXJlYWN0Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNIO0FBQzlEOztBQUV4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlCQUFpQiw2QkFBNkIsNkVBQTZFLDZCQUE2QiwyQ0FBMkMsbUNBQW1DLDZCQUE2QixhQUFhLElBQUksR0FBRyxtQkFBbUIsa0hBQWtILGVBQWUsc0ZBQXNGLG1CQUFtQixJQUFJLGFBQWEsTUFBTSxXQUFXLG1CQUFtQixrQkFBa0IsUUFBUSwyREFBMkQseUZBQXlGLGtCQUFrQiw4QkFBOEIsU0FBUywrQkFBK0IsMEJBQTBCLCtKQUErSixZQUFZLDRKQUE0Siw4QkFBOEIsZ0JBQWdCLDBDQUEwQyxzQkFBc0IsNEJBQTRCLG1DQUFtQyxnREFBZ0QsMkNBQTJDLHdDQUF3QyxvQ0FBb0MsYUFBYSw0QkFBNEIsTUFBTSxtQkFBbUIsK0JBQStCLElBQUksZUFBZSxVQUFVLFFBQVEsZ0VBQWdFLDhCQUE4QixNQUFNLE1BQU0sMEVBQTBFLElBQUksSUFBSSxvQkFBb0IsaUJBQWlCLHlCQUF5QixJQUFJLDJCQUEyQixRQUFRLCtEQUErRCx3REFBd0Qsd0NBQXdDLGNBQWMsc0NBQXNDLG1CQUFtQixlQUFlLG1DQUFtQyw2Q0FBNkMsU0FBUyw0QkFBNEIsaUJBQWlCLDhDQUE4QyxpREFBaUQsYUFBYSx5Q0FBeUMsTUFBTSxrQ0FBa0Msc0JBQXNCLGtCQUFrQixnRkFBZ0YsK0lBQStJLDRKQUE0SixxRkFBcUYsZUFBZSxzRUFBc0Usc0dBQXNHLDBCQUEwQixhQUFhLG1CQUFtQixvQ0FBb0MsMEJBQTBCLElBQUksYUFBYSxNQUFNLGlCQUFpQix5Q0FBeUMsa0JBQWtCLHFDQUFxQyw4QkFBOEIsV0FBVywwQkFBMEIsb0NBQW9DLFdBQVcsaURBQWlELElBQUksU0FBUyxvQ0FB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USx1QkFBdUIsc0RBQUcsS0FBSyxtQ0FBbUMsRUFBRSxzREFBRyxLQUFLLDJDQUEyQyxTQUFTLHNEQUFHLEtBQUssUUFBUSxFQUFFLHNEQUFHLFFBQVEsb0JBQW9CLEdBQUcsRUFBRSxhQUFhLGFBQWEsY0FBYywrQkFBK0IsT0FBTyxlQUFlLFVBQVU7O0FBRXh5M0s7QUFDQTtBQUNBOztBQUU2dkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYWdvcmEtcnRjLXJlYWN0L2Rpc3QvYWdvcmEtcnRjLXJlYWN0Lm1qcz9iNWRkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbnRleHQsIHVzZVJlZiwgdXNlRWZmZWN0LCB1c2VDb250ZXh0LCB1c2VTdGF0ZSwgdXNlTGF5b3V0RWZmZWN0LCB1c2VNZW1vLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGpzeCwgRnJhZ21lbnQsIGpzeHMgfSBmcm9tICdyZWFjdC9qc3gtcnVudGltZSc7XG5cbi8qKlxuICogQGxpY2Vuc2UgYWdvcmEtcnRjLXJlYWN0XG4gKiBAdmVyc2lvbiAyLjMuMFxuICpcbiAqIENvcHlyaWdodCAoYykgQWdvcmEsIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqL1xuXG5mdW5jdGlvbiB5Tih0LGUpe3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24obil7biYmdHlwZW9mIG4hPVwic3RyaW5nXCImJiFBcnJheS5pc0FycmF5KG4pJiZPYmplY3Qua2V5cyhuKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe2lmKGkhPT1cImRlZmF1bHRcIiYmIShpIGluIHQpKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4saSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsaSxyLmdldD9yOntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuW2ldfX0pO319KTt9KSxPYmplY3QuZnJlZXplKHQpfXZhciBWcz10eXBlb2YgZ2xvYmFsVGhpczxcInVcIj9nbG9iYWxUaGlzOnR5cGVvZiB3aW5kb3c8XCJ1XCI/d2luZG93OnR5cGVvZiBnbG9iYWw8XCJ1XCI/Z2xvYmFsOnR5cGVvZiBzZWxmPFwidVwiP3NlbGY6e307ZnVuY3Rpb24gYWUodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZSYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsXCJkZWZhdWx0XCIpP3QuZGVmYXVsdDp0fXZhciBTZT1mdW5jdGlvbih0KXt0cnl7cmV0dXJuICEhdCgpfWNhdGNoe3JldHVybiAhMH19LHZ1PSFTZShmdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKCl7fS5iaW5kKCk7cmV0dXJuIHR5cGVvZiB0IT1cImZ1bmN0aW9uXCJ8fHQuaGFzT3duUHJvcGVydHkoXCJwcm90b3R5cGVcIil9KSxJQT12dSx2QT1GdW5jdGlvbi5wcm90b3R5cGUsR189dkEuY2FsbCxBTj1JQSYmdkEuYmluZC5iaW5kKEdfLEdfKSxtZT1JQT9BTjpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gR18uYXBwbHkodCxhcmd1bWVudHMpfX0saG49bWUoe30uaXNQcm90b3R5cGVPZiksY2Q9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuTWF0aD09TWF0aCYmdH0sV2U9Y2QodHlwZW9mIGdsb2JhbFRoaXM9PVwib2JqZWN0XCImJmdsb2JhbFRoaXMpfHxjZCh0eXBlb2Ygd2luZG93PT1cIm9iamVjdFwiJiZ3aW5kb3cpfHxjZCh0eXBlb2Ygc2VsZj09XCJvYmplY3RcIiYmc2VsZil8fGNkKHR5cGVvZiBWcz09XCJvYmplY3RcIiYmVnMpfHxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpfHxWc3x8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpLGJOPXZ1LHlBPUZ1bmN0aW9uLnByb3RvdHlwZSxYZj15QS5hcHBseSxRZj15QS5jYWxsLHZtPXR5cGVvZiBSZWZsZWN0PT1cIm9iamVjdFwiJiZSZWZsZWN0LmFwcGx5fHwoYk4/UWYuYmluZChYZik6ZnVuY3Rpb24oKXtyZXR1cm4gUWYuYXBwbHkoWGYsYXJndW1lbnRzKX0pLEFBPW1lLHdOPUFBKHt9LnRvU3RyaW5nKSxPTj1BQShcIlwiLnNsaWNlKSxwcj1mdW5jdGlvbih0KXtyZXR1cm4gT04od04odCksOCwtMSl9LE5OPXByLEROPW1lLGdjPWZ1bmN0aW9uKHQpe2lmKE5OKHQpPT09XCJGdW5jdGlvblwiKXJldHVybiBETih0KX0sdWg9dHlwZW9mIGRvY3VtZW50PT1cIm9iamVjdFwiJiZkb2N1bWVudC5hbGwseXU9e2FsbDp1aCxJU19IVE1MRERBOnVoPT09dm9pZCAwJiZ1aCE9PXZvaWQgMH0sUE49eXUuYWxsLEhlPXl1LklTX0hUTUxEREE/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0PT1cImZ1bmN0aW9uXCJ8fHQ9PT1QTn06ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0PT1cImZ1bmN0aW9uXCJ9LFljPXt9LHJpPSFTZShmdW5jdGlvbigpe3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sMSx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSlbMV0hPTd9KSxrTj12dSxkZD1GdW5jdGlvbi5wcm90b3R5cGUuY2FsbCxLZT1rTj9kZC5iaW5kKGRkKTpmdW5jdGlvbigpe3JldHVybiBkZC5hcHBseShkZCxhcmd1bWVudHMpfSxBdT17fSxiQT17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSx3QT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLExOPXdBJiYhYkEuY2FsbCh7MToyfSwxKTtBdS5mPUxOP2Z1bmN0aW9uKHQpe3ZhciBlPXdBKHRoaXMsdCk7cmV0dXJuICEhZSYmZS5lbnVtZXJhYmxlfTpiQTt2YXIgeHIscmwsX289ZnVuY3Rpb24odCxlKXtyZXR1cm4ge2VudW1lcmFibGU6ISgxJnQpLGNvbmZpZ3VyYWJsZTohKDImdCksd3JpdGFibGU6ISg0JnQpLHZhbHVlOmV9fSxNTj1TZSxVTj1wcixoaD1PYmplY3QseE49bWUoXCJcIi5zcGxpdCksYnU9TU4oZnVuY3Rpb24oKXtyZXR1cm4gIWhoKFwielwiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKX0pP2Z1bmN0aW9uKHQpe3JldHVybiBVTih0KT09XCJTdHJpbmdcIj94Tih0LFwiXCIpOmhoKHQpfTpoaCxkYT1mdW5jdGlvbih0KXtyZXR1cm4gdD09bnVsbH0sVk49ZGEsRk49VHlwZUVycm9yLGxhPWZ1bmN0aW9uKHQpe2lmKFZOKHQpKXRocm93IEZOKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gXCIrdCk7cmV0dXJuIHR9LEJOPWJ1LGpOPWxhLEVvPWZ1bmN0aW9uKHQpe3JldHVybiBCTihqTih0KSl9LFpmPUhlLEdOPXl1LmFsbCxIbj15dS5JU19IVE1MRERBP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdD09XCJvYmplY3RcIj90IT09bnVsbDpaZih0KXx8dD09PUdOfTpmdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHQ9PVwib2JqZWN0XCI/dCE9PW51bGw6WmYodCl9LEdpPXt9LHBoPUdpLF9oPVdlLFdOPUhlLCRmPWZ1bmN0aW9uKHQpe3JldHVybiBXTih0KT90OnZvaWQgMH0sRG49ZnVuY3Rpb24odCxlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyPyRmKHBoW3RdKXx8JGYoX2hbdF0pOnBoW3RdJiZwaFt0XVtlXXx8X2hbdF0mJl9oW3RdW2VdfSwkbz10eXBlb2YgbmF2aWdhdG9yPFwidVwiJiZTdHJpbmcobmF2aWdhdG9yLnVzZXJBZ2VudCl8fFwiXCIsT0E9V2UsRWg9JG8sdGc9T0EucHJvY2VzcyxlZz1PQS5EZW5vLG5nPXRnJiZ0Zy52ZXJzaW9uc3x8ZWcmJmVnLnZlcnNpb24saWc9bmcmJm5nLnY4O2lnJiYocmw9KHhyPWlnLnNwbGl0KFwiLlwiKSlbMF0+MCYmeHJbMF08ND8xOisoeHJbMF0reHJbMV0pKSwhcmwmJkVoJiYoISh4cj1FaC5tYXRjaCgvRWRnZVxcLyhcXGQrKS8pKXx8eHJbMV0+PTc0KSYmKHhyPUVoLm1hdGNoKC9DaHJvbWVcXC8oXFxkKykvKSkmJihybD0reHJbMV0pO3ZhciB6bz1ybCxyZz16byxITj1TZSxLTj1XZS5TdHJpbmcsdWE9ISFPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzJiYhSE4oZnVuY3Rpb24oKXt2YXIgdD1TeW1ib2woKTtyZXR1cm4gIUtOKHQpfHwhKE9iamVjdCh0KWluc3RhbmNlb2YgU3ltYm9sKXx8IVN5bWJvbC5zaGFtJiZyZyYmcmc8NDF9KSxOQT11YSYmIVN5bWJvbC5zaGFtJiZ0eXBlb2YgU3ltYm9sLml0ZXJhdG9yPT1cInN5bWJvbFwiLFlOPURuLHFOPUhlLHpOPWhuLEpOPU9iamVjdCxxYz1OQT9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHQ9PVwic3ltYm9sXCJ9OmZ1bmN0aW9uKHQpe3ZhciBlPVlOKFwiU3ltYm9sXCIpO3JldHVybiBxTihlKSYmek4oZS5wcm90b3R5cGUsSk4odCkpfSxYTj1TdHJpbmcsaGE9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiBYTih0KX1jYXRjaHtyZXR1cm4gXCJPYmplY3RcIn19LFFOPUhlLFpOPWhhLCROPVR5cGVFcnJvcix5aT1mdW5jdGlvbih0KXtpZihRTih0KSlyZXR1cm4gdDt0aHJvdyAkTihaTih0KStcIiBpcyBub3QgYSBmdW5jdGlvblwiKX0sdEQ9eWksZUQ9ZGEsd3U9ZnVuY3Rpb24odCxlKXt2YXIgbj10W2VdO3JldHVybiBlRChuKT92b2lkIDA6dEQobil9LG1oPUtlLGZoPUhlLGdoPUhuLG5EPVR5cGVFcnJvcixEQT17ZXhwb3J0czp7fX0sb2c9V2UsaUQ9T2JqZWN0LmRlZmluZVByb3BlcnR5LHJEPWZ1bmN0aW9uKHQsZSl7dHJ5e2lEKG9nLHQse3ZhbHVlOmUsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk7fWNhdGNoe29nW3RdPWU7fXJldHVybiBlfSxzZz1cIl9fY29yZS1qc19zaGFyZWRfX1wiLHltPVdlW3NnXXx8ckQoc2cse30pLGFnPXltOyhEQS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGFnW3RdfHwoYWdbdF09ZSE9PXZvaWQgMD9lOnt9KX0pKFwidmVyc2lvbnNcIixbXSkucHVzaCh7dmVyc2lvbjpcIjMuMzEuMVwiLG1vZGU6XCJwdXJlXCIsY29weXJpZ2h0OlwiXFx4QTkgMjAxNC0yMDIzIERlbmlzIFB1c2hrYXJldiAoemxvaXJvY2sucnUpXCIsbGljZW5zZTpcImh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2Jsb2IvdjMuMzEuMS9MSUNFTlNFXCIsc291cmNlOlwiaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanNcIn0pO3ZhciBwYT1EQS5leHBvcnRzLG9EPWxhLHNEPU9iamVjdCxfcj1mdW5jdGlvbih0KXtyZXR1cm4gc0Qob0QodCkpfSxhRD1fcixjRD1tZSh7fS5oYXNPd25Qcm9wZXJ0eSksSmU9T2JqZWN0Lmhhc093bnx8ZnVuY3Rpb24odCxlKXtyZXR1cm4gY0QoYUQodCksZSl9LGREPW1lLGxEPTAsdUQ9TWF0aC5yYW5kb20oKSxoRD1kRCgxIC50b1N0cmluZyksQW09ZnVuY3Rpb24odCl7cmV0dXJuIFwiU3ltYm9sKFwiKyh0PT09dm9pZCAwP1wiXCI6dCkrXCIpX1wiK2hEKCsrbEQrdUQsMzYpfSxwRD1wYSxjZz1KZSxfRD1BbSxFRD11YSxtRD1OQSx3cz1XZS5TeW1ib2wsVGg9cEQoXCJ3a3NcIiksZkQ9bUQ/d3MuZm9yfHx3czp3cyYmd3Mud2l0aG91dFNldHRlcnx8X0QscGU9ZnVuY3Rpb24odCl7cmV0dXJuIGNnKFRoLHQpfHwoVGhbdF09RUQmJmNnKHdzLHQpP3dzW3RdOmZEKFwiU3ltYm9sLlwiK3QpKSxUaFt0XX0sZ0Q9S2UsZGc9SG4sbGc9cWMsVEQ9d3UsU0Q9ZnVuY3Rpb24odCxlKXt2YXIgbixpO2lmKGZoKG49dC50b1N0cmluZykmJiFnaChpPW1oKG4sdCkpfHxmaChuPXQudmFsdWVPZikmJiFnaChpPW1oKG4sdCkpfHxlIT09XCJzdHJpbmdcIilyZXR1cm4gaTt0aHJvdyBuRChcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKX0sUkQ9VHlwZUVycm9yLENEPXBlKFwidG9QcmltaXRpdmVcIiksSUQ9ZnVuY3Rpb24odCxlKXtpZighZGcodCl8fGxnKHQpKXJldHVybiB0O3ZhciBuLGk9VEQodCxDRCk7aWYoaSl7aWYobj1nRChpLHQsZSksIWRnKG4pfHxsZyhuKSlyZXR1cm4gbjt0aHJvdyBSRChcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKX1yZXR1cm4gU0QodCxlKX0sdkQ9cWMsT3U9ZnVuY3Rpb24odCl7dmFyIGU9SUQodCxcInN0cmluZ1wiKTtyZXR1cm4gdkQoZSk/ZTplK1wiXCJ9LHVnPUhuLFdfPVdlLmRvY3VtZW50LHlEPXVnKFdfKSYmdWcoV18uY3JlYXRlRWxlbWVudCksYm09ZnVuY3Rpb24odCl7cmV0dXJuIHlEP1dfLmNyZWF0ZUVsZW1lbnQodCk6e319LEFEPWJtLFBBPSFyaSYmIVNlKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBRChcImRpdlwiKSxcImFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYSE9N30pLGJEPXJpLHdEPUtlLE9EPUF1LE5EPV9vLEREPUVvLFBEPU91LGtEPUplLExEPVBBLGhnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7WWMuZj1iRD9oZzpmdW5jdGlvbih0LGUpe2lmKHQ9REQodCksZT1QRChlKSxMRCl0cnl7cmV0dXJuIGhnKHQsZSl9Y2F0Y2h7fWlmKGtEKHQsZSkpcmV0dXJuIE5EKCF3RChPRC5mLHQsZSksdFtlXSl9O3ZhciBNRD1TZSxVRD1IZSx4RD0vI3xcXC5wcm90b3R5cGVcXC4vLHpjPWZ1bmN0aW9uKHQsZSl7dmFyIG49RkRbVkQodCldO3JldHVybiBuPT1qRHx8biE9QkQmJihVRChlKT9NRChlKTohIWUpfSxWRD16Yy5ub3JtYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuIFN0cmluZyh0KS5yZXBsYWNlKHhELFwiLlwiKS50b0xvd2VyQ2FzZSgpfSxGRD16Yy5kYXRhPXt9LEJEPXpjLk5BVElWRT1cIk5cIixqRD16Yy5QT0xZRklMTD1cIlBcIixrQT16YyxHRD15aSxXRD12dSxIRD1nYyhnYy5iaW5kKSxtbz1mdW5jdGlvbih0LGUpe3JldHVybiBHRCh0KSxlPT09dm9pZCAwP3Q6V0Q/SEQodCxlKTpmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19LEFpPXt9LExBPXJpJiZTZShmdW5jdGlvbigpe3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZnVuY3Rpb24oKXt9LFwicHJvdG90eXBlXCIse3ZhbHVlOjQyLHdyaXRhYmxlOiExfSkucHJvdG90eXBlIT00Mn0pLEtEPUhuLFlEPVN0cmluZyxxRD1UeXBlRXJyb3IsQ249ZnVuY3Rpb24odCl7aWYoS0QodCkpcmV0dXJuIHQ7dGhyb3cgcUQoWUQodCkrXCIgaXMgbm90IGFuIG9iamVjdFwiKX0sekQ9cmksSkQ9UEEsWEQ9TEEsbGQ9Q24scGc9T3UsUUQ9VHlwZUVycm9yLFNoPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxaRD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFJoPVwiZW51bWVyYWJsZVwiLENoPVwiY29uZmlndXJhYmxlXCIsSWg9XCJ3cml0YWJsZVwiO0FpLmY9ekQ/WEQ/ZnVuY3Rpb24odCxlLG4pe2lmKGxkKHQpLGU9cGcoZSksbGQobiksdHlwZW9mIHQ9PVwiZnVuY3Rpb25cIiYmZT09PVwicHJvdG90eXBlXCImJlwidmFsdWVcImluIG4mJkloIGluIG4mJiFuW0loXSl7dmFyIGk9WkQodCxlKTtpJiZpW0loXSYmKHRbZV09bi52YWx1ZSxuPXtjb25maWd1cmFibGU6Q2ggaW4gbj9uW0NoXTppW0NoXSxlbnVtZXJhYmxlOlJoIGluIG4/bltSaF06aVtSaF0sd3JpdGFibGU6ITF9KTt9cmV0dXJuIFNoKHQsZSxuKX06U2g6ZnVuY3Rpb24odCxlLG4pe2lmKGxkKHQpLGU9cGcoZSksbGQobiksSkQpdHJ5e3JldHVybiBTaCh0LGUsbil9Y2F0Y2h7fWlmKFwiZ2V0XCJpbiBufHxcInNldFwiaW4gbil0aHJvdyBRRChcIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkXCIpO3JldHVybiBcInZhbHVlXCJpbiBuJiYodFtlXT1uLnZhbHVlKSx0fTt2YXIgJEQ9QWksdFA9X28sZm89cmk/ZnVuY3Rpb24odCxlLG4pe3JldHVybiAkRC5mKHQsZSx0UCgxLG4pKX06ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0W2VdPW4sdH0sdWQ9V2UsZVA9dm0sblA9Z2MsaVA9SGUsclA9WWMuZixvUD1rQSxvcz1HaSxzUD1tbyxzcz1mbyxfZz1KZSxhUD1mdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbihuLGkscil7aWYodGhpcyBpbnN0YW5jZW9mIGUpe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG5ldyB0O2Nhc2UgMTpyZXR1cm4gbmV3IHQobik7Y2FzZSAyOnJldHVybiBuZXcgdChuLGkpfXJldHVybiBuZXcgdChuLGkscil9cmV0dXJuIGVQKHQsdGhpcyxhcmd1bWVudHMpfTtyZXR1cm4gZS5wcm90b3R5cGU9dC5wcm90b3R5cGUsZX0seHQ9ZnVuY3Rpb24odCxlKXt2YXIgbixpLHIsbyxzLGEsYyxkLGwsdT10LnRhcmdldCxoPXQuZ2xvYmFsLHA9dC5zdGF0LGc9dC5wcm90byxFPWg/dWQ6cD91ZFt1XToodWRbdV18fHt9KS5wcm90b3R5cGUsZj1oP29zOm9zW3VdfHxzcyhvcyx1LHt9KVt1XSxTPWYucHJvdG90eXBlO2ZvcihvIGluIGUpaT0hKG49b1AoaD9vOnUrKHA/XCIuXCI6XCIjXCIpK28sdC5mb3JjZWQpKSYmRSYmX2coRSxvKSxhPWZbb10saSYmKGM9dC5kb250Q2FsbEdldFNldD8obD1yUChFLG8pKSYmbC52YWx1ZTpFW29dKSxzPWkmJmM/YzplW29dLGkmJnR5cGVvZiBhPT10eXBlb2Ygc3x8KGQ9dC5iaW5kJiZpP3NQKHMsdWQpOnQud3JhcCYmaT9hUChzKTpnJiZpUChzKT9uUChzKTpzLCh0LnNoYW18fHMmJnMuc2hhbXx8YSYmYS5zaGFtKSYmc3MoZCxcInNoYW1cIiwhMCksc3MoZixvLGQpLGcmJihfZyhvcyxyPXUrXCJQcm90b3R5cGVcIil8fHNzKG9zLHIse30pLHNzKG9zW3JdLG8scyksdC5yZWFsJiZTJiYobnx8IVNbb10pJiZzcyhTLG8scykpKTt9LGNQPU1hdGguY2VpbCxkUD1NYXRoLmZsb29yLGxQPU1hdGgudHJ1bmN8fGZ1bmN0aW9uKHQpe3ZhciBlPSt0O3JldHVybiAoZT4wP2RQOmNQKShlKX0sdVA9bFAsd209ZnVuY3Rpb24odCl7dmFyIGU9K3Q7cmV0dXJuIGUhPWV8fGU9PT0wPzA6dVAoZSl9LGhQPXdtLHBQPU1hdGgubWF4LF9QPU1hdGgubWluLE9tPWZ1bmN0aW9uKHQsZSl7dmFyIG49aFAodCk7cmV0dXJuIG48MD9wUChuK2UsMCk6X1AobixlKX0sRVA9d20sbVA9TWF0aC5taW4sTUE9ZnVuY3Rpb24odCl7cmV0dXJuIHQ+MD9tUChFUCh0KSw5MDA3MTk5MjU0NzQwOTkxKTowfSxmUD1NQSxMcj1mdW5jdGlvbih0KXtyZXR1cm4gZlAodC5sZW5ndGgpfSxnUD1FbyxUUD1PbSxTUD1McixFZz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuLGkpe3ZhciByLG89Z1AoZSkscz1TUChvKSxhPVRQKGkscyk7aWYodCYmbiE9bil7Zm9yKDtzPmE7KWlmKChyPW9bYSsrXSkhPXIpcmV0dXJuICEwfWVsc2UgZm9yKDtzPmE7YSsrKWlmKCh0fHxhIGluIG8pJiZvW2FdPT09bilyZXR1cm4gdHx8YXx8MDtyZXR1cm4gIXQmJi0xfX0sTm09e2luY2x1ZGVzOkVnKCEwKSxpbmRleE9mOkVnKCExKX0sUlA9Tm0uaW5jbHVkZXM7eHQoe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsZm9yY2VkOlNlKGZ1bmN0aW9uKCl7cmV0dXJuICFBcnJheSgxKS5pbmNsdWRlcygpfSl9LHtpbmNsdWRlczpmdW5jdGlvbih0KXtyZXR1cm4gUlAodGhpcyx0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KTt2YXIgQ1A9R2ksYmk9ZnVuY3Rpb24odCl7cmV0dXJuIENQW3QrXCJQcm90b3R5cGVcIl19LElQPWJpKFwiQXJyYXlcIikuaW5jbHVkZXMsdlA9SG4seVA9cHIsQVA9cGUoXCJtYXRjaFwiKSxVQT1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gdlAodCkmJigoZT10W0FQXSkhPT12b2lkIDA/ISFlOnlQKHQpPT1cIlJlZ0V4cFwiKX0sYlA9VUEsd1A9VHlwZUVycm9yLHhBPXt9O3hBW3BlKFwidG9TdHJpbmdUYWdcIildPVwielwiO3ZhciBEbT1TdHJpbmcoeEEpPT09XCJbb2JqZWN0IHpdXCIsT1A9RG0sTlA9SGUsb2w9cHIsRFA9cGUoXCJ0b1N0cmluZ1RhZ1wiKSxQUD1PYmplY3Qsa1A9b2woZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKT09XCJBcmd1bWVudHNcIixFcj1PUD9vbDpmdW5jdGlvbih0KXt2YXIgZSxuLGk7cmV0dXJuIHQ9PT12b2lkIDA/XCJVbmRlZmluZWRcIjp0PT09bnVsbD9cIk51bGxcIjp0eXBlb2Yobj1mdW5jdGlvbihyLG8pe3RyeXtyZXR1cm4gcltvXX1jYXRjaHt9fShlPVBQKHQpLERQKSk9PVwic3RyaW5nXCI/bjprUD9vbChlKTooaT1vbChlKSk9PVwiT2JqZWN0XCImJk5QKGUuY2FsbGVlKT9cIkFyZ3VtZW50c1wiOml9LExQPUVyLE1QPVN0cmluZyxvaT1mdW5jdGlvbih0KXtpZihMUCh0KT09PVwiU3ltYm9sXCIpdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IGNvbnZlcnQgYSBTeW1ib2wgdmFsdWUgdG8gYSBzdHJpbmdcIik7cmV0dXJuIE1QKHQpfSxVUD1wZShcIm1hdGNoXCIpLHhQPXh0LFZQPWZ1bmN0aW9uKHQpe2lmKGJQKHQpKXRocm93IHdQKFwiVGhlIG1ldGhvZCBkb2Vzbid0IGFjY2VwdCByZWd1bGFyIGV4cHJlc3Npb25zXCIpO3JldHVybiB0fSxGUD1sYSxtZz1vaSxCUD1mdW5jdGlvbih0KXt2YXIgZT0vLi87dHJ5e1wiLy4vXCJbdF0oZSk7fWNhdGNoe3RyeXtyZXR1cm4gZVtVUF09ITEsXCIvLi9cIlt0XShlKX1jYXRjaHt9fXJldHVybiAhMX0salA9bWUoXCJcIi5pbmRleE9mKTt4UCh7dGFyZ2V0OlwiU3RyaW5nXCIscHJvdG86ITAsZm9yY2VkOiFCUChcImluY2x1ZGVzXCIpfSx7aW5jbHVkZXM6ZnVuY3Rpb24odCl7cmV0dXJuICEhfmpQKG1nKEZQKHRoaXMpKSxtZyhWUCh0KSksYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfX0pO3ZhciBHUD1iaShcIlN0cmluZ1wiKS5pbmNsdWRlcyxmZz1obixXUD1JUCxIUD1HUCx2aD1BcnJheS5wcm90b3R5cGUseWg9U3RyaW5nLnByb3RvdHlwZSxLUD1mdW5jdGlvbih0KXt2YXIgZT10LmluY2x1ZGVzO3JldHVybiB0PT09dmh8fGZnKHZoLHQpJiZlPT09dmguaW5jbHVkZXM/V1A6dHlwZW9mIHQ9PVwic3RyaW5nXCJ8fHQ9PT15aHx8ZmcoeWgsdCkmJmU9PT15aC5pbmNsdWRlcz9IUDplfSxXPWFlKEtQKSxZUD15aSxxUD1fcix6UD1idSxKUD1McixYUD1UeXBlRXJyb3IsZ2c9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsbixpLHIpe1lQKG4pO3ZhciBvPXFQKGUpLHM9elAobyksYT1KUChvKSxjPXQ/YS0xOjAsZD10Py0xOjE7aWYoaTwyKWZvcig7Oyl7aWYoYyBpbiBzKXtyPXNbY10sYys9ZDticmVha31pZihjKz1kLHQ/YzwwOmE8PWMpdGhyb3cgWFAoXCJSZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlXCIpfWZvcig7dD9jPj0wOmE+YztjKz1kKWMgaW4gcyYmKHI9bihyLHNbY10sYyxvKSk7cmV0dXJuIHJ9fSxRUD17bGVmdDpnZyghMSkscmlnaHQ6Z2coITApfSxaUD1TZSxOdT1mdW5jdGlvbih0LGUpe3ZhciBuPVtdW3RdO3JldHVybiAhIW4mJlpQKGZ1bmN0aW9uKCl7bi5jYWxsKG51bGwsZXx8ZnVuY3Rpb24oKXtyZXR1cm4gMX0sMSk7fSl9LEpjPXR5cGVvZiBwcm9jZXNzPFwidVwiJiZwcihwcm9jZXNzKT09XCJwcm9jZXNzXCIsJFA9UVAubGVmdDt4dCh7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6IUpjJiZ6bz43OSYmem88ODN8fCFOdShcInJlZHVjZVwiKX0se3JlZHVjZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoO3JldHVybiAkUCh0aGlzLHQsZSxlPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSk7dmFyIHRrPWJpKFwiQXJyYXlcIikucmVkdWNlLGVrPWhuLG5rPXRrLEFoPUFycmF5LnByb3RvdHlwZSxpaz1mdW5jdGlvbih0KXt2YXIgZT10LnJlZHVjZTtyZXR1cm4gdD09PUFofHxlayhBaCx0KSYmZT09PUFoLnJlZHVjZT9uazplfSxWQT1payxqaT1hZShWQSksRkE9ITAsQkE9ITA7ZnVuY3Rpb24gaGQodCxlLG4pe2xldCBpPXQubWF0Y2goZSk7cmV0dXJuIGkmJmkubGVuZ3RoPj1uJiZwYXJzZUludChpW25dLDEwKX1mdW5jdGlvbiB0cyh0LGUsbil7aWYoIXQuUlRDUGVlckNvbm5lY3Rpb24pcmV0dXJuO2xldCBpPXQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLHI9aS5hZGRFdmVudExpc3RlbmVyO2kuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihzLGEpe2lmKHMhPT1lKXJldHVybiByLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtsZXQgYz1kPT57bGV0IGw9bihkKTtsJiYoYS5oYW5kbGVFdmVudD9hLmhhbmRsZUV2ZW50KGwpOmEobCkpO307cmV0dXJuIHRoaXMuX2V2ZW50TWFwPXRoaXMuX2V2ZW50TWFwfHx7fSx0aGlzLl9ldmVudE1hcFtlXXx8KHRoaXMuX2V2ZW50TWFwW2VdPW5ldyBNYXApLHRoaXMuX2V2ZW50TWFwW2VdLnNldChhLGMpLHIuYXBwbHkodGhpcyxbcyxjXSl9O2xldCBvPWkucmVtb3ZlRXZlbnRMaXN0ZW5lcjtpLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24ocyxhKXtpZihzIT09ZXx8IXRoaXMuX2V2ZW50TWFwfHwhdGhpcy5fZXZlbnRNYXBbZV0pcmV0dXJuIG8uYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKCF0aGlzLl9ldmVudE1hcFtlXS5oYXMoYSkpcmV0dXJuIG8uYXBwbHkodGhpcyxhcmd1bWVudHMpO2xldCBjPXRoaXMuX2V2ZW50TWFwW2VdLmdldChhKTtyZXR1cm4gdGhpcy5fZXZlbnRNYXBbZV0uZGVsZXRlKGEpLHRoaXMuX2V2ZW50TWFwW2VdLnNpemU9PT0wJiZkZWxldGUgdGhpcy5fZXZlbnRNYXBbZV0sT2JqZWN0LmtleXModGhpcy5fZXZlbnRNYXApLmxlbmd0aD09PTAmJmRlbGV0ZSB0aGlzLl9ldmVudE1hcCxvLmFwcGx5KHRoaXMsW3MsY10pfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcIm9uXCIrZSx7Z2V0KCl7cmV0dXJuIHRoaXNbXCJfb25cIitlXX0sc2V0KHMpe3RoaXNbXCJfb25cIitlXSYmKHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHRoaXNbXCJfb25cIitlXSksZGVsZXRlIHRoaXNbXCJfb25cIitlXSkscyYmdGhpcy5hZGRFdmVudExpc3RlbmVyKGUsdGhpc1tcIl9vblwiK2VdPXMpO30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KTt9ZnVuY3Rpb24gcmsodCl7cmV0dXJuIHR5cGVvZiB0IT1cImJvb2xlYW5cIj9uZXcgRXJyb3IoXCJBcmd1bWVudCB0eXBlOiBcIit0eXBlb2YgdCtcIi4gUGxlYXNlIHVzZSBhIGJvb2xlYW4uXCIpOihGQT10LHQ/XCJhZGFwdGVyLmpzIGxvZ2dpbmcgZGlzYWJsZWRcIjpcImFkYXB0ZXIuanMgbG9nZ2luZyBlbmFibGVkXCIpfWZ1bmN0aW9uIG9rKHQpe3JldHVybiB0eXBlb2YgdCE9XCJib29sZWFuXCI/bmV3IEVycm9yKFwiQXJndW1lbnQgdHlwZTogXCIrdHlwZW9mIHQrXCIuIFBsZWFzZSB1c2UgYSBib29sZWFuLlwiKTooQkE9IXQsXCJhZGFwdGVyLmpzIGRlcHJlY2F0aW9uIHdhcm5pbmdzIFwiKyh0P1wiZGlzYWJsZWRcIjpcImVuYWJsZWRcIikpfWZ1bmN0aW9uIGpBKCl7aWYodHlwZW9mIHdpbmRvdz09XCJvYmplY3RcIil7aWYoRkEpcmV0dXJuO3R5cGVvZiBjb25zb2xlPFwidVwiJiZ0eXBlb2YgY29uc29sZS5sb2c9PVwiZnVuY3Rpb25cIiYmY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpO319ZnVuY3Rpb24gUG0odCxlKXtCQSYmY29uc29sZS53YXJuKHQrXCIgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBcIitlK1wiIGluc3RlYWQuXCIpO31mdW5jdGlvbiBUZyh0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpPT09XCJbb2JqZWN0IE9iamVjdF1cIn1mdW5jdGlvbiBHQSh0KXt2YXIgZTtyZXR1cm4gVGcodCk/amkoZT1PYmplY3Qua2V5cyh0KSkuY2FsbChlLGZ1bmN0aW9uKG4saSl7bGV0IHI9VGcodFtpXSksbz1yP0dBKHRbaV0pOnRbaV0scz1yJiYhT2JqZWN0LmtleXMobykubGVuZ3RoO3JldHVybiBvPT09dm9pZCAwfHxzP246T2JqZWN0LmFzc2lnbihuLHtbaV06b30pfSx7fSk6dH1mdW5jdGlvbiBIXyh0LGUsbil7ZSYmIW4uaGFzKGUuaWQpJiYobi5zZXQoZS5pZCxlKSxPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGk9PntpLmVuZHNXaXRoKFwiSWRcIik/SF8odCx0LmdldChlW2ldKSxuKTppLmVuZHNXaXRoKFwiSWRzXCIpJiZlW2ldLmZvckVhY2gocj0+e0hfKHQsdC5nZXQociksbik7fSk7fSkpO31mdW5jdGlvbiBTZyh0LGUsbil7bGV0IGk9bj9cIm91dGJvdW5kLXJ0cFwiOlwiaW5ib3VuZC1ydHBcIixyPW5ldyBNYXA7aWYoZT09PW51bGwpcmV0dXJuIHI7bGV0IG89W107cmV0dXJuIHQuZm9yRWFjaChzPT57cy50eXBlPT09XCJ0cmFja1wiJiZzLnRyYWNrSWRlbnRpZmllcj09PWUuaWQmJm8ucHVzaChzKTt9KSxvLmZvckVhY2gocz0+e3QuZm9yRWFjaChhPT57YS50eXBlPT09aSYmYS50cmFja0lkPT09cy5pZCYmSF8odCxhLHIpO30pO30pLHJ9dmFyIHNrPUFtLFJnPXBhKFwia2V5c1wiKSxEdT1mdW5jdGlvbih0KXtyZXR1cm4gUmdbdF18fChSZ1t0XT1zayh0KSl9LGFrPSFTZShmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPW51bGwsT2JqZWN0LmdldFByb3RvdHlwZU9mKG5ldyB0KSE9PXQucHJvdG90eXBlfSksY2s9SmUsZGs9SGUsbGs9X3IsdWs9YWssQ2c9RHUoXCJJRV9QUk9UT1wiKSxLXz1PYmplY3QsaGs9S18ucHJvdG90eXBlLGttPXVrP0tfLmdldFByb3RvdHlwZU9mOmZ1bmN0aW9uKHQpe3ZhciBlPWxrKHQpO2lmKGNrKGUsQ2cpKXJldHVybiBlW0NnXTt2YXIgbj1lLmNvbnN0cnVjdG9yO3JldHVybiBkayhuKSYmZSBpbnN0YW5jZW9mIG4/bi5wcm90b3R5cGU6ZSBpbnN0YW5jZW9mIEtfP2hrOm51bGx9LHBrPW1lLF9rPXlpLEVrPUhlLG1rPVN0cmluZyxmaz1UeXBlRXJyb3IsZ2s9ZnVuY3Rpb24odCxlLG4pe3RyeXtyZXR1cm4gcGsoX2soT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpW25dKSl9Y2F0Y2h7fX0sVGs9Q24sU2s9ZnVuY3Rpb24odCl7aWYodHlwZW9mIHQ9PVwib2JqZWN0XCJ8fEVrKHQpKXJldHVybiB0O3Rocm93IGZrKFwiQ2FuJ3Qgc2V0IFwiK21rKHQpK1wiIGFzIGEgcHJvdG90eXBlXCIpfSxSaz1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fChcIl9fcHJvdG9fX1wiaW57fT9mdW5jdGlvbigpe3ZhciB0LGU9ITEsbj17fTt0cnl7KHQ9Z2soT2JqZWN0LnByb3RvdHlwZSxcIl9fcHJvdG9fX1wiLFwic2V0XCIpKShuLFtdKSxlPW4gaW5zdGFuY2VvZiBBcnJheTt9Y2F0Y2h7fXJldHVybiBmdW5jdGlvbihpLHIpe3JldHVybiBUayhpKSxTayhyKSxlP3QoaSxyKTppLl9fcHJvdG9fXz1yLGl9fSgpOnZvaWQgMCksUHU9e30sa3U9e30sYmg9SmUsQ2s9RW8sSWs9Tm0uaW5kZXhPZix2az1rdSxJZz1tZShbXS5wdXNoKSxXQT1mdW5jdGlvbih0LGUpe3ZhciBuLGk9Q2sodCkscj0wLG89W107Zm9yKG4gaW4gaSkhYmgodmssbikmJmJoKGksbikmJklnKG8sbik7Zm9yKDtlLmxlbmd0aD5yOyliaChpLG49ZVtyKytdKSYmKH5JayhvLG4pfHxJZyhvLG4pKTtyZXR1cm4gb30sTG09W1wiY29uc3RydWN0b3JcIixcImhhc093blByb3BlcnR5XCIsXCJpc1Byb3RvdHlwZU9mXCIsXCJwcm9wZXJ0eUlzRW51bWVyYWJsZVwiLFwidG9Mb2NhbGVTdHJpbmdcIixcInRvU3RyaW5nXCIsXCJ2YWx1ZU9mXCJdLHlrPVdBLEFrPUxtLmNvbmNhdChcImxlbmd0aFwiLFwicHJvdG90eXBlXCIpO1B1LmY9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXN8fGZ1bmN0aW9uKHQpe3JldHVybiB5ayh0LEFrKX07dmFyIFhjPXt9O1hjLmY9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sczt2YXIgYms9RG4sd2s9UHUsT2s9WGMsTms9Q24sRGs9bWUoW10uY29uY2F0KSxQaz1iayhcIlJlZmxlY3RcIixcIm93bktleXNcIil8fGZ1bmN0aW9uKHQpe3ZhciBlPXdrLmYoTmsodCkpLG49T2suZjtyZXR1cm4gbj9EayhlLG4odCkpOmV9LHZnPUplLGtrPVBrLExrPVljLE1rPUFpLE1tPXt9LFVrPVdBLHhrPUxtLEx1PU9iamVjdC5rZXlzfHxmdW5jdGlvbih0KXtyZXR1cm4gVWsodCx4ayl9LFZrPXJpLEZrPUxBLEJrPUFpLGprPUNuLEdrPUVvLFdrPUx1O01tLmY9VmsmJiFGaz9PYmplY3QuZGVmaW5lUHJvcGVydGllczpmdW5jdGlvbih0LGUpe2prKHQpO2Zvcih2YXIgbixpPUdrKGUpLHI9V2soZSksbz1yLmxlbmd0aCxzPTA7bz5zOylCay5mKHQsbj1yW3MrK10saVtuXSk7cmV0dXJuIHR9O3ZhciBwZCxIQT1EbihcImRvY3VtZW50XCIsXCJkb2N1bWVudEVsZW1lbnRcIiksSGs9Q24sS2s9TW0seWc9TG0sWWs9a3UscWs9SEEsems9Ym0sWV89XCJwcm90b3R5cGVcIixxXz1cInNjcmlwdFwiLEtBPUR1KFwiSUVfUFJPVE9cIiksd2g9ZnVuY3Rpb24oKXt9LFlBPWZ1bmN0aW9uKHQpe3JldHVybiBcIjxcIitxXytcIj5cIit0K1wiPC9cIitxXytcIj5cIn0sQWc9ZnVuY3Rpb24odCl7dC53cml0ZShZQShcIlwiKSksdC5jbG9zZSgpO3ZhciBlPXQucGFyZW50V2luZG93Lk9iamVjdDtyZXR1cm4gdD1udWxsLGV9LHNsPWZ1bmN0aW9uKCl7dHJ5e3BkPW5ldyBBY3RpdmVYT2JqZWN0KFwiaHRtbGZpbGVcIik7fWNhdGNoe312YXIgdCxlLG47c2w9dHlwZW9mIGRvY3VtZW50PFwidVwiP2RvY3VtZW50LmRvbWFpbiYmcGQ/QWcocGQpOihlPXprKFwiaWZyYW1lXCIpLG49XCJqYXZhXCIrcV8rXCI6XCIsZS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLHFrLmFwcGVuZENoaWxkKGUpLGUuc3JjPVN0cmluZyhuKSwodD1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQpLm9wZW4oKSx0LndyaXRlKFlBKFwiZG9jdW1lbnQuRj1PYmplY3RcIikpLHQuY2xvc2UoKSx0LkYpOkFnKHBkKTtmb3IodmFyIGk9eWcubGVuZ3RoO2ktLTspZGVsZXRlIHNsW1lfXVt5Z1tpXV07cmV0dXJuIHNsKCl9O1lrW0tBXT0hMDt2YXIgUWM9T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4gdCE9PW51bGw/KHdoW1lfXT1Iayh0KSxuPW5ldyB3aCx3aFtZX109bnVsbCxuW0tBXT10KTpuPXNsKCksZT09PXZvaWQgMD9uOktrLmYobixlKX0sSms9SG4sWGs9Zm8scUE9RXJyb3IsUWs9bWUoXCJcIi5yZXBsYWNlKSxaaz1TdHJpbmcocUEoXCJ6eGNhc2RcIikuc3RhY2spLHpBPS9cXG5cXHMqYXQgW146XSo6W15cXG5dKi8sJGs9ekEudGVzdChaayksdEw9X28sZUw9IVNlKGZ1bmN0aW9uKCl7dmFyIHQ9RXJyb3IoXCJhXCIpO3JldHVybiAhKFwic3RhY2tcImluIHQpfHwoT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJzdGFja1wiLHRMKDEsNykpLHQuc3RhY2shPT03KX0pLG5MPWZvLGlMPWZ1bmN0aW9uKHQsZSl7aWYoJGsmJnR5cGVvZiB0PT1cInN0cmluZ1wiJiYhcUEucHJlcGFyZVN0YWNrVHJhY2UpZm9yKDtlLS07KXQ9UWsodCx6QSxcIlwiKTtyZXR1cm4gdH0sckw9ZUwsYmc9RXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UsZXM9e30sb0w9ZXMsc0w9cGUoXCJpdGVyYXRvclwiKSxhTD1BcnJheS5wcm90b3R5cGUsSkE9ZnVuY3Rpb24odCl7cmV0dXJuIHQhPT12b2lkIDAmJihvTC5BcnJheT09PXR8fGFMW3NMXT09PXQpfSxjTD1Fcix3Zz13dSxkTD1kYSxsTD1lcyx1TD1wZShcIml0ZXJhdG9yXCIpLE11PWZ1bmN0aW9uKHQpe2lmKCFkTCh0KSlyZXR1cm4gd2codCx1TCl8fHdnKHQsXCJAQGl0ZXJhdG9yXCIpfHxsTFtjTCh0KV19LGhMPUtlLHBMPXlpLF9MPUNuLEVMPWhhLG1MPU11LGZMPVR5cGVFcnJvcixVbT1mdW5jdGlvbih0LGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg8Mj9tTCh0KTplO2lmKHBMKG4pKXJldHVybiBfTChoTChuLHQpKTt0aHJvdyBmTChFTCh0KStcIiBpcyBub3QgaXRlcmFibGVcIil9LGdMPUtlLE9nPUNuLFRMPXd1LFhBPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaSxyO09nKHQpO3RyeXtpZighKGk9VEwodCxcInJldHVyblwiKSkpe2lmKGU9PT1cInRocm93XCIpdGhyb3cgbjtyZXR1cm4gbn1pPWdMKGksdCk7fWNhdGNoKG8pe3I9ITAsaT1vO31pZihlPT09XCJ0aHJvd1wiKXRocm93IG47aWYocil0aHJvdyBpO3JldHVybiBPZyhpKSxufSxTTD1tbyxSTD1LZSxDTD1DbixJTD1oYSx2TD1KQSx5TD1McixOZz1obixBTD1VbSxiTD1NdSxEZz1YQSx3TD1UeXBlRXJyb3IsYWw9ZnVuY3Rpb24odCxlKXt0aGlzLnN0b3BwZWQ9dCx0aGlzLnJlc3VsdD1lO30sUGc9YWwucHJvdG90eXBlLFpjPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaSxyLG8scyxhLGMsZCxsPW4mJm4udGhhdCx1PSEoIW58fCFuLkFTX0VOVFJJRVMpLGg9ISghbnx8IW4uSVNfUkVDT1JEKSxwPSEoIW58fCFuLklTX0lURVJBVE9SKSxnPSEoIW58fCFuLklOVEVSUlVQVEVEKSxFPVNMKGUsbCksZj1mdW5jdGlvbihDKXtyZXR1cm4gaSYmRGcoaSxcIm5vcm1hbFwiLEMpLG5ldyBhbCghMCxDKX0sUz1mdW5jdGlvbihDKXtyZXR1cm4gdT8oQ0woQyksZz9FKENbMF0sQ1sxXSxmKTpFKENbMF0sQ1sxXSkpOmc/RShDLGYpOkUoQyl9O2lmKGgpaT10Lml0ZXJhdG9yO2Vsc2UgaWYocClpPXQ7ZWxzZSB7aWYoIShyPWJMKHQpKSl0aHJvdyB3TChJTCh0KStcIiBpcyBub3QgaXRlcmFibGVcIik7aWYodkwocikpe2ZvcihvPTAscz15TCh0KTtzPm87bysrKWlmKChhPVModFtvXSkpJiZOZyhQZyxhKSlyZXR1cm4gYTtyZXR1cm4gbmV3IGFsKCExKX1pPUFMKHQscik7fWZvcihjPWg/dC5uZXh0OmkubmV4dDshKGQ9UkwoYyxpKSkuZG9uZTspe3RyeXthPVMoZC52YWx1ZSk7fWNhdGNoKEMpe0RnKGksXCJ0aHJvd1wiLEMpO31pZih0eXBlb2YgYT09XCJvYmplY3RcIiYmYSYmTmcoUGcsYSkpcmV0dXJuIGF9cmV0dXJuIG5ldyBhbCghMSl9LE9MPW9pLE5MPXh0LERMPWhuLFBMPWttLE5sPVJrLGtMPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9a2soZSkscj1Nay5mLG89TGsuZixzPTA7czxpLmxlbmd0aDtzKyspe3ZhciBhPWlbc107dmcodCxhKXx8biYmdmcobixhKXx8cih0LGEsbyhlLGEpKTt9fSxRQT1RYyxPaD1mbyxOaD1fbyxMTD1mdW5jdGlvbih0LGUpe0prKGUpJiZcImNhdXNlXCJpbiBlJiZYayh0LFwiY2F1c2VcIixlLmNhdXNlKTt9LE1MPWZ1bmN0aW9uKHQsZSxuLGkpe3JMJiYoYmc/YmcodCxlKTpuTCh0LFwic3RhY2tcIixpTChuLGkpKSk7fSxVTD1aYyx4TD1mdW5jdGlvbih0LGUpe3JldHVybiB0PT09dm9pZCAwP2FyZ3VtZW50cy5sZW5ndGg8Mj9cIlwiOmU6T0wodCl9LFZMPXBlKFwidG9TdHJpbmdUYWdcIiksRGw9RXJyb3IsRkw9W10ucHVzaCxKcz1mdW5jdGlvbih0LGUpe3ZhciBuLGk9REwoRGgsdGhpcyk7Tmw/bj1ObChEbCgpLGk/UEwodGhpcyk6RGgpOihuPWk/dGhpczpRQShEaCksT2gobixWTCxcIkVycm9yXCIpKSxlIT09dm9pZCAwJiZPaChuLFwibWVzc2FnZVwiLHhMKGUpKSxNTChuLEpzLG4uc3RhY2ssMSksYXJndW1lbnRzLmxlbmd0aD4yJiZMTChuLGFyZ3VtZW50c1syXSk7dmFyIHI9W107cmV0dXJuIFVMKHQsRkwse3RoYXQ6cn0pLE9oKG4sXCJlcnJvcnNcIixyKSxufTtObD9ObChKcyxEbCk6a0woSnMsRGwse25hbWU6ITB9KTt2YXIgRGg9SnMucHJvdG90eXBlPVFBKERsLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6TmgoMSxKcyksbWVzc2FnZTpOaCgxLFwiXCIpLG5hbWU6TmgoMSxcIkFnZ3JlZ2F0ZUVycm9yXCIpfSk7Tkwoe2dsb2JhbDohMCxjb25zdHJ1Y3RvcjohMCxhcml0eToyfSx7QWdncmVnYXRlRXJyb3I6SnN9KTt2YXIgUGwsbmMsa2wsQkw9SGUsa2c9V2UuV2Vha01hcCxqTD1CTChrZykmJi9uYXRpdmUgY29kZS8udGVzdChTdHJpbmcoa2cpKSxaQT1XZSxHTD1IbixXTD1mbyxQaD1KZSxraD15bSxITD1EdSxLTD1rdSxMZz1cIk9iamVjdCBhbHJlYWR5IGluaXRpYWxpemVkXCIsel89WkEuVHlwZUVycm9yLFlMPVpBLldlYWtNYXA7akx8fGtoLnN0YXRlPyhOaT1raC5zdGF0ZXx8KGtoLnN0YXRlPW5ldyBZTCksTmkuZ2V0PU5pLmdldCxOaS5oYXM9TmkuaGFzLE5pLnNldD1OaS5zZXQsUGw9ZnVuY3Rpb24odCxlKXtpZihOaS5oYXModCkpdGhyb3cgel8oTGcpO3JldHVybiBlLmZhY2FkZT10LE5pLnNldCh0LGUpLGV9LG5jPWZ1bmN0aW9uKHQpe3JldHVybiBOaS5nZXQodCl8fHt9fSxrbD1mdW5jdGlvbih0KXtyZXR1cm4gTmkuaGFzKHQpfSk6KENvPUhMKFwic3RhdGVcIiksS0xbQ29dPSEwLFBsPWZ1bmN0aW9uKHQsZSl7aWYoUGgodCxDbykpdGhyb3cgel8oTGcpO3JldHVybiBlLmZhY2FkZT10LFdMKHQsQ28sZSksZX0sbmM9ZnVuY3Rpb24odCl7cmV0dXJuIFBoKHQsQ28pP3RbQ29dOnt9fSxrbD1mdW5jdGlvbih0KXtyZXR1cm4gUGgodCxDbyl9KTt2YXIgTmksQ28sSG8sTWcsVWcsbnM9e3NldDpQbCxnZXQ6bmMsaGFzOmtsLGVuZm9yY2U6ZnVuY3Rpb24odCl7cmV0dXJuIGtsKHQpP25jKHQpOlBsKHQse30pfSxnZXR0ZXJGb3I6ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBuO2lmKCFHTChlKXx8KG49bmMoZSkpLnR5cGUhPT10KXRocm93IHpfKFwiSW5jb21wYXRpYmxlIHJlY2VpdmVyLCBcIit0K1wiIHJlcXVpcmVkXCIpO3JldHVybiBufX19LEpfPXJpLHFMPUplLCRBPUZ1bmN0aW9uLnByb3RvdHlwZSx6TD1KXyYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixMaD1xTCgkQSxcIm5hbWVcIiksdGI9e0VYSVNUUzpMaCxQUk9QRVI6TGgmJmZ1bmN0aW9uKCl7fS5uYW1lPT09XCJzb21ldGhpbmdcIixDT05GSUdVUkFCTEU6TGgmJighSl98fEpfJiZ6TCgkQSxcIm5hbWVcIikuY29uZmlndXJhYmxlKX0sSkw9Zm8sZ289ZnVuY3Rpb24odCxlLG4saSl7cmV0dXJuIGkmJmkuZW51bWVyYWJsZT90W2VdPW46SkwodCxlLG4pLHR9LFhMPVNlLFFMPUhlLFpMPUhuLCRMPVFjLHhnPWttLHQxPWdvLFhfPXBlKFwiaXRlcmF0b3JcIiksZWI9ITE7W10ua2V5cyYmKFwibmV4dFwiaW4oVWc9W10ua2V5cygpKT8oTWc9eGcoeGcoVWcpKSkhPT1PYmplY3QucHJvdG90eXBlJiYoSG89TWcpOmViPSEwKTt2YXIgZTE9IVpMKEhvKXx8WEwoZnVuY3Rpb24oKXt2YXIgdD17fTtyZXR1cm4gSG9bWF9dLmNhbGwodCkhPT10fSk7UUwoKEhvPWUxP3t9OiRMKEhvKSlbWF9dKXx8dDEoSG8sWF8sZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pO3ZhciBuYj17SXRlcmF0b3JQcm90b3R5cGU6SG8sQlVHR1lfU0FGQVJJX0lURVJBVE9SUzplYn0sbjE9RXIsaTE9RG0/e30udG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gXCJbb2JqZWN0IFwiK24xKHRoaXMpK1wiXVwifSxyMT1EbSxvMT1BaS5mLHMxPWZvLGExPUplLGMxPWkxLFZnPXBlKFwidG9TdHJpbmdUYWdcIiksVG89ZnVuY3Rpb24odCxlLG4saSl7aWYodCl7dmFyIHI9bj90OnQucHJvdG90eXBlO2ExKHIsVmcpfHxvMShyLFZnLHtjb25maWd1cmFibGU6ITAsdmFsdWU6ZX0pLGkmJiFyMSYmczEocixcInRvU3RyaW5nXCIsYzEpO319LGQxPW5iLkl0ZXJhdG9yUHJvdG90eXBlLGwxPVFjLHUxPV9vLGgxPVRvLHAxPWVzLF8xPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LHhtPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPWUrXCIgSXRlcmF0b3JcIjtyZXR1cm4gdC5wcm90b3R5cGU9bDEoZDEse25leHQ6dTEoKyFpLG4pfSksaDEodCxyLCExLCEwKSxwMVtyXT1fMSx0fSxFMT14dCxtMT1LZSxmMT10YixnMT14bSxUMT1rbSxTMT1UbyxGZz1nbyxCZz1lcyxSMT1uYixDMT1mMS5QUk9QRVIsX2Q9UjEuQlVHR1lfU0FGQVJJX0lURVJBVE9SUyxNaD1wZShcIml0ZXJhdG9yXCIpLGpnPVwia2V5c1wiLEVkPVwidmFsdWVzXCIsR2c9XCJlbnRyaWVzXCIsSTE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30saWI9ZnVuY3Rpb24odCxlLG4saSxyLG8scyl7ZzEobixlLGkpO3ZhciBhLGMsZCxsPWZ1bmN0aW9uKFMpe2lmKFM9PT1yJiZFKXJldHVybiBFO2lmKCFfZCYmUyBpbiBwKXJldHVybiBwW1NdO3N3aXRjaChTKXtjYXNlIGpnOmNhc2UgRWQ6Y2FzZSBHZzpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG4odGhpcyxTKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKHRoaXMpfX0sdT1lK1wiIEl0ZXJhdG9yXCIsaD0hMSxwPXQucHJvdG90eXBlLGc9cFtNaF18fHBbXCJAQGl0ZXJhdG9yXCJdfHxyJiZwW3JdLEU9IV9kJiZnfHxsKHIpLGY9ZT09XCJBcnJheVwiJiZwLmVudHJpZXN8fGc7aWYoZiYmKGE9VDEoZi5jYWxsKG5ldyB0KSkpIT09T2JqZWN0LnByb3RvdHlwZSYmYS5uZXh0JiYoUzEoYSx1LCEwLCEwKSxCZ1t1XT1JMSksQzEmJnI9PUVkJiZnJiZnLm5hbWUhPT1FZCYmKGg9ITAsRT1mdW5jdGlvbigpe3JldHVybiBtMShnLHRoaXMpfSkscilpZihjPXt2YWx1ZXM6bChFZCksa2V5czpvP0U6bChqZyksZW50cmllczpsKEdnKX0scylmb3IoZCBpbiBjKShfZHx8aHx8IShkIGluIHApKSYmRmcocCxkLGNbZF0pO2Vsc2UgRTEoe3RhcmdldDplLHByb3RvOiEwLGZvcmNlZDpfZHx8aH0sYyk7cmV0dXJuIHMmJnBbTWhdIT09RSYmRmcocCxNaCxFLHtuYW1lOnJ9KSxCZ1tlXT1FLGN9LFZtPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHt2YWx1ZTp0LGRvbmU6ZX19LHYxPUVvLFdnPWVzLHJiPW5zO0FpLmY7dmFyIHkxPWliLEhnPVZtLG9iPVwiQXJyYXkgSXRlcmF0b3JcIixBMT1yYi5zZXQsYjE9cmIuZ2V0dGVyRm9yKG9iKTt5MShBcnJheSxcIkFycmF5XCIsZnVuY3Rpb24odCxlKXtBMSh0aGlzLHt0eXBlOm9iLHRhcmdldDp2MSh0KSxpbmRleDowLGtpbmQ6ZX0pO30sZnVuY3Rpb24oKXt2YXIgdD1iMSh0aGlzKSxlPXQudGFyZ2V0LG49dC5raW5kLGk9dC5pbmRleCsrO3JldHVybiAhZXx8aT49ZS5sZW5ndGg/KHQudGFyZ2V0PXZvaWQgMCxIZyh2b2lkIDAsITApKTpIZyhuPT1cImtleXNcIj9pOm49PVwidmFsdWVzXCI/ZVtpXTpbaSxlW2ldXSwhMSl9LFwidmFsdWVzXCIpLFdnLkFyZ3VtZW50cz1XZy5BcnJheTt2YXIgdzE9QWksVXU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB3MS5mKHQsZSxuKX0sTzE9RG4sTjE9VXUsRDE9cmksS2c9cGUoXCJzcGVjaWVzXCIpLFAxPWhuLGsxPVR5cGVFcnJvcixGbT1mdW5jdGlvbih0LGUpe2lmKFAxKGUsdCkpcmV0dXJuIHQ7dGhyb3cgazEoXCJJbmNvcnJlY3QgaW52b2NhdGlvblwiKX0sTDE9SGUsUV89eW0sTTE9bWUoRnVuY3Rpb24udG9TdHJpbmcpO0wxKFFfLmluc3BlY3RTb3VyY2UpfHwoUV8uaW5zcGVjdFNvdXJjZT1mdW5jdGlvbih0KXtyZXR1cm4gTTEodCl9KTt2YXIgc2I9UV8uaW5zcGVjdFNvdXJjZSxVMT1tZSx4MT1TZSxhYj1IZSxWMT1FcixGMT1zYixjYj1mdW5jdGlvbigpe30sQjE9W10sZGI9RG4oXCJSZWZsZWN0XCIsXCJjb25zdHJ1Y3RcIiksQm09L15cXHMqKD86Y2xhc3N8ZnVuY3Rpb24pXFxiLyxqMT1VMShCbS5leGVjKSxHMT0hQm0uZXhlYyhjYiksQWE9ZnVuY3Rpb24odCl7aWYoIWFiKHQpKXJldHVybiAhMTt0cnl7cmV0dXJuIGRiKGNiLEIxLHQpLCEwfWNhdGNoe3JldHVybiAhMX19LGxiPWZ1bmN0aW9uKHQpe2lmKCFhYih0KSlyZXR1cm4gITE7c3dpdGNoKFYxKHQpKXtjYXNlXCJBc3luY0Z1bmN0aW9uXCI6Y2FzZVwiR2VuZXJhdG9yRnVuY3Rpb25cIjpjYXNlXCJBc3luY0dlbmVyYXRvckZ1bmN0aW9uXCI6cmV0dXJuICExfXRyeXtyZXR1cm4gRzF8fCEhajEoQm0sRjEodCkpfWNhdGNoe3JldHVybiAhMH19O2xiLnNoYW09ITA7dmFyIFRjLGFzLFlnLFVoLHh1PSFkYnx8eDEoZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gQWEoQWEuY2FsbCl8fCFBYShPYmplY3QpfHwhQWEoZnVuY3Rpb24oKXt0PSEwO30pfHx0fSk/bGI6QWEsVzE9eHUsSDE9aGEsSzE9VHlwZUVycm9yLHFnPUNuLFkxPWZ1bmN0aW9uKHQpe2lmKFcxKHQpKXJldHVybiB0O3Rocm93IEsxKEgxKHQpK1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yXCIpfSxxMT1kYSx6MT1wZShcInNwZWNpZXNcIiksam09ZnVuY3Rpb24odCxlKXt2YXIgbixpPXFnKHQpLmNvbnN0cnVjdG9yO3JldHVybiBpPT09dm9pZCAwfHxxMShuPXFnKGkpW3oxXSk/ZTpZMShuKX0sR209bWUoW10uc2xpY2UpLEoxPVR5cGVFcnJvcixWdT1mdW5jdGlvbih0LGUpe2lmKHQ8ZSl0aHJvdyBKMShcIk5vdCBlbm91Z2ggYXJndW1lbnRzXCIpO3JldHVybiB0fSx1Yj0vKD86aXBhZHxpcGhvbmV8aXBvZCkuKmFwcGxld2Via2l0L2kudGVzdCgkbyksZWk9V2UsWDE9dm0sUTE9bW8semc9SGUsWjE9SmUsaGI9U2UsSmc9SEEsJDE9R20sWGc9Ym0sdE09VnUsZU09dWIsbk09SmMsWl89ZWkuc2V0SW1tZWRpYXRlLCRfPWVpLmNsZWFySW1tZWRpYXRlLGlNPWVpLnByb2Nlc3MseGg9ZWkuRGlzcGF0Y2gsck09ZWkuRnVuY3Rpb24sUWc9ZWkuTWVzc2FnZUNoYW5uZWwsb009ZWkuU3RyaW5nLFZoPTAsaWM9e30sWmc9XCJvbnJlYWR5c3RhdGVjaGFuZ2VcIjtoYihmdW5jdGlvbigpe1RjPWVpLmxvY2F0aW9uO30pO3ZhciBXbT1mdW5jdGlvbih0KXtpZihaMShpYyx0KSl7dmFyIGU9aWNbdF07ZGVsZXRlIGljW3RdLGUoKTt9fSxGaD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtXbSh0KTt9fSwkZz1mdW5jdGlvbih0KXtXbSh0LmRhdGEpO30sdFQ9ZnVuY3Rpb24odCl7ZWkucG9zdE1lc3NhZ2Uob00odCksVGMucHJvdG9jb2wrXCIvL1wiK1RjLmhvc3QpO307Wl8mJiRffHwoWl89ZnVuY3Rpb24odCl7dE0oYXJndW1lbnRzLmxlbmd0aCwxKTt2YXIgZT16Zyh0KT90OnJNKHQpLG49JDEoYXJndW1lbnRzLDEpO3JldHVybiBpY1srK1ZoXT1mdW5jdGlvbigpe1gxKGUsdm9pZCAwLG4pO30sYXMoVmgpLFZofSwkXz1mdW5jdGlvbih0KXtkZWxldGUgaWNbdF07fSxuTT9hcz1mdW5jdGlvbih0KXtpTS5uZXh0VGljayhGaCh0KSk7fTp4aCYmeGgubm93P2FzPWZ1bmN0aW9uKHQpe3hoLm5vdyhGaCh0KSk7fTpRZyYmIWVNPyhVaD0oWWc9bmV3IFFnKS5wb3J0MixZZy5wb3J0MS5vbm1lc3NhZ2U9JGcsYXM9UTEoVWgucG9zdE1lc3NhZ2UsVWgpKTplaS5hZGRFdmVudExpc3RlbmVyJiZ6ZyhlaS5wb3N0TWVzc2FnZSkmJiFlaS5pbXBvcnRTY3JpcHRzJiZUYyYmVGMucHJvdG9jb2whPT1cImZpbGU6XCImJiFoYih0VCk/KGFzPXRULGVpLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsJGcsITEpKTphcz1aZyBpbiBYZyhcInNjcmlwdFwiKT9mdW5jdGlvbih0KXtKZy5hcHBlbmRDaGlsZChYZyhcInNjcmlwdFwiKSlbWmddPWZ1bmN0aW9uKCl7SmcucmVtb3ZlQ2hpbGQodGhpcyksV20odCk7fTt9OmZ1bmN0aW9uKHQpe3NldFRpbWVvdXQoRmgodCksMCk7fSk7dmFyIHBiPXtzZXQ6Wl8sY2xlYXI6JF99LF9iPWZ1bmN0aW9uKCl7dGhpcy5oZWFkPW51bGwsdGhpcy50YWlsPW51bGw7fTtfYi5wcm90b3R5cGU9e2FkZDpmdW5jdGlvbih0KXt2YXIgZT17aXRlbTp0LG5leHQ6bnVsbH0sbj10aGlzLnRhaWw7bj9uLm5leHQ9ZTp0aGlzLmhlYWQ9ZSx0aGlzLnRhaWw9ZTt9LGdldDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuaGVhZDtpZih0KXJldHVybiAodGhpcy5oZWFkPXQubmV4dCk9PT1udWxsJiYodGhpcy50YWlsPW51bGwpLHQuaXRlbX19O3ZhciBjcyxCaCxqaCxHaCxlVCxFYj1fYixzTT0vaXBhZHxpcGhvbmV8aXBvZC9pLnRlc3QoJG8pJiZ0eXBlb2YgUGViYmxlPFwidVwiLGFNPS93ZWIwcyg/IS4qY2hyb21lKS9pLnRlc3QoJG8pLEpvPVdlLG5UPW1vLGNNPVljLmYsV2g9cGIuc2V0LGRNPUViLGxNPXViLHVNPXNNLGhNPWFNLEhoPUpjLGlUPUpvLk11dGF0aW9uT2JzZXJ2ZXJ8fEpvLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsclQ9Sm8uZG9jdW1lbnQsb1Q9Sm8ucHJvY2VzcyxtZD1Kby5Qcm9taXNlLHNUPWNNKEpvLFwicXVldWVNaWNyb3Rhc2tcIiksdEU9c1QmJnNULnZhbHVlO3RFfHwoYmE9bmV3IGRNLHdhPWZ1bmN0aW9uKCl7dmFyIHQsZTtmb3IoSGgmJih0PW9ULmRvbWFpbikmJnQuZXhpdCgpO2U9YmEuZ2V0KCk7KXRyeXtlKCk7fWNhdGNoKG4pe3Rocm93IGJhLmhlYWQmJmNzKCksbn10JiZ0LmVudGVyKCk7fSxsTXx8SGh8fGhNfHwhaVR8fCFyVD8hdU0mJm1kJiZtZC5yZXNvbHZlPygoR2g9bWQucmVzb2x2ZSh2b2lkIDApKS5jb25zdHJ1Y3Rvcj1tZCxlVD1uVChHaC50aGVuLEdoKSxjcz1mdW5jdGlvbigpe2VUKHdhKTt9KTpIaD9jcz1mdW5jdGlvbigpe29ULm5leHRUaWNrKHdhKTt9OihXaD1uVChXaCxKbyksY3M9ZnVuY3Rpb24oKXtXaCh3YSk7fSk6KEJoPSEwLGpoPXJULmNyZWF0ZVRleHROb2RlKFwiXCIpLG5ldyBpVCh3YSkub2JzZXJ2ZShqaCx7Y2hhcmFjdGVyRGF0YTohMH0pLGNzPWZ1bmN0aW9uKCl7amguZGF0YT1CaD0hQmg7fSksdEU9ZnVuY3Rpb24odCl7YmEuaGVhZHx8Y3MoKSxiYS5hZGQodCk7fSk7dmFyIGJhLHdhLHBNPXRFLF9hPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4ge2Vycm9yOiExLHZhbHVlOnQoKX19Y2F0Y2goZSl7cmV0dXJuIHtlcnJvcjohMCx2YWx1ZTplfX19LFhvPVdlLlByb21pc2UsbWI9dHlwZW9mIERlbm89PVwib2JqZWN0XCImJkRlbm8mJnR5cGVvZiBEZW5vLnZlcnNpb249PVwib2JqZWN0XCIsX009IW1iJiYhSmMmJnR5cGVvZiB3aW5kb3c9PVwib2JqZWN0XCImJnR5cGVvZiBkb2N1bWVudD09XCJvYmplY3RcIixFTT1XZSxyYz1YbyxtTT1IZSxmTT1rQSxnTT1zYixUTT1wZSxTTT1fTSxSTT1tYixLaD16byxhVD1yYyYmcmMucHJvdG90eXBlLENNPVRNKFwic3BlY2llc1wiKSxmYj0hMSxnYj1tTShFTS5Qcm9taXNlUmVqZWN0aW9uRXZlbnQpLElNPWZNKFwiUHJvbWlzZVwiLGZ1bmN0aW9uKCl7dmFyIHQ9Z00ocmMpLGU9dCE9PVN0cmluZyhyYyk7aWYoIWUmJktoPT09NjZ8fCFhVC5jYXRjaHx8IWFULmZpbmFsbHkpcmV0dXJuICEwO2lmKCFLaHx8S2g8NTF8fCEvbmF0aXZlIGNvZGUvLnRlc3QodCkpe3ZhciBuPW5ldyByYyhmdW5jdGlvbihyKXtyKDEpO30pLGk9ZnVuY3Rpb24ocil7cihmdW5jdGlvbigpe30sZnVuY3Rpb24oKXt9KTt9O2lmKChuLmNvbnN0cnVjdG9yPXt9KVtDTV09aSwhKGZiPW4udGhlbihmdW5jdGlvbigpe30paW5zdGFuY2VvZiBpKSlyZXR1cm4gITB9cmV0dXJuICFlJiYoU018fFJNKSYmIWdifSksJGM9e0NPTlNUUlVDVE9SOklNLFJFSkVDVElPTl9FVkVOVDpnYixTVUJDTEFTU0lORzpmYn0sbXI9e30sY1Q9eWksdk09VHlwZUVycm9yLHlNPWZ1bmN0aW9uKHQpe3ZhciBlLG47dGhpcy5wcm9taXNlPW5ldyB0KGZ1bmN0aW9uKGkscil7aWYoZSE9PXZvaWQgMHx8biE9PXZvaWQgMCl0aHJvdyB2TShcIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yXCIpO2U9aSxuPXI7fSksdGhpcy5yZXNvbHZlPWNUKGUpLHRoaXMucmVqZWN0PWNUKG4pO307bXIuZj1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHlNKHQpfTt2YXIgWWgsZFQsQU09eHQsTGw9SmMsdW89V2UsdGQ9S2UsYk09Z28sd009VG8sT009ZnVuY3Rpb24odCl7dmFyIGU9TzEodCk7RDEmJmUmJiFlW0tnXSYmTjEoZSxLZyx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pO30sTk09eWksZUU9SGUsRE09SG4sUE09Rm0sa009am0sVGI9cGIuc2V0LEhtPXBNLExNPWZ1bmN0aW9uKHQsZSl7dHJ5e2FyZ3VtZW50cy5sZW5ndGg9PTE/Y29uc29sZS5lcnJvcih0KTpjb25zb2xlLmVycm9yKHQsZSk7fWNhdGNoe319LE1NPV9hLFVNPUViLFNiPW5zLG5FPVhvLFJiPSRjLENiPW1yLGNsPVwiUHJvbWlzZVwiLGxUPVJiLkNPTlNUUlVDVE9SLHhNPVJiLlJFSkVDVElPTl9FVkVOVCxxaD1TYi5nZXR0ZXJGb3IoY2wpLFZNPVNiLnNldCxGTT1uRSYmbkUucHJvdG90eXBlLE9hPW5FLHpoPUZNLEliPXVvLlR5cGVFcnJvcixpRT11by5kb2N1bWVudCxLbT11by5wcm9jZXNzLHJFPUNiLmYsQk09ckUsak09ISEoaUUmJmlFLmNyZWF0ZUV2ZW50JiZ1by5kaXNwYXRjaEV2ZW50KSx2Yj1cInVuaGFuZGxlZHJlamVjdGlvblwiLHliPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiAhKCFETSh0KXx8IWVFKGU9dC50aGVuKSkmJmV9LEFiPWZ1bmN0aW9uKHQsZSl7dmFyIG4saSxyLG89ZS52YWx1ZSxzPWUuc3RhdGU9PTEsYT1zP3Qub2s6dC5mYWlsLGM9dC5yZXNvbHZlLGQ9dC5yZWplY3QsbD10LmRvbWFpbjt0cnl7YT8oc3x8KGUucmVqZWN0aW9uPT09MiYmV00oZSksZS5yZWplY3Rpb249MSksYT09PSEwP249bzoobCYmbC5lbnRlcigpLG49YShvKSxsJiYobC5leGl0KCkscj0hMCkpLG49PT10LnByb21pc2U/ZChJYihcIlByb21pc2UtY2hhaW4gY3ljbGVcIikpOihpPXliKG4pKT90ZChpLG4sYyxkKTpjKG4pKTpkKG8pO31jYXRjaCh1KXtsJiYhciYmbC5leGl0KCksZCh1KTt9fSxiYj1mdW5jdGlvbih0LGUpe3Qubm90aWZpZWR8fCh0Lm5vdGlmaWVkPSEwLEhtKGZ1bmN0aW9uKCl7Zm9yKHZhciBuLGk9dC5yZWFjdGlvbnM7bj1pLmdldCgpOylBYihuLHQpO3Qubm90aWZpZWQ9ITEsZSYmIXQucmVqZWN0aW9uJiZHTSh0KTt9KSk7fSx3Yj1mdW5jdGlvbih0LGUsbil7dmFyIGkscjtqTT8oKGk9aUUuY3JlYXRlRXZlbnQoXCJFdmVudFwiKSkucHJvbWlzZT1lLGkucmVhc29uPW4saS5pbml0RXZlbnQodCwhMSwhMCksdW8uZGlzcGF0Y2hFdmVudChpKSk6aT17cHJvbWlzZTplLHJlYXNvbjpufSwheE0mJihyPXVvW1wib25cIit0XSk/cihpKTp0PT09dmImJkxNKFwiVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uXCIsbik7fSxHTT1mdW5jdGlvbih0KXt0ZChUYix1byxmdW5jdGlvbigpe3ZhciBlLG49dC5mYWNhZGUsaT10LnZhbHVlO2lmKHVUKHQpJiYoZT1NTShmdW5jdGlvbigpe0xsP0ttLmVtaXQoXCJ1bmhhbmRsZWRSZWplY3Rpb25cIixpLG4pOndiKHZiLG4saSk7fSksdC5yZWplY3Rpb249TGx8fHVUKHQpPzI6MSxlLmVycm9yKSl0aHJvdyBlLnZhbHVlfSk7fSx1VD1mdW5jdGlvbih0KXtyZXR1cm4gdC5yZWplY3Rpb24hPT0xJiYhdC5wYXJlbnR9LFdNPWZ1bmN0aW9uKHQpe3RkKFRiLHVvLGZ1bmN0aW9uKCl7dmFyIGU9dC5mYWNhZGU7TGw/S20uZW1pdChcInJlamVjdGlvbkhhbmRsZWRcIixlKTp3YihcInJlamVjdGlvbmhhbmRsZWRcIixlLHQudmFsdWUpO30pO30sT3M9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBmdW5jdGlvbihpKXt0KGUsaSxuKTt9fSxGcz1mdW5jdGlvbih0LGUsbil7dC5kb25lfHwodC5kb25lPSEwLG4mJih0PW4pLHQudmFsdWU9ZSx0LnN0YXRlPTIsYmIodCwhMCkpO30sb0U9ZnVuY3Rpb24odCxlLG4pe2lmKCF0LmRvbmUpe3QuZG9uZT0hMCxuJiYodD1uKTt0cnl7aWYodC5mYWNhZGU9PT1lKXRocm93IEliKFwiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGZcIik7dmFyIGk9eWIoZSk7aT9IbShmdW5jdGlvbigpe3ZhciByPXtkb25lOiExfTt0cnl7dGQoaSxlLE9zKG9FLHIsdCksT3MoRnMscix0KSk7fWNhdGNoKG8pe0ZzKHIsbyx0KTt9fSk6KHQudmFsdWU9ZSx0LnN0YXRlPTEsYmIodCwhMSkpO31jYXRjaChyKXtGcyh7ZG9uZTohMX0scix0KTt9fX07bFQmJih6aD0oT2E9ZnVuY3Rpb24odCl7UE0odGhpcyx6aCksTk0odCksdGQoWWgsdGhpcyk7dmFyIGU9cWgodGhpcyk7dHJ5e3QoT3Mob0UsZSksT3MoRnMsZSkpO31jYXRjaChuKXtGcyhlLG4pO319KS5wcm90b3R5cGUsKFloPWZ1bmN0aW9uKHQpe1ZNKHRoaXMse3R5cGU6Y2wsZG9uZTohMSxub3RpZmllZDohMSxwYXJlbnQ6ITEscmVhY3Rpb25zOm5ldyBVTSxyZWplY3Rpb246ITEsc3RhdGU6MCx2YWx1ZTp2b2lkIDB9KTt9KS5wcm90b3R5cGU9Yk0oemgsXCJ0aGVuXCIsZnVuY3Rpb24odCxlKXt2YXIgbj1xaCh0aGlzKSxpPXJFKGtNKHRoaXMsT2EpKTtyZXR1cm4gbi5wYXJlbnQ9ITAsaS5vaz0hZUUodCl8fHQsaS5mYWlsPWVFKGUpJiZlLGkuZG9tYWluPUxsP0ttLmRvbWFpbjp2b2lkIDAsbi5zdGF0ZT09MD9uLnJlYWN0aW9ucy5hZGQoaSk6SG0oZnVuY3Rpb24oKXtBYihpLG4pO30pLGkucHJvbWlzZX0pLGRUPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IFloLGU9cWgodCk7dGhpcy5wcm9taXNlPXQsdGhpcy5yZXNvbHZlPU9zKG9FLGUpLHRoaXMucmVqZWN0PU9zKEZzLGUpO30sQ2IuZj1yRT1mdW5jdGlvbih0KXtyZXR1cm4gdD09PU9hfHx0PT09dm9pZCAwP25ldyBkVCh0KTpCTSh0KX0pLEFNKHtnbG9iYWw6ITAsY29uc3RydWN0b3I6ITAsd3JhcDohMCxmb3JjZWQ6bFR9LHtQcm9taXNlOk9hfSksd00oT2EsY2wsITEsITApLE9NKGNsKTt2YXIgT2I9cGUoXCJpdGVyYXRvclwiKSxOYj0hMTt0cnl7aFQ9MCxKaD17bmV4dDpmdW5jdGlvbigpe3JldHVybiB7ZG9uZTohIWhUKyt9fSxyZXR1cm46ZnVuY3Rpb24oKXtOYj0hMDt9fSxKaFtPYl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sQXJyYXkuZnJvbShKaCxmdW5jdGlvbigpe3Rocm93IDJ9KTt9Y2F0Y2h7fXZhciBoVCxKaCxITT1YbyxLTT1mdW5jdGlvbih0LGUpe2lmKCFOYilyZXR1cm4gITE7dmFyIG49ITE7dHJ5e3ZhciBpPXt9O2lbT2JdPWZ1bmN0aW9uKCl7cmV0dXJuIHtuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHtkb25lOm49ITB9fX19LHQoaSk7fWNhdGNoe31yZXR1cm4gbn0sRnU9JGMuQ09OU1RSVUNUT1J8fCFLTShmdW5jdGlvbih0KXtITS5hbGwodCkudGhlbih2b2lkIDAsZnVuY3Rpb24oKXt9KTt9KSxZTT1LZSxxTT15aSx6TT1tcixKTT1fYSxYTT1aYzt4dCh7dGFyZ2V0OlwiUHJvbWlzZVwiLHN0YXQ6ITAsZm9yY2VkOkZ1fSx7YWxsOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj16TS5mKGUpLGk9bi5yZXNvbHZlLHI9bi5yZWplY3Qsbz1KTShmdW5jdGlvbigpe3ZhciBzPXFNKGUucmVzb2x2ZSksYT1bXSxjPTAsZD0xO1hNKHQsZnVuY3Rpb24obCl7dmFyIHU9YysrLGg9ITE7ZCsrLFlNKHMsZSxsKS50aGVuKGZ1bmN0aW9uKHApe2h8fChoPSEwLGFbdV09cCwtLWR8fGkoYSkpO30scik7fSksLS1kfHxpKGEpO30pO3JldHVybiBvLmVycm9yJiZyKG8udmFsdWUpLG4ucHJvbWlzZX19KTt2YXIgUU09eHQsWk09JGMuQ09OU1RSVUNUT1I7WG8mJlhvLnByb3RvdHlwZSxRTSh7dGFyZ2V0OlwiUHJvbWlzZVwiLHByb3RvOiEwLGZvcmNlZDpaTSxyZWFsOiEwfSx7Y2F0Y2g6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhlbih2b2lkIDAsdCl9fSk7dmFyICRNPUtlLHRVPXlpLGVVPW1yLG5VPV9hLGlVPVpjO3h0KHt0YXJnZXQ6XCJQcm9taXNlXCIsc3RhdDohMCxmb3JjZWQ6RnV9LHtyYWNlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj1lVS5mKGUpLGk9bi5yZWplY3Qscj1uVShmdW5jdGlvbigpe3ZhciBvPXRVKGUucmVzb2x2ZSk7aVUodCxmdW5jdGlvbihzKXskTShvLGUscykudGhlbihuLnJlc29sdmUsaSk7fSk7fSk7cmV0dXJuIHIuZXJyb3ImJmkoci52YWx1ZSksbi5wcm9taXNlfX0pO3ZhciByVT1LZSxvVT1tcjt4dCh7dGFyZ2V0OlwiUHJvbWlzZVwiLHN0YXQ6ITAsZm9yY2VkOiRjLkNPTlNUUlVDVE9SfSx7cmVqZWN0OmZ1bmN0aW9uKHQpe3ZhciBlPW9VLmYodGhpcyk7cmV0dXJuIHJVKGUucmVqZWN0LHZvaWQgMCx0KSxlLnByb21pc2V9fSk7dmFyIHNVPUNuLGFVPUhuLGNVPW1yLERiPWZ1bmN0aW9uKHQsZSl7aWYoc1UodCksYVUoZSkmJmUuY29uc3RydWN0b3I9PT10KXJldHVybiBlO3ZhciBuPWNVLmYodCk7cmV0dXJuICgwLCBuLnJlc29sdmUpKGUpLG4ucHJvbWlzZX0sZFU9eHQsbFU9WG8sdVU9JGMuQ09OU1RSVUNUT1IsaFU9RGIscFU9RG4oXCJQcm9taXNlXCIpLF9VPSF1VTtkVSh7dGFyZ2V0OlwiUHJvbWlzZVwiLHN0YXQ6ITAsZm9yY2VkOiEwfSx7cmVzb2x2ZTpmdW5jdGlvbih0KXtyZXR1cm4gaFUoX1UmJnRoaXM9PT1wVT9sVTp0aGlzLHQpfX0pO3ZhciBFVT1LZSxtVT15aSxmVT1tcixnVT1fYSxUVT1aYzt4dCh7dGFyZ2V0OlwiUHJvbWlzZVwiLHN0YXQ6ITAsZm9yY2VkOkZ1fSx7YWxsU2V0dGxlZDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLG49ZlUuZihlKSxpPW4ucmVzb2x2ZSxyPW4ucmVqZWN0LG89Z1UoZnVuY3Rpb24oKXt2YXIgcz1tVShlLnJlc29sdmUpLGE9W10sYz0wLGQ9MTtUVSh0LGZ1bmN0aW9uKGwpe3ZhciB1PWMrKyxoPSExO2QrKyxFVShzLGUsbCkudGhlbihmdW5jdGlvbihwKXtofHwoaD0hMCxhW3VdPXtzdGF0dXM6XCJmdWxmaWxsZWRcIix2YWx1ZTpwfSwtLWR8fGkoYSkpO30sZnVuY3Rpb24ocCl7aHx8KGg9ITAsYVt1XT17c3RhdHVzOlwicmVqZWN0ZWRcIixyZWFzb246cH0sLS1kfHxpKGEpKTt9KTt9KSwtLWR8fGkoYSk7fSk7cmV0dXJuIG8uZXJyb3ImJnIoby52YWx1ZSksbi5wcm9taXNlfX0pO3ZhciBTVT1LZSxSVT15aSxDVT1EbixJVT1tcix2VT1fYSx5VT1aYyxwVD1cIk5vIG9uZSBwcm9taXNlIHJlc29sdmVkXCI7eHQoe3RhcmdldDpcIlByb21pc2VcIixzdGF0OiEwLGZvcmNlZDpGdX0se2FueTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLG49Q1UoXCJBZ2dyZWdhdGVFcnJvclwiKSxpPUlVLmYoZSkscj1pLnJlc29sdmUsbz1pLnJlamVjdCxzPXZVKGZ1bmN0aW9uKCl7dmFyIGE9UlUoZS5yZXNvbHZlKSxjPVtdLGQ9MCxsPTEsdT0hMTt5VSh0LGZ1bmN0aW9uKGgpe3ZhciBwPWQrKyxnPSExO2wrKyxTVShhLGUsaCkudGhlbihmdW5jdGlvbihFKXtnfHx1fHwodT0hMCxyKEUpKTt9LGZ1bmN0aW9uKEUpe2d8fHV8fChnPSEwLGNbcF09RSwtLWx8fG8obmV3IG4oYyxwVCkpKTt9KTt9KSwtLWx8fG8obmV3IG4oYyxwVCkpO30pO3JldHVybiBzLmVycm9yJiZvKHMudmFsdWUpLGkucHJvbWlzZX19KTt2YXIgQVU9eHQsc0U9WG8sYlU9U2Usd1U9RG4sT1U9SGUsTlU9am0sX1Q9RGIsRFU9c0UmJnNFLnByb3RvdHlwZTtBVSh7dGFyZ2V0OlwiUHJvbWlzZVwiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOiEhc0UmJmJVKGZ1bmN0aW9uKCl7RFUuZmluYWxseS5jYWxsKHt0aGVuOmZ1bmN0aW9uKCl7fX0sZnVuY3Rpb24oKXt9KTt9KX0se2ZpbmFsbHk6ZnVuY3Rpb24odCl7dmFyIGU9TlUodGhpcyx3VShcIlByb21pc2VcIikpLG49T1UodCk7cmV0dXJuIHRoaXMudGhlbihuP2Z1bmN0aW9uKGkpe3JldHVybiBfVChlLHQoKSkudGhlbihmdW5jdGlvbigpe3JldHVybiBpfSl9OnQsbj9mdW5jdGlvbihpKXtyZXR1cm4gX1QoZSx0KCkpLnRoZW4oZnVuY3Rpb24oKXt0aHJvdyBpfSl9OnQpfX0pO3ZhciBZbT1tZSxQVT13bSxrVT1vaSxMVT1sYSxNVT1ZbShcIlwiLmNoYXJBdCksRVQ9WW0oXCJcIi5jaGFyQ29kZUF0KSxVVT1ZbShcIlwiLnNsaWNlKSxtVD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXt2YXIgaSxyLG89a1UoTFUoZSkpLHM9UFUobiksYT1vLmxlbmd0aDtyZXR1cm4gczwwfHxzPj1hP3Q/XCJcIjp2b2lkIDA6KGk9RVQobyxzKSk8NTUyOTZ8fGk+NTYzMTl8fHMrMT09PWF8fChyPUVUKG8scysxKSk8NTYzMjB8fHI+NTczNDM/dD9NVShvLHMpOmk6dD9VVShvLHMscysyKTpyLTU2MzIwKyhpLTU1Mjk2PDwxMCkrNjU1MzZ9fSxxbT17Y29kZUF0Om1UKCExKSxjaGFyQXQ6bVQoITApfSx4VT1xbS5jaGFyQXQsVlU9b2ksUGI9bnMsRlU9aWIsZlQ9Vm0sa2I9XCJTdHJpbmcgSXRlcmF0b3JcIixCVT1QYi5zZXQsalU9UGIuZ2V0dGVyRm9yKGtiKTtGVShTdHJpbmcsXCJTdHJpbmdcIixmdW5jdGlvbih0KXtCVSh0aGlzLHt0eXBlOmtiLHN0cmluZzpWVSh0KSxpbmRleDowfSk7fSxmdW5jdGlvbigpe3ZhciB0LGU9alUodGhpcyksbj1lLnN0cmluZyxpPWUuaW5kZXg7cmV0dXJuIGk+PW4ubGVuZ3RoP2ZUKHZvaWQgMCwhMCk6KHQ9eFUobixpKSxlLmluZGV4Kz10Lmxlbmd0aCxmVCh0LCExKSl9KTt2YXIgR1U9R2kuUHJvbWlzZSxXVT17Q1NTUnVsZUxpc3Q6MCxDU1NTdHlsZURlY2xhcmF0aW9uOjAsQ1NTVmFsdWVMaXN0OjAsQ2xpZW50UmVjdExpc3Q6MCxET01SZWN0TGlzdDowLERPTVN0cmluZ0xpc3Q6MCxET01Ub2tlbkxpc3Q6MSxEYXRhVHJhbnNmZXJJdGVtTGlzdDowLEZpbGVMaXN0OjAsSFRNTEFsbENvbGxlY3Rpb246MCxIVE1MQ29sbGVjdGlvbjowLEhUTUxGb3JtRWxlbWVudDowLEhUTUxTZWxlY3RFbGVtZW50OjAsTWVkaWFMaXN0OjAsTWltZVR5cGVBcnJheTowLE5hbWVkTm9kZU1hcDowLE5vZGVMaXN0OjEsUGFpbnRSZXF1ZXN0TGlzdDowLFBsdWdpbjowLFBsdWdpbkFycmF5OjAsU1ZHTGVuZ3RoTGlzdDowLFNWR051bWJlckxpc3Q6MCxTVkdQYXRoU2VnTGlzdDowLFNWR1BvaW50TGlzdDowLFNWR1N0cmluZ0xpc3Q6MCxTVkdUcmFuc2Zvcm1MaXN0OjAsU291cmNlQnVmZmVyTGlzdDowLFN0eWxlU2hlZXRMaXN0OjAsVGV4dFRyYWNrQ3VlTGlzdDowLFRleHRUcmFja0xpc3Q6MCxUb3VjaExpc3Q6MH0sSFU9V2UsS1U9RXIsWVU9Zm8sZ1Q9ZXMsVFQ9cGUoXCJ0b1N0cmluZ1RhZ1wiKTtmb3IoZmQgaW4gV1UpWGg9SFVbZmRdLGdkPVhoJiZYaC5wcm90b3R5cGUsZ2QmJktVKGdkKSE9PVRUJiZZVShnZCxUVCxmZCksZ1RbZmRdPWdULkFycmF5O3ZhciBYaCxnZCxmZCxMYj1HVSxqPWFlKExiKSxTVD1qQTtmdW5jdGlvbiBNYih0LGUpe2xldCBuPXQmJnQubmF2aWdhdG9yO2lmKCFuLm1lZGlhRGV2aWNlcylyZXR1cm47bGV0IGk9ZnVuY3Rpb24ocyl7aWYodHlwZW9mIHMhPVwib2JqZWN0XCJ8fHMubWFuZGF0b3J5fHxzLm9wdGlvbmFsKXJldHVybiBzO2xldCBhPXt9O3JldHVybiBPYmplY3Qua2V5cyhzKS5mb3JFYWNoKGM9PntpZihjPT09XCJyZXF1aXJlXCJ8fGM9PT1cImFkdmFuY2VkXCJ8fGM9PT1cIm1lZGlhU291cmNlXCIpcmV0dXJuO2xldCBkPXR5cGVvZiBzW2NdPT1cIm9iamVjdFwiP3NbY106e2lkZWFsOnNbY119O2QuZXhhY3QhPT12b2lkIDAmJnR5cGVvZiBkLmV4YWN0PT1cIm51bWJlclwiJiYoZC5taW49ZC5tYXg9ZC5leGFjdCk7bGV0IGw9ZnVuY3Rpb24odSxoKXtyZXR1cm4gdT91K2guY2hhckF0KDApLnRvVXBwZXJDYXNlKCkraC5zbGljZSgxKTpoPT09XCJkZXZpY2VJZFwiP1wic291cmNlSWRcIjpofTtpZihkLmlkZWFsIT09dm9pZCAwKXthLm9wdGlvbmFsPWEub3B0aW9uYWx8fFtdO2xldCB1PXt9O3R5cGVvZiBkLmlkZWFsPT1cIm51bWJlclwiPyh1W2woXCJtaW5cIixjKV09ZC5pZGVhbCxhLm9wdGlvbmFsLnB1c2godSksdT17fSx1W2woXCJtYXhcIixjKV09ZC5pZGVhbCxhLm9wdGlvbmFsLnB1c2godSkpOih1W2woXCJcIixjKV09ZC5pZGVhbCxhLm9wdGlvbmFsLnB1c2godSkpO31kLmV4YWN0IT09dm9pZCAwJiZ0eXBlb2YgZC5leGFjdCE9XCJudW1iZXJcIj8oYS5tYW5kYXRvcnk9YS5tYW5kYXRvcnl8fHt9LGEubWFuZGF0b3J5W2woXCJcIixjKV09ZC5leGFjdCk6W1wibWluXCIsXCJtYXhcIl0uZm9yRWFjaCh1PT57ZFt1XSE9PXZvaWQgMCYmKGEubWFuZGF0b3J5PWEubWFuZGF0b3J5fHx7fSxhLm1hbmRhdG9yeVtsKHUsYyldPWRbdV0pO30pO30pLHMuYWR2YW5jZWQmJihhLm9wdGlvbmFsPShhLm9wdGlvbmFsfHxbXSkuY29uY2F0KHMuYWR2YW5jZWQpKSxhfSxyPWZ1bmN0aW9uKHMsYSl7aWYoZS52ZXJzaW9uPj02MSlyZXR1cm4gYShzKTtpZigocz1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHMpKSkmJnR5cGVvZiBzLmF1ZGlvPT1cIm9iamVjdFwiKXtsZXQgYz1mdW5jdGlvbihkLGwsdSl7bCBpbiBkJiYhKHUgaW4gZCkmJihkW3VdPWRbbF0sZGVsZXRlIGRbbF0pO307Yygocz1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHMpKSkuYXVkaW8sXCJhdXRvR2FpbkNvbnRyb2xcIixcImdvb2dBdXRvR2FpbkNvbnRyb2xcIiksYyhzLmF1ZGlvLFwibm9pc2VTdXBwcmVzc2lvblwiLFwiZ29vZ05vaXNlU3VwcHJlc3Npb25cIikscy5hdWRpbz1pKHMuYXVkaW8pO31pZihzJiZ0eXBlb2Ygcy52aWRlbz09XCJvYmplY3RcIil7bGV0IGM9cy52aWRlby5mYWNpbmdNb2RlO2M9YyYmKHR5cGVvZiBjPT1cIm9iamVjdFwiP2M6e2lkZWFsOmN9KTtsZXQgZD1lLnZlcnNpb248NjY7aWYoYyYmKGMuZXhhY3Q9PT1cInVzZXJcInx8Yy5leGFjdD09PVwiZW52aXJvbm1lbnRcInx8Yy5pZGVhbD09PVwidXNlclwifHxjLmlkZWFsPT09XCJlbnZpcm9ubWVudFwiKSYmKCFuLm1lZGlhRGV2aWNlcy5nZXRTdXBwb3J0ZWRDb25zdHJhaW50c3x8IW4ubWVkaWFEZXZpY2VzLmdldFN1cHBvcnRlZENvbnN0cmFpbnRzKCkuZmFjaW5nTW9kZXx8ZCkpe2xldCBsO2lmKGRlbGV0ZSBzLnZpZGVvLmZhY2luZ01vZGUsYy5leGFjdD09PVwiZW52aXJvbm1lbnRcInx8Yy5pZGVhbD09PVwiZW52aXJvbm1lbnRcIj9sPVtcImJhY2tcIixcInJlYXJcIl06Yy5leGFjdCE9PVwidXNlclwiJiZjLmlkZWFsIT09XCJ1c2VyXCJ8fChsPVtcImZyb250XCJdKSxsKXJldHVybiBuLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKCkudGhlbih1PT57bGV0IGg9KHU9dS5maWx0ZXIocD0+cC5raW5kPT09XCJ2aWRlb2lucHV0XCIpKS5maW5kKHA9Pmwuc29tZShnPT57dmFyIEU7cmV0dXJuIFcoRT1wLmxhYmVsLnRvTG93ZXJDYXNlKCkpLmNhbGwoRSxnKX0pKTtyZXR1cm4gIWgmJnUubGVuZ3RoJiZXKGwpLmNhbGwobCxcImJhY2tcIikmJihoPXVbdS5sZW5ndGgtMV0pLGgmJihzLnZpZGVvLmRldmljZUlkPWMuZXhhY3Q/e2V4YWN0OmguZGV2aWNlSWR9OntpZGVhbDpoLmRldmljZUlkfSkscy52aWRlbz1pKHMudmlkZW8pLFNUKFwiY2hyb21lOiBcIitKU09OLnN0cmluZ2lmeShzKSksYShzKX0pfXMudmlkZW89aShzLnZpZGVvKTt9cmV0dXJuIFNUKFwiY2hyb21lOiBcIitKU09OLnN0cmluZ2lmeShzKSksYShzKX0sbz1mdW5jdGlvbihzKXtyZXR1cm4gZS52ZXJzaW9uPj02ND9zOntuYW1lOntQZXJtaXNzaW9uRGVuaWVkRXJyb3I6XCJOb3RBbGxvd2VkRXJyb3JcIixQZXJtaXNzaW9uRGlzbWlzc2VkRXJyb3I6XCJOb3RBbGxvd2VkRXJyb3JcIixJbnZhbGlkU3RhdGVFcnJvcjpcIk5vdEFsbG93ZWRFcnJvclwiLERldmljZXNOb3RGb3VuZEVycm9yOlwiTm90Rm91bmRFcnJvclwiLENvbnN0cmFpbnROb3RTYXRpc2ZpZWRFcnJvcjpcIk92ZXJjb25zdHJhaW5lZEVycm9yXCIsVHJhY2tTdGFydEVycm9yOlwiTm90UmVhZGFibGVFcnJvclwiLE1lZGlhRGV2aWNlRmFpbGVkRHVlVG9TaHV0ZG93bjpcIk5vdEFsbG93ZWRFcnJvclwiLE1lZGlhRGV2aWNlS2lsbFN3aXRjaE9uOlwiTm90QWxsb3dlZEVycm9yXCIsVGFiQ2FwdHVyZUVycm9yOlwiQWJvcnRFcnJvclwiLFNjcmVlbkNhcHR1cmVFcnJvcjpcIkFib3J0RXJyb3JcIixEZXZpY2VDYXB0dXJlRXJyb3I6XCJBYm9ydEVycm9yXCJ9W3MubmFtZV18fHMubmFtZSxtZXNzYWdlOnMubWVzc2FnZSxjb25zdHJhaW50OnMuY29uc3RyYWludHx8cy5jb25zdHJhaW50TmFtZSx0b1N0cmluZygpe3JldHVybiB0aGlzLm5hbWUrKHRoaXMubWVzc2FnZSYmXCI6IFwiKSt0aGlzLm1lc3NhZ2V9fX07aWYobi5nZXRVc2VyTWVkaWE9ZnVuY3Rpb24ocyxhLGMpe3IocyxkPT57bi53ZWJraXRHZXRVc2VyTWVkaWEoZCxhLGw9PntjJiZjKG8obCkpO30pO30pO30uYmluZChuKSxuLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEpe2xldCBzPW4ubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYS5iaW5kKG4ubWVkaWFEZXZpY2VzKTtuLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWE9ZnVuY3Rpb24oYSl7cmV0dXJuIHIoYSxjPT5zKGMpLnRoZW4oZD0+e2lmKGMuYXVkaW8mJiFkLmdldEF1ZGlvVHJhY2tzKCkubGVuZ3RofHxjLnZpZGVvJiYhZC5nZXRWaWRlb1RyYWNrcygpLmxlbmd0aCl0aHJvdyBkLmdldFRyYWNrcygpLmZvckVhY2gobD0+e2wuc3RvcCgpO30pLG5ldyBET01FeGNlcHRpb24oXCJcIixcIk5vdEZvdW5kRXJyb3JcIik7cmV0dXJuIGR9LGQ9PmoucmVqZWN0KG8oZCkpKSl9O319ZnVuY3Rpb24gVWIodCl7dC5NZWRpYVN0cmVhbT10Lk1lZGlhU3RyZWFtfHx0LndlYmtpdE1lZGlhU3RyZWFtO31mdW5jdGlvbiB4Yih0KXtpZih0eXBlb2YgdD09XCJvYmplY3RcIiYmdC5SVENQZWVyQ29ubmVjdGlvbiYmIShcIm9udHJhY2tcImluIHQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLFwib250cmFja1wiLHtnZXQoKXtyZXR1cm4gdGhpcy5fb250cmFja30sc2V0KG4pe3RoaXMuX29udHJhY2smJnRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRyYWNrXCIsdGhpcy5fb250cmFjayksdGhpcy5hZGRFdmVudExpc3RlbmVyKFwidHJhY2tcIix0aGlzLl9vbnRyYWNrPW4pO30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KTtsZXQgZT10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRSZW1vdGVEZXNjcmlwdGlvbjt0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRSZW1vdGVEZXNjcmlwdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbnRyYWNrcG9seXx8KHRoaXMuX29udHJhY2twb2x5PW49PntuLnN0cmVhbS5hZGRFdmVudExpc3RlbmVyKFwiYWRkdHJhY2tcIixpPT57bGV0IHI7cj10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRSZWNlaXZlcnM/dGhpcy5nZXRSZWNlaXZlcnMoKS5maW5kKHM9PnMudHJhY2smJnMudHJhY2suaWQ9PT1pLnRyYWNrLmlkKTp7dHJhY2s6aS50cmFja307bGV0IG89bmV3IEV2ZW50KFwidHJhY2tcIik7by50cmFjaz1pLnRyYWNrLG8ucmVjZWl2ZXI9cixvLnRyYW5zY2VpdmVyPXtyZWNlaXZlcjpyfSxvLnN0cmVhbXM9W24uc3RyZWFtXSx0aGlzLmRpc3BhdGNoRXZlbnQobyk7fSksbi5zdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaChpPT57bGV0IHI7cj10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRSZWNlaXZlcnM/dGhpcy5nZXRSZWNlaXZlcnMoKS5maW5kKHM9PnMudHJhY2smJnMudHJhY2suaWQ9PT1pLmlkKTp7dHJhY2s6aX07bGV0IG89bmV3IEV2ZW50KFwidHJhY2tcIik7by50cmFjaz1pLG8ucmVjZWl2ZXI9cixvLnRyYW5zY2VpdmVyPXtyZWNlaXZlcjpyfSxvLnN0cmVhbXM9W24uc3RyZWFtXSx0aGlzLmRpc3BhdGNoRXZlbnQobyk7fSk7fSx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJhZGRzdHJlYW1cIix0aGlzLl9vbnRyYWNrcG9seSkpLGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt9ZWxzZSB0cyh0LFwidHJhY2tcIixlPT4oZS50cmFuc2NlaXZlcnx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJ0cmFuc2NlaXZlclwiLHt2YWx1ZTp7cmVjZWl2ZXI6ZS5yZWNlaXZlcn19KSxlKSk7fWZ1bmN0aW9uIFZiKHQpe2lmKHR5cGVvZiB0PT1cIm9iamVjdFwiJiZ0LlJUQ1BlZXJDb25uZWN0aW9uJiYhKFwiZ2V0U2VuZGVyc1wiaW4gdC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpJiZcImNyZWF0ZURUTUZTZW5kZXJcImluIHQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKXtsZXQgZT1mdW5jdGlvbihyLG8pe3JldHVybiB7dHJhY2s6byxnZXQgZHRtZigpe3JldHVybiB0aGlzLl9kdG1mPT09dm9pZCAwJiYoby5raW5kPT09XCJhdWRpb1wiP3RoaXMuX2R0bWY9ci5jcmVhdGVEVE1GU2VuZGVyKG8pOnRoaXMuX2R0bWY9bnVsbCksdGhpcy5fZHRtZn0sX3BjOnJ9fTtpZighdC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U2VuZGVycyl7dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U2VuZGVycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZW5kZXJzPXRoaXMuX3NlbmRlcnN8fFtdLHRoaXMuX3NlbmRlcnMuc2xpY2UoKX07bGV0IHI9dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2s7dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2s9ZnVuY3Rpb24ocyxhKXtsZXQgYz1yLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gY3x8KGM9ZSh0aGlzLHMpLHRoaXMuX3NlbmRlcnMucHVzaChjKSksY307bGV0IG89dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlVHJhY2s7dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlVHJhY2s9ZnVuY3Rpb24ocyl7by5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bGV0IGE9dGhpcy5fc2VuZGVycy5pbmRleE9mKHMpO2EhPT0tMSYmdGhpcy5fc2VuZGVycy5zcGxpY2UoYSwxKTt9O31sZXQgbj10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRTdHJlYW07dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkU3RyZWFtPWZ1bmN0aW9uKHIpe3RoaXMuX3NlbmRlcnM9dGhpcy5fc2VuZGVyc3x8W10sbi5hcHBseSh0aGlzLFtyXSksci5nZXRUcmFja3MoKS5mb3JFYWNoKG89Pnt0aGlzLl9zZW5kZXJzLnB1c2goZSh0aGlzLG8pKTt9KTt9O2xldCBpPXQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVN0cmVhbTt0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW09ZnVuY3Rpb24ocil7dGhpcy5fc2VuZGVycz10aGlzLl9zZW5kZXJzfHxbXSxpLmFwcGx5KHRoaXMsW3JdKSxyLmdldFRyYWNrcygpLmZvckVhY2gobz0+e2xldCBzPXRoaXMuX3NlbmRlcnMuZmluZChhPT5hLnRyYWNrPT09byk7cyYmdGhpcy5fc2VuZGVycy5zcGxpY2UodGhpcy5fc2VuZGVycy5pbmRleE9mKHMpLDEpO30pO307fWVsc2UgaWYodHlwZW9mIHQ9PVwib2JqZWN0XCImJnQuUlRDUGVlckNvbm5lY3Rpb24mJlwiZ2V0U2VuZGVyc1wiaW4gdC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUmJlwiY3JlYXRlRFRNRlNlbmRlclwiaW4gdC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUmJnQuUlRDUnRwU2VuZGVyJiYhKFwiZHRtZlwiaW4gdC5SVENSdHBTZW5kZXIucHJvdG90eXBlKSl7bGV0IGU9dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U2VuZGVyczt0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTZW5kZXJzPWZ1bmN0aW9uKCl7bGV0IG49ZS5hcHBseSh0aGlzLFtdKTtyZXR1cm4gbi5mb3JFYWNoKGk9PmkuX3BjPXRoaXMpLG59LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlJUQ1J0cFNlbmRlci5wcm90b3R5cGUsXCJkdG1mXCIse2dldCgpe3JldHVybiB0aGlzLl9kdG1mPT09dm9pZCAwJiYodGhpcy50cmFjay5raW5kPT09XCJhdWRpb1wiP3RoaXMuX2R0bWY9dGhpcy5fcGMuY3JlYXRlRFRNRlNlbmRlcih0aGlzLnRyYWNrKTp0aGlzLl9kdG1mPW51bGwpLHRoaXMuX2R0bWZ9fSk7fX1mdW5jdGlvbiBGYih0KXtpZighdC5SVENQZWVyQ29ubmVjdGlvbilyZXR1cm47bGV0IGU9dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U3RhdHM7dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U3RhdHM9ZnVuY3Rpb24oKXtsZXRbbixpLHJdPWFyZ3VtZW50cztpZihhcmd1bWVudHMubGVuZ3RoPjAmJnR5cGVvZiBuPT1cImZ1bmN0aW9uXCIpcmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKGUubGVuZ3RoPT09MCYmKGFyZ3VtZW50cy5sZW5ndGg9PT0wfHx0eXBlb2YgbiE9XCJmdW5jdGlvblwiKSlyZXR1cm4gZS5hcHBseSh0aGlzLFtdKTtsZXQgbz1mdW5jdGlvbihhKXtsZXQgYz17fTtyZXR1cm4gYS5yZXN1bHQoKS5mb3JFYWNoKGQ9PntsZXQgbD17aWQ6ZC5pZCx0aW1lc3RhbXA6ZC50aW1lc3RhbXAsdHlwZTp7bG9jYWxjYW5kaWRhdGU6XCJsb2NhbC1jYW5kaWRhdGVcIixyZW1vdGVjYW5kaWRhdGU6XCJyZW1vdGUtY2FuZGlkYXRlXCJ9W2QudHlwZV18fGQudHlwZX07ZC5uYW1lcygpLmZvckVhY2godT0+e2xbdV09ZC5zdGF0KHUpO30pLGNbbC5pZF09bDt9KSxjfSxzPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgTWFwKE9iamVjdC5rZXlzKGEpLm1hcChjPT5bYyxhW2NdXSkpfTtpZihhcmd1bWVudHMubGVuZ3RoPj0yKXtsZXQgYT1mdW5jdGlvbihjKXtpKHMobyhjKSkpO307cmV0dXJuIGUuYXBwbHkodGhpcyxbYSxuXSl9cmV0dXJuIG5ldyBqKChhLGMpPT57ZS5hcHBseSh0aGlzLFtmdW5jdGlvbihkKXthKHMobyhkKSkpO30sY10pO30pLnRoZW4oaSxyKX07fWZ1bmN0aW9uIEJiKHQpe2lmKCEodHlwZW9mIHQ9PVwib2JqZWN0XCImJnQuUlRDUGVlckNvbm5lY3Rpb24mJnQuUlRDUnRwU2VuZGVyJiZ0LlJUQ1J0cFJlY2VpdmVyKSlyZXR1cm47aWYoIShcImdldFN0YXRzXCJpbiB0LlJUQ1J0cFNlbmRlci5wcm90b3R5cGUpKXtsZXQgbj10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTZW5kZXJzO24mJih0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTZW5kZXJzPWZ1bmN0aW9uKCl7bGV0IHI9bi5hcHBseSh0aGlzLFtdKTtyZXR1cm4gci5mb3JFYWNoKG89Pm8uX3BjPXRoaXMpLHJ9KTtsZXQgaT10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjaztpJiYodC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2s9ZnVuY3Rpb24oKXtsZXQgcj1pLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gci5fcGM9dGhpcyxyfSksdC5SVENSdHBTZW5kZXIucHJvdG90eXBlLmdldFN0YXRzPWZ1bmN0aW9uKCl7bGV0IHI9dGhpcztyZXR1cm4gdGhpcy5fcGMuZ2V0U3RhdHMoKS50aGVuKG89PlNnKG8sci50cmFjaywhMCkpfTt9aWYoIShcImdldFN0YXRzXCJpbiB0LlJUQ1J0cFJlY2VpdmVyLnByb3RvdHlwZSkpe2xldCBuPXQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFJlY2VpdmVycztuJiYodC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0UmVjZWl2ZXJzPWZ1bmN0aW9uKCl7bGV0IGk9bi5hcHBseSh0aGlzLFtdKTtyZXR1cm4gaS5mb3JFYWNoKHI9PnIuX3BjPXRoaXMpLGl9KSx0cyh0LFwidHJhY2tcIixpPT4oaS5yZWNlaXZlci5fcGM9aS5zcmNFbGVtZW50LGkpKSx0LlJUQ1J0cFJlY2VpdmVyLnByb3RvdHlwZS5nZXRTdGF0cz1mdW5jdGlvbigpe2xldCBpPXRoaXM7cmV0dXJuIHRoaXMuX3BjLmdldFN0YXRzKCkudGhlbihyPT5TZyhyLGkudHJhY2ssITEpKX07fWlmKCEoXCJnZXRTdGF0c1wiaW4gdC5SVENSdHBTZW5kZXIucHJvdG90eXBlKXx8IShcImdldFN0YXRzXCJpbiB0LlJUQ1J0cFJlY2VpdmVyLnByb3RvdHlwZSkpcmV0dXJuO2xldCBlPXQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFN0YXRzO3QuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFN0YXRzPWZ1bmN0aW9uKCl7aWYoYXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHQuTWVkaWFTdHJlYW1UcmFjayl7bGV0IG49YXJndW1lbnRzWzBdLGkscixvO3JldHVybiB0aGlzLmdldFNlbmRlcnMoKS5mb3JFYWNoKHM9PntzLnRyYWNrPT09biYmKGk/bz0hMDppPXMpO30pLHRoaXMuZ2V0UmVjZWl2ZXJzKCkuZm9yRWFjaChzPT4ocy50cmFjaz09PW4mJihyP289ITA6cj1zKSxzLnRyYWNrPT09bikpLG98fGkmJnI/ai5yZWplY3QobmV3IERPTUV4Y2VwdGlvbihcIlRoZXJlIGFyZSBtb3JlIHRoYW4gb25lIHNlbmRlciBvciByZWNlaXZlciBmb3IgdGhlIHRyYWNrLlwiLFwiSW52YWxpZEFjY2Vzc0Vycm9yXCIpKTppP2kuZ2V0U3RhdHMoKTpyP3IuZ2V0U3RhdHMoKTpqLnJlamVjdChuZXcgRE9NRXhjZXB0aW9uKFwiVGhlcmUgaXMgbm8gc2VuZGVyIG9yIHJlY2VpdmVyIGZvciB0aGUgdHJhY2suXCIsXCJJbnZhbGlkQWNjZXNzRXJyb3JcIikpfXJldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07fWZ1bmN0aW9uIGpiKHQpe3QuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldExvY2FsU3RyZWFtcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zPXRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXN8fHt9LE9iamVjdC5rZXlzKHRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXMpLm1hcChvPT50aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zW29dWzBdKX07bGV0IGU9dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2s7dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2s9ZnVuY3Rpb24obyxzKXtpZighcylyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtcz10aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zfHx7fTtsZXQgYT1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc1tzLmlkXT90aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zW3MuaWRdLmluZGV4T2YoYSk9PT0tMSYmdGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc1tzLmlkXS5wdXNoKGEpOnRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXNbcy5pZF09W3MsYV0sYX07bGV0IG49dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkU3RyZWFtO3QuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFN0cmVhbT1mdW5jdGlvbihvKXt0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zPXRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXN8fHt9LG8uZ2V0VHJhY2tzKCkuZm9yRWFjaChjPT57aWYodGhpcy5nZXRTZW5kZXJzKCkuZmluZChsPT5sLnRyYWNrPT09YykpdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcIlRyYWNrIGFscmVhZHkgZXhpc3RzLlwiLFwiSW52YWxpZEFjY2Vzc0Vycm9yXCIpfSk7bGV0IHM9dGhpcy5nZXRTZW5kZXJzKCk7bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bGV0IGE9dGhpcy5nZXRTZW5kZXJzKCkuZmlsdGVyKGM9PnMuaW5kZXhPZihjKT09PS0xKTt0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zW28uaWRdPVtvXS5jb25jYXQoYSk7fTtsZXQgaT10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW07dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlU3RyZWFtPWZ1bmN0aW9uKG8pe3JldHVybiB0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zPXRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXN8fHt9LGRlbGV0ZSB0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zW28uaWRdLGkuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtsZXQgcj10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVUcmFjazt0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVUcmFjaz1mdW5jdGlvbihvKXtyZXR1cm4gdGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtcz10aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zfHx7fSxvJiZPYmplY3Qua2V5cyh0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zKS5mb3JFYWNoKHM9PntsZXQgYT10aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zW3NdLmluZGV4T2Yobyk7YSE9PS0xJiZ0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zW3NdLnNwbGljZShhLDEpLHRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXNbc10ubGVuZ3RoPT09MSYmZGVsZXRlIHRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXNbc107fSksci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O31mdW5jdGlvbiBHYih0LGUpe2lmKCF0LlJUQ1BlZXJDb25uZWN0aW9uKXJldHVybjtpZih0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjayYmZS52ZXJzaW9uPj02NSlyZXR1cm4gamIodCk7bGV0IG49dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0TG9jYWxTdHJlYW1zO3QuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldExvY2FsU3RyZWFtcz1mdW5jdGlvbigpe2xldCBjPW4uYXBwbHkodGhpcyk7cmV0dXJuIHRoaXMuX3JldmVyc2VTdHJlYW1zPXRoaXMuX3JldmVyc2VTdHJlYW1zfHx7fSxjLm1hcChkPT50aGlzLl9yZXZlcnNlU3RyZWFtc1tkLmlkXSl9O2xldCBpPXQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFN0cmVhbTt0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRTdHJlYW09ZnVuY3Rpb24oYyl7aWYodGhpcy5fc3RyZWFtcz10aGlzLl9zdHJlYW1zfHx7fSx0aGlzLl9yZXZlcnNlU3RyZWFtcz10aGlzLl9yZXZlcnNlU3RyZWFtc3x8e30sYy5nZXRUcmFja3MoKS5mb3JFYWNoKGQ9PntpZih0aGlzLmdldFNlbmRlcnMoKS5maW5kKHU9PnUudHJhY2s9PT1kKSl0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKFwiVHJhY2sgYWxyZWFkeSBleGlzdHMuXCIsXCJJbnZhbGlkQWNjZXNzRXJyb3JcIil9KSwhdGhpcy5fcmV2ZXJzZVN0cmVhbXNbYy5pZF0pe2xldCBkPW5ldyB0Lk1lZGlhU3RyZWFtKGMuZ2V0VHJhY2tzKCkpO3RoaXMuX3N0cmVhbXNbYy5pZF09ZCx0aGlzLl9yZXZlcnNlU3RyZWFtc1tkLmlkXT1jLGM9ZDt9aS5hcHBseSh0aGlzLFtjXSk7fTtsZXQgcj10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW07ZnVuY3Rpb24gbyhjLGQpe2xldCBsPWQuc2RwO3JldHVybiBPYmplY3Qua2V5cyhjLl9yZXZlcnNlU3RyZWFtc3x8W10pLmZvckVhY2godT0+e2xldCBoPWMuX3JldmVyc2VTdHJlYW1zW3VdLHA9Yy5fc3RyZWFtc1toLmlkXTtsPWwucmVwbGFjZShuZXcgUmVnRXhwKHAuaWQsXCJnXCIpLGguaWQpO30pLG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oe3R5cGU6ZC50eXBlLHNkcDpsfSl9dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlU3RyZWFtPWZ1bmN0aW9uKGMpe3RoaXMuX3N0cmVhbXM9dGhpcy5fc3RyZWFtc3x8e30sdGhpcy5fcmV2ZXJzZVN0cmVhbXM9dGhpcy5fcmV2ZXJzZVN0cmVhbXN8fHt9LHIuYXBwbHkodGhpcyxbdGhpcy5fc3RyZWFtc1tjLmlkXXx8Y10pLGRlbGV0ZSB0aGlzLl9yZXZlcnNlU3RyZWFtc1t0aGlzLl9zdHJlYW1zW2MuaWRdP3RoaXMuX3N0cmVhbXNbYy5pZF0uaWQ6Yy5pZF0sZGVsZXRlIHRoaXMuX3N0cmVhbXNbYy5pZF07fSx0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjaz1mdW5jdGlvbihjLGQpe2lmKHRoaXMuc2lnbmFsaW5nU3RhdGU9PT1cImNsb3NlZFwiKXRocm93IG5ldyBET01FeGNlcHRpb24oXCJUaGUgUlRDUGVlckNvbm5lY3Rpb24ncyBzaWduYWxpbmdTdGF0ZSBpcyAnY2xvc2VkJy5cIixcIkludmFsaWRTdGF0ZUVycm9yXCIpO2xldCBsPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO2lmKGwubGVuZ3RoIT09MXx8IWxbMF0uZ2V0VHJhY2tzKCkuZmluZChwPT5wPT09YykpdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcIlRoZSBhZGFwdGVyLmpzIGFkZFRyYWNrIHBvbHlmaWxsIG9ubHkgc3VwcG9ydHMgYSBzaW5nbGUgIHN0cmVhbSB3aGljaCBpcyBhc3NvY2lhdGVkIHdpdGggdGhlIHNwZWNpZmllZCB0cmFjay5cIixcIk5vdFN1cHBvcnRlZEVycm9yXCIpO2lmKHRoaXMuZ2V0U2VuZGVycygpLmZpbmQocD0+cC50cmFjaz09PWMpKXRocm93IG5ldyBET01FeGNlcHRpb24oXCJUcmFjayBhbHJlYWR5IGV4aXN0cy5cIixcIkludmFsaWRBY2Nlc3NFcnJvclwiKTt0aGlzLl9zdHJlYW1zPXRoaXMuX3N0cmVhbXN8fHt9LHRoaXMuX3JldmVyc2VTdHJlYW1zPXRoaXMuX3JldmVyc2VTdHJlYW1zfHx7fTtsZXQgaD10aGlzLl9zdHJlYW1zW2QuaWRdO2lmKGgpaC5hZGRUcmFjayhjKSxqLnJlc29sdmUoKS50aGVuKCgpPT57dGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcIm5lZ290aWF0aW9ubmVlZGVkXCIpKTt9KTtlbHNlIHtsZXQgcD1uZXcgdC5NZWRpYVN0cmVhbShbY10pO3RoaXMuX3N0cmVhbXNbZC5pZF09cCx0aGlzLl9yZXZlcnNlU3RyZWFtc1twLmlkXT1kLHRoaXMuYWRkU3RyZWFtKHApO31yZXR1cm4gdGhpcy5nZXRTZW5kZXJzKCkuZmluZChwPT5wLnRyYWNrPT09Yyl9LFtcImNyZWF0ZU9mZmVyXCIsXCJjcmVhdGVBbnN3ZXJcIl0uZm9yRWFjaChmdW5jdGlvbihjKXtsZXQgZD10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVtjXSxsPXtbY10oKXtsZXQgdT1hcmd1bWVudHM7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGgmJnR5cGVvZiBhcmd1bWVudHNbMF09PVwiZnVuY3Rpb25cIj9kLmFwcGx5KHRoaXMsW2g9PntsZXQgcD1vKHRoaXMsaCk7dVswXS5hcHBseShudWxsLFtwXSk7fSxoPT57dVsxXSYmdVsxXS5hcHBseShudWxsLGgpO30sYXJndW1lbnRzWzJdXSk6ZC5hcHBseSh0aGlzLGFyZ3VtZW50cykudGhlbihoPT5vKHRoaXMsaCkpfX07dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbY109bFtjXTt9KTtsZXQgcz10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRMb2NhbERlc2NyaXB0aW9uO3QuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldExvY2FsRGVzY3JpcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCYmYXJndW1lbnRzWzBdLnR5cGU/KGFyZ3VtZW50c1swXT1mdW5jdGlvbihjLGQpe2xldCBsPWQuc2RwO3JldHVybiBPYmplY3Qua2V5cyhjLl9yZXZlcnNlU3RyZWFtc3x8W10pLmZvckVhY2godT0+e2xldCBoPWMuX3JldmVyc2VTdHJlYW1zW3VdLHA9Yy5fc3RyZWFtc1toLmlkXTtsPWwucmVwbGFjZShuZXcgUmVnRXhwKGguaWQsXCJnXCIpLHAuaWQpO30pLG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oe3R5cGU6ZC50eXBlLHNkcDpsfSl9KHRoaXMsYXJndW1lbnRzWzBdKSxzLmFwcGx5KHRoaXMsYXJndW1lbnRzKSk6cy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2xldCBhPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUsXCJsb2NhbERlc2NyaXB0aW9uXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSxcImxvY2FsRGVzY3JpcHRpb25cIix7Z2V0KCl7bGV0IGM9YS5nZXQuYXBwbHkodGhpcyk7cmV0dXJuIGMudHlwZT09PVwiXCI/YzpvKHRoaXMsYyl9fSksdC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlVHJhY2s9ZnVuY3Rpb24oYyl7aWYodGhpcy5zaWduYWxpbmdTdGF0ZT09PVwiY2xvc2VkXCIpdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcIlRoZSBSVENQZWVyQ29ubmVjdGlvbidzIHNpZ25hbGluZ1N0YXRlIGlzICdjbG9zZWQnLlwiLFwiSW52YWxpZFN0YXRlRXJyb3JcIik7aWYoIWMuX3BjKXRocm93IG5ldyBET01FeGNlcHRpb24oXCJBcmd1bWVudCAxIG9mIFJUQ1BlZXJDb25uZWN0aW9uLnJlbW92ZVRyYWNrIGRvZXMgbm90IGltcGxlbWVudCBpbnRlcmZhY2UgUlRDUnRwU2VuZGVyLlwiLFwiVHlwZUVycm9yXCIpO2lmKGMuX3BjIT09dGhpcyl0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKFwiU2VuZGVyIHdhcyBub3QgY3JlYXRlZCBieSB0aGlzIGNvbm5lY3Rpb24uXCIsXCJJbnZhbGlkQWNjZXNzRXJyb3JcIik7bGV0IGQ7dGhpcy5fc3RyZWFtcz10aGlzLl9zdHJlYW1zfHx7fSxPYmplY3Qua2V5cyh0aGlzLl9zdHJlYW1zKS5mb3JFYWNoKGw9Pnt0aGlzLl9zdHJlYW1zW2xdLmdldFRyYWNrcygpLmZpbmQodT0+Yy50cmFjaz09PXUpJiYoZD10aGlzLl9zdHJlYW1zW2xdKTt9KSxkJiYoZC5nZXRUcmFja3MoKS5sZW5ndGg9PT0xP3RoaXMucmVtb3ZlU3RyZWFtKHRoaXMuX3JldmVyc2VTdHJlYW1zW2QuaWRdKTpkLnJlbW92ZVRyYWNrKGMudHJhY2spLHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJuZWdvdGlhdGlvbm5lZWRlZFwiKSkpO307fWZ1bmN0aW9uIGFFKHQsZSl7IXQuUlRDUGVlckNvbm5lY3Rpb24mJnQud2Via2l0UlRDUGVlckNvbm5lY3Rpb24mJih0LlJUQ1BlZXJDb25uZWN0aW9uPXQud2Via2l0UlRDUGVlckNvbm5lY3Rpb24pLHQuUlRDUGVlckNvbm5lY3Rpb24mJmUudmVyc2lvbjw1MyYmW1wic2V0TG9jYWxEZXNjcmlwdGlvblwiLFwic2V0UmVtb3RlRGVzY3JpcHRpb25cIixcImFkZEljZUNhbmRpZGF0ZVwiXS5mb3JFYWNoKGZ1bmN0aW9uKG4pe2xldCBpPXQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW25dLHI9e1tuXSgpe3JldHVybiBhcmd1bWVudHNbMF09bmV3KG49PT1cImFkZEljZUNhbmRpZGF0ZVwiP3QuUlRDSWNlQ2FuZGlkYXRlOnQuUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKShhcmd1bWVudHNbMF0pLGkuYXBwbHkodGhpcyxhcmd1bWVudHMpfX07dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbbl09cltuXTt9KTt9ZnVuY3Rpb24gV2IodCxlKXt0cyh0LFwibmVnb3RpYXRpb25uZWVkZWRcIixuPT57bGV0IGk9bi50YXJnZXQ7aWYoIShlLnZlcnNpb248NzJ8fGkuZ2V0Q29uZmlndXJhdGlvbiYmaS5nZXRDb25maWd1cmF0aW9uKCkuc2RwU2VtYW50aWNzPT09XCJwbGFuLWJcIil8fGkuc2lnbmFsaW5nU3RhdGU9PT1cInN0YWJsZVwiKXJldHVybiBufSk7fXZhciBSVD1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxmaXhOZWdvdGlhdGlvbk5lZWRlZDpXYixzaGltQWRkVHJhY2tSZW1vdmVUcmFjazpHYixzaGltQWRkVHJhY2tSZW1vdmVUcmFja1dpdGhOYXRpdmU6amIsc2hpbUdldERpc3BsYXlNZWRpYTpmdW5jdGlvbih0LGUpe3QubmF2aWdhdG9yLm1lZGlhRGV2aWNlcyYmXCJnZXREaXNwbGF5TWVkaWFcImluIHQubmF2aWdhdG9yLm1lZGlhRGV2aWNlc3x8dC5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzJiYodHlwZW9mIGU9PVwiZnVuY3Rpb25cIj90Lm5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0RGlzcGxheU1lZGlhPWZ1bmN0aW9uKG4pe3JldHVybiBlKG4pLnRoZW4oaT0+e2xldCByPW4udmlkZW8mJm4udmlkZW8ud2lkdGgsbz1uLnZpZGVvJiZuLnZpZGVvLmhlaWdodCxzPW4udmlkZW8mJm4udmlkZW8uZnJhbWVSYXRlO3JldHVybiBuLnZpZGVvPXttYW5kYXRvcnk6e2Nocm9tZU1lZGlhU291cmNlOlwiZGVza3RvcFwiLGNocm9tZU1lZGlhU291cmNlSWQ6aSxtYXhGcmFtZVJhdGU6c3x8M319LHImJihuLnZpZGVvLm1hbmRhdG9yeS5tYXhXaWR0aD1yKSxvJiYobi52aWRlby5tYW5kYXRvcnkubWF4SGVpZ2h0PW8pLHQubmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEobil9KX06Y29uc29sZS5lcnJvcihcInNoaW1HZXREaXNwbGF5TWVkaWE6IGdldFNvdXJjZUlkIGFyZ3VtZW50IGlzIG5vdCBhIGZ1bmN0aW9uXCIpKTt9LHNoaW1HZXRTZW5kZXJzV2l0aER0bWY6VmIsc2hpbUdldFN0YXRzOkZiLHNoaW1HZXRVc2VyTWVkaWE6TWIsc2hpbU1lZGlhU3RyZWFtOlViLHNoaW1PblRyYWNrOnhiLHNoaW1QZWVyQ29ubmVjdGlvbjphRSxzaGltU2VuZGVyUmVjZWl2ZXJHZXRTdGF0czpCYn0pO2Z1bmN0aW9uIEhiKHQsZSl7bGV0IG49dCYmdC5uYXZpZ2F0b3IsaT10JiZ0Lk1lZGlhU3RyZWFtVHJhY2s7aWYobi5nZXRVc2VyTWVkaWE9ZnVuY3Rpb24ocixvLHMpe1BtKFwibmF2aWdhdG9yLmdldFVzZXJNZWRpYVwiLFwibmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWFcIiksbi5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHIpLnRoZW4obyxzKTt9LCEoZS52ZXJzaW9uPjU1JiZcImF1dG9HYWluQ29udHJvbFwiaW4gbi5tZWRpYURldmljZXMuZ2V0U3VwcG9ydGVkQ29uc3RyYWludHMoKSkpe2xldCByPWZ1bmN0aW9uKHMsYSxjKXthIGluIHMmJiEoYyBpbiBzKSYmKHNbY109c1thXSxkZWxldGUgc1thXSk7fSxvPW4ubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYS5iaW5kKG4ubWVkaWFEZXZpY2VzKTtpZihuLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWE9ZnVuY3Rpb24ocyl7cmV0dXJuIHR5cGVvZiBzPT1cIm9iamVjdFwiJiZ0eXBlb2Ygcy5hdWRpbz09XCJvYmplY3RcIiYmKHM9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzKSkscihzLmF1ZGlvLFwiYXV0b0dhaW5Db250cm9sXCIsXCJtb3pBdXRvR2FpbkNvbnRyb2xcIikscihzLmF1ZGlvLFwibm9pc2VTdXBwcmVzc2lvblwiLFwibW96Tm9pc2VTdXBwcmVzc2lvblwiKSksbyhzKX0saSYmaS5wcm90b3R5cGUuZ2V0U2V0dGluZ3Mpe2xldCBzPWkucHJvdG90eXBlLmdldFNldHRpbmdzO2kucHJvdG90eXBlLmdldFNldHRpbmdzPWZ1bmN0aW9uKCl7bGV0IGE9cy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHIoYSxcIm1vekF1dG9HYWluQ29udHJvbFwiLFwiYXV0b0dhaW5Db250cm9sXCIpLHIoYSxcIm1vek5vaXNlU3VwcHJlc3Npb25cIixcIm5vaXNlU3VwcHJlc3Npb25cIiksYX07fWlmKGkmJmkucHJvdG90eXBlLmFwcGx5Q29uc3RyYWludHMpe2xldCBzPWkucHJvdG90eXBlLmFwcGx5Q29uc3RyYWludHM7aS5wcm90b3R5cGUuYXBwbHlDb25zdHJhaW50cz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5raW5kPT09XCJhdWRpb1wiJiZ0eXBlb2YgYT09XCJvYmplY3RcIiYmKGE9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShhKSkscihhLFwiYXV0b0dhaW5Db250cm9sXCIsXCJtb3pBdXRvR2FpbkNvbnRyb2xcIikscihhLFwibm9pc2VTdXBwcmVzc2lvblwiLFwibW96Tm9pc2VTdXBwcmVzc2lvblwiKSkscy5hcHBseSh0aGlzLFthXSl9O319fWZ1bmN0aW9uIEtiKHQpe3R5cGVvZiB0PT1cIm9iamVjdFwiJiZ0LlJUQ1RyYWNrRXZlbnQmJlwicmVjZWl2ZXJcImluIHQuUlRDVHJhY2tFdmVudC5wcm90b3R5cGUmJiEoXCJ0cmFuc2NlaXZlclwiaW4gdC5SVENUcmFja0V2ZW50LnByb3RvdHlwZSkmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlJUQ1RyYWNrRXZlbnQucHJvdG90eXBlLFwidHJhbnNjZWl2ZXJcIix7Z2V0KCl7cmV0dXJuIHtyZWNlaXZlcjp0aGlzLnJlY2VpdmVyfX19KTt9ZnVuY3Rpb24gY0UodCxlKXtpZih0eXBlb2YgdCE9XCJvYmplY3RcInx8IXQuUlRDUGVlckNvbm5lY3Rpb24mJiF0Lm1velJUQ1BlZXJDb25uZWN0aW9uKXJldHVybjshdC5SVENQZWVyQ29ubmVjdGlvbiYmdC5tb3pSVENQZWVyQ29ubmVjdGlvbiYmKHQuUlRDUGVlckNvbm5lY3Rpb249dC5tb3pSVENQZWVyQ29ubmVjdGlvbiksZS52ZXJzaW9uPDUzJiZbXCJzZXRMb2NhbERlc2NyaXB0aW9uXCIsXCJzZXRSZW1vdGVEZXNjcmlwdGlvblwiLFwiYWRkSWNlQ2FuZGlkYXRlXCJdLmZvckVhY2goZnVuY3Rpb24ocil7bGV0IG89dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbcl0scz17W3JdKCl7cmV0dXJuIGFyZ3VtZW50c1swXT1uZXcocj09PVwiYWRkSWNlQ2FuZGlkYXRlXCI/dC5SVENJY2VDYW5kaWRhdGU6dC5SVENTZXNzaW9uRGVzY3JpcHRpb24pKGFyZ3VtZW50c1swXSksby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fTt0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVtyXT1zW3JdO30pO2xldCBuPXtpbmJvdW5kcnRwOlwiaW5ib3VuZC1ydHBcIixvdXRib3VuZHJ0cDpcIm91dGJvdW5kLXJ0cFwiLGNhbmRpZGF0ZXBhaXI6XCJjYW5kaWRhdGUtcGFpclwiLGxvY2FsY2FuZGlkYXRlOlwibG9jYWwtY2FuZGlkYXRlXCIscmVtb3RlY2FuZGlkYXRlOlwicmVtb3RlLWNhbmRpZGF0ZVwifSxpPXQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFN0YXRzO3QuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFN0YXRzPWZ1bmN0aW9uKCl7bGV0W3IsbyxzXT1hcmd1bWVudHM7cmV0dXJuIGkuYXBwbHkodGhpcyxbcnx8bnVsbF0pLnRoZW4oYT0+e2lmKGUudmVyc2lvbjw1MyYmIW8pdHJ5e2EuZm9yRWFjaChjPT57Yy50eXBlPW5bYy50eXBlXXx8Yy50eXBlO30pO31jYXRjaChjKXtpZihjLm5hbWUhPT1cIlR5cGVFcnJvclwiKXRocm93IGM7YS5mb3JFYWNoKChkLGwpPT57YS5zZXQobCxPYmplY3QuYXNzaWduKHt9LGQse3R5cGU6bltkLnR5cGVdfHxkLnR5cGV9KSk7fSk7fXJldHVybiBhfSkudGhlbihvLHMpfTt9ZnVuY3Rpb24gWWIodCl7aWYodHlwZW9mIHQhPVwib2JqZWN0XCJ8fCF0LlJUQ1BlZXJDb25uZWN0aW9ufHwhdC5SVENSdHBTZW5kZXJ8fHQuUlRDUnRwU2VuZGVyJiZcImdldFN0YXRzXCJpbiB0LlJUQ1J0cFNlbmRlci5wcm90b3R5cGUpcmV0dXJuO2xldCBlPXQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFNlbmRlcnM7ZSYmKHQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFNlbmRlcnM9ZnVuY3Rpb24oKXtsZXQgaT1lLmFwcGx5KHRoaXMsW10pO3JldHVybiBpLmZvckVhY2gocj0+ci5fcGM9dGhpcyksaX0pO2xldCBuPXQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrO24mJih0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjaz1mdW5jdGlvbigpe2xldCBpPW4uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBpLl9wYz10aGlzLGl9KSx0LlJUQ1J0cFNlbmRlci5wcm90b3R5cGUuZ2V0U3RhdHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFjaz90aGlzLl9wYy5nZXRTdGF0cyh0aGlzLnRyYWNrKTpqLnJlc29sdmUobmV3IE1hcCl9O31mdW5jdGlvbiBxYih0KXtpZih0eXBlb2YgdCE9XCJvYmplY3RcInx8IXQuUlRDUGVlckNvbm5lY3Rpb258fCF0LlJUQ1J0cFNlbmRlcnx8dC5SVENSdHBTZW5kZXImJlwiZ2V0U3RhdHNcImluIHQuUlRDUnRwUmVjZWl2ZXIucHJvdG90eXBlKXJldHVybjtsZXQgZT10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRSZWNlaXZlcnM7ZSYmKHQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFJlY2VpdmVycz1mdW5jdGlvbigpe2xldCBuPWUuYXBwbHkodGhpcyxbXSk7cmV0dXJuIG4uZm9yRWFjaChpPT5pLl9wYz10aGlzKSxufSksdHModCxcInRyYWNrXCIsbj0+KG4ucmVjZWl2ZXIuX3BjPW4uc3JjRWxlbWVudCxuKSksdC5SVENSdHBSZWNlaXZlci5wcm90b3R5cGUuZ2V0U3RhdHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGMuZ2V0U3RhdHModGhpcy50cmFjayl9O31mdW5jdGlvbiB6Yih0KXt0LlJUQ1BlZXJDb25uZWN0aW9uJiYhKFwicmVtb3ZlU3RyZWFtXCJpbiB0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSkmJih0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW09ZnVuY3Rpb24oZSl7UG0oXCJyZW1vdmVTdHJlYW1cIixcInJlbW92ZVRyYWNrXCIpLHRoaXMuZ2V0U2VuZGVycygpLmZvckVhY2gobj0+e3ZhciBpO24udHJhY2smJlcoaT1lLmdldFRyYWNrcygpKS5jYWxsKGksbi50cmFjaykmJnRoaXMucmVtb3ZlVHJhY2sobik7fSk7fSk7fWZ1bmN0aW9uIEpiKHQpe3QuRGF0YUNoYW5uZWwmJiF0LlJUQ0RhdGFDaGFubmVsJiYodC5SVENEYXRhQ2hhbm5lbD10LkRhdGFDaGFubmVsKTt9ZnVuY3Rpb24gWGIodCl7aWYodHlwZW9mIHQhPVwib2JqZWN0XCJ8fCF0LlJUQ1BlZXJDb25uZWN0aW9uKXJldHVybjtsZXQgZT10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFuc2NlaXZlcjtlJiYodC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhbnNjZWl2ZXI9ZnVuY3Rpb24oKXt0aGlzLnNldFBhcmFtZXRlcnNQcm9taXNlcz1bXTtsZXQgbj1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXS5zZW5kRW5jb2RpbmdzO249PT12b2lkIDAmJihuPVtdKSxuPVsuLi5uXTtsZXQgaT1uLmxlbmd0aD4wO2kmJm4uZm9yRWFjaChvPT57aWYoXCJyaWRcImluIG8mJiEvXlthLXowLTldezAsMTZ9JC9pLnRlc3Qoby5yaWQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIFJJRCB2YWx1ZSBwcm92aWRlZC5cIik7aWYoXCJzY2FsZVJlc29sdXRpb25Eb3duQnlcImluIG8mJiEocGFyc2VGbG9hdChvLnNjYWxlUmVzb2x1dGlvbkRvd25CeSk+PTEpKXRocm93IG5ldyBSYW5nZUVycm9yKFwic2NhbGVfcmVzb2x1dGlvbl9kb3duX2J5IG11c3QgYmUgPj0gMS4wXCIpO2lmKFwibWF4RnJhbWVyYXRlXCJpbiBvJiYhKHBhcnNlRmxvYXQoby5tYXhGcmFtZXJhdGUpPj0wKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm1heF9mcmFtZXJhdGUgbXVzdCBiZSA+PSAwLjBcIil9KTtsZXQgcj1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZihpKXtsZXR7c2VuZGVyOm99PXIscz1vLmdldFBhcmFtZXRlcnMoKTsoIShcImVuY29kaW5nc1wiaW4gcyl8fHMuZW5jb2RpbmdzLmxlbmd0aD09PTEmJk9iamVjdC5rZXlzKHMuZW5jb2RpbmdzWzBdKS5sZW5ndGg9PT0wKSYmKHMuZW5jb2RpbmdzPW4sby5zZW5kRW5jb2RpbmdzPW4sdGhpcy5zZXRQYXJhbWV0ZXJzUHJvbWlzZXMucHVzaChvLnNldFBhcmFtZXRlcnMocykudGhlbigoKT0+e2RlbGV0ZSBvLnNlbmRFbmNvZGluZ3M7fSkuY2F0Y2goKCk9PntkZWxldGUgby5zZW5kRW5jb2RpbmdzO30pKSk7fXJldHVybiByfSk7fWZ1bmN0aW9uIFFiKHQpe2lmKHR5cGVvZiB0IT1cIm9iamVjdFwifHwhdC5SVENSdHBTZW5kZXIpcmV0dXJuO2xldCBlPXQuUlRDUnRwU2VuZGVyLnByb3RvdHlwZS5nZXRQYXJhbWV0ZXJzO2UmJih0LlJUQ1J0cFNlbmRlci5wcm90b3R5cGUuZ2V0UGFyYW1ldGVycz1mdW5jdGlvbigpe2xldCBuPWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBcImVuY29kaW5nc1wiaW4gbnx8KG4uZW5jb2RpbmdzPVtdLmNvbmNhdCh0aGlzLnNlbmRFbmNvZGluZ3N8fFt7fV0pKSxufSk7fWZ1bmN0aW9uIFpiKHQpe2lmKHR5cGVvZiB0IT1cIm9iamVjdFwifHwhdC5SVENQZWVyQ29ubmVjdGlvbilyZXR1cm47bGV0IGU9dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuY3JlYXRlT2ZmZXI7dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuY3JlYXRlT2ZmZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXRQYXJhbWV0ZXJzUHJvbWlzZXMmJnRoaXMuc2V0UGFyYW1ldGVyc1Byb21pc2VzLmxlbmd0aD9qLmFsbCh0aGlzLnNldFBhcmFtZXRlcnNQcm9taXNlcykudGhlbigoKT0+ZS5hcHBseSh0aGlzLGFyZ3VtZW50cykpLmZpbmFsbHkoKCk9Pnt0aGlzLnNldFBhcmFtZXRlcnNQcm9taXNlcz1bXTt9KTplLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07fWZ1bmN0aW9uICRiKHQpe2lmKHR5cGVvZiB0IT1cIm9iamVjdFwifHwhdC5SVENQZWVyQ29ubmVjdGlvbilyZXR1cm47bGV0IGU9dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuY3JlYXRlQW5zd2VyO3QuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZUFuc3dlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNldFBhcmFtZXRlcnNQcm9taXNlcyYmdGhpcy5zZXRQYXJhbWV0ZXJzUHJvbWlzZXMubGVuZ3RoP2ouYWxsKHRoaXMuc2V0UGFyYW1ldGVyc1Byb21pc2VzKS50aGVuKCgpPT5lLmFwcGx5KHRoaXMsYXJndW1lbnRzKSkuZmluYWxseSgoKT0+e3RoaXMuc2V0UGFyYW1ldGVyc1Byb21pc2VzPVtdO30pOmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt9dmFyIENUPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLHNoaW1BZGRUcmFuc2NlaXZlcjpYYixzaGltQ3JlYXRlQW5zd2VyOiRiLHNoaW1DcmVhdGVPZmZlcjpaYixzaGltR2V0RGlzcGxheU1lZGlhOmZ1bmN0aW9uKHQsZSl7dC5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzJiZcImdldERpc3BsYXlNZWRpYVwiaW4gdC5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzfHx0Lm5hdmlnYXRvci5tZWRpYURldmljZXMmJih0Lm5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0RGlzcGxheU1lZGlhPWZ1bmN0aW9uKG4pe2lmKCFufHwhbi52aWRlbyl7bGV0IGk9bmV3IERPTUV4Y2VwdGlvbihcImdldERpc3BsYXlNZWRpYSB3aXRob3V0IHZpZGVvIGNvbnN0cmFpbnRzIGlzIHVuZGVmaW5lZFwiKTtyZXR1cm4gaS5uYW1lPVwiTm90Rm91bmRFcnJvclwiLGkuY29kZT04LGoucmVqZWN0KGkpfXJldHVybiBuLnZpZGVvPT09ITA/bi52aWRlbz17bWVkaWFTb3VyY2U6ZX06bi52aWRlby5tZWRpYVNvdXJjZT1lLHQubmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEobil9KTt9LHNoaW1HZXRQYXJhbWV0ZXJzOlFiLHNoaW1HZXRVc2VyTWVkaWE6SGIsc2hpbU9uVHJhY2s6S2Isc2hpbVBlZXJDb25uZWN0aW9uOmNFLHNoaW1SVENEYXRhQ2hhbm5lbDpKYixzaGltUmVjZWl2ZXJHZXRTdGF0czpxYixzaGltUmVtb3ZlU3RyZWFtOnpiLHNoaW1TZW5kZXJHZXRTdGF0czpZYn0pO2Z1bmN0aW9uIHR3KHQpe2lmKHR5cGVvZiB0PT1cIm9iamVjdFwiJiZ0LlJUQ1BlZXJDb25uZWN0aW9uKXtpZihcImdldExvY2FsU3RyZWFtc1wiaW4gdC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGV8fCh0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRMb2NhbFN0cmVhbXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9jYWxTdHJlYW1zfHwodGhpcy5fbG9jYWxTdHJlYW1zPVtdKSx0aGlzLl9sb2NhbFN0cmVhbXN9KSwhKFwiYWRkU3RyZWFtXCJpbiB0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSkpe2xldCBlPXQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrO3QuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFN0cmVhbT1mdW5jdGlvbihuKXt2YXIgaTt0aGlzLl9sb2NhbFN0cmVhbXN8fCh0aGlzLl9sb2NhbFN0cmVhbXM9W10pLFcoaT10aGlzLl9sb2NhbFN0cmVhbXMpLmNhbGwoaSxuKXx8dGhpcy5fbG9jYWxTdHJlYW1zLnB1c2gobiksbi5nZXRBdWRpb1RyYWNrcygpLmZvckVhY2gocj0+ZS5jYWxsKHRoaXMscixuKSksbi5nZXRWaWRlb1RyYWNrcygpLmZvckVhY2gocj0+ZS5jYWxsKHRoaXMscixuKSk7fSx0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjaz1mdW5jdGlvbihuKXtmb3IodmFyIGk9YXJndW1lbnRzLmxlbmd0aCxyPW5ldyBBcnJheShpPjE/aS0xOjApLG89MTtvPGk7bysrKXJbby0xXT1hcmd1bWVudHNbb107cmV0dXJuIHImJnIuZm9yRWFjaChzPT57dmFyIGE7dGhpcy5fbG9jYWxTdHJlYW1zP1coYT10aGlzLl9sb2NhbFN0cmVhbXMpLmNhbGwoYSxzKXx8dGhpcy5fbG9jYWxTdHJlYW1zLnB1c2gocyk6dGhpcy5fbG9jYWxTdHJlYW1zPVtzXTt9KSxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07fVwicmVtb3ZlU3RyZWFtXCJpbiB0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZXx8KHQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVN0cmVhbT1mdW5jdGlvbihlKXt0aGlzLl9sb2NhbFN0cmVhbXN8fCh0aGlzLl9sb2NhbFN0cmVhbXM9W10pO2xldCBuPXRoaXMuX2xvY2FsU3RyZWFtcy5pbmRleE9mKGUpO2lmKG49PT0tMSlyZXR1cm47dGhpcy5fbG9jYWxTdHJlYW1zLnNwbGljZShuLDEpO2xldCBpPWUuZ2V0VHJhY2tzKCk7dGhpcy5nZXRTZW5kZXJzKCkuZm9yRWFjaChyPT57VyhpKS5jYWxsKGksci50cmFjaykmJnRoaXMucmVtb3ZlVHJhY2socik7fSk7fSk7fX1mdW5jdGlvbiBldyh0KXtpZih0eXBlb2YgdD09XCJvYmplY3RcIiYmdC5SVENQZWVyQ29ubmVjdGlvbiYmKFwiZ2V0UmVtb3RlU3RyZWFtc1wiaW4gdC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGV8fCh0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRSZW1vdGVTdHJlYW1zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlbW90ZVN0cmVhbXM/dGhpcy5fcmVtb3RlU3RyZWFtczpbXX0pLCEoXCJvbmFkZHN0cmVhbVwiaW4gdC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpKSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLFwib25hZGRzdHJlYW1cIix7Z2V0KCl7cmV0dXJuIHRoaXMuX29uYWRkc3RyZWFtfSxzZXQobil7dGhpcy5fb25hZGRzdHJlYW0mJih0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhZGRzdHJlYW1cIix0aGlzLl9vbmFkZHN0cmVhbSksdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwidHJhY2tcIix0aGlzLl9vbmFkZHN0cmVhbXBvbHkpKSx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJhZGRzdHJlYW1cIix0aGlzLl9vbmFkZHN0cmVhbT1uKSx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFja1wiLHRoaXMuX29uYWRkc3RyZWFtcG9seT1pPT57aS5zdHJlYW1zLmZvckVhY2gocj0+e3ZhciBvO2lmKHRoaXMuX3JlbW90ZVN0cmVhbXN8fCh0aGlzLl9yZW1vdGVTdHJlYW1zPVtdKSxXKG89dGhpcy5fcmVtb3RlU3RyZWFtcykuY2FsbChvLHIpKXJldHVybjt0aGlzLl9yZW1vdGVTdHJlYW1zLnB1c2gocik7bGV0IHM9bmV3IEV2ZW50KFwiYWRkc3RyZWFtXCIpO3Muc3RyZWFtPXIsdGhpcy5kaXNwYXRjaEV2ZW50KHMpO30pO30pO319KTtsZXQgZT10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRSZW1vdGVEZXNjcmlwdGlvbjt0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRSZW1vdGVEZXNjcmlwdGlvbj1mdW5jdGlvbigpe2xldCBuPXRoaXM7cmV0dXJuIHRoaXMuX29uYWRkc3RyZWFtcG9seXx8dGhpcy5hZGRFdmVudExpc3RlbmVyKFwidHJhY2tcIix0aGlzLl9vbmFkZHN0cmVhbXBvbHk9ZnVuY3Rpb24oaSl7aS5zdHJlYW1zLmZvckVhY2gocj0+e2lmKG4uX3JlbW90ZVN0cmVhbXN8fChuLl9yZW1vdGVTdHJlYW1zPVtdKSxuLl9yZW1vdGVTdHJlYW1zLmluZGV4T2Yocik+PTApcmV0dXJuO24uX3JlbW90ZVN0cmVhbXMucHVzaChyKTtsZXQgbz1uZXcgRXZlbnQoXCJhZGRzdHJlYW1cIik7by5zdHJlYW09cixuLmRpc3BhdGNoRXZlbnQobyk7fSk7fSksZS5hcHBseShuLGFyZ3VtZW50cyl9O319ZnVuY3Rpb24gbncodCl7aWYodHlwZW9mIHQhPVwib2JqZWN0XCJ8fCF0LlJUQ1BlZXJDb25uZWN0aW9uKXJldHVybjtsZXQgZT10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSxuPWUuY3JlYXRlT2ZmZXIsaT1lLmNyZWF0ZUFuc3dlcixyPWUuc2V0TG9jYWxEZXNjcmlwdGlvbixvPWUuc2V0UmVtb3RlRGVzY3JpcHRpb24scz1lLmFkZEljZUNhbmRpZGF0ZTtlLmNyZWF0ZU9mZmVyPWZ1bmN0aW9uKGMsZCl7bGV0IGw9YXJndW1lbnRzLmxlbmd0aD49Mj9hcmd1bWVudHNbMl06YXJndW1lbnRzWzBdLHU9bi5hcHBseSh0aGlzLFtsXSk7cmV0dXJuIGQ/KHUudGhlbihjLGQpLGoucmVzb2x2ZSgpKTp1fSxlLmNyZWF0ZUFuc3dlcj1mdW5jdGlvbihjLGQpe2xldCBsPWFyZ3VtZW50cy5sZW5ndGg+PTI/YXJndW1lbnRzWzJdOmFyZ3VtZW50c1swXSx1PWkuYXBwbHkodGhpcyxbbF0pO3JldHVybiBkPyh1LnRoZW4oYyxkKSxqLnJlc29sdmUoKSk6dX07bGV0IGE9ZnVuY3Rpb24oYyxkLGwpe2xldCB1PXIuYXBwbHkodGhpcyxbY10pO3JldHVybiBsPyh1LnRoZW4oZCxsKSxqLnJlc29sdmUoKSk6dX07ZS5zZXRMb2NhbERlc2NyaXB0aW9uPWEsYT1mdW5jdGlvbihjLGQsbCl7bGV0IHU9by5hcHBseSh0aGlzLFtjXSk7cmV0dXJuIGw/KHUudGhlbihkLGwpLGoucmVzb2x2ZSgpKTp1fSxlLnNldFJlbW90ZURlc2NyaXB0aW9uPWEsYT1mdW5jdGlvbihjLGQsbCl7bGV0IHU9cy5hcHBseSh0aGlzLFtjXSk7cmV0dXJuIGw/KHUudGhlbihkLGwpLGoucmVzb2x2ZSgpKTp1fSxlLmFkZEljZUNhbmRpZGF0ZT1hO31mdW5jdGlvbiBpdyh0KXtsZXQgZT10JiZ0Lm5hdmlnYXRvcjtpZihlLm1lZGlhRGV2aWNlcyYmZS5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKXtsZXQgbj1lLm1lZGlhRGV2aWNlcyxpPW4uZ2V0VXNlck1lZGlhLmJpbmQobik7ZS5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhPXI9PmkocncocikpO30hZS5nZXRVc2VyTWVkaWEmJmUubWVkaWFEZXZpY2VzJiZlLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEmJihlLmdldFVzZXJNZWRpYT1mdW5jdGlvbihuLGkscil7ZS5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKG4pLnRoZW4oaSxyKTt9LmJpbmQoZSkpO31mdW5jdGlvbiBydyh0KXtyZXR1cm4gdCYmdC52aWRlbyE9PXZvaWQgMD9PYmplY3QuYXNzaWduKHt9LHQse3ZpZGVvOkdBKHQudmlkZW8pfSk6dH1mdW5jdGlvbiBvdyh0KXtpZighdC5SVENQZWVyQ29ubmVjdGlvbilyZXR1cm47bGV0IGU9dC5SVENQZWVyQ29ubmVjdGlvbjt0LlJUQ1BlZXJDb25uZWN0aW9uPWZ1bmN0aW9uKG4saSl7aWYobiYmbi5pY2VTZXJ2ZXJzKXtsZXQgcj1bXTtmb3IobGV0IG89MDtvPG4uaWNlU2VydmVycy5sZW5ndGg7bysrKXtsZXQgcz1uLmljZVNlcnZlcnNbb107IXMuaGFzT3duUHJvcGVydHkoXCJ1cmxzXCIpJiZzLmhhc093blByb3BlcnR5KFwidXJsXCIpPyhQbShcIlJUQ0ljZVNlcnZlci51cmxcIixcIlJUQ0ljZVNlcnZlci51cmxzXCIpLHM9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzKSkscy51cmxzPXMudXJsLGRlbGV0ZSBzLnVybCxyLnB1c2gocykpOnIucHVzaChuLmljZVNlcnZlcnNbb10pO31uLmljZVNlcnZlcnM9cjt9cmV0dXJuIG5ldyBlKG4saSl9LHQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlPWUucHJvdG90eXBlLFwiZ2VuZXJhdGVDZXJ0aWZpY2F0ZVwiaW4gZSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuUlRDUGVlckNvbm5lY3Rpb24sXCJnZW5lcmF0ZUNlcnRpZmljYXRlXCIse2dldDooKT0+ZS5nZW5lcmF0ZUNlcnRpZmljYXRlfSk7fWZ1bmN0aW9uIHN3KHQpe3R5cGVvZiB0PT1cIm9iamVjdFwiJiZ0LlJUQ1RyYWNrRXZlbnQmJlwicmVjZWl2ZXJcImluIHQuUlRDVHJhY2tFdmVudC5wcm90b3R5cGUmJiEoXCJ0cmFuc2NlaXZlclwiaW4gdC5SVENUcmFja0V2ZW50LnByb3RvdHlwZSkmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlJUQ1RyYWNrRXZlbnQucHJvdG90eXBlLFwidHJhbnNjZWl2ZXJcIix7Z2V0KCl7cmV0dXJuIHtyZWNlaXZlcjp0aGlzLnJlY2VpdmVyfX19KTt9ZnVuY3Rpb24gYXcodCl7bGV0IGU9dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuY3JlYXRlT2ZmZXI7dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuY3JlYXRlT2ZmZXI9ZnVuY3Rpb24obil7aWYobil7bi5vZmZlclRvUmVjZWl2ZUF1ZGlvIT09dm9pZCAwJiYobi5vZmZlclRvUmVjZWl2ZUF1ZGlvPSEhbi5vZmZlclRvUmVjZWl2ZUF1ZGlvKTtsZXQgaT10aGlzLmdldFRyYW5zY2VpdmVycygpLmZpbmQobz0+by5yZWNlaXZlci50cmFjay5raW5kPT09XCJhdWRpb1wiKTtuLm9mZmVyVG9SZWNlaXZlQXVkaW89PT0hMSYmaT9pLmRpcmVjdGlvbj09PVwic2VuZHJlY3ZcIj9pLnNldERpcmVjdGlvbj9pLnNldERpcmVjdGlvbihcInNlbmRvbmx5XCIpOmkuZGlyZWN0aW9uPVwic2VuZG9ubHlcIjppLmRpcmVjdGlvbj09PVwicmVjdm9ubHlcIiYmKGkuc2V0RGlyZWN0aW9uP2kuc2V0RGlyZWN0aW9uKFwiaW5hY3RpdmVcIik6aS5kaXJlY3Rpb249XCJpbmFjdGl2ZVwiKTpuLm9mZmVyVG9SZWNlaXZlQXVkaW8hPT0hMHx8aXx8dGhpcy5hZGRUcmFuc2NlaXZlcihcImF1ZGlvXCIse2RpcmVjdGlvbjpcInJlY3Zvbmx5XCJ9KSxuLm9mZmVyVG9SZWNlaXZlVmlkZW8hPT12b2lkIDAmJihuLm9mZmVyVG9SZWNlaXZlVmlkZW89ISFuLm9mZmVyVG9SZWNlaXZlVmlkZW8pO2xldCByPXRoaXMuZ2V0VHJhbnNjZWl2ZXJzKCkuZmluZChvPT5vLnJlY2VpdmVyLnRyYWNrLmtpbmQ9PT1cInZpZGVvXCIpO24ub2ZmZXJUb1JlY2VpdmVWaWRlbz09PSExJiZyP3IuZGlyZWN0aW9uPT09XCJzZW5kcmVjdlwiP3Iuc2V0RGlyZWN0aW9uP3Iuc2V0RGlyZWN0aW9uKFwic2VuZG9ubHlcIik6ci5kaXJlY3Rpb249XCJzZW5kb25seVwiOnIuZGlyZWN0aW9uPT09XCJyZWN2b25seVwiJiYoci5zZXREaXJlY3Rpb24/ci5zZXREaXJlY3Rpb24oXCJpbmFjdGl2ZVwiKTpyLmRpcmVjdGlvbj1cImluYWN0aXZlXCIpOm4ub2ZmZXJUb1JlY2VpdmVWaWRlbyE9PSEwfHxyfHx0aGlzLmFkZFRyYW5zY2VpdmVyKFwidmlkZW9cIix7ZGlyZWN0aW9uOlwicmVjdm9ubHlcIn0pO31yZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O31mdW5jdGlvbiBjdyh0KXt0eXBlb2YgdCE9XCJvYmplY3RcInx8dC5BdWRpb0NvbnRleHR8fCh0LkF1ZGlvQ29udGV4dD10LndlYmtpdEF1ZGlvQ29udGV4dCk7fXZhciBJVD1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxzaGltQXVkaW9Db250ZXh0OmN3LHNoaW1DYWxsYmFja3NBUEk6bncsc2hpbUNvbnN0cmFpbnRzOnJ3LHNoaW1DcmVhdGVPZmZlckxlZ2FjeTphdyxzaGltR2V0VXNlck1lZGlhOml3LHNoaW1Mb2NhbFN0cmVhbXNBUEk6dHcsc2hpbVJUQ0ljZVNlcnZlclVybHM6b3csc2hpbVJlbW90ZVN0cmVhbXNBUEk6ZXcsc2hpbVRyYWNrRXZlbnRUcmFuc2NlaXZlcjpzd30pLGR3PWBcdFxuXFx2XFxmXFxyIFxceEEwXFx1MTY4MFxcdTIwMDBcXHUyMDAxXFx1MjAwMlxcdTIwMDNcXHUyMDA0XFx1MjAwNVxcdTIwMDZcXHUyMDA3XFx1MjAwOFxcdTIwMDlcXHUyMDBBXFx1MjAyRlxcdTIwNUZcXHUzMDAwXFx1MjAyOFxcdTIwMjlcXHVGRUZGYCxxVT1sYSx6VT1vaSxkRT1kdyx2VD1tZShcIlwiLnJlcGxhY2UpLEpVPVJlZ0V4cChcIl5bXCIrZEUrXCJdK1wiKSxYVT1SZWdFeHAoXCIoXnxbXlwiK2RFK1wiXSlbXCIrZEUrXCJdKyRcIiksUWg9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBuPXpVKHFVKGUpKTtyZXR1cm4gMSZ0JiYobj12VChuLEpVLFwiXCIpKSwyJnQmJihuPXZUKG4sWFUsXCIkMVwiKSksbn19LFFVPXtzdGFydDpRaCgxKSxlbmQ6UWgoMiksdHJpbTpRaCgzKX0sWlU9dGIuUFJPUEVSLCRVPVNlLHlUPWR3LHQyPVFVLnRyaW07eHQoe3RhcmdldDpcIlN0cmluZ1wiLHByb3RvOiEwLGZvcmNlZDpmdW5jdGlvbih0KXtyZXR1cm4gJFUoZnVuY3Rpb24oKXtyZXR1cm4gISF5VFt0XSgpfHxcIlxcdTIwMEJcXHg4NVxcdTE4MEVcIlt0XSgpIT09XCJcXHUyMDBCXFx4ODVcXHUxODBFXCJ8fFpVJiZ5VFt0XS5uYW1lIT09dH0pfShcInRyaW1cIil9LHt0cmltOmZ1bmN0aW9uKCl7cmV0dXJuIHQyKHRoaXMpfX0pO3ZhciBlMj1iaShcIlN0cmluZ1wiKS50cmltLG4yPWhuLGkyPWUyLFpoPVN0cmluZy5wcm90b3R5cGUscjI9ZnVuY3Rpb24odCl7dmFyIGU9dC50cmltO3JldHVybiB0eXBlb2YgdD09XCJzdHJpbmdcInx8dD09PVpofHxuMihaaCx0KSYmZT09PVpoLnRyaW0/aTI6ZX0scm49YWUocjIpLGx3PXtleHBvcnRzOnt9fTsoZnVuY3Rpb24odCl7bGV0IGU9e2dlbmVyYXRlSWRlbnRpZmllcjpmdW5jdGlvbigpe3JldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwxMil9fTtlLmxvY2FsQ05hbWU9ZS5nZW5lcmF0ZUlkZW50aWZpZXIoKSxlLnNwbGl0TGluZXM9ZnVuY3Rpb24obil7cmV0dXJuIG4udHJpbSgpLnNwbGl0KGBcbmApLm1hcChpPT5pLnRyaW0oKSl9LGUuc3BsaXRTZWN0aW9ucz1mdW5jdGlvbihuKXtyZXR1cm4gbi5zcGxpdChgXG5tPWApLm1hcCgoaSxyKT0+KHI+MD9cIm09XCIraTppKS50cmltKCkrYFxcclxuYCl9LGUuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24obil7bGV0IGk9ZS5zcGxpdFNlY3Rpb25zKG4pO3JldHVybiBpJiZpWzBdfSxlLmdldE1lZGlhU2VjdGlvbnM9ZnVuY3Rpb24obil7bGV0IGk9ZS5zcGxpdFNlY3Rpb25zKG4pO3JldHVybiBpLnNoaWZ0KCksaX0sZS5tYXRjaFByZWZpeD1mdW5jdGlvbihuLGkpe3JldHVybiBlLnNwbGl0TGluZXMobikuZmlsdGVyKHI9PnIuaW5kZXhPZihpKT09PTApfSxlLnBhcnNlQ2FuZGlkYXRlPWZ1bmN0aW9uKG4pe2xldCBpO2k9bi5pbmRleE9mKFwiYT1jYW5kaWRhdGU6XCIpPT09MD9uLnN1YnN0cmluZygxMikuc3BsaXQoXCIgXCIpOm4uc3Vic3RyaW5nKDEwKS5zcGxpdChcIiBcIik7bGV0IHI9e2ZvdW5kYXRpb246aVswXSxjb21wb25lbnQ6ezE6XCJydHBcIiwyOlwicnRjcFwifVtpWzFdXXx8aVsxXSxwcm90b2NvbDppWzJdLnRvTG93ZXJDYXNlKCkscHJpb3JpdHk6cGFyc2VJbnQoaVszXSwxMCksaXA6aVs0XSxhZGRyZXNzOmlbNF0scG9ydDpwYXJzZUludChpWzVdLDEwKSx0eXBlOmlbN119O2ZvcihsZXQgbz04O288aS5sZW5ndGg7bys9Milzd2l0Y2goaVtvXSl7Y2FzZVwicmFkZHJcIjpyLnJlbGF0ZWRBZGRyZXNzPWlbbysxXTticmVhaztjYXNlXCJycG9ydFwiOnIucmVsYXRlZFBvcnQ9cGFyc2VJbnQoaVtvKzFdLDEwKTticmVhaztjYXNlXCJ0Y3B0eXBlXCI6ci50Y3BUeXBlPWlbbysxXTticmVhaztjYXNlXCJ1ZnJhZ1wiOnIudWZyYWc9aVtvKzFdLHIudXNlcm5hbWVGcmFnbWVudD1pW28rMV07YnJlYWs7ZGVmYXVsdDpyW2lbb11dPT09dm9pZCAwJiYocltpW29dXT1pW28rMV0pO31yZXR1cm4gcn0sZS53cml0ZUNhbmRpZGF0ZT1mdW5jdGlvbihuKXtsZXQgaT1bXTtpLnB1c2gobi5mb3VuZGF0aW9uKTtsZXQgcj1uLmNvbXBvbmVudDtyPT09XCJydHBcIj9pLnB1c2goMSk6cj09PVwicnRjcFwiP2kucHVzaCgyKTppLnB1c2gociksaS5wdXNoKG4ucHJvdG9jb2wudG9VcHBlckNhc2UoKSksaS5wdXNoKG4ucHJpb3JpdHkpLGkucHVzaChuLmFkZHJlc3N8fG4uaXApLGkucHVzaChuLnBvcnQpO2xldCBvPW4udHlwZTtyZXR1cm4gaS5wdXNoKFwidHlwXCIpLGkucHVzaChvKSxvIT09XCJob3N0XCImJm4ucmVsYXRlZEFkZHJlc3MmJm4ucmVsYXRlZFBvcnQmJihpLnB1c2goXCJyYWRkclwiKSxpLnB1c2gobi5yZWxhdGVkQWRkcmVzcyksaS5wdXNoKFwicnBvcnRcIiksaS5wdXNoKG4ucmVsYXRlZFBvcnQpKSxuLnRjcFR5cGUmJm4ucHJvdG9jb2wudG9Mb3dlckNhc2UoKT09PVwidGNwXCImJihpLnB1c2goXCJ0Y3B0eXBlXCIpLGkucHVzaChuLnRjcFR5cGUpKSwobi51c2VybmFtZUZyYWdtZW50fHxuLnVmcmFnKSYmKGkucHVzaChcInVmcmFnXCIpLGkucHVzaChuLnVzZXJuYW1lRnJhZ21lbnR8fG4udWZyYWcpKSxcImNhbmRpZGF0ZTpcIitpLmpvaW4oXCIgXCIpfSxlLnBhcnNlSWNlT3B0aW9ucz1mdW5jdGlvbihuKXtyZXR1cm4gbi5zdWJzdHJpbmcoMTQpLnNwbGl0KFwiIFwiKX0sZS5wYXJzZVJ0cE1hcD1mdW5jdGlvbihuKXtsZXQgaT1uLnN1YnN0cmluZyg5KS5zcGxpdChcIiBcIikscj17cGF5bG9hZFR5cGU6cGFyc2VJbnQoaS5zaGlmdCgpLDEwKX07cmV0dXJuIGk9aVswXS5zcGxpdChcIi9cIiksci5uYW1lPWlbMF0sci5jbG9ja1JhdGU9cGFyc2VJbnQoaVsxXSwxMCksci5jaGFubmVscz1pLmxlbmd0aD09PTM/cGFyc2VJbnQoaVsyXSwxMCk6MSxyLm51bUNoYW5uZWxzPXIuY2hhbm5lbHMscn0sZS53cml0ZVJ0cE1hcD1mdW5jdGlvbihuKXtsZXQgaT1uLnBheWxvYWRUeXBlO24ucHJlZmVycmVkUGF5bG9hZFR5cGUhPT12b2lkIDAmJihpPW4ucHJlZmVycmVkUGF5bG9hZFR5cGUpO2xldCByPW4uY2hhbm5lbHN8fG4ubnVtQ2hhbm5lbHN8fDE7cmV0dXJuIFwiYT1ydHBtYXA6XCIraStcIiBcIituLm5hbWUrXCIvXCIrbi5jbG9ja1JhdGUrKHIhPT0xP1wiL1wiK3I6XCJcIikrYFxcclxuYH0sZS5wYXJzZUV4dG1hcD1mdW5jdGlvbihuKXtsZXQgaT1uLnN1YnN0cmluZyg5KS5zcGxpdChcIiBcIik7cmV0dXJuIHtpZDpwYXJzZUludChpWzBdLDEwKSxkaXJlY3Rpb246aVswXS5pbmRleE9mKFwiL1wiKT4wP2lbMF0uc3BsaXQoXCIvXCIpWzFdOlwic2VuZHJlY3ZcIix1cmk6aVsxXSxhdHRyaWJ1dGVzOmkuc2xpY2UoMikuam9pbihcIiBcIil9fSxlLndyaXRlRXh0bWFwPWZ1bmN0aW9uKG4pe3JldHVybiBcImE9ZXh0bWFwOlwiKyhuLmlkfHxuLnByZWZlcnJlZElkKSsobi5kaXJlY3Rpb24mJm4uZGlyZWN0aW9uIT09XCJzZW5kcmVjdlwiP1wiL1wiK24uZGlyZWN0aW9uOlwiXCIpK1wiIFwiK24udXJpKyhuLmF0dHJpYnV0ZXM/XCIgXCIrbi5hdHRyaWJ1dGVzOlwiXCIpK2BcXHJcbmB9LGUucGFyc2VGbXRwPWZ1bmN0aW9uKG4pe2xldCBpPXt9LHIsbz1uLnN1YnN0cmluZyhuLmluZGV4T2YoXCIgXCIpKzEpLnNwbGl0KFwiO1wiKTtmb3IobGV0IHM9MDtzPG8ubGVuZ3RoO3MrKylyPW9bc10udHJpbSgpLnNwbGl0KFwiPVwiKSxpW3JbMF0udHJpbSgpXT1yWzFdO3JldHVybiBpfSxlLndyaXRlRm10cD1mdW5jdGlvbihuKXtsZXQgaT1cIlwiLHI9bi5wYXlsb2FkVHlwZTtpZihuLnByZWZlcnJlZFBheWxvYWRUeXBlIT09dm9pZCAwJiYocj1uLnByZWZlcnJlZFBheWxvYWRUeXBlKSxuLnBhcmFtZXRlcnMmJk9iamVjdC5rZXlzKG4ucGFyYW1ldGVycykubGVuZ3RoKXtsZXQgbz1bXTtPYmplY3Qua2V5cyhuLnBhcmFtZXRlcnMpLmZvckVhY2gocz0+e24ucGFyYW1ldGVyc1tzXSE9PXZvaWQgMD9vLnB1c2gocytcIj1cIituLnBhcmFtZXRlcnNbc10pOm8ucHVzaChzKTt9KSxpKz1cImE9Zm10cDpcIityK1wiIFwiK28uam9pbihcIjtcIikrYFxcclxuYDt9cmV0dXJuIGl9LGUucGFyc2VSdGNwRmI9ZnVuY3Rpb24obil7bGV0IGk9bi5zdWJzdHJpbmcobi5pbmRleE9mKFwiIFwiKSsxKS5zcGxpdChcIiBcIik7cmV0dXJuIHt0eXBlOmkuc2hpZnQoKSxwYXJhbWV0ZXI6aS5qb2luKFwiIFwiKX19LGUud3JpdGVSdGNwRmI9ZnVuY3Rpb24obil7bGV0IGk9XCJcIixyPW4ucGF5bG9hZFR5cGU7cmV0dXJuIG4ucHJlZmVycmVkUGF5bG9hZFR5cGUhPT12b2lkIDAmJihyPW4ucHJlZmVycmVkUGF5bG9hZFR5cGUpLG4ucnRjcEZlZWRiYWNrJiZuLnJ0Y3BGZWVkYmFjay5sZW5ndGgmJm4ucnRjcEZlZWRiYWNrLmZvckVhY2gobz0+e2krPVwiYT1ydGNwLWZiOlwiK3IrXCIgXCIrby50eXBlKyhvLnBhcmFtZXRlciYmby5wYXJhbWV0ZXIubGVuZ3RoP1wiIFwiK28ucGFyYW1ldGVyOlwiXCIpK2BcXHJcbmA7fSksaX0sZS5wYXJzZVNzcmNNZWRpYT1mdW5jdGlvbihuKXtsZXQgaT1uLmluZGV4T2YoXCIgXCIpLHI9e3NzcmM6cGFyc2VJbnQobi5zdWJzdHJpbmcoNyxpKSwxMCl9LG89bi5pbmRleE9mKFwiOlwiLGkpO3JldHVybiBvPi0xPyhyLmF0dHJpYnV0ZT1uLnN1YnN0cmluZyhpKzEsbyksci52YWx1ZT1uLnN1YnN0cmluZyhvKzEpKTpyLmF0dHJpYnV0ZT1uLnN1YnN0cmluZyhpKzEpLHJ9LGUucGFyc2VTc3JjR3JvdXA9ZnVuY3Rpb24obil7bGV0IGk9bi5zdWJzdHJpbmcoMTMpLnNwbGl0KFwiIFwiKTtyZXR1cm4ge3NlbWFudGljczppLnNoaWZ0KCksc3NyY3M6aS5tYXAocj0+cGFyc2VJbnQociwxMCkpfX0sZS5nZXRNaWQ9ZnVuY3Rpb24obil7bGV0IGk9ZS5tYXRjaFByZWZpeChuLFwiYT1taWQ6XCIpWzBdO2lmKGkpcmV0dXJuIGkuc3Vic3RyaW5nKDYpfSxlLnBhcnNlRmluZ2VycHJpbnQ9ZnVuY3Rpb24obil7bGV0IGk9bi5zdWJzdHJpbmcoMTQpLnNwbGl0KFwiIFwiKTtyZXR1cm4ge2FsZ29yaXRobTppWzBdLnRvTG93ZXJDYXNlKCksdmFsdWU6aVsxXS50b1VwcGVyQ2FzZSgpfX0sZS5nZXREdGxzUGFyYW1ldGVycz1mdW5jdGlvbihuLGkpe3JldHVybiB7cm9sZTpcImF1dG9cIixmaW5nZXJwcmludHM6ZS5tYXRjaFByZWZpeChuK2ksXCJhPWZpbmdlcnByaW50OlwiKS5tYXAoZS5wYXJzZUZpbmdlcnByaW50KX19LGUud3JpdGVEdGxzUGFyYW1ldGVycz1mdW5jdGlvbihuLGkpe2xldCByPVwiYT1zZXR1cDpcIitpK2BcXHJcbmA7cmV0dXJuIG4uZmluZ2VycHJpbnRzLmZvckVhY2gobz0+e3IrPVwiYT1maW5nZXJwcmludDpcIitvLmFsZ29yaXRobStcIiBcIitvLnZhbHVlK2BcXHJcbmA7fSkscn0sZS5wYXJzZUNyeXB0b0xpbmU9ZnVuY3Rpb24obil7bGV0IGk9bi5zdWJzdHJpbmcoOSkuc3BsaXQoXCIgXCIpO3JldHVybiB7dGFnOnBhcnNlSW50KGlbMF0sMTApLGNyeXB0b1N1aXRlOmlbMV0sa2V5UGFyYW1zOmlbMl0sc2Vzc2lvblBhcmFtczppLnNsaWNlKDMpfX0sZS53cml0ZUNyeXB0b0xpbmU9ZnVuY3Rpb24obil7cmV0dXJuIFwiYT1jcnlwdG86XCIrbi50YWcrXCIgXCIrbi5jcnlwdG9TdWl0ZStcIiBcIisodHlwZW9mIG4ua2V5UGFyYW1zPT1cIm9iamVjdFwiP2Uud3JpdGVDcnlwdG9LZXlQYXJhbXMobi5rZXlQYXJhbXMpOm4ua2V5UGFyYW1zKSsobi5zZXNzaW9uUGFyYW1zP1wiIFwiK24uc2Vzc2lvblBhcmFtcy5qb2luKFwiIFwiKTpcIlwiKStgXFxyXG5gfSxlLnBhcnNlQ3J5cHRvS2V5UGFyYW1zPWZ1bmN0aW9uKG4pe2lmKG4uaW5kZXhPZihcImlubGluZTpcIikhPT0wKXJldHVybiBudWxsO2xldCBpPW4uc3Vic3RyaW5nKDcpLnNwbGl0KFwifFwiKTtyZXR1cm4ge2tleU1ldGhvZDpcImlubGluZVwiLGtleVNhbHQ6aVswXSxsaWZlVGltZTppWzFdLG1raVZhbHVlOmlbMl0/aVsyXS5zcGxpdChcIjpcIilbMF06dm9pZCAwLG1raUxlbmd0aDppWzJdP2lbMl0uc3BsaXQoXCI6XCIpWzFdOnZvaWQgMH19LGUud3JpdGVDcnlwdG9LZXlQYXJhbXM9ZnVuY3Rpb24obil7cmV0dXJuIG4ua2V5TWV0aG9kK1wiOlwiK24ua2V5U2FsdCsobi5saWZlVGltZT9cInxcIituLmxpZmVUaW1lOlwiXCIpKyhuLm1raVZhbHVlJiZuLm1raUxlbmd0aD9cInxcIituLm1raVZhbHVlK1wiOlwiK24ubWtpTGVuZ3RoOlwiXCIpfSxlLmdldENyeXB0b1BhcmFtZXRlcnM9ZnVuY3Rpb24obixpKXtyZXR1cm4gZS5tYXRjaFByZWZpeChuK2ksXCJhPWNyeXB0bzpcIikubWFwKGUucGFyc2VDcnlwdG9MaW5lKX0sZS5nZXRJY2VQYXJhbWV0ZXJzPWZ1bmN0aW9uKG4saSl7bGV0IHI9ZS5tYXRjaFByZWZpeChuK2ksXCJhPWljZS11ZnJhZzpcIilbMF0sbz1lLm1hdGNoUHJlZml4KG4raSxcImE9aWNlLXB3ZDpcIilbMF07cmV0dXJuIHImJm8/e3VzZXJuYW1lRnJhZ21lbnQ6ci5zdWJzdHJpbmcoMTIpLHBhc3N3b3JkOm8uc3Vic3RyaW5nKDEwKX06bnVsbH0sZS53cml0ZUljZVBhcmFtZXRlcnM9ZnVuY3Rpb24obil7bGV0IGk9XCJhPWljZS11ZnJhZzpcIituLnVzZXJuYW1lRnJhZ21lbnQrYFxcclxuYT1pY2UtcHdkOmArbi5wYXNzd29yZCtgXFxyXG5gO3JldHVybiBuLmljZUxpdGUmJihpKz1gYT1pY2UtbGl0ZVxcclxuYCksaX0sZS5wYXJzZVJ0cFBhcmFtZXRlcnM9ZnVuY3Rpb24obil7bGV0IGk9e2NvZGVjczpbXSxoZWFkZXJFeHRlbnNpb25zOltdLGZlY01lY2hhbmlzbXM6W10scnRjcDpbXX0scj1lLnNwbGl0TGluZXMobilbMF0uc3BsaXQoXCIgXCIpO2kucHJvZmlsZT1yWzJdO2ZvcihsZXQgcz0zO3M8ci5sZW5ndGg7cysrKXtsZXQgYT1yW3NdLGM9ZS5tYXRjaFByZWZpeChuLFwiYT1ydHBtYXA6XCIrYStcIiBcIilbMF07aWYoYyl7bGV0IGQ9ZS5wYXJzZVJ0cE1hcChjKSxsPWUubWF0Y2hQcmVmaXgobixcImE9Zm10cDpcIithK1wiIFwiKTtzd2l0Y2goZC5wYXJhbWV0ZXJzPWwubGVuZ3RoP2UucGFyc2VGbXRwKGxbMF0pOnt9LGQucnRjcEZlZWRiYWNrPWUubWF0Y2hQcmVmaXgobixcImE9cnRjcC1mYjpcIithK1wiIFwiKS5tYXAoZS5wYXJzZVJ0Y3BGYiksaS5jb2RlY3MucHVzaChkKSxkLm5hbWUudG9VcHBlckNhc2UoKSl7Y2FzZVwiUkVEXCI6Y2FzZVwiVUxQRkVDXCI6aS5mZWNNZWNoYW5pc21zLnB1c2goZC5uYW1lLnRvVXBwZXJDYXNlKCkpO319fWUubWF0Y2hQcmVmaXgobixcImE9ZXh0bWFwOlwiKS5mb3JFYWNoKHM9PntpLmhlYWRlckV4dGVuc2lvbnMucHVzaChlLnBhcnNlRXh0bWFwKHMpKTt9KTtsZXQgbz1lLm1hdGNoUHJlZml4KG4sXCJhPXJ0Y3AtZmI6KiBcIikubWFwKGUucGFyc2VSdGNwRmIpO3JldHVybiBpLmNvZGVjcy5mb3JFYWNoKHM9PntvLmZvckVhY2goYT0+e3MucnRjcEZlZWRiYWNrLmZpbmQoYz0+Yy50eXBlPT09YS50eXBlJiZjLnBhcmFtZXRlcj09PWEucGFyYW1ldGVyKXx8cy5ydGNwRmVlZGJhY2sucHVzaChhKTt9KTt9KSxpfSxlLndyaXRlUnRwRGVzY3JpcHRpb249ZnVuY3Rpb24obixpKXtsZXQgcj1cIlwiO3IrPVwibT1cIituK1wiIFwiLHIrPWkuY29kZWNzLmxlbmd0aD4wP1wiOVwiOlwiMFwiLHIrPVwiIFwiKyhpLnByb2ZpbGV8fFwiVURQL1RMUy9SVFAvU0FWUEZcIikrXCIgXCIscis9aS5jb2RlY3MubWFwKHM9PnMucHJlZmVycmVkUGF5bG9hZFR5cGUhPT12b2lkIDA/cy5wcmVmZXJyZWRQYXlsb2FkVHlwZTpzLnBheWxvYWRUeXBlKS5qb2luKFwiIFwiKStgXFxyXG5gLHIrPWBjPUlOIElQNCAwLjAuMC4wXFxyXG5gLHIrPWBhPXJ0Y3A6OSBJTiBJUDQgMC4wLjAuMFxcclxuYCxpLmNvZGVjcy5mb3JFYWNoKHM9PntyKz1lLndyaXRlUnRwTWFwKHMpLHIrPWUud3JpdGVGbXRwKHMpLHIrPWUud3JpdGVSdGNwRmIocyk7fSk7bGV0IG89MDtyZXR1cm4gaS5jb2RlY3MuZm9yRWFjaChzPT57cy5tYXhwdGltZT5vJiYobz1zLm1heHB0aW1lKTt9KSxvPjAmJihyKz1cImE9bWF4cHRpbWU6XCIrbytgXFxyXG5gKSxpLmhlYWRlckV4dGVuc2lvbnMmJmkuaGVhZGVyRXh0ZW5zaW9ucy5mb3JFYWNoKHM9PntyKz1lLndyaXRlRXh0bWFwKHMpO30pLHJ9LGUucGFyc2VSdHBFbmNvZGluZ1BhcmFtZXRlcnM9ZnVuY3Rpb24obil7bGV0IGk9W10scj1lLnBhcnNlUnRwUGFyYW1ldGVycyhuKSxvPXIuZmVjTWVjaGFuaXNtcy5pbmRleE9mKFwiUkVEXCIpIT09LTEscz1yLmZlY01lY2hhbmlzbXMuaW5kZXhPZihcIlVMUEZFQ1wiKSE9PS0xLGE9ZS5tYXRjaFByZWZpeChuLFwiYT1zc3JjOlwiKS5tYXAoaD0+ZS5wYXJzZVNzcmNNZWRpYShoKSkuZmlsdGVyKGg9PmguYXR0cmlidXRlPT09XCJjbmFtZVwiKSxjPWEubGVuZ3RoPjAmJmFbMF0uc3NyYyxkLGw9ZS5tYXRjaFByZWZpeChuLFwiYT1zc3JjLWdyb3VwOkZJRFwiKS5tYXAoaD0+aC5zdWJzdHJpbmcoMTcpLnNwbGl0KFwiIFwiKS5tYXAocD0+cGFyc2VJbnQocCwxMCkpKTtsLmxlbmd0aD4wJiZsWzBdLmxlbmd0aD4xJiZsWzBdWzBdPT09YyYmKGQ9bFswXVsxXSksci5jb2RlY3MuZm9yRWFjaChoPT57aWYoaC5uYW1lLnRvVXBwZXJDYXNlKCk9PT1cIlJUWFwiJiZoLnBhcmFtZXRlcnMuYXB0KXtsZXQgcD17c3NyYzpjLGNvZGVjUGF5bG9hZFR5cGU6cGFyc2VJbnQoaC5wYXJhbWV0ZXJzLmFwdCwxMCl9O2MmJmQmJihwLnJ0eD17c3NyYzpkfSksaS5wdXNoKHApLG8mJihwPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocCkpLHAuZmVjPXtzc3JjOmMsbWVjaGFuaXNtOnM/XCJyZWQrdWxwZmVjXCI6XCJyZWRcIn0saS5wdXNoKHApKTt9fSksaS5sZW5ndGg9PT0wJiZjJiZpLnB1c2goe3NzcmM6Y30pO2xldCB1PWUubWF0Y2hQcmVmaXgobixcImI9XCIpO3JldHVybiB1Lmxlbmd0aCYmKHU9dVswXS5pbmRleE9mKFwiYj1USUFTOlwiKT09PTA/cGFyc2VJbnQodVswXS5zdWJzdHJpbmcoNyksMTApOnVbMF0uaW5kZXhPZihcImI9QVM6XCIpPT09MD8xZTMqcGFyc2VJbnQodVswXS5zdWJzdHJpbmcoNSksMTApKi45NS0xNmUzOnZvaWQgMCxpLmZvckVhY2goaD0+e2gubWF4Qml0cmF0ZT11O30pKSxpfSxlLnBhcnNlUnRjcFBhcmFtZXRlcnM9ZnVuY3Rpb24obil7bGV0IGk9e30scj1lLm1hdGNoUHJlZml4KG4sXCJhPXNzcmM6XCIpLm1hcChhPT5lLnBhcnNlU3NyY01lZGlhKGEpKS5maWx0ZXIoYT0+YS5hdHRyaWJ1dGU9PT1cImNuYW1lXCIpWzBdO3ImJihpLmNuYW1lPXIudmFsdWUsaS5zc3JjPXIuc3NyYyk7bGV0IG89ZS5tYXRjaFByZWZpeChuLFwiYT1ydGNwLXJzaXplXCIpO2kucmVkdWNlZFNpemU9by5sZW5ndGg+MCxpLmNvbXBvdW5kPW8ubGVuZ3RoPT09MDtsZXQgcz1lLm1hdGNoUHJlZml4KG4sXCJhPXJ0Y3AtbXV4XCIpO3JldHVybiBpLm11eD1zLmxlbmd0aD4wLGl9LGUud3JpdGVSdGNwUGFyYW1ldGVycz1mdW5jdGlvbihuKXtsZXQgaT1cIlwiO3JldHVybiBuLnJlZHVjZWRTaXplJiYoaSs9YGE9cnRjcC1yc2l6ZVxcclxuYCksbi5tdXgmJihpKz1gYT1ydGNwLW11eFxcclxuYCksbi5zc3JjIT09dm9pZCAwJiZuLmNuYW1lJiYoaSs9XCJhPXNzcmM6XCIrbi5zc3JjK1wiIGNuYW1lOlwiK24uY25hbWUrYFxcclxuYCksaX0sZS5wYXJzZU1zaWQ9ZnVuY3Rpb24obil7bGV0IGkscj1lLm1hdGNoUHJlZml4KG4sXCJhPW1zaWQ6XCIpO2lmKHIubGVuZ3RoPT09MSlyZXR1cm4gaT1yWzBdLnN1YnN0cmluZyg3KS5zcGxpdChcIiBcIikse3N0cmVhbTppWzBdLHRyYWNrOmlbMV19O2xldCBvPWUubWF0Y2hQcmVmaXgobixcImE9c3NyYzpcIikubWFwKHM9PmUucGFyc2VTc3JjTWVkaWEocykpLmZpbHRlcihzPT5zLmF0dHJpYnV0ZT09PVwibXNpZFwiKTtyZXR1cm4gby5sZW5ndGg+MD8oaT1vWzBdLnZhbHVlLnNwbGl0KFwiIFwiKSx7c3RyZWFtOmlbMF0sdHJhY2s6aVsxXX0pOnZvaWQgMH0sZS5wYXJzZVNjdHBEZXNjcmlwdGlvbj1mdW5jdGlvbihuKXtsZXQgaT1lLnBhcnNlTUxpbmUobikscj1lLm1hdGNoUHJlZml4KG4sXCJhPW1heC1tZXNzYWdlLXNpemU6XCIpLG87ci5sZW5ndGg+MCYmKG89cGFyc2VJbnQoclswXS5zdWJzdHJpbmcoMTkpLDEwKSksaXNOYU4obykmJihvPTY1NTM2KTtsZXQgcz1lLm1hdGNoUHJlZml4KG4sXCJhPXNjdHAtcG9ydDpcIik7aWYocy5sZW5ndGg+MClyZXR1cm4ge3BvcnQ6cGFyc2VJbnQoc1swXS5zdWJzdHJpbmcoMTIpLDEwKSxwcm90b2NvbDppLmZtdCxtYXhNZXNzYWdlU2l6ZTpvfTtsZXQgYT1lLm1hdGNoUHJlZml4KG4sXCJhPXNjdHBtYXA6XCIpO2lmKGEubGVuZ3RoPjApe2xldCBjPWFbMF0uc3Vic3RyaW5nKDEwKS5zcGxpdChcIiBcIik7cmV0dXJuIHtwb3J0OnBhcnNlSW50KGNbMF0sMTApLHByb3RvY29sOmNbMV0sbWF4TWVzc2FnZVNpemU6b319fSxlLndyaXRlU2N0cERlc2NyaXB0aW9uPWZ1bmN0aW9uKG4saSl7bGV0IHI9W107cmV0dXJuIHI9bi5wcm90b2NvbCE9PVwiRFRMUy9TQ1RQXCI/W1wibT1cIituLmtpbmQrXCIgOSBcIituLnByb3RvY29sK1wiIFwiK2kucHJvdG9jb2wrYFxcclxuYCxgYz1JTiBJUDQgMC4wLjAuMFxcclxuYCxcImE9c2N0cC1wb3J0OlwiK2kucG9ydCtgXFxyXG5gXTpbXCJtPVwiK24ua2luZCtcIiA5IFwiK24ucHJvdG9jb2wrXCIgXCIraS5wb3J0K2BcXHJcbmAsYGM9SU4gSVA0IDAuMC4wLjBcXHJcbmAsXCJhPXNjdHBtYXA6XCIraS5wb3J0K1wiIFwiK2kucHJvdG9jb2wrYCA2NTUzNVxcclxuYF0saS5tYXhNZXNzYWdlU2l6ZSE9PXZvaWQgMCYmci5wdXNoKFwiYT1tYXgtbWVzc2FnZS1zaXplOlwiK2kubWF4TWVzc2FnZVNpemUrYFxcclxuYCksci5qb2luKFwiXCIpfSxlLmdlbmVyYXRlU2Vzc2lvbklkPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoKS5zdWJzdHIoMiwyMil9LGUud3JpdGVTZXNzaW9uQm9pbGVycGxhdGU9ZnVuY3Rpb24obixpLHIpe2xldCBvLHM9aSE9PXZvaWQgMD9pOjI7cmV0dXJuIG89bnx8ZS5nZW5lcmF0ZVNlc3Npb25JZCgpLGB2PTBcXHJcbm89YCsocnx8XCJ0aGlzaXNhZGFwdGVyb3J0Y1wiKStcIiBcIitvK1wiIFwiK3MrYCBJTiBJUDQgMTI3LjAuMC4xXFxyXG5zPS1cXHJcbnQ9MCAwXFxyXG5gfSxlLmdldERpcmVjdGlvbj1mdW5jdGlvbihuLGkpe2xldCByPWUuc3BsaXRMaW5lcyhuKTtmb3IobGV0IG89MDtvPHIubGVuZ3RoO28rKylzd2l0Y2gocltvXSl7Y2FzZVwiYT1zZW5kcmVjdlwiOmNhc2VcImE9c2VuZG9ubHlcIjpjYXNlXCJhPXJlY3Zvbmx5XCI6Y2FzZVwiYT1pbmFjdGl2ZVwiOnJldHVybiByW29dLnN1YnN0cmluZygyKX1yZXR1cm4gaT9lLmdldERpcmVjdGlvbihpKTpcInNlbmRyZWN2XCJ9LGUuZ2V0S2luZD1mdW5jdGlvbihuKXtyZXR1cm4gZS5zcGxpdExpbmVzKG4pWzBdLnNwbGl0KFwiIFwiKVswXS5zdWJzdHJpbmcoMil9LGUuaXNSZWplY3RlZD1mdW5jdGlvbihuKXtyZXR1cm4gbi5zcGxpdChcIiBcIiwyKVsxXT09PVwiMFwifSxlLnBhcnNlTUxpbmU9ZnVuY3Rpb24obil7bGV0IGk9ZS5zcGxpdExpbmVzKG4pWzBdLnN1YnN0cmluZygyKS5zcGxpdChcIiBcIik7cmV0dXJuIHtraW5kOmlbMF0scG9ydDpwYXJzZUludChpWzFdLDEwKSxwcm90b2NvbDppWzJdLGZtdDppLnNsaWNlKDMpLmpvaW4oXCIgXCIpfX0sZS5wYXJzZU9MaW5lPWZ1bmN0aW9uKG4pe2xldCBpPWUubWF0Y2hQcmVmaXgobixcIm89XCIpWzBdLnN1YnN0cmluZygyKS5zcGxpdChcIiBcIik7cmV0dXJuIHt1c2VybmFtZTppWzBdLHNlc3Npb25JZDppWzFdLHNlc3Npb25WZXJzaW9uOnBhcnNlSW50KGlbMl0sMTApLG5ldFR5cGU6aVszXSxhZGRyZXNzVHlwZTppWzRdLGFkZHJlc3M6aVs1XX19LGUuaXNWYWxpZFNEUD1mdW5jdGlvbihuKXtpZih0eXBlb2YgbiE9XCJzdHJpbmdcInx8bi5sZW5ndGg9PT0wKXJldHVybiAhMTtsZXQgaT1lLnNwbGl0TGluZXMobik7Zm9yKGxldCByPTA7cjxpLmxlbmd0aDtyKyspaWYoaVtyXS5sZW5ndGg8Mnx8aVtyXS5jaGFyQXQoMSkhPT1cIj1cIilyZXR1cm4gITE7cmV0dXJuICEwfSx0LmV4cG9ydHM9ZTt9KShsdyk7dmFyIHV3PWx3LmV4cG9ydHMsQnM9YWUodXcpLG8yPXlOKHtfX3Byb3RvX186bnVsbCxkZWZhdWx0OkJzfSxbdXddKTtmdW5jdGlvbiBkbCh0KXtpZighdC5SVENJY2VDYW5kaWRhdGV8fHQuUlRDSWNlQ2FuZGlkYXRlJiZcImZvdW5kYXRpb25cImluIHQuUlRDSWNlQ2FuZGlkYXRlLnByb3RvdHlwZSlyZXR1cm47bGV0IGU9dC5SVENJY2VDYW5kaWRhdGU7dC5SVENJY2VDYW5kaWRhdGU9ZnVuY3Rpb24obil7aWYodHlwZW9mIG49PVwib2JqZWN0XCImJm4uY2FuZGlkYXRlJiZuLmNhbmRpZGF0ZS5pbmRleE9mKFwiYT1cIik9PT0wJiYoKG49SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShuKSkpLmNhbmRpZGF0ZT1uLmNhbmRpZGF0ZS5zdWJzdHIoMikpLG4uY2FuZGlkYXRlJiZuLmNhbmRpZGF0ZS5sZW5ndGgpe2xldCBpPW5ldyBlKG4pLHI9QnMucGFyc2VDYW5kaWRhdGUobi5jYW5kaWRhdGUpLG89T2JqZWN0LmFzc2lnbihpLHIpO3JldHVybiBvLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB7Y2FuZGlkYXRlOm8uY2FuZGlkYXRlLHNkcE1pZDpvLnNkcE1pZCxzZHBNTGluZUluZGV4Om8uc2RwTUxpbmVJbmRleCx1c2VybmFtZUZyYWdtZW50Om8udXNlcm5hbWVGcmFnbWVudH19LG99cmV0dXJuIG5ldyBlKG4pfSx0LlJUQ0ljZUNhbmRpZGF0ZS5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdHModCxcImljZWNhbmRpZGF0ZVwiLG49PihuLmNhbmRpZGF0ZSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJjYW5kaWRhdGVcIix7dmFsdWU6bmV3IHQuUlRDSWNlQ2FuZGlkYXRlKG4uY2FuZGlkYXRlKSx3cml0YWJsZTpcImZhbHNlXCJ9KSxuKSk7fWZ1bmN0aW9uIGxFKHQpeyF0LlJUQ0ljZUNhbmRpZGF0ZXx8dC5SVENJY2VDYW5kaWRhdGUmJlwicmVsYXlQcm90b2NvbFwiaW4gdC5SVENJY2VDYW5kaWRhdGUucHJvdG90eXBlfHx0cyh0LFwiaWNlY2FuZGlkYXRlXCIsZT0+e2lmKGUuY2FuZGlkYXRlKXtsZXQgbj1Ccy5wYXJzZUNhbmRpZGF0ZShlLmNhbmRpZGF0ZS5jYW5kaWRhdGUpO24udHlwZT09PVwicmVsYXlcIiYmKGUuY2FuZGlkYXRlLnJlbGF5UHJvdG9jb2w9ezA6XCJ0bHNcIiwxOlwidGNwXCIsMjpcInVkcFwifVtuLnByaW9yaXR5Pj4yNF0pO31yZXR1cm4gZX0pO31mdW5jdGlvbiBsbCh0LGUpe2lmKCF0LlJUQ1BlZXJDb25uZWN0aW9uKXJldHVybjtcInNjdHBcImluIHQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlfHxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUsXCJzY3RwXCIse2dldCgpe3JldHVybiB0aGlzLl9zY3RwPT09dm9pZCAwP251bGw6dGhpcy5fc2N0cH19KTtsZXQgbj1mdW5jdGlvbihhKXtpZighYXx8IWEuc2RwKXJldHVybiAhMTtsZXQgYz1Ccy5zcGxpdFNlY3Rpb25zKGEuc2RwKTtyZXR1cm4gYy5zaGlmdCgpLGMuc29tZShkPT57bGV0IGw9QnMucGFyc2VNTGluZShkKTtyZXR1cm4gbCYmbC5raW5kPT09XCJhcHBsaWNhdGlvblwiJiZsLnByb3RvY29sLmluZGV4T2YoXCJTQ1RQXCIpIT09LTF9KX0saT1mdW5jdGlvbihhKXtsZXQgYz1hLnNkcC5tYXRjaCgvbW96aWxsYS4uLlRISVNfSVNfU0RQQVJUQS0oXFxkKykvKTtpZihjPT09bnVsbHx8Yy5sZW5ndGg8MilyZXR1cm4gLTE7bGV0IGQ9cGFyc2VJbnQoY1sxXSwxMCk7cmV0dXJuIGQhPWQ/LTE6ZH0scj1mdW5jdGlvbihhKXtsZXQgYz02NTUzNjtyZXR1cm4gZS5icm93c2VyPT09XCJmaXJlZm94XCImJihjPWUudmVyc2lvbjw1Nz9hPT09LTE/MTYzODQ6MjE0NzQ4MzYzNzplLnZlcnNpb248NjA/ZS52ZXJzaW9uPT09NTc/NjU1MzU6NjU1MzY6MjE0NzQ4MzYzNyksY30sbz1mdW5jdGlvbihhLGMpe2xldCBkPTY1NTM2O2UuYnJvd3Nlcj09PVwiZmlyZWZveFwiJiZlLnZlcnNpb249PT01NyYmKGQ9NjU1MzUpO2xldCBsPUJzLm1hdGNoUHJlZml4KGEuc2RwLFwiYT1tYXgtbWVzc2FnZS1zaXplOlwiKTtyZXR1cm4gbC5sZW5ndGg+MD9kPXBhcnNlSW50KGxbMF0uc3Vic3RyKDE5KSwxMCk6ZS5icm93c2VyPT09XCJmaXJlZm94XCImJmMhPT0tMSYmKGQ9MjE0NzQ4MzYzNyksZH0scz10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRSZW1vdGVEZXNjcmlwdGlvbjt0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRSZW1vdGVEZXNjcmlwdGlvbj1mdW5jdGlvbigpe2lmKHRoaXMuX3NjdHA9bnVsbCxlLmJyb3dzZXI9PT1cImNocm9tZVwiJiZlLnZlcnNpb24+PTc2KXtsZXR7c2RwU2VtYW50aWNzOmF9PXRoaXMuZ2V0Q29uZmlndXJhdGlvbigpO2E9PT1cInBsYW4tYlwiJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInNjdHBcIix7Z2V0KCl7cmV0dXJuIHRoaXMuX3NjdHA9PT12b2lkIDA/bnVsbDp0aGlzLl9zY3RwfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pO31pZihuKGFyZ3VtZW50c1swXSkpe2xldCBhPWkoYXJndW1lbnRzWzBdKSxjPXIoYSksZD1vKGFyZ3VtZW50c1swXSxhKSxsO2w9Yz09PTAmJmQ9PT0wP051bWJlci5QT1NJVElWRV9JTkZJTklUWTpjPT09MHx8ZD09PTA/TWF0aC5tYXgoYyxkKTpNYXRoLm1pbihjLGQpO2xldCB1PXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh1LFwibWF4TWVzc2FnZVNpemVcIix7Z2V0OigpPT5sfSksdGhpcy5fc2N0cD11O31yZXR1cm4gcy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O31mdW5jdGlvbiB1bCh0KXtpZighdC5SVENQZWVyQ29ubmVjdGlvbnx8IShcImNyZWF0ZURhdGFDaGFubmVsXCJpbiB0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSkpcmV0dXJuO2Z1bmN0aW9uIGUoaSxyKXtsZXQgbz1pLnNlbmQ7aS5zZW5kPWZ1bmN0aW9uKCl7bGV0IHM9YXJndW1lbnRzWzBdLGE9cy5sZW5ndGh8fHMuc2l6ZXx8cy5ieXRlTGVuZ3RoO2lmKGkucmVhZHlTdGF0ZT09PVwib3BlblwiJiZyLnNjdHAmJmE+ci5zY3RwLm1heE1lc3NhZ2VTaXplKXRocm93IG5ldyBUeXBlRXJyb3IoXCJNZXNzYWdlIHRvbyBsYXJnZSAoY2FuIHNlbmQgYSBtYXhpbXVtIG9mIFwiK3Iuc2N0cC5tYXhNZXNzYWdlU2l6ZStcIiBieXRlcylcIik7cmV0dXJuIG8uYXBwbHkoaSxhcmd1bWVudHMpfTt9bGV0IG49dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuY3JlYXRlRGF0YUNoYW5uZWw7dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuY3JlYXRlRGF0YUNoYW5uZWw9ZnVuY3Rpb24oKXtsZXQgaT1uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZShpLHRoaXMpLGl9LHRzKHQsXCJkYXRhY2hhbm5lbFwiLGk9PihlKGkuY2hhbm5lbCxpLnRhcmdldCksaSkpO31mdW5jdGlvbiB1RSh0KXtpZighdC5SVENQZWVyQ29ubmVjdGlvbnx8XCJjb25uZWN0aW9uU3RhdGVcImluIHQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKXJldHVybjtsZXQgZT10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcImNvbm5lY3Rpb25TdGF0ZVwiLHtnZXQoKXtyZXR1cm4ge2NvbXBsZXRlZDpcImNvbm5lY3RlZFwiLGNoZWNraW5nOlwiY29ubmVjdGluZ1wifVt0aGlzLmljZUNvbm5lY3Rpb25TdGF0ZV18fHRoaXMuaWNlQ29ubmVjdGlvblN0YXRlfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwib25jb25uZWN0aW9uc3RhdGVjaGFuZ2VcIix7Z2V0KCl7cmV0dXJuIHRoaXMuX29uY29ubmVjdGlvbnN0YXRlY2hhbmdlfHxudWxsfSxzZXQobil7dGhpcy5fb25jb25uZWN0aW9uc3RhdGVjaGFuZ2UmJih0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIix0aGlzLl9vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZSksZGVsZXRlIHRoaXMuX29uY29ubmVjdGlvbnN0YXRlY2hhbmdlKSxuJiZ0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIix0aGlzLl9vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1uKTt9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksW1wic2V0TG9jYWxEZXNjcmlwdGlvblwiLFwic2V0UmVtb3RlRGVzY3JpcHRpb25cIl0uZm9yRWFjaChuPT57bGV0IGk9ZVtuXTtlW25dPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Nvbm5lY3Rpb25zdGF0ZWNoYW5nZXBvbHl8fCh0aGlzLl9jb25uZWN0aW9uc3RhdGVjaGFuZ2Vwb2x5PXI9PntsZXQgbz1yLnRhcmdldDtpZihvLl9sYXN0Q29ubmVjdGlvblN0YXRlIT09by5jb25uZWN0aW9uU3RhdGUpe28uX2xhc3RDb25uZWN0aW9uU3RhdGU9by5jb25uZWN0aW9uU3RhdGU7bGV0IHM9bmV3IEV2ZW50KFwiY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIscik7by5kaXNwYXRjaEV2ZW50KHMpO31yZXR1cm4gcn0sdGhpcy5hZGRFdmVudExpc3RlbmVyKFwiaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIsdGhpcy5fY29ubmVjdGlvbnN0YXRlY2hhbmdlcG9seSkpLGkuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt9KTt9ZnVuY3Rpb24gaEUodCxlKXtpZighdC5SVENQZWVyQ29ubmVjdGlvbnx8ZS5icm93c2VyPT09XCJjaHJvbWVcIiYmZS52ZXJzaW9uPj03MXx8ZS5icm93c2VyPT09XCJzYWZhcmlcIiYmZS52ZXJzaW9uPj02MDUpcmV0dXJuO2xldCBuPXQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uO3QuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uPWZ1bmN0aW9uKGkpe2lmKGkmJmkuc2RwJiZpLnNkcC5pbmRleE9mKGBcbmE9ZXh0bWFwLWFsbG93LW1peGVkYCkhPT0tMSl7bGV0IHI9aS5zZHAuc3BsaXQoYFxuYCkuZmlsdGVyKG89PnJuKG8pLmNhbGwobykhPT1cImE9ZXh0bWFwLWFsbG93LW1peGVkXCIpLmpvaW4oYFxuYCk7dC5SVENTZXNzaW9uRGVzY3JpcHRpb24mJmkgaW5zdGFuY2VvZiB0LlJUQ1Nlc3Npb25EZXNjcmlwdGlvbj9hcmd1bWVudHNbMF09bmV3IHQuUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKHt0eXBlOmkudHlwZSxzZHA6cn0pOmkuc2RwPXI7fXJldHVybiBuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07fWZ1bmN0aW9uIGhsKHQsZSl7aWYoIXQuUlRDUGVlckNvbm5lY3Rpb258fCF0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSlyZXR1cm47bGV0IG49dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkSWNlQ2FuZGlkYXRlO24mJm4ubGVuZ3RoIT09MCYmKHQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZEljZUNhbmRpZGF0ZT1mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHNbMF0/KGUuYnJvd3Nlcj09PVwiY2hyb21lXCImJmUudmVyc2lvbjw3OHx8ZS5icm93c2VyPT09XCJmaXJlZm94XCImJmUudmVyc2lvbjw2OHx8ZS5icm93c2VyPT09XCJzYWZhcmlcIikmJmFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdLmNhbmRpZGF0ZT09PVwiXCI/ai5yZXNvbHZlKCk6bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk6KGFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdLmFwcGx5KG51bGwpLGoucmVzb2x2ZSgpKX0pO31mdW5jdGlvbiBwbCh0LGUpe2lmKCF0LlJUQ1BlZXJDb25uZWN0aW9ufHwhdC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpcmV0dXJuO2xldCBuPXQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldExvY2FsRGVzY3JpcHRpb247biYmbi5sZW5ndGghPT0wJiYodC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0TG9jYWxEZXNjcmlwdGlvbj1mdW5jdGlvbigpe2xldCBpPWFyZ3VtZW50c1swXXx8e307aWYodHlwZW9mIGkhPVwib2JqZWN0XCJ8fGkudHlwZSYmaS5zZHApcmV0dXJuIG4uYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKGk9e3R5cGU6aS50eXBlLHNkcDppLnNkcH0sIWkudHlwZSlzd2l0Y2godGhpcy5zaWduYWxpbmdTdGF0ZSl7Y2FzZVwic3RhYmxlXCI6Y2FzZVwiaGF2ZS1sb2NhbC1vZmZlclwiOmNhc2VcImhhdmUtcmVtb3RlLXByYW5zd2VyXCI6aS50eXBlPVwib2ZmZXJcIjticmVhaztkZWZhdWx0OmkudHlwZT1cImFuc3dlclwiO31yZXR1cm4gaS5zZHB8fGkudHlwZSE9PVwib2ZmZXJcIiYmaS50eXBlIT09XCJhbnN3ZXJcIj9uLmFwcGx5KHRoaXMsW2ldKTooaS50eXBlPT09XCJvZmZlclwiP3RoaXMuY3JlYXRlT2ZmZXI6dGhpcy5jcmVhdGVBbnN3ZXIpLmFwcGx5KHRoaXMpLnRoZW4ocj0+bi5hcHBseSh0aGlzLFtyXSkpfSk7fXZhciBzMj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxyZW1vdmVFeHRtYXBBbGxvd01peGVkOmhFLHNoaW1BZGRJY2VDYW5kaWRhdGVOdWxsT3JFbXB0eTpobCxzaGltQ29ubmVjdGlvblN0YXRlOnVFLHNoaW1NYXhNZXNzYWdlU2l6ZTpsbCxzaGltUGFyYW1ldGVybGVzc1NldExvY2FsRGVzY3JpcHRpb246cGwsc2hpbVJUQ0ljZUNhbmRpZGF0ZTpkbCxzaGltUlRDSWNlQ2FuZGlkYXRlUmVsYXlQcm90b2NvbDpsRSxzaGltU2VuZFRocm93VHlwZUVycm9yOnVsfSk7KGZ1bmN0aW9uKCl7bGV0e3dpbmRvdzp0fT1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXZvaWQgMD9hcmd1bWVudHNbMF06e30sZT1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06e3NoaW1DaHJvbWU6ITAsc2hpbUZpcmVmb3g6ITAsc2hpbVNhZmFyaTohMH0sbj1qQSxpPWZ1bmN0aW9uKG8pe2xldCBzPXticm93c2VyOm51bGwsdmVyc2lvbjpudWxsfTtpZihvPT09dm9pZCAwfHwhby5uYXZpZ2F0b3IpcmV0dXJuIHMuYnJvd3Nlcj1cIk5vdCBhIGJyb3dzZXIuXCIscztsZXR7bmF2aWdhdG9yOmF9PW87aWYoYS5tb3pHZXRVc2VyTWVkaWEpcy5icm93c2VyPVwiZmlyZWZveFwiLHMudmVyc2lvbj1oZChhLnVzZXJBZ2VudCwvRmlyZWZveFxcLyhcXGQrKVxcLi8sMSk7ZWxzZSBpZihhLndlYmtpdEdldFVzZXJNZWRpYXx8by5pc1NlY3VyZUNvbnRleHQ9PT0hMSYmby53ZWJraXRSVENQZWVyQ29ubmVjdGlvbilzLmJyb3dzZXI9XCJjaHJvbWVcIixzLnZlcnNpb249aGQoYS51c2VyQWdlbnQsL0Nocm9tKGV8aXVtKVxcLyhcXGQrKVxcLi8sMik7ZWxzZSB7aWYoIW8uUlRDUGVlckNvbm5lY3Rpb258fCFhLnVzZXJBZ2VudC5tYXRjaCgvQXBwbGVXZWJLaXRcXC8oXFxkKylcXC4vKSlyZXR1cm4gcy5icm93c2VyPVwiTm90IGEgc3VwcG9ydGVkIGJyb3dzZXIuXCIscztzLmJyb3dzZXI9XCJzYWZhcmlcIixzLnZlcnNpb249aGQoYS51c2VyQWdlbnQsL0FwcGxlV2ViS2l0XFwvKFxcZCspXFwuLywxKSxzLnN1cHBvcnRzVW5pZmllZFBsYW49by5SVENSdHBUcmFuc2NlaXZlciYmXCJjdXJyZW50RGlyZWN0aW9uXCJpbiBvLlJUQ1J0cFRyYW5zY2VpdmVyLnByb3RvdHlwZTt9cmV0dXJuIHN9KHQpLHI9e2Jyb3dzZXJEZXRhaWxzOmksY29tbW9uU2hpbTpzMixleHRyYWN0VmVyc2lvbjpoZCxkaXNhYmxlTG9nOnJrLGRpc2FibGVXYXJuaW5nczpvayxzZHA6bzJ9O3N3aXRjaChpLmJyb3dzZXIpe2Nhc2VcImNocm9tZVwiOmlmKCFSVHx8IWFFfHwhZS5zaGltQ2hyb21lKXJldHVybiBuKFwiQ2hyb21lIHNoaW0gaXMgbm90IGluY2x1ZGVkIGluIHRoaXMgYWRhcHRlciByZWxlYXNlLlwiKSxyO2lmKGkudmVyc2lvbj09PW51bGwpcmV0dXJuIG4oXCJDaHJvbWUgc2hpbSBjYW4gbm90IGRldGVybWluZSB2ZXJzaW9uLCBub3Qgc2hpbW1pbmcuXCIpLHI7bihcImFkYXB0ZXIuanMgc2hpbW1pbmcgY2hyb21lLlwiKSxyLmJyb3dzZXJTaGltPVJULGhsKHQsaSkscGwodCksTWIodCxpKSxVYih0KSxhRSh0LGkpLHhiKHQpLEdiKHQsaSksVmIodCksRmIodCksQmIodCksV2IodCxpKSxkbCh0KSxsRSh0KSx1RSh0KSxsbCh0LGkpLHVsKHQpLGhFKHQsaSk7YnJlYWs7Y2FzZVwiZmlyZWZveFwiOmlmKCFDVHx8IWNFfHwhZS5zaGltRmlyZWZveClyZXR1cm4gbihcIkZpcmVmb3ggc2hpbSBpcyBub3QgaW5jbHVkZWQgaW4gdGhpcyBhZGFwdGVyIHJlbGVhc2UuXCIpLHI7bihcImFkYXB0ZXIuanMgc2hpbW1pbmcgZmlyZWZveC5cIiksci5icm93c2VyU2hpbT1DVCxobCh0LGkpLHBsKHQpLEhiKHQsaSksY0UodCxpKSxLYih0KSx6Yih0KSxZYih0KSxxYih0KSxKYih0KSxYYih0KSxRYih0KSxaYih0KSwkYih0KSxkbCh0KSx1RSh0KSxsbCh0LGkpLHVsKHQpO2JyZWFrO2Nhc2VcInNhZmFyaVwiOmlmKCFJVHx8IWUuc2hpbVNhZmFyaSlyZXR1cm4gbihcIlNhZmFyaSBzaGltIGlzIG5vdCBpbmNsdWRlZCBpbiB0aGlzIGFkYXB0ZXIgcmVsZWFzZS5cIikscjtuKFwiYWRhcHRlci5qcyBzaGltbWluZyBzYWZhcmkuXCIpLHIuYnJvd3NlclNoaW09SVQsaGwodCxpKSxwbCh0KSxvdyh0KSxhdyh0KSxudyh0KSx0dyh0KSxldyh0KSxzdyh0KSxpdyh0KSxjdyh0KSxkbCh0KSxsRSh0KSxsbCh0LGkpLHVsKHQpLGhFKHQsaSk7YnJlYWs7ZGVmYXVsdDpuKFwiVW5zdXBwb3J0ZWQgYnJvd3NlciFcIik7fX0pKHt3aW5kb3c6dHlwZW9mIHdpbmRvdz5cInVcIj92b2lkIDA6d2luZG93fSk7dmFyIGEyPWJpKFwiQXJyYXlcIikua2V5cyxjMj1FcixkMj1KZSxsMj1obix1Mj1hMiwkaD1BcnJheS5wcm90b3R5cGUsaDI9e0RPTVRva2VuTGlzdDohMCxOb2RlTGlzdDohMH0scDI9ZnVuY3Rpb24odCl7dmFyIGU9dC5rZXlzO3JldHVybiB0PT09JGh8fGwyKCRoLHQpJiZlPT09JGgua2V5c3x8ZDIoaDIsYzIodCkpP3UyOmV9LHhuPWFlKHAyKSxBVD1oYSxfMj1UeXBlRXJyb3IsRTI9T3UsbTI9QWksZjI9X28sQnU9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPUUyKGUpO2kgaW4gdD9tMi5mKHQsaSxmMigwLG4pKTp0W2ldPW47fSxiVD1PbSxnMj1McixUMj1CdSxTMj1BcnJheSxSMj1NYXRoLm1heCx6bT1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpPWcyKHQpLHI9YlQoZSxpKSxvPWJUKG49PT12b2lkIDA/aTpuLGkpLHM9UzIoUjIoby1yLDApKSxhPTA7cjxvO3IrKyxhKyspVDIocyxhLHRbcl0pO3JldHVybiBzLmxlbmd0aD1hLHN9LHdUPXptLEMyPU1hdGguZmxvb3IscEU9ZnVuY3Rpb24odCxlKXt2YXIgbj10Lmxlbmd0aCxpPUMyKG4vMik7cmV0dXJuIG48OD9JMih0LGUpOnYyKHQscEUod1QodCwwLGkpLGUpLHBFKHdUKHQsaSksZSksZSl9LEkyPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuLGkscj10Lmxlbmd0aCxvPTE7bzxyOyl7Zm9yKGk9byxuPXRbb107aSYmZSh0W2ktMV0sbik+MDspdFtpXT10Wy0taV07aSE9PW8rKyYmKHRbaV09bik7fXJldHVybiB0fSx2Mj1mdW5jdGlvbih0LGUsbixpKXtmb3IodmFyIHI9ZS5sZW5ndGgsbz1uLmxlbmd0aCxzPTAsYT0wO3M8cnx8YTxvOyl0W3MrYV09czxyJiZhPG8/aShlW3NdLG5bYV0pPD0wP2VbcysrXTpuW2ErK106czxyP2VbcysrXTpuW2ErK107cmV0dXJuIHR9LGh3PXBFLE9UPSRvLm1hdGNoKC9maXJlZm94XFwvKFxcZCspL2kpLHkyPSEhT1QmJitPVFsxXSxBMj0vTVNJRXxUcmlkZW50Ly50ZXN0KCRvKSxOVD0kby5tYXRjaCgvQXBwbGVXZWJLaXRcXC8oXFxkKylcXC4vKSxiMj0hIU5UJiYrTlRbMV0sdzI9eHQscHc9bWUsTzI9eWksTjI9X3IsRFQ9THIsRDI9ZnVuY3Rpb24odCxlKXtpZighZGVsZXRlIHRbZV0pdGhyb3cgXzIoXCJDYW5ub3QgZGVsZXRlIHByb3BlcnR5IFwiK0FUKGUpK1wiIG9mIFwiK0FUKHQpKX0sUFQ9b2ksSm09U2UsUDI9aHcsazI9TnUsa1Q9eTIsTDI9QTIsTFQ9em8sTVQ9YjIsWnI9W10sVVQ9cHcoWnIuc29ydCksTTI9cHcoWnIucHVzaCksVTI9Sm0oZnVuY3Rpb24oKXtaci5zb3J0KHZvaWQgMCk7fSkseDI9Sm0oZnVuY3Rpb24oKXtaci5zb3J0KG51bGwpO30pLFYyPWsyKFwic29ydFwiKSx4VD0hSm0oZnVuY3Rpb24oKXtpZihMVClyZXR1cm4gTFQ8NzA7aWYoIShrVCYma1Q+Mykpe2lmKEwyKXJldHVybiAhMDtpZihNVClyZXR1cm4gTVQ8NjAzO3ZhciB0LGUsbixpLHI9XCJcIjtmb3IodD02NTt0PDc2O3QrKyl7c3dpdGNoKGU9U3RyaW5nLmZyb21DaGFyQ29kZSh0KSx0KXtjYXNlIDY2OmNhc2UgNjk6Y2FzZSA3MDpjYXNlIDcyOm49MzticmVhaztjYXNlIDY4OmNhc2UgNzE6bj00O2JyZWFrO2RlZmF1bHQ6bj0yO31mb3IoaT0wO2k8NDc7aSsrKVpyLnB1c2goe2s6ZStpLHY6bn0pO31mb3IoWnIuc29ydChmdW5jdGlvbihvLHMpe3JldHVybiBzLnYtby52fSksaT0wO2k8WnIubGVuZ3RoO2krKyllPVpyW2ldLmsuY2hhckF0KDApLHIuY2hhckF0KHIubGVuZ3RoLTEpIT09ZSYmKHIrPWUpO3JldHVybiByIT09XCJER0JFRkhBQ0lKS1wifX0pO3cyKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDpVMnx8IXgyfHwhVjJ8fCF4VH0se3NvcnQ6ZnVuY3Rpb24odCl7dCE9PXZvaWQgMCYmTzIodCk7dmFyIGU9TjIodGhpcyk7aWYoeFQpcmV0dXJuIHQ9PT12b2lkIDA/VVQoZSk6VVQoZSx0KTt2YXIgbixpLHI9W10sbz1EVChlKTtmb3IoaT0wO2k8bztpKyspaSBpbiBlJiZNMihyLGVbaV0pO2ZvcihQMihyLGZ1bmN0aW9uKHMpe3JldHVybiBmdW5jdGlvbihhLGMpe3JldHVybiBjPT09dm9pZCAwPy0xOmE9PT12b2lkIDA/MTpzIT09dm9pZCAwPytzKGEsYyl8fDA6UFQoYSk+UFQoYyk/MTotMX19KHQpKSxuPURUKHIpLGk9MDtpPG47KWVbaV09cltpKytdO2Zvcig7aTxvOylEMihlLGkrKyk7cmV0dXJuIGV9fSk7dmFyIHRwLGVwLEYyPWJpKFwiQXJyYXlcIikuc29ydCxCMj1obixqMj1GMixucD1BcnJheS5wcm90b3R5cGUsRzI9ZnVuY3Rpb24odCl7dmFyIGU9dC5zb3J0O3JldHVybiB0PT09bnB8fEIyKG5wLHQpJiZlPT09bnAuc29ydD9qMjplfSxlZD1hZShHMiksX0U9e2V4cG9ydHM6e319O3RwPV9FLGVwPV9FLmV4cG9ydHMsZnVuY3Rpb24odCxlKXt2YXIgbj1cImZ1bmN0aW9uXCIsaT1cInVuZGVmaW5lZFwiLHI9XCJvYmplY3RcIixvPVwic3RyaW5nXCIscz1cIm1ham9yXCIsYT1cIm1vZGVsXCIsYz1cIm5hbWVcIixkPVwidHlwZVwiLGw9XCJ2ZW5kb3JcIix1PVwidmVyc2lvblwiLGg9XCJhcmNoaXRlY3R1cmVcIixwPVwiY29uc29sZVwiLGc9XCJtb2JpbGVcIixFPVwidGFibGV0XCIsZj1cInNtYXJ0dHZcIixTPVwid2VhcmFibGVcIixDPVwiZW1iZWRkZWRcIixBPVwiQW1hem9uXCIsYj1cIkFwcGxlXCIsdz1cIkFTVVNcIixEPVwiQmxhY2tCZXJyeVwiLGs9XCJCcm93c2VyXCIsQj1cIkNocm9tZVwiLFY9XCJGaXJlZm94XCIsej1cIkdvb2dsZVwiLGx0PVwiSHVhd2VpXCIsdnQ9XCJMR1wiLER0PVwiTWljcm9zb2Z0XCIsY2U9XCJNb3Rvcm9sYVwiLFd0PVwiT3BlcmFcIixzaT1cIlNhbXN1bmdcIixMPVwiU2hhcnBcIixGPVwiU29ueVwiLFk9XCJYaWFvbWlcIixNPVwiWmVicmFcIixtPVwiRmFjZWJvb2tcIixJPVwiQ2hyb21pdW0gT1NcIix5PVwiTWFjIE9TXCIseD1mdW5jdGlvbihlZSl7Zm9yKHZhciBfZT17fSxCdD0wO0J0PGVlLmxlbmd0aDtCdCsrKV9lW2VlW0J0XS50b1VwcGVyQ2FzZSgpXT1lZVtCdF07cmV0dXJuIF9lfSxydD1mdW5jdGlvbihlZSxfZSl7cmV0dXJuIHR5cGVvZiBlZT09PW8mJmJ0KF9lKS5pbmRleE9mKGJ0KGVlKSkhPT0tMX0sYnQ9ZnVuY3Rpb24oZWUpe3JldHVybiBlZS50b0xvd2VyQ2FzZSgpfSxSZT1mdW5jdGlvbihlZSxfZSl7aWYodHlwZW9mIGVlPT09bylyZXR1cm4gZWU9ZWUucmVwbGFjZSgvXlxcc1xccyovLFwiXCIpLHR5cGVvZiBfZT09PWk/ZWU6ZWUuc3Vic3RyaW5nKDAsMzUwKX0sZm49ZnVuY3Rpb24oZWUsX2Upe2Zvcih2YXIgQnQsdm4sS2ksbmUsZ3QsZ24sVXI9MDtVcjxfZS5sZW5ndGgmJiFndDspe3ZhciBPaT1fZVtVcl0sSmY9X2VbVXIrMV07Zm9yKEJ0PXZuPTA7QnQ8T2kubGVuZ3RoJiYhZ3QmJk9pW0J0XTspaWYoZ3Q9T2lbQnQrK10uZXhlYyhlZSkpZm9yKEtpPTA7S2k8SmYubGVuZ3RoO0tpKyspZ249Z3RbKyt2bl0sdHlwZW9mKG5lPUpmW0tpXSk9PT1yJiZuZS5sZW5ndGg+MD9uZS5sZW5ndGg9PT0yP3R5cGVvZiBuZVsxXT09bj90aGlzW25lWzBdXT1uZVsxXS5jYWxsKHRoaXMsZ24pOnRoaXNbbmVbMF1dPW5lWzFdOm5lLmxlbmd0aD09PTM/dHlwZW9mIG5lWzFdIT09bnx8bmVbMV0uZXhlYyYmbmVbMV0udGVzdD90aGlzW25lWzBdXT1nbj9nbi5yZXBsYWNlKG5lWzFdLG5lWzJdKTplOnRoaXNbbmVbMF1dPWduP25lWzFdLmNhbGwodGhpcyxnbixuZVsyXSk6ZTpuZS5sZW5ndGg9PT00JiYodGhpc1tuZVswXV09Z24/bmVbM10uY2FsbCh0aGlzLGduLnJlcGxhY2UobmVbMV0sbmVbMl0pKTplKTp0aGlzW25lXT1nbnx8ZTtVcis9Mjt9fSxncj1mdW5jdGlvbihlZSxfZSl7Zm9yKHZhciBCdCBpbiBfZSlpZih0eXBlb2YgX2VbQnRdPT09ciYmX2VbQnRdLmxlbmd0aD4wKXtmb3IodmFyIHZuPTA7dm48X2VbQnRdLmxlbmd0aDt2bisrKWlmKHJ0KF9lW0J0XVt2bl0sZWUpKXJldHVybiBCdD09PVwiP1wiP2U6QnR9ZWxzZSBpZihydChfZVtCdF0sZWUpKXJldHVybiBCdD09PVwiP1wiP2U6QnQ7cmV0dXJuIGVlfSxzZD17TUU6XCI0LjkwXCIsXCJOVCAzLjExXCI6XCJOVDMuNTFcIixcIk5UIDQuMFwiOlwiTlQ0LjBcIiwyZTM6XCJOVCA1LjBcIixYUDpbXCJOVCA1LjFcIixcIk5UIDUuMlwiXSxWaXN0YTpcIk5UIDYuMFwiLDc6XCJOVCA2LjFcIiw4OlwiTlQgNi4yXCIsOC4xOlwiTlQgNi4zXCIsMTA6W1wiTlQgNi40XCIsXCJOVCAxMC4wXCJdLFJUOlwiQVJNXCJ9LGFkPXticm93c2VyOltbL1xcYig/OmNybW98Y3Jpb3MpXFwvKFtcXHdcXC5dKykvaV0sW3UsW2MsXCJDaHJvbWVcIl1dLFsvZWRnKD86ZXxpb3N8YSk/XFwvKFtcXHdcXC5dKykvaV0sW3UsW2MsXCJFZGdlXCJdXSxbLyhvcGVyYSBtaW5pKVxcLyhbLVxcd1xcLl0rKS9pLC8ob3BlcmEgW21vYmlsZXRhYl17Myw2fSlcXGIuK3ZlcnNpb25cXC8oWy1cXHdcXC5dKykvaSwvKG9wZXJhKSg/Oi4rdmVyc2lvblxcL3xbXFwvIF0rKShbXFx3XFwuXSspL2ldLFtjLHVdLFsvb3Bpb3NbXFwvIF0rKFtcXHdcXC5dKykvaV0sW3UsW2MsV3QrXCIgTWluaVwiXV0sWy9cXGJvcHJcXC8oW1xcd1xcLl0rKS9pXSxbdSxbYyxXdF1dLFsvKGtpbmRsZSlcXC8oW1xcd1xcLl0rKS9pLC8obHVuYXNjYXBlfG1heHRob258bmV0ZnJvbnR8amFzbWluZXxibGF6ZXIpW1xcLyBdPyhbXFx3XFwuXSopL2ksLyhhdmFudCB8aWVtb2JpbGV8c2xpbSkoPzpicm93c2VyKT9bXFwvIF0/KFtcXHdcXC5dKikvaSwvKGJhP2lkdWJyb3dzZXIpW1xcLyBdPyhbXFx3XFwuXSspL2ksLyg/Om1zfFxcKCkoaWUpIChbXFx3XFwuXSspL2ksLyhmbG9ja3xyb2NrbWVsdHxtaWRvcml8ZXBpcGhhbnl8c2lsa3xza3lmaXJlfG92aWJyb3dzZXJ8Ym9sdHxpcm9ufHZpdmFsZGl8aXJpZGl1bXxwaGFudG9tanN8Ym93c2VyfHF1YXJrfHF1cHppbGxhfGZhbGtvbnxyZWtvbnF8cHVmZmlufGJyYXZlfHdoYWxlKD8hLituYXZlcil8cXFicm93c2VybGl0ZXxxcXxkdWNrZHVja2dvKVxcLyhbLVxcd1xcLl0rKS9pLC8od2VpYm8pX18oW1xcZFxcLl0rKS9pXSxbYyx1XSxbLyg/OlxcYnVjPyA/YnJvd3NlcnwoPzpqdWMuKyl1Y3dlYilbXFwvIF0/KFtcXHdcXC5dKykvaV0sW3UsW2MsXCJVQ1wiK2tdXSxbL21pY3JvbS4rXFxicWJjb3JlXFwvKFtcXHdcXC5dKykvaSwvXFxicWJjb3JlXFwvKFtcXHdcXC5dKykuK21pY3JvbS9pXSxbdSxbYyxcIldlQ2hhdChXaW4pIERlc2t0b3BcIl1dLFsvbWljcm9tZXNzZW5nZXJcXC8oW1xcd1xcLl0rKS9pXSxbdSxbYyxcIldlQ2hhdFwiXV0sWy9rb25xdWVyb3JcXC8oW1xcd1xcLl0rKS9pXSxbdSxbYyxcIktvbnF1ZXJvclwiXV0sWy90cmlkZW50Litydls6IF0oW1xcd1xcLl17MSw5fSlcXGIuK2xpa2UgZ2Vja28vaV0sW3UsW2MsXCJJRVwiXV0sWy95YWJyb3dzZXJcXC8oW1xcd1xcLl0rKS9pXSxbdSxbYyxcIllhbmRleFwiXV0sWy8oYXZhc3R8YXZnKVxcLyhbXFx3XFwuXSspL2ldLFtbYywvKC4rKS8sXCIkMSBTZWN1cmUgXCIra10sdV0sWy9cXGJmb2N1c1xcLyhbXFx3XFwuXSspL2ldLFt1LFtjLFYrXCIgRm9jdXNcIl1dLFsvXFxib3B0XFwvKFtcXHdcXC5dKykvaV0sW3UsW2MsV3QrXCIgVG91Y2hcIl1dLFsvY29jX2NvY1xcdytcXC8oW1xcd1xcLl0rKS9pXSxbdSxbYyxcIkNvYyBDb2NcIl1dLFsvZG9sZmluXFwvKFtcXHdcXC5dKykvaV0sW3UsW2MsXCJEb2xwaGluXCJdXSxbL2NvYXN0XFwvKFtcXHdcXC5dKykvaV0sW3UsW2MsV3QrXCIgQ29hc3RcIl1dLFsvbWl1aWJyb3dzZXJcXC8oW1xcd1xcLl0rKS9pXSxbdSxbYyxcIk1JVUkgXCIra11dLFsvZnhpb3NcXC8oWy1cXHdcXC5dKykvaV0sW3UsW2MsVl1dLFsvXFxicWlodXwocWk/aG8/bz98MzYwKWJyb3dzZXIvaV0sW1tjLFwiMzYwIFwiK2tdXSxbLyhvY3VsdXN8c2Ftc3VuZ3xzYWlsZmlzaHxodWF3ZWkpYnJvd3NlclxcLyhbXFx3XFwuXSspL2ldLFtbYywvKC4rKS8sXCIkMSBcIitrXSx1XSxbLyhjb21vZG9fZHJhZ29uKVxcLyhbXFx3XFwuXSspL2ldLFtbYywvXy9nLFwiIFwiXSx1XSxbLyhlbGVjdHJvbilcXC8oW1xcd1xcLl0rKSBzYWZhcmkvaSwvKHRlc2xhKSg/OiBxdGNhcmJyb3dzZXJ8XFwvKDIwXFxkXFxkXFwuWy1cXHdcXC5dKykpL2ksL20/KHFxYnJvd3NlcnxiYWlkdWJveGFwcHwyMzQ1RXhwbG9yZXIpW1xcLyBdPyhbXFx3XFwuXSspL2ldLFtjLHVdLFsvKG1ldGFzcilbXFwvIF0/KFtcXHdcXC5dKykvaSwvKGxiYnJvd3NlcikvaSwvXFxbKGxpbmtlZGluKWFwcFxcXS9pXSxbY10sWy8oKD86ZmJhblxcL2ZiaW9zfGZiX2lhYlxcL2ZiNGEpKD8hLitmYmF2KXw7ZmJhdlxcLyhbXFx3XFwuXSspOykvaV0sW1tjLG1dLHVdLFsvKGtha2FvKD86dGFsa3xzdG9yeSkpW1xcLyBdKFtcXHdcXC5dKykvaSwvKG5hdmVyKVxcKC4qPyhcXGQrXFwuW1xcd1xcLl0rKS4qXFwpL2ksL3NhZmFyaSAobGluZSlcXC8oW1xcd1xcLl0rKS9pLC9cXGIobGluZSlcXC8oW1xcd1xcLl0rKVxcL2lhYi9pLC8oY2hyb21pdW18aW5zdGFncmFtKVtcXC8gXShbLVxcd1xcLl0rKS9pXSxbYyx1XSxbL1xcYmdzYVxcLyhbXFx3XFwuXSspIC4qc2FmYXJpXFwvL2ldLFt1LFtjLFwiR1NBXCJdXSxbL2hlYWRsZXNzY2hyb21lKD86XFwvKFtcXHdcXC5dKyl8ICkvaV0sW3UsW2MsQitcIiBIZWFkbGVzc1wiXV0sWy8gd3ZcXCkuKyhjaHJvbWUpXFwvKFtcXHdcXC5dKykvaV0sW1tjLEIrXCIgV2ViVmlld1wiXSx1XSxbL2Ryb2lkLisgdmVyc2lvblxcLyhbXFx3XFwuXSspXFxiLisoPzptb2JpbGUgc2FmYXJpfHNhZmFyaSkvaV0sW3UsW2MsXCJBbmRyb2lkIFwiK2tdXSxbLyhjaHJvbWV8b21uaXdlYnxhcm9yYXxbdGl6ZW5va2FdezV9ID9icm93c2VyKVxcL3Y/KFtcXHdcXC5dKykvaV0sW2MsdV0sWy92ZXJzaW9uXFwvKFtcXHdcXC5cXCxdKykgLiptb2JpbGVcXC9cXHcrIChzYWZhcmkpL2ldLFt1LFtjLFwiTW9iaWxlIFNhZmFyaVwiXV0sWy92ZXJzaW9uXFwvKFtcXHcoXFwufFxcLCldKykgLioobW9iaWxlID9zYWZhcml8c2FmYXJpKS9pXSxbdSxjXSxbL3dlYmtpdC4rPyhtb2JpbGUgP3NhZmFyaXxzYWZhcmkpKFxcL1tcXHdcXC5dKykvaV0sW2MsW3UsZ3Ise1wiMS4wXCI6XCIvOFwiLDEuMjpcIi8xXCIsMS4zOlwiLzNcIixcIjIuMFwiOlwiLzQxMlwiLFwiMi4wLjJcIjpcIi80MTZcIixcIjIuMC4zXCI6XCIvNDE3XCIsXCIyLjAuNFwiOlwiLzQxOVwiLFwiP1wiOlwiL1wifV1dLFsvKHdlYmtpdHxraHRtbClcXC8oW1xcd1xcLl0rKS9pXSxbYyx1XSxbLyhuYXZpZ2F0b3J8bmV0c2NhcGVcXGQ/KVxcLyhbLVxcd1xcLl0rKS9pXSxbW2MsXCJOZXRzY2FwZVwiXSx1XSxbL21vYmlsZSB2cjsgcnY6KFtcXHdcXC5dKylcXCkuK2ZpcmVmb3gvaV0sW3UsW2MsVitcIiBSZWFsaXR5XCJdXSxbL2VraW9oZi4rKGZsb3cpXFwvKFtcXHdcXC5dKykvaSwvKHN3aWZ0Zm94KS9pLC8oaWNlZHJhZ29ufGljZXdlYXNlbHxjYW1pbm98Y2hpbWVyYXxmZW5uZWN8bWFlbW8gYnJvd3NlcnxtaW5pbW98Y29ua2Vyb3J8a2xhcilbXFwvIF0/KFtcXHdcXC5cXCtdKykvaSwvKHNlYW1vbmtleXxrLW1lbGVvbnxpY2VjYXR8aWNlYXBlfGZpcmViaXJkfHBob2VuaXh8cGFsZW1vb258YmFzaWxpc2t8d2F0ZXJmb3gpXFwvKFstXFx3XFwuXSspJC9pLC8oZmlyZWZveClcXC8oW1xcd1xcLl0rKS9pLC8obW96aWxsYSlcXC8oW1xcd1xcLl0rKSAuK3J2XFw6LitnZWNrb1xcL1xcZCsvaSwvKHBvbGFyaXN8bHlueHxkaWxsb3xpY2FifGRvcmlzfGFtYXlhfHczbXxuZXRzdXJmfHNsZWlwbmlyfG9iaWdvfG1vc2FpY3woPzpnb3xpY2V8dXApW1xcLiBdP2Jyb3dzZXIpWy1cXC8gXT92PyhbXFx3XFwuXSspL2ksLyhsaW5rcykgXFwoKFtcXHdcXC5dKykvaSwvcGFuYXNvbmljOyh2aWVyYSkvaV0sW2MsdV0sWy8oY29iYWx0KVxcLyhbXFx3XFwuXSspL2ldLFtjLFt1LC9tYXN0ZXIufGx0cy4vLFwiXCJdXV0sY3B1OltbLyg/OihhbWR8eCg/Oig/Ojg2fDY0KVstX10pP3x3b3d8d2luKTY0KVs7XFwpXS9pXSxbW2gsXCJhbWQ2NFwiXV0sWy8oaWEzMig/PTspKS9pXSxbW2gsYnRdXSxbLygoPzppWzM0Nl18eCk4NilbO1xcKV0vaV0sW1toLFwiaWEzMlwiXV0sWy9cXGIoYWFyY2g2NHxhcm0odj84ZT9sP3xfPzY0KSlcXGIvaV0sW1toLFwiYXJtNjRcIl1dLFsvXFxiKGFybSg/OnZbNjddKT9odD9uP1tmbF1wPylcXGIvaV0sW1toLFwiYXJtaGZcIl1dLFsvd2luZG93cyAoY2V8bW9iaWxlKTsgcHBjOy9pXSxbW2gsXCJhcm1cIl1dLFsvKCg/OnBwY3xwb3dlcnBjKSg/OjY0KT8pKD86IG1hY3w7fFxcKSkvaV0sW1toLC9vd2VyLyxcIlwiLGJ0XV0sWy8oc3VuNFxcdylbO1xcKV0vaV0sW1toLFwic3BhcmNcIl1dLFsvKCg/OmF2cjMyfGlhNjQoPz07KSl8NjhrKD89XFwpKXxcXGJhcm0oPz12KD86WzEtN118WzUtN10xKWw/fDt8ZWFiaSl8KD89YXRtZWwgKWF2cnwoPzppcml4fG1pcHN8c3BhcmMpKD86NjQpP1xcYnxwYS1yaXNjKS9pXSxbW2gsYnRdXV0sZGV2aWNlOltbL1xcYihzY2gtaVs4OV0wXFxkfHNody1tMzgwc3xzbS1bcHR4XVxcd3syLDR9fGd0LVtwbl1cXGR7Miw0fXxzZ2gtdDhbNTZdOXxuZXh1cyAxMCkvaV0sW2EsW2wsc2ldLFtkLEVdXSxbL1xcYigoPzpzW2NncF1ofGd0fHNtKS1cXHcrfHNjW2ctXT9bXFxkXSthP3xnYWxheHkgbmV4dXMpL2ksL3NhbXN1bmdbLSBdKFstXFx3XSspL2ksL3NlYy0oc2doXFx3KykvaV0sW2EsW2wsc2ldLFtkLGddXSxbL1xcKChpcCg/OmhvbmV8b2QpW1xcdyBdKik7L2ldLFthLFtsLGJdLFtkLGddXSxbL1xcKChpcGFkKTtbLVxcd1xcKSw7IF0rYXBwbGUvaSwvYXBwbGVjb3JlbWVkaWFcXC9bXFx3XFwuXSsgXFwoKGlwYWQpL2ksL1xcYihpcGFkKVxcZFxcZD8sXFxkXFxkP1s7XFxdXS4raW9zL2ldLFthLFtsLGJdLFtkLEVdXSxbLyhtYWNpbnRvc2gpOy9pXSxbYSxbbCxiXV0sWy9cXGIoc2gtP1thbHR2el0/XFxkXFxkW2EtZWttXT8pL2ldLFthLFtsLExdLFtkLGddXSxbL1xcYigoPzphZ1tyc11bMjNdP3xiYWgyP3xzaHQ/fGJ0diktYT9bbHddXFxkezJ9KVxcYig/IS4rZFxcL3MpL2ldLFthLFtsLGx0XSxbZCxFXV0sWy8oPzpodWF3ZWl8aG9ub3IpKFstXFx3IF0rKVs7XFwpXS9pLC9cXGIobmV4dXMgNnB8XFx3ezIsNH1lPy1bYXR1XT9bbG5dW1xcZHhdWzAxMjM1OWNdW2Fkbl0/KVxcYig/IS4rZFxcL3MpL2ldLFthLFtsLGx0XSxbZCxnXV0sWy9cXGIocG9jb1tcXHcgXSspKD86IGJ1aXxcXCkpL2ksL1xcYjsgKFxcdyspIGJ1aWxkXFwvaG1cXDEvaSwvXFxiKGhtWy1fIF0/bm90ZT9bXyBdPyg/OlxcZFxcdyk/KSBidWkvaSwvXFxiKHJlZG1pW1xcLV8gXT8oPzpub3RlfGspP1tcXHdfIF0rKSg/OiBidWl8XFwpKS9pLC9cXGIobWlbLV8gXT8oPzphXFxkfG9uZXxvbmVbXyBdcGx1c3xub3RlIGx0ZXxtYXh8Y2MpP1tfIF0/KD86XFxkP1xcdz8pW18gXT8oPzpwbHVzfHNlfGxpdGUpPykoPzogYnVpfFxcKSkvaV0sW1thLC9fL2csXCIgXCJdLFtsLFldLFtkLGddXSxbL1xcYihtaVstXyBdPyg/OnBhZCkoPzpbXFx3XyBdKykpKD86IGJ1aXxcXCkpL2ldLFtbYSwvXy9nLFwiIFwiXSxbbCxZXSxbZCxFXV0sWy87IChcXHcrKSBidWkuKyBvcHBvL2ksL1xcYihjcGhbMTJdXFxkezN9fHAoPzphZnxjW2FsXXxkXFx3fGVbYXJdKVttdF1cXGQwfHg5MDA3fGExMDFvcClcXGIvaV0sW2EsW2wsXCJPUFBPXCJdLFtkLGddXSxbL3Zpdm8gKFxcdyspKD86IGJ1aXxcXCkpL2ksL1xcYih2WzEyXVxcZHszfVxcdz9bYXRdKSg/OiBidWl8OykvaV0sW2EsW2wsXCJWaXZvXCJdLFtkLGddXSxbL1xcYihybXhbMTJdXFxkezN9KSg/OiBidWl8O3xcXCkpL2ldLFthLFtsLFwiUmVhbG1lXCJdLFtkLGddXSxbL1xcYihtaWxlc3RvbmV8ZHJvaWQoPzpbMi00eF18ICg/OmJpb25pY3x4Mnxwcm98cmF6cikpPzo/KCA0Zyk/KVxcYltcXHcgXStidWlsZFxcLy9pLC9cXGJtb3QoPzpvcm9sYSk/Wy0gXShcXHcqKS9pLC8oKD86bW90b1tcXHdcXChcXCkgXSt8eHRcXGR7Myw0fXxuZXh1cyA2KSg/PSBidWl8XFwpKSkvaV0sW2EsW2wsY2VdLFtkLGddXSxbL1xcYihtejYwXFxkfHhvb21bMiBdezAsMn0pIGJ1aWxkXFwvL2ldLFthLFtsLGNlXSxbZCxFXV0sWy8oKD89bGcpP1t2bF1rXFwtP1xcZHszfSkgYnVpfCAzXFwuWy1cXHc7IF17MTB9bGc/LShbMDZjdjldezMsNH0pL2ldLFthLFtsLHZ0XSxbZCxFXV0sWy8obG0oPzotP2YxMDBbbnZdP3wtW1xcd1xcLl0rKSg/PSBidWl8XFwpKXxuZXh1cyBbNDVdKS9pLC9cXGJsZ1stZTtcXC8gXSsoKD8hYnJvd3NlcnxuZXRjYXN0fGFuZHJvaWQgdHYpXFx3KykvaSwvXFxibGctPyhbXFxkXFx3XSspIGJ1aS9pXSxbYSxbbCx2dF0sW2QsZ11dLFsvKGlkZWF0YWJbLVxcdyBdKykvaSwvbGVub3ZvID8oc1s1Nl0wMDBbLVxcd10rfHRhYig/OltcXHcgXSspfHl0Wy1cXGRcXHddezZ9fHRiWy1cXGRcXHddezZ9KS9pXSxbYSxbbCxcIkxlbm92b1wiXSxbZCxFXV0sWy8oPzptYWVtb3xub2tpYSkuKihuOTAwfGx1bWlhIFxcZCspL2ksL25va2lhWy1fIF0/KFstXFx3XFwuXSopL2ldLFtbYSwvXy9nLFwiIFwiXSxbbCxcIk5va2lhXCJdLFtkLGddXSxbLyhwaXhlbCBjKVxcYi9pXSxbYSxbbCx6XSxbZCxFXV0sWy9kcm9pZC4rOyAocGl4ZWxbXFxkYXhsIF17MCw2fSkoPzogYnVpfFxcKSkvaV0sW2EsW2wsel0sW2QsZ11dLFsvZHJvaWQuKyAoYT9cXGRbMC0yXXsyfXNvfFtjLWddXFxkezR9fHNvWy1nbF1cXHcrfHhxLWFcXHdbNC03XVsxMl0pKD89IGJ1aXxcXCkuK2Nocm9tZVxcLyg/IVsxLTZdezAsMX1cXGRcXC4pKS9pXSxbYSxbbCxGXSxbZCxnXV0sWy9zb255IHRhYmxldCBbcHNdL2ksL1xcYig/OnNvbnkpP3NncFxcdysoPzogYnVpfFxcKSkvaV0sW1thLFwiWHBlcmlhIFRhYmxldFwiXSxbbCxGXSxbZCxFXV0sWy8gKGtiMjAwNXxpbjIwWzEyXTV8YmUyMFsxMl1bNTldKVxcYi9pLC8oPzpvbmUpPyg/OnBsdXMpPyAoYVxcZDBcXGRcXGQpKD86IGJ8XFwpKS9pXSxbYSxbbCxcIk9uZVBsdXNcIl0sW2QsZ11dLFsvKGFsZXhhKXdlYm0vaSwvKGtmW2Etel17Mn13aSkoIGJ1aXxcXCkpL2ksLyhrZlthLXpdKykoIGJ1aXxcXCkpLitzaWxrXFwvL2ldLFthLFtsLEFdLFtkLEVdXSxbLygoPzpzZHxrZilbMDM0OWhpam9yc3R1d10rKSggYnVpfFxcKSkuK3NpbGtcXC8vaV0sW1thLC8oLispL2csXCJGaXJlIFBob25lICQxXCJdLFtsLEFdLFtkLGddXSxbLyhwbGF5Ym9vayk7Wy1cXHdcXCksOyBdKyhyaW0pL2ldLFthLGwsW2QsRV1dLFsvXFxiKCg/OmJiW2EtZl18c3RbaHZdKTEwMC1cXGQpL2ksL1xcKGJiMTA7IChcXHcrKS9pXSxbYSxbbCxEXSxbZCxnXV0sWy8oPzpcXGJ8YXN1c18pKHRyYW5zZm9bcHJpbWUgXXs0LDEwfSBcXHcrfGVlZXBjfHNsaWRlciBcXHcrfG5leHVzIDd8cGFkZm9uZXxwMDBbY2pdKS9pXSxbYSxbbCx3XSxbZCxFXV0sWy8gKHpbYmVzXTZbMDI3XVswMTJdW2ttXVtsc118emVuZm9uZSBcXGRcXHc/KVxcYi9pXSxbYSxbbCx3XSxbZCxnXV0sWy8obmV4dXMgOSkvaV0sW2EsW2wsXCJIVENcIl0sW2QsRV1dLFsvKGh0YylbLTtfIF17MSwyfShbXFx3IF0rKD89XFwpfCBidWkpfFxcdyspL2ksLyh6dGUpWy0gXShbXFx3IF0rPykoPzogYnVpfFxcL3xcXCkpL2ksLyhhbGNhdGVsfGdlZWtzcGhvbmV8bmV4aWFufHBhbmFzb25pYyg/ISg/Ojt8XFwuKSl8c29ueSg/IS1icmEpKVstXyBdPyhbLVxcd10qKS9pXSxbbCxbYSwvXy9nLFwiIFwiXSxbZCxnXV0sWy9kcm9pZC4rOyAoW2FiXVsxLTddLT9bMDE3OGFdXFxkXFxkPykvaV0sW2EsW2wsXCJBY2VyXCJdLFtkLEVdXSxbL2Ryb2lkLis7IChtWzEtNV0gbm90ZSkgYnVpL2ksL1xcYm16LShbLVxcd117Mix9KS9pXSxbYSxbbCxcIk1laXp1XCJdLFtkLGddXSxbLyhibGFja2JlcnJ5fGJlbnF8cGFsbSg/PVxcLSl8c29ueWVyaWNzc29ufGFjZXJ8YXN1c3xkZWxsfG1laXp1fG1vdG9yb2xhfHBvbHl0cm9uKVstXyBdPyhbLVxcd10qKS9pLC8oaHApIChbXFx3IF0rXFx3KS9pLC8oYXN1cyktPyhcXHcrKS9pLC8obWljcm9zb2Z0KTsgKGx1bWlhW1xcdyBdKykvaSwvKGxlbm92bylbLV8gXT8oWy1cXHddKykvaSwvKGpvbGxhKS9pLC8ob3BwbykgPyhbXFx3IF0rKSBidWkvaV0sW2wsYSxbZCxnXV0sWy8oa29ibylcXHMoZXJlYWRlcnx0b3VjaCkvaSwvKGFyY2hvcykgKGdhbWVwYWQyPykvaSwvKGhwKS4rKHRvdWNocGFkKD8hLit0YWJsZXQpfHRhYmxldCkvaSwvKGtpbmRsZSlcXC8oW1xcd1xcLl0rKS9pLC8obm9vaylbXFx3IF0rYnVpbGRcXC8oXFx3KykvaSwvKGRlbGwpIChzdHJlYVtrcHJcXGQgXSpbXFxka29dKS9pLC8obGVbLSBdK3BhbilbLSBdKyhcXHd7MSw5fSkgYnVpL2ksLyh0cmluaXR5KVstIF0qKHRcXGR7M30pIGJ1aS9pLC8oZ2lnYXNldClbLSBdKyhxXFx3ezEsOX0pIGJ1aS9pLC8odm9kYWZvbmUpIChbXFx3IF0rKSg/OlxcKXwgYnVpKS9pXSxbbCxhLFtkLEVdXSxbLyhzdXJmYWNlIGR1bykvaV0sW2EsW2wsRHRdLFtkLEVdXSxbL2Ryb2lkIFtcXGRcXC5dKzsgKGZwXFxkdT8pKD86IGJ8XFwpKS9pXSxbYSxbbCxcIkZhaXJwaG9uZVwiXSxbZCxnXV0sWy8odTMwNGFhKS9pXSxbYSxbbCxcIkFUJlRcIl0sW2QsZ11dLFsvXFxic2llLShcXHcqKS9pXSxbYSxbbCxcIlNpZW1lbnNcIl0sW2QsZ11dLFsvXFxiKHJjdFxcdyspIGIvaV0sW2EsW2wsXCJSQ0FcIl0sW2QsRV1dLFsvXFxiKHZlbnVlW1xcZCBdezIsN30pIGIvaV0sW2EsW2wsXCJEZWxsXCJdLFtkLEVdXSxbL1xcYihxKD86bXZ8dGEpXFx3KykgYi9pXSxbYSxbbCxcIlZlcml6b25cIl0sW2QsRV1dLFsvXFxiKD86YmFybmVzWyYgXStub2JsZSB8Ym5bcnRdKShbXFx3XFwrIF0qKSBiL2ldLFthLFtsLFwiQmFybmVzICYgTm9ibGVcIl0sW2QsRV1dLFsvXFxiKHRtXFxkezN9XFx3KykgYi9pXSxbYSxbbCxcIk51VmlzaW9uXCJdLFtkLEVdXSxbL1xcYihrODgpIGIvaV0sW2EsW2wsXCJaVEVcIl0sW2QsRV1dLFsvXFxiKG54XFxkezN9aikgYi9pXSxbYSxbbCxcIlpURVwiXSxbZCxnXV0sWy9cXGIoZ2VuXFxkezN9KSBiLis0OWgvaV0sW2EsW2wsXCJTd2lzc1wiXSxbZCxnXV0sWy9cXGIoenVyXFxkezN9KSBiL2ldLFthLFtsLFwiU3dpc3NcIl0sW2QsRV1dLFsvXFxiKCh6ZWtpKT90Yi4qXFxiKSBiL2ldLFthLFtsLFwiWmVraVwiXSxbZCxFXV0sWy9cXGIoW3lyXVxcZHsyfSkgYi9pLC9cXGIoZHJhZ29uWy0gXSt0b3VjaCB8ZHQpKFxcd3s1fSkgYi9pXSxbW2wsXCJEcmFnb24gVG91Y2hcIl0sYSxbZCxFXV0sWy9cXGIobnMtP1xcd3swLDl9KSBiL2ldLFthLFtsLFwiSW5zaWduaWFcIl0sW2QsRV1dLFsvXFxiKChueGF8bmV4dCktP1xcd3swLDl9KSBiL2ldLFthLFtsLFwiTmV4dEJvb2tcIl0sW2QsRV1dLFsvXFxiKHh0cmVtZVxcXyk/KHYoMVswNDVdfDJbMDE1XXxbMzQ2OV0wfDdbMDVdKSkgYi9pXSxbW2wsXCJWb2ljZVwiXSxhLFtkLGddXSxbL1xcYihsdnRlbFxcLSk/KHYxWzEyXSkgYi9pXSxbW2wsXCJMdlRlbFwiXSxhLFtkLGddXSxbL1xcYihwaC0xKSAvaV0sW2EsW2wsXCJFc3NlbnRpYWxcIl0sW2QsZ11dLFsvXFxiKHYoMTAwbWR8NzAwbmF8NzAxMXw5MTdnKS4qXFxiKSBiL2ldLFthLFtsLFwiRW52aXplblwiXSxbZCxFXV0sWy9cXGIodHJpb1stXFx3XFwuIF0rKSBiL2ldLFthLFtsLFwiTWFjaFNwZWVkXCJdLFtkLEVdXSxbL1xcYnR1XygxNDkxKSBiL2ldLFthLFtsLFwiUm90b3JcIl0sW2QsRV1dLFsvKHNoaWVsZFtcXHcgXSspIGIvaV0sW2EsW2wsXCJOdmlkaWFcIl0sW2QsRV1dLFsvKHNwcmludCkgKFxcdyspL2ldLFtsLGEsW2QsZ11dLFsvKGtpblxcLltvbmV0d117M30pL2ldLFtbYSwvXFwuL2csXCIgXCJdLFtsLER0XSxbZCxnXV0sWy9kcm9pZC4rOyAoY2M2NjY2P3xldDVbMTZdfG1jWzIzOV1bMjNdeD98dmM4WzAzXXg/KVxcKS9pXSxbYSxbbCxNXSxbZCxFXV0sWy9kcm9pZC4rOyAoZWMzMHxwczIwfHRjWzItOF1cXGRba3hdKVxcKS9pXSxbYSxbbCxNXSxbZCxnXV0sWy9zbWFydC10di4rKHNhbXN1bmcpL2ldLFtsLFtkLGZdXSxbL2hiYnR2LittYXBsZTsoXFxkKykvaV0sW1thLC9eLyxcIlNtYXJ0VFZcIl0sW2wsc2ldLFtkLGZdXSxbLyhudXg7IG5ldGNhc3QuK3NtYXJ0dHZ8bGcgKG5ldGNhc3RcXC50di0yMDFcXGR8YW5kcm9pZCB0dikpL2ldLFtbbCx2dF0sW2QsZl1dLFsvKGFwcGxlKSA/dHYvaV0sW2wsW2EsYitcIiBUVlwiXSxbZCxmXV0sWy9jcmtleS9pXSxbW2EsQitcImNhc3RcIl0sW2wsel0sW2QsZl1dLFsvZHJvaWQuK2FmdChcXHcpKCBidWl8XFwpKS9pXSxbYSxbbCxBXSxbZCxmXV0sWy9cXChkdHZbXFwpO10uKyhhcXVvcykvaSwvKGFxdW9zLXR2W1xcdyBdKylcXCkvaV0sW2EsW2wsTF0sW2QsZl1dLFsvKGJyYXZpYVtcXHcgXSspKCBidWl8XFwpKS9pXSxbYSxbbCxGXSxbZCxmXV0sWy8obWl0di1cXHd7NX0pIGJ1aS9pXSxbYSxbbCxZXSxbZCxmXV0sWy9IYmJ0di4qKHRlY2huaXNhdCkgKC4qKTsvaV0sW2wsYSxbZCxmXV0sWy9cXGIocm9rdSlbXFxkeF0qW1xcKVxcL10oKD86ZHZwLSk/W1xcZFxcLl0qKS9pLC9oYmJ0dlxcL1xcZCtcXC5cXGQrXFwuXFxkKyArXFwoW1xcd1xcKyBdKjsgKihbXFx3XFxkXVteO10qKTsoW147XSopL2ldLFtbbCxSZV0sW2EsUmVdLFtkLGZdXSxbL1xcYihhbmRyb2lkIHR2fHNtYXJ0Wy0gXT90dnxvcGVyYSB0dnx0djsgcnY6KVxcYi9pXSxbW2QsZl1dLFsvKG91eWEpL2ksLyhuaW50ZW5kbykgKFt3aWRzM3V0Y2hdKykvaV0sW2wsYSxbZCxwXV0sWy9kcm9pZC4rOyAoc2hpZWxkKSBidWkvaV0sW2EsW2wsXCJOdmlkaWFcIl0sW2QscF1dLFsvKHBsYXlzdGF0aW9uIFszNDVwb3J0YWJsZXZpXSspL2ldLFthLFtsLEZdLFtkLHBdXSxbL1xcYih4Ym94KD86IG9uZSk/KD8hOyB4Ym94KSlbXFwpOyBdL2ldLFthLFtsLER0XSxbZCxwXV0sWy8oKHBlYmJsZSkpYXBwL2ldLFtsLGEsW2QsU11dLFsvKHdhdGNoKSg/OiA/b3NbLFxcL118XFxkLFxcZFxcLylbXFxkXFwuXSsvaV0sW2EsW2wsYl0sW2QsU11dLFsvZHJvaWQuKzsgKGdsYXNzKSBcXGQvaV0sW2EsW2wsel0sW2QsU11dLFsvZHJvaWQuKzsgKHd0NjM/MHsyLDN9KVxcKS9pXSxbYSxbbCxNXSxbZCxTXV0sWy8ocXVlc3QoIDJ8IHBybyk/KS9pXSxbYSxbbCxtXSxbZCxTXV0sWy8odGVzbGEpKD86IHF0Y2FyYnJvd3NlcnxcXC9bLVxcd1xcLl0rKS9pXSxbbCxbZCxDXV0sWy9kcm9pZCAuKz87IChbXjtdKz8pKD86IGJ1aXxcXCkgYXBwbGV3KS4rPyBtb2JpbGUgc2FmYXJpL2ldLFthLFtkLGddXSxbL2Ryb2lkIC4rPzsgKFteO10rPykoPzogYnVpfFxcKSBhcHBsZXcpLis/KD8hIG1vYmlsZSkgc2FmYXJpL2ldLFthLFtkLEVdXSxbL1xcYigodGFibGV0fHRhYilbO1xcL118Zm9jdXNcXC9cXGQoPyEuK21vYmlsZSkpL2ldLFtbZCxFXV0sWy8ocGhvbmV8bW9iaWxlKD86WztcXC9dfCBbIFxcd1xcL1xcLl0qc2FmYXJpKXxwZGEoPz0uK3dpbmRvd3MgY2UpKS9pXSxbW2QsZ11dLFsvKGFuZHJvaWRbLVxcd1xcLiBdezAsOX0pOy4rYnVpbC9pXSxbYSxbbCxcIkdlbmVyaWNcIl1dXSxlbmdpbmU6W1svd2luZG93cy4rIGVkZ2VcXC8oW1xcd1xcLl0rKS9pXSxbdSxbYyxcIkVkZ2VIVE1MXCJdXSxbL3dlYmtpdFxcLzUzN1xcLjM2LitjaHJvbWVcXC8oPyEyNykoW1xcd1xcLl0rKS9pXSxbdSxbYyxcIkJsaW5rXCJdXSxbLyhwcmVzdG8pXFwvKFtcXHdcXC5dKykvaSwvKHdlYmtpdHx0cmlkZW50fG5ldGZyb250fG5ldHN1cmZ8YW1heWF8bHlueHx3M218Z29hbm5hKVxcLyhbXFx3XFwuXSspL2ksL2VraW9oKGZsb3cpXFwvKFtcXHdcXC5dKykvaSwvKGtodG1sfHRhc21hbnxsaW5rcylbXFwvIF1cXCg/KFtcXHdcXC5dKykvaSwvKGljYWIpW1xcLyBdKFsyM11cXC5bXFxkXFwuXSspL2ldLFtjLHVdLFsvcnZcXDooW1xcd1xcLl17MSw5fSlcXGIuKyhnZWNrbykvaV0sW3UsY11dLG9zOltbL21pY3Jvc29mdCAod2luZG93cykgKHZpc3RhfHhwKS9pXSxbYyx1XSxbLyh3aW5kb3dzKSBudCA2XFwuMjsgKGFybSkvaSwvKHdpbmRvd3MgKD86cGhvbmUoPzogb3MpP3xtb2JpbGUpKVtcXC8gXT8oW1xcZFxcLlxcdyBdKikvaSwvKHdpbmRvd3MpW1xcLyBdPyhbbnRjZVxcZFxcLiBdK1xcdykoPyEuK3hib3gpL2ldLFtjLFt1LGdyLHNkXV0sWy8od2luKD89M3w5fG4pfHdpbiA5eCApKFtudFxcZFxcLl0rKS9pXSxbW2MsXCJXaW5kb3dzXCJdLFt1LGdyLHNkXV0sWy9pcFtob25lYWRdezIsNH1cXGIoPzouKm9zIChbXFx3XSspIGxpa2UgbWFjfDsgb3BlcmEpL2ksL2NmbmV0d29ya1xcLy4rZGFyd2luL2ldLFtbdSwvXy9nLFwiLlwiXSxbYyxcImlPU1wiXV0sWy8obWFjIG9zIHgpID8oW1xcd1xcLiBdKikvaSwvKG1hY2ludG9zaHxtYWNfcG93ZXJwY1xcYikoPyEuK2hhaWt1KS9pXSxbW2MseV0sW3UsL18vZyxcIi5cIl1dLFsvZHJvaWQgKFtcXHdcXC5dKylcXGIuKyhhbmRyb2lkWy0gXXg4NnxoYXJtb255b3MpL2ldLFt1LGNdLFsvKGFuZHJvaWR8d2Vib3N8cW54fGJhZGF8cmltIHRhYmxldCBvc3xtYWVtb3xtZWVnb3xzYWlsZmlzaClbLVxcLyBdPyhbXFx3XFwuXSopL2ksLyhibGFja2JlcnJ5KVxcdypcXC8oW1xcd1xcLl0qKS9pLC8odGl6ZW58a2Fpb3MpW1xcLyBdKFtcXHdcXC5dKykvaSwvXFwoKHNlcmllczQwKTsvaV0sW2MsdV0sWy9cXChiYigxMCk7L2ldLFt1LFtjLERdXSxbLyg/OnN5bWJpYW4gP29zfHN5bWJvc3xzNjAoPz07KXxzZXJpZXM2MClbLVxcLyBdPyhbXFx3XFwuXSopL2ldLFt1LFtjLFwiU3ltYmlhblwiXV0sWy9tb3ppbGxhXFwvW1xcZFxcLl0rIFxcKCg/Om1vYmlsZXx0YWJsZXR8dHZ8bW9iaWxlOyBbXFx3IF0rKTsgcnY6LisgZ2Vja29cXC8oW1xcd1xcLl0rKS9pXSxbdSxbYyxWK1wiIE9TXCJdXSxbL3dlYjBzOy4rcnQodHYpL2ksL1xcYig/OmhwKT93b3MoPzpicm93c2VyKT9cXC8oW1xcd1xcLl0rKS9pXSxbdSxbYyxcIndlYk9TXCJdXSxbL3dhdGNoKD86ID9vc1ssXFwvXXxcXGQsXFxkXFwvKShbXFxkXFwuXSspL2ldLFt1LFtjLFwid2F0Y2hPU1wiXV0sWy9jcmtleVxcLyhbXFxkXFwuXSspL2ldLFt1LFtjLEIrXCJjYXN0XCJdXSxbLyhjcm9zKSBbXFx3XSsoPzpcXCl8IChbXFx3XFwuXSspXFxiKS9pXSxbW2MsSV0sdV0sWy9wYW5hc29uaWM7KHZpZXJhKS9pLC8obmV0cmFuZ2UpbW1oL2ksLyhuZXR0dilcXC8oXFxkK1xcLltcXHdcXC5dKykvaSwvKG5pbnRlbmRvfHBsYXlzdGF0aW9uKSAoW3dpZHMzNDVwb3J0YWJsZXZ1Y2hdKykvaSwvKHhib3gpOyAreGJveCAoW15cXCk7XSspL2ksL1xcYihqb2xpfHBhbG0pXFxiID8oPzpvcyk/XFwvPyhbXFx3XFwuXSopL2ksLyhtaW50KVtcXC9cXChcXCkgXT8oXFx3KikvaSwvKG1hZ2VpYXx2ZWN0b3JsaW51eClbOyBdL2ksLyhba3hsbl0/dWJ1bnR1fGRlYmlhbnxzdXNlfG9wZW5zdXNlfGdlbnRvb3xhcmNoKD89IGxpbnV4KXxzbGFja3dhcmV8ZmVkb3JhfG1hbmRyaXZhfGNlbnRvc3xwY2xpbnV4b3N8cmVkID9oYXR8emVud2Fsa3xsaW5wdXN8cmFzcGJpYW58cGxhbiA5fG1pbml4fHJpc2Mgb3N8Y29udGlraXxkZWVwaW58bWFuamFyb3xlbGVtZW50YXJ5IG9zfHNhYmF5b258bGluc3BpcmUpKD86IGdudVxcL2xpbnV4KT8oPzogZW50ZXJwcmlzZSk/KD86Wy0gXWxpbnV4KT8oPzotZ251KT9bLVxcLyBdPyg/IWNocm9tfHBhY2thZ2UpKFstXFx3XFwuXSopL2ksLyhodXJkfGxpbnV4KSA/KFtcXHdcXC5dKikvaSwvKGdudSkgPyhbXFx3XFwuXSopL2ksL1xcYihbLWZyZW50b3BjZ2hzXXswLDV9YnNkfGRyYWdvbmZseSlbXFwvIF0/KD8hYW1kfFtpeDM0Nl17MSwyfTg2KShbXFx3XFwuXSopL2ksLyhoYWlrdSkgKFxcdyspL2ldLFtjLHVdLFsvKHN1bm9zKSA/KFtcXHdcXC5cXGRdKikvaV0sW1tjLFwiU29sYXJpc1wiXSx1XSxbLygoPzpvcGVuKT9zb2xhcmlzKVstXFwvIF0/KFtcXHdcXC5dKikvaSwvKGFpeCkgKChcXGQpKD89XFwufFxcKXwgKVtcXHdcXC5dKSovaSwvXFxiKGJlb3N8b3NcXC8yfGFtaWdhb3N8bW9ycGhvc3xvcGVudm1zfGZ1Y2hzaWF8aHAtdXgpL2ksLyh1bml4KSA/KFtcXHdcXC5dKikvaV0sW2MsdV1dfSxxbj1mdW5jdGlvbihlZSxfZSl7aWYodHlwZW9mIGVlPT09ciYmKF9lPWVlLGVlPWUpLCEodGhpcyBpbnN0YW5jZW9mIHFuKSlyZXR1cm4gbmV3IHFuKGVlLF9lKS5nZXRSZXN1bHQoKTt2YXIgQnQ9dHlwZW9mIHQhPT1pJiZ0Lm5hdmlnYXRvcj90Lm5hdmlnYXRvcjplLHZuPWVlfHwoQnQmJkJ0LnVzZXJBZ2VudD9CdC51c2VyQWdlbnQ6XCJcIiksS2k9QnQmJkJ0LnVzZXJBZ2VudERhdGE/QnQudXNlckFnZW50RGF0YTplLG5lPV9lP2Z1bmN0aW9uKGd0LGduKXt2YXIgVXI9e307Zm9yKHZhciBPaSBpbiBndClnbltPaV0mJmduW09pXS5sZW5ndGglMj09MD9VcltPaV09Z25bT2ldLmNvbmNhdChndFtPaV0pOlVyW09pXT1ndFtPaV07cmV0dXJuIFVyfShhZCxfZSk6YWQ7cmV0dXJuIHRoaXMuZ2V0QnJvd3Nlcj1mdW5jdGlvbigpe3ZhciBndD17fTtyZXR1cm4gZ3RbY109ZSxndFt1XT1lLGZuLmNhbGwoZ3Qsdm4sbmUuYnJvd3NlciksZ3Rbc109ZnVuY3Rpb24oZ24pe3JldHVybiB0eXBlb2YgZ249PT1vP2duLnJlcGxhY2UoL1teXFxkXFwuXS9nLFwiXCIpLnNwbGl0KFwiLlwiKVswXTplfShndFt1XSksQnQmJkJ0LmJyYXZlJiZ0eXBlb2YgQnQuYnJhdmUuaXNCcmF2ZT09biYmKGd0W2NdPVwiQnJhdmVcIiksZ3R9LHRoaXMuZ2V0Q1BVPWZ1bmN0aW9uKCl7dmFyIGd0PXt9O3JldHVybiBndFtoXT1lLGZuLmNhbGwoZ3Qsdm4sbmUuY3B1KSxndH0sdGhpcy5nZXREZXZpY2U9ZnVuY3Rpb24oKXt2YXIgZ3Q9e307cmV0dXJuIGd0W2xdPWUsZ3RbYV09ZSxndFtkXT1lLGZuLmNhbGwoZ3Qsdm4sbmUuZGV2aWNlKSwhZ3RbZF0mJktpJiZLaS5tb2JpbGUmJihndFtkXT1nKSxndFthXT09XCJNYWNpbnRvc2hcIiYmQnQmJnR5cGVvZiBCdC5zdGFuZGFsb25lIT09aSYmQnQubWF4VG91Y2hQb2ludHMmJkJ0Lm1heFRvdWNoUG9pbnRzPjImJihndFthXT1cImlQYWRcIixndFtkXT1FKSxndH0sdGhpcy5nZXRFbmdpbmU9ZnVuY3Rpb24oKXt2YXIgZ3Q9e307cmV0dXJuIGd0W2NdPWUsZ3RbdV09ZSxmbi5jYWxsKGd0LHZuLG5lLmVuZ2luZSksZ3R9LHRoaXMuZ2V0T1M9ZnVuY3Rpb24oKXt2YXIgZ3Q9e307cmV0dXJuIGd0W2NdPWUsZ3RbdV09ZSxmbi5jYWxsKGd0LHZuLG5lLm9zKSwhZ3RbY10mJktpJiZLaS5wbGF0Zm9ybSE9XCJVbmtub3duXCImJihndFtjXT1LaS5wbGF0Zm9ybS5yZXBsYWNlKC9jaHJvbWUgb3MvaSxJKS5yZXBsYWNlKC9tYWNvcy9pLHkpKSxndH0sdGhpcy5nZXRSZXN1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4ge3VhOnRoaXMuZ2V0VUEoKSxicm93c2VyOnRoaXMuZ2V0QnJvd3NlcigpLGVuZ2luZTp0aGlzLmdldEVuZ2luZSgpLG9zOnRoaXMuZ2V0T1MoKSxkZXZpY2U6dGhpcy5nZXREZXZpY2UoKSxjcHU6dGhpcy5nZXRDUFUoKX19LHRoaXMuZ2V0VUE9ZnVuY3Rpb24oKXtyZXR1cm4gdm59LHRoaXMuc2V0VUE9ZnVuY3Rpb24oZ3Qpe3JldHVybiB2bj10eXBlb2YgZ3Q9PT1vJiZndC5sZW5ndGg+MzUwP1JlKGd0LDM1MCk6Z3QsdGhpc30sdGhpcy5zZXRVQSh2biksdGhpc307cW4uVkVSU0lPTj1cIjAuNy4zNFwiLHFuLkJST1dTRVI9eChbYyx1LHNdKSxxbi5DUFU9eChbaF0pLHFuLkRFVklDRT14KFthLGwsZCxwLGcsZixFLFMsQ10pLHFuLkVOR0lORT1xbi5PUz14KFtjLHVdKSx0cC5leHBvcnRzJiYoZXA9dHAuZXhwb3J0cz1xbiksZXAuVUFQYXJzZXI9cW47dmFyIE1yPXR5cGVvZiB0IT09aSYmKHQualF1ZXJ5fHx0LlplcHRvKTtpZihNciYmIU1yLnVhKXt2YXIgcnM9bmV3IHFuO01yLnVhPXJzLmdldFJlc3VsdCgpLE1yLnVhLmdldD1mdW5jdGlvbigpe3JldHVybiBycy5nZXRVQSgpfSxNci51YS5zZXQ9ZnVuY3Rpb24oZWUpe3JzLnNldFVBKGVlKTt2YXIgX2U9cnMuZ2V0UmVzdWx0KCk7Zm9yKHZhciBCdCBpbiBfZSlNci51YVtCdF09X2VbQnRdO307fX0odHlwZW9mIHdpbmRvdz09XCJvYmplY3RcIj93aW5kb3c6VnMpO3ZhciBXMj1hZShfRS5leHBvcnRzKSxIMj1FcixLMj1KZSxZMj1kYSxxMj1lcyx6Mj1wZShcIml0ZXJhdG9yXCIpLEoyPU9iamVjdCxYMj1mdW5jdGlvbih0KXtpZihZMih0KSlyZXR1cm4gITE7dmFyIGU9SjIodCk7cmV0dXJuIGVbejJdIT09dm9pZCAwfHxcIkBAaXRlcmF0b3JcImluIGV8fEsyKHEyLEgyKGUpKX0sUTI9YWUoWDIpLGlwPVdlO3h0KHtnbG9iYWw6ITAsZm9yY2VkOmlwLmdsb2JhbFRoaXMhPT1pcH0se2dsb2JhbFRoaXM6aXB9KTt2YXIgVlQ9YWUoV2UpO2Z1bmN0aW9uIF93KHQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxhcmd1bWVudHMpfX12YXJ7dG9TdHJpbmc6WjJ9PU9iamVjdC5wcm90b3R5cGUse2dldFByb3RvdHlwZU9mOlhtfT1PYmplY3QsTWw9KHJwPU9iamVjdC5jcmVhdGUobnVsbCksdD0+e2xldCBlPVoyLmNhbGwodCk7cmV0dXJuIHJwW2VdfHwocnBbZV09ZS5zbGljZSg4LC0xKS50b0xvd2VyQ2FzZSgpKX0pLHJwLGZyPXQ9Pih0PXQudG9Mb3dlckNhc2UoKSxlPT5NbChlKT09PXQpLGp1PXQ9PmU9PnR5cGVvZiBlPT09dCx7aXNBcnJheTpJc309QXJyYXksV2E9anUoXCJ1bmRlZmluZWRcIiksRlQ9ZnIoXCJBcnJheUJ1ZmZlclwiKSwkMj1qdShcInN0cmluZ1wiKSxhaT1qdShcImZ1bmN0aW9uXCIpLEJUPWp1KFwibnVtYmVyXCIpLFRkPXQ9PnQhPT1udWxsJiZ0eXBlb2YgdD09XCJvYmplY3RcIixTZD10PT57aWYoTWwodCkhPT1cIm9iamVjdFwiKXJldHVybiAhMTtsZXQgZT1YbSh0KTtyZXR1cm4gIShlIT09bnVsbCYmZSE9PU9iamVjdC5wcm90b3R5cGUmJk9iamVjdC5nZXRQcm90b3R5cGVPZihlKSE9PW51bGx8fFN5bWJvbC50b1N0cmluZ1RhZyBpbiB0fHxRMih0KSl9LHR4PWZyKFwiRGF0ZVwiKSxleD1mcihcIkZpbGVcIiksbng9ZnIoXCJCbG9iXCIpLGl4PWZyKFwiRmlsZUxpc3RcIikscng9ZnIoXCJVUkxTZWFyY2hQYXJhbXNcIik7ZnVuY3Rpb24gSGEodCxlKXtsZXQgbixpLHthbGxPd25LZXlzOnI9ITF9PWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dm9pZCAwP2FyZ3VtZW50c1syXTp7fTtpZih0IT1udWxsKWlmKHR5cGVvZiB0IT1cIm9iamVjdFwiJiYodD1bdF0pLElzKHQpKWZvcihuPTAsaT10Lmxlbmd0aDtuPGk7bisrKWUuY2FsbChudWxsLHRbbl0sbix0KTtlbHNlIHtsZXQgbz1yP09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpOk9iamVjdC5rZXlzKHQpLHM9by5sZW5ndGgsYTtmb3Iobj0wO248cztuKyspYT1vW25dLGUuY2FsbChudWxsLHRbYV0sYSx0KTt9fWZ1bmN0aW9uIGpUKHQsZSl7ZT1lLnRvTG93ZXJDYXNlKCk7bGV0IG49T2JqZWN0LmtleXModCksaSxyPW4ubGVuZ3RoO2Zvcig7ci0tID4wOylpZihpPW5bcl0sZT09PWkudG9Mb3dlckNhc2UoKSlyZXR1cm4gaTtyZXR1cm4gbnVsbH12YXIgRXc9VlQhPT12b2lkIDA/VlQ6dHlwZW9mIHNlbGY8XCJ1XCI/c2VsZjp0eXBlb2Ygd2luZG93PFwidVwiP3dpbmRvdzpnbG9iYWwsR1Q9dD0+IVdhKHQpJiZ0IT09RXcsb3g9KG9wPXR5cGVvZiBVaW50OEFycmF5PFwidVwiJiZYbShVaW50OEFycmF5KSx0PT5vcCYmdCBpbnN0YW5jZW9mIG9wKSxvcCxzeD1mcihcIkhUTUxGb3JtRWxlbWVudFwiKSxXVD0odD0+e2xldHtoYXNPd25Qcm9wZXJ0eTplfT10O3JldHVybiAobixpKT0+ZS5jYWxsKG4saSl9KShPYmplY3QucHJvdG90eXBlKSxheD1mcihcIlJlZ0V4cFwiKSxIVD0odCxlKT0+e2xldCBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpLGk9e307SGEobiwocixvKT0+e2xldCBzOyhzPWUocixvLHQpKSE9PSExJiYoaVtvXT1zfHxyKTt9KSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LGkpO30sc3A9XCJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5elwiLEtUPVwiMDEyMzQ1Njc4OVwiLFlUPXtESUdJVDpLVCxBTFBIQTpzcCxBTFBIQV9ESUdJVDpzcCtzcC50b1VwcGVyQ2FzZSgpK0tUfSxjeD1mcihcIkFzeW5jRnVuY3Rpb25cIiksSz17aXNBcnJheTpJcyxpc0FycmF5QnVmZmVyOkZULGlzQnVmZmVyOmZ1bmN0aW9uKHQpe3JldHVybiB0IT09bnVsbCYmIVdhKHQpJiZ0LmNvbnN0cnVjdG9yIT09bnVsbCYmIVdhKHQuY29uc3RydWN0b3IpJiZhaSh0LmNvbnN0cnVjdG9yLmlzQnVmZmVyKSYmdC5jb25zdHJ1Y3Rvci5pc0J1ZmZlcih0KX0saXNGb3JtRGF0YTp0PT57bGV0IGU7cmV0dXJuIHQmJih0eXBlb2YgRm9ybURhdGE9PVwiZnVuY3Rpb25cIiYmdCBpbnN0YW5jZW9mIEZvcm1EYXRhfHxhaSh0LmFwcGVuZCkmJigoZT1NbCh0KSk9PT1cImZvcm1kYXRhXCJ8fGU9PT1cIm9iamVjdFwiJiZhaSh0LnRvU3RyaW5nKSYmdC50b1N0cmluZygpPT09XCJbb2JqZWN0IEZvcm1EYXRhXVwiKSl9LGlzQXJyYXlCdWZmZXJWaWV3OmZ1bmN0aW9uKHQpe2xldCBlO3JldHVybiBlPXR5cGVvZiBBcnJheUJ1ZmZlcjxcInVcIiYmQXJyYXlCdWZmZXIuaXNWaWV3P0FycmF5QnVmZmVyLmlzVmlldyh0KTp0JiZ0LmJ1ZmZlciYmRlQodC5idWZmZXIpLGV9LGlzU3RyaW5nOiQyLGlzTnVtYmVyOkJULGlzQm9vbGVhbjp0PT50PT09ITB8fHQ9PT0hMSxpc09iamVjdDpUZCxpc1BsYWluT2JqZWN0OlNkLGlzVW5kZWZpbmVkOldhLGlzRGF0ZTp0eCxpc0ZpbGU6ZXgsaXNCbG9iOm54LGlzUmVnRXhwOmF4LGlzRnVuY3Rpb246YWksaXNTdHJlYW06dD0+VGQodCkmJmFpKHQucGlwZSksaXNVUkxTZWFyY2hQYXJhbXM6cngsaXNUeXBlZEFycmF5Om94LGlzRmlsZUxpc3Q6aXgsZm9yRWFjaDpIYSxtZXJnZTpmdW5jdGlvbiB0KCl7bGV0e2Nhc2VsZXNzOmV9PUdUKHRoaXMpJiZ0aGlzfHx7fSxuPXt9LGk9KHIsbyk9PntsZXQgcz1lJiZqVChuLG8pfHxvO1NkKG5bc10pJiZTZChyKT9uW3NdPXQobltzXSxyKTpTZChyKT9uW3NdPXQoe30scik6SXMocik/bltzXT1yLnNsaWNlKCk6bltzXT1yO307Zm9yKGxldCByPTAsbz1hcmd1bWVudHMubGVuZ3RoO3I8bztyKyspYXJndW1lbnRzW3JdJiZIYShhcmd1bWVudHNbcl0saSk7cmV0dXJuIG59LGV4dGVuZDpmdW5jdGlvbih0LGUsbil7bGV0e2FsbE93bktleXM6aX09YXJndW1lbnRzLmxlbmd0aD4zJiZhcmd1bWVudHNbM10hPT12b2lkIDA/YXJndW1lbnRzWzNdOnt9O3JldHVybiBIYShlLChyLG8pPT57biYmYWkocik/dFtvXT1fdyhyLG4pOnRbb109cjt9LHthbGxPd25LZXlzOml9KSx0fSx0cmltOnQ9PnJuKHQpP3JuKHQpLmNhbGwodCk6dC5yZXBsYWNlKC9eW1xcc1xcdUZFRkZcXHhBMF0rfFtcXHNcXHVGRUZGXFx4QTBdKyQvZyxcIlwiKSxzdHJpcEJPTTp0PT4odC5jaGFyQ29kZUF0KDApPT09NjUyNzkmJih0PXQuc2xpY2UoMSkpLHQpLGluaGVyaXRzOih0LGUsbixpKT0+e3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZS5wcm90b3R5cGUsaSksdC5wcm90b3R5cGUuY29uc3RydWN0b3I9dCxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInN1cGVyXCIse3ZhbHVlOmUucHJvdG90eXBlfSksbiYmT2JqZWN0LmFzc2lnbih0LnByb3RvdHlwZSxuKTt9LHRvRmxhdE9iamVjdDoodCxlLG4saSk9PntsZXQgcixvLHMsYT17fTtpZihlPWV8fHt9LHQ9PW51bGwpcmV0dXJuIGU7ZG97Zm9yKHI9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModCksbz1yLmxlbmd0aDtvLS0gPjA7KXM9cltvXSxpJiYhaShzLHQsZSl8fGFbc118fChlW3NdPXRbc10sYVtzXT0hMCk7dD1uIT09ITEmJlhtKHQpO313aGlsZSh0JiYoIW58fG4odCxlKSkmJnQhPT1PYmplY3QucHJvdG90eXBlKTtyZXR1cm4gZX0sa2luZE9mOk1sLGtpbmRPZlRlc3Q6ZnIsZW5kc1dpdGg6KHQsZSxuKT0+e3Q9U3RyaW5nKHQpLChuPT09dm9pZCAwfHxuPnQubGVuZ3RoKSYmKG49dC5sZW5ndGgpLG4tPWUubGVuZ3RoO2xldCBpPXQuaW5kZXhPZihlLG4pO3JldHVybiBpIT09LTEmJmk9PT1ufSx0b0FycmF5OnQ9PntpZighdClyZXR1cm4gbnVsbDtpZihJcyh0KSlyZXR1cm4gdDtsZXQgZT10Lmxlbmd0aDtpZighQlQoZSkpcmV0dXJuIG51bGw7bGV0IG49bmV3IEFycmF5KGUpO2Zvcig7ZS0tID4wOyluW2VdPXRbZV07cmV0dXJuIG59LGZvckVhY2hFbnRyeToodCxlKT0+e2xldCBuPSh0JiZ0W1N5bWJvbC5pdGVyYXRvcl0pLmNhbGwodCksaTtmb3IoOyhpPW4ubmV4dCgpKSYmIWkuZG9uZTspe2xldCByPWkudmFsdWU7ZS5jYWxsKHQsclswXSxyWzFdKTt9fSxtYXRjaEFsbDoodCxlKT0+e2xldCBuLGk9W107Zm9yKDsobj10LmV4ZWMoZSkpIT09bnVsbDspaS5wdXNoKG4pO3JldHVybiBpfSxpc0hUTUxGb3JtOnN4LGhhc093blByb3BlcnR5OldULGhhc093blByb3A6V1QscmVkdWNlRGVzY3JpcHRvcnM6SFQsZnJlZXplTWV0aG9kczp0PT57SFQodCwoZSxuKT0+e2lmKGFpKHQpJiZbXCJhcmd1bWVudHNcIixcImNhbGxlclwiLFwiY2FsbGVlXCJdLmluZGV4T2YobikhPT0tMSlyZXR1cm4gITE7bGV0IGk9dFtuXTthaShpKSYmKGUuZW51bWVyYWJsZT0hMSxcIndyaXRhYmxlXCJpbiBlP2Uud3JpdGFibGU9ITE6ZS5zZXR8fChlLnNldD0oKT0+e3Rocm93IEVycm9yKFwiQ2FuIG5vdCByZXdyaXRlIHJlYWQtb25seSBtZXRob2QgJ1wiK24rXCInXCIpfSkpO30pO30sdG9PYmplY3RTZXQ6KHQsZSk9PntsZXQgbj17fSxpPXI9PntyLmZvckVhY2gobz0+e25bb109ITA7fSk7fTtyZXR1cm4gSXModCk/aSh0KTppKFN0cmluZyh0KS5zcGxpdChlKSksbn0sdG9DYW1lbENhc2U6dD0+dC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1stX1xcc10oW2EtelxcZF0pKFxcdyopL2csZnVuY3Rpb24oZSxuLGkpe3JldHVybiBuLnRvVXBwZXJDYXNlKCkraX0pLG5vb3A6KCk9Pnt9LHRvRmluaXRlTnVtYmVyOih0LGUpPT4odD0rdCxOdW1iZXIuaXNGaW5pdGUodCk/dDplKSxmaW5kS2V5OmpULGdsb2JhbDpFdyxpc0NvbnRleHREZWZpbmVkOkdULEFMUEhBQkVUOllULGdlbmVyYXRlU3RyaW5nOmZ1bmN0aW9uKCl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT12b2lkIDA/YXJndW1lbnRzWzBdOjE2LGU9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOllULkFMUEhBX0RJR0lULG49XCJcIix7bGVuZ3RoOml9PWU7Zm9yKDt0LS07KW4rPWVbTWF0aC5yYW5kb20oKSppfDBdO3JldHVybiBufSxpc1NwZWNDb21wbGlhbnRGb3JtOmZ1bmN0aW9uKHQpe3JldHVybiAhISh0JiZhaSh0LmFwcGVuZCkmJnRbU3ltYm9sLnRvU3RyaW5nVGFnXT09PVwiRm9ybURhdGFcIiYmdFtTeW1ib2wuaXRlcmF0b3JdKX0sdG9KU09OT2JqZWN0OnQ9PntsZXQgZT1uZXcgQXJyYXkoMTApLG49KGkscik9PntpZihUZChpKSl7aWYoZS5pbmRleE9mKGkpPj0wKXJldHVybjtpZighKFwidG9KU09OXCJpbiBpKSl7ZVtyXT1pO2xldCBvPUlzKGkpP1tdOnt9O3JldHVybiBIYShpLChzLGEpPT57bGV0IGM9bihzLHIrMSk7IVdhKGMpJiYob1thXT1jKTt9KSxlW3JdPXZvaWQgMCxvfX1yZXR1cm4gaX07cmV0dXJuIG4odCwwKX0saXNBc3luY0ZuOmN4LGlzVGhlbmFibGU6dD0+dCYmKFRkKHQpfHxhaSh0KSkmJmFpKHQudGhlbikmJmFpKHQuY2F0Y2gpfTtmdW5jdGlvbiBxdCh0LGUsbixpLHIpe0Vycm9yLmNhbGwodGhpcyksRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2U/RXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyx0aGlzLmNvbnN0cnVjdG9yKTp0aGlzLnN0YWNrPW5ldyBFcnJvcigpLnN0YWNrLHRoaXMubWVzc2FnZT10LHRoaXMubmFtZT1cIkF4aW9zRXJyb3JcIixlJiYodGhpcy5jb2RlPWUpLG4mJih0aGlzLmNvbmZpZz1uKSxpJiYodGhpcy5yZXF1ZXN0PWkpLHImJih0aGlzLnJlc3BvbnNlPXIpO31LLmluaGVyaXRzKHF0LEVycm9yLHt0b0pTT046ZnVuY3Rpb24oKXtyZXR1cm4ge21lc3NhZ2U6dGhpcy5tZXNzYWdlLG5hbWU6dGhpcy5uYW1lLGRlc2NyaXB0aW9uOnRoaXMuZGVzY3JpcHRpb24sbnVtYmVyOnRoaXMubnVtYmVyLGZpbGVOYW1lOnRoaXMuZmlsZU5hbWUsbGluZU51bWJlcjp0aGlzLmxpbmVOdW1iZXIsY29sdW1uTnVtYmVyOnRoaXMuY29sdW1uTnVtYmVyLHN0YWNrOnRoaXMuc3RhY2ssY29uZmlnOksudG9KU09OT2JqZWN0KHRoaXMuY29uZmlnKSxjb2RlOnRoaXMuY29kZSxzdGF0dXM6dGhpcy5yZXNwb25zZSYmdGhpcy5yZXNwb25zZS5zdGF0dXM/dGhpcy5yZXNwb25zZS5zdGF0dXM6bnVsbH19fSk7dmFyIHFUPXF0LnByb3RvdHlwZSx6VD17fTtbXCJFUlJfQkFEX09QVElPTl9WQUxVRVwiLFwiRVJSX0JBRF9PUFRJT05cIixcIkVDT05OQUJPUlRFRFwiLFwiRVRJTUVET1VUXCIsXCJFUlJfTkVUV09SS1wiLFwiRVJSX0ZSX1RPT19NQU5ZX1JFRElSRUNUU1wiLFwiRVJSX0RFUFJFQ0FURURcIixcIkVSUl9CQURfUkVTUE9OU0VcIixcIkVSUl9CQURfUkVRVUVTVFwiLFwiRVJSX0NBTkNFTEVEXCIsXCJFUlJfTk9UX1NVUFBPUlRcIixcIkVSUl9JTlZBTElEX1VSTFwiXS5mb3JFYWNoKHQ9Pnt6VFt0XT17dmFsdWU6dH07fSksT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocXQselQpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShxVCxcImlzQXhpb3NFcnJvclwiLHt2YWx1ZTohMH0pLHF0LmZyb209KHQsZSxuLGkscixvKT0+e2xldCBzPU9iamVjdC5jcmVhdGUocVQpO3JldHVybiBLLnRvRmxhdE9iamVjdCh0LHMsZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT1FcnJvci5wcm90b3R5cGV9LGE9PmEhPT1cImlzQXhpb3NFcnJvclwiKSxxdC5jYWxsKHMsdC5tZXNzYWdlLGUsbixpLHIpLHMuY2F1c2U9dCxzLm5hbWU9dC5uYW1lLG8mJk9iamVjdC5hc3NpZ24ocyxvKSxzfTtmdW5jdGlvbiBhcCh0KXtyZXR1cm4gSy5pc1BsYWluT2JqZWN0KHQpfHxLLmlzQXJyYXkodCl9ZnVuY3Rpb24gbXcodCl7cmV0dXJuIEsuZW5kc1dpdGgodCxcIltdXCIpP3Quc2xpY2UoMCwtMik6dH1mdW5jdGlvbiBKVCh0LGUsbil7cmV0dXJuIHQ/dC5jb25jYXQoZSkubWFwKGZ1bmN0aW9uKGkscil7cmV0dXJuIGk9bXcoaSksIW4mJnI/XCJbXCIraStcIl1cIjppfSkuam9pbihuP1wiLlwiOlwiXCIpOmV9dmFyIGR4PUsudG9GbGF0T2JqZWN0KEsse30sbnVsbCxmdW5jdGlvbih0KXtyZXR1cm4gL15pc1tBLVpdLy50ZXN0KHQpfSk7ZnVuY3Rpb24gVWwodCxlLG4pe2lmKCFLLmlzT2JqZWN0KHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJ0YXJnZXQgbXVzdCBiZSBhbiBvYmplY3RcIik7ZT1lfHxuZXcgRm9ybURhdGE7bGV0IGk9KG49Sy50b0ZsYXRPYmplY3Qobix7bWV0YVRva2VuczohMCxkb3RzOiExLGluZGV4ZXM6ITF9LCExLGZ1bmN0aW9uKGgscCl7cmV0dXJuICFLLmlzVW5kZWZpbmVkKHBbaF0pfSkpLm1ldGFUb2tlbnMscj1uLnZpc2l0b3J8fGQsbz1uLmRvdHMscz1uLmluZGV4ZXMsYT0obi5CbG9ifHx0eXBlb2YgQmxvYjxcInVcIiYmQmxvYikmJksuaXNTcGVjQ29tcGxpYW50Rm9ybShlKTtpZighSy5pc0Z1bmN0aW9uKHIpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJ2aXNpdG9yIG11c3QgYmUgYSBmdW5jdGlvblwiKTtmdW5jdGlvbiBjKGgpe2lmKGg9PT1udWxsKXJldHVybiBcIlwiO2lmKEsuaXNEYXRlKGgpKXJldHVybiBoLnRvSVNPU3RyaW5nKCk7aWYoIWEmJksuaXNCbG9iKGgpKXRocm93IG5ldyBxdChcIkJsb2IgaXMgbm90IHN1cHBvcnRlZC4gVXNlIGEgQnVmZmVyIGluc3RlYWQuXCIpO3JldHVybiBLLmlzQXJyYXlCdWZmZXIoaCl8fEsuaXNUeXBlZEFycmF5KGgpP2EmJnR5cGVvZiBCbG9iPT1cImZ1bmN0aW9uXCI/bmV3IEJsb2IoW2hdKTpCdWZmZXIuZnJvbShoKTpofWZ1bmN0aW9uIGQoaCxwLGcpe2xldCBFPWg7aWYoaCYmIWcmJnR5cGVvZiBoPT1cIm9iamVjdFwiKXtpZihLLmVuZHNXaXRoKHAsXCJ7fVwiKSlwPWk/cDpwLnNsaWNlKDAsLTIpLGg9SlNPTi5zdHJpbmdpZnkoaCk7ZWxzZSBpZihLLmlzQXJyYXkoaCkmJmZ1bmN0aW9uKGYpe3JldHVybiBLLmlzQXJyYXkoZikmJiFmLnNvbWUoYXApfShoKXx8KEsuaXNGaWxlTGlzdChoKXx8Sy5lbmRzV2l0aChwLFwiW11cIikpJiYoRT1LLnRvQXJyYXkoaCkpKXJldHVybiBwPW13KHApLEUuZm9yRWFjaChmdW5jdGlvbihmLFMpeyFLLmlzVW5kZWZpbmVkKGYpJiZmIT09bnVsbCYmZS5hcHBlbmQocz09PSEwP0pUKFtwXSxTLG8pOnM9PT1udWxsP3A6cCtcIltdXCIsYyhmKSk7fSksITF9cmV0dXJuICEhYXAoaCl8fChlLmFwcGVuZChKVChnLHAsbyksYyhoKSksITEpfWxldCBsPVtdLHU9T2JqZWN0LmFzc2lnbihkeCx7ZGVmYXVsdFZpc2l0b3I6ZCxjb252ZXJ0VmFsdWU6Yyxpc1Zpc2l0YWJsZTphcH0pO2lmKCFLLmlzT2JqZWN0KHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJkYXRhIG11c3QgYmUgYW4gb2JqZWN0XCIpO3JldHVybiBmdW5jdGlvbiBoKHAsZyl7aWYoIUsuaXNVbmRlZmluZWQocCkpe2lmKGwuaW5kZXhPZihwKSE9PS0xKXRocm93IEVycm9yKFwiQ2lyY3VsYXIgcmVmZXJlbmNlIGRldGVjdGVkIGluIFwiK2cuam9pbihcIi5cIikpO2wucHVzaChwKSxLLmZvckVhY2gocCxmdW5jdGlvbihFLGYpeyghKEsuaXNVbmRlZmluZWQoRSl8fEU9PT1udWxsKSYmci5jYWxsKGUsRSxLLmlzU3RyaW5nKGYpP3JuKGYpLmNhbGwoZik6ZixnLHUpKT09PSEwJiZoKEUsZz9nLmNvbmNhdChmKTpbZl0pO30pLGwucG9wKCk7fX0odCksZX1mdW5jdGlvbiBYVCh0KXtsZXQgZT17XCIhXCI6XCIlMjFcIixcIidcIjpcIiUyN1wiLFwiKFwiOlwiJTI4XCIsXCIpXCI6XCIlMjlcIixcIn5cIjpcIiU3RVwiLFwiJTIwXCI6XCIrXCIsXCIlMDBcIjpcIlxcMFwifTtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHQpLnJlcGxhY2UoL1shJygpfl18JTIwfCUwMC9nLGZ1bmN0aW9uKG4pe3JldHVybiBlW25dfSl9ZnVuY3Rpb24gUW0odCxlKXt0aGlzLl9wYWlycz1bXSx0JiZVbCh0LHRoaXMsZSk7fXZhciBRVD1RbS5wcm90b3R5cGU7ZnVuY3Rpb24gbHgodCl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh0KS5yZXBsYWNlKC8lM0EvZ2ksXCI6XCIpLnJlcGxhY2UoLyUyNC9nLFwiJFwiKS5yZXBsYWNlKC8lMkMvZ2ksXCIsXCIpLnJlcGxhY2UoLyUyMC9nLFwiK1wiKS5yZXBsYWNlKC8lNUIvZ2ksXCJbXCIpLnJlcGxhY2UoLyU1RC9naSxcIl1cIil9ZnVuY3Rpb24gZncodCxlLG4pe2lmKCFlKXJldHVybiB0O2xldCBpPW4mJm4uZW5jb2RlfHxseCxyPW4mJm4uc2VyaWFsaXplLG87aWYobz1yP3IoZSxuKTpLLmlzVVJMU2VhcmNoUGFyYW1zKGUpP2UudG9TdHJpbmcoKTpuZXcgUW0oZSxuKS50b1N0cmluZyhpKSxvKXtsZXQgcz10LmluZGV4T2YoXCIjXCIpO3MhPT0tMSYmKHQ9dC5zbGljZSgwLHMpKSx0Kz0odC5pbmRleE9mKFwiP1wiKT09PS0xP1wiP1wiOlwiJlwiKStvO31yZXR1cm4gdH1RVC5hcHBlbmQ9ZnVuY3Rpb24odCxlKXt0aGlzLl9wYWlycy5wdXNoKFt0LGVdKTt9LFFULnRvU3RyaW5nPWZ1bmN0aW9uKHQpe2xldCBlPXQ/ZnVuY3Rpb24obil7cmV0dXJuIHQuY2FsbCh0aGlzLG4sWFQpfTpYVDtyZXR1cm4gdGhpcy5fcGFpcnMubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBlKG5bMF0pK1wiPVwiK2UoblsxXSl9LFwiXCIpLmpvaW4oXCImXCIpfTt2YXIgWlQ9Y2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLmhhbmRsZXJzPVtdO311c2UodCxlLG4pe3JldHVybiB0aGlzLmhhbmRsZXJzLnB1c2goe2Z1bGZpbGxlZDp0LHJlamVjdGVkOmUsc3luY2hyb25vdXM6ISFuJiZuLnN5bmNocm9ub3VzLHJ1bldoZW46bj9uLnJ1bldoZW46bnVsbH0pLHRoaXMuaGFuZGxlcnMubGVuZ3RoLTF9ZWplY3QodCl7dGhpcy5oYW5kbGVyc1t0XSYmKHRoaXMuaGFuZGxlcnNbdF09bnVsbCk7fWNsZWFyKCl7dGhpcy5oYW5kbGVycyYmKHRoaXMuaGFuZGxlcnM9W10pO31mb3JFYWNoKHQpe0suZm9yRWFjaCh0aGlzLmhhbmRsZXJzLGZ1bmN0aW9uKGUpe2UhPT1udWxsJiZ0KGUpO30pO319LGd3PXtzaWxlbnRKU09OUGFyc2luZzohMCxmb3JjZWRKU09OUGFyc2luZzohMCxjbGFyaWZ5VGltZW91dEVycm9yOiExfSxUdz17ZXhwb3J0czp7fX0sdXg9eHQsaHg9cmksJFQ9QWkuZjt1eCh7dGFyZ2V0OlwiT2JqZWN0XCIsc3RhdDohMCxmb3JjZWQ6T2JqZWN0LmRlZmluZVByb3BlcnR5IT09JFQsc2hhbTohaHh9LHtkZWZpbmVQcm9wZXJ0eTokVH0pO3ZhciBTdz1HaS5PYmplY3QscHg9VHcuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIFN3LmRlZmluZVByb3BlcnR5KHQsZSxuKX07U3cuZGVmaW5lUHJvcGVydHkuc2hhbSYmKHB4LnNoYW09ITApO3ZhciBSdz1hZShUdy5leHBvcnRzKSxfeD1wcixuZD1BcnJheS5pc0FycmF5fHxmdW5jdGlvbih0KXtyZXR1cm4gX3godCk9PVwiQXJyYXlcIn0sRXg9VHlwZUVycm9yLHRTPW5kLG14PXh1LGZ4PUhuLGd4PXBlKFwic3BlY2llc1wiKSxlUz1BcnJheSxUeD1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gdFModCkmJihlPXQuY29uc3RydWN0b3IsKG14KGUpJiYoZT09PWVTfHx0UyhlLnByb3RvdHlwZSkpfHxmeChlKSYmKGU9ZVtneF0pPT09bnVsbCkmJihlPXZvaWQgMCkpLGU9PT12b2lkIDA/ZVM6ZX0sQ3c9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3KFR4KHQpKShlPT09MD8wOmUpfSxTeD1TZSxSeD16byxDeD1wZShcInNwZWNpZXNcIiksSXc9ZnVuY3Rpb24odCl7cmV0dXJuIFJ4Pj01MXx8IVN4KGZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIChlLmNvbnN0cnVjdG9yPXt9KVtDeF09ZnVuY3Rpb24oKXtyZXR1cm4ge2ZvbzoxfX0sZVt0XShCb29sZWFuKS5mb28hPT0xfSl9LEl4PXh0LHZ4PVNlLHl4PW5kLEF4PUhuLGJ4PV9yLHd4PUxyLG5TPWZ1bmN0aW9uKHQpe2lmKHQ+OTAwNzE5OTI1NDc0MDk5MSl0aHJvdyBFeChcIk1heGltdW0gYWxsb3dlZCBpbmRleCBleGNlZWRlZFwiKTtyZXR1cm4gdH0saVM9QnUsT3g9Q3csTng9SXcsRHg9em8sdnc9cGUoXCJpc0NvbmNhdFNwcmVhZGFibGVcIiksUHg9RHg+PTUxfHwhdngoZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gdFt2d109ITEsdC5jb25jYXQoKVswXSE9PXR9KSxreD1mdW5jdGlvbih0KXtpZighQXgodCkpcmV0dXJuICExO3ZhciBlPXRbdnddO3JldHVybiBlIT09dm9pZCAwPyEhZTp5eCh0KX07SXgoe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsYXJpdHk6MSxmb3JjZWQ6IVB4fHwhTngoXCJjb25jYXRcIil9LHtjb25jYXQ6ZnVuY3Rpb24odCl7dmFyIGUsbixpLHIsbyxzPWJ4KHRoaXMpLGE9T3gocywwKSxjPTA7Zm9yKGU9LTEsaT1hcmd1bWVudHMubGVuZ3RoO2U8aTtlKyspaWYoa3gobz1lPT09LTE/czphcmd1bWVudHNbZV0pKWZvcihyPXd4KG8pLG5TKGMrciksbj0wO248cjtuKyssYysrKW4gaW4gbyYmaVMoYSxjLG9bbl0pO2Vsc2UgblMoYysxKSxpUyhhLGMrKyxvKTtyZXR1cm4gYS5sZW5ndGg9YyxhfX0pO3ZhciB5dz17fSxMeD1wcixNeD1FbyxyUz1QdS5mLFV4PXptLG9TPXR5cGVvZiB3aW5kb3c9PVwib2JqZWN0XCImJndpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXTt5dy5mPWZ1bmN0aW9uKHQpe3JldHVybiBvUyYmTHgodCk9PVwiV2luZG93XCI/ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiByUyhlKX1jYXRjaHtyZXR1cm4gVXgob1MpfX0odCk6clMoTXgodCkpfTt2YXIgRWE9e30seHg9cGU7RWEuZj14eDt2YXIgc1M9R2ksVng9SmUsRng9RWEsQng9QWkuZixGZT1mdW5jdGlvbih0KXt2YXIgZT1zUy5TeW1ib2x8fChzUy5TeW1ib2w9e30pO1Z4KGUsdCl8fEJ4KGUsdCx7dmFsdWU6RnguZih0KX0pO30sang9S2UsR3g9RG4sV3g9cGUsSHg9Z28sQXc9ZnVuY3Rpb24oKXt2YXIgdD1HeChcIlN5bWJvbFwiKSxlPXQmJnQucHJvdG90eXBlLG49ZSYmZS52YWx1ZU9mLGk9V3goXCJ0b1ByaW1pdGl2ZVwiKTtlJiYhZVtpXSYmSHgoZSxpLGZ1bmN0aW9uKHIpe3JldHVybiBqeChuLHRoaXMpfSx7YXJpdHk6MX0pO30sS3g9bW8sWXg9YnUscXg9X3Iseng9THIsSng9Q3csYVM9bWUoW10ucHVzaCksVnI9ZnVuY3Rpb24odCl7dmFyIGU9dD09MSxuPXQ9PTIsaT10PT0zLHI9dD09NCxvPXQ9PTYscz10PT03LGE9dD09NXx8bztyZXR1cm4gZnVuY3Rpb24oYyxkLGwsdSl7Zm9yKHZhciBoLHAsZz1xeChjKSxFPVl4KGcpLGY9S3goZCxsKSxTPXp4KEUpLEM9MCxBPXV8fEp4LGI9ZT9BKGMsUyk6bnx8cz9BKGMsMCk6dm9pZCAwO1M+QztDKyspaWYoKGF8fEMgaW4gRSkmJihwPWYoaD1FW0NdLEMsZyksdCkpaWYoZSliW0NdPXA7ZWxzZSBpZihwKXN3aXRjaCh0KXtjYXNlIDM6cmV0dXJuICEwO2Nhc2UgNTpyZXR1cm4gaDtjYXNlIDY6cmV0dXJuIEM7Y2FzZSAyOmFTKGIsaCk7fWVsc2Ugc3dpdGNoKHQpe2Nhc2UgNDpyZXR1cm4gITE7Y2FzZSA3OmFTKGIsaCk7fXJldHVybiBvPy0xOml8fHI/cjpifX0sYnc9e2ZvckVhY2g6VnIoMCksbWFwOlZyKDEpLGZpbHRlcjpWcigyKSxzb21lOlZyKDMpLGV2ZXJ5OlZyKDQpLGZpbmQ6VnIoNSksZmluZEluZGV4OlZyKDYpLGZpbHRlclJlamVjdDpWcig3KX0sUmQ9eHQsWm09V2UsJG09S2UsWHg9bWUsanM9cmksZHM9dWEsUXg9U2UsZG49SmUsWng9aG4sRUU9Q24sR3U9RW8sdGY9T3UsJHg9b2ksbUU9X28sU2M9UWMsd3c9THUsdFY9UHUsT3c9eXcsZVY9WGMsTnc9WWMsRHc9QWksblY9TW0sUHc9QXUsY1M9Z28saVY9VXUsZWY9cGEsa3c9a3UsZFM9QW0sclY9cGUsb1Y9RWEsc1Y9RmUsYVY9QXcsY1Y9VG8sTHc9bnMsV3U9YncuZm9yRWFjaCxWbj1EdShcImhpZGRlblwiKSx4bD1cIlN5bWJvbFwiLFJjPVwicHJvdG90eXBlXCIsZFY9THcuc2V0LGxTPUx3LmdldHRlckZvcih4bCksRmk9T2JqZWN0W1JjXSxOcz1abS5TeW1ib2wsX2w9TnMmJk5zW1JjXSxsVj1abS5UeXBlRXJyb3IsY3A9Wm0uUU9iamVjdCxNdz1Ody5mLGtvPUR3LmYsVXc9T3cuZix1Vj1Qdy5mLHh3PVh4KFtdLnB1c2gpLGtyPWVmKFwic3ltYm9sc1wiKSxpZD1lZihcIm9wLXN5bWJvbHNcIiksaFY9ZWYoXCJ3a3NcIiksZHA9IWNwfHwhY3BbUmNdfHwhY3BbUmNdLmZpbmRDaGlsZCxmRT1qcyYmUXgoZnVuY3Rpb24oKXtyZXR1cm4gU2Moa28oe30sXCJhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBrbyh0aGlzLFwiYVwiLHt2YWx1ZTo3fSkuYX19KSkuYSE9N30pP2Z1bmN0aW9uKHQsZSxuKXt2YXIgaT1NdyhGaSxlKTtpJiZkZWxldGUgRmlbZV0sa28odCxlLG4pLGkmJnQhPT1GaSYma28oRmksZSxpKTt9OmtvLGxwPWZ1bmN0aW9uKHQsZSl7dmFyIG49a3JbdF09U2MoX2wpO3JldHVybiBkVihuLHt0eXBlOnhsLHRhZzp0LGRlc2NyaXB0aW9uOmV9KSxqc3x8KG4uZGVzY3JpcHRpb249ZSksbn0sVmw9ZnVuY3Rpb24odCxlLG4pe3Q9PT1GaSYmVmwoaWQsZSxuKSxFRSh0KTt2YXIgaT10ZihlKTtyZXR1cm4gRUUobiksZG4oa3IsaSk/KG4uZW51bWVyYWJsZT8oZG4odCxWbikmJnRbVm5dW2ldJiYodFtWbl1baV09ITEpLG49U2Mobix7ZW51bWVyYWJsZTptRSgwLCExKX0pKTooZG4odCxWbil8fGtvKHQsVm4sbUUoMSx7fSkpLHRbVm5dW2ldPSEwKSxmRSh0LGksbikpOmtvKHQsaSxuKX0sdXA9ZnVuY3Rpb24odCxlKXtFRSh0KTt2YXIgbj1HdShlKSxpPXd3KG4pLmNvbmNhdChGdyhuKSk7cmV0dXJuIFd1KGksZnVuY3Rpb24ocil7anMmJiEkbShWdyxuLHIpfHxWbCh0LHIsbltyXSk7fSksdH0sVnc9ZnVuY3Rpb24odCl7dmFyIGU9dGYodCksbj0kbSh1Vix0aGlzLGUpO3JldHVybiAhKHRoaXM9PT1GaSYmZG4oa3IsZSkmJiFkbihpZCxlKSkmJighKG58fCFkbih0aGlzLGUpfHwhZG4oa3IsZSl8fGRuKHRoaXMsVm4pJiZ0aGlzW1ZuXVtlXSl8fG4pfSx1Uz1mdW5jdGlvbih0LGUpe3ZhciBuPUd1KHQpLGk9dGYoZSk7aWYobiE9PUZpfHwhZG4oa3IsaSl8fGRuKGlkLGkpKXt2YXIgcj1NdyhuLGkpO3JldHVybiAhcnx8IWRuKGtyLGkpfHxkbihuLFZuKSYmbltWbl1baV18fChyLmVudW1lcmFibGU9ITApLHJ9fSxoUz1mdW5jdGlvbih0KXt2YXIgZT1VdyhHdSh0KSksbj1bXTtyZXR1cm4gV3UoZSxmdW5jdGlvbihpKXtkbihrcixpKXx8ZG4oa3csaSl8fHh3KG4saSk7fSksbn0sRnc9ZnVuY3Rpb24odCl7dmFyIGU9dD09PUZpLG49VXcoZT9pZDpHdSh0KSksaT1bXTtyZXR1cm4gV3UobixmdW5jdGlvbihyKXshZG4oa3Iscil8fGUmJiFkbihGaSxyKXx8eHcoaSxrcltyXSk7fSksaX07ZHN8fChjUyhfbD0oTnM9ZnVuY3Rpb24oKXtpZihaeChfbCx0aGlzKSl0aHJvdyBsVihcIlN5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvclwiKTt2YXIgdD1hcmd1bWVudHMubGVuZ3RoJiZhcmd1bWVudHNbMF0hPT12b2lkIDA/JHgoYXJndW1lbnRzWzBdKTp2b2lkIDAsZT1kUyh0KSxuPWZ1bmN0aW9uKGkpe3RoaXM9PT1GaSYmJG0obixpZCxpKSxkbih0aGlzLFZuKSYmZG4odGhpc1tWbl0sZSkmJih0aGlzW1ZuXVtlXT0hMSksZkUodGhpcyxlLG1FKDEsaSkpO307cmV0dXJuIGpzJiZkcCYmZkUoRmksZSx7Y29uZmlndXJhYmxlOiEwLHNldDpufSksbHAoZSx0KX0pW1JjXSxcInRvU3RyaW5nXCIsZnVuY3Rpb24oKXtyZXR1cm4gbFModGhpcykudGFnfSksY1MoTnMsXCJ3aXRob3V0U2V0dGVyXCIsZnVuY3Rpb24odCl7cmV0dXJuIGxwKGRTKHQpLHQpfSksUHcuZj1WdyxEdy5mPVZsLG5WLmY9dXAsTncuZj11Uyx0Vi5mPU93LmY9aFMsZVYuZj1GdyxvVi5mPWZ1bmN0aW9uKHQpe3JldHVybiBscChyVih0KSx0KX0sanMmJmlWKF9sLFwiZGVzY3JpcHRpb25cIix7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsUyh0aGlzKS5kZXNjcmlwdGlvbn19KSksUmQoe2dsb2JhbDohMCxjb25zdHJ1Y3RvcjohMCx3cmFwOiEwLGZvcmNlZDohZHMsc2hhbTohZHN9LHtTeW1ib2w6TnN9KSxXdSh3dyhoViksZnVuY3Rpb24odCl7c1YodCk7fSksUmQoe3RhcmdldDp4bCxzdGF0OiEwLGZvcmNlZDohZHN9LHt1c2VTZXR0ZXI6ZnVuY3Rpb24oKXtkcD0hMDt9LHVzZVNpbXBsZTpmdW5jdGlvbigpe2RwPSExO319KSxSZCh7dGFyZ2V0OlwiT2JqZWN0XCIsc3RhdDohMCxmb3JjZWQ6IWRzLHNoYW06IWpzfSx7Y3JlYXRlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU9PT12b2lkIDA/U2ModCk6dXAoU2ModCksZSl9LGRlZmluZVByb3BlcnR5OlZsLGRlZmluZVByb3BlcnRpZXM6dXAsZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOnVTfSksUmQoe3RhcmdldDpcIk9iamVjdFwiLHN0YXQ6ITAsZm9yY2VkOiFkc30se2dldE93blByb3BlcnR5TmFtZXM6aFN9KSxhVigpLGNWKE5zLHhsKSxrd1tWbl09ITA7dmFyIEJ3PXVhJiYhIVN5bWJvbC5mb3ImJiEhU3ltYm9sLmtleUZvcixwVj14dCxfVj1EbixFVj1KZSxtVj1vaSxqdz1wYSxmVj1CdyxocD1qdyhcInN0cmluZy10by1zeW1ib2wtcmVnaXN0cnlcIiksZ1Y9ancoXCJzeW1ib2wtdG8tc3RyaW5nLXJlZ2lzdHJ5XCIpO3BWKHt0YXJnZXQ6XCJTeW1ib2xcIixzdGF0OiEwLGZvcmNlZDohZlZ9LHtmb3I6ZnVuY3Rpb24odCl7dmFyIGU9bVYodCk7aWYoRVYoaHAsZSkpcmV0dXJuIGhwW2VdO3ZhciBuPV9WKFwiU3ltYm9sXCIpKGUpO3JldHVybiBocFtlXT1uLGdWW25dPWUsbn19KTt2YXIgVFY9eHQsU1Y9SmUsUlY9cWMsQ1Y9aGEsSVY9QncscFM9cGEoXCJzeW1ib2wtdG8tc3RyaW5nLXJlZ2lzdHJ5XCIpO1RWKHt0YXJnZXQ6XCJTeW1ib2xcIixzdGF0OiEwLGZvcmNlZDohSVZ9LHtrZXlGb3I6ZnVuY3Rpb24odCl7aWYoIVJWKHQpKXRocm93IFR5cGVFcnJvcihDVih0KStcIiBpcyBub3QgYSBzeW1ib2xcIik7aWYoU1YocFMsdCkpcmV0dXJuIHBTW3RdfX0pO3ZhciBfUz1uZCx2Vj1IZSxFUz1wcix5Vj1vaSxtUz1tZShbXS5wdXNoKSxBVj14dCxHdz1EbixXdz12bSxiVj1LZSxyZD1tZSxIdz1TZSxmUz1IZSxnUz1xYyxLdz1HbSx3Vj1mdW5jdGlvbih0KXtpZih2Vih0KSlyZXR1cm4gdDtpZihfUyh0KSl7Zm9yKHZhciBlPXQubGVuZ3RoLG49W10saT0wO2k8ZTtpKyspe3ZhciByPXRbaV07dHlwZW9mIHI9PVwic3RyaW5nXCI/bVMobixyKTp0eXBlb2YgciE9XCJudW1iZXJcIiYmRVMocikhPVwiTnVtYmVyXCImJkVTKHIpIT1cIlN0cmluZ1wifHxtUyhuLHlWKHIpKTt9dmFyIG89bi5sZW5ndGgscz0hMDtyZXR1cm4gZnVuY3Rpb24oYSxjKXtpZihzKXJldHVybiBzPSExLGM7aWYoX1ModGhpcykpcmV0dXJuIGM7Zm9yKHZhciBkPTA7ZDxvO2QrKylpZihuW2RdPT09YSlyZXR1cm4gY319fSxPVj11YSxOVj1TdHJpbmcscm89R3coXCJKU09OXCIsXCJzdHJpbmdpZnlcIiksQ2Q9cmQoLy4vLmV4ZWMpLFRTPXJkKFwiXCIuY2hhckF0KSxEVj1yZChcIlwiLmNoYXJDb2RlQXQpLFBWPXJkKFwiXCIucmVwbGFjZSksa1Y9cmQoMSAudG9TdHJpbmcpLExWPS9bXFx1RDgwMC1cXHVERkZGXS9nLFNTPS9eW1xcdUQ4MDAtXFx1REJGRl0kLyxSUz0vXltcXHVEQzAwLVxcdURGRkZdJC8sQ1M9IU9WfHxIdyhmdW5jdGlvbigpe3ZhciB0PUd3KFwiU3ltYm9sXCIpKCk7cmV0dXJuIHJvKFt0XSkhPVwiW251bGxdXCJ8fHJvKHthOnR9KSE9XCJ7fVwifHxybyhPYmplY3QodCkpIT1cInt9XCJ9KSxJUz1IdyhmdW5jdGlvbigpe3JldHVybiBybyhcIlxcdURGMDZcXHVEODM0XCIpIT09J1wiXFxcXHVkZjA2XFxcXHVkODM0XCInfHxybyhcIlxcdURFQURcIikhPT0nXCJcXFxcdWRlYWRcIid9KSxNVj1mdW5jdGlvbih0LGUpe3ZhciBuPUt3KGFyZ3VtZW50cyksaT13VihlKTtpZihmUyhpKXx8dCE9PXZvaWQgMCYmIWdTKHQpKXJldHVybiBuWzFdPWZ1bmN0aW9uKHIsbyl7aWYoZlMoaSkmJihvPWJWKGksdGhpcyxOVihyKSxvKSksIWdTKG8pKXJldHVybiBvfSxXdyhybyxudWxsLG4pfSxVVj1mdW5jdGlvbih0LGUsbil7dmFyIGk9VFMobixlLTEpLHI9VFMobixlKzEpO3JldHVybiBDZChTUyx0KSYmIUNkKFJTLHIpfHxDZChSUyx0KSYmIUNkKFNTLGkpP1wiXFxcXHVcIitrVihEVih0LDApLDE2KTp0fTtybyYmQVYoe3RhcmdldDpcIkpTT05cIixzdGF0OiEwLGFyaXR5OjMsZm9yY2VkOkNTfHxJU30se3N0cmluZ2lmeTpmdW5jdGlvbih0LGUsbil7dmFyIGk9S3coYXJndW1lbnRzKSxyPVd3KENTP01WOnJvLG51bGwsaSk7cmV0dXJuIElTJiZ0eXBlb2Ygcj09XCJzdHJpbmdcIj9QVihyLExWLFVWKTpyfX0pO3ZhciB2Uz1YYyx4Vj1fcjt4dCh7dGFyZ2V0OlwiT2JqZWN0XCIsc3RhdDohMCxmb3JjZWQ6IXVhfHxTZShmdW5jdGlvbigpe3ZTLmYoMSk7fSl9LHtnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6ZnVuY3Rpb24odCl7dmFyIGU9dlMuZjtyZXR1cm4gZT9lKHhWKHQpKTpbXX19KSxGZShcImFzeW5jSXRlcmF0b3JcIiksRmUoXCJoYXNJbnN0YW5jZVwiKSxGZShcImlzQ29uY2F0U3ByZWFkYWJsZVwiKSxGZShcIml0ZXJhdG9yXCIpLEZlKFwibWF0Y2hcIiksRmUoXCJtYXRjaEFsbFwiKSxGZShcInJlcGxhY2VcIiksRmUoXCJzZWFyY2hcIiksRmUoXCJzcGVjaWVzXCIpLEZlKFwic3BsaXRcIik7dmFyIFZWPUF3O0ZlKFwidG9QcmltaXRpdmVcIiksVlYoKTt2YXIgRlY9RG4sQlY9VG87RmUoXCJ0b1N0cmluZ1RhZ1wiKSxCVihGVihcIlN5bWJvbFwiKSxcIlN5bWJvbFwiKSxGZShcInVuc2NvcGFibGVzXCIpLFRvKFdlLkpTT04sXCJKU09OXCIsITApO3ZhciBqVj1HaS5TeW1ib2wsR1Y9cGUsV1Y9QWkuZix5Uz1HVihcIm1ldGFkYXRhXCIpLEFTPUZ1bmN0aW9uLnByb3RvdHlwZTtBU1t5U109PT12b2lkIDAmJldWKEFTLHlTLHt2YWx1ZTpudWxsfSksRmUoXCJkaXNwb3NlXCIpLEZlKFwibWV0YWRhdGFcIik7dmFyIEhWPWpWO0ZlKFwiYXN5bmNEaXNwb3NlXCIpO3ZhciBLVj1tZSxuZj1EbihcIlN5bWJvbFwiKSxZVj1uZi5rZXlGb3IscVY9S1YobmYucHJvdG90eXBlLnZhbHVlT2YpLFl3PW5mLmlzUmVnaXN0ZXJlZFN5bWJvbHx8ZnVuY3Rpb24odCl7dHJ5e3JldHVybiBZVihxVih0KSkhPT12b2lkIDB9Y2F0Y2h7cmV0dXJuICExfX07eHQoe3RhcmdldDpcIlN5bWJvbFwiLHN0YXQ6ITB9LHtpc1JlZ2lzdGVyZWRTeW1ib2w6WXd9KTtmb3IoYlM9cGEscHA9RG4sd1M9bWUsT1M9cWMsTlM9cGUsTmE9cHAoXCJTeW1ib2xcIiksZ0U9TmEuaXNXZWxsS25vd25TeW1ib2wsVEU9cHAoXCJPYmplY3RcIixcImdldE93blByb3BlcnR5TmFtZXNcIikscXc9d1MoTmEucHJvdG90eXBlLnZhbHVlT2YpLFNFPWJTKFwid2tzXCIpLElkPTAsX3A9VEUoTmEpLERTPV9wLmxlbmd0aDtJZDxEUztJZCsrKXRyeXtFcD1fcFtJZF0sT1MoTmFbRXBdKSYmTlMoRXApO31jYXRjaHt9dmFyIEVwLGJTLHBwLHdTLE9TLE5TLE5hLGdFLFRFLHF3LFNFLElkLF9wLERTLFBTPWZ1bmN0aW9uKHQpe2lmKGdFJiZnRSh0KSlyZXR1cm4gITA7dHJ5e2Zvcih2YXIgZT1xdyh0KSxuPTAsaT1URShTRSkscj1pLmxlbmd0aDtuPHI7bisrKWlmKFNFW2lbbl1dPT1lKXJldHVybiAhMH1jYXRjaHt9cmV0dXJuICExfTt4dCh7dGFyZ2V0OlwiU3ltYm9sXCIsc3RhdDohMCxmb3JjZWQ6ITB9LHtpc1dlbGxLbm93blN5bWJvbDpQU30pLEZlKFwibWF0Y2hlclwiKSxGZShcIm9ic2VydmFibGVcIikseHQoe3RhcmdldDpcIlN5bWJvbFwiLHN0YXQ6ITAsbmFtZTpcImlzUmVnaXN0ZXJlZFN5bWJvbFwifSx7aXNSZWdpc3RlcmVkOll3fSkseHQoe3RhcmdldDpcIlN5bWJvbFwiLHN0YXQ6ITAsbmFtZTpcImlzV2VsbEtub3duU3ltYm9sXCIsZm9yY2VkOiEwfSx7aXNXZWxsS25vd246UFN9KSxGZShcIm1ldGFkYXRhS2V5XCIpLEZlKFwicGF0dGVybk1hdGNoXCIpLEZlKFwicmVwbGFjZUFsbFwiKTt2YXIgRHM9YWUoSFYpLHp3PWFlKEVhLmYoXCJpdGVyYXRvclwiKSk7ZnVuY3Rpb24gb2ModCl7cmV0dXJuIG9jPXR5cGVvZiBEcz09XCJmdW5jdGlvblwiJiZ0eXBlb2Ygenc9PVwic3ltYm9sXCI/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmdHlwZW9mIERzPT1cImZ1bmN0aW9uXCImJmUuY29uc3RydWN0b3I9PT1EcyYmZSE9PURzLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSxvYyh0KX12YXIgelY9YWUoRWEuZihcInRvUHJpbWl0aXZlXCIpKTtmdW5jdGlvbiBKVih0KXt2YXIgZT1mdW5jdGlvbihuLGkpe2lmKG9jKG4pIT09XCJvYmplY3RcInx8bj09PW51bGwpcmV0dXJuIG47dmFyIHI9blt6Vl07aWYociE9PXZvaWQgMCl7dmFyIG89ci5jYWxsKG4saXx8XCJkZWZhdWx0XCIpO2lmKG9jKG8pIT09XCJvYmplY3RcIilyZXR1cm4gbzt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIChpPT09XCJzdHJpbmdcIj9TdHJpbmc6TnVtYmVyKShuKX0odCxcInN0cmluZ1wiKTtyZXR1cm4gb2MoZSk9PT1cInN5bWJvbFwiP2U6U3RyaW5nKGUpfWZ1bmN0aW9uIFQodCxlLG4pe3JldHVybiAoZT1KVihlKSlpbiB0P1J3KHQsZSx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOnRbZV09bix0fXZhciBYVj1TZSxRVj1wZShcIml0ZXJhdG9yXCIpLHJmPSFYVihmdW5jdGlvbigpe3ZhciB0PW5ldyBVUkwoXCJiP2E9MSZiPTImYz0zXCIsXCJodHRwOi8vYVwiKSxlPXQuc2VhcmNoUGFyYW1zLG49bmV3IFVSTFNlYXJjaFBhcmFtcyhcImE9MSZhPTJcIiksaT1cIlwiO3JldHVybiB0LnBhdGhuYW1lPVwiYyUyMGRcIixlLmZvckVhY2goZnVuY3Rpb24ocixvKXtlLmRlbGV0ZShcImJcIiksaSs9bytyO30pLG4uZGVsZXRlKFwiYVwiLDIpLCF0LnRvSlNPTnx8IW4uaGFzKFwiYVwiLDEpfHxuLmhhcyhcImFcIiwyKXx8IWUuc2l6ZSYmITB8fCFlLnNvcnR8fHQuaHJlZiE9PVwiaHR0cDovL2EvYyUyMGQ/YT0xJmM9M1wifHxlLmdldChcImNcIikhPT1cIjNcInx8U3RyaW5nKG5ldyBVUkxTZWFyY2hQYXJhbXMoXCI/YT0xXCIpKSE9PVwiYT0xXCJ8fCFlW1FWXXx8bmV3IFVSTChcImh0dHBzOi8vYUBiXCIpLnVzZXJuYW1lIT09XCJhXCJ8fG5ldyBVUkxTZWFyY2hQYXJhbXMobmV3IFVSTFNlYXJjaFBhcmFtcyhcImE9YlwiKSkuZ2V0KFwiYVwiKSE9PVwiYlwifHxuZXcgVVJMKFwiaHR0cDovL1xcdTA0NDJcXHUwNDM1XFx1MDQ0MVxcdTA0NDJcIikuaG9zdCE9PVwieG4tLWUxYXliY1wifHxuZXcgVVJMKFwiaHR0cDovL2EjXFx1MDQzMVwiKS5oYXNoIT09XCIjJUQwJUIxXCJ8fGkhPT1cImExYzNcInx8bmV3IFVSTChcImh0dHA6Ly94XCIsdm9pZCAwKS5ob3N0IT09XCJ4XCJ9KSxaVj1nbyxtcD14dCxYcz1XZSx2ZD1LZSx1cj1tZSxQcz1yaSxrUz1yZixMUz1nbywkVj1VdSx0Rj1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpIGluIGUpbiYmbi51bnNhZmUmJnRbaV0/dFtpXT1lW2ldOlpWKHQsaSxlW2ldLG4pO3JldHVybiB0fSxlRj1UbyxuRj14bSxvZj1ucyxKdz1GbSxmcD1IZSxpRj1KZSxyRj1tbyxvRj1FcixzRj1DbixYdz1Ibixibj1vaSxhRj1RYyxNUz1fbyxSRT1VbSxjRj1NdSxscz1WdSxkRj1odyxsRj1wZShcIml0ZXJhdG9yXCIpLENjPVwiVVJMU2VhcmNoUGFyYW1zXCIsUXc9Q2MrXCJJdGVyYXRvclwiLFp3PW9mLnNldCxmaT1vZi5nZXR0ZXJGb3IoQ2MpLHVGPW9mLmdldHRlckZvcihRdyksaEY9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixzZj1mdW5jdGlvbih0KXtpZighUHMpcmV0dXJuIFhzW3RdO3ZhciBlPWhGKFhzLHQpO3JldHVybiBlJiZlLnZhbHVlfSxVUz1zZihcImZldGNoXCIpLEZsPXNmKFwiUmVxdWVzdFwiKSxzYz1zZihcIkhlYWRlcnNcIiksZ3A9RmwmJkZsLnByb3RvdHlwZSx4Uz1zYyYmc2MucHJvdG90eXBlLHBGPVhzLlJlZ0V4cCxfRj1Ycy5UeXBlRXJyb3IsJHc9WHMuZGVjb2RlVVJJQ29tcG9uZW50LEVGPVhzLmVuY29kZVVSSUNvbXBvbmVudCxtRj11cihcIlwiLmNoYXJBdCksVlM9dXIoW10uam9pbikseG89dXIoW10ucHVzaCksQ0U9dXIoXCJcIi5yZXBsYWNlKSxmRj11cihbXS5zaGlmdCksRlM9dXIoW10uc3BsaWNlKSxCUz11cihcIlwiLnNwbGl0KSxnRj11cihcIlwiLnNsaWNlKSxURj0vXFwrL2csalM9QXJyYXkoNCksU0Y9ZnVuY3Rpb24odCl7cmV0dXJuIGpTW3QtMV18fChqU1t0LTFdPXBGKFwiKCg/OiVbXFxcXGRhLWZdezJ9KXtcIit0K1wifSlcIixcImdpXCIpKX0sUkY9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiAkdyh0KX1jYXRjaHtyZXR1cm4gdH19LEdTPWZ1bmN0aW9uKHQpe3ZhciBlPUNFKHQsVEYsXCIgXCIpLG49NDt0cnl7cmV0dXJuICR3KGUpfWNhdGNoe2Zvcig7bjspZT1DRShlLFNGKG4tLSksUkYpO3JldHVybiBlfX0sQ0Y9L1shJygpfl18JTIwL2csSUY9e1wiIVwiOlwiJTIxXCIsXCInXCI6XCIlMjdcIixcIihcIjpcIiUyOFwiLFwiKVwiOlwiJTI5XCIsXCJ+XCI6XCIlN0VcIixcIiUyMFwiOlwiK1wifSx2Rj1mdW5jdGlvbih0KXtyZXR1cm4gSUZbdF19LFdTPWZ1bmN0aW9uKHQpe3JldHVybiBDRShFRih0KSxDRix2Ril9LFRwPW5GKGZ1bmN0aW9uKHQsZSl7WncodGhpcyx7dHlwZTpRdyxpdGVyYXRvcjpSRShmaSh0KS5lbnRyaWVzKSxraW5kOmV9KTt9LFwiSXRlcmF0b3JcIixmdW5jdGlvbigpe3ZhciB0PXVGKHRoaXMpLGU9dC5raW5kLG49dC5pdGVyYXRvci5uZXh0KCksaT1uLnZhbHVlO3JldHVybiBuLmRvbmV8fChuLnZhbHVlPWU9PT1cImtleXNcIj9pLmtleTplPT09XCJ2YWx1ZXNcIj9pLnZhbHVlOltpLmtleSxpLnZhbHVlXSksbn0sITApLHRPPWZ1bmN0aW9uKHQpe3RoaXMuZW50cmllcz1bXSx0aGlzLnVybD1udWxsLHQhPT12b2lkIDAmJihYdyh0KT90aGlzLnBhcnNlT2JqZWN0KHQpOnRoaXMucGFyc2VRdWVyeSh0eXBlb2YgdD09XCJzdHJpbmdcIj9tRih0LDApPT09XCI/XCI/Z0YodCwxKTp0OmJuKHQpKSk7fTt0Ty5wcm90b3R5cGU9e3R5cGU6Q2MsYmluZFVSTDpmdW5jdGlvbih0KXt0aGlzLnVybD10LHRoaXMudXBkYXRlKCk7fSxwYXJzZU9iamVjdDpmdW5jdGlvbih0KXt2YXIgZSxuLGkscixvLHMsYSxjPWNGKHQpO2lmKGMpZm9yKG49KGU9UkUodCxjKSkubmV4dDshKGk9dmQobixlKSkuZG9uZTspe2lmKG89KHI9UkUoc0YoaS52YWx1ZSkpKS5uZXh0LChzPXZkKG8scikpLmRvbmV8fChhPXZkKG8scikpLmRvbmV8fCF2ZChvLHIpLmRvbmUpdGhyb3cgX0YoXCJFeHBlY3RlZCBzZXF1ZW5jZSB3aXRoIGxlbmd0aCAyXCIpO3hvKHRoaXMuZW50cmllcyx7a2V5OmJuKHMudmFsdWUpLHZhbHVlOmJuKGEudmFsdWUpfSk7fWVsc2UgZm9yKHZhciBkIGluIHQpaUYodCxkKSYmeG8odGhpcy5lbnRyaWVzLHtrZXk6ZCx2YWx1ZTpibih0W2RdKX0pO30scGFyc2VRdWVyeTpmdW5jdGlvbih0KXtpZih0KWZvcih2YXIgZSxuLGk9QlModCxcIiZcIikscj0wO3I8aS5sZW5ndGg7KShlPWlbcisrXSkubGVuZ3RoJiYobj1CUyhlLFwiPVwiKSx4byh0aGlzLmVudHJpZXMse2tleTpHUyhmRihuKSksdmFsdWU6R1MoVlMobixcIj1cIikpfSkpO30sc2VyaWFsaXplOmZ1bmN0aW9uKCl7Zm9yKHZhciB0LGU9dGhpcy5lbnRyaWVzLG49W10saT0wO2k8ZS5sZW5ndGg7KXQ9ZVtpKytdLHhvKG4sV1ModC5rZXkpK1wiPVwiK1dTKHQudmFsdWUpKTtyZXR1cm4gVlMobixcIiZcIil9LHVwZGF0ZTpmdW5jdGlvbigpe3RoaXMuZW50cmllcy5sZW5ndGg9MCx0aGlzLnBhcnNlUXVlcnkodGhpcy51cmwucXVlcnkpO30sdXBkYXRlVVJMOmZ1bmN0aW9uKCl7dGhpcy51cmwmJnRoaXMudXJsLnVwZGF0ZSgpO319O3ZhciBCbD1mdW5jdGlvbigpe0p3KHRoaXMsdnMpO3ZhciB0PVp3KHRoaXMsbmV3IHRPKGFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwKSk7UHN8fCh0aGlzLnNpemU9dC5lbnRyaWVzLmxlbmd0aCk7fSx2cz1CbC5wcm90b3R5cGU7dEYodnMse2FwcGVuZDpmdW5jdGlvbih0LGUpe3ZhciBuPWZpKHRoaXMpO2xzKGFyZ3VtZW50cy5sZW5ndGgsMikseG8obi5lbnRyaWVzLHtrZXk6Ym4odCksdmFsdWU6Ym4oZSl9KSxQc3x8dGhpcy5sZW5ndGgrKyxuLnVwZGF0ZVVSTCgpO30sZGVsZXRlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1maSh0aGlzKSxuPWxzKGFyZ3VtZW50cy5sZW5ndGgsMSksaT1lLmVudHJpZXMscj1ibih0KSxvPW48Mj92b2lkIDA6YXJndW1lbnRzWzFdLHM9bz09PXZvaWQgMD9vOmJuKG8pLGE9MDthPGkubGVuZ3RoOyl7dmFyIGM9aVthXTtpZihjLmtleSE9PXJ8fHMhPT12b2lkIDAmJmMudmFsdWUhPT1zKWErKztlbHNlIGlmKEZTKGksYSwxKSxzIT09dm9pZCAwKWJyZWFrfVBzfHwodGhpcy5zaXplPWkubGVuZ3RoKSxlLnVwZGF0ZVVSTCgpO30sZ2V0OmZ1bmN0aW9uKHQpe3ZhciBlPWZpKHRoaXMpLmVudHJpZXM7bHMoYXJndW1lbnRzLmxlbmd0aCwxKTtmb3IodmFyIG49Ym4odCksaT0wO2k8ZS5sZW5ndGg7aSsrKWlmKGVbaV0ua2V5PT09bilyZXR1cm4gZVtpXS52YWx1ZTtyZXR1cm4gbnVsbH0sZ2V0QWxsOmZ1bmN0aW9uKHQpe3ZhciBlPWZpKHRoaXMpLmVudHJpZXM7bHMoYXJndW1lbnRzLmxlbmd0aCwxKTtmb3IodmFyIG49Ym4odCksaT1bXSxyPTA7cjxlLmxlbmd0aDtyKyspZVtyXS5rZXk9PT1uJiZ4byhpLGVbcl0udmFsdWUpO3JldHVybiBpfSxoYXM6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPWZpKHRoaXMpLmVudHJpZXMsbj1scyhhcmd1bWVudHMubGVuZ3RoLDEpLGk9Ym4odCkscj1uPDI/dm9pZCAwOmFyZ3VtZW50c1sxXSxvPXI9PT12b2lkIDA/cjpibihyKSxzPTA7czxlLmxlbmd0aDspe3ZhciBhPWVbcysrXTtpZihhLmtleT09PWkmJihvPT09dm9pZCAwfHxhLnZhbHVlPT09bykpcmV0dXJuICEwfXJldHVybiAhMX0sc2V0OmZ1bmN0aW9uKHQsZSl7dmFyIG49ZmkodGhpcyk7bHMoYXJndW1lbnRzLmxlbmd0aCwxKTtmb3IodmFyIGkscj1uLmVudHJpZXMsbz0hMSxzPWJuKHQpLGE9Ym4oZSksYz0wO2M8ci5sZW5ndGg7YysrKShpPXJbY10pLmtleT09PXMmJihvP0ZTKHIsYy0tLDEpOihvPSEwLGkudmFsdWU9YSkpO298fHhvKHIse2tleTpzLHZhbHVlOmF9KSxQc3x8KHRoaXMuc2l6ZT1yLmxlbmd0aCksbi51cGRhdGVVUkwoKTt9LHNvcnQ6ZnVuY3Rpb24oKXt2YXIgdD1maSh0aGlzKTtkRih0LmVudHJpZXMsZnVuY3Rpb24oZSxuKXtyZXR1cm4gZS5rZXk+bi5rZXk/MTotMX0pLHQudXBkYXRlVVJMKCk7fSxmb3JFYWNoOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuPWZpKHRoaXMpLmVudHJpZXMsaT1yRih0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKSxyPTA7cjxuLmxlbmd0aDspaSgoZT1uW3IrK10pLnZhbHVlLGUua2V5LHRoaXMpO30sa2V5czpmdW5jdGlvbigpe3JldHVybiBuZXcgVHAodGhpcyxcImtleXNcIil9LHZhbHVlczpmdW5jdGlvbigpe3JldHVybiBuZXcgVHAodGhpcyxcInZhbHVlc1wiKX0sZW50cmllczpmdW5jdGlvbigpe3JldHVybiBuZXcgVHAodGhpcyxcImVudHJpZXNcIil9fSx7ZW51bWVyYWJsZTohMH0pLExTKHZzLGxGLHZzLmVudHJpZXMse25hbWU6XCJlbnRyaWVzXCJ9KSxMUyh2cyxcInRvU3RyaW5nXCIsZnVuY3Rpb24oKXtyZXR1cm4gZmkodGhpcykuc2VyaWFsaXplKCl9LHtlbnVtZXJhYmxlOiEwfSksUHMmJiRWKHZzLFwic2l6ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZmkodGhpcykuZW50cmllcy5sZW5ndGh9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfSksZUYoQmwsQ2MpLG1wKHtnbG9iYWw6ITAsY29uc3RydWN0b3I6ITAsZm9yY2VkOiFrU30se1VSTFNlYXJjaFBhcmFtczpCbH0pLCFrUyYmZnAoc2MpJiYoSFM9dXIoeFMuaGFzKSxLUz11cih4Uy5zZXQpLFNwPWZ1bmN0aW9uKHQpe2lmKFh3KHQpKXt2YXIgZSxuPXQuYm9keTtpZihvRihuKT09PUNjKXJldHVybiBlPXQuaGVhZGVycz9uZXcgc2ModC5oZWFkZXJzKTpuZXcgc2MsSFMoZSxcImNvbnRlbnQtdHlwZVwiKXx8S1MoZSxcImNvbnRlbnQtdHlwZVwiLFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9VVRGLThcIiksYUYodCx7Ym9keTpNUygwLGJuKG4pKSxoZWFkZXJzOk1TKDAsZSl9KX1yZXR1cm4gdH0sZnAoVVMpJiZtcCh7Z2xvYmFsOiEwLGVudW1lcmFibGU6ITAsZG9udENhbGxHZXRTZXQ6ITAsZm9yY2VkOiEwfSx7ZmV0Y2g6ZnVuY3Rpb24odCl7cmV0dXJuIFVTKHQsYXJndW1lbnRzLmxlbmd0aD4xP1NwKGFyZ3VtZW50c1sxXSk6e30pfX0pLGZwKEZsKSYmKHlkPWZ1bmN0aW9uKHQpe3JldHVybiBKdyh0aGlzLGdwKSxuZXcgRmwodCxhcmd1bWVudHMubGVuZ3RoPjE/U3AoYXJndW1lbnRzWzFdKTp7fSl9LGdwLmNvbnN0cnVjdG9yPXlkLHlkLnByb3RvdHlwZT1ncCxtcCh7Z2xvYmFsOiEwLGNvbnN0cnVjdG9yOiEwLGRvbnRDYWxsR2V0U2V0OiEwLGZvcmNlZDohMH0se1JlcXVlc3Q6eWR9KSkpO3ZhciBIUyxLUyxTcCx5ZCx5Rj17VVJMU2VhcmNoUGFyYW1zOkJsLGdldFN0YXRlOmZpfSxZUz1hZShHaS5VUkxTZWFyY2hQYXJhbXMpLEFGPXtpc0Jyb3dzZXI6ITAsY2xhc3Nlczp7VVJMU2VhcmNoUGFyYW1zOllTIT09dm9pZCAwP1lTOlFtLEZvcm1EYXRhOnR5cGVvZiBGb3JtRGF0YTxcInVcIj9Gb3JtRGF0YTpudWxsLEJsb2I6dHlwZW9mIEJsb2I8XCJ1XCI/QmxvYjpudWxsfSxwcm90b2NvbHM6W1wiaHR0cFwiLFwiaHR0cHNcIixcImZpbGVcIixcImJsb2JcIixcInVybFwiLFwiZGF0YVwiXX0sZU89dHlwZW9mIHdpbmRvdzxcInVcIiYmdHlwZW9mIGRvY3VtZW50PFwidVwiLGJGPShxUz10eXBlb2YgbmF2aWdhdG9yPFwidVwiJiZuYXZpZ2F0b3IucHJvZHVjdCxlTyYmW1wiUmVhY3ROYXRpdmVcIixcIk5hdGl2ZVNjcmlwdFwiLFwiTlNcIl0uaW5kZXhPZihxUyk8MCkscVMsd0Y9dHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlPFwidVwiJiZzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGUmJnR5cGVvZiBzZWxmLmltcG9ydFNjcmlwdHM9PVwiZnVuY3Rpb25cIjtmdW5jdGlvbiB6Uyh0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKGk9aS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKS5lbnVtZXJhYmxlfSkpLG4ucHVzaC5hcHBseShuLGkpO31yZXR1cm4gbn1mdW5jdGlvbiBKUyh0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV0hPW51bGw/YXJndW1lbnRzW2VdOnt9O2UlMj96UyhPYmplY3QobiksITApLmZvckVhY2goZnVuY3Rpb24oaSl7VCh0LGksbltpXSk7fSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6elMoT2JqZWN0KG4pKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGksT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGkpKTt9KTt9cmV0dXJuIHR9dmFyIHNyPUpTKEpTKHt9LE9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGhhc0Jyb3dzZXJFbnY6ZU8saGFzU3RhbmRhcmRCcm93c2VyRW52OmJGLGhhc1N0YW5kYXJkQnJvd3NlcldlYldvcmtlckVudjp3Rn0pKSxBRiksT0Y9Q24sTkY9S2UsREY9SmUsUEY9aG4sa0Y9ZnVuY3Rpb24oKXt2YXIgdD1PRih0aGlzKSxlPVwiXCI7cmV0dXJuIHQuaGFzSW5kaWNlcyYmKGUrPVwiZFwiKSx0Lmdsb2JhbCYmKGUrPVwiZ1wiKSx0Lmlnbm9yZUNhc2UmJihlKz1cImlcIiksdC5tdWx0aWxpbmUmJihlKz1cIm1cIiksdC5kb3RBbGwmJihlKz1cInNcIiksdC51bmljb2RlJiYoZSs9XCJ1XCIpLHQudW5pY29kZVNldHMmJihlKz1cInZcIiksdC5zdGlja3kmJihlKz1cInlcIiksZX0sWFM9UmVnRXhwLnByb3RvdHlwZSxuTz1mdW5jdGlvbih0KXt2YXIgZT10LmZsYWdzO3JldHVybiBlIT09dm9pZCAwfHxcImZsYWdzXCJpbiBYU3x8REYodCxcImZsYWdzXCIpfHwhUEYoWFMsdCk/ZTpORihrRix0KX0sTEY9cW0uY2hhckF0LFFTPUtlLE1GPUNuLFVGPUhlLHhGPXByLFZGPS8uLy5leGVjLEZGPVR5cGVFcnJvcixCRj14dCxaUz1LZSxpTz1nYyxqRj14bSxBZD1WbSwkUz1sYSxyTz1NQSxJYz1vaSxHRj1DbixXRj1kYSxIRj1wcixLRj1VQSxvTz1uTyxZRj13dSxxRj1TZSx6Rj1qbSxKRj1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGUrKG4/TEYodCxlKS5sZW5ndGg6MSl9LFhGPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5leGVjO2lmKFVGKG4pKXt2YXIgaT1RUyhuLHQsZSk7cmV0dXJuIGkhPT1udWxsJiZNRihpKSxpfWlmKHhGKHQpPT09XCJSZWdFeHBcIilyZXR1cm4gUVMoVkYsdCxlKTt0aHJvdyBGRihcIlJlZ0V4cCNleGVjIGNhbGxlZCBvbiBpbmNvbXBhdGlibGUgcmVjZWl2ZXJcIil9LHNPPW5zLFFGPXBlKFwibWF0Y2hBbGxcIiksYU89XCJSZWdFeHAgU3RyaW5nXCIsY089YU8rXCIgSXRlcmF0b3JcIixaRj1zTy5zZXQsJEY9c08uZ2V0dGVyRm9yKGNPKSx0Qj1UeXBlRXJyb3IsSUU9aU8oXCJcIi5pbmRleE9mKSxqbD1pTyhcIlwiLm1hdGNoQWxsKSxScD0hIWpsJiYhcUYoZnVuY3Rpb24oKXtqbChcImFcIiwvLi8pO30pLGVCPWpGKGZ1bmN0aW9uKHQsZSxuLGkpe1pGKHRoaXMse3R5cGU6Y08scmVnZXhwOnQsc3RyaW5nOmUsZ2xvYmFsOm4sdW5pY29kZTppLGRvbmU6ITF9KTt9LGFPLGZ1bmN0aW9uKCl7dmFyIHQ9JEYodGhpcyk7aWYodC5kb25lKXJldHVybiBBZCh2b2lkIDAsITApO3ZhciBlPXQucmVnZXhwLG49dC5zdHJpbmcsaT1YRihlLG4pO3JldHVybiBpPT09bnVsbD8odC5kb25lPSEwLEFkKHZvaWQgMCwhMCkpOnQuZ2xvYmFsPyhJYyhpWzBdKT09PVwiXCImJihlLmxhc3RJbmRleD1KRihuLHJPKGUubGFzdEluZGV4KSx0LnVuaWNvZGUpKSxBZChpLCExKSk6KHQuZG9uZT0hMCxBZChpLCExKSl9KSx0Uj1mdW5jdGlvbih0KXt2YXIgZSxuLGkscj1HRih0aGlzKSxvPUljKHQpLHM9ekYocixSZWdFeHApLGE9SWMob08ocikpO3JldHVybiBlPW5ldyBzKHM9PT1SZWdFeHA/ci5zb3VyY2U6cixhKSxuPSEhfklFKGEsXCJnXCIpLGk9ISF+SUUoYSxcInVcIiksZS5sYXN0SW5kZXg9ck8oci5sYXN0SW5kZXgpLG5ldyBlQihlLG8sbixpKX07QkYoe3RhcmdldDpcIlN0cmluZ1wiLHByb3RvOiEwLGZvcmNlZDpScH0se21hdGNoQWxsOmZ1bmN0aW9uKHQpe3ZhciBlLG4saSxyLG89JFModGhpcyk7aWYoV0YodCkpe2lmKFJwKXJldHVybiBqbChvLHQpfWVsc2Uge2lmKEtGKHQpJiYoZT1JYygkUyhvTyh0KSkpLCF+SUUoZSxcImdcIikpKXRocm93IHRCKFwiYC5tYXRjaEFsbGAgZG9lcyBub3QgYWxsb3cgbm9uLWdsb2JhbCByZWdleGVzXCIpO2lmKFJwKXJldHVybiBqbChvLHQpO2lmKChpPVlGKHQsUUYpKT09PXZvaWQgMCYmSEYodCk9PVwiUmVnRXhwXCImJihpPXRSKSxpKXJldHVybiBaUyhpLHQsbyl9cmV0dXJuIG49SWMobykscj1uZXcgUmVnRXhwKHQsXCJnXCIpLFpTKHRSLHIsbil9fSk7dmFyIG5CPWJpKFwiU3RyaW5nXCIpLm1hdGNoQWxsLGlCPWhuLHJCPW5CLENwPVN0cmluZy5wcm90b3R5cGUsb0I9ZnVuY3Rpb24odCl7dmFyIGU9dC5tYXRjaEFsbDtyZXR1cm4gdHlwZW9mIHQ9PVwic3RyaW5nXCJ8fHQ9PT1DcHx8aUIoQ3AsdCkmJmU9PT1DcC5tYXRjaEFsbD9yQjplfSxzQj1hZShvQik7ZnVuY3Rpb24gZE8odCl7ZnVuY3Rpb24gZShuLGkscixvKXtsZXQgcz1uW28rK107aWYocz09PVwiX19wcm90b19fXCIpcmV0dXJuICEwO2xldCBhPU51bWJlci5pc0Zpbml0ZSgrcyksYz1vPj1uLmxlbmd0aDtyZXR1cm4gcz0hcyYmSy5pc0FycmF5KHIpP3IubGVuZ3RoOnMsYz8oSy5oYXNPd25Qcm9wKHIscyk/cltzXT1bcltzXSxpXTpyW3NdPWksIWEpOihyW3NdJiZLLmlzT2JqZWN0KHJbc10pfHwocltzXT1bXSksZShuLGkscltzXSxvKSYmSy5pc0FycmF5KHJbc10pJiYocltzXT1mdW5jdGlvbihkKXtsZXQgbD17fSx1PU9iamVjdC5rZXlzKGQpLGgscD11Lmxlbmd0aCxnO2ZvcihoPTA7aDxwO2grKylnPXVbaF0sbFtnXT1kW2ddO3JldHVybiBsfShyW3NdKSksIWEpfWlmKEsuaXNGb3JtRGF0YSh0KSYmSy5pc0Z1bmN0aW9uKHQuZW50cmllcykpe2xldCBuPXt9O3JldHVybiBLLmZvckVhY2hFbnRyeSh0LChpLHIpPT57ZShmdW5jdGlvbihvKXtyZXR1cm4gc0IoSykuY2FsbChLLC9cXHcrfFxcWyhcXHcqKV0vZyxvKS5tYXAocz0+c1swXT09PVwiW11cIj9cIlwiOnNbMV18fHNbMF0pfShpKSxyLG4sMCk7fSksbn1yZXR1cm4gbnVsbH12YXIgYWY9e3RyYW5zaXRpb25hbDpndyxhZGFwdGVyOltcInhoclwiLFwiaHR0cFwiXSx0cmFuc2Zvcm1SZXF1ZXN0OltmdW5jdGlvbih0LGUpe2xldCBuPWUuZ2V0Q29udGVudFR5cGUoKXx8XCJcIixpPW4uaW5kZXhPZihcImFwcGxpY2F0aW9uL2pzb25cIik+LTEscj1LLmlzT2JqZWN0KHQpO2lmKHImJksuaXNIVE1MRm9ybSh0KSYmKHQ9bmV3IEZvcm1EYXRhKHQpKSxLLmlzRm9ybURhdGEodCkpcmV0dXJuIGk/SlNPTi5zdHJpbmdpZnkoZE8odCkpOnQ7aWYoSy5pc0FycmF5QnVmZmVyKHQpfHxLLmlzQnVmZmVyKHQpfHxLLmlzU3RyZWFtKHQpfHxLLmlzRmlsZSh0KXx8Sy5pc0Jsb2IodCkpcmV0dXJuIHQ7aWYoSy5pc0FycmF5QnVmZmVyVmlldyh0KSlyZXR1cm4gdC5idWZmZXI7aWYoSy5pc1VSTFNlYXJjaFBhcmFtcyh0KSlyZXR1cm4gZS5zZXRDb250ZW50VHlwZShcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04XCIsITEpLHQudG9TdHJpbmcoKTtsZXQgbztpZihyKXtpZihuLmluZGV4T2YoXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIik+LTEpcmV0dXJuIGZ1bmN0aW9uKHMsYSl7cmV0dXJuIFVsKHMsbmV3IHNyLmNsYXNzZXMuVVJMU2VhcmNoUGFyYW1zLE9iamVjdC5hc3NpZ24oe3Zpc2l0b3I6ZnVuY3Rpb24oYyxkLGwsdSl7cmV0dXJuIHNyLmlzTm9kZSYmSy5pc0J1ZmZlcihjKT8odGhpcy5hcHBlbmQoZCxjLnRvU3RyaW5nKFwiYmFzZTY0XCIpKSwhMSk6dS5kZWZhdWx0VmlzaXRvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSxhKSl9KHQsdGhpcy5mb3JtU2VyaWFsaXplcikudG9TdHJpbmcoKTtpZigobz1LLmlzRmlsZUxpc3QodCkpfHxuLmluZGV4T2YoXCJtdWx0aXBhcnQvZm9ybS1kYXRhXCIpPi0xKXtsZXQgcz10aGlzLmVudiYmdGhpcy5lbnYuRm9ybURhdGE7cmV0dXJuIFVsKG8/e1wiZmlsZXNbXVwiOnR9OnQscyYmbmV3IHMsdGhpcy5mb3JtU2VyaWFsaXplcil9fXJldHVybiByfHxpPyhlLnNldENvbnRlbnRUeXBlKFwiYXBwbGljYXRpb24vanNvblwiLCExKSxmdW5jdGlvbihzLGEsYyl7aWYoSy5pc1N0cmluZyhzKSl0cnl7cmV0dXJuIChhfHxKU09OLnBhcnNlKShzKSxybihLKS5jYWxsKEsscyl9Y2F0Y2goZCl7aWYoZC5uYW1lIT09XCJTeW50YXhFcnJvclwiKXRocm93IGR9cmV0dXJuICgwLCBKU09OLnN0cmluZ2lmeSkocyl9KHQpKTp0fV0sdHJhbnNmb3JtUmVzcG9uc2U6W2Z1bmN0aW9uKHQpe2xldCBlPXRoaXMudHJhbnNpdGlvbmFsfHxhZi50cmFuc2l0aW9uYWwsbj1lJiZlLmZvcmNlZEpTT05QYXJzaW5nLGk9dGhpcy5yZXNwb25zZVR5cGU9PT1cImpzb25cIjtpZih0JiZLLmlzU3RyaW5nKHQpJiYobiYmIXRoaXMucmVzcG9uc2VUeXBlfHxpKSl7bGV0IHI9IShlJiZlLnNpbGVudEpTT05QYXJzaW5nKSYmaTt0cnl7cmV0dXJuIEpTT04ucGFyc2UodCl9Y2F0Y2gobyl7aWYocil0aHJvdyBvLm5hbWU9PT1cIlN5bnRheEVycm9yXCI/cXQuZnJvbShvLHF0LkVSUl9CQURfUkVTUE9OU0UsdGhpcyxudWxsLHRoaXMucmVzcG9uc2UpOm99fXJldHVybiB0fV0sdGltZW91dDowLHhzcmZDb29raWVOYW1lOlwiWFNSRi1UT0tFTlwiLHhzcmZIZWFkZXJOYW1lOlwiWC1YU1JGLVRPS0VOXCIsbWF4Q29udGVudExlbmd0aDotMSxtYXhCb2R5TGVuZ3RoOi0xLGVudjp7Rm9ybURhdGE6c3IuY2xhc3Nlcy5Gb3JtRGF0YSxCbG9iOnNyLmNsYXNzZXMuQmxvYn0sdmFsaWRhdGVTdGF0dXM6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTIwMCYmdDwzMDB9LGhlYWRlcnM6e2NvbW1vbjp7QWNjZXB0OlwiYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qXCIsXCJDb250ZW50LVR5cGVcIjp2b2lkIDB9fX07Sy5mb3JFYWNoKFtcImRlbGV0ZVwiLFwiZ2V0XCIsXCJoZWFkXCIsXCJwb3N0XCIsXCJwdXRcIixcInBhdGNoXCJdLHQ9PnthZi5oZWFkZXJzW3RdPXt9O30pO3ZhciBjZj1hZixhQj1LLnRvT2JqZWN0U2V0KFtcImFnZVwiLFwiYXV0aG9yaXphdGlvblwiLFwiY29udGVudC1sZW5ndGhcIixcImNvbnRlbnQtdHlwZVwiLFwiZXRhZ1wiLFwiZXhwaXJlc1wiLFwiZnJvbVwiLFwiaG9zdFwiLFwiaWYtbW9kaWZpZWQtc2luY2VcIixcImlmLXVubW9kaWZpZWQtc2luY2VcIixcImxhc3QtbW9kaWZpZWRcIixcImxvY2F0aW9uXCIsXCJtYXgtZm9yd2FyZHNcIixcInByb3h5LWF1dGhvcml6YXRpb25cIixcInJlZmVyZXJcIixcInJldHJ5LWFmdGVyXCIsXCJ1c2VyLWFnZW50XCJdKSxlUj1TeW1ib2woXCJpbnRlcm5hbHNcIik7ZnVuY3Rpb24gRGEodCl7dmFyIGU7cmV0dXJuIHQmJnJuKGU9U3RyaW5nKHQpKS5jYWxsKGUpLnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gRWwodCl7cmV0dXJuIHQ9PT0hMXx8dD09bnVsbD90OksuaXNBcnJheSh0KT90Lm1hcChFbCk6U3RyaW5nKHQpfWZ1bmN0aW9uIElwKHQsZSxuLGkscil7cmV0dXJuIEsuaXNGdW5jdGlvbihpKT9pLmNhbGwodGhpcyxlLG4pOihyJiYoZT1uKSxLLmlzU3RyaW5nKGUpP0suaXNTdHJpbmcoaSk/ZS5pbmRleE9mKGkpIT09LTE6Sy5pc1JlZ0V4cChpKT9pLnRlc3QoZSk6dm9pZCAwOnZvaWQgMCl9dmFyIEdzPWNsYXNze2NvbnN0cnVjdG9yKGUpe2UmJnRoaXMuc2V0KGUpO31zZXQoZSxuLGkpe2xldCByPXRoaXM7ZnVuY3Rpb24gbyhjLGQsbCl7bGV0IHU9RGEoZCk7aWYoIXUpdGhyb3cgbmV3IEVycm9yKFwiaGVhZGVyIG5hbWUgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmdcIik7bGV0IGg9Sy5maW5kS2V5KHIsdSk7KCFofHxyW2hdPT09dm9pZCAwfHxsPT09ITB8fGw9PT12b2lkIDAmJnJbaF0hPT0hMSkmJihyW2h8fGRdPUVsKGMpKTt9bGV0IHM9KGMsZCk9PksuZm9yRWFjaChjLChsLHUpPT5vKGwsdSxkKSk7dmFyIGE7cmV0dXJuIEsuaXNQbGFpbk9iamVjdChlKXx8ZSBpbnN0YW5jZW9mIHRoaXMuY29uc3RydWN0b3I/cyhlLG4pOksuaXNTdHJpbmcoZSkmJihlPXJuKGUpLmNhbGwoZSkpJiYhL15bLV9hLXpBLVowLTleYHx+LCEjJCUmJyorLl0rJC8udGVzdChybihhPWUpLmNhbGwoYSkpP3MoKGM9PntsZXQgZD17fSxsLHUsaDtyZXR1cm4gYyYmYy5zcGxpdChgXG5gKS5mb3JFYWNoKGZ1bmN0aW9uKHApe3ZhciBnLEU7aD1wLmluZGV4T2YoXCI6XCIpLGw9cm4oZz1wLnN1YnN0cmluZygwLGgpKS5jYWxsKGcpLnRvTG93ZXJDYXNlKCksdT1ybihFPXAuc3Vic3RyaW5nKGgrMSkpLmNhbGwoRSksIWx8fGRbbF0mJmFCW2xdfHwobD09PVwic2V0LWNvb2tpZVwiP2RbbF0/ZFtsXS5wdXNoKHUpOmRbbF09W3VdOmRbbF09ZFtsXT9kW2xdK1wiLCBcIit1OnUpO30pLGR9KShlKSxuKTplIT1udWxsJiZvKG4sZSxpKSx0aGlzfWdldChlLG4pe2lmKGU9RGEoZSkpe2xldCBpPUsuZmluZEtleSh0aGlzLGUpO2lmKGkpe2xldCByPXRoaXNbaV07aWYoIW4pcmV0dXJuIHI7aWYobj09PSEwKXJldHVybiBmdW5jdGlvbihvKXtsZXQgcz1PYmplY3QuY3JlYXRlKG51bGwpLGE9LyhbXlxccyw7PV0rKVxccyooPzo9XFxzKihbXiw7XSspKT8vZyxjO2Zvcig7Yz1hLmV4ZWMobyk7KXNbY1sxXV09Y1syXTtyZXR1cm4gc30ocik7aWYoSy5pc0Z1bmN0aW9uKG4pKXJldHVybiBuLmNhbGwodGhpcyxyLGkpO2lmKEsuaXNSZWdFeHAobikpcmV0dXJuIG4uZXhlYyhyKTt0aHJvdyBuZXcgVHlwZUVycm9yKFwicGFyc2VyIG11c3QgYmUgYm9vbGVhbnxyZWdleHB8ZnVuY3Rpb25cIil9fX1oYXMoZSxuKXtpZihlPURhKGUpKXtsZXQgaT1LLmZpbmRLZXkodGhpcyxlKTtyZXR1cm4gISghaXx8dGhpc1tpXT09PXZvaWQgMHx8biYmIUlwKDAsdGhpc1tpXSxpLG4pKX1yZXR1cm4gITF9ZGVsZXRlKGUsbil7bGV0IGk9dGhpcyxyPSExO2Z1bmN0aW9uIG8ocyl7aWYocz1EYShzKSl7bGV0IGE9Sy5maW5kS2V5KGkscyk7IWF8fG4mJiFJcCgwLGlbYV0sYSxuKXx8KGRlbGV0ZSBpW2FdLHI9ITApO319cmV0dXJuIEsuaXNBcnJheShlKT9lLmZvckVhY2gobyk6byhlKSxyfWNsZWFyKGUpe2xldCBuPU9iamVjdC5rZXlzKHRoaXMpLGk9bi5sZW5ndGgscj0hMTtmb3IoO2ktLTspe2xldCBvPW5baV07ZSYmIUlwKDAsdGhpc1tvXSxvLGUsITApfHwoZGVsZXRlIHRoaXNbb10scj0hMCk7fXJldHVybiByfW5vcm1hbGl6ZShlKXtsZXQgbj10aGlzLGk9e307cmV0dXJuIEsuZm9yRWFjaCh0aGlzLChyLG8pPT57dmFyIHM7bGV0IGE9Sy5maW5kS2V5KGksbyk7aWYoYSlyZXR1cm4gblthXT1FbChyKSx2b2lkIGRlbGV0ZSBuW29dO2xldCBjPWU/ZnVuY3Rpb24oZCl7cmV0dXJuIHJuKGQpLmNhbGwoZCkudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8oW2EtelxcZF0pKFxcdyopL2csKGwsdSxoKT0+dS50b1VwcGVyQ2FzZSgpK2gpfShvKTpybihzPVN0cmluZyhvKSkuY2FsbChzKTtjIT09byYmZGVsZXRlIG5bb10sbltjXT1FbChyKSxpW2NdPSEwO30pLHRoaXN9Y29uY2F0KCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoZSksaT0wO2k8ZTtpKyspbltpXT1hcmd1bWVudHNbaV07cmV0dXJuIHRoaXMuY29uc3RydWN0b3IuY29uY2F0KHRoaXMsLi4ubil9dG9KU09OKGUpe2xldCBuPU9iamVjdC5jcmVhdGUobnVsbCk7cmV0dXJuIEsuZm9yRWFjaCh0aGlzLChpLHIpPT57aSE9bnVsbCYmaSE9PSExJiYobltyXT1lJiZLLmlzQXJyYXkoaSk/aS5qb2luKFwiLCBcIik6aSk7fSksbn1bU3ltYm9sLml0ZXJhdG9yXSgpe3JldHVybiBPYmplY3QuZW50cmllcyh0aGlzLnRvSlNPTigpKVtTeW1ib2wuaXRlcmF0b3JdKCl9dG9TdHJpbmcoKXtyZXR1cm4gT2JqZWN0LmVudHJpZXModGhpcy50b0pTT04oKSkubWFwKGU9PntsZXRbbixpXT1lO3JldHVybiBuK1wiOiBcIitpfSkuam9pbihgXG5gKX1nZXRbU3ltYm9sLnRvU3RyaW5nVGFnXSgpe3JldHVybiBcIkF4aW9zSGVhZGVyc1wifXN0YXRpYyBmcm9tKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdGhpcz9lOm5ldyB0aGlzKGUpfXN0YXRpYyBjb25jYXQoZSl7bGV0IG49bmV3IHRoaXMoZSk7Zm9yKHZhciBpPWFyZ3VtZW50cy5sZW5ndGgscj1uZXcgQXJyYXkoaT4xP2ktMTowKSxvPTE7bzxpO28rKylyW28tMV09YXJndW1lbnRzW29dO3JldHVybiByLmZvckVhY2gocz0+bi5zZXQocykpLG59c3RhdGljIGFjY2Vzc29yKGUpe2xldCBuPSh0aGlzW2VSXT10aGlzW2VSXT17YWNjZXNzb3JzOnt9fSkuYWNjZXNzb3JzLGk9dGhpcy5wcm90b3R5cGU7ZnVuY3Rpb24gcihvKXtsZXQgcz1EYShvKTtuW3NdfHwoZnVuY3Rpb24oYSxjKXtsZXQgZD1LLnRvQ2FtZWxDYXNlKFwiIFwiK2MpO1tcImdldFwiLFwic2V0XCIsXCJoYXNcIl0uZm9yRWFjaChsPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsbCtkLHt2YWx1ZTpmdW5jdGlvbih1LGgscCl7cmV0dXJuIHRoaXNbbF0uY2FsbCh0aGlzLGMsdSxoLHApfSxjb25maWd1cmFibGU6ITB9KTt9KTt9KGksbyksbltzXT0hMCk7fXJldHVybiBLLmlzQXJyYXkoZSk/ZS5mb3JFYWNoKHIpOnIoZSksdGhpc319O0dzLmFjY2Vzc29yKFtcIkNvbnRlbnQtVHlwZVwiLFwiQ29udGVudC1MZW5ndGhcIixcIkFjY2VwdFwiLFwiQWNjZXB0LUVuY29kaW5nXCIsXCJVc2VyLUFnZW50XCIsXCJBdXRob3JpemF0aW9uXCJdKSxLLnJlZHVjZURlc2NyaXB0b3JzKEdzLnByb3RvdHlwZSwodCxlKT0+e2xldHt2YWx1ZTpufT10LGk9ZVswXS50b1VwcGVyQ2FzZSgpK2Uuc2xpY2UoMSk7cmV0dXJuIHtnZXQ6KCk9Pm4sc2V0KHIpe3RoaXNbaV09cjt9fX0pLEsuZnJlZXplTWV0aG9kcyhHcyk7dmFyIERyPUdzO2Z1bmN0aW9uIHZwKHQsZSl7bGV0IG49dGhpc3x8Y2YsaT1lfHxuLHI9RHIuZnJvbShpLmhlYWRlcnMpLG89aS5kYXRhO3JldHVybiBLLmZvckVhY2godCxmdW5jdGlvbihzKXtvPXMuY2FsbChuLG8sci5ub3JtYWxpemUoKSxlP2Uuc3RhdHVzOnZvaWQgMCk7fSksci5ub3JtYWxpemUoKSxvfWZ1bmN0aW9uIGxPKHQpe3JldHVybiAhKCF0fHwhdC5fX0NBTkNFTF9fKX1mdW5jdGlvbiBvZCh0LGUsbil7cXQuY2FsbCh0aGlzLHQ/P1wiY2FuY2VsZWRcIixxdC5FUlJfQ0FOQ0VMRUQsZSxuKSx0aGlzLm5hbWU9XCJDYW5jZWxlZEVycm9yXCI7fUsuaW5oZXJpdHMob2QscXQse19fQ0FOQ0VMX186ITB9KTt2YXIgY0I9c3IuaGFzU3RhbmRhcmRCcm93c2VyRW52P3t3cml0ZSh0LGUsbixpLHIsbyl7bGV0IHM9W3QrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGUpXTtLLmlzTnVtYmVyKG4pJiZzLnB1c2goXCJleHBpcmVzPVwiK25ldyBEYXRlKG4pLnRvR01UU3RyaW5nKCkpLEsuaXNTdHJpbmcoaSkmJnMucHVzaChcInBhdGg9XCIraSksSy5pc1N0cmluZyhyKSYmcy5wdXNoKFwiZG9tYWluPVwiK3IpLG89PT0hMCYmcy5wdXNoKFwic2VjdXJlXCIpLGRvY3VtZW50LmNvb2tpZT1zLmpvaW4oXCI7IFwiKTt9LHJlYWQodCl7bGV0IGU9ZG9jdW1lbnQuY29va2llLm1hdGNoKG5ldyBSZWdFeHAoXCIoXnw7XFxcXHMqKShcIit0K1wiKT0oW147XSopXCIpKTtyZXR1cm4gZT9kZWNvZGVVUklDb21wb25lbnQoZVszXSk6bnVsbH0scmVtb3ZlKHQpe3RoaXMud3JpdGUodCxcIlwiLERhdGUubm93KCktODY0ZTUpO319Ont3cml0ZSgpe30scmVhZDooKT0+bnVsbCxyZW1vdmUoKXt9fTtmdW5jdGlvbiB1Tyh0LGUpe3JldHVybiB0JiYhZnVuY3Rpb24obil7cmV0dXJuIC9eKFthLXpdW2EtelxcZCtcXC0uXSo6KT9cXC9cXC8vaS50ZXN0KG4pfShlKT9mdW5jdGlvbihuLGkpe3JldHVybiBpP24ucmVwbGFjZSgvXFwvP1xcLyQvLFwiXCIpK1wiL1wiK2kucmVwbGFjZSgvXlxcLysvLFwiXCIpOm59KHQsZSk6ZX12YXIgZEI9c3IuaGFzU3RhbmRhcmRCcm93c2VyRW52P2Z1bmN0aW9uKCl7bGV0IHQ9Lyhtc2llfHRyaWRlbnQpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpLG47ZnVuY3Rpb24gaShyKXtsZXQgbz1yO3JldHVybiB0JiYoZS5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsbyksbz1lLmhyZWYpLGUuc2V0QXR0cmlidXRlKFwiaHJlZlwiLG8pLHtocmVmOmUuaHJlZixwcm90b2NvbDplLnByb3RvY29sP2UucHJvdG9jb2wucmVwbGFjZSgvOiQvLFwiXCIpOlwiXCIsaG9zdDplLmhvc3Qsc2VhcmNoOmUuc2VhcmNoP2Uuc2VhcmNoLnJlcGxhY2UoL15cXD8vLFwiXCIpOlwiXCIsaGFzaDplLmhhc2g/ZS5oYXNoLnJlcGxhY2UoL14jLyxcIlwiKTpcIlwiLGhvc3RuYW1lOmUuaG9zdG5hbWUscG9ydDplLnBvcnQscGF0aG5hbWU6ZS5wYXRobmFtZS5jaGFyQXQoMCk9PT1cIi9cIj9lLnBhdGhuYW1lOlwiL1wiK2UucGF0aG5hbWV9fXJldHVybiBuPWkod2luZG93LmxvY2F0aW9uLmhyZWYpLGZ1bmN0aW9uKHIpe2xldCBvPUsuaXNTdHJpbmcocik/aShyKTpyO3JldHVybiBvLnByb3RvY29sPT09bi5wcm90b2NvbCYmby5ob3N0PT09bi5ob3N0fX0oKTpmdW5jdGlvbigpe3JldHVybiAhMH07ZnVuY3Rpb24gblIodCxlKXtsZXQgbj0wLGk9ZnVuY3Rpb24ocixvKXtyPXJ8fDEwO2xldCBzPW5ldyBBcnJheShyKSxhPW5ldyBBcnJheShyKSxjLGQ9MCxsPTA7cmV0dXJuIG89byE9PXZvaWQgMD9vOjFlMyxmdW5jdGlvbih1KXtsZXQgaD1EYXRlLm5vdygpLHA9YVtsXTtjfHwoYz1oKSxzW2RdPXUsYVtkXT1oO2xldCBnPWwsRT0wO2Zvcig7ZyE9PWQ7KUUrPXNbZysrXSxnJT1yO2lmKGQ9KGQrMSklcixkPT09bCYmKGw9KGwrMSklciksaC1jPG8pcmV0dXJuO2xldCBmPXAmJmgtcDtyZXR1cm4gZj9NYXRoLnJvdW5kKDFlMypFL2YpOnZvaWQgMH19KDUwLDI1MCk7cmV0dXJuIHI9PntsZXQgbz1yLmxvYWRlZCxzPXIubGVuZ3RoQ29tcHV0YWJsZT9yLnRvdGFsOnZvaWQgMCxhPW8tbixjPWkoYSk7bj1vO2xldCBkPXtsb2FkZWQ6byx0b3RhbDpzLHByb2dyZXNzOnM/by9zOnZvaWQgMCxieXRlczphLHJhdGU6Y3x8dm9pZCAwLGVzdGltYXRlZDpjJiZzJiZvPD1zPyhzLW8pL2M6dm9pZCAwLGV2ZW50OnJ9O2RbZT9cImRvd25sb2FkXCI6XCJ1cGxvYWRcIl09ITAsdChkKTt9fXZhciBsQj10eXBlb2YgWE1MSHR0cFJlcXVlc3Q8XCJ1XCImJmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgaihmdW5jdGlvbihlLG4pe2xldCBpPXQuZGF0YSxyPURyLmZyb20odC5oZWFkZXJzKS5ub3JtYWxpemUoKSxvLHMse3Jlc3BvbnNlVHlwZTphLHdpdGhYU1JGVG9rZW46Y309dDtmdW5jdGlvbiBkKCl7dC5jYW5jZWxUb2tlbiYmdC5jYW5jZWxUb2tlbi51bnN1YnNjcmliZShvKSx0LnNpZ25hbCYmdC5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsbyk7fWlmKEsuaXNGb3JtRGF0YShpKSl7aWYoc3IuaGFzU3RhbmRhcmRCcm93c2VyRW52fHxzci5oYXNTdGFuZGFyZEJyb3dzZXJXZWJXb3JrZXJFbnYpci5zZXRDb250ZW50VHlwZSghMSk7ZWxzZSBpZigocz1yLmdldENvbnRlbnRUeXBlKCkpIT09ITEpe2xldFtnLC4uLkVdPXM/cy5zcGxpdChcIjtcIikubWFwKGY9PnJuKGYpLmNhbGwoZikpLmZpbHRlcihCb29sZWFuKTpbXTtyLnNldENvbnRlbnRUeXBlKFtnfHxcIm11bHRpcGFydC9mb3JtLWRhdGFcIiwuLi5FXS5qb2luKFwiOyBcIikpO319bGV0IGw9bmV3IFhNTEh0dHBSZXF1ZXN0O2lmKHQuYXV0aCl7bGV0IGc9dC5hdXRoLnVzZXJuYW1lfHxcIlwiLEU9dC5hdXRoLnBhc3N3b3JkP3VuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudCh0LmF1dGgucGFzc3dvcmQpKTpcIlwiO3Iuc2V0KFwiQXV0aG9yaXphdGlvblwiLFwiQmFzaWMgXCIrYnRvYShnK1wiOlwiK0UpKTt9bGV0IHU9dU8odC5iYXNlVVJMLHQudXJsKTtmdW5jdGlvbiBoKCl7aWYoIWwpcmV0dXJuO2xldCBnPURyLmZyb20oXCJnZXRBbGxSZXNwb25zZUhlYWRlcnNcImluIGwmJmwuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpOygoZnVuY3Rpb24oRSxmLFMpe2xldCBDPVMuY29uZmlnLnZhbGlkYXRlU3RhdHVzO1Muc3RhdHVzJiZDJiYhQyhTLnN0YXR1cyk/ZihuZXcgcXQoXCJSZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlIFwiK1Muc3RhdHVzLFtxdC5FUlJfQkFEX1JFUVVFU1QscXQuRVJSX0JBRF9SRVNQT05TRV1bTWF0aC5mbG9vcihTLnN0YXR1cy8xMDApLTRdLFMuY29uZmlnLFMucmVxdWVzdCxTKSk6RShTKTt9KSkoZnVuY3Rpb24oRSl7ZShFKSxkKCk7fSxmdW5jdGlvbihFKXtuKEUpLGQoKTt9LHtkYXRhOmEmJmEhPT1cInRleHRcIiYmYSE9PVwianNvblwiP2wucmVzcG9uc2U6bC5yZXNwb25zZVRleHQsc3RhdHVzOmwuc3RhdHVzLHN0YXR1c1RleHQ6bC5zdGF0dXNUZXh0LGhlYWRlcnM6Zyxjb25maWc6dCxyZXF1ZXN0Omx9KSxsPW51bGw7fWlmKGwub3Blbih0Lm1ldGhvZC50b1VwcGVyQ2FzZSgpLGZ3KHUsdC5wYXJhbXMsdC5wYXJhbXNTZXJpYWxpemVyKSwhMCksbC50aW1lb3V0PXQudGltZW91dCxcIm9ubG9hZGVuZFwiaW4gbD9sLm9ubG9hZGVuZD1oOmwub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7bCYmbC5yZWFkeVN0YXRlPT09NCYmKGwuc3RhdHVzIT09MHx8bC5yZXNwb25zZVVSTCYmbC5yZXNwb25zZVVSTC5pbmRleE9mKFwiZmlsZTpcIik9PT0wKSYmc2V0VGltZW91dChoKTt9LGwub25hYm9ydD1mdW5jdGlvbigpe2wmJihuKG5ldyBxdChcIlJlcXVlc3QgYWJvcnRlZFwiLHF0LkVDT05OQUJPUlRFRCx0LGwpKSxsPW51bGwpO30sbC5vbmVycm9yPWZ1bmN0aW9uKCl7bihuZXcgcXQoXCJOZXR3b3JrIEVycm9yXCIscXQuRVJSX05FVFdPUkssdCxsKSksbD1udWxsO30sbC5vbnRpbWVvdXQ9ZnVuY3Rpb24oKXtsZXQgZz10LnRpbWVvdXQ/XCJ0aW1lb3V0IG9mIFwiK3QudGltZW91dCtcIm1zIGV4Y2VlZGVkXCI6XCJ0aW1lb3V0IGV4Y2VlZGVkXCIsRT10LnRyYW5zaXRpb25hbHx8Z3c7dC50aW1lb3V0RXJyb3JNZXNzYWdlJiYoZz10LnRpbWVvdXRFcnJvck1lc3NhZ2UpLG4obmV3IHF0KGcsRS5jbGFyaWZ5VGltZW91dEVycm9yP3F0LkVUSU1FRE9VVDpxdC5FQ09OTkFCT1JURUQsdCxsKSksbD1udWxsO30sc3IuaGFzU3RhbmRhcmRCcm93c2VyRW52JiYoYyYmSy5pc0Z1bmN0aW9uKGMpJiYoYz1jKHQpKSxjfHxjIT09ITEmJmRCKHUpKSl7bGV0IGc9dC54c3JmSGVhZGVyTmFtZSYmdC54c3JmQ29va2llTmFtZSYmY0IucmVhZCh0LnhzcmZDb29raWVOYW1lKTtnJiZyLnNldCh0LnhzcmZIZWFkZXJOYW1lLGcpO31pPT09dm9pZCAwJiZyLnNldENvbnRlbnRUeXBlKG51bGwpLFwic2V0UmVxdWVzdEhlYWRlclwiaW4gbCYmSy5mb3JFYWNoKHIudG9KU09OKCksZnVuY3Rpb24oZyxFKXtsLnNldFJlcXVlc3RIZWFkZXIoRSxnKTt9KSxLLmlzVW5kZWZpbmVkKHQud2l0aENyZWRlbnRpYWxzKXx8KGwud2l0aENyZWRlbnRpYWxzPSEhdC53aXRoQ3JlZGVudGlhbHMpLGEmJmEhPT1cImpzb25cIiYmKGwucmVzcG9uc2VUeXBlPXQucmVzcG9uc2VUeXBlKSx0eXBlb2YgdC5vbkRvd25sb2FkUHJvZ3Jlc3M9PVwiZnVuY3Rpb25cIiYmbC5hZGRFdmVudExpc3RlbmVyKFwicHJvZ3Jlc3NcIixuUih0Lm9uRG93bmxvYWRQcm9ncmVzcywhMCkpLHR5cGVvZiB0Lm9uVXBsb2FkUHJvZ3Jlc3M9PVwiZnVuY3Rpb25cIiYmbC51cGxvYWQmJmwudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoXCJwcm9ncmVzc1wiLG5SKHQub25VcGxvYWRQcm9ncmVzcykpLCh0LmNhbmNlbFRva2VufHx0LnNpZ25hbCkmJihvPWc9PntsJiYobighZ3x8Zy50eXBlP25ldyBvZChudWxsLHQsbCk6ZyksbC5hYm9ydCgpLGw9bnVsbCk7fSx0LmNhbmNlbFRva2VuJiZ0LmNhbmNlbFRva2VuLnN1YnNjcmliZShvKSx0LnNpZ25hbCYmKHQuc2lnbmFsLmFib3J0ZWQ/bygpOnQuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLG8pKSk7bGV0IHA9ZnVuY3Rpb24oZyl7bGV0IEU9L14oWy0rXFx3XXsxLDI1fSkoOj9cXC9cXC98OikvLmV4ZWMoZyk7cmV0dXJuIEUmJkVbMV18fFwiXCJ9KHUpO3AmJnNyLnByb3RvY29scy5pbmRleE9mKHApPT09LTE/bihuZXcgcXQoXCJVbnN1cHBvcnRlZCBwcm90b2NvbCBcIitwK1wiOlwiLHF0LkVSUl9CQURfUkVRVUVTVCx0KSk6bC5zZW5kKGl8fG51bGwpO30pfSx2RT17aHR0cDpudWxsLHhocjpsQn07Sy5mb3JFYWNoKHZFLCh0LGUpPT57aWYodCl7dHJ5e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwibmFtZVwiLHt2YWx1ZTplfSk7fWNhdGNoe31PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImFkYXB0ZXJOYW1lXCIse3ZhbHVlOmV9KTt9fSk7dmFyIGlSPXQ9PlwiLSBcIi5jb25jYXQodCksdUI9dD0+Sy5pc0Z1bmN0aW9uKHQpfHx0PT09bnVsbHx8dD09PSExLGhPPXtnZXRBZGFwdGVyOnQ9Pnt0PUsuaXNBcnJheSh0KT90Olt0XTtsZXR7bGVuZ3RoOmV9PXQsbixpLHI9e307Zm9yKGxldCBvPTA7bzxlO28rKyl7bGV0IHM7aWYobj10W29dLGk9biwhdUIobikmJihpPXZFWyhzPVN0cmluZyhuKSkudG9Mb3dlckNhc2UoKV0saT09PXZvaWQgMCkpdGhyb3cgbmV3IHF0KFwiVW5rbm93biBhZGFwdGVyICdcIi5jb25jYXQocyxcIidcIikpO2lmKGkpYnJlYWs7cltzfHxcIiNcIitvXT1pO31pZighaSl7bGV0IG89T2JqZWN0LmVudHJpZXMocikubWFwKHM9PntsZXRbYSxjXT1zO3JldHVybiBcImFkYXB0ZXIgXCIuY29uY2F0KGEsXCIgXCIpKyhjPT09ITE/XCJpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBlbnZpcm9ubWVudFwiOlwiaXMgbm90IGF2YWlsYWJsZSBpbiB0aGUgYnVpbGRcIil9KTt0aHJvdyBuZXcgcXQoXCJUaGVyZSBpcyBubyBzdWl0YWJsZSBhZGFwdGVyIHRvIGRpc3BhdGNoIHRoZSByZXF1ZXN0IFwiKyhlP28ubGVuZ3RoPjE/YHNpbmNlIDpcbmArby5tYXAoaVIpLmpvaW4oYFxuYCk6XCIgXCIraVIob1swXSk6XCJhcyBubyBhZGFwdGVyIHNwZWNpZmllZFwiKSxcIkVSUl9OT1RfU1VQUE9SVFwiKX1yZXR1cm4gaX0sYWRhcHRlcnM6dkV9O2Z1bmN0aW9uIHlwKHQpe2lmKHQuY2FuY2VsVG9rZW4mJnQuY2FuY2VsVG9rZW4udGhyb3dJZlJlcXVlc3RlZCgpLHQuc2lnbmFsJiZ0LnNpZ25hbC5hYm9ydGVkKXRocm93IG5ldyBvZChudWxsLHQpfWZ1bmN0aW9uIHJSKHQpe3JldHVybiB5cCh0KSx0LmhlYWRlcnM9RHIuZnJvbSh0LmhlYWRlcnMpLHQuZGF0YT12cC5jYWxsKHQsdC50cmFuc2Zvcm1SZXF1ZXN0KSxbXCJwb3N0XCIsXCJwdXRcIixcInBhdGNoXCJdLmluZGV4T2YodC5tZXRob2QpIT09LTEmJnQuaGVhZGVycy5zZXRDb250ZW50VHlwZShcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiLCExKSxoTy5nZXRBZGFwdGVyKHQuYWRhcHRlcnx8Y2YuYWRhcHRlcikodCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4geXAodCksZS5kYXRhPXZwLmNhbGwodCx0LnRyYW5zZm9ybVJlc3BvbnNlLGUpLGUuaGVhZGVycz1Eci5mcm9tKGUuaGVhZGVycyksZX0sZnVuY3Rpb24oZSl7cmV0dXJuIGxPKGUpfHwoeXAodCksZSYmZS5yZXNwb25zZSYmKGUucmVzcG9uc2UuZGF0YT12cC5jYWxsKHQsdC50cmFuc2Zvcm1SZXNwb25zZSxlLnJlc3BvbnNlKSxlLnJlc3BvbnNlLmhlYWRlcnM9RHIuZnJvbShlLnJlc3BvbnNlLmhlYWRlcnMpKSksai5yZWplY3QoZSl9KX1mdW5jdGlvbiBvUih0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKGk9aS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKS5lbnVtZXJhYmxlfSkpLG4ucHVzaC5hcHBseShuLGkpO31yZXR1cm4gbn12YXIgc1I9dD0+dCBpbnN0YW5jZW9mIERyP2Z1bmN0aW9uKGUpe2Zvcih2YXIgbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspe3ZhciBpPWFyZ3VtZW50c1tuXSE9bnVsbD9hcmd1bWVudHNbbl06e307biUyP29SKE9iamVjdChpKSwhMCkuZm9yRWFjaChmdW5jdGlvbihyKXtUKGUscixpW3JdKTt9KTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpvUihPYmplY3QoaSkpLmZvckVhY2goZnVuY3Rpb24ocil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUscixPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGkscikpO30pO31yZXR1cm4gZX0oe30sdCk6dDtmdW5jdGlvbiBRcyh0LGUpe2U9ZXx8e307bGV0IG49e307ZnVuY3Rpb24gaShkLGwsdSl7cmV0dXJuIEsuaXNQbGFpbk9iamVjdChkKSYmSy5pc1BsYWluT2JqZWN0KGwpP0subWVyZ2UuY2FsbCh7Y2FzZWxlc3M6dX0sZCxsKTpLLmlzUGxhaW5PYmplY3QobCk/Sy5tZXJnZSh7fSxsKTpLLmlzQXJyYXkobCk/bC5zbGljZSgpOmx9ZnVuY3Rpb24gcihkLGwsdSl7cmV0dXJuIEsuaXNVbmRlZmluZWQobCk/Sy5pc1VuZGVmaW5lZChkKT92b2lkIDA6aSh2b2lkIDAsZCx1KTppKGQsbCx1KX1mdW5jdGlvbiBvKGQsbCl7aWYoIUsuaXNVbmRlZmluZWQobCkpcmV0dXJuIGkodm9pZCAwLGwpfWZ1bmN0aW9uIHMoZCxsKXtyZXR1cm4gSy5pc1VuZGVmaW5lZChsKT9LLmlzVW5kZWZpbmVkKGQpP3ZvaWQgMDppKHZvaWQgMCxkKTppKHZvaWQgMCxsKX1mdW5jdGlvbiBhKGQsbCx1KXtyZXR1cm4gdSBpbiBlP2koZCxsKTp1IGluIHQ/aSh2b2lkIDAsZCk6dm9pZCAwfWxldCBjPXt1cmw6byxtZXRob2Q6byxkYXRhOm8sYmFzZVVSTDpzLHRyYW5zZm9ybVJlcXVlc3Q6cyx0cmFuc2Zvcm1SZXNwb25zZTpzLHBhcmFtc1NlcmlhbGl6ZXI6cyx0aW1lb3V0OnMsdGltZW91dE1lc3NhZ2U6cyx3aXRoQ3JlZGVudGlhbHM6cyx3aXRoWFNSRlRva2VuOnMsYWRhcHRlcjpzLHJlc3BvbnNlVHlwZTpzLHhzcmZDb29raWVOYW1lOnMseHNyZkhlYWRlck5hbWU6cyxvblVwbG9hZFByb2dyZXNzOnMsb25Eb3dubG9hZFByb2dyZXNzOnMsZGVjb21wcmVzczpzLG1heENvbnRlbnRMZW5ndGg6cyxtYXhCb2R5TGVuZ3RoOnMsYmVmb3JlUmVkaXJlY3Q6cyx0cmFuc3BvcnQ6cyxodHRwQWdlbnQ6cyxodHRwc0FnZW50OnMsY2FuY2VsVG9rZW46cyxzb2NrZXRQYXRoOnMscmVzcG9uc2VFbmNvZGluZzpzLHZhbGlkYXRlU3RhdHVzOmEsaGVhZGVyczooZCxsKT0+cihzUihkKSxzUihsKSwhMCl9O3JldHVybiBLLmZvckVhY2goT2JqZWN0LmtleXMoT2JqZWN0LmFzc2lnbih7fSx0LGUpKSxmdW5jdGlvbihkKXtsZXQgbD1jW2RdfHxyLHU9bCh0W2RdLGVbZF0sZCk7Sy5pc1VuZGVmaW5lZCh1KSYmbCE9PWF8fChuW2RdPXUpO30pLG59dmFyIHBPPVwiMS42LjhcIixkZj17fTtbXCJvYmplY3RcIixcImJvb2xlYW5cIixcIm51bWJlclwiLFwiZnVuY3Rpb25cIixcInN0cmluZ1wiLFwic3ltYm9sXCJdLmZvckVhY2goKHQsZSk9PntkZlt0XT1mdW5jdGlvbihuKXtyZXR1cm4gdHlwZW9mIG49PT10fHxcImFcIisoZTwxP1wibiBcIjpcIiBcIikrdH07fSk7dmFyIGFSPXt9O2RmLnRyYW5zaXRpb25hbD1mdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gaShyLG8pe3JldHVybiBcIltBeGlvcyB2XCIrcE8rXCJdIFRyYW5zaXRpb25hbCBvcHRpb24gJ1wiK3IrXCInXCIrbysobj9cIi4gXCIrbjpcIlwiKX1yZXR1cm4gKHIsbyxzKT0+e2lmKHQ9PT0hMSl0aHJvdyBuZXcgcXQoaShvLFwiIGhhcyBiZWVuIHJlbW92ZWRcIisoZT9cIiBpbiBcIitlOlwiXCIpKSxxdC5FUlJfREVQUkVDQVRFRCk7cmV0dXJuIGUmJiFhUltvXSYmKGFSW29dPSEwLGNvbnNvbGUud2FybihpKG8sXCIgaGFzIGJlZW4gZGVwcmVjYXRlZCBzaW5jZSB2XCIrZStcIiBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZWFyIGZ1dHVyZVwiKSkpLCF0fHx0KHIsbyxzKX19O3ZhciB5RT17YXNzZXJ0T3B0aW9uczpmdW5jdGlvbih0LGUsbil7aWYodHlwZW9mIHQhPVwib2JqZWN0XCIpdGhyb3cgbmV3IHF0KFwib3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdFwiLHF0LkVSUl9CQURfT1BUSU9OX1ZBTFVFKTtsZXQgaT1PYmplY3Qua2V5cyh0KSxyPWkubGVuZ3RoO2Zvcig7ci0tID4wOyl7bGV0IG89aVtyXSxzPWVbb107aWYocyl7bGV0IGE9dFtvXSxjPWE9PT12b2lkIDB8fHMoYSxvLHQpO2lmKGMhPT0hMCl0aHJvdyBuZXcgcXQoXCJvcHRpb24gXCIrbytcIiBtdXN0IGJlIFwiK2MscXQuRVJSX0JBRF9PUFRJT05fVkFMVUUpfWVsc2UgaWYobiE9PSEwKXRocm93IG5ldyBxdChcIlVua25vd24gb3B0aW9uIFwiK28scXQuRVJSX0JBRF9PUFRJT04pfX0sdmFsaWRhdG9yczpkZn0sRnI9eUUudmFsaWRhdG9ycyxtbD1jbGFzc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLmRlZmF1bHRzPXQsdGhpcy5pbnRlcmNlcHRvcnM9e3JlcXVlc3Q6bmV3IFpULHJlc3BvbnNlOm5ldyBaVH07fWFzeW5jIHJlcXVlc3QodCxlKXt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuX3JlcXVlc3QodCxlKX1jYXRjaChuKXtpZihuIGluc3RhbmNlb2YgRXJyb3Ipe2xldCBpO0Vycm9yLmNhcHR1cmVTdGFja1RyYWNlP0Vycm9yLmNhcHR1cmVTdGFja1RyYWNlKGk9e30pOmk9bmV3IEVycm9yO2xldCByPWkuc3RhY2s/aS5zdGFjay5yZXBsYWNlKC9eLitcXG4vLFwiXCIpOlwiXCI7bi5zdGFjaz9yJiYhU3RyaW5nKG4uc3RhY2spLmVuZHNXaXRoKHIucmVwbGFjZSgvXi4rXFxuLitcXG4vLFwiXCIpKSYmKG4uc3RhY2srPWBcbmArcik6bi5zdGFjaz1yO310aHJvdyBufX1fcmVxdWVzdCh0LGUpe3R5cGVvZiB0PT1cInN0cmluZ1wiPyhlPWV8fHt9KS51cmw9dDplPXR8fHt9LGU9UXModGhpcy5kZWZhdWx0cyxlKTtsZXR7dHJhbnNpdGlvbmFsOm4scGFyYW1zU2VyaWFsaXplcjppLGhlYWRlcnM6cn09ZTtuIT09dm9pZCAwJiZ5RS5hc3NlcnRPcHRpb25zKG4se3NpbGVudEpTT05QYXJzaW5nOkZyLnRyYW5zaXRpb25hbChGci5ib29sZWFuKSxmb3JjZWRKU09OUGFyc2luZzpGci50cmFuc2l0aW9uYWwoRnIuYm9vbGVhbiksY2xhcmlmeVRpbWVvdXRFcnJvcjpGci50cmFuc2l0aW9uYWwoRnIuYm9vbGVhbil9LCExKSxpIT1udWxsJiYoSy5pc0Z1bmN0aW9uKGkpP2UucGFyYW1zU2VyaWFsaXplcj17c2VyaWFsaXplOml9OnlFLmFzc2VydE9wdGlvbnMoaSx7ZW5jb2RlOkZyLmZ1bmN0aW9uLHNlcmlhbGl6ZTpGci5mdW5jdGlvbn0sITApKSxlLm1ldGhvZD0oZS5tZXRob2R8fHRoaXMuZGVmYXVsdHMubWV0aG9kfHxcImdldFwiKS50b0xvd2VyQ2FzZSgpO2xldCBvPXImJksubWVyZ2Uoci5jb21tb24scltlLm1ldGhvZF0pO3ImJksuZm9yRWFjaChbXCJkZWxldGVcIixcImdldFwiLFwiaGVhZFwiLFwicG9zdFwiLFwicHV0XCIsXCJwYXRjaFwiLFwiY29tbW9uXCJdLHA9PntkZWxldGUgcltwXTt9KSxlLmhlYWRlcnM9RHIuY29uY2F0KG8scik7bGV0IHM9W10sYT0hMDt0aGlzLmludGVyY2VwdG9ycy5yZXF1ZXN0LmZvckVhY2goZnVuY3Rpb24ocCl7dHlwZW9mIHAucnVuV2hlbj09XCJmdW5jdGlvblwiJiZwLnJ1bldoZW4oZSk9PT0hMXx8KGE9YSYmcC5zeW5jaHJvbm91cyxzLnVuc2hpZnQocC5mdWxmaWxsZWQscC5yZWplY3RlZCkpO30pO2xldCBjPVtdLGQ7dGhpcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UuZm9yRWFjaChmdW5jdGlvbihwKXtjLnB1c2gocC5mdWxmaWxsZWQscC5yZWplY3RlZCk7fSk7bGV0IGwsdT0wO2lmKCFhKXtsZXQgcD1bclIuYmluZCh0aGlzKSx2b2lkIDBdO2ZvcihwLnVuc2hpZnQuYXBwbHkocCxzKSxwLnB1c2guYXBwbHkocCxjKSxsPXAubGVuZ3RoLGQ9ai5yZXNvbHZlKGUpO3U8bDspZD1kLnRoZW4ocFt1KytdLHBbdSsrXSk7cmV0dXJuIGR9bD1zLmxlbmd0aDtsZXQgaD1lO2Zvcih1PTA7dTxsOyl7bGV0IHA9c1t1KytdLGc9c1t1KytdO3RyeXtoPXAoaCk7fWNhdGNoKEUpe2cuY2FsbCh0aGlzLEUpO2JyZWFrfX10cnl7ZD1yUi5jYWxsKHRoaXMsaCk7fWNhdGNoKHApe3JldHVybiBqLnJlamVjdChwKX1mb3IodT0wLGw9Yy5sZW5ndGg7dTxsOylkPWQudGhlbihjW3UrK10sY1t1KytdKTtyZXR1cm4gZH1nZXRVcmkodCl7cmV0dXJuIGZ3KHVPKCh0PVFzKHRoaXMuZGVmYXVsdHMsdCkpLmJhc2VVUkwsdC51cmwpLHQucGFyYW1zLHQucGFyYW1zU2VyaWFsaXplcil9fTtLLmZvckVhY2goW1wiZGVsZXRlXCIsXCJnZXRcIixcImhlYWRcIixcIm9wdGlvbnNcIl0sZnVuY3Rpb24odCl7bWwucHJvdG90eXBlW3RdPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHRoaXMucmVxdWVzdChRcyhufHx7fSx7bWV0aG9kOnQsdXJsOmUsZGF0YToobnx8e30pLmRhdGF9KSl9O30pLEsuZm9yRWFjaChbXCJwb3N0XCIsXCJwdXRcIixcInBhdGNoXCJdLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUobil7cmV0dXJuIGZ1bmN0aW9uKGkscixvKXtyZXR1cm4gdGhpcy5yZXF1ZXN0KFFzKG98fHt9LHttZXRob2Q6dCxoZWFkZXJzOm4/e1wiQ29udGVudC1UeXBlXCI6XCJtdWx0aXBhcnQvZm9ybS1kYXRhXCJ9Ont9LHVybDppLGRhdGE6cn0pKX19bWwucHJvdG90eXBlW3RdPWUoKSxtbC5wcm90b3R5cGVbdCtcIkZvcm1cIl09ZSghMCk7fSk7dmFyIGZsPW1sLEFFPWNsYXNzIHR7Y29uc3RydWN0b3IoZSl7aWYodHlwZW9mIGUhPVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgVHlwZUVycm9yKFwiZXhlY3V0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uLlwiKTtsZXQgbjt0aGlzLnByb21pc2U9bmV3IGooZnVuY3Rpb24ocil7bj1yO30pO2xldCBpPXRoaXM7dGhpcy5wcm9taXNlLnRoZW4ocj0+e2lmKCFpLl9saXN0ZW5lcnMpcmV0dXJuO2xldCBvPWkuX2xpc3RlbmVycy5sZW5ndGg7Zm9yKDtvLS0gPjA7KWkuX2xpc3RlbmVyc1tvXShyKTtpLl9saXN0ZW5lcnM9bnVsbDt9KSx0aGlzLnByb21pc2UudGhlbj1yPT57bGV0IG8scz1uZXcgaihhPT57aS5zdWJzY3JpYmUoYSksbz1hO30pLnRoZW4ocik7cmV0dXJuIHMuY2FuY2VsPWZ1bmN0aW9uKCl7aS51bnN1YnNjcmliZShvKTt9LHN9LGUoZnVuY3Rpb24ocixvLHMpe2kucmVhc29ufHwoaS5yZWFzb249bmV3IG9kKHIsbyxzKSxuKGkucmVhc29uKSk7fSk7fXRocm93SWZSZXF1ZXN0ZWQoKXtpZih0aGlzLnJlYXNvbil0aHJvdyB0aGlzLnJlYXNvbn1zdWJzY3JpYmUoZSl7dGhpcy5yZWFzb24/ZSh0aGlzLnJlYXNvbik6dGhpcy5fbGlzdGVuZXJzP3RoaXMuX2xpc3RlbmVycy5wdXNoKGUpOnRoaXMuX2xpc3RlbmVycz1bZV07fXVuc3Vic2NyaWJlKGUpe2lmKCF0aGlzLl9saXN0ZW5lcnMpcmV0dXJuO2xldCBuPXRoaXMuX2xpc3RlbmVycy5pbmRleE9mKGUpO24hPT0tMSYmdGhpcy5fbGlzdGVuZXJzLnNwbGljZShuLDEpO31zdGF0aWMgc291cmNlKCl7bGV0IGU7cmV0dXJuIHt0b2tlbjpuZXcgdChmdW5jdGlvbihuKXtlPW47fSksY2FuY2VsOmV9fX0saEI9QUUsYkU9e0NvbnRpbnVlOjEwMCxTd2l0Y2hpbmdQcm90b2NvbHM6MTAxLFByb2Nlc3Npbmc6MTAyLEVhcmx5SGludHM6MTAzLE9rOjIwMCxDcmVhdGVkOjIwMSxBY2NlcHRlZDoyMDIsTm9uQXV0aG9yaXRhdGl2ZUluZm9ybWF0aW9uOjIwMyxOb0NvbnRlbnQ6MjA0LFJlc2V0Q29udGVudDoyMDUsUGFydGlhbENvbnRlbnQ6MjA2LE11bHRpU3RhdHVzOjIwNyxBbHJlYWR5UmVwb3J0ZWQ6MjA4LEltVXNlZDoyMjYsTXVsdGlwbGVDaG9pY2VzOjMwMCxNb3ZlZFBlcm1hbmVudGx5OjMwMSxGb3VuZDozMDIsU2VlT3RoZXI6MzAzLE5vdE1vZGlmaWVkOjMwNCxVc2VQcm94eTozMDUsVW51c2VkOjMwNixUZW1wb3JhcnlSZWRpcmVjdDozMDcsUGVybWFuZW50UmVkaXJlY3Q6MzA4LEJhZFJlcXVlc3Q6NDAwLFVuYXV0aG9yaXplZDo0MDEsUGF5bWVudFJlcXVpcmVkOjQwMixGb3JiaWRkZW46NDAzLE5vdEZvdW5kOjQwNCxNZXRob2ROb3RBbGxvd2VkOjQwNSxOb3RBY2NlcHRhYmxlOjQwNixQcm94eUF1dGhlbnRpY2F0aW9uUmVxdWlyZWQ6NDA3LFJlcXVlc3RUaW1lb3V0OjQwOCxDb25mbGljdDo0MDksR29uZTo0MTAsTGVuZ3RoUmVxdWlyZWQ6NDExLFByZWNvbmRpdGlvbkZhaWxlZDo0MTIsUGF5bG9hZFRvb0xhcmdlOjQxMyxVcmlUb29Mb25nOjQxNCxVbnN1cHBvcnRlZE1lZGlhVHlwZTo0MTUsUmFuZ2VOb3RTYXRpc2ZpYWJsZTo0MTYsRXhwZWN0YXRpb25GYWlsZWQ6NDE3LEltQVRlYXBvdDo0MTgsTWlzZGlyZWN0ZWRSZXF1ZXN0OjQyMSxVbnByb2Nlc3NhYmxlRW50aXR5OjQyMixMb2NrZWQ6NDIzLEZhaWxlZERlcGVuZGVuY3k6NDI0LFRvb0Vhcmx5OjQyNSxVcGdyYWRlUmVxdWlyZWQ6NDI2LFByZWNvbmRpdGlvblJlcXVpcmVkOjQyOCxUb29NYW55UmVxdWVzdHM6NDI5LFJlcXVlc3RIZWFkZXJGaWVsZHNUb29MYXJnZTo0MzEsVW5hdmFpbGFibGVGb3JMZWdhbFJlYXNvbnM6NDUxLEludGVybmFsU2VydmVyRXJyb3I6NTAwLE5vdEltcGxlbWVudGVkOjUwMSxCYWRHYXRld2F5OjUwMixTZXJ2aWNlVW5hdmFpbGFibGU6NTAzLEdhdGV3YXlUaW1lb3V0OjUwNCxIdHRwVmVyc2lvbk5vdFN1cHBvcnRlZDo1MDUsVmFyaWFudEFsc29OZWdvdGlhdGVzOjUwNixJbnN1ZmZpY2llbnRTdG9yYWdlOjUwNyxMb29wRGV0ZWN0ZWQ6NTA4LE5vdEV4dGVuZGVkOjUxMCxOZXR3b3JrQXV0aGVudGljYXRpb25SZXF1aXJlZDo1MTF9O09iamVjdC5lbnRyaWVzKGJFKS5mb3JFYWNoKHQ9PntsZXRbZSxuXT10O2JFW25dPWU7fSk7dmFyIHBCPWJFLFhlPWZ1bmN0aW9uIHQoZSl7bGV0IG49bmV3IGZsKGUpLGk9X3coZmwucHJvdG90eXBlLnJlcXVlc3Qsbik7cmV0dXJuIEsuZXh0ZW5kKGksZmwucHJvdG90eXBlLG4se2FsbE93bktleXM6ITB9KSxLLmV4dGVuZChpLG4sbnVsbCx7YWxsT3duS2V5czohMH0pLGkuY3JlYXRlPWZ1bmN0aW9uKHIpe3JldHVybiB0KFFzKGUscikpfSxpfShjZik7WGUuQXhpb3M9ZmwsWGUuQ2FuY2VsZWRFcnJvcj1vZCxYZS5DYW5jZWxUb2tlbj1oQixYZS5pc0NhbmNlbD1sTyxYZS5WRVJTSU9OPXBPLFhlLnRvRm9ybURhdGE9VWwsWGUuQXhpb3NFcnJvcj1xdCxYZS5DYW5jZWw9WGUuQ2FuY2VsZWRFcnJvcixYZS5hbGw9ZnVuY3Rpb24odCl7cmV0dXJuIGouYWxsKHQpfSxYZS5zcHJlYWQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB0LmFwcGx5KG51bGwsZSl9fSxYZS5pc0F4aW9zRXJyb3I9ZnVuY3Rpb24odCl7cmV0dXJuIEsuaXNPYmplY3QodCkmJnQuaXNBeGlvc0Vycm9yPT09ITB9LFhlLm1lcmdlQ29uZmlnPVFzLFhlLkF4aW9zSGVhZGVycz1EcixYZS5mb3JtVG9KU09OPXQ9PmRPKEsuaXNIVE1MRm9ybSh0KT9uZXcgRm9ybURhdGEodCk6dCksWGUuZ2V0QWRhcHRlcj1oTy5nZXRBZGFwdGVyLFhlLkh0dHBTdGF0dXNDb2RlPXBCLFhlLmRlZmF1bHQ9WGU7dmFyIG1uPVhlLF9CPSgpPT57fTtmdW5jdGlvbiB2Yygpe2xldCB0PXtwcm9taXNlOnZvaWQgMCxpc1Jlc29sdmVkOiExLGlzUmVqZWN0ZWQ6ITEsaXNGaW5pc2hlZDohMSxyZXNvbHZlOnZvaWQgMCxyZWplY3Q6dm9pZCAwLGNhbmNlbDpfQn07cmV0dXJuIHQucHJvbWlzZT1uZXcgaigoZSxuKT0+e3QucmVzb2x2ZT1pPT57dC5pc0ZpbmlzaGVkfHwodC5pc1Jlc29sdmVkPSEwLHQuaXNGaW5pc2hlZD0hMCxlKGkpLHQudmFsdWU9aSk7fSx0LnJlamVjdD1pPT57dC5pc0ZpbmlzaGVkfHwodC5pc1JlamVjdGVkPSEwLHQuaXNGaW5pc2hlZD0hMCxuKGkpKTt9O30pLHR9dmFyIGJkPW5ldyBNYXAsd2Q9bmV3IE1hcCxZaT1uZXcgTWFwLHllPWZ1bmN0aW9uKHQpe3JldHVybiB0LldJTl8xMD1cIldpbmRvd3MgMTBcIix0LldJTl84MT1cIldpbmRvd3MgOC4xXCIsdC5XSU5fOD1cIldpbmRvd3MgOFwiLHQuV0lOXzc9XCJXaW5kb3dzIDdcIix0LldJTl9WSVNUQT1cIldpbmRvd3MgVmlzdGFcIix0LldJTl9TRVJWRVJfMjAwMz1cIldpbmRvd3MgU2VydmVyIDIwMDNcIix0LldJTl9YUD1cIldpbmRvd3MgWFBcIix0LldJTl8yMDAwPVwiV2luZG93cyAyMDAwXCIsdC5BTkRST0lEPVwiQW5kcm9pZFwiLHQuSEFSTU9OWV9PUz1cIkhhcm1vbnlPU1wiLHQuT1BFTl9CU0Q9XCJPcGVuIEJTRFwiLHQuU1VOX09TPVwiU3VuIE9TXCIsdC5MSU5VWD1cIkxpbnV4XCIsdC5JT1M9XCJpT1NcIix0Lk1BQ19PUz1cIk1hYyBPU1wiLHQuQ0hST01JVU1fT1M9XCJDaHJvbWl1bSBPU1wiLHQuUU5YPVwiUU5YXCIsdC5VTklYPVwiVU5JWFwiLHQuQkVPUz1cIkJlT1NcIix0Lk9TXzI9XCJPUy8yXCIsdC5TRUFSQ0hfQk9UPVwiU2VhcmNoIEJvdFwiLHR9KHt9KSxJdD1mdW5jdGlvbih0KXtyZXR1cm4gdC5DSFJPTUU9XCJDaHJvbWVcIix0LlNBRkFSST1cIlNhZmFyaVwiLHQuRURHRT1cIkVkZ2VcIix0LkZJUkVGT1g9XCJGaXJlZm94XCIsdC5PUEVSQT1cIk9QUlwiLHQuUVE9XCJRUUJyb3dzZXJcIix0LldFQ0hBVD1cIk1pY3JvTWVzc2VuZ2VyXCIsdH0oe30pLHdFPW5ldyBXMixWaT13RS5nZXRSZXN1bHQoKSxBcD1udWxsO2Z1bmN0aW9uIG10KHQpe2lmKCFBcCl7Vmk9d0UuZ2V0UmVzdWx0KCk7bGV0IGU9ZnVuY3Rpb24oYSl7aWYoYS5lbmdpbmUubmFtZT09PVwiQmxpbmtcIiYmYS5icm93c2VyLm5hbWUhPT1cIldlQ2hhdFwiKXJldHVybiBJdC5DSFJPTUU7c3dpdGNoKGEuYnJvd3Nlci5uYW1lKXtjYXNlXCJDaHJvbWUgSGVhZGxlc3NcIjpjYXNlXCJDaHJvbWVcIjpjYXNlXCJDaHJvbWl1bVwiOnJldHVybiBJdC5DSFJPTUU7Y2FzZVwiU2FmYXJpXCI6Y2FzZVwiTW9iaWxlIFNhZmFyaVwiOnJldHVybiBJdC5TQUZBUkk7Y2FzZVwiRWRnZVwiOnJldHVybiBJdC5FREdFO2Nhc2VcIkZpcmVmb3hcIjpyZXR1cm4gSXQuRklSRUZPWDtjYXNlXCJRUVwiOmNhc2VcIlFRQnJvd3NlclwiOnJldHVybiBJdC5RUTtjYXNlXCJPcGVyYVwiOnJldHVybiBJdC5PUEVSQTtjYXNlXCJXZUNoYXRcIjpyZXR1cm4gSXQuV0VDSEFUO2RlZmF1bHQ6cmV0dXJuIGEuYnJvd3Nlci5uYW1lfHxcIlwifX0oVmkpLG49Y1IoVmkpLGk9ZnVuY3Rpb24oYSl7cmV0dXJuIGEub3MubmFtZT09PVwiV2luZG93c1wiP2Eub3MudmVyc2lvbj9hLm9zLm5hbWUrXCIgXCIrYS5vcy52ZXJzaW9uOmEub3MubmFtZTphLm9zLm5hbWV8fFwiXCJ9KFZpKSxyPVZpLm9zLnZlcnNpb24sbz1jUihWaSwhMSkscz1WaS5kZXZpY2UudHlwZTtpZighKGUmJm4mJmkmJnIpKXJldHVybiB7bmFtZTplLHZlcnNpb246bixvczppLG9zVmVyc2lvbjpyLGJyb3dzZXJWZXJzaW9uOm8sZGV2aWNlVHlwZTpzfTtBcD17bmFtZTplLHZlcnNpb246bixvczppLG9zVmVyc2lvbjpyLGJyb3dzZXJWZXJzaW9uOm8sZGV2aWNlVHlwZTpzfTt9cmV0dXJuIEFwfWZ1bmN0aW9uIGNSKHQpe2xldCBlLG49IShhcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMCl8fGFyZ3VtZW50c1sxXTtyZXR1cm4gZT10LmVuZ2luZS5uYW1lPT09XCJCbGlua1wiP3QuZW5naW5lLnZlcnNpb258fFwiXCI6dC5icm93c2VyLnZlcnNpb258fFwiXCIsbj9lLnNwbGl0KFwiLlwiKVswXTplfWZ1bmN0aW9uIEh1KCl7cmV0dXJuIG10KCkub3N9ZnVuY3Rpb24gZFIoKXtsZXQgdD1tdCgpO3JldHVybiBcIlwiLmNvbmNhdCh0Lm9zLFwiIFwiKS5jb25jYXQodC5vc1ZlcnNpb24pfWZ1bmN0aW9uIEdsKCl7bGV0IHQ9bXQoKTtyZXR1cm4gISEoVmkuZW5naW5lLm5hbWU9PT1cIldlYktpdFwiJiZ0Lm9zPT09eWUuTUFDX09TJiZuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMmJm5hdmlnYXRvci5tYXhUb3VjaFBvaW50cz4wJiZ0Lm5hbWUhPT1JdC5TQUZBUkl8fGxuKCkmJnQubmFtZSE9PUl0LlNBRkFSSSl9ZnVuY3Rpb24gb28oKXtyZXR1cm4gbXQoKS5uYW1lPT09SXQuQ0hST01FfWZ1bmN0aW9uIGplKCl7cmV0dXJuIG10KCkubmFtZT09PUl0LlNBRkFSSX1mdW5jdGlvbiBfTygpe3JldHVybiBtdCgpLm5hbWU9PT1JdC5FREdFfWZ1bmN0aW9uICR0KCl7cmV0dXJuIG10KCkubmFtZT09PUl0LkZJUkVGT1h9ZnVuY3Rpb24gbG4oKXtyZXR1cm4gbXQoKS5vcz09PXllLklPU31mdW5jdGlvbiBPRSh0KXtsZXQgZT1tdCgpO3JldHVybiAhKGUubmFtZSE9PUl0LkNIUk9NRXx8IWUub3NWZXJzaW9uKSYmTnVtYmVyKGUudmVyc2lvbik+PXR9ZnVuY3Rpb24gRU8odCl7bGV0IGU9bXQoKTtyZXR1cm4gIShlLm5hbWUhPT1JdC5DSFJPTUV8fCFlLm9zVmVyc2lvbikmJk51bWJlcihlLnZlcnNpb24pPHR9ZnVuY3Rpb24gbFIodCl7bGV0IGU9bXQoKTtyZXR1cm4gIShlLm5hbWUhPT1JdC5FREdFfHwhZS5vc1ZlcnNpb24pJiZOdW1iZXIoZS52ZXJzaW9uKT49dH1mdW5jdGlvbiBtTyh0KXtsZXQgZT1tdCgpO3JldHVybiAhKGUubmFtZSE9PUl0LlNBRkFSSXx8IWUub3NWZXJzaW9uKSYmTnVtYmVyKGUudmVyc2lvbik+PXR9ZnVuY3Rpb24gZk8odCxlLG4pe2xldCBpPW10KCk7aWYoaS5vcyE9PXllLklPU3x8IWkub3NWZXJzaW9uKXJldHVybiAhMTtsZXQgcj1pLm9zVmVyc2lvbi5zcGxpdChcIi5cIik7cmV0dXJuIGUmJk51bWJlcihyWzBdKT09PXQmJk51bWJlcihyWzFdKTxlfHxOdW1iZXIoclswXSk8dH1mdW5jdGlvbiBnTyh0LGUsbil7bGV0IGk9bXQoKTtpZihpLm5hbWUhPT1JdC5TQUZBUkl8fCFpLm9zVmVyc2lvbnx8IWkuYnJvd3NlclZlcnNpb24pcmV0dXJuICExO2xldCByPWkuYnJvd3NlclZlcnNpb24uc3BsaXQoXCIuXCIpO3JldHVybiBlJiZOdW1iZXIoclswXSk9PT10JiZOdW1iZXIoclsxXSk8ZXx8TnVtYmVyKHJbMF0pPHR9ZnVuY3Rpb24gdVIodCl7bGV0IGU9bXQoKTtyZXR1cm4gIShlLm5hbWUhPT1JdC5PUEVSQXx8IWUub3NWZXJzaW9uKSYmTnVtYmVyKGUudmVyc2lvbik+PXR9ZnVuY3Rpb24gaFIoKXtsZXQgdD1tdCgpO2lmKHQub3MhPT15ZS5JT1N8fCF0Lm9zVmVyc2lvbilyZXR1cm4gITE7bGV0IGU9dC5vc1ZlcnNpb24uc3BsaXQoXCIuXCIpO3JldHVybiBOdW1iZXIoZVswXSk8MTR8fE51bWJlcihlWzBdKT09PTE0JiZOdW1iZXIoZVsxXSk8PTZ9ZnVuY3Rpb24gWnMoKXtsZXQgdD1tdCgpO2lmKHQub3MhPT15ZS5JT1N8fCF0Lm9zVmVyc2lvbilyZXR1cm4gITE7bGV0IGU9dC5vc1ZlcnNpb24uc3BsaXQoXCIuXCIpO3JldHVybiBOdW1iZXIoZVswXSk9PT0xNX1mdW5jdGlvbiBORSgpe2xldCB0PW10KCk7aWYodC5vcyE9PXllLklPU3x8IXQub3NWZXJzaW9uKXJldHVybiAhMTtsZXQgZT10Lm9zVmVyc2lvbi5zcGxpdChcIi5cIik7cmV0dXJuIE51bWJlcihlWzBdKT09PTE2fWZ1bmN0aW9uIHBSKCl7bGV0IHQ9bXQoKTtpZih0Lm9zIT09eWUuSU9TfHwhdC5vc1ZlcnNpb24pcmV0dXJuICExO2xldCBlPXQub3NWZXJzaW9uLnNwbGl0KFwiLlwiKTtyZXR1cm4gTnVtYmVyKGVbMF0pPT09MTUmJk51bWJlcihlWzFdKT49MX1mdW5jdGlvbiB2aSgpe3JldHVybiBqZSgpJiZuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHM+MH1mdW5jdGlvbiBUTygpe3JldHVybiBtdCgpLm5hbWU9PT1JdC5XRUNIQVR9ZnVuY3Rpb24gU08oKXtyZXR1cm4gd2luZG93Lm5hdmlnYXRvci5hcHBWZXJzaW9uJiZ3aW5kb3cubmF2aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goL0Nocm9tZVxcLyhbXFx3XFxXXSo/KVxcLi8pIT09bnVsbCYmd2luZG93Lm5hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKC9DaHJvbWVcXC8oW1xcd1xcV10qPylcXC4vKVsxXTw9MzV9ZnVuY3Rpb24gbGYoKXtsZXQgdD1IdSgpO3JldHVybiBmdW5jdGlvbigpe2xldHtkZXZpY2VUeXBlOmV9PW10KCk7cmV0dXJuIGU9PT1cIm1vYmlsZVwifHxlPT09XCJ0YWJsZXRcIn0oKXx8dD09PXllLkFORFJPSUR8fHQ9PT15ZS5JT1N8fHQ9PT15ZS5IQVJNT05ZX09TfWZ1bmN0aW9uIGhvKCl7bGV0IHQ9bXQoKTtyZXR1cm4gdC5uYW1lIT09SXQuRURHRSYmdC5uYW1lIT09SXQuU0FGQVJJJiYhIW5hdmlnYXRvci51c2VyQWdlbnQudG9Mb2NhbGVMb3dlckNhc2UoKS5tYXRjaCgvY2hyb21lXFwvW1xcZF0uL2kpfWZ1bmN0aW9uIEt1KCl7cmV0dXJuIEh1KCk9PT15ZS5BTkRST0lEfWZ1bmN0aW9uIHljKCl7bGV0IHQ9bXQoKTtyZXR1cm4gS3UoKSYmKHQubmFtZT09PUl0LkNIUk9NRXx8dC5uYW1lPT09SXQuV0VDSEFUfHwvY2hyb21lfGNocm9taXVtL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSl9ZnVuY3Rpb24ganQodCxlLG4pe3JldHVybiAoZT1mdW5jdGlvbihpKXt2YXIgcj1mdW5jdGlvbihvLHMpe2lmKHR5cGVvZiBvIT1cIm9iamVjdFwifHwhbylyZXR1cm4gbzt2YXIgYT1vW1N5bWJvbC50b1ByaW1pdGl2ZV07aWYoYSE9PXZvaWQgMCl7dmFyIGM9YS5jYWxsKG8sXCJzdHJpbmdcIik7aWYodHlwZW9mIGMhPVwib2JqZWN0XCIpcmV0dXJuIGM7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcobyl9KGkpO3JldHVybiB0eXBlb2Ygcj09XCJzeW1ib2xcIj9yOnIrXCJcIn0oZSkpaW4gdD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtlXT1uLHR9ZnVuY3Rpb24gX1IodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihpPWkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscikuZW51bWVyYWJsZX0pKSxuLnB1c2guYXBwbHkobixpKTt9cmV0dXJuIG59ZnVuY3Rpb24gSih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV0hPW51bGw/YXJndW1lbnRzW2VdOnt9O2UlMj9fUihPYmplY3QobiksITApLmZvckVhY2goZnVuY3Rpb24oaSl7anQodCxpLG5baV0pO30pOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOl9SKE9iamVjdChuKSkuZm9yRWFjaChmdW5jdGlvbihpKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxpLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixpKSk7fSk7fXJldHVybiB0fXZhciBSPWZ1bmN0aW9uKHQpe3JldHVybiB0LlVORVhQRUNURURfRVJST1I9XCJVTkVYUEVDVEVEX0VSUk9SXCIsdC5VTkVYUEVDVEVEX1JFU1BPTlNFPVwiVU5FWFBFQ1RFRF9SRVNQT05TRVwiLHQuVElNRU9VVD1cIlRJTUVPVVRcIix0LklOVkFMSURfUEFSQU1TPVwiSU5WQUxJRF9QQVJBTVNcIix0Lk5PVF9SRUFEQUJMRT1cIk5PVF9SRUFEQUJMRVwiLHQuTk9UX1NVUFBPUlRFRD1cIk5PVF9TVVBQT1JURURcIix0LklOVkFMSURfT1BFUkFUSU9OPVwiSU5WQUxJRF9PUEVSQVRJT05cIix0Lk9QRVJBVElPTl9BQk9SVEVEPVwiT1BFUkFUSU9OX0FCT1JURURcIix0LldFQl9TRUNVUklUWV9SRVNUUklDVD1cIldFQl9TRUNVUklUWV9SRVNUUklDVFwiLHQuRVhDSEFOR0VfU0RQX0ZBSUxFRD1cIkVYQ0hBTkdFX1NEUF9GQUlMRURcIix0LkFERF9DQU5ESURBVEVfRkFJTEVEPVwiQUREX0NBTkRJREFURV9GQUlMRURcIix0LkRBVEFDSEFOTkVMX0ZBSUxFRD1cIkRBVEFDSEFOTkVMX0ZBSUxFRFwiLHQuTkVUV09SS19FUlJPUj1cIk5FVFdPUktfRVJST1JcIix0Lk5FVFdPUktfVElNRU9VVD1cIk5FVFdPUktfVElNRU9VVFwiLHQuTkVUV09SS19SRVNQT05TRV9FUlJPUj1cIk5FVFdPUktfUkVTUE9OU0VfRVJST1JcIix0LkFQSV9JTlZPS0VfVElNRU9VVD1cIkFQSV9JTlZPS0VfVElNRU9VVFwiLHQuRU5VTUVSQVRFX0RFVklDRVNfRkFJTEVEPVwiRU5VTUVSQVRFX0RFVklDRVNfRkFJTEVEXCIsdC5ERVZJQ0VfTk9UX0ZPVU5EPVwiREVWSUNFX05PVF9GT1VORFwiLHQuRUxFQ1RST05fSVNfTlVMTD1cIkVMRUNUUk9OX0lTX05VTExcIix0LkVMRUNUUk9OX0RFU0tUT1BfQ0FQVFVSRVJfR0VUX1NPVVJDRVNfRVJST1I9XCJFTEVDVFJPTl9ERVNLVE9QX0NBUFRVUkVSX0dFVF9TT1VSQ0VTX0VSUk9SXCIsdC5DSFJPTUVfUExVR0lOX05PX1JFU1BPTlNFPVwiQ0hST01FX1BMVUdJTl9OT19SRVNQT05TRVwiLHQuQ0hST01FX1BMVUdJTl9OT1RfSU5TVEFMTD1cIkNIUk9NRV9QTFVHSU5fTk9UX0lOU1RBTExcIix0Lk1FRElBX09QVElPTl9JTlZBTElEPVwiTUVESUFfT1BUSU9OX0lOVkFMSURcIix0LlBFUk1JU1NJT05fREVOSUVEPVwiUEVSTUlTU0lPTl9ERU5JRURcIix0LkNPTlNUUkFJTlRfTk9UX1NBVElTRklFRD1cIkNPTlNUUkFJTlRfTk9UX1NBVElTRklFRFwiLHQuVFJBQ0tfSVNfRElTQUJMRUQ9XCJUUkFDS19JU19ESVNBQkxFRFwiLHQuR0VUX1ZJREVPX0VMRU1FTlRfVklTSUJMRV9FUlJPUj1cIkdFVF9WSURFT19FTEVNRU5UX1ZJU0lCTEVfRVJST1JcIix0LlNIQVJFX0FVRElPX05PVF9BTExPV0VEPVwiU0hBUkVfQVVESU9fTk9UX0FMTE9XRURcIix0LkxPV19TVFJFQU1fRU5DT0RJTkdfRVJST1I9XCJMT1dfU1RSRUFNX0VOQ09ESU5HX0VSUk9SXCIsdC5TRVRfRU5DT0RJTkdfUEFSQU1FVEVSX0VSUk9SPVwiU0VUX0VOQ09ESU5HX1BBUkFNRVRFUl9FUlJPUlwiLHQuVFJBQ0tfU1RBVEVfVU5SRUFDSEFCTEU9XCJUUkFDS19TVEFURV9VTlJFQUNIQUJMRVwiLHQuSU5WQUxJRF9VSU5UX1VJRF9GUk9NX1NUUklOR19VSUQ9XCJJTlZBTElEX1VJTlRfVUlEX0ZST01fU1RSSU5HX1VJRFwiLHQuQ0FOX05PVF9HRVRfUFJPWFlfU0VSVkVSPVwiQ0FOX05PVF9HRVRfUFJPWFlfU0VSVkVSXCIsdC5DQU5fTk9UX0dFVF9HQVRFV0FZX1NFUlZFUj1cIkNBTl9OT1RfR0VUX0dBVEVXQVlfU0VSVkVSXCIsdC5WT0lEX0dBVEVXQVlfQUREUkVTUz1cIlZPSURfR0FURVdBWV9BRERSRVNTXCIsdC5VSURfQ09ORkxJQ1Q9XCJVSURfQ09ORkxJQ1RcIix0Lk1VTFRJX1VOSUxCU19SRVNQT05TRV9FUlJPUj1cIk1VTFRJX1VOSUxCU19SRVNQT05TRV9FUlJPUlwiLHQuVVBEQVRFX1RJQ0tFVF9GQUlMRUQ9XCJVUERBVEVfVElDS0VUX0ZBSUxFRFwiLHQuSU5WQUxJRF9MT0NBTF9UUkFDSz1cIklOVkFMSURfTE9DQUxfVFJBQ0tcIix0LklOVkFMSURfVFJBQ0s9XCJJTlZBTElEX1RSQUNLXCIsdC5TRU5ERVJfTk9UX0ZPVU5EPVwiU0VOREVSX05PVF9GT1VORFwiLHQuQ1JFQVRFX09GRkVSX0ZBSUxFRD1cIkNSRUFURV9PRkZFUl9GQUlMRURcIix0LlNFVF9BTlNXRVJfRkFJTEVEPVwiU0VUX0FOU1dFUl9GQUlMRURcIix0LklDRV9GQUlMRUQ9XCJJQ0VfRkFJTEVEXCIsdC5QQ19DTE9TRUQ9XCJQQ19DTE9TRURcIix0LlNFTkRFUl9SRVBMQUNFX0ZBSUxFRD1cIlNFTkRFUl9SRVBMQUNFX0ZBSUxFRFwiLHQuR0VUX0xPQ0FMX0NBUEFCSUxJVElFU19GQUlMRUQ9XCJHRVRfTE9DQUxfQ0FQQUJJTElUSUVTX0ZBSUxFRFwiLHQuR0VUX0xPQ0FMX0NPTk5FQ1RJT05fUEFSQU1TX0ZBSUxFRD1cIkdFVF9MT0NBTF9DT05ORUNUSU9OX1BBUkFNU19GQUlMRURcIix0LlNVQlNDUklCRV9GQUlMRUQ9XCJTVUJTQ1JJQkVfRkFJTEVEXCIsdC5VTlNVQlNDUklCRV9GQUlMRUQ9XCJVTlNVQlNDUklCRV9GQUlMRURcIix0LkdBVEVXQVlfUDJQX0xPU1Q9XCJHQVRFV0FZX1AyUF9MT1NUXCIsdC5OT19JQ0VfQ0FORElEQVRFPVwiTk9fSUNFX0NBTkRJREFURVwiLHQuQ0FOX05PVF9QVUJMSVNIX01VTFRJUExFX1ZJREVPX1RSQUNLUz1cIkNBTl9OT1RfUFVCTElTSF9NVUxUSVBMRV9WSURFT19UUkFDS1NcIix0LkVYSVNUX0RJU0FCTEVEX1ZJREVPX1RSQUNLPVwiRVhJU1RfRElTQUJMRURfVklERU9fVFJBQ0tcIix0LklOVkFMSURfUkVNT1RFX1VTRVI9XCJJTlZBTElEX1JFTU9URV9VU0VSXCIsdC5SRU1PVEVfVVNFUl9JU19OT1RfUFVCTElTSEVEPVwiUkVNT1RFX1VTRVJfSVNfTk9UX1BVQkxJU0hFRFwiLHQuQ1VTVE9NX1JFUE9SVF9TRU5EX0ZBSUxFRD1cIkNVU1RPTV9SRVBPUlRfU0VORF9GQUlMRURcIix0LkNVU1RPTV9SRVBPUlRfRlJFUVVFTkNZX1RPT19ISUdIPVwiQ1VTVE9NX1JFUE9SVF9GUkVRVUVOQ1lfVE9PX0hJR0hcIix0LkZFVENIX0FVRElPX0ZJTEVfRkFJTEVEPVwiRkVUQ0hfQVVESU9fRklMRV9GQUlMRURcIix0LlJFQURfTE9DQUxfQVVESU9fRklMRV9FUlJPUj1cIlJFQURfTE9DQUxfQVVESU9fRklMRV9FUlJPUlwiLHQuREVDT0RFX0FVRElPX0ZJTEVfRkFJTEVEPVwiREVDT0RFX0FVRElPX0ZJTEVfRkFJTEVEXCIsdC5XU19BQk9SVD1cIldTX0FCT1JUXCIsdC5XU19ESVNDT05ORUNUPVwiV1NfRElTQ09OTkVDVFwiLHQuV1NfRVJSPVwiV1NfRVJSXCIsdC5FWFRFUk5BTF9TSUdOQUxfQUJPUlQ9XCJFWFRFUk5BTF9TSUdOQUxfQUJPUlRcIix0LkxJVkVfU1RSRUFNSU5HX1RBU0tfQ09ORkxJQ1Q9XCJMSVZFX1NUUkVBTUlOR19UQVNLX0NPTkZMSUNUXCIsdC5MSVZFX1NUUkVBTUlOR19JTlZBTElEX0FSR1VNRU5UPVwiTElWRV9TVFJFQU1JTkdfSU5WQUxJRF9BUkdVTUVOVFwiLHQuTElWRV9TVFJFQU1JTkdfSU5URVJOQUxfU0VSVkVSX0VSUk9SPVwiTElWRV9TVFJFQU1JTkdfSU5URVJOQUxfU0VSVkVSX0VSUk9SXCIsdC5MSVZFX1NUUkVBTUlOR19QVUJMSVNIX1NUUkVBTV9OT1RfQVVUSE9SSVpFRD1cIkxJVkVfU1RSRUFNSU5HX1BVQkxJU0hfU1RSRUFNX05PVF9BVVRIT1JJWkVEXCIsdC5MSVZFX1NUUkVBTUlOR19UUkFOU0NPRElOR19OT1RfU1VQUE9SVEVEPVwiTElWRV9TVFJFQU1JTkdfVFJBTlNDT0RJTkdfTk9UX1NVUFBPUlRFRFwiLHQuTElWRV9TVFJFQU1JTkdfQ0ROX0VSUk9SPVwiTElWRV9TVFJFQU1JTkdfQ0ROX0VSUk9SXCIsdC5MSVZFX1NUUkVBTUlOR19JTlZBTElEX1JBV19TVFJFQU09XCJMSVZFX1NUUkVBTUlOR19JTlZBTElEX1JBV19TVFJFQU1cIix0LkxJVkVfU1RSRUFNSU5HX1dBUk5fU1RSRUFNX05VTV9SRUFDSF9MSU1JVD1cIkxJVkVfU1RSRUFNSU5HX1dBUk5fU1RSRUFNX05VTV9SRUFDSF9MSU1JVFwiLHQuTElWRV9TVFJFQU1JTkdfV0FSTl9GQUlMRURfTE9BRF9JTUFHRT1cIkxJVkVfU1RSRUFNSU5HX1dBUk5fRkFJTEVEX0xPQURfSU1BR0VcIix0LkxJVkVfU1RSRUFNSU5HX1dBUk5fRlJFUVVFTlRfUkVRVUVTVD1cIkxJVkVfU1RSRUFNSU5HX1dBUk5fRlJFUVVFTlRfUkVRVUVTVFwiLHQuV0VCR0xfSU5URVJOQUxfRVJST1I9XCJXRUJHTF9JTlRFUk5BTF9FUlJPUlwiLHQuQkVBVVRZX1BST0NFU1NPUl9JTlRFUk5BTF9FUlJPUj1cIkJFQVVUWV9QUk9DRVNTT1JfSU5URVJOQUxfRVJST1JcIix0LkNST1NTX0NIQU5ORUxfV0FJVF9TVEFUVVNfRVJST1I9XCJDUk9TU19DSEFOTkVMX1dBSVRfU1RBVFVTX0VSUk9SXCIsdC5DUk9TU19DSEFOTkVMX0ZBSUxFRF9KT0lOX1NSQz1cIkNST1NTX0NIQU5ORUxfRkFJTEVEX0pPSU5fU0VDXCIsdC5DUk9TU19DSEFOTkVMX0ZBSUxFRF9KT0lOX0RFU1Q9XCJDUk9TU19DSEFOTkVMX0ZBSUxFRF9KT0lOX0RFU1RcIix0LkNST1NTX0NIQU5ORUxfRkFJTEVEX1BBQ0tFVF9TRU5UX1RPX0RFU1Q9XCJDUk9TU19DSEFOTkVMX0ZBSUxFRF9QQUNLRVRfU0VOVF9UT19ERVNUXCIsdC5DUk9TU19DSEFOTkVMX1NFUlZFUl9FUlJPUl9SRVNQT05TRT1cIkNST1NTX0NIQU5ORUxfU0VSVkVSX0VSUk9SX1JFU1BPTlNFXCIsdC5NRVRBREFUQV9PVVRfT0ZfUkFOR0U9XCJNRVRBREFUQV9PVVRfT0ZfUkFOR0VcIix0LkxPQ0FMX0FFQ19FUlJPUj1cIkxPQ0FMX0FFQ19FUlJPUlwiLHQuSU5WQUxJRF9QTFVHSU49XCJJTlZBTElEX1BMVUdJTlwiLHQuRElTQ09OTkVDVF9QMlA9XCJESVNDT05ORUNUX1AyUFwiLHQuQ09OVkVSVElOR19JTUFHRURBVEFfVE9fQkxPQl9GQUlMRUQ9XCJDT05WRVJUSU5HX0lNQUdFREFUQV9UT19CTE9CX0ZBSUxFRFwiLHQuQ09OVkVSVElOR19WSURFT19GUkFNRV9UT19CTE9CX0ZBSUxFRD1cIkNPTlZFUlRJTkdfVklERU9fRlJBTUVfVE9fQkxPQl9GQUlMRURcIix0LklOSVRfREFUQUNIQU5ORUxfVElNRU9VVD1cIklOSVRfREFUQUNIQU5ORUxfVElNRU9VVFwiLHQuQ1JFQVRFX0RBVEFDSEFOTkVMX0VSUk9SPVwiQ1JFQVRFX0RBVEFDSEFOTkVMX0VSUk9SXCIsdC5EQVRBQ0hBTk5FTF9DT05ORUNUSU9OX1RJTUVPVVQ9XCJEQVRBQ0hBTk5FTF9DT05ORUNUSU9OX1RJTUVPVVRcIix0LlBST0hJQklURURfT1BFUkFUSU9OPVwiUFJPSElCSVRFRF9PUEVSQVRJT05cIix0LklNQUdFX01PREVSQVRJT05fVVBMT0FEX0ZBSUxFRD1cIklNQUdFX01PREVSQVRJT05fVVBMT0FEX0ZBSUxFRFwiLHQuUDJQX01FU1NBR0VfRkFJTEVEPVwiUDJQX01FU1NBR0VfRkFJTEVEXCIsdH0oe30pLE49Y2xhc3MgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3Rvcih0KXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06XCJcIixuPWFyZ3VtZW50cy5sZW5ndGg+Mj9hcmd1bWVudHNbMl06dm9pZCAwO3N1cGVyKGUpLGp0KHRoaXMsXCJjb2RlXCIsdm9pZCAwKSxqdCh0aGlzLFwibWVzc2FnZVwiLHZvaWQgMCksanQodGhpcyxcImRhdGFcIix2b2lkIDApLGp0KHRoaXMsXCJuYW1lXCIsXCJBZ29yYVJUQ0V4Y2VwdGlvblwiKSx0aGlzLmNvZGU9dCx0aGlzLm1lc3NhZ2U9XCJBZ29yYVJUQ0Vycm9yIFwiLmNvbmNhdCh0aGlzLmNvZGUsXCI6IFwiKS5jb25jYXQoZSksdGhpcy5kYXRhPW47fXRvU3RyaW5nKCl7cmV0dXJuIHRoaXMuZGF0YT9cImRhdGE6IFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeSh0aGlzLmRhdGEpLGBcbmApLmNvbmNhdCh0aGlzLnN0YWNrKTpcIlwiLmNvbmNhdCh0aGlzLnN0YWNrKX1wcmludCgpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dm9pZCAwP2FyZ3VtZW50c1swXTpcImVycm9yXCIsZT1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMDtyZXR1cm4gdD09PVwiZXJyb3JcIiYmKGV8fGNvbnNvbGUpLmVycm9yKHRoaXMudG9TdHJpbmcoKSksdD09PVwid2FybmluZ1wiJiYoZXx8Y29uc29sZSkud2Fybih0aGlzLnRvU3RyaW5nKCkpLHRoaXN9dGhyb3codCl7dGhyb3cgdGhpcy5wcmludChcImVycm9yXCIsdCksdGhpc319O2Z1bmN0aW9uIE5yKHQsZSl7aWYodHlwZW9mIHQhPVwiYm9vbGVhblwiKXRocm93IG5ldyBOKFIuSU5WQUxJRF9QQVJBTVMsXCJJbnZhbGlkIFwiLmNvbmNhdChlLFwiOiBUaGUgdmFsdWUgaXMgb2YgdGhlIGJvb2xlYW4gdHlwZS5cIikpfWZ1bmN0aW9uIENlKHQsZSxuKXtpZighVyhuKS5jYWxsKG4sdCkpdGhyb3cgbmV3IE4oUi5JTlZBTElEX1BBUkFNUyxcIlwiLmNvbmNhdChlLFwiIGNhbiBvbmx5IGJlIHNldCBhcyBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KG4pKSl9ZnVuY3Rpb24gTnQodCxlKXtsZXQgbj1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXZvaWQgMD9hcmd1bWVudHNbMl06MSxpPWFyZ3VtZW50cy5sZW5ndGg+MyYmYXJndW1lbnRzWzNdIT09dm9pZCAwP2FyZ3VtZW50c1szXToxZTQ7aWYodDxufHx0Pml8fCghKGFyZ3VtZW50cy5sZW5ndGg+NCYmYXJndW1lbnRzWzRdIT09dm9pZCAwKXx8YXJndW1lbnRzWzRdKSYmIWZ1bmN0aW9uKHIpe3JldHVybiB0eXBlb2Ygcj09XCJudW1iZXJcIiYmciUxPT0wfSh0KSl0aHJvdyBuZXcgTihSLklOVkFMSURfUEFSQU1TLFwiaW52YWxpZCBcIi5jb25jYXQoZSxcIjogdGhlIHZhbHVlIHJhbmdlIGlzIFtcIikuY29uY2F0KG4sXCIsIFwiKS5jb25jYXQoaSxcIl0uIGludGVnZXIgb25seVwiKSl9ZnVuY3Rpb24gYnAodCxlKXtpZih0eXBlb2YgdCE9XCJudW1iZXJcIil7aWYoISh0Lm1pbnx8dC5tYXh8fHQuaWRlYWx8fHQuZXhhY3QpKXRocm93IG5ldyBOKFIuSU5WQUxJRF9QQVJBTVMsXCJcIi5jb25jYXQoZSxcIiBpcyBub3QgYSB2YWxpZCBDb25zdHJhaW5Mb25nXCIpKTt0Lm1pbiE9PXZvaWQgMCYmTnQodC5taW4sXCJcIi5jb25jYXQoZSxcIi5taW5cIiksMCwxLzApLHQubWF4IT09dm9pZCAwJiZOdCh0Lm1heCxcIlwiLmNvbmNhdChlLFwiLm1heFwiKSwxLDEvMCksdC5leGFjdCE9PXZvaWQgMCYmTnQodC5leGFjdCxcIlwiLmNvbmNhdChlLFwiLmV4YWN0XCIpLDEsMS8wKSx0LmlkZWFsIT09dm9pZCAwJiZOdCh0LmlkZWFsLFwiXCIuY29uY2F0KGUsXCIuaWRlYWxcIiksMSwxLzApO31lbHNlIE50KHQsZSwxLDEvMCk7fWZ1bmN0aW9uIFBlKHQsZSl7bGV0IG49YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl0hPT12b2lkIDA/YXJndW1lbnRzWzJdOjEsaT1hcmd1bWVudHMubGVuZ3RoPjMmJmFyZ3VtZW50c1szXSE9PXZvaWQgMD9hcmd1bWVudHNbM106MjU1LHI9IShhcmd1bWVudHMubGVuZ3RoPjQmJmFyZ3VtZW50c1s0XSE9PXZvaWQgMCl8fGFyZ3VtZW50c1s0XTtpZih0PT1udWxsKXRocm93IG5ldyBOKFIuSU5WQUxJRF9QQVJBTVMsXCJcIi5jb25jYXQoZXx8XCJwYXJhbVwiLFwiIGNhbm5vdCBiZSBlbXB0eVwiKSk7aWYoIVJPKHQsbixpLHIpKXRocm93IG5ldyBOKFIuSU5WQUxJRF9QQVJBTVMsXCJJbnZhbGlkIFwiLmNvbmNhdChlfHxcInN0cmluZyBwYXJhbVwiLFwiOiBMZW5ndGggb2YgdGhlIHN0cmluZzogW1wiKS5jb25jYXQobixcIixcIikuY29uY2F0KGksXCJdLlwiKS5jb25jYXQocj9cIiBBU0NJSSBjaGFyYWN0ZXJzIG9ubHkuXCI6XCJcIikpfWZ1bmN0aW9uIGJyKHQsZSl7aWYoIUFycmF5LmlzQXJyYXkodCkpdGhyb3cgbmV3IE4oUi5JTlZBTElEX1BBUkFNUyxcIlwiLmNvbmNhdChlLFwiIHNob3VsZCBiZSBhbiBhcnJheVwiKSl9ZnVuY3Rpb24genQodCl7cmV0dXJuIHQ9PW51bGx9ZnVuY3Rpb24gUk8odCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOjEsbj1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXZvaWQgMD9hcmd1bWVudHNbMl06MjU1LGk9IShhcmd1bWVudHMubGVuZ3RoPjMmJmFyZ3VtZW50c1szXSE9PXZvaWQgMCl8fGFyZ3VtZW50c1szXTtyZXR1cm4gdHlwZW9mIHQ9PVwic3RyaW5nXCImJnQubGVuZ3RoPD1uJiZ0Lmxlbmd0aD49ZSYmKCFpfHxmdW5jdGlvbihyKXtpZih0eXBlb2YgciE9XCJzdHJpbmdcIilyZXR1cm4gITE7Zm9yKGxldCBvPTA7bzxyLmxlbmd0aDtvKz0xKXtsZXQgcz1yLmNoYXJDb2RlQXQobyk7aWYoczwwfHxzPjI1NSlyZXR1cm4gITF9cmV0dXJuICEwfSh0KSl9dmFyIEthPWZ1bmN0aW9uKHQpe3JldHVybiB0LkNPVkVSRUQ9XCJDT1ZFUkVEXCIsdC5QT1NJVElPTj1cIlBPU0lUSU9OXCIsdC5TSVpFPVwiU0laRVwiLHQuU1RZTEU9XCJTVFlMRVwiLHR9KEthfHx7fSksREU9ZnVuY3Rpb24odCl7cmV0dXJuIHQuVU5NT1VOVEVEPVwiVU5NT1VOVEVEXCIsdC5JTlZBTElEX0hUTUxfRUxFTUVOVD1cIklOVkFMSURfSFRNTF9FTEVNRU5UXCIsdH0oREV8fHt9KSxDTz1uZXcgY2xhc3N7Y29uc3RydWN0b3IoKXtqdCh0aGlzLFwiX2NsaWVudFNpemVcIixudWxsKSxqdCh0aGlzLFwiZ2V0Q2xpZW50V2lkdGhcIiwoKT0+ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50P2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDpkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoKSxqdCh0aGlzLFwiZ2V0Q2xpZW50SGVpZ2h0XCIsKCk9PmRvY3VtZW50LmRvY3VtZW50RWxlbWVudD9kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0OmRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0KSxqdCh0aGlzLFwiZ2V0U3R5bGVcIix0PT53aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0LG51bGwpKSxqdCh0aGlzLFwiY2hlY2tDc3NWaXNpYmxlUHJvcGVydHlcIix0PT57dmFyIGU7bGV0IG49ITAsaT10aGlzLmdldFN0eWxlKHQpLHtkaXNwbGF5OnIsdmlzaWJpbGl0eTpvLG9wYWNpdHk6cyxmaWx0ZXI6YX09aTtyZXR1cm4gKHI9PT1cIm5vbmVcInx8VyhlPVtcImhpZGRlblwiLFwiY29sbGFwc2VcIl0pLmNhbGwoZSxvKXx8TnVtYmVyKHMpPC4xKSYmKG49ITEpLCEhbiYmKGEmJmEuc3BsaXQoXCIgXCIpLmZpbHRlcihjPT57dmFyIGQ7bGV0IGw9Yy5zcGxpdChcIihcIilbMF07cmV0dXJuIFcoZD1bXCJicmlnaHRuZXNzXCIsXCJibHVyXCIsXCJvcGFjaXR5XCJdKS5jYWxsKGQsbCl9KS5tYXAoYz0+e2xldFtkLGxdPWMuc3BsaXQoL1xcKHxcXCkvKTtyZXR1cm4gW2QsTnVtYmVyKGwubWF0Y2goL15bMC05XFwuXSsvKSldfSkuZm9yRWFjaChjPT57bGV0W2QsbF09Yztzd2l0Y2goZCl7Y2FzZVwiYnJpZ2h0bmVzc1wiOihsPC4xfHxsPjMpJiYobj0hMSk7YnJlYWs7Y2FzZVwiYmx1clwiOmw+MyYmKG49ITEpO2JyZWFrO2Nhc2VcIm9wYWNpdHlcIjpsPC4xJiYobj0hMSk7fX0pLG4pfSksanQodGhpcyxcImNoZWNrUHJvcGVydHlVcFRvQWxsUGFyZW50Tm9kZXNcIiwodCxlKT0+e2xldCBuPSEwLGk9ITAscj1zPT5lKHMpLG89dDtmb3IoO28mJmk7KXIobyl8fChuPSExLGk9ITEpLG89by5wYXJlbnRFbGVtZW50LG98fChpPSExKTtyZXR1cm4gbn0pLGp0KHRoaXMsXCJjaGVja0FjdHVhbENzc1Zpc2libGVJbmNsdWRlSW5oZXJpdFwiLHQ9PnRoaXMuY2hlY2tQcm9wZXJ0eVVwVG9BbGxQYXJlbnROb2Rlcyh0LHRoaXMuY2hlY2tDc3NWaXNpYmxlUHJvcGVydHkpKSxqdCh0aGlzLFwiZ2V0U2l6ZUFib3V0Q2xpZW50XCIsdD0+e2xldHt3aWR0aDplLGhlaWdodDpuLGxlZnQ6aSxyaWdodDpyLHRvcDpvLGJvdHRvbTpzfT10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGE9dGhpcy5nZXRDbGllbnRXaWR0aCgpLGM9dGhpcy5nZXRDbGllbnRIZWlnaHQoKTtyZXR1cm4ge3dpZHRoOmUsaGVpZ2h0Om4sbGVmdDppLHJpZ2h0OnIsdG9wOm8sYm90dG9tOnMsY2xpZW50V2lkdGg6YSxjbGllbnRIZWlnaHQ6YyxjbGllbnRNaW46TWF0aC5taW4oYSxjKX19KSxqdCh0aGlzLFwiY2hlY2tBY3R1YWxTaXplXCIsKCk9PntsZXR7d2lkdGg6dCxoZWlnaHQ6ZSxjbGllbnRNaW46bn09dGhpcy5fY2xpZW50U2l6ZTtyZXR1cm4gdGhpcy5jaGVja1NpemVJc1Zpc2libGUodCxlLG4pfSksanQodGhpcyxcImVsZW1lbnRGcm9tUG9pbnRcIiwodCxlKT0+ZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludD9kb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHQsZSk6bnVsbCksanQodGhpcyxcImNoZWNrQ292ZXJGb3JBUG9pbnRcIiwodCxlLG4pPT57bGV0IGk9dGhpcy5lbGVtZW50RnJvbVBvaW50KHQsZSk7cmV0dXJuIGkhPT1udWxsJiZpIT09bn0pLGp0KHRoaXMsXCJnZXRQb2ludFBvc2l0aW9uTGlzdFwiLCgpPT57bGV0e3dpZHRoOnQsaGVpZ2h0OmUsbGVmdDpuLHRvcDppfT10aGlzLl9jbGllbnRTaXplLHI9dC82LG89ZS82LHM9W10sYT0xMCoqNjtmb3IobGV0IGM9MDtjPDU7YysrKWZvcihsZXQgZD0wO2Q8NTtkKyspe2xldCBsPShuKmErKGM9PT0wPy4xOmM9PT00PyhyKmMqYS0xZTUpL2E6cipjKSphKS9hLHU9KGkqYSsoZD09PTA/LjE6ZD09PTQ/KG8qZCphLTFlNSkvYTpvKmQpKmEpL2E7cy5wdXNoKHt4OmwseTp1fSk7fXJldHVybiBbLi4uc119KSxqdCh0aGlzLFwiY2hlY2tFbGVtZW50Q292ZXJcIix0PT50aGlzLmdldFBvaW50UG9zaXRpb25MaXN0KCkubWFwKGU9PnRoaXMuY2hlY2tDb3ZlckZvckFQb2ludChlLngsZS55LHQpKS5maWx0ZXIoZT0+ISFlKS5sZW5ndGg+NiksanQodGhpcyxcImNoZWNrU2l6ZUlzVmlzaWJsZVwiLCh0LGUsbik9Pih0PjUwfHxuL3Q8PTEwKSYmKGU+NTB8fG4vZTw9MTApKSxqdCh0aGlzLFwiY2hlY2tTaXplT2ZQYXJ0SW5DbGllbnRcIiwoKT0+e2xldHtsZWZ0OnQscmlnaHQ6ZSx0b3A6bixib3R0b206aSxjbGllbnRIZWlnaHQ6cixjbGllbnRXaWR0aDpvLGNsaWVudE1pbjpzfT10aGlzLl9jbGllbnRTaXplLGEsYyxkLGw7aWYodDwwKWE9MDtlbHNlIHtpZighKHQ8bykpcmV0dXJuICExO2E9dDt9aWYoZTwwKXJldHVybiAhMTtpZihjPWU8bz9lOm8sbjwwKWQ9MDtlbHNlIHtpZighKG48cikpcmV0dXJuICExO2Q9bjt9aWYoaTwwKXJldHVybiAhMTtsPWk8cj9pOnI7bGV0IHU9Yy1hLGg9bC1kO3JldHVybiB0aGlzLmNoZWNrU2l6ZUlzVmlzaWJsZSh1LGgscyl9KSxqdCh0aGlzLFwicmV0dXJuSGlkZGVuUmVzdWx0XCIsdD0+KHRoaXMuX2NsaWVudFNpemU9bnVsbCx7dmlzaWJsZTohMSxyZWFzb246dH0pKSxqdCh0aGlzLFwiY2hlY2tPbmVFbGVtZW50VmlzaWJsZVwiLHQ9PntpZih0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpe2lmKHRoaXMuY2hlY2tFbGVtZW50SXNNb3VudGVkT25Eb20odCkpe2lmKHRoaXMuY2hlY2tBY3R1YWxDc3NWaXNpYmxlSW5jbHVkZUluaGVyaXQodCkpe2lmKHRoaXMuX2NsaWVudFNpemU9dGhpcy5nZXRTaXplQWJvdXRDbGllbnQodCksdGhpcy5jaGVja0VsZW1lbnRDb3Zlcih0KSlyZXR1cm4gdGhpcy5yZXR1cm5IaWRkZW5SZXN1bHQoS2EuQ09WRVJFRCk7e2xldCBlPXRoaXMuY2hlY2tBY3R1YWxTaXplKCksbj10aGlzLmNoZWNrU2l6ZU9mUGFydEluQ2xpZW50KCk7cmV0dXJuIGUmJiFuP3RoaXMucmV0dXJuSGlkZGVuUmVzdWx0KEthLlBPU0lUSU9OKTplPyh0aGlzLl9jbGllbnRTaXplPW51bGwse3Zpc2libGU6ITB9KTp0aGlzLnJldHVybkhpZGRlblJlc3VsdChLYS5TSVpFKX19cmV0dXJuIHRoaXMucmV0dXJuSGlkZGVuUmVzdWx0KEthLlNUWUxFKX1yZXR1cm4gdGhpcy5yZXR1cm5IaWRkZW5SZXN1bHQoREUuVU5NT1VOVEVEKX1yZXR1cm4gdGhpcy5yZXR1cm5IaWRkZW5SZXN1bHQoREUuSU5WQUxJRF9IVE1MX0VMRU1FTlQpfSksanQodGhpcyxcImNoZWNrRWxlbWVudElzTW91bnRlZE9uRG9tXCIsdD0+dGhpcy5jaGVja1Byb3BlcnR5VXBUb0FsbFBhcmVudE5vZGVzKHQsZT0+ZS5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpIT09XCJIVE1MXCI/ZS5wYXJlbnRFbGVtZW50IT09bnVsbDohIWRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkpO319O2Z1bmN0aW9uIHVmKHQpe3JldHVybiBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUodCl9dmFyIEVSPWZ1bmN0aW9uKHQsZSl7bGV0IG49bmV3IFVpbnQ4QXJyYXkodC5ieXRlTGVuZ3RoK2UuYnl0ZUxlbmd0aCk7cmV0dXJuIG4uc2V0KG5ldyBVaW50OEFycmF5KHQpLDApLG4uc2V0KG5ldyBVaW50OEFycmF5KGUpLHQuYnl0ZUxlbmd0aCksbn0sUEU9YXN5bmMgdD0+ZnVuY3Rpb24oZSxuKXtsZXQgaT1cIlwiO3JldHVybiBuZXcgVWludDhBcnJheShlKS5mb3JFYWNoKHI9PntpKz1yLnRvU3RyaW5nKG4pLnBhZFN0YXJ0KDIsXCIwXCIpO30pLGl9KGF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KFwiU0hBLTI1NlwiLHVmKHQpKSwxNiksWHQ9Y2xhc3N7Y29uc3RydWN0b3IoKXtqdCh0aGlzLFwiX2V2ZW50c1wiLHt9KSxqdCh0aGlzLFwiYWRkTGlzdGVuZXJcIix0aGlzLm9uKTt9Z2V0TGlzdGVuZXJzKHQpe3JldHVybiB0aGlzLl9ldmVudHNbdF0/dGhpcy5fZXZlbnRzW3RdLm1hcChlPT5lLmxpc3RlbmVyKTpbXX1vbih0LGUpe3RoaXMuX2V2ZW50c1t0XXx8KHRoaXMuX2V2ZW50c1t0XT1bXSk7bGV0IG49dGhpcy5fZXZlbnRzW3RdO3RoaXMuX2luZGV4T2ZMaXN0ZW5lcihuLGUpPT09LTEmJm4ucHVzaCh7bGlzdGVuZXI6ZSxvbmNlOiExfSk7fW9uY2UodCxlKXt0aGlzLl9ldmVudHNbdF18fCh0aGlzLl9ldmVudHNbdF09W10pO2xldCBuPXRoaXMuX2V2ZW50c1t0XTt0aGlzLl9pbmRleE9mTGlzdGVuZXIobixlKT09PS0xJiZuLnB1c2goe2xpc3RlbmVyOmUsb25jZTohMH0pO31vZmYodCxlKXtpZighdGhpcy5fZXZlbnRzW3RdKXJldHVybjtsZXQgbj10aGlzLl9ldmVudHNbdF0saT10aGlzLl9pbmRleE9mTGlzdGVuZXIobixlKTtpIT09LTEmJm4uc3BsaWNlKGksMSksdGhpcy5fZXZlbnRzW3RdLmxlbmd0aD09PTAmJmRlbGV0ZSB0aGlzLl9ldmVudHNbdF07fXJlbW92ZUFsbExpc3RlbmVycyh0KXt0P2RlbGV0ZSB0aGlzLl9ldmVudHNbdF06dGhpcy5fZXZlbnRzPXt9O31lbWl0KHQpe3RoaXMuX2V2ZW50c1t0XXx8KHRoaXMuX2V2ZW50c1t0XT1bXSk7bGV0IGU9dGhpcy5fZXZlbnRzW3RdLm1hcChvPT5vKTtmb3IodmFyIG49YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheShuPjE/bi0xOjApLHI9MTtyPG47cisrKWlbci0xXT1hcmd1bWVudHNbcl07Zm9yKGxldCBvPTA7bzxlLmxlbmd0aDtvKz0xKXtsZXQgcz1lW29dO3Mub25jZSYmdGhpcy5vZmYodCxzLmxpc3RlbmVyKSxzLmxpc3RlbmVyLmFwcGx5KHRoaXMsaXx8W10pO319c2FmZUVtaXQodCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoZT4xP2UtMTowKSxpPTE7aTxlO2krKyluW2ktMV09YXJndW1lbnRzW2ldO1suLi50aGlzLl9ldmVudHNbdF18fFtdXS5mb3JFYWNoKHI9PntyLm9uY2UmJnRoaXMub2ZmKHQsci5saXN0ZW5lcik7dHJ5e3IubGlzdGVuZXIuYXBwbHkodGhpcyxuKTt9Y2F0Y2gobyl7Y29uc29sZS5lcnJvcihcInNhZmVFbWl0IGV2ZW50OlwiLmNvbmNhdCh0LFwiIGVycm9yIFwiKS5jb25jYXQobz8udG9TdHJpbmcoKSkpO319KTt9X2luZGV4T2ZMaXN0ZW5lcih0LGUpe2xldCBuPXQubGVuZ3RoO2Zvcig7bi0tOylpZih0W25dLmxpc3RlbmVyPT09ZSlyZXR1cm4gbjtyZXR1cm4gLTF9fSxQYT1udWxsO2Z1bmN0aW9uIElPKCl7aWYoUGEpcmV0dXJuIFBhO2lmKHdpbmRvdy5lbGVjdHJvbilyZXR1cm4gUGE9d2luZG93LmVsZWN0cm9uO2lmKCF3aW5kb3cucmVxdWlyZSlyZXR1cm4gbnVsbDt0cnl7cmV0dXJuIFBhPXdpbmRvdy5yZXF1aXJlKFwiZWxlY3Ryb25cIiksUGF9Y2F0Y2h7cmV0dXJuIG51bGx9fXZhciBUZT1mdW5jdGlvbih0KXtyZXR1cm4gdC5DUkVBVEVfQ0xJRU5UPVwiY3JlYXRlQ2xpZW50XCIsdC5DSEVDS19TWVNURU1fUkVRVUlSRU1FTlRTPVwiY2hlY2tTeXN0ZW1SZXF1aXJlbWVudHNcIix0LlNFVF9BUkVBPVwic2V0QXJlYVwiLHQuUFJFTE9BRD1cIlBSRUxPQURcIix0LkNIRUNLX1ZJREVPX1RSQUNLX0lTX0FDVElWRT1cImNoZWNrVmlkZW9UcmFja0lzQWN0aXZlXCIsdC5DSEVDS19BVURJT19UUkFDS19JU19BQ1RJVkU9XCJjaGVja0F1ZGlvVHJhY2tJc0FjdGl2ZVwiLHQuQ1JFQVRFX01JQ19BVURJT19UUkFDSz1cImNyZWF0ZU1pY3JvcGhvbmVBdWRpb1RyYWNrXCIsdC5DUkVBVEVfQ1VTVE9NX0FVRElPX1RSQUNLPVwiY3JlYXRlQ3VzdG9tQXVkaW9UcmFja1wiLHQuQ1JFQVRFX0JVRkZFUl9BVURJT19UUkFDSz1cImNyZWF0ZUJ1ZmZlclNvdXJjZUF1ZGlvVHJhY2tcIix0LkNSRUFURV9DQU1fVklERU9fVFJBQ0s9XCJjcmVhdGVDYW1lcmFWaWRlb1RyYWNrXCIsdC5DUkVBVEVfQ1VTVE9NX1ZJREVPX1RSQUNLPVwiY3JlYXRlQ3VzdG9tVmlkZW9UcmFja1wiLHQuQ1JFQVRFX01JQ19BTkRfQ0FNX1RSQUNLUz1cImNyZWF0ZU1pY3JvcGhvbmVBbmRDYW1lcmFUcmFja3NcIix0LkNSRUFURV9TQ1JFRU5fVklERU9fVFJBQ0s9XCJjcmVhdGVTY3JlZW5WaWRlb1RyYWNrXCIsdC5TRVRfRU5DUllQVElPTl9DT05GSUc9XCJDbGllbnQuc2V0RW5jcnlwdGlvbkNvbmZpZ1wiLHQuU1RBUlRfUFJPWFlfU0VSVkVSPVwiQ2xpZW50LnN0YXJ0UHJveHlTZXJ2ZXJcIix0LlNUT1BfUFJPWFlfU0VSVkVSPVwiQ2xpZW50LnN0b3BQcm94eVNlcnZlclwiLHQuU0VUX1BST1hZX1NFUlZFUj1cIkNsaWVudC5zZXRQcm94eVNlcnZlclwiLHQuU0VUX1RVUk5fU0VSVkVSPVwiQ2xpZW50LnNldFR1cm5TZXJ2ZXJcIix0LlNFVF9DTElFTlRfUk9MRT1cIkNsaWVudC5zZXRDbGllbnRSb2xlXCIsdC5TRVRfTE9XX1NUUkVBTV9QQVJBTUVURVI9XCJDbGllbnQuc2V0TG93U3RyZWFtUGFyYW1ldGVyXCIsdC5FTkFCTEVfRFVBTF9TVFJFQU09XCJDbGllbnQuZW5hYmxlRHVhbFN0cmVhbVwiLHQuRElTQUJMRV9EVUFMX1NUUkVBTT1cIkNsaWVudC5kaXNhYmxlRHVhbFN0cmVhbVwiLHQuSk9JTj1cIkNsaWVudC5qb2luXCIsdC5MRUFWRT1cIkNsaWVudC5sZWF2ZVwiLHQuUFVCTElTSD1cIkNsaWVudC5wdWJsaXNoXCIsdC5VTlBVQkxJU0g9XCJDbGllbnQudW5wdWJsaXNoXCIsdC5TVUJTQ1JJQkU9XCJDbGllbnQuc3Vic2NyaWJlXCIsdC5NQVNTX1NVQlNDUklCRT1cIkNsaWVudC5tYXNzU3Vic2NyaWJlXCIsdC5NQVNTX1VOU1VCU0NSSUJFPVwiQ2xpZW50Lm1hc3NVbnN1YnNjcmliZVwiLHQuVU5TVUJTQ1JJQkU9XCJDbGllbnQudW5zdWJzY3JpYmVcIix0LlJFTkVXX1RPS0VOPVwiQ2xpZW50LnJlbmV3VG9rZW5cIix0LlNFVF9SRU1PVEVfVklERU9fU1RSRUFNX1RZUEU9XCJDbGllbnQuc2V0UmVtb3RlVmlkZW9TdHJlYW1UeXBlXCIsdC5TRVRfU1RSRUFNX0ZBTExCQUNLX09QVElPTj1cIkNsaWVudC5zZXRTdHJlYW1GYWxsYmFja09wdGlvblwiLHQuRU5BQkxFX0FVRElPX1ZPTFVNRV9JTkRJQ0FUT1I9XCJDbGllbnQuZW5hYmxlQXVkaW9Wb2x1bWVJbmRpY2F0b3JcIix0LlNFTkRfQ1VTVE9NX1JFUE9SVF9NRVNTQUdFPVwiQ2xpZW50LnNlbmRDdXN0b21SZXBvcnRNZXNzYWdlXCIsdC5JTlNQRUNUX1ZJREVPX0NPTlRFTlQ9XCJDbGllbnQuaW5zcGVjdFZpZGVvQ29udGVudFwiLHQuU1RPUF9JTlNQRUNUX1ZJREVPX0NPTlRFTlQ9XCJDbGllbnQuc3RvcEluc3BlY3RWaWRlb0NvbnRlbnRcIix0LkpPSU5fRkFMTEJBQ0tfVE9fUFJPWFk9XCJDbGllbnQuX2pvaW5GYWxsYmFja1RvUHJveHlcIix0Lk9OX0xJVkVfU1RSRUFNX1dBUk5JTkc9XCJDbGllbnQub25MaXZlU3RyZWFtV2FybmluZ1wiLHQuT05fTElWRV9TVFJFQU1fRVJST1I9XCJDbGllbnQub25MaXZlU3RyZWFtaW5nRXJyb3JcIix0LlNUQVJUX0xJVkVfU1RSRUFNSU5HPVwiQ2xpZW50LnN0YXJ0TGl2ZVN0cmVhbWluZ1wiLHQuU0VUX0xJVkVfVFJBTlNDT0RJTkc9XCJDbGllbnQuc2V0TGl2ZVRyYW5zY29kaW5nXCIsdC5TVE9QX0xJVkVfU1RSRUFNSU5HPVwiQ2xpZW50LnN0b3BMaXZlU3RyZWFtaW5nXCIsdC5TVEFSVF9DSEFOTkVMX01FRElBX1JFTEFZPVwiQ2xpZW50LnN0YXJ0Q2hhbm5lbE1lZGlhUmVsYXlcIix0LlVQREFURV9DSEFOTkVMX01FRElBX1JFTEFZPVwiQ2xpZW50LnVwZGF0ZUNoYW5uZWxNZWRpYVJlbGF5XCIsdC5TVE9QX0NIQU5ORUxfTUVESUFfUkVMQVk9XCJDbGllbnQuc3RvcENoYW5uZWxNZWRpYVJlbGF5XCIsdC5SRVFVRVNUX0NPTkZJR19ESVNUUklCVVRFPVwiX2NvbmZpZy1kaXN0cmlidXRlLXJlcXVlc3RcIix0LlNFVF9DT05GSUdfRElTVFJJQlVURT1cIl9jb25maWdEaXN0cmlidXRlXCIsdC5MT0NBTF9UUkFDS19TRVRfTVVURUQ9XCJMb2NhbFRyYWNrLnNldE11dGVcIix0LkxPQ0FMX0FVRElPX1RSQUNLX1BMQVk9XCJMb2NhbEF1ZGlvVHJhY2sucGxheVwiLHQuTE9DQUxfQVVESU9fVFJBQ0tfUExBWV9JTl9FTEVNRU5UPVwiTG9jYWxBdWRpb1RyYWNrLnBsYXlJbkVsZW1lbnRcIix0LkxPQ0FMX0FVRElPX1RSQUNLX1NUT1A9XCJMb2NhbEF1ZGlvVHJhY2suc3RvcFwiLHQuTE9DQUxfQVVESU9fVFJBQ0tfU0VUX1ZPTFVNRT1cIkxvY2FsQXVkaW9UcmFjay5zZXRWb2x1bWVcIix0Lk1JQ19BVURJT19UUkFDS19TRVRfREVWSUNFPVwiTWljcm9waG9uZUF1ZGlvVHJhY2suc2V0RGV2aWNlXCIsdC5CVUZGRVJfQVVESU9fVFJBQ0tfU1RBUlQ9XCJCdWZmZXJTb3VyY2VBdWRpb1RyYWNrLnN0YXJ0UHJvY2Vzc0F1ZGlvQnVmZmVyXCIsdC5CVUZGRVJfQVVESU9fVFJBQ0tfU1RPUD1cIkJ1ZmZlclNvdXJjZUF1ZGlvVHJhY2suc3RvcFByb2Nlc3NBdWRpb0J1ZmZlclwiLHQuQlVGRkVSX0FVRElPX1RSQUNLX1BBVVNFPVwiQnVmZmVyU291cmNlQXVkaW9UcmFjay5wYXVzZVByb2Nlc3NBdWRpb0J1ZmZlclwiLHQuQlVGRkVSX0FVRElPX1RSQUNLX1JFU1VNRT1cIkJ1ZmZlclNvdXJjZUF1ZGlvVHJhY2sucmVzdW1lUHJvY2Vzc0F1ZGlvQnVmZmVyXCIsdC5CVUZGRVJfQVVESU9fVFJBQ0tfU0VFSz1cIkJ1ZmZlclNvdXJjZUF1ZGlvVHJhY2suc2Vla0F1ZGlvQnVmZmVyXCIsdC5MT0NBTF9WSURFT19UUkFDS19QTEFZPVwiTG9jYWxWaWRlb1RyYWNrLnBsYXlcIix0LkxPQ0FMX1ZJREVPX1RSQUNLX1NUT1A9XCJMb2NhbFZpZGVvVHJhY2suc3RvcFwiLHQuTE9DQUxfVklERU9fVFJBQ0tfR0VUX1ZJREVPX1ZJU0lCTEU9XCJMb2NhbFZpZGVvVHJhY2suZ2V0VmlkZW9FbGVtZW50VmlzaWJsZVN0YXR1c1wiLHQuTE9DQUxfVklERU9fVFJBQ0tfQkVBVVRZPVwiTG9jYWxWaWRlb1RyYWNrLnNldEJlYXV0eUVmZmVjdFwiLHQuTE9DQUxfVklERU9fU0VORF9TRUlfREFUQT1cIkxvY2FsVmlkZW9UcmFjay5zZW5kU2VpRGF0YVwiLHQuQ0FNX1ZJREVPX1RSQUNLX1NFVF9ERVZJQ0U9XCJDYW1lcmFWaWRlb1RyYWNrLnNldERldmljZVwiLHQuQ0FNX1ZJREVPX1RSQUNLX1NFVF9FTkNPREVSX0NPTkZJRz1cIkNhbWVyYVZpZGVvVHJhY2suc2V0RW5jb2RlckNvbmZpZ3VyYXRpb25cIix0LlJFTU9URV9WSURFT19UUkFDS19QTEFZPVwiUmVtb3RlVmlkZW9UcmFjay5wbGF5XCIsdC5SRU1PVEVfVklERU9fVFJBQ0tfU1RPUD1cIlJlbW90ZVZpZGVvVHJhY2suc3RvcFwiLHQuUkVNT1RFX1ZJREVPX1RSQUNLX0dFVF9WSURFT19WSVNJQkxFPVwiUmVtb3RlVmlkZW9UcmFjay5nZXRWaWRlb0VsZW1lbnRWaXNpYmxlU3RhdHVzXCIsdC5SRU1PVEVfQVVESU9fVFJBQ0tfUExBWT1cIlJlbW90ZUF1ZGlvVHJhY2sucGxheVwiLHQuUkVNT1RFX0FVRElPX1RSQUNLX1NUT1A9XCJSZW1vdGVBdWRpb1RyYWNrLnN0b3BcIix0LlJFTU9URV9BVURJT19TRVRfVk9MVU1FPVwiUmVtb3RlQXVkaW9UcmFjay5zZXRWb2x1bWVcIix0LlJFTU9URV9BVURJT19TRVRfT1VUUFVUX0RFVklDRT1cIlJlbW90ZUF1ZGlvVHJhY2suc2V0T3V0cHV0RGV2aWNlXCIsdC5HRVRfTUVESUFfU1RSRUFNX1RSQUNLPVwiVHJhY2suZ2V0TWVkaWFTdHJlYW1UcmFja1wiLHQuU1RSRUFNX1RZUEVfQ0hBTkdFPVwic3RyZWFtVHlwZUNoYW5nZVwiLHQuQ09OTkVDVElPTl9TVEFURV9DSEFOR0U9XCJjb25uZWN0aW9uU3RhdGVDaGFuZ2VcIix0LkxPQURfQ09ORklHX0ZST01fTE9DQUxTVE9SQUdFPVwibG9hZENvbmZpZ0Zyb21Mb2NhbFN0b3JhZ2VcIix0LklNQUdFX01PREVSQVRJT05fVVBMT0FEPVwiaW1hZ2VNb2RlcmF0aW9uVXBsb2FkXCIsdH0oe30pLFp0PWZ1bmN0aW9uKHQpe3JldHVybiB0LlRSQUNFUj1cInRyYWNlclwiLHR9KHt9KTtmdW5jdGlvbiBtUih0KXtyZXR1cm4gTnQodC50aW1lb3V0LFwiY29uZmlnLnRpbWVvdXRcIiwwLDFlNSksTnQodC50aW1lb3V0RmFjdG9yLFwiY29uZmlnLnRpbWVvdXRGYWN0b3JcIiwwLDEwMCwhMSksTnQodC5tYXhSZXRyeUNvdW50LFwiY29uZmlnLm1heFJldHJ5Q29uZmlnXCIsMCwxLzApLE50KHQubWF4UmV0cnlUaW1lb3V0LFwiY29uZmlnLm1heFJldHJ5VGltZW91dFwiLDAsMS8wKSwhMH12YXIgRUI9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5BVURJRU5DRV9MRVZFTF9MT1dfTEFURU5DWT0xXT1cIkFVRElFTkNFX0xFVkVMX0xPV19MQVRFTkNZXCIsdFt0LkFVRElFTkNFX0xFVkVMX1VMVFJBX0xPV19MQVRFTkNZPTJdPVwiQVVESUVOQ0VfTEVWRUxfVUxUUkFfTE9XX0xBVEVOQ1lcIix0W3QuQVVESUVOQ0VfTEVWRUxfU1lOQ19MQVRFTkNZPTNdPVwiQVVESUVOQ0VfTEVWRUxfU1lOQ19MQVRFTkNZXCIsdH0oe30pLEF0PWZ1bmN0aW9uKHQpe3JldHVybiB0LkxFQVZFPVwiTEVBVkVcIix0Lk5FVFdPUktfRVJST1I9XCJORVRXT1JLX0VSUk9SXCIsdC5TRVJWRVJfRVJST1I9XCJTRVJWRVJfRVJST1JcIix0LlVJRF9CQU5ORUQ9XCJVSURfQkFOTkVEXCIsdC5GQUxMQkFDSz1cIkZBTExCQUNLXCIsdC5JUF9CQU5ORUQ9XCJJUF9CQU5ORURcIix0LkNIQU5ORUxfQkFOTkVEPVwiQ0hBTk5FTF9CQU5ORURcIix0LkxJQ0VOU0VfTUlTU0lORz1cIkxJQ0VOU0VfTUlTU0lOR1wiLHQuTElDRU5TRV9FWFBJUkVEPVwiTElDRU5TRV9FWFBJUkVEXCIsdC5MSUNFTlNFX01JTlVURVNfRVhDRUVERUQ9XCJMSUNFTlNFX01JTlVURVNfRVhDRUVERURcIix0LkxJQ0VOU0VfUEVSSU9EX0lOVkFMSUQ9XCJMSUNFTlNFX1BFUklPRF9JTlZBTElEXCIsdC5MSUNFTlNFX01VTFRJUExFX1NES19TRVJWSUNFPVwiTElDRU5TRV9NVUxUSVBMRV9TREtfU0VSVklDRVwiLHQuTElDRU5TRV9JTExFR0FMPVwiTElDRU5TRV9JTExFR0FMXCIsdC5UT0tFTl9FWFBJUkU9XCJUT0tFTl9FWFBJUkVcIix0fSh7fSk7ZnVuY3Rpb24gWXUodCl7aWYoIUFycmF5LmlzQXJyYXkodCl8fHQubGVuZ3RoPDEpcmV0dXJuICExO3RyeXt0LmZvckVhY2goZT0+e2lmKCFlLnVybHMpdGhyb3cgRXJyb3IoKX0pO31jYXRjaHtyZXR1cm4gITF9cmV0dXJuICEwfWZ1bmN0aW9uIHZPKHQpe3JldHVybiBQZSh0LnR1cm5TZXJ2ZXJVUkwsXCJ0dXJuU2VydmVyVVJMXCIpLFBlKHQudXNlcm5hbWUsXCJ1c2VybmFtZVwiKSxQZSh0LnBhc3N3b3JkLFwicGFzc3dvcmRcIiksdC51ZHBwb3J0JiZOdCh0LnVkcHBvcnQsXCJ1ZHBwb3J0XCIsMSw5OTk5OSwhMCksdC5mb3JjZXR1cm4mJk5yKHQuZm9yY2V0dXJuLFwiZm9yY2V0dXJuXCIpLHQuc2VjdXJpdHkmJk5yKHQuc2VjdXJpdHksXCJzZWN1cml0eVwiKSx0LnRjcHBvcnQmJk50KHQudGNwcG9ydCxcInRjcHBvcnRcIiwxLDk5OTk5LCEwKSwhMH1mdW5jdGlvbiBmUih0KXtyZXR1cm4gdC5sZXZlbCE9PXZvaWQgMCYmQ2UodC5sZXZlbCxcImxldmVsXCIsWzEsMiwzXSksdC5kZWxheSE9PXZvaWQgMCYmTnQodC5kZWxheSxcImRlbGF5XCIsMCwzZTMsITApLCEwfXZhciB1dD1mdW5jdGlvbih0KXtyZXR1cm4gdC5DT05ORUNUSU9OX1NUQVRFX0NIQU5HRT1cImNvbm5lY3Rpb24tc3RhdGUtY2hhbmdlXCIsdC5NRURJQV9SRUNPTk5FQ1RfU1RBUlQ9XCJtZWRpYS1yZWNvbm5lY3Qtc3RhcnRcIix0Lk1FRElBX1JFQ09OTkVDVF9FTkQ9XCJtZWRpYS1yZWNvbm5lY3QtZW5kXCIsdC5JU19VU0lOR19DTE9VRF9QUk9YWT1cImlzLXVzaW5nLWNsb3VkLXByb3h5XCIsdC5VU0VSX0pPSU5FRD1cInVzZXItam9pbmVkXCIsdC5VU0VSX0xFQVZFRD1cInVzZXItbGVmdFwiLHQuVVNFUl9QVUJMSVNIRUQ9XCJ1c2VyLXB1Ymxpc2hlZFwiLHQuVVNFUl9VTlBVQkxJU0hFRD1cInVzZXItdW5wdWJsaXNoZWRcIix0LlVTRVJfSU5GT19VUERBVEVEPVwidXNlci1pbmZvLXVwZGF0ZWRcIix0LkNMSUVOVF9CQU5ORUQ9XCJjbGllbnQtYmFubmVkXCIsdC5DSEFOTkVMX01FRElBX1JFTEFZX1NUQVRFPVwiY2hhbm5lbC1tZWRpYS1yZWxheS1zdGF0ZVwiLHQuQ0hBTk5FTF9NRURJQV9SRUxBWV9FVkVOVD1cImNoYW5uZWwtbWVkaWEtcmVsYXktZXZlbnRcIix0LlZPTFVNRV9JTkRJQ0FUT1I9XCJ2b2x1bWUtaW5kaWNhdG9yXCIsdC5DUllQVF9FUlJPUj1cImNyeXB0LWVycm9yXCIsdC5PTl9UT0tFTl9QUklWSUxFR0VfV0lMTF9FWFBJUkU9XCJ0b2tlbi1wcml2aWxlZ2Utd2lsbC1leHBpcmVcIix0Lk9OX1RPS0VOX1BSSVZJTEVHRV9ESURfRVhQSVJFPVwidG9rZW4tcHJpdmlsZWdlLWRpZC1leHBpcmVcIix0Lk5FVFdPUktfUVVBTElUWT1cIm5ldHdvcmstcXVhbGl0eVwiLHQuU1RSRUFNX1RZUEVfQ0hBTkdFRD1cInN0cmVhbS10eXBlLWNoYW5nZWRcIix0LlNUUkVBTV9GQUxMQkFDSz1cInN0cmVhbS1mYWxsYmFja1wiLHQuUkVDRUlWRV9NRVRBREFUQT1cInJlY2VpdmUtbWV0YWRhdGFcIix0LlNUUkVBTV9NRVNTQUdFPVwic3RyZWFtLW1lc3NhZ2VcIix0LkxJVkVfU1RSRUFNSU5HX0VSUk9SPVwibGl2ZS1zdHJlYW1pbmctZXJyb3JcIix0LkxJVkVfU1RSRUFNSU5HX1dBUk5JTkc9XCJsaXZlLXN0cmVhbWluZy13YXJuaW5nXCIsdC5FWENFUFRJT049XCJleGNlcHRpb25cIix0LkVSUk9SPVwiZXJyb3JcIix0LlAyUF9MT1NUPVwicDJwX2xvc3RcIix0LkpPSU5fRkFMTEJBQ0tfVE9fUFJPWFk9XCJqb2luLWZhbGxiYWNrLXRvLXByb3h5XCIsdC5DSEFOTkVMX0ZBTExCQUNLX1RPX1dFQlNPQ0tFVD1cImNoYW5uZWwtZmFsbGJhY2stdG8td2Vic29ja2V0XCIsdC5NRURJQV9DT05ORUNUSU9OX1RZUEVfQ0hBTkdFPVwibWVkaWEtY29ubmVjdGlvbi10eXBlLWNoYW5nZVwiLHQuUFVCTElTSEVEX1VTRVJfTElTVD1cInB1Ymxpc2hlZC11c2VyLWxpc3RcIix0LkNPTlRFTlRfSU5TUEVDVF9DT05ORUNUSU9OX1NUQVRFX0NIQU5HRT1cImNvbnRlbnQtaW5zcGVjdC1jb25uZWN0aW9uLXN0YXRlLWNoYW5nZVwiLHQuQ09OVEVOVF9JTlNQRUNUX0VSUk9SPVwiY29udGVudC1pbnNwZWN0LWVycm9yXCIsdC5DT05URU5UX0lOU1BFQ1RfUkVTVUxUPVwiY29udGVudC1pbnNwZWN0LXJlc3VsdFwiLHQuSU1BR0VfTU9ERVJBVElPTl9DT05ORUNUSU9OX1NUQVRFX0NIQU5HRT1cImltYWdlLW1vZGVyYXRpb24tY29ubmVjdGlvbi1zdGF0ZS1jaGFuZ2VcIix0fSh7fSksQmU9ZnVuY3Rpb24odCl7cmV0dXJuIHQuTkVUV09SS19FUlJPUj1cIk5FVFdPUktfRVJST1JcIix0LlNFUlZFUl9FUlJPUj1cIlNFUlZFUl9FUlJPUlwiLHQuTVVMVElfSVA9XCJNVUxUSV9JUFwiLHQuVElNRU9VVD1cIlRJTUVPVVRcIix0Lk9GRkxJTkU9XCJPRkZMSU5FXCIsdC5MRUFWRT1cIkxFQVZFXCIsdC5QMlBfRkFJTEVEPVwiUDJQX0ZBSUxFRFwiLHQuRkFMTEJBQ0s9XCJGQUxMQkFDS1wiLHR9KHt9KSx3bj1mdW5jdGlvbih0KXtyZXR1cm4gdC5PTkxJTkU9XCJPTkxJTkVcIix0Lk9GRkxJTkU9XCJPRkZMSU5FXCIsdH0oe30pLGtzPWZ1bmN0aW9uKHQpe3JldHVybiB0Lk5FVFdPUktfU1RBVEVfQ0hBTkdFPVwiTkVUV09SS19TVEFURV9DSEFOR0VcIix0Lk9OTElORT1cIk9OTElORVwiLHQuT0ZGTElORT1cIk9GRkxJTkVcIix0fSh7fSk7ZnVuY3Rpb24gR2UodCxlKXtmb3IodmFyIG49YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheShuPjI/bi0yOjApLHI9MjtyPG47cisrKWlbci0yXT1hcmd1bWVudHNbcl07cmV0dXJuIHQuZ2V0TGlzdGVuZXJzKGUpLmxlbmd0aD09PTA/ai5yZWplY3QobmV3IE4oUi5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBlbWl0IHByb21pc2VcIikpOm5ldyBqKChvLHMpPT57dC5lbWl0KGUsLi4uaSxvLHMpO30pfWZ1bmN0aW9uIGt0KHQsZSl7aWYodC5nZXRMaXN0ZW5lcnMoZSkubGVuZ3RoPT09MClyZXR1cm4gai5yZXNvbHZlKCk7Zm9yKHZhciBuPWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkobj4yP24tMjowKSxyPTI7cjxuO3IrKylpW3ItMl09YXJndW1lbnRzW3JdO3JldHVybiBHZSh0LGUsLi4uaSl9ZnVuY3Rpb24gbmkodCxlKXtpZih0LmdldExpc3RlbmVycyhlKS5sZW5ndGg9PT0wKXJldHVybiBudWxsO2Zvcih2YXIgbj1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KG4+Mj9uLTI6MCkscj0yO3I8bjtyKyspaVtyLTJdPWFyZ3VtZW50c1tyXTtyZXR1cm4gQWModCxlLC4uLmkpfWZ1bmN0aW9uIEFjKHQsZSl7bGV0IG49bnVsbCxpPW51bGw7Zm9yKHZhciByPWFyZ3VtZW50cy5sZW5ndGgsbz1uZXcgQXJyYXkocj4yP3ItMjowKSxzPTI7czxyO3MrKylvW3MtMl09YXJndW1lbnRzW3NdO2lmKHQuZW1pdChlLC4uLm8sYT0+e249YTt9LGE9PntpPWE7fSksaSE9PW51bGwpdGhyb3cgaTtpZihuPT09bnVsbCl0aHJvdyBuZXcgTihSLlVORVhQRUNURURfRVJST1IsXCJoYW5kbGVyIGlzIG5vdCBzeW5jXCIpO3JldHVybiBufXZhciBoZT1uZXcgY2xhc3MgZXh0ZW5kcyBYdHtzZXQgbmV0d29ya1N0YXRlKHQpe3RoaXMuZW1pdChrcy5ORVRXT1JLX1NUQVRFX0NIQU5HRSx0LHRoaXMuX25ldHdvcmtTdGF0ZSksdD09PXduLk9OTElORT90aGlzLmVtaXQoa3MuT05MSU5FKTp0PT09d24uT0ZGTElORSYmKHRoaXMub25saW5lV2FpdGVyPW5ldyBqKGU9Pnt0aGlzLm9uY2Uoa3MuT05MSU5FLCgpPT57dGhpcy5vbmxpbmVXYWl0ZXI9dm9pZCAwLGUod24uT05MSU5FKTt9KTt9KSx0aGlzLmVtaXQoa3MuT0ZGTElORSkpLHRoaXMuX25ldHdvcmtTdGF0ZT10O31nZXQgbmV0d29ya1N0YXRlKCl7cmV0dXJuIHRoaXMuX25ldHdvcmtTdGF0ZX1nZXQgaXNPbmxpbmUoKXtyZXR1cm4gdGhpcy5fbmV0d29ya1N0YXRlPT09d24uT05MSU5FfWNvbnN0cnVjdG9yKCl7c3VwZXIoKSxqdCh0aGlzLFwiX21vZHVsZU5hbWVcIixcIm5ldHdvcmstaW5kaWNhdG9yXCIpLGp0KHRoaXMsXCJfbmV0d29ya1N0YXRlXCIsd24uT05MSU5FKSxqdCh0aGlzLFwib25saW5lV2FpdGVyXCIsdm9pZCAwKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9ubGluZVwiLCgpPT57dGhpcy5uZXR3b3JrU3RhdGU9d24uT05MSU5FO30pLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib2ZmbGluZVwiLCgpPT57dGhpcy5uZXR3b3JrU3RhdGU9d24uT0ZGTElORTt9KTt9fTtmdW5jdGlvbiBXbCh0LGUpe2xldCBuPXQuaW5kZXhPZihlKTtuIT09LTEmJnQuc3BsaWNlKG4sMSk7fWZ1bmN0aW9uIExzKHQpe2xldCBlPVtdO3JldHVybiB0LmZvckVhY2gobj0+e2UuaW5kZXhPZihuKT09PS0xJiZlLnB1c2gobik7fSksZX1mdW5jdGlvbiBxdSh0KXtqIT09dm9pZCAwP2oucmVzb2x2ZSgpLnRoZW4odCk6c2V0VGltZW91dCh0LDApO31mdW5jdGlvbiBsZSh0KXtyZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0KSl9ZnVuY3Rpb24gVm8odCl7dHJ5e3JldHVybiBsZSh0KX1jYXRjaHtyZXR1cm4gdH19dmFyIGdSPXt9O2Z1bmN0aW9uIHBvKHQsZSl7Z1JbZV18fChnUltlXT0hMCx0KCkpO31mdW5jdGlvbiBGbyh0KXtsZXQgZT13aW5kb3cuYXRvYih0KSxuPW5ldyBVaW50OEFycmF5KG5ldyBBcnJheUJ1ZmZlcihlLmxlbmd0aCkpO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSs9MSluW2ldPWUuY2hhckNvZGVBdChpKTtyZXR1cm4gbn1mdW5jdGlvbiBzbyh0KXtsZXQgZT1cIlwiO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bis9MSllKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHRbbl0pO3JldHVybiB3aW5kb3cuYnRvYShlKX1mdW5jdGlvbiB5Tyh0KXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06MTYsbj1uZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUodCk7aWYobi5sZW5ndGg+ZSluPW4uc2xpY2UoMCxlKTtlbHNlIGlmKG4ubGVuZ3RoPGUpe2xldCBpPW5ldyBVaW50OEFycmF5KGUpO2kuc2V0KG4pLG49aTt9cmV0dXJuIG59ZnVuY3Rpb24gVFIoKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheSh0KSxuPTA7bjx0O24rKyllW25dPWFyZ3VtZW50c1tuXTtsZXQgaT1qaShlKS5jYWxsKGUsKHMsYSk9PnMrYS5sZW5ndGgsMCkscj1uZXcgVWludDhBcnJheShuZXcgQXJyYXlCdWZmZXIoaSkpLG89MDtyZXR1cm4gZS5mb3JFYWNoKHM9PntyLnNldChzLG8pLG8rPXMubGVuZ3RoO30pLHJ9ZnVuY3Rpb24gYXIodCl7cmV0dXJuIHdpbmRvdy5UZXh0RW5jb2Rlcj9uZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUodCkubGVuZ3RoOnQubGVuZ3RofWZ1bmN0aW9uIEFPKHQpe2xldCBlPTA7cmV0dXJuICgvRGluZ1RhbGsvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfHwvQWxpQXBwL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkmJnQucmVhbEZvcm1EYXRhJiYodD10LnJlYWxGb3JtRGF0YSksdC5mb3JFYWNoKG49PntlKz10eXBlb2Ygbj09XCJzdHJpbmdcIj9hcihuKTpuLnNpemU7fSksZSsxMzh9ZnVuY3Rpb24gbUIodCl7bGV0IGU9bmV3IE4oUi5USU1FT1VULFwidGltZW91dFwiKTtyZXR1cm4gbmV3IGooKG4saSk9Pnt3aW5kb3cuc2V0VGltZW91dCgoKT0+aShlKSx0KTt9KX1mdW5jdGlvbiBNZSh0KXtyZXR1cm4gbmV3IGooZT0+e3dpbmRvdy5zZXRUaW1lb3V0KGUsdCk7fSl9ZnVuY3Rpb24gVXQoKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXZvaWQgMD9hcmd1bWVudHNbMF06NyxlPWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLG49TWF0aC5yYW5kb20oKS50b1N0cmluZygxNikuc3Vic3RyKDIsdCkudG9Mb3dlckNhc2UoKTtyZXR1cm4gbi5sZW5ndGg9PT10P1wiXCIuY29uY2F0KGUpLmNvbmNhdChuKTpcIlwiLmNvbmNhdChlKS5jb25jYXQobikrVXQodC1uLmxlbmd0aCxcIlwiKX1mdW5jdGlvbiBNcygpe3JldHVybiBVdCgzMixcIlwiKS50b1VwcGVyQ2FzZSgpfXZhciB6dT0oKT0+e30sU1I9bmV3IGNsYXNze2NvbnN0cnVjdG9yKCl7anQodGhpcyxcImZuTWFwXCIsbmV3IE1hcCk7fXRocm90dGxlQnlLZXkodCxlLG4saSl7Zm9yKHZhciByPWFyZ3VtZW50cy5sZW5ndGgsbz1uZXcgQXJyYXkocj40P3ItNDowKSxzPTQ7czxyO3MrKylvW3MtNF09YXJndW1lbnRzW3NdO2lmKHRoaXMuZm5NYXAuaGFzKGUpKXtsZXQgYT10aGlzLmZuTWFwLmdldChlKTtpZihhLnRocmVzaG9sZCE9PW4pe2EuZm4oLi4uYS5hcmdzKSxjbGVhclRpbWVvdXQoYS50aW1lcik7bGV0IGM9d2luZG93LnNldFRpbWVvdXQoKCk9PntsZXQgZD10aGlzLmZuTWFwLmdldChlKTtkJiZkLmZuKC4uLmQuYXJncyksdGhpcy5mbk1hcC5kZWxldGUoZSk7fSxuKTt0aGlzLmZuTWFwLnNldChlLHtmbjp0LHRocmVzaG9sZDpuLHRpbWVyOmMsYXJnczpvLHNraXBGbjppfSk7fWVsc2UgYS5za2lwRm4mJmEuc2tpcEZuKC4uLmEuYXJncyksdGhpcy5mbk1hcC5zZXQoZSxKKEooe30sYSkse30se2ZuOnQsYXJnczpvLHNraXBGbjppfSkpO31lbHNlIHtsZXQgYT13aW5kb3cuc2V0VGltZW91dCgoKT0+e2xldCBjPXRoaXMuZm5NYXAuZ2V0KGUpO2MmJmMuZm4oLi4uYy5hcmdzKSx0aGlzLmZuTWFwLmRlbGV0ZShlKTt9LG4pO3RoaXMuZm5NYXAuc2V0KGUse2ZuOnQsdGhyZXNob2xkOm4sdGltZXI6YSxhcmdzOm8sc2tpcEZuOml9KTt9fX0sUlI9U1IudGhyb3R0bGVCeUtleS5iaW5kKFNSKTtmdW5jdGlvbiBDUih0KXtyZXR1cm4gdHlwZW9mIHQ9PVwib2JqZWN0XCImJnQhPT1udWxsJiYhKHQgaW5zdGFuY2VvZiBSZWdFeHApfWZ1bmN0aW9uIGtFKHQsZSl7aWYoIUNSKHQpfHwhQ1IoZSl8fEFycmF5LmlzQXJyYXkodCkmJiFBcnJheS5pc0FycmF5KGUpfHwhQXJyYXkuaXNBcnJheSh0KSYmQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZTtpZihBcnJheS5pc0FycmF5KGUpJiZBcnJheS5pc0FycmF5KHQpKXtsZXQgbj1bLi4udF07Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspbltpXT1rRSh0W2ldLGVbaV0pO3JldHVybiBufXtsZXQgbj1KKHt9LHQpO2ZvcihsZXQgaSBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLGkpJiYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsaSk/bltpXT1rRSh0W2ldLGVbaV0pOm5baV09ZVtpXSk7cmV0dXJuIG59fWZ1bmN0aW9uIElSKHQsZSl7bGV0IG49WzBdO2lmKChuPW5ldyBBcnJheShlKS5maWxsKDApKSx0PT09MClyZXR1cm4gbjtsZXQgaT0wO2Zvcig7dD4wJiYobltpXT0yNTUmdCx0Pj49OCxpKyssaSE9PWUpOyk7cmV0dXJuIG59ZnVuY3Rpb24gd3AodCl7cmV0dXJuIHR5cGVvZiB0PT1cIm51bWJlclwiP3Q6dC5leGFjdHx8dC5pZGVhbHx8dC5tYXh8fHQubWlufHwwfWZ1bmN0aW9uIGJPKHQpe2xldCBlPVwiMDEyMzQ1Njc4OWFiY2RlZlwiO2Z1bmN0aW9uIG4oQSl7bGV0IGIsdz1cIlwiO2ZvcihiPTA7Yjw9MztiKyspdys9ZS5jaGFyQXQoQT4+OCpiKzQmMTUpK2UuY2hhckF0KEE+PjgqYiYxNSk7cmV0dXJuIHd9ZnVuY3Rpb24gaShBLGIpe2xldCB3PSg2NTUzNSZBKSsoNjU1MzUmYik7cmV0dXJuIChBPj4xNikrKGI+PjE2KSsodz4+MTYpPDwxNnw2NTUzNSZ3fWZ1bmN0aW9uIHIoQSxiLHcsRCxrLEIpe3JldHVybiBpKGZ1bmN0aW9uKFYseil7cmV0dXJuIFY8PHp8Vj4+PjMyLXp9KGkoaShiLEEpLGkoRCxCKSksayksdyl9ZnVuY3Rpb24gbyhBLGIsdyxELGssQixWKXtyZXR1cm4gcihiJnd8fmImRCxBLGIsayxCLFYpfWZ1bmN0aW9uIHMoQSxiLHcsRCxrLEIsVil7cmV0dXJuIHIoYiZEfHcmfkQsQSxiLGssQixWKX1mdW5jdGlvbiBhKEEsYix3LEQsayxCLFYpe3JldHVybiByKGJed15ELEEsYixrLEIsVil9ZnVuY3Rpb24gYyhBLGIsdyxELGssQixWKXtyZXR1cm4gcih3XihifH5EKSxBLGIsayxCLFYpfWxldCBkPWZ1bmN0aW9uKEEpe2xldCBiLHc9MSsoQS5sZW5ndGgrOD4+NiksRD1uZXcgQXJyYXkoMTYqdyk7Zm9yKGI9MDtiPDE2Knc7YisrKURbYl09MDtmb3IoYj0wO2I8QS5sZW5ndGg7YisrKURbYj4+Ml18PUEuY2hhckNvZGVBdChiKTw8YiU0Kjg7cmV0dXJuIERbYj4+Ml18PTEyODw8YiU0KjgsRFsxNip3LTJdPTgqQS5sZW5ndGgsRH0odCksbCx1LGgscCxnLEU9MTczMjU4NDE5MyxmPS0yNzE3MzM4NzksUz0tMTczMjU4NDE5NCxDPTI3MTczMzg3ODtmb3IobD0wO2w8ZC5sZW5ndGg7bCs9MTYpdT1FLGg9ZixwPVMsZz1DLEU9byhFLGYsUyxDLGRbbCswXSw3LC02ODA4NzY5MzYpLEM9byhDLEUsZixTLGRbbCsxXSwxMiwtMzg5NTY0NTg2KSxTPW8oUyxDLEUsZixkW2wrMl0sMTcsNjA2MTA1ODE5KSxmPW8oZixTLEMsRSxkW2wrM10sMjIsLTEwNDQ1MjUzMzApLEU9byhFLGYsUyxDLGRbbCs0XSw3LC0xNzY0MTg4OTcpLEM9byhDLEUsZixTLGRbbCs1XSwxMiwxMjAwMDgwNDI2KSxTPW8oUyxDLEUsZixkW2wrNl0sMTcsLTE0NzMyMzEzNDEpLGY9byhmLFMsQyxFLGRbbCs3XSwyMiwtNDU3MDU5ODMpLEU9byhFLGYsUyxDLGRbbCs4XSw3LDE3NzAwMzU0MTYpLEM9byhDLEUsZixTLGRbbCs5XSwxMiwtMTk1ODQxNDQxNyksUz1vKFMsQyxFLGYsZFtsKzEwXSwxNywtNDIwNjMpLGY9byhmLFMsQyxFLGRbbCsxMV0sMjIsLTE5OTA0MDQxNjIpLEU9byhFLGYsUyxDLGRbbCsxMl0sNywxODA0NjAzNjgyKSxDPW8oQyxFLGYsUyxkW2wrMTNdLDEyLC00MDM0MTEwMSksUz1vKFMsQyxFLGYsZFtsKzE0XSwxNywtMTUwMjAwMjI5MCksZj1vKGYsUyxDLEUsZFtsKzE1XSwyMiwxMjM2NTM1MzI5KSxFPXMoRSxmLFMsQyxkW2wrMV0sNSwtMTY1Nzk2NTEwKSxDPXMoQyxFLGYsUyxkW2wrNl0sOSwtMTA2OTUwMTYzMiksUz1zKFMsQyxFLGYsZFtsKzExXSwxNCw2NDM3MTc3MTMpLGY9cyhmLFMsQyxFLGRbbCswXSwyMCwtMzczODk3MzAyKSxFPXMoRSxmLFMsQyxkW2wrNV0sNSwtNzAxNTU4NjkxKSxDPXMoQyxFLGYsUyxkW2wrMTBdLDksMzgwMTYwODMpLFM9cyhTLEMsRSxmLGRbbCsxNV0sMTQsLTY2MDQ3ODMzNSksZj1zKGYsUyxDLEUsZFtsKzRdLDIwLC00MDU1Mzc4NDgpLEU9cyhFLGYsUyxDLGRbbCs5XSw1LDU2ODQ0NjQzOCksQz1zKEMsRSxmLFMsZFtsKzE0XSw5LC0xMDE5ODAzNjkwKSxTPXMoUyxDLEUsZixkW2wrM10sMTQsLTE4NzM2Mzk2MSksZj1zKGYsUyxDLEUsZFtsKzhdLDIwLDExNjM1MzE1MDEpLEU9cyhFLGYsUyxDLGRbbCsxM10sNSwtMTQ0NDY4MTQ2NyksQz1zKEMsRSxmLFMsZFtsKzJdLDksLTUxNDAzNzg0KSxTPXMoUyxDLEUsZixkW2wrN10sMTQsMTczNTMyODQ3MyksZj1zKGYsUyxDLEUsZFtsKzEyXSwyMCwtMTkyNjYwNzczNCksRT1hKEUsZixTLEMsZFtsKzVdLDQsLTM3ODU1OCksQz1hKEMsRSxmLFMsZFtsKzhdLDExLC0yMDIyNTc0NDYzKSxTPWEoUyxDLEUsZixkW2wrMTFdLDE2LDE4MzkwMzA1NjIpLGY9YShmLFMsQyxFLGRbbCsxNF0sMjMsLTM1MzA5NTU2KSxFPWEoRSxmLFMsQyxkW2wrMV0sNCwtMTUzMDk5MjA2MCksQz1hKEMsRSxmLFMsZFtsKzRdLDExLDEyNzI4OTMzNTMpLFM9YShTLEMsRSxmLGRbbCs3XSwxNiwtMTU1NDk3NjMyKSxmPWEoZixTLEMsRSxkW2wrMTBdLDIzLC0xMDk0NzMwNjQwKSxFPWEoRSxmLFMsQyxkW2wrMTNdLDQsNjgxMjc5MTc0KSxDPWEoQyxFLGYsUyxkW2wrMF0sMTEsLTM1ODUzNzIyMiksUz1hKFMsQyxFLGYsZFtsKzNdLDE2LC03MjI1MjE5NzkpLGY9YShmLFMsQyxFLGRbbCs2XSwyMyw3NjAyOTE4OSksRT1hKEUsZixTLEMsZFtsKzldLDQsLTY0MDM2NDQ4NyksQz1hKEMsRSxmLFMsZFtsKzEyXSwxMSwtNDIxODE1ODM1KSxTPWEoUyxDLEUsZixkW2wrMTVdLDE2LDUzMDc0MjUyMCksZj1hKGYsUyxDLEUsZFtsKzJdLDIzLC05OTUzMzg2NTEpLEU9YyhFLGYsUyxDLGRbbCswXSw2LC0xOTg2MzA4NDQpLEM9YyhDLEUsZixTLGRbbCs3XSwxMCwxMTI2ODkxNDE1KSxTPWMoUyxDLEUsZixkW2wrMTRdLDE1LC0xNDE2MzU0OTA1KSxmPWMoZixTLEMsRSxkW2wrNV0sMjEsLTU3NDM0MDU1KSxFPWMoRSxmLFMsQyxkW2wrMTJdLDYsMTcwMDQ4NTU3MSksQz1jKEMsRSxmLFMsZFtsKzNdLDEwLC0xODk0OTg2NjA2KSxTPWMoUyxDLEUsZixkW2wrMTBdLDE1LC0xMDUxNTIzKSxmPWMoZixTLEMsRSxkW2wrMV0sMjEsLTIwNTQ5MjI3OTkpLEU9YyhFLGYsUyxDLGRbbCs4XSw2LDE4NzMzMTMzNTkpLEM9YyhDLEUsZixTLGRbbCsxNV0sMTAsLTMwNjExNzQ0KSxTPWMoUyxDLEUsZixkW2wrNl0sMTUsLTE1NjAxOTgzODApLGY9YyhmLFMsQyxFLGRbbCsxM10sMjEsMTMwOTE1MTY0OSksRT1jKEUsZixTLEMsZFtsKzRdLDYsLTE0NTUyMzA3MCksQz1jKEMsRSxmLFMsZFtsKzExXSwxMCwtMTEyMDIxMDM3OSksUz1jKFMsQyxFLGYsZFtsKzJdLDE1LDcxODc4NzI1OSksZj1jKGYsUyxDLEUsZFtsKzldLDIxLC0zNDM0ODU1NTEpLEU9aShFLHUpLGY9aShmLGgpLFM9aShTLHApLEM9aShDLGcpO3JldHVybiBuKEUpK24oZikrbihTKStuKEMpfXZhciBmQj0xLE9kPWNvbnNvbGUsemU9Y2xhc3N7c3RhdGljIHNldExvZ2dlcih0KXtPZD10O31jb25zdHJ1Y3Rvcih0KXtqdCh0aGlzLFwibG9ja2luZ1Byb21pc2VcIixqLnJlc29sdmUoKSksanQodGhpcyxcImxvY2tzXCIsMCksanQodGhpcyxcIm5hbWVcIixcIlwiKSxqdCh0aGlzLFwibG9ja0lkXCIsdm9pZCAwKSx0aGlzLmxvY2tJZD1mQisrLHQmJih0aGlzLm5hbWU9dCksT2QuZGVidWcoXCJbbG9jay1cIi5jb25jYXQodGhpcy5uYW1lLFwiLVwiKS5jb25jYXQodGhpcy5sb2NrSWQsXCJdIGlzIGNyZWF0ZWQuXCIpKTt9Z2V0IGlzTG9ja2VkKCl7cmV0dXJuIHRoaXMubG9ja3M+MH1sb2NrKHQpe2xldCBlO3RoaXMubG9ja3MrPTEsT2QuZGVidWcoXCJbbG9jay1cIi5jb25jYXQodGhpcy5uYW1lLFwiLVwiKS5jb25jYXQodGhpcy5sb2NrSWQsXCJdIGlzIGxvY2tlZCwgY3VycmVudCBxdWV1ZSBcIikuY29uY2F0KHRoaXMubG9ja3MsXCIuIFwiKS5jb25jYXQodHlwZW9mIHQ9PVwic3RyaW5nXCI/dDpcIlwiKSk7bGV0IG49bmV3IGoocj0+e2U9KCk9Pnt0aGlzLmxvY2tzLT0xLE9kLmRlYnVnKFwiW2xvY2stXCIuY29uY2F0KHRoaXMubmFtZSxcIi1cIikuY29uY2F0KHRoaXMubG9ja0lkLFwiXSBpcyBub3QgbG9ja2VkLCBjdXJyZW50IHF1ZXVlIFwiKS5jb25jYXQodGhpcy5sb2NrcyxcIi4gXCIpLmNvbmNhdCh0eXBlb2YgdD09XCJzdHJpbmdcIj90OlwiXCIpKSxyKCk7fTt9KSxpPXRoaXMubG9ja2luZ1Byb21pc2UudGhlbigoKT0+ZSk7cmV0dXJuIHRoaXMubG9ja2luZ1Byb21pc2U9dGhpcy5sb2NraW5nUHJvbWlzZS50aGVuKCgpPT5uKSxpfX07ZnVuY3Rpb24gJHModCxlKXtyZXR1cm4gZnVuY3Rpb24obixpLHIpe2xldCBvPXIudmFsdWU7aWYodHlwZW9mIG8hPVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgdXNlIG11dGV4IG9uIG9iamVjdCBwcm9wZXJ0eS5cIik7cmV0dXJuIHIudmFsdWU9YXN5bmMgZnVuY3Rpb24oKXtsZXQgcz10aGlzW2VdO2lmKCFzKXRocm93IG5ldyBFcnJvcihcIm11dGV4IHByb3BlcnR5IGtleSBcIi5jb25jYXQoZSxcIiBkb2Vzbid0IGV4aXN0IG9uIFwiKS5jb25jYXQodCkpO2xldCBhPWF3YWl0IHMubG9jayhcIkZyb20gXCIuY29uY2F0KHQsXCIuXCIpLmNvbmNhdChpKSk7dHJ5e2Zvcih2YXIgYz1hcmd1bWVudHMubGVuZ3RoLGQ9bmV3IEFycmF5KGMpLGw9MDtsPGM7bCsrKWRbbF09YXJndW1lbnRzW2xdO3JldHVybiBhd2FpdCBvLmFwcGx5KHRoaXMsZCl9ZmluYWxseXthKCk7fX0scn19dmFyIEVlPXt0aW1lb3V0OjUwMCx0aW1lb3V0RmFjdG9yOjEuNSxtYXhSZXRyeUNvdW50OjEvMCxtYXhSZXRyeVRpbWVvdXQ6MWU0fTtmdW5jdGlvbiBoZih0LGUpe2xldCBuPU1hdGguZmxvb3IoZS50aW1lb3V0Kk1hdGgucG93KGUudGltZW91dEZhY3Rvcix0KSk7cmV0dXJuIE1hdGgubWluKGUubWF4UmV0cnlUaW1lb3V0LG4pfWZ1bmN0aW9uIFdpKHQsZSxuLGkpe2xldCByPU9iamVjdC5hc3NpZ24oe30sRWUsaSksbz1yLnRpbWVvdXQscz1hc3luYygpPT57YXdhaXQgZnVuY3Rpb24oZCl7cmV0dXJuIG5ldyBqKGw9Pnt3aW5kb3cuc2V0VGltZW91dChsLGQpO30pfShvKSxvKj1yLnRpbWVvdXRGYWN0b3Isbz1NYXRoLm1pbihyLm1heFJldHJ5VGltZW91dCxvKTt9LGE9ITEsYz1uZXcgaihhc3luYyhkLGwpPT57ZT1lfHwoKCk9PiExKSxuPW58fCgoKT0+ITApO2ZvcihsZXQgdT0wO3U8ci5tYXhSZXRyeUNvdW50O3UrPTEpe2lmKGEpcmV0dXJuIGwobmV3IE4oUi5PUEVSQVRJT05fQUJPUlRFRCkpO3RyeXtsZXQgaD1hd2FpdCB0KCk7aWYoIWUoaCx1KXx8dSsxPT09ci5tYXhSZXRyeUNvdW50KXJldHVybiBkKGgpO2F3YWl0IHMoKTt9Y2F0Y2goaCl7aWYoIW4oaCx1KXx8dSsxPT09ci5tYXhSZXRyeUNvdW50KXJldHVybiBsKGgpO2F3YWl0IHMoKTt9fX0pO3JldHVybiBjLmNhbmNlbD0oKT0+YT0hMCxjfXZhciBIbD1jbGFzc3tjb25zdHJ1Y3RvcihlKXtqdCh0aGlzLFwiaW5wdXRcIixbXSksanQodGhpcyxcInNpemVcIix2b2lkIDApLHRoaXMuc2l6ZT1lO31hZGQoZSl7dGhpcy5pbnB1dC5wdXNoKGUpLHRoaXMuaW5wdXQubGVuZ3RoPnRoaXMuc2l6ZSYmdGhpcy5pbnB1dC5zcGxpY2UoMCwxKTt9bWVhbigpe3ZhciBlO3JldHVybiB0aGlzLmlucHV0Lmxlbmd0aD09PTA/MDpqaShlPXRoaXMuaW5wdXQpLmNhbGwoZSwobixpKT0+bitpKS90aGlzLmlucHV0Lmxlbmd0aH19LE5kLERkPTAsT3A9MDtmdW5jdGlvbiBMRSh0LGUsbixpKXtyZXR1cm4gbmV3IGooKHIsbyk9PntlLnJlc3BvbnNlVHlwZT1lLnJlc3BvbnNlVHlwZXx8XCJqc29uXCIsZS5kYXRhJiYhbj8oZS5kYXRhPUpTT04uc3RyaW5naWZ5KGUuZGF0YSksRGQrPWFyKGUuZGF0YSkpOm4mJihlLmRhdGEuc2l6ZT9EZCs9ZS5kYXRhLnNpemU6ZS5kYXRhIGluc3RhbmNlb2YgRm9ybURhdGE/RGQrPUFPKGUuZGF0YSk6RGQrPWFyKEpTT04uc3RyaW5naWZ5KGUuZGF0YSkpKSxlLmhlYWRlcnM9ZS5oZWFkZXJzfHx7fSxlLmhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl09ZS5oZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdfHxcImFwcGxpY2F0aW9uL2pzb25cIixlLm1ldGhvZD1cIlBPU1RcIixlLnVybD10LG1uLnJlcXVlc3QoZSkudGhlbihzPT57dHlwZW9mIHMuZGF0YT09XCJzdHJpbmdcIj9PcCs9YXIocy5kYXRhKTpzLmRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8cy5kYXRhIGluc3RhbmNlb2YgVWludDhBcnJheT9PcCs9cy5kYXRhLmJ5dGVMZW5ndGg6T3ArPWFyKEpTT04uc3RyaW5naWZ5KHMuZGF0YSkpLHIocy5kYXRhKTt9KS5jYXRjaChzPT57bW4uaXNDYW5jZWwocyk/byhuZXcgTihSLk9QRVJBVElPTl9BQk9SVEVELFwiY2FuY2VsIHRva2VuIGNhbmNlbGVkXCIpKTpzLmNvZGU9PT1cIkVDT05OQUJPUlRFRFwiP28obmV3IE4oUi5ORVRXT1JLX1RJTUVPVVQscy5tZXNzYWdlKSk6cy5yZXNwb25zZT9vKG5ldyBOKFIuTkVUV09SS19SRVNQT05TRV9FUlJPUixzLnJlc3BvbnNlLnN0YXR1cykpOm8obmV3IE4oUi5ORVRXT1JLX0VSUk9SLHMubWVzc2FnZSkpO30pO30pfWFzeW5jIGZ1bmN0aW9uIGdCKHQsZSl7bGV0IG49bmV3IEJsb2IoW2UuZGF0YV0se3R5cGU6XCJidWZmZXJcIn0pO3JldHVybiBhd2FpdCBMRSh0LEooSih7fSxlKSx7fSx7ZGF0YTpuLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIn19KSwhMCl9dmFyIHZSPSgpPT53aW5kb3cuaXNTZWN1cmVDb250ZXh0IT09dm9pZCAwLGlpPWZ1bmN0aW9uKHQpe2lmKHQubWF0Y2goL1swLTldK1xcLlswLTldK1xcLlswLTldKyQvKSlyZXR1cm4gdDtsZXQgZT10Lm1hdGNoKC8oWzAtOV0rXFwuWzAtOV0rXFwuWzAtOV0rKVxcLWFscGhhXFwuKFswLTldKykvKTtpZihlJiZlWzFdJiZlWzJdKXtsZXQgaT1lWzFdLHI9ZVsyXTtyZXR1cm4gXCJcIi5jb25jYXQoaSxcIi5cIikuY29uY2F0KHIpfWxldCBuPXQubWF0Y2goLyhbMC05XStcXC5bMC05XStcXC5bMC05XSspXFwtc3BlY2lhbFxcLihbMC05XSspLyk7aWYobiYmblsxXSYmblsyXSl7bGV0IGk9blsxXSxyPW5bMl07cmV0dXJuIFwiXCIuY29uY2F0KGksXCIuXCIpLmNvbmNhdCgxMDAqKE51bWJlcihyKSsxKSl9cmV0dXJuIFwiNC4wLjAuOTk5XCJ9KFwiNC4yMi4wXCIpLHBmPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBKU09OLnBhcnNlKFwidHJ1ZVwiKT09PSEwfWNhdGNoe3JldHVybiAhMH19KCksT289ZnVuY3Rpb24odCl7cmV0dXJuIHQuRGVmYXVsdD1cImRlZmF1bHRcIix0LkF1dG89XCJhdXRvXCIsdC5SZWxheT1cInJlbGF5XCIsdC5TZFJ0bj1cInNkLXJ0blwiLHR9KHt9KSxfZj17TUlOX0ZSQU1FX1JBVEU6MSxNQVhfRlJBTUVfUkFURTozMCxNQVhfVEhSRVNIT0xEX0ZSQU1FUkFURTozMCxCSVRSQVRFX01JTl9USFJFU0hPTEQ6MTAwLEJJVFJBVEVfTUFYX1RIUkVTSE9MRDoxMDAsTUFYX1NDQUxFOjUsQldFX1NDQUxFX1VQX1RIUkVTSE9MRDouNixCV0VfU0NBTEVfRE9XTl9USFJFU0hPTEQ6LjYsUEVSRl9TQ0FMRV9VUF9USFJFU0hPTEQ6LjcsUEVSRl9TQ0FMRV9ET1dOX1RIUkVTSE9MRDouNixNT1RJT05fUkVTT0xVVElPTl9GQUNUT1I6LjgsTU9USU9OX0JJVFJBVEVfRkFDVE9SOi42LERFVEFJTF9GUkFNRVJBVEVfRkFDVE9SOi44LERFVEFJTF9CSVRSQVRFX0ZBQ1RPUjouNixCQUxBTkNFX1JFU09MVVRJT05fRkFDVE9SOi45LEJBTEFOQ0VfRlJBTUVSQVRFX0ZBQ1RPUjouOSxCQUxBTkNFX0JJVFJBVEVfRkFDVE9SOi42LE9WRVJVU0VfVElNRVNfVEhSRVNIT0xEOjEwLFVOREVSVVNFX1RJTUVTX1RIUkVTSE9MRDo0MH0sRWY9XCJ2NC4yMi4wLTAtZzg1NjkyNDFkLWRpcnR5KDgvMTUvMjAyNCwgNzowNDowNiBQTSlcIixvZT1KKEooe1BST0NFU1NfSUQ6XCJcIixFTkNSWVBUX0FFUzohMCxBUkVBUzpbXCJDSElOQVwiLFwiR0xPQkFMXCJdLFdFQkNTX0RPTUFJTjpbXCJ3ZWJydGMyLWFwLXdlYi0xLmFnb3JhLmlvXCIsXCJ3ZWJydGMyLTIuYXAuc2QtcnRuLmNvbVwiXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W1wid2VicnRjMi1hcC13ZWItMy5hZ29yYS5pb1wiLFwid2VicnRjMi00LmFwLnNkLXJ0bi5jb21cIl0sUFJPWFlfQ1M6W1wiYXAtcHJveHktMS5hZ29yYS5pb1wiLFwiYXAtcHJveHktMi5hZ29yYS5pb1wiXSxDRFNfQVA6W1wiY2RzLWFwLXdlYi0xLmFnb3JhLmlvXCIsXCJjZHMtd2ViLTIuYXAuc2QtcnRuLmNvbVwiLFwiY2RzLWFwLXdlYi0zLmFnb3JhLmlvXCIsXCJjZHMtd2ViLTQuYXAuc2QtcnRuLmNvbVwiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItMS5hZ29yYS5pb1wiLFwic3VhLXdlYi0yLmFwLnNkLXJ0bi5jb21cIixcInN1YS1hcC13ZWItMy5hZ29yYS5pb1wiLFwic3VhLXdlYi00LmFwLnNkLXJ0bi5jb21cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItMS5hZ29yYS5pb1wiLFwidWFwLXdlYi0yLmFwLnNkLXJ0bi5jb21cIixcInVhcC1hcC13ZWItMy5hZ29yYS5pb1wiLFwidWFwLXdlYi00LmFwLnNkLXJ0bi5jb21cIl0sTE9HX1VQTE9BRF9TRVJWRVI6XCJsb2dzZXJ2aWNlLmFnb3JhLmlvXCIsRVZFTlRfUkVQT1JUX0RPTUFJTjpcInN0YXRzY29sbGVjdG9yLTEuYWdvcmEuaW9cIixFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpcIndlYi0yLnN0YXRzY29sbGVjdG9yLnNkLXJ0bi5jb21cIixFTkFCTEVfRVZFTlRfUkVQT1JUOiEwLEdBVEVXQVlfQUREUkVTUzpbXSxHQVRFV0FZX1dTU19BRERSRVNTOlwiXCIsTElWRV9TVFJFQU1JTkdfQUREUkVTUzpcIlwiLEhUVFBfQ09OTkVDVF9USU1FT1VUOjVlMyxTSUdOQUxfUkVRVUVTVF9USU1FT1VUOjFlNCxSRVBPUlRfU1RBVFM6ITAsVVBMT0FEX0xPRzohMSxOT1RfUkVQT1JUX0VWRU5UOltdLFBJTkdfUE9OR19USU1FX09VVDoxMCxXRUJTT0NLRVRfVElNRU9VVF9NSU46MWU0LEVWRU5UX1JFUE9SVF9TRU5EX0lOVEVSVkFMOjNlMyxDT05GSUdfRElTVFJJQlVURV9JTlRFUlZBTDozZTUsRU5BQkxFX0NPTkZJR19ESVNUUklCVVRFOiEwLENBTkRJREFURV9USU1FT1VUOjVlMyxTSE9XX1JFUE9SVF9JTlZPS0VSX0xPRzohMSxKT0lOX0VYVEVORDpcIlwiLFBVQl9FWFRFTkQ6XCJcIixTVUJfRVhURU5EOlwiXCIsRk9SQ0VfVFVSTjohMSxUVVJOX0VOQUJMRV9UQ1A6ITAsVFVSTl9FTkFCTEVfVURQOiEwLE1BWF9VUExPQURfQ0FDSEU6NTAsVVBMT0FEX0NBQ0hFX0lOVEVSVkFMOjJlMyxBSkFYX1JFUVVFU1RfQ09OQ1VSUkVOVDozLFJFUE9SVF9BUFBfU0NFTkFSSU86dm9pZCAwLEdBVEVXQVlfRE9NQUlOUzpbXCJlZGdlLmFnb3JhLmlvXCIsXCJlZGdlLnNkLXJ0bi5jb21cIl0sQ09OTkVDVF9HQVRFV0FZX1dJVEhPVVRfRE9NQUlOOiExLFdPUktFUl9ET01BSU46XCJlZGdlLmFnb3JhLmlvXCIsVFVSTl9ET01BSU46XCJlZGdlLmFnb3JhLmlvXCIsRVZFTlRfUkVQT1JUX1JFVFJZOiEwLENIUk9NRV9GT1JDRV9QTEFOX0I6ITEsQVVESU9fU09VUkNFX1ZPTFVNRV9VUERBVEVfSU5URVJWQUw6NDAwLEFVRElPX1NPVVJDRV9BVkdfVk9MVU1FX0RVUkFUSU9OOjNlMyxBVURJT19WT0xVTUVfSU5ESUNBVElPTl9JTlRFUlZBTDoyZTMsVk9MVU1FX1ZPSUNFX1dFSUdIVDoxMCxHRVRfVk9MVU1FX09GX01VVEVEX0FVRElPX1RSQUNLOiExLFNUQVRTX1VQREFURV9JTlRFUlZBTDoyNTAsTk9STUFMX0VWRU5UX1FVRVVFX0NBUEFDSVRZOjEwMCxDVVNUT01fUkVQT1JUOiEwLENVU1RPTV9SRVBPUlRfTElNSVQ6MjAsUFJPWFlfU0VSVkVSX1RZUEUyOlwid2VibmdpbngtcHJveHkuYWdvcmEuaW9cIixQUk9YWV9TRVJWRVJfVFlQRTM6W1wid2VicnRjLWNsb3VkLXByb3h5LnNkLXJ0bi5jb21cIixcIndlYnJ0Yy1jbG91ZC1wcm94eS5hZ29yYS5pb1wiXSxDVVNUT01fUFVCX0FOU1dFUl9NT0RJRklFUjpudWxsLENVU1RPTV9TVUJfQU5TV0VSX01PRElGSUVSOm51bGwsQ1VTVE9NX1BVQl9PRkZFUl9NT0RJRklFUjpudWxsLENVU1RPTV9TVUJfT0ZGRVJfTU9ESUZJRVI6bnVsbCxEU0NQX1RZUEU6XCJoaWdoXCIsUkVNT1ZFX05FV19DT0RFQ1M6ITAsRlJBR0VNRU5UX0xFTkdUSDozLFdFQlNPQ0tFVF9DT01QUkVTUzohMSxTSU1VTENBU1Q6ITEsUFJFTE9BRF9NRURJQV9DT1VOVDowLENIRUNLX1ZJREVPX1ZJU0lCTEVfSU5URVJWQUw6M2U0LENIRUNLX0xPQ0FMX1NUQVRTX0lOVEVSVkFMOjI1MCxQUk9GSUxFX1NXSVRDSF9JTlRFUlZBTDoyZTMsVU5TVVBQT1JURURfVklERU9fQ09ERUM6W10sRU5VTUVSQVRFX0RFVklDRVNfSU5URVJWQUw6ITEsRU5VTUVSQVRFX0RFVklDRVNfSU5URVJWQUxfVElNRToxZTQsVVNFX05FV19UT0tFTjohMSxDTE9TRV9BRkJfRk9SX0xPQ0FMX0FQOiEwLEpPSU5fTUFYX0NPTkNVUlJFTkNZOjYsSk9JTl9XSVRIX0ZBTExCQUNLX1NJR05BTF9QUk9YWTohMCxKT0lOX1dJVEhfRkFMTEJBQ0tfTUVESUFfUFJPWFk6ITAsSk9JTl9XSVRIX0ZBTExCQUNLX01FRElBX1BST1hZX0ZPUkNFOiExLEpPSU5fR0FURVdBWV9UUllfNDQzUE9SVF9EVVJBVElPTjoyZTMsSk9JTl9HQVRFV0FZX1VTRV80NDNQT1JUX09OTFk6ITEsSk9JTl9HQVRFV0FZX1VTRV9EVUFMX0RPTUFJTjohMCxKT0lOX0dBVEVXQVlfRkFMTEJBQ0tfUE9SVDo0NDMsVVNFX1RVUk5fU0VSVkVSX09GX0dBVEVXQVk6ITEsSDI2NF9QUk9GSUxFX0xFVkVMX0lEOlwiXCIsVVNFX05FV19MT0c6ITEsTE9HX1ZFUlNJT046MyxNRURJQV9ERVZJQ0VfQ09OU1RSQUlOVFM6bnVsbCxFTkNSWVBUX1BST1hZX1VTRVJOQU1FX0FORF9QU1c6ITAsU0RQX0xPR0dJTkc6ITEsQ1NQX0RFVEVDVEVEX0hPU1ROQU1FX0xJU1Q6W1wiYWdvcmEuaW9cIixcInNkLXJ0bi5jb21cIl0sUkVNT1RFX0FVRElPX1RSQUNLX1VTRVNfV0VCX0FVRElPOiExLExPQ0FMX0FVRElPX1RSQUNLX1VTRVNfV0VCX0FVRElPOiExLEJJVFJBVEVfQURBUFRFUl9UWVBFOlwiU1RBTkRBUkRfQklUUkFURVwiLEFJX0RFTk9JU0VSX1BBUkFNRVRFUlM6e2V4Y2x1ZGVkTGlua3M6W119LEFESlVTVF8zQV9GUk9NX1BMVUdJTlM6ITAsUkFJU0VfSDI2NF9CQVNFTElORV9QUklPUklUWTohMCxGSUxURVJfU0VORF9IMjY0X0JBU0VMSU5FOiExLFhfR09PR0xFX1NUQVJUX0JJVFJBVEU6dm9pZCAwLE5FV19SRVBPUlRfU0VSVkVSOiExLE5FV19SRVBPUlRfU0VSVkVSX0RPTUFJTlM6W1wiZGF0YS1yZXBvcnRpbmcuYWdvcmEuaW9cIixcImRhdGEtcmVwb3J0aW5nLmFnb3JhLmlvXCJdLFZJREVPX0lOU1BFQ1RfV09SS0VSX01FU1NBR0VfTEVOR1RIX0xJTUlUOjNlNSxWSURFT19JTlNQRUNUX0lOVEVSVkFMX01JTklNVU06MWUzLFZJREVPX0lOU1BFQ1RfUVVBTElUWV9SQVRJTzouOSxWSURFT19JTlNQRUNUX1dPUktFUl9NQU5BR0VSX0hPU1Q6XCJlZGdlLmFnb3JhLmlvXCIsVklERU9fSU5TUEVDVF9XT1JLRVJfTUFOQUdFUl9QT1JUOlwiXCIsVklERU9fSU5TUEVDVF9XT1JLRVJfUE9SVDpcIlwiLFNIT1dfVklERU9fSU5TUEVDVF9XT1JLRVJfTUVTU0FHRTohMSxTVEFUU19DT0xMRUNUT1JfUE9SVDo0NDMsRk9SQ0VfVFVSTl9UQ1A6ITEsV0VCQVVESU9fSU5JVF9PUFRJT05TOnZvaWQgMCxGSUxURVJfVklERU9fRkVDOiEwLEZJTFRFUl9BVURJT19GRUM6ITEsQ0hST01FX0RVQUxfU1RSRUFNX1VTRV9FTkNPRElORzohMCxESVNBQkxFX0RVQUxfU1RSRUFNX1VTRV9FTkNPRElORzohMSxFWFRFTlNJT05fVVNBR0VfVVBMT0FEX0lOVEVSVkFMOjFlNCxJQ0VfUkVTVEFSVDohMCxJQ0VfUkVTVEFSVF9JTlRFUlZBTDoxZTQsTkVXX0lDRV9SRVNUQVJUOiExLFRSQU5TTUlUVEVSX0lOSVRJQUxfUlRUOjMwLFRSQU5TTUlUVEVSX0lOSVRJQUxfUlRPOjMwLFRSQU5TTUlUVEVSX01BWF9CQVRDSF9BQ0tfQ09VTlQ6MixUUkFOU01JVFRFUl9NQVhfUlRPOjUwMCxEQVRBQ0hBTk5FTF9DT01QUkVTUzohMSxGSU5HRVJQUklOVDpudWxsLERDX0pPSU5fV0lUSF9GQUlMQkFDSzo1ZTMsRU5BQkxFX1ZJREVPX0ZSQU1FX0NBTExCQUNLOiEwLFZJREVPX0ZSRUVaRV9EVVJBVElPTjo1MDAsU1BBVElBTElaRVJfUEFSQU1FVEVSUzp7fSxVUExPQURfTE9HX0lOVEVSVkFMOjNlMyxVUExPQURfTE9HX1JFUVVFU1RfUkVUUllfSU5URVJWQUw6MmUzLFVQTE9BRF9MT0dfUkVRVUVTVF9NQVhfUkVUUllfSU5URVJWQUw6MmU0LFVQTE9BRF9MT0dfVFJZX0lOVEVSVkFMX1dISUxFX09GRjo1ZTMsVVBMT0FEX0xPR19SRVRSWV9JTlRFUlZBTF9WMToxZTQsVVBMT0FEX0xPR19UV0lDRV9SRVRSWV9JTlRFUlZBTF9WMToyMDAsVVBMT0FEX0xPR19MRU5HVEhfRUFDSF9USU1FOjEwLEFQUF9UWVBFOjAsRElTQUJMRV9XRUJBVURJTzohMSxDSEFOTkVMX01FRElBX1JFTEFZX1NFUlZFUlM6dm9pZCAwLEtFRVBfTEFTVF9GUkFNRTohMCxGT1JXQVJEX1AyUF9DUkVBVElPTjohMCxTWU5DX0dST1VQOiEwLEJMT0NLX0xPQ0FMX0NMSUVOVDohMSxBUF9BUkVBOiEwLEVOQUJMRV9FTkNPREVEX1RSQU5TRk9STTohMSxFTkFCTEVfVklERU9fU0VJOiExLElNQUdFX01PREVSQVRJT05fV09SS0VSX0hPU1Q6XCJlZGdlLmFnb3JhLmlvXCIsSU1BR0VfTU9ERVJBVElPTl9XT1JLRVJfTUVTU0FHRV9MRU5HVEhfTElNSVQ6M2U1LElNQUdFX01PREVSQVRJT05fSU5URVJWQUxfTUlOSU1VTToxZTMsU0hPV19JTUFHRV9NT0RFUkFUSU9OX1dPUktFUl9NRVNTQUdFOiExLElNQUdFX01PREVSQVRJT05fUVVBTElUWV9SQVRJTzouOSxJTUFHRV9NT0RFUkFUSU9OX1VQTE9BRF9SRVBPUlRfSU5URVJWQUw6NWUzLFNIT1dfR0xPQkFMX0NMSUVOVF9MSVNUOiExLERBVEFTVFJFQU1fTUFYX1JFVFJBTlNNSVRTOjEwLFRDUF9DQU5ESURBVEVfT05MWTohMSxFWFRFUk5BTF9TSUdOQUxfUkVRVUVTVF9USU1FT1VUOjNlMyxTSE9XX1AyUF9MT0c6ITEsTUFYX1AyUF9USU1FT1VUOjNlNCxQMlBfVE9LRU5fSU5URVJWQUw6MWUzLFNIT1dfREFUQVNUUkVBTTJfTE9HOiExLFJFU1RSSUNUSU9OX1NFVF9QTEFZQkFDS19ERVZJQ0U6ITAsVVNFX1BVUkVfRU5DUllQVElPTl9NQVNURVJfS0VZOiExLEFDQ09VTlRfUkVHSVNURVJfUkVUUllfVElNRU9VVDoxLEFDQ09VTlRfUkVHSVNURVJfUkVUUllfUkFUSU86MixBQ0NPVU5UX1JFR0lTVEVSX1JFVFJZX1RJTUVPVVRfTUFYOjZlNCxBQ0NPVU5UX1JFR0lTVEVSX1JFVFJZX0NPVU5UX01BWDoxZTUsQVVESU9fQ09OVEVYVDpudWxsLFdFQkNTX0JBQ0tVUF9DT05ORUNUX1RJTUVPVVQ6NmUzLFBMQVlFUl9TVEFURV9ERUZFUjoyZTMsU0lHTkFMX1JFUVVFU1RfV0FUQ0hfSU5URVJWQUw6MWUzLEZJTEVQQVRIX0xFTk1BWDoyNTUsRFVBTFNUUkVBTV9PUEVSQVRJT05fQ0hFQ0s6ITAsTUVESUFfRUxFTUVOVF9FWElTVFNfREVQVEg6MyxTSElNX0NBTkRJREFURTohMSxMRUFWRV9NU0dfVElNRU9VVDoyZTMsU1RBVFNfRklMVEVSOnt0cmFuc3BvcnRJZDohMCxnb29nVHJhY2tJZDohMH0sRklMVEVSX1ZJREVPX0NPREVDOltdLFVTRV9ORVdfTkVUV09SS19DT05GSUc6ITEsQVVUT19SRVNFVF9BVURJT19ST1VURTohMSxQTFVHSU5fSU5GTzpbXSxPVkVSVVNFX0RFVEVDVE9SX1BBUkFNUzpfZixFTkFCTEVfQUdfQURBUFRBVElPTjohMCxGT1JDRV9BR19ISUdIX0ZSQU1FUkFURTohMSxGT1JDRV9TVVBQT1JUX0FHX0FEQVBUQVRJT046ITEsQ1VTVE9NX0FEQVBUQVRJT05fREVGQVVMVF9NT0RFOlwiXCIsRU5DT0RFUl9DT05GSUdfTElNSVQ6e30sQ0FNRVJBX0NBUFRVUkVfQ09ORklHOnZvaWQgMCxISURFX05PX1BPU1RFUjohMSxBUF9DQUNIRV9OVU06MTAsQVBfVVBEQVRFX0lOVEVSVkFMOjEyZTQsQVBfQ0FDSEVfTElGRVRJTUU6MTJlNCxNQVhfUFJFTE9BRF9BU1lOQ19MRU5HVEg6MyxFTkFCTEVfUFJFTE9BRDohMH0se0VOQUJMRV9QVUJMSVNIRURfVVNFUl9MSVNUOiEwLE1BWF9TVUJTQ1JJUFRJT046NTAsU1VCU0NSSUJFX0FVRElPX0ZJTFRFUl9UT1BOOnZvaWQgMCxFTkFCTEVfUFVCTElTSF9BVURJT19GSUxURVI6dm9pZCAwLEVOQUJMRV9VU0VSX0xJQ0VOU0VfQ0hFQ0s6ITAsVVNFX1BVQl9SVFg6ITAsVVNFX1NVQl9SVFg6ITAsRElTQUJMRV9GRUM6dm9pZCAwLEVOQUJMRV9OVFBfUkVQT1JUOiExLEVOQUJMRV9JTlNUQU5UX1ZJREVPOiExLEVOQUJMRV9EQVRBU1RSRUFNXzI6ITEsRU5BQkxFX1VTRVJfQVVUT19SRUJBTEFOQ0VfQ0hFQ0s6ITAsVVNFX1hSOiEwLEVOQUJMRV9MT1NTQkFTRURfQldFOiEwLEVOQUJMRV9BVVRfQ0M6ITEsRU5BQkxFX0NDX0ZBTExCQUNLOnZvaWQgMCxFTkFCTEVfUFJFQUxMT0NfUEM6ITEsU1VCU0NSSUJFX1RXQ0M6ITAsUFVCTElTSF9UV0NDOiExLEVOQUJMRV9TVkM6ITEsRU5BQkxFX1NWQ19ERUZBVUxUX0NPREVDUzpbXCJIMjY0XCIsXCJWUDhcIixcIlZQOVwiLFwiQVYxXCJdLFNWQzpbXSxFTkFCTEVfRlVMTF9MSU5LX0FWX1NZTkM6ITEsU1ZDX01PREU6bnVsbCxQUkVfU1VCX05VTToyLEVOQUJMRV9QUkVfU1VCOiExLEVOQUJMRV9BVVRfRkVFREJBQ0s6ITF9KSx7fSx7VVNFX0NBTkRJREFURV9GUk9NX0FQX0RFVEFJTDohMX0pO2Z1bmN0aW9uIE90KHQsZSxuKXt2YXIgaSxyLG87VyhpPU9iamVjdC5rZXlzKG9lKSkuY2FsbChpLHQpJiYoIW4mJlcocj1PYmplY3Qua2V5cygkcikpLmNhbGwocix0KXx8KG9lW3RdPWUsdD09PVwiRU5BQkxFX1ZJREVPX1NFSVwiJiZlPT09ITAmJihvZS5FTkFCTEVfRU5DT0RFRF9UUkFOU0ZPUk09ITApLHQ9PT1cIlVTRV9ORVdfTkVUV09SS19DT05GSUdcIiYmZSYmKG89ISFlLG9lLlVTRV9ORVdfTkVUV09SS19DT05GSUc9byxvJiYob2UuV0VCQ1NfRE9NQUlOPVtcIndlYnJ0YzItMi5hcC5zZC1ydG4uY29tXCJdLG9lLldFQkNTX0RPTUFJTl9CQUNLVVBfTElTVD1bXCJ3ZWJydGMyLTQuYXAuc2QtcnRuLmNvbVwiXSxvZS5DRFNfQVA9W1wiY2RzLXdlYi0yLmFwLnNkLXJ0bi5jb21cIixcImNkcy13ZWItNC5hcC5zZC1ydG4uY29tXCJdLG9lLkFDQ09VTlRfUkVHSVNURVI9W1wic3VhLXdlYi0yLmFwLnNkLXJ0bi5jb21cIixcInN1YS13ZWItNC5hcC5zZC1ydG4uY29tXCJdLG9lLkVWRU5UX1JFUE9SVF9ET01BSU49XCJ3ZWItMi5zdGF0c2NvbGxlY3Rvci5zZC1ydG4uY29tXCIsb2UuRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU49XCJzdGF0c2NvbGxlY3Rvci0xLmFnb3JhLmlvXCIsb2UuR0FURVdBWV9ET01BSU5TPVtcImVkZ2Uuc2QtcnRuLmNvbVwiXSkpLHQ9PT1cIkVOQUJMRV9QUkVfU1VCXCImJmUmJihvZS5FTkFCTEVfSU5TVEFOVF9WSURFTz0hMCxvZS5FTkFCTEVfUFJFQUxMT0NfUEM9ITApLHQ9PT1cIkVOQUJMRV9TVkNcIiYmZSYmKG9lLkVOQUJMRV9BVVRfQ0M9ITApKSk7fWZ1bmN0aW9uIHYodCl7cmV0dXJuIG9lW3RdfXZhciAkcj17fSxjdD1mdW5jdGlvbih0KXtyZXR1cm4gdC5TRVRfU0VTU0lPTl9JRD1cIlNFVF9TRVNTSU9OX0lEXCIsdC5TRVRfUDJQX0lEPVwiU0VUX1AyUF9pZFwiLHQuU0VUX0RDX0lEPVwiU0VUX0RDX2lkXCIsdC5TRVRfVUlEPVwiU0VUX1VJRFwiLHQuU0VUX0lOVF9VSUQ9XCJTRVRfSU5UX1VJRFwiLHQuU0VUX1BVQl9JRD1cIlNFVF9QVUJfSURcIix0LlNFVF9DTE9VRF9QUk9YWV9TRVJWRVJfTU9ERT1cIlNFVF9DTE9VRF9QUk9YWV9TRVJWRVJfTU9ERVwiLHQuS0VZX01FVFJJQ19DTElFTlRfQ1JFQVRFRD1cIktFWV9NRVRSSUNfQ0xJRU5UX0NSRUFURURcIix0LktFWV9NRVRSSUNfSk9JTl9TVEFSVD1cIktFWV9NRVRSSUNfSk9JTl9TVEFSVFwiLHQuQVZPSURfSk9JTl9TVEFSVD1cIkFWT0lEX0pPSU5fU1RBUlRcIix0LktFWV9NRVRSSUNfSk9JTl9FTkQ9XCJLRVlfTUVUUklDX0pPSU5fRU5EXCIsdC5LRVlfTUVUUklDX1JFUVVFU1RfQVBfU1RBUlQ9XCJLRVlfTUVUUklDX1JFUVVFU1RfQVBfU1RBUlRcIix0LktFWV9NRVRSSUNfUkVRVUVTVF9BUF9FTkQ9XCJLRVlfTUVUUklDX1JFUVVFU1RfQVBfRU5EXCIsdC5LRVlfTUVUUklDX0pPSU5fR0FURVdBWV9TVEFSVD1cIktFWV9NRVRSSUNfSk9JTl9HQVRFV0FZX1NUQVJUXCIsdC5LRVlfTUVUUklDX0pPSU5fR0FURVdBWV9FTkQ9XCJLRVlfTUVUUklDX0pPSU5fR0FURVdBWV9FTkRcIix0LktFWV9NRVRSSUNfUEVFUl9DT05ORUNUSU9OX1NUQVJUPVwiS0VZX01FVFJJQ19QRUVSX0NPTk5FQ1RJT05fU1RBUlRcIix0LktFWV9NRVRSSUNfUEVFUl9DT05ORUNUSU9OX0VORD1cIktFWV9NRVRSSUNfUEVFUl9DT05ORUNUSU9OX0VORFwiLHQuS0VZX01FVFJJQ19ERVNDUklQVElPTl9TVEFSVD1cIktFWV9NRVRSSUNfREVTQ1JJUFRJT05fU1RBUlRcIix0LktFWV9NRVRSSUNfSUNFX0NPTk5FQ1RJT05fRU5EPVwiS0VZX01FVFJJQ19JQ0VfQ09OTkVDVElPTl9FTkRcIix0LktFWV9NRVRSSUNfU0lHTkFMX0NIQU5ORUxfT1BFTj1cIktFWV9NRVRSSUNfU0lHTkFMX0NIQU5ORUxfT1BFTlwiLHQuS0VZX01FVFJJQ19QVUJMSVNIPVwiS0VZX01FVFJJQ19QVUJMSVNIXCIsdC5LRVlfTUVUUklDX1NVQlNDUklCRT1cIktFWV9NRVRSSUNfU1VCU0NSSUJFXCIsdC5SRUNPUkRfSk9JTl9DSEFOTkVMX1NFUlZJQ0U9XCJSRUNPUkRfSk9JTl9DSEFOTkVMX1NFUlZJQ0VcIix0LlJFU0VUX0pPSU5fQ0hBTk5FTF9TRVJWSUNFX1JFQ09SRFM9XCJSRVNFVF9KT0lOX0NIQU5ORUxfU0VSVklDRV9SRUNPUkRTXCIsdC5SRVNFVF9LRVlfTUVUUklDUz1cIlJFU0VUX0tFWV9NRVRSSUNTXCIsdC5TRVRfVVNFX1AyUD1cIlNFVF9VU0VfUDJQXCIsdC5TRVRfVFJBTlNQT1JUX1RZUEU9XCJTRVRfVFJBTlNQT1JUX1RZUEVcIix0fShjdHx8e30pLE1FPWNsYXNze2NvbnN0cnVjdG9yKGUsbixpLHIpe2p0KHRoaXMsXCJzdGF0ZVwiLHZvaWQgMCksdGhpcy5zdGF0ZT17Y29kZWM6ZSxhdWRpb0NvZGVjOm4sbW9kZTppLGNsaWVudElkOnIsc2Vzc2lvbklkOm51bGwscDJwSWQ6MCxkY0lkOjAscHViSWQ6MCxzdWJJZDowLGF2b2lkSm9pblN0YXJ0OjAsa2V5TWV0cmljczp7cHVibGlzaDpbXSxzdWJzY3JpYmU6W119LGpvaW5DaGFubmVsU2VydmljZVJlY29yZHM6W10sY2xvdWRQcm94eVNlcnZlck1vZGU6XCJkaXNhYmxlZFwiLHVzZVAyUDohMSxwMnBUcmFuc3BvcnQ6T28uRGVmYXVsdH07fWRpc3BhdGNoKGUpe3RoaXMuc3RhdGU9ZnVuY3Rpb24obixpKXtzd2l0Y2goaS50eXBlKXtjYXNlIGN0LlNFVF9TRVNTSU9OX0lEOnJldHVybiBKKEooe30sbikse30se3Nlc3Npb25JZDppLnNlc3Npb25JZH0pO2Nhc2UgY3QuU0VUX1AyUF9JRDpyZXR1cm4gSihKKHt9LG4pLHt9LHtwMnBJZDppLnAycElkfSk7Y2FzZSBjdC5TRVRfVUlEOnJldHVybiBKKEooe30sbikse30se3VpZDppLnVpZH0pO2Nhc2UgY3QuU0VUX0lOVF9VSUQ6cmV0dXJuIEooSih7fSxuKSx7fSx7aW50VWlkOmkuaW50VWlkfSk7Y2FzZSBjdC5TRVRfUFVCX0lEOnJldHVybiBKKEooe30sbikse30se3B1YklkOmkucHViSWR9KTtjYXNlIGN0LktFWV9NRVRSSUNfQ0xJRU5UX0NSRUFURUQ6cmV0dXJuIEooSih7fSxuKSx7fSx7a2V5TWV0cmljczpKKEooe30sbi5rZXlNZXRyaWNzKSx7fSx7Y2xpZW50Q3JlYXRlZDppLm1ldHJpY30pfSk7Y2FzZSBjdC5LRVlfTUVUUklDX0pPSU5fU1RBUlQ6cmV0dXJuIEooSih7fSxuKSx7fSx7a2V5TWV0cmljczpKKEooe30sbi5rZXlNZXRyaWNzKSx7fSx7am9pblN0YXJ0OmkubWV0cmljfSl9KTtjYXNlIGN0LkFWT0lEX0pPSU5fU1RBUlQ6cmV0dXJuIEooSih7fSxuKSx7fSx7YXZvaWRKb2luU3RhcnQ6aS5hdm9pZEpvaW5TdGFydH0pO2Nhc2UgY3QuS0VZX01FVFJJQ19KT0lOX0VORDpyZXR1cm4gSihKKHt9LG4pLHt9LHtrZXlNZXRyaWNzOkooSih7fSxuLmtleU1ldHJpY3MpLHt9LHtqb2luRW5kOmkubWV0cmljfSl9KTtjYXNlIGN0LktFWV9NRVRSSUNfUkVRVUVTVF9BUF9TVEFSVDpyZXR1cm4gSihKKHt9LG4pLHt9LHtrZXlNZXRyaWNzOkooSih7fSxuLmtleU1ldHJpY3MpLHt9LHtyZXF1ZXN0QVBTdGFydDppLm1ldHJpY30pfSk7Y2FzZSBjdC5LRVlfTUVUUklDX1JFUVVFU1RfQVBfRU5EOnJldHVybiBKKEooe30sbikse30se2tleU1ldHJpY3M6SihKKHt9LG4ua2V5TWV0cmljcykse30se3JlcXVlc3RBUEVuZDppLm1ldHJpY30pfSk7Y2FzZSBjdC5LRVlfTUVUUklDX0pPSU5fR0FURVdBWV9TVEFSVDpyZXR1cm4gSihKKHt9LG4pLHt9LHtrZXlNZXRyaWNzOkooSih7fSxuLmtleU1ldHJpY3MpLHt9LHtqb2luR2F0ZXdheVN0YXJ0OmkubWV0cmljfSl9KTtjYXNlIGN0LktFWV9NRVRSSUNfSk9JTl9HQVRFV0FZX0VORDpyZXR1cm4gSihKKHt9LG4pLHt9LHtrZXlNZXRyaWNzOkooSih7fSxuLmtleU1ldHJpY3MpLHt9LHtqb2luR2F0ZXdheUVuZDppLm1ldHJpY30pfSk7Y2FzZSBjdC5LRVlfTUVUUklDX1BFRVJfQ09OTkVDVElPTl9TVEFSVDpyZXR1cm4gSihKKHt9LG4pLHt9LHtrZXlNZXRyaWNzOkooSih7fSxuLmtleU1ldHJpY3MpLHt9LHtwZWVyQ29ubmVjdGlvblN0YXJ0OmkubWV0cmljfSl9KTtjYXNlIGN0LktFWV9NRVRSSUNfUEVFUl9DT05ORUNUSU9OX0VORDpyZXR1cm4gSihKKHt9LG4pLHt9LHtrZXlNZXRyaWNzOkooSih7fSxuLmtleU1ldHJpY3MpLHt9LHtwZWVyQ29ubmVjdGlvbkVuZDppLm1ldHJpY30pfSk7Y2FzZSBjdC5LRVlfTUVUUklDX0RFU0NSSVBUSU9OX1NUQVJUOnJldHVybiBKKEooe30sbikse30se2tleU1ldHJpY3M6SihKKHt9LG4ua2V5TWV0cmljcykse30se2Rlc2NyaXB0aW9uU3RhcnQ6aS5tZXRyaWN9KX0pO2Nhc2UgY3QuS0VZX01FVFJJQ19TSUdOQUxfQ0hBTk5FTF9PUEVOOnJldHVybiBKKEooe30sbikse30se2tleU1ldHJpY3M6SihKKHt9LG4ua2V5TWV0cmljcykse30se3NpZ25hbENoYW5uZWxPcGVuOmkubWV0cmljfSl9KTtjYXNlIGN0LktFWV9NRVRSSUNfSUNFX0NPTk5FQ1RJT05fRU5EOnJldHVybiBKKEooe30sbikse30se2tleU1ldHJpY3M6SihKKHt9LG4ua2V5TWV0cmljcykse30se2ljZUNvbm5lY3Rpb25FbmQ6aS5tZXRyaWN9KX0pO2Nhc2UgY3QuS0VZX01FVFJJQ19QVUJMSVNIOntsZXQgcj1uLmtleU1ldHJpY3MucHVibGlzaCxvPXIuZmluZEluZGV4KHM9PnMudHJhY2tJZD09PWkubWV0cmljLnRyYWNrSWQpO3JldHVybiBvIT09LTE/KHJbb109SihKKHt9LHJbb10pLGkubWV0cmljKSxKKEooe30sbikse30se2tleU1ldHJpY3M6SihKKHt9LG4ua2V5TWV0cmljcykse30se3B1Ymxpc2g6Wy4uLnJdfSl9KSk6SihKKHt9LG4pLHt9LHtrZXlNZXRyaWNzOkooSih7fSxuLmtleU1ldHJpY3MpLHt9LHtwdWJsaXNoOlsuLi5uLmtleU1ldHJpY3MucHVibGlzaCxpLm1ldHJpY119KX0pfWNhc2UgY3QuS0VZX01FVFJJQ19TVUJTQ1JJQkU6e2xldCByPW4ua2V5TWV0cmljcy5zdWJzY3JpYmUsbz1yLmZpbmRJbmRleChzPT5zLnVzZXJJZD09PWkubWV0cmljLnVzZXJJZCYmcy50eXBlPT09aS5tZXRyaWMudHlwZSk7cmV0dXJuIG8hPT0tMT8ocltvXT1KKEooe30scltvXSksaS5tZXRyaWMpLEooSih7fSxuKSx7fSx7a2V5TWV0cmljczpKKEooe30sbi5rZXlNZXRyaWNzKSx7fSx7c3Vic2NyaWJlOlsuLi5yXX0pfSkpOkooSih7fSxuKSx7fSx7a2V5TWV0cmljczpKKEooe30sbi5rZXlNZXRyaWNzKSx7fSx7c3Vic2NyaWJlOlsuLi5uLmtleU1ldHJpY3Muc3Vic2NyaWJlLGkubWV0cmljXX0pfSl9Y2FzZSBjdC5TRVRfQ0xPVURfUFJPWFlfU0VSVkVSX01PREU6cmV0dXJuIG4uY2xvdWRQcm94eVNlcnZlck1vZGU9aS5tb2RlLG47Y2FzZSBjdC5SRUNPUkRfSk9JTl9DSEFOTkVMX1NFUlZJQ0U6cmV0dXJuIHR5cGVvZiBpLmluZGV4IT1cIm51bWJlclwiP24uam9pbkNoYW5uZWxTZXJ2aWNlUmVjb3Jkcz1bLi4ubi5qb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzLGkucmVjb3JkXToobi5qb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzW2kuaW5kZXhdPUooSih7fSxuLmpvaW5DaGFubmVsU2VydmljZVJlY29yZHNbaS5pbmRleF0pLGkucmVjb3JkKSxuLmpvaW5DaGFubmVsU2VydmljZVJlY29yZHM9Wy4uLm4uam9pbkNoYW5uZWxTZXJ2aWNlUmVjb3Jkc10pLG47Y2FzZSBjdC5SRVNFVF9KT0lOX0NIQU5ORUxfU0VSVklDRV9SRUNPUkRTOnJldHVybiBuLmpvaW5DaGFubmVsU2VydmljZVJlY29yZHM9W10sbjtjYXNlIGN0LlJFU0VUX0tFWV9NRVRSSUNTOnJldHVybiBuLmtleU1ldHJpY3M9e3B1Ymxpc2g6W10sc3Vic2NyaWJlOltdfSxuO2Nhc2UgY3QuU0VUX1VTRV9QMlA6cmV0dXJuIEooSih7fSxuKSx7fSx7dXNlUDJQOmkudmFsfSk7Y2FzZSBjdC5TRVRfVFJBTlNQT1JUX1RZUEU6cmV0dXJuIEooSih7fSxuKSx7fSx7cDJwVHJhbnNwb3J0OmkudmFsfSk7ZGVmYXVsdDpyZXR1cm4gbn19KHRoaXMuc3RhdGUsZSk7fXNldCBzZXNzaW9uSWQoZSl7dGhpcy5kaXNwYXRjaCh7dHlwZTpjdC5TRVRfU0VTU0lPTl9JRCxzZXNzaW9uSWQ6ZX0pO31nZXQgc2Vzc2lvbklkKCl7cmV0dXJuIHRoaXMuc3RhdGUuc2Vzc2lvbklkfXNldCBjb2RlYyhlKXt0aGlzLnN0YXRlLmNvZGVjPWU7fWdldCBjb2RlYygpe3JldHVybiB0aGlzLnN0YXRlLmNvZGVjfWdldCBtb2RlKCl7cmV0dXJuIHRoaXMuc3RhdGUubW9kZX1nZXQgYXVkaW9Db2RlYygpe3JldHVybiB0aGlzLnN0YXRlLmF1ZGlvQ29kZWN9Z2V0IGNsaWVudElkKCl7cmV0dXJuIHRoaXMuc3RhdGUuY2xpZW50SWR9c2V0IHAycElkKGUpe3RoaXMuZGlzcGF0Y2goe3R5cGU6Y3QuU0VUX1AyUF9JRCxwMnBJZDplfSk7fWdldCBwMnBJZCgpe3JldHVybiB0aGlzLnN0YXRlLnAycElkfXNldCBkY0lkKGUpe3RoaXMuZGlzcGF0Y2goe3R5cGU6Y3QuU0VUX0RDX0lELGRjSWQ6ZX0pO31nZXQgZGNJZCgpe3JldHVybiB0aGlzLnN0YXRlLmRjSWR9c2V0IHVpZChlKXt0aGlzLmRpc3BhdGNoKHt0eXBlOmN0LlNFVF9VSUQsdWlkOmV9KTt9Z2V0IHVpZCgpe3JldHVybiB0aGlzLnN0YXRlLnVpZH1zZXQgaW50VWlkKGUpe3RoaXMuZGlzcGF0Y2goe3R5cGU6Y3QuU0VUX0lOVF9VSUQsaW50VWlkOmV9KTt9Z2V0IGludFVpZCgpe3JldHVybiB0aGlzLnN0YXRlLmludFVpZH1zZXQgcHViSWQoZSl7dGhpcy5kaXNwYXRjaCh7dHlwZTpjdC5TRVRfUFVCX0lELHB1YklkOmV9KTt9Z2V0IHB1YklkKCl7cmV0dXJuIHRoaXMuc3RhdGUucHViSWR9c2V0IGNsb3VkUHJveHlTZXJ2ZXJNb2RlKGUpe3RoaXMuZGlzcGF0Y2goe3R5cGU6Y3QuU0VUX0NMT1VEX1BST1hZX1NFUlZFUl9NT0RFLG1vZGU6ZX0pO31nZXQgY2xvdWRQcm94eVNlcnZlck1vZGUoKXtyZXR1cm4gdGhpcy5zdGF0ZS5jbG91ZFByb3h5U2VydmVyTW9kZX1zZXQgdXNlUDJQKGUpe3RoaXMuZGlzcGF0Y2goe3R5cGU6Y3QuU0VUX1VTRV9QMlAsdmFsOmV9KTt9Z2V0IHVzZVAyUCgpe3JldHVybiB0aGlzLnN0YXRlLnVzZVAyUH1zZXQgcDJwVHJhbnNwb3J0KGUpe3RoaXMuZGlzcGF0Y2goe3R5cGU6Y3QuU0VUX1RSQU5TUE9SVF9UWVBFLHZhbDplfSk7fWdldCBwMnBUcmFuc3BvcnQoKXtyZXR1cm4gdGhpcy5zdGF0ZS5wMnBUcmFuc3BvcnR9Y2xpZW50Q3JlYXRlZCgpe3RoaXMuZGlzcGF0Y2goe3R5cGU6Y3QuS0VZX01FVFJJQ19DTElFTlRfQ1JFQVRFRCxtZXRyaWM6RGF0ZS5ub3coKX0pO31qb2luU3RhcnQoKXt0aGlzLmRpc3BhdGNoKHt0eXBlOmN0LktFWV9NRVRSSUNfSk9JTl9TVEFSVCxtZXRyaWM6RGF0ZS5ub3coKX0pO31qb2luRW5kKCl7dGhpcy5kaXNwYXRjaCh7dHlwZTpjdC5LRVlfTUVUUklDX0pPSU5fRU5ELG1ldHJpYzpEYXRlLm5vdygpfSk7fXJlcXVlc3RBUFN0YXJ0KCl7dGhpcy5kaXNwYXRjaCh7dHlwZTpjdC5LRVlfTUVUUklDX1JFUVVFU1RfQVBfU1RBUlQsbWV0cmljOkRhdGUubm93KCl9KTt9cmVxdWVzdEFQRW5kKCl7dGhpcy5kaXNwYXRjaCh7dHlwZTpjdC5LRVlfTUVUUklDX1JFUVVFU1RfQVBfRU5ELG1ldHJpYzpEYXRlLm5vdygpfSk7fWpvaW5HYXRld2F5U3RhcnQoKXt0aGlzLmRpc3BhdGNoKHt0eXBlOmN0LktFWV9NRVRSSUNfSk9JTl9HQVRFV0FZX1NUQVJULG1ldHJpYzpEYXRlLm5vdygpfSk7fWpvaW5HYXRld2F5RW5kKCl7dGhpcy5kaXNwYXRjaCh7dHlwZTpjdC5LRVlfTUVUUklDX0pPSU5fR0FURVdBWV9FTkQsbWV0cmljOkRhdGUubm93KCl9KTt9cGVlckNvbm5lY3Rpb25TdGFydCgpe3RoaXMuZGlzcGF0Y2goe3R5cGU6Y3QuS0VZX01FVFJJQ19QRUVSX0NPTk5FQ1RJT05fU1RBUlQsbWV0cmljOkRhdGUubm93KCl9KTt9cGVlckNvbm5lY3Rpb25FbmQoKXt0aGlzLmRpc3BhdGNoKHt0eXBlOmN0LktFWV9NRVRSSUNfUEVFUl9DT05ORUNUSU9OX0VORCxtZXRyaWM6RGF0ZS5ub3coKX0pO31kZXNjcmlwdGlvblN0YXJ0KCl7dGhpcy5kaXNwYXRjaCh7dHlwZTpjdC5LRVlfTUVUUklDX0RFU0NSSVBUSU9OX1NUQVJULG1ldHJpYzpEYXRlLm5vdygpfSk7fXNpZ25hbENoYW5uZWxPcGVuKCl7dGhpcy5kaXNwYXRjaCh7dHlwZTpjdC5LRVlfTUVUUklDX1NJR05BTF9DSEFOTkVMX09QRU4sbWV0cmljOkRhdGUubm93KCl9KTt9aWNlQ29ubmVjdGlvbkVuZCgpe3RoaXMuZGlzcGF0Y2goe3R5cGU6Y3QuS0VZX01FVFJJQ19JQ0VfQ09OTkVDVElPTl9FTkQsbWV0cmljOkRhdGUubm93KCl9KTt9cHVibGlzaChlLG4saSxyKXt0aGlzLmRpc3BhdGNoKHt0eXBlOmN0LktFWV9NRVRSSUNfUFVCTElTSCxtZXRyaWM6SihKKHt0cmFja0lkOmUsdHlwZTpufSxpJiZ7cHVibGlzaFN0YXJ0Oml9KSxyJiZ7cHVibGlzaEVuZDpyfSl9KTt9c3Vic2NyaWJlKGUsbixpLHIsbyxzLGEpe3RoaXMuZGlzcGF0Y2goe3R5cGU6Y3QuS0VZX01FVFJJQ19TVUJTQ1JJQkUsbWV0cmljOkooSihKKEooSih7dXNlcklkOmUsdHlwZTpufSxpJiZ7c3Vic2NyaWJlU3RhcnQ6aX0pLHImJntzdWJzY3JpYmVFbmQ6cn0pLG8mJntmaXJzdEZyYW1lOm99KSxzJiZ7c3RyZWFtQWRkZWQ6c30pLGEmJntmaXJzdERlY29kZWQ6YX0pfSk7fW1hc3NTdWJzY3JpYmUoZSxuLGkscil7ZS5mb3JFYWNoKG89Pnt0aGlzLmRpc3BhdGNoKHt0eXBlOmN0LktFWV9NRVRSSUNfU1VCU0NSSUJFLG1ldHJpYzpKKEooSih7dXNlcklkOm8udXNlcklkLHR5cGU6by50eXBlfSxuJiZ7c3Vic2NyaWJlU3RhcnQ6bn0pLGkmJntzdWJzY3JpYmVFbmQ6aX0pLHImJntmaXJzdEZyYW1lOnJ9KX0pO30pO31nZXQga2V5TWV0cmljcygpe3JldHVybiB0aGlzLnN0YXRlLmtleU1ldHJpY3N9cmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKGUsbil7ZS5zZXJ2aWNlPT09XCJnYXRld2F5XCImJkFycmF5LmlzQXJyYXkoZS51cmxzKSYmKGUudXJscz1lLnVybHMubWFwKGk9PmkucmVwbGFjZSgvKFxcZCspLVxcZCstXFxkKy0oXFxkKykvLFwiJDEtKi0qLSQyXCIpKSk7dHJ5e3JldHVybiB0eXBlb2YgbiE9XCJudW1iZXJcIj8odGhpcy5kaXNwYXRjaCh7dHlwZTpjdC5SRUNPUkRfSk9JTl9DSEFOTkVMX1NFUlZJQ0UscmVjb3JkOkooSih7fSxlKSx7fSx7c2Vzc2lvbklkOnRoaXMuc2Vzc2lvbklkLGNsb3VkUHJveHlNb2RlOnRoaXMuY2xvdWRQcm94eVNlcnZlck1vZGUsdWlkOnRoaXMudWlkfSl9KSx0aGlzLnN0YXRlLmpvaW5DaGFubmVsU2VydmljZVJlY29yZHMubGVuZ3RoLTEpOihuPDB8fG4+PXRoaXMuc3RhdGUuam9pbkNoYW5uZWxTZXJ2aWNlUmVjb3Jkcy5sZW5ndGh8fHRoaXMuZGlzcGF0Y2goe3R5cGU6Y3QuUkVDT1JEX0pPSU5fQ0hBTk5FTF9TRVJWSUNFLHJlY29yZDplLGluZGV4Om59KSxuKX1jYXRjaHtyZXR1cm4gMH19cmVzZXRKb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzKCl7dGhpcy5kaXNwYXRjaCh7dHlwZTpjdC5SRVNFVF9KT0lOX0NIQU5ORUxfU0VSVklDRV9SRUNPUkRTfSk7fXJlc2V0S2V5TWV0cmljcygpe3RoaXMuZGlzcGF0Y2goe3R5cGU6Y3QuUkVTRVRfS0VZX01FVFJJQ1N9KTt9Z2V0IGpvaW5DaGFubmVsU2VydmljZVJlY29yZHMoKXt0cnl7cmV0dXJuIHRoaXMuc3RhdGUuam9pbkNoYW5uZWxTZXJ2aWNlUmVjb3Jkc31jYXRjaHtyZXR1cm4gW119fWdldCBhdm9pZEpvaW5TdGFydCgpe3JldHVybiB0aGlzLnN0YXRlLmF2b2lkSm9pblN0YXJ0fXNldCBhdm9pZEpvaW5TdGFydChlKXt0aGlzLmRpc3BhdGNoKHt0eXBlOmN0LkFWT0lEX0pPSU5fU1RBUlQsYXZvaWRKb2luU3RhcnQ6ZX0pO319LEp1PWZ1bmN0aW9uKHQpe3JldHVybiB0LmgyNjQ9XCJoMjY0XCIsdC5oMjY1PVwiaDI2NVwiLHQudnA4PVwidnA4XCIsdC52cDk9XCJ2cDlcIix0LmF2MT1cImF2MVwiLHR9KHt9KTsoZnVuY3Rpb24odCl7dC5vcHVzPVwib3B1c1wiLHQucGNtYT1cInBjbWFcIix0LnBjbXU9XCJwY211XCIsdC5nNzIyPVwiZzcyMlwiO30pKHt9KTt2YXIgeVI9MTI4LFRCPTk2LEFSPTFlMyx1cz0xMCxTQj0wO2Z1bmN0aW9uIHJlKHQsZSxuKXtyZXR1cm4gKGU9ZnVuY3Rpb24oaSl7dmFyIHI9ZnVuY3Rpb24obyxzKXtpZih0eXBlb2YgbyE9XCJvYmplY3RcInx8IW8pcmV0dXJuIG87dmFyIGE9b1tTeW1ib2wudG9QcmltaXRpdmVdO2lmKGEhPT12b2lkIDApe3ZhciBjPWEuY2FsbChvLFwic3RyaW5nXCIpO2lmKHR5cGVvZiBjIT1cIm9iamVjdFwiKXJldHVybiBjO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKG8pfShpKTtyZXR1cm4gdHlwZW9mIHI9PVwic3ltYm9sXCI/cjpyK1wiXCJ9KGUpKWluIHQ/T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOnRbZV09bix0fWZ1bmN0aW9uIGJSKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYoaT1pLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpLmVudW1lcmFibGV9KSksbi5wdXNoLmFwcGx5KG4saSk7fXJldHVybiBufWZ1bmN0aW9uIG90KHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXSE9bnVsbD9hcmd1bWVudHNbZV06e307ZSUyP2JSKE9iamVjdChuKSwhMCkuZm9yRWFjaChmdW5jdGlvbihpKXtyZSh0LGksbltpXSk7fSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6YlIoT2JqZWN0KG4pKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGksT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGkpKTt9KTt9cmV0dXJuIHR9dmFyIHdPPW5ldyBjbGFzcyBleHRlbmRzIFh0e2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSxyZSh0aGlzLFwiY3VycmVudFVwbG9hZExvZ0lEXCIsMCk7fXJlcG9ydExvZ1VwbG9hZEVycm9yKHQpe2xldHtlcnJvclJhbmdlOmV9PXQ7ZVtlLmxlbmd0aC0xXSYmZVtlLmxlbmd0aC0xXT50aGlzLmN1cnJlbnRVcGxvYWRMb2dJRCYmKHRoaXMuY3VycmVudFVwbG9hZExvZ0lEPWVbZS5sZW5ndGgtMV0sdGhpcy5lbWl0KFwiUkVQT1JUX0xPR19VUExPQURcIix0KSk7fX0sVUU9Y2xhc3N7Y29uc3RydWN0b3IoZSl7cmUodGhpcyxcImxvZ2dlclwiLHZvaWQgMCkscmUodGhpcyxcInByZWZpeExpc3RzXCIsW10pLHRoaXMubG9nZ2VyPWU7fWRlYnVnKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoZSksaT0wO2k8ZTtpKyspbltpXT1hcmd1bWVudHNbaV07dGhpcy5sb2dnZXIuZGVidWcoLi4udGhpcy5wcmVmaXhMaXN0cywuLi5uKTt9aW5mbygpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KGUpLGk9MDtpPGU7aSsrKW5baV09YXJndW1lbnRzW2ldO3RoaXMubG9nZ2VyLmluZm8oLi4udGhpcy5wcmVmaXhMaXN0cywuLi5uKTt9d2FybmluZygpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KGUpLGk9MDtpPGU7aSsrKW5baV09YXJndW1lbnRzW2ldO3RoaXMubG9nZ2VyLndhcm5pbmcoLi4udGhpcy5wcmVmaXhMaXN0cywuLi5uKTt9ZXJyb3IoKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheShlKSxpPTA7aTxlO2krKyluW2ldPWFyZ3VtZW50c1tpXTt0aGlzLmxvZ2dlci5lcnJvciguLi50aGlzLnByZWZpeExpc3RzLC4uLm4pO31wcmVmaXgoZSl7cmV0dXJuIHRoaXMucHJlZml4TGlzdHMucHVzaChlKSx0aGlzfXBvcFByZWZpeCgpe3JldHVybiB0aGlzLnByZWZpeExpc3RzLnBvcCgpLHRoaXN9fTtmdW5jdGlvbiBOcCgpe2xldCB0PW5ldyBEYXRlO3JldHVybiB0LnRvVGltZVN0cmluZygpLnNwbGl0KFwiIFwiKVswXStcIjpcIit0LmdldE1pbGxpc2Vjb25kcygpfWZ1bmN0aW9uIHdSKCl7bGV0IHQ9bmV3IERhdGUsZT0vKChcXGQrOil7Mn1cXGQrKS8uZXhlYyhuZXcgRGF0ZSgpLnRvVVRDU3RyaW5nKCkpO3JldHVybiBlP2U/LlswXStcIjpcIit0LmdldFVUQ01pbGxpc2Vjb25kcygpOnQudG9UaW1lU3RyaW5nKCkuc3BsaXQoXCIgXCIpWzBdK1wiOlwiK3QuZ2V0TWlsbGlzZWNvbmRzKCl9dmFyIFFuPXtERUJVRzowLElORk86MSxXQVJOSU5HOjIsRVJST1I6MyxOT05FOjR9LFBkPURhdGUubm93KCksa2E9dD0+e2ZvcihsZXQgZSBpbiBRbilpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoUW4sZSkmJlFuW2VdPT09dClyZXR1cm4gZTtyZXR1cm4gXCJERUZBVUxUXCJ9LF89bmV3IGNsYXNze2NvbnN0cnVjdG9yKCl7cmUodGhpcyxcInByb3h5U2VydmVyVVJMXCIsdm9pZCAwKSxyZSh0aGlzLFwibG9nTGV2ZWxcIixRbi5ERUJVRykscmUodGhpcyxcInVwbG9hZFN0YXRlXCIsXCJjb2xsZWN0aW5nXCIpLHJlKHRoaXMsXCJ1cGxvYWRMb2dXYWl0aW5nTGlzdFwiLFtdKSxyZSh0aGlzLFwidXBsb2FkTG9nVXBsb2FkaW5nTGlzdFwiLFtdKSxyZSh0aGlzLFwidXBsb2FkRXJyb3JDb3VudFwiLDApLHJlKHRoaXMsXCJjdXJyZW50TG9nSURcIiwwKSxyZSh0aGlzLFwidXJsXCIsdm9pZCAwKSxyZSh0aGlzLFwiZXh0TG9nXCIsKHQsZSk9Pnt0aGlzLmFwcGVuZExvZ1RvV2FpdGluZ0xpc3QodCwuLi5lKTt9KTt9ZGVidWcoKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheSh0KSxuPTA7bjx0O24rKyllW25dPWFyZ3VtZW50c1tuXTtsZXQgaT1bUW4uREVCVUddLmNvbmNhdChlKTt0aGlzLmxvZy5hcHBseSh0aGlzLGkpO31pbmZvKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsZT1uZXcgQXJyYXkodCksbj0wO248dDtuKyspZVtuXT1hcmd1bWVudHNbbl07bGV0IGk9W1FuLklORk9dLmNvbmNhdChlKTt0aGlzLmxvZy5hcHBseSh0aGlzLGkpO313YXJuaW5nKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsZT1uZXcgQXJyYXkodCksbj0wO248dDtuKyspZVtuXT1hcmd1bWVudHNbbl07bGV0IGk9W1FuLldBUk5JTkddLmNvbmNhdChlKTt0aGlzLmxvZy5hcHBseSh0aGlzLGkpO313YXJuKCl7dGhpcy53YXJuaW5nKC4uLmFyZ3VtZW50cyk7fWVycm9yKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsZT1uZXcgQXJyYXkodCksbj0wO248dDtuKyspZVtuXT1hcmd1bWVudHNbbl07bGV0IGk9W1FuLkVSUk9SXS5jb25jYXQoZSk7dGhpcy5sb2cuYXBwbHkodGhpcyxpKTt9dXBsb2FkKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsZT1uZXcgQXJyYXkodCksbj0wO248dDtuKyspZVtuXT1hcmd1bWVudHNbbl07bGV0IGk9W1FuLkRFQlVHXS5jb25jYXQoZSk7dGhpcy51cGxvYWRMb2cuYXBwbHkodGhpcyxpKTt9c2V0TG9nTGV2ZWwodCl7dD1NYXRoLm1pbihNYXRoLm1heCgwLHQpLDQpLHRoaXMubG9nTGV2ZWw9dDt9ZW5hYmxlTG9nVXBsb2FkKCl7T3QoXCJVUExPQURfTE9HXCIsITApO31kaXNhYmxlTG9nVXBsb2FkKCl7T3QoXCJVUExPQURfTE9HXCIsITEpLHRoaXMudXBsb2FkTG9nVXBsb2FkaW5nTGlzdD1bXSx0aGlzLnVwbG9hZExvZ1dhaXRpbmdMaXN0PVtdO31zZXRQcm94eVNlcnZlcih0KXt0aGlzLnByb3h5U2VydmVyVVJMPXQ7fXByZWZpeCh0KXtyZXR1cm4gbmV3IFVFKHRoaXMpLnByZWZpeCh0KX1sb2coKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheSh0KSxuPTA7bjx0O24rKyllW25dPWFyZ3VtZW50c1tuXTtpZihEYXRlLm5vdygpLVBkPDEwMClyZXR1cm4gdm9pZCBzZXRUaW1lb3V0KCgpPT57dGhpcy5sb2coLi4uZSk7fSxEYXRlLm5vdygpLVBkKTtsZXQgaT1NYXRoLm1heCgwLE1hdGgubWluKDQsZVswXSkpO2lmKGVbMF09TnAoKStcIiBBZ29yYS1TREsgW1wiLmNvbmNhdChrYShpKSxcIl06XCIpLHRoaXMuYXBwZW5kTG9nVG9XYWl0aW5nTGlzdChpLC4uLmUpLGk8dGhpcy5sb2dMZXZlbClyZXR1cm47bGV0IHI9TnAoKStcIiAlY0Fnb3JhLVNESyBbXCIuY29uY2F0KGthKGkpLFwiXTpcIiksbz1bXTtpZighdihcIlVTRV9ORVdfTE9HXCIpKXN3aXRjaChpKXtjYXNlIFFuLkRFQlVHOm89W3IsXCJjb2xvcjogIzY0QjVGNjtcIl0uY29uY2F0KGUuc2xpY2UoMSkpLGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsbyk7YnJlYWs7Y2FzZSBRbi5JTkZPOm89W3IsXCJjb2xvcjogIzFFODhFNTsgZm9udC13ZWlnaHQ6IGJvbGQ7XCJdLmNvbmNhdChlLnNsaWNlKDEpKSxjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLG8pO2JyZWFrO2Nhc2UgUW4uV0FSTklORzpvPVtyLFwiY29sb3I6ICNGQjhDMDA7IGZvbnQtd2VpZ2h0OiBib2xkO1wiXS5jb25jYXQoZS5zbGljZSgxKSksY29uc29sZS53YXJuLmFwcGx5KGNvbnNvbGUsbyk7YnJlYWs7Y2FzZSBRbi5FUlJPUjpvPVtyLFwiY29sb3I6ICNCMDAwMjA7IGZvbnQtd2VpZ2h0OiBib2xkO1wiXS5jb25jYXQoZS5zbGljZSgxKSksY29uc29sZS5lcnJvci5hcHBseShjb25zb2xlLG8pO319dXBsb2FkTG9nKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsZT1uZXcgQXJyYXkodCksbj0wO248dDtuKyspZVtuXT1hcmd1bWVudHNbbl07aWYoRGF0ZS5ub3coKS1QZDwxMDApcmV0dXJuIHZvaWQgc2V0VGltZW91dCgoKT0+e3RoaXMudXBsb2FkTG9nKC4uLmUpO30sRGF0ZS5ub3coKS1QZCk7bGV0IGk9TWF0aC5tYXgoMCxNYXRoLm1pbig0LGVbMF0pKTtlWzBdPU5wKCkrXCIgQWdvcmEtU0RLIFtcIi5jb25jYXQoa2EoaSksXCJdOlwiKSx0aGlzLmFwcGVuZExvZ1RvV2FpdGluZ0xpc3QoaSwuLi5lKTt9YXBwZW5kTG9nVG9XYWl0aW5nTGlzdCh0KXtpZighdihcIlVQTE9BRF9MT0dcIikpcmV0dXJuO2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KGU+MT9lLTE6MCksaT0xO2k8ZTtpKyspbltpLTFdPWFyZ3VtZW50c1tpXTtBcnJheS5pc0FycmF5KG5bMF0pP25bMF1bMF09d1IoKStcIiBBZ29yYS1TREsgW1wiLmNvbmNhdChrYSh0KSxcIl06XCIpOm5bMF09d1IoKStcIiBBZ29yYS1TREsgW1wiLmNvbmNhdChrYSh0KSxcIl06XCIpO2xldCByPVwiXCI7bi5mb3JFYWNoKG89Pnt0eXBlb2Ygbz09XCJvYmplY3RcIiYmKG89SlNPTi5zdHJpbmdpZnkobykpLHIrPVwiXCIuY29uY2F0KG8sXCIgXCIpO30pLHRoaXMudXBsb2FkTG9nV2FpdGluZ0xpc3QucHVzaCh7cGF5bG9hZF9zdHI6cixsb2dfbGV2ZWw6dCxsb2dfaXRlbV9pZDp0aGlzLmN1cnJlbnRMb2dJRCsrfSksdGhpcy51cGxvYWRTdGF0ZT09PVwidXBsb2FkaW5nXCImJnRoaXMudXBsb2FkTG9nVXBsb2FkaW5nTGlzdC5sZW5ndGg9PT0wJiZ0aGlzLnVwbG9hZExvZ0ludGVydmFsKCk7fXN0YXJ0VXBsb2FkKCl7dGhpcy51cGxvYWRTdGF0ZT1cInVwbG9hZGluZ1wiLHRoaXMudXBsb2FkTG9nVXBsb2FkaW5nTGlzdC5sZW5ndGg9PT0wJiZ0aGlzLnVwbG9hZExvZ0ludGVydmFsKCk7fWFzeW5jIHVwbG9hZExvZ3MoKXtsZXQgdD10aGlzLnVwbG9hZExvZ1VwbG9hZGluZ0xpc3QsZT17c2RrX3ZlcnNpb246aWkscHJvY2Vzc19pZDp2KFwiUFJPQ0VTU19JRFwiKSxwYXlsb2FkOkpTT04uc3RyaW5naWZ5KHQpfTtyZXR1cm4gV2koYXN5bmMoKT0+e2xldCBuPWF3YWl0IG1uLnBvc3QodGhpcy51cmx8fCh0aGlzLnByb3h5U2VydmVyVVJMP1wiaHR0cHM6Ly9cIi5jb25jYXQodGhpcy5wcm94eVNlcnZlclVSTCxcIi9scy8/aD1cIikuY29uY2F0KHYoXCJMT0dfVVBMT0FEX1NFUlZFUlwiKSxcIiZwPTQ0MyZkPXVwbG9hZC92MVwiKTpcImh0dHBzOi8vXCIuY29uY2F0KHYoXCJMT0dfVVBMT0FEX1NFUlZFUlwiKSxcIi91cGxvYWQvdjFcIikpLGUse3Jlc3BvbnNlVHlwZTpcInRleHRcIn0pO2lmKG4uZGF0YSE9PVwiT0tcIil7bGV0IGk9bmV3IEVycm9yKFwidW5leHBlY3RlZCB1cGxvYWQgbG9nIHJlc3BvbnNlXCIpO3Rocm93IGkucmVzcG9uc2U9bixpfX0sKCk9Pih0aGlzLnVwbG9hZExvZ1VwbG9hZGluZ0xpc3Q9W10sITEpLG49PntsZXQgaT17c3RhdHVzOi0xLG1lc3NhZ2U6bi5tZXNzYWdlLGVycm9yUmFuZ2U6dC5tYXAocj0+ci5sb2dfaXRlbV9pZCl9O3JldHVybiBuLnJlc3BvbnNlPyhpLnN0YXR1cz1uLnJlc3BvbnNlLnN0YXR1cyxpLmRhdGE9bi5yZXNwb25zZS5kYXRhLGkuaGVhZGVycz1uLnJlc3BvbnNlLmhlYWRlcnMpOm4ucmVxdWVzdCYmKGkuc3RhdHVzPW4ucmVxdWVzdC5zdGF0dXMpLHdPLnJlcG9ydExvZ1VwbG9hZEVycm9yKGkpLCEwfSx7dGltZW91dDp2KFwiVVBMT0FEX0xPR19SRVFVRVNUX1JFVFJZX0lOVEVSVkFMXCIpLG1heFJldHJ5VGltZW91dDp2KFwiVVBMT0FEX0xPR19SRVFVRVNUX01BWF9SRVRSWV9JTlRFUlZBTFwiKX0pfXVwbG9hZExvZ0ludGVydmFsKCl7dGhpcy51cGxvYWRMb2dVcGxvYWRpbmdMaXN0Lmxlbmd0aD09PTAmJnRoaXMudXBsb2FkTG9nV2FpdGluZ0xpc3QubGVuZ3RoPT09MHx8KHRoaXMudXBsb2FkTG9nVXBsb2FkaW5nTGlzdC5sZW5ndGg9PT0wJiYodGhpcy51cGxvYWRMb2dVcGxvYWRpbmdMaXN0PXRoaXMudXBsb2FkTG9nV2FpdGluZ0xpc3Quc3BsaWNlKDAsdihcIlVQTE9BRF9MT0dfTEVOR1RIX0VBQ0hfVElNRVwiKSkpLHRoaXMudXBsb2FkTG9ncygpLnRoZW4oKCk9Pnt0aGlzLnVwbG9hZEVycm9yQ291bnQ9MCx0aGlzLnVwbG9hZExvZ1dhaXRpbmdMaXN0Lmxlbmd0aD4wJiZ3aW5kb3cuc2V0VGltZW91dCgoKT0+dGhpcy51cGxvYWRMb2dJbnRlcnZhbCgpLHYoXCJVUExPQURfTE9HX0lOVEVSVkFMXCIpKTt9KS5jYXRjaCh0PT57dGhpcy51cGxvYWRFcnJvckNvdW50Kz0xLHRoaXMudXBsb2FkRXJyb3JDb3VudDwyP3dpbmRvdy5zZXRUaW1lb3V0KCgpPT50aGlzLnVwbG9hZExvZ0ludGVydmFsKCksdihcIlVQTE9BRF9MT0dfVFdJQ0VfUkVUUllfSU5URVJWQUxfVjFcIikpOndpbmRvdy5zZXRUaW1lb3V0KCgpPT50aGlzLnVwbG9hZExvZ0ludGVydmFsKCksdihcIlVQTE9BRF9MT0dfUkVUUllfSU5URVJWQUxfVjFcIikpO30pKTt9fSxPUjtmdW5jdGlvbiBSQih0KXtyZXR1cm4gUGUodC5yZXBvcnRJZCxcInBhcmFtcy5yZXBvcnRJZFwiLDAsMTAwLCExKSxQZSh0LmNhdGVnb3J5LFwicGFyYW1zLmNhdGVnb3J5XCIsMCwxMDAsITEpLFBlKHQuZXZlbnQsXCJwYXJhbXMuZXZlbnRcIiwwLDEwMCwhMSksUGUodC5sYWJlbCxcInBhcmFtcy5sYWJlbFwiLDAsMTAwLCExKSxOdCh0LnZhbHVlLFwicGFyYW1zLnZhbHVlXCIsTnVtYmVyLk1JTl9TQUZFX0lOVEVHRVIsTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsITEpLCEwfShPUj17fSkuRlJFRT1cImZyZWVcIixPUi5VUExPQURJTkc9XCJ1cGxvYWRpbmdcIixmdW5jdGlvbih0KXt0W3QuTUlTQz0wXT1cIk1JU0NcIix0W3QuSU5URVJOQUxfRVZFTlQ9MV09XCJJTlRFUk5BTF9FVkVOVFwiLHRbdC5QVUJMSUNfRVZFTlQ9Ml09XCJQVUJMSUNfRVZFTlRcIix0W3QuV0VCX0VWRU5UPTNdPVwiV0VCX0VWRU5UXCIsdFt0LklOVEVSTkFMX0FQST00XT1cIklOVEVSTkFMX0FQSVwiLHRbdC5XRUJfQVBJPTVdPVwiV0VCX0FQSVwiLHRbdC5QVUJMSUNfQVBJPTZdPVwiUFVCTElDX0FQSVwiO30oe30pO3ZhciBDQj17c2lkOlwiXCIsbHRzOjAsc3VjY2VzczpudWxsLGNuYW1lOm51bGwsdWlkOm51bGwscGVlcjpudWxsLGNpZDpudWxsLGVsYXBzZTpudWxsLGV4dGVuZDpudWxsLHZpZDowfSxEZT1mdW5jdGlvbih0KXtyZXR1cm4gdC5QVUJMSVNIPVwicHVibGlzaFwiLHQuU1VCU0NSSUJFPVwic3Vic2NyaWJlXCIsdC5XU19DT01QUkVTU09SX0lOSVQ9XCJ3c19jb21wcmVzc29yX2luaXRcIix0LlNFU1NJT05fSU5JVD1cInNlc3Npb25faW5pdFwiLHQuSk9JTl9DSE9PU0VfU0VSVkVSPVwiam9pbl9jaG9vc2Vfc2VydmVyXCIsdC5SRVFfVVNFUl9BQ0NPVU5UPVwicmVxX3VzZXJfYWNjb3VudFwiLHQuSk9JTl9HQVRFV0FZPVwiam9pbl9nYXRld2F5XCIsdC5SRUpPSU5fR0FURVdBWT1cInJlam9pbl9nYXRld2F5XCIsdC5TVFJFQU1fU1dJVENIPVwic3RyZWFtX3N3aXRjaFwiLHQuUkVRVUVTVF9QUk9YWV9XT1JLRVJfTUFOQUdFUj1cInJlcXVlc3RfcHJveHlfd29ya2VyX21hbmFnZXJcIix0LlJFUVVFU1RfUFJPWFlfQVBQQ0VOVEVSPVwicmVxdWVzdF9wcm94eV9hcHBjZW50ZXJcIix0LkZJUlNUX1ZJREVPX1JFQ0VJVkVEPVwiZmlyc3RfdmlkZW9fcmVjZWl2ZWRcIix0LkZJUlNUX0FVRElPX1JFQ0VJVkVEPVwiZmlyc3RfYXVkaW9fcmVjZWl2ZWRcIix0LkZJUlNUX1ZJREVPX0RFQ09ERT1cImZpcnN0X3ZpZGVvX2RlY29kZVwiLHQuRklSU1RfQVVESU9fREVDT0RFPVwiZmlyc3RfYXVkaW9fZGVjb2RlXCIsdC5PTl9BRERfQVVESU9fU1RSRUFNPVwib25fYWRkX2F1ZGlvX3N0cmVhbVwiLHQuT05fQUREX1ZJREVPX1NUUkVBTT1cIm9uX2FkZF92aWRlb19zdHJlYW1cIix0Lk9OX1VQREFURV9TVFJFQU09XCJvbl91cGRhdGVfc3RyZWFtXCIsdC5PTl9SRU1PVkVfU1RSRUFNPVwib25fcmVtb3ZlX3N0cmVhbVwiLHQuVVNFUl9BTkFMWVRJQ1M9XCJyZXFfdXNlcl9hbmFseXRpY3NcIix0LlBDX1NUQVRTPVwicGNfc3RhdHNcIix0LlVQREFURV9SRU1PVEVfUlRQQ0FQQUJJTElUSUVTPVwidXBkYXRlX3JlbW90ZV9ydHBDYXBhYmlsaXRpZXNcIix0fSh7fSksSnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuU0VTU0lPTj1cImlvLmFnb3JhLnBiLldydGMuU2Vzc2lvblwiLHQuSk9JTl9DSE9PU0VfU0VSVkVSPVwiaW8uYWdvcmEucGIuV3J0Yy5Kb2luQ2hvb3NlU2VydmVyXCIsdC5SRVFfVVNFUl9BQ0NPVU5UPVwiaW8uYWdvcmEucGIuV3J0Yy5SZXFVc2VyQWNjb3VudFwiLHQuSk9JTl9HQVRFV0FZPVwiaW8uYWdvcmEucGIuV3J0Yy5Kb2luR2F0ZXdheVwiLHQuUkVfSk9JTl9HQVRFV0FZPVwiaW8uYWdvcmEucGIuV3J0Yy5SZUpvaW5HYXRld2F5XCIsdC5QVUJMSVNIPVwiaW8uYWdvcmEucGIuV3J0Yy5QdWJsaXNoXCIsdC5TVUJTQ1JJQkU9XCJpby5hZ29yYS5wYi5XcnRjLlN1YnNjcmliZVwiLHQuV1NfQ09NUFJFU1NPUl9JTklUPVwiaW8uYWdvcmEucGIuV3J0Yy5Xc0NvbXByZXNzb3JJbml0XCIsdC5TVFJFQU1fU1dJVENIPVwiaW8uYWdvcmEucGIuV3J0Yy5TdHJlYW1Td2l0Y2hcIix0LkFVRElPX1NFTkRJTkdfU1RPUFBFRD1cImlvLmFnb3JhLnBiLldydGMuQXVkaW9TZW5kaW5nU3RvcHBlZFwiLHQuVklERU9fU0VORElOR19TVE9QUEVEPVwiaW8uYWdvcmEucGIuV3J0Yy5WaWRlb1NlbmRpbmdTdG9wcGVkXCIsdC5SRVFVRVNUX1BST1hZX0FQUENFTlRFUj1cImlvLmFnb3JhLnBiLldydGMuUmVxdWVzdFByb3h5QXBwQ2VudGVyXCIsdC5SRVFVRVNUX1BST1hZX1dPUktFUl9NQU5BR0VSPVwiaW8uYWdvcmEucGIuV3J0Yy5SZXF1ZXN0UHJveHlXb3JrZXJNYW5hZ2VyXCIsdC5BUElfSU5WT0tFPVwiaW8uYWdvcmEucGIuV3J0Yy5BcGlJbnZva2VcIix0LkZJUlNUX1ZJREVPX1JFQ0VJVkVEPVwiaW8uYWdvcmEucGIuV3J0Yy5GaXJzdFZpZGVvUmVjZWl2ZWRcIix0LkZJUlNUX0FVRElPX1JFQ0VJVkVEPVwiaW8uYWdvcmEucGIuV3J0Yy5GaXJzdEF1ZGlvUmVjZWl2ZWRcIix0LkZJUlNUX1ZJREVPX0RFQ09ERT1cImlvLmFnb3JhLnBiLldydGMuRmlyc3RWaWRlb0RlY29kZVwiLHQuRklSU1RfQVVESU9fREVDT0RFPVwiaW8uYWdvcmEucGIuV3J0Yy5GaXJzdEF1ZGlvRGVjb2RlXCIsdC5PTl9BRERfQVVESU9fU1RSRUFNPVwiaW8uYWdvcmEucGIuV3J0Yy5PbkFkZEF1ZGlvU3RyZWFtXCIsdC5PTl9BRERfVklERU9fU1RSRUFNPVwiaW8uYWdvcmEucGIuV3J0Yy5PbkFkZFZpZGVvU3RyZWFtXCIsdC5PTl9VUERBVEVfU1RSRUFNPVwiaW8uYWdvcmEucGIuV3J0Yy5PblVwZGF0ZVN0cmVhbVwiLHQuT05fUkVNT1ZFX1NUUkVBTT1cImlvLmFnb3JhLnBiLldydGMuT25SZW1vdmVTdHJlYW1cIix0LkpPSU5fQ0hBTk5FTF9USU1FT1VUPVwiaW8uYWdvcmEucGIuV3J0Yy5Kb2luQ2hhbm5lbFRpbWVvdXRcIix0LlBFRVJfUFVCTElTSF9TVEFUVVM9XCJpby5hZ29yYS5wYi5XcnRjLlBlZXJQdWJsaXNoU3RhdHVzXCIsdC5XT1JLRVJfRVZFTlQ9XCJpby5hZ29yYS5wYi5XcnRjLldvcmtlckV2ZW50XCIsdC5BUF9XT1JLRVJfRVZFTlQ9XCJpby5hZ29yYS5wYi5XcnRjLkFQV29ya2VyRXZlbnRcIix0LkpPSU5fV0VCX1BST1hZX0FQPVwiaW8uYWdvcmEucGIuV3J0Yy5Kb2luV2ViUHJveHlBUFwiLHQuV0VCU09DS0VUX1FVSVQ9XCJpby5hZ29yYS5wYi5XcnRjLldlYlNvY2tldFF1aXRcIix0LlVTRVJfQU5BTFlUSUNTPVwiaW8uYWdvcmEucGIuV3J0Yy5Vc2VyQW5hbHl0aWNzXCIsdC5BVVRPUExBWV9GQUlMRUQ9XCJpby5hZ29yYS5wYi5XcnRjLkF1dG9wbGF5RmFpbGVkXCIsdC5QQ19TVEFUUz1cImlvLmFnb3JhLnBiLldydGMuUENTdGF0c1wiLHQuVVBEQVRFX1JFTU9URV9SVFBDQVBBQklMSVRJRVM9XCJpby5hZ29yYS5wYi5XcnRjLlVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllc1wiLHR9KHt9KTsoZnVuY3Rpb24odCl7dFt0LldPUktFUl9FVkVOVD0xNTZdPVwiV09SS0VSX0VWRU5UXCIsdFt0LkFQX1dPUktFUl9FVkVOVD0xNjBdPVwiQVBfV09SS0VSX0VWRU5UXCI7fSkoe30pO3ZhciBJQj1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LlNFU1NJT049MjZdPVwiU0VTU0lPTlwiLHRbdC5KT0lOX0NIT09TRV9TRVJWRVI9MjddPVwiSk9JTl9DSE9PU0VfU0VSVkVSXCIsdFt0LlJFUV9VU0VSX0FDQ09VTlQ9MTk2XT1cIlJFUV9VU0VSX0FDQ09VTlRcIix0W3QuSk9JTl9HQVRFV0FZPTI4XT1cIkpPSU5fR0FURVdBWVwiLHRbdC5QVUJMSVNIPTMwXT1cIlBVQkxJU0hcIix0W3QuU1VCU0NSSUJFPTI5XT1cIlNVQlNDUklCRVwiLHRbdC5XU19DT01QUkVTU09SX0lOSVQ9OTQzMF09XCJXU19DT01QUkVTU09SX0lOSVRcIix0W3QuU1RSRUFNX1NXSVRDSD0zMl09XCJTVFJFQU1fU1dJVENIXCIsdFt0LkFVRElPX1NFTkRJTkdfU1RPUFBFRD0zM109XCJBVURJT19TRU5ESU5HX1NUT1BQRURcIix0W3QuVklERU9fU0VORElOR19TVE9QUEVEPTM0XT1cIlZJREVPX1NFTkRJTkdfU1RPUFBFRFwiLHRbdC5SRVFVRVNUX1BST1hZX0FQUENFTlRFUj0zNV09XCJSRVFVRVNUX1BST1hZX0FQUENFTlRFUlwiLHRbdC5SRVFVRVNUX1BST1hZX1dPUktFUl9NQU5BR0VSPTM2XT1cIlJFUVVFU1RfUFJPWFlfV09SS0VSX01BTkFHRVJcIix0W3QuQVBJX0lOVk9LRT00MV09XCJBUElfSU5WT0tFXCIsdFt0LkZJUlNUX1ZJREVPX1JFQ0VJVkVEPTM0OF09XCJGSVJTVF9WSURFT19SRUNFSVZFRFwiLHRbdC5GSVJTVF9BVURJT19SRUNFSVZFRD0zNDldPVwiRklSU1RfQVVESU9fUkVDRUlWRURcIix0W3QuRklSU1RfVklERU9fREVDT0RFPTM1MF09XCJGSVJTVF9WSURFT19ERUNPREVcIix0W3QuRklSU1RfQVVESU9fREVDT0RFPTM1MV09XCJGSVJTVF9BVURJT19ERUNPREVcIix0W3QuT05fQUREX0FVRElPX1NUUkVBTT0zNTJdPVwiT05fQUREX0FVRElPX1NUUkVBTVwiLHRbdC5PTl9BRERfVklERU9fU1RSRUFNPTM1M109XCJPTl9BRERfVklERU9fU1RSRUFNXCIsdFt0Lk9OX1VQREFURV9TVFJFQU09MzU2XT1cIk9OX1VQREFURV9TVFJFQU1cIix0W3QuT05fUkVNT1ZFX1NUUkVBTT0zNTVdPVwiT05fUkVNT1ZFX1NUUkVBTVwiLHRbdC5KT0lOX0NIQU5ORUxfVElNRU9VVD00MDddPVwiSk9JTl9DSEFOTkVMX1RJTUVPVVRcIix0W3QuUEVFUl9QVUJMSVNIX1NUQVRVUz00MDhdPVwiUEVFUl9QVUJMSVNIX1NUQVRVU1wiLHRbdC5XT1JLRVJfRVZFTlQ9MTU2XT1cIldPUktFUl9FVkVOVFwiLHRbdC5BUF9XT1JLRVJfRVZFTlQ9MTYwXT1cIkFQX1dPUktFUl9FVkVOVFwiLHRbdC5KT0lOX1dFQl9QUk9YWV9BUD03MDBdPVwiSk9JTl9XRUJfUFJPWFlfQVBcIix0W3QuV0VCU09DS0VUX1FVSVQ9NjcxXT1cIldFQlNPQ0tFVF9RVUlUXCIsdFt0LlVTRVJfQU5BTFlUSUNTPTFlNF09XCJVU0VSX0FOQUxZVElDU1wiLHRbdC5BVVRPUExBWV9GQUlMRUQ9OTE3OF09XCJBVVRPUExBWV9GQUlMRURcIix0fSh7fSksYmM9Y2xhc3MgdHtjb25zdHJ1Y3Rvcigpe3JlKHRoaXMsXCJiYXNlSW5mb01hcFwiLG5ldyBNYXApLHJlKHRoaXMsXCJwcm94eVNlcnZlclwiLHZvaWQgMCkscmUodGhpcyxcImV2ZW50VXBsb2FkVGltZXJcIix2b2lkIDApLHJlKHRoaXMsXCJzZXRTZXNzaW9uSWRUaW1lclwiLHZvaWQgMCkscmUodGhpcyxcInVybFwiLHZvaWQgMCkscmUodGhpcyxcImJhY2t1cFVybFwiLHZvaWQgMCkscmUodGhpcyxcIl9hcHBJZFwiLHZvaWQgMCkscmUodGhpcyxcImtleUV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zXCIsW10pLHJlKHRoaXMsXCJub3JtYWxFdmVudFVwbG9hZFBlbmRpbmdJdGVtc1wiLFtdKSxyZSh0aGlzLFwiYXBpSW52b2tlVXBsb2FkUGVuZGluZ0l0ZW1zXCIsW10pLHJlKHRoaXMsXCJhcGlJbnZva2VDb3VudFwiLDApLHJlKHRoaXMsXCJsdHNMaXN0XCIsW10pLHJlKHRoaXMsXCJsYXN0U2VuZE5vcm1hbEV2ZW50VGltZVwiLERhdGUubm93KCkpLHJlKHRoaXMsXCJjdXN0b21SZXBvcnRDb3VudGVyVGltZXJcIix2b2lkIDApLHJlKHRoaXMsXCJjdXN0b21SZXBvcnRDb3VudFwiLDApLHJlKHRoaXMsXCJleHRBcGlJbnZva2VcIixhc3luYyBlPT57Zm9yKGxldCBuIG9mIGUpe2xldCBpPW90KG90KHt9LG4pLHt9LHtzaWQ6bnVsbCxpbnZva2VJZDorK3RoaXMuYXBpSW52b2tlQ291bnQsdGFnOlp0LlRSQUNFUn0pO3RoaXMuc2VuZEFwaUludm9rZShpKTt9fSksdGhpcy5ldmVudFVwbG9hZFRpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCh0aGlzLmRvU2VuZC5iaW5kKHRoaXMpLHYoXCJFVkVOVF9SRVBPUlRfU0VORF9JTlRFUlZBTFwiKSksdGhpcy5zZXRTZXNzaW9uSWRUaW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwodGhpcy5hcHBlbmRTZXNzaW9uSWQuYmluZCh0aGlzKSx2KFwiRVZFTlRfUkVQT1JUX1NFTkRfSU5URVJWQUxcIikpO31nZXRCYXNlSW5mb0J5U2Vzc2lvbklkKGUpe3JldHVybiB0aGlzLmJhc2VJbmZvTWFwLmdldChlKX1hZGp1c3RTZXNzaW9uU3RhcnRUaW1lKGUpe2lmKCF0aGlzLmJhc2VJbmZvTWFwLmhhcyhlKSYmIXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpKXJldHVybiB2b2lkIF8uZXJyb3IoXCJhZGp1c3Qgc2Vzc2lvbiBcIi5jb25jYXQoZSxcIiBzdGFydCB0aW1lLCBzaWQgaXMgbm90IGV4aXN0IG9yIGluZm8gaXMgdW5kZWZpbmVkXCIpKTtsZXQgbj10aGlzLmJhc2VJbmZvTWFwLmdldChlKSxpPURhdGUubm93KCkscj1uLnN0YXJ0VGltZTtuLnN0YXJ0VGltZT1pLF8uZGVidWcoXCJyZXdyaXRlIHNlc3Npb24gXCIuY29uY2F0KGUsXCIgc3RhcnRUaW1lOiBcIikuY29uY2F0KGksXCIgLCBcIikuY29uY2F0KGktcixcIm1zXCIpKSx0aGlzLmJhc2VJbmZvTWFwLnNldChlLG4pO31zZXRBcHBJZChlKXt0aGlzLl9hcHBJZD1lO31yZXBvcnRBcGlJbnZva2UoZSxuLGkpe24udGltZW91dD1uLnRpbWVvdXR8fDZlNCxuLnJlcG9ydFJlc3VsdD1uLnJlcG9ydFJlc3VsdD09PXZvaWQgMHx8bi5yZXBvcnRSZXN1bHQ7bGV0IHI9RGF0ZS5ub3coKTt0aGlzLmFwaUludm9rZUNvdW50Kz0xO2xldCBvPXRoaXMuYXBpSW52b2tlQ291bnQscz0oKT0+KHt0YWc6bi50YWcsaW52b2tlSWQ6byxzaWQ6ZSxuYW1lOm4ubmFtZSxhcGlJbnZva2VUaW1lOnIsb3B0aW9uczpuLm9wdGlvbnMsc3RhdGVzOm4uc3RhdGVzfHxudWxsfSksYT0hIXYoXCJTSE9XX1JFUE9SVF9JTlZPS0VSX0xPR1wiKTthJiZfLmluZm8oXCJcIi5jb25jYXQobi5uYW1lLFwiIHN0YXJ0XCIpLG4ub3B0aW9ucyk7bGV0IGM9ITE7TWUobi50aW1lb3V0KS50aGVuKCgpPT57Y3x8KHRoaXMuc2VuZEFwaUludm9rZShvdChvdCh7fSxzKCkpLHt9LHtlcnJvcjpSLkFQSV9JTlZPS0VfVElNRU9VVCxzdWNjZXNzOiExfSkpLF8uZGVidWcoXCJcIi5jb25jYXQobi5uYW1lLFwiIHRpbWVvdXRcIikpKTt9KTtsZXQgZD1uZXcgTihSLlVORVhQRUNURURfRVJST1IsXCJcIi5jb25jYXQobi5uYW1lLFwiOiB0aGlzIGFwaSBpbnZva2UgaXMgZW5kXCIpKTtyZXR1cm4ge29uU3VjY2VzczpsPT57bGV0IHU9KCk9PntpZihjKXRocm93IGQ7cmV0dXJuIGM9ITAsdGhpcy5zZW5kQXBpSW52b2tlKG90KG90KHt9LHMoKSkse30se3N1Y2Nlc3M6ITB9LG4ucmVwb3J0UmVzdWx0JiZ7cmVzdWx0Omx9KSksYSYmXy5pbmZvKFwiXCIuY29uY2F0KG4ubmFtZSxcIiBvblN1Y2Nlc3NcIikpLGx9O3JldHVybiBpP1JSKHUsbi5uYW1lK1wiU3VjY2Vzc1wiLGksKCk9PmM9ITApOnUoKX0sb25FcnJvcjpsPT57bGV0IHU9KCk9PntpZihjKXRocm93IGw7Yz0hMCx0aGlzLnNlbmRBcGlJbnZva2Uob3Qob3Qoe30scygpKSx7fSx7c3VjY2VzczohMSxlcnJvcjpsfSkpLGEmJl8uaW5mbyhcIlwiLmNvbmNhdChuLm5hbWUsXCIgb25GYWlsdXJlXCIpLGwudG9TdHJpbmcoKSk7fTtyZXR1cm4gaT9SUih1LG4ubmFtZStcIkVycm9yXCIsaSwoKT0+Yz0hMCk6dSgpfX19c2Vzc2lvbkluaXQoZSxuKXtpZih0aGlzLmJhc2VJbmZvTWFwLmhhcyhlKSlyZXR1cm47bGV0IGk9RGF0ZS5ub3coKSxyPXRoaXMuY3JlYXRlQmFzZUluZm8oZSxpKTtyLmNuYW1lPW4uY25hbWU7bGV0IG89T2JqZWN0LmFzc2lnbih7fSx7d2lsbFVwbG9hZENvbnNvbGVMb2c6dihcIlVQTE9BRF9MT0dcIiksbWF4VG91Y2hQb2ludHM6bmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzLGFyZWFWZXJzaW9uOnBmP1wiZ2xvYmFsXCI6XCJvdmVyc2VhXCIsYXJlYXM6dihcIkFSRUFTXCIpJiZ2KFwiQVJFQVNcIikuam9pbihcIixcIil9LG4uZXh0ZW5kKSx7c3RyaW5nVWlkOnMsY2hhbm5lbFByb2ZpbGU6YSxjaGFubmVsTW9kZTpjLGlzQUJUZXN0U3VjY2VzczpkLGxzaWQ6bCxjbGllbnRSb2xlOnV9PW4saD1EYXRlLm5vdygpLHA9b3Qob3Qoe30scikse30se2V2ZW50VHlwZTpEZS5TRVNTSU9OX0lOSVQsYXBwaWQ6bi5hcHBpZCxicm93c2VyOm5hdmlnYXRvci51c2VyQWdlbnQsYnVpbGRGb3JtYXQ6bi5idWlsZEZvcm1hdCxidWlsZDpFZixsdHM6aCxlbGFwc2U6aC1pLGV4dGVuZDpKU09OLnN0cmluZ2lmeShvKSxtb2RlOm4ubW9kZSxwcm9jZXNzOnYoXCJQUk9DRVNTX0lEXCIpLGFwcFR5cGU6dihcIkFQUF9UWVBFXCIpLHN1Y2Nlc3M6ITAsdmVyc2lvbjppaSxzdHJpbmdVaWQ6cyxjaGFubmVsUHJvZmlsZTphLGNoYW5uZWxNb2RlOmMsaXNBQlRlc3RTdWNjZXNzOmQsbHNpZDpsLGNsaWVudFR5cGU6VyhnPXdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KS5jYWxsKGcsXCJBZ29yYVdlYlZpZXdcIik/NDI6MjAsY2xpZW50Um9sZTp1LHNlcnZpY2VJZDp2KFwiUFJPQ0VTU19JRFwiKSxleHRlbnNpb25JRDp2KFwiUExVR0lOX0lORk9cIikuam9pbihcIixcIil8fFwiXCJ9KTt2YXIgZzt0aGlzLnNlbmQoe3R5cGU6SnQuU0VTU0lPTixkYXRhOnB9LCEwKTt9am9pbkNob29zZVNlcnZlcihlLG4pe2xldCBpPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFpKXJldHVybjtsZXQgcj1pLmluZm8sbz1EYXRlLm5vdygpLHM9b3Qob3Qoe30scikse30se2V2ZW50VHlwZTpEZS5KT0lOX0NIT09TRV9TRVJWRVIsbHRzOm8sZXZlbnRFbGFwc2U6bi5lbGFwc2V8fG8tbi5sdHMsY2hvb3NlU2VydmVyQWRkcjpuLmNzQWRkcixlcnJvckNvZGU6bi5lYyxlbGFwc2U6by1pLnN0YXJ0VGltZSxzdWNjZXNzOm4uc3VjYyxjaG9vc2VTZXJ2ZXJBZGRyTGlzdDpKU09OLnN0cmluZ2lmeShuLnNlcnZlckxpc3QpLHVpZDpuLnVpZD9wYXJzZUludChuLnVpZCk6bnVsbCxjaWQ6bi5jaWQ/cGFyc2VJbnQobi5jaWQpOm51bGwsY2hvb3NlU2VydmVySXA6bi5jc0lwfHxcIlwiLG9waWQ6bi5vcGlkLHVuaWxic1NlcnZlcklkczpuLnVuaWxic1NlcnZlcklkcyxleHRlbmQ6bi5leHRlbmR8fHZvaWQgMCxpc0h0dHAzOm4uaXNIdHRwM30pO3RoaXMuc2VuZCh7dHlwZTpKdC5KT0lOX0NIT09TRV9TRVJWRVIsZGF0YTpzfSwhMCk7fXJlcVVzZXJBY2NvdW50KGUsbil7bGV0IGk9dGhpcy5iYXNlSW5mb01hcC5nZXQoZSk7aWYoIWkpcmV0dXJuO2xldCByPWkuaW5mbyxvPURhdGUubm93KCkscz1vdChvdCh7fSxyKSx7fSx7ZXZlbnRUeXBlOkRlLlJFUV9VU0VSX0FDQ09VTlQsbHRzOm8sc3VjY2VzczpuLnN1Y2Nlc3Msc2VydmVyQWRkcmVzczpuLnNlcnZlckFkZHIsc3RyaW5nVWlkOm4uc3RyaW5nVWlkLHVpZDpuLnVpZCxlcnJvckNvZGU6bi5lcnJvckNvZGUsZWxhcHNlOm4uZWxhcHNlfHxvLWkuc3RhcnRUaW1lLGV2ZW50RWxhcHNlOm8tbi5sdHMsZXh0ZW5kOkpTT04uc3RyaW5naWZ5KG4uZXh0ZW5kKX0pO3RoaXMuc2VuZCh7dHlwZTpKdC5SRVFfVVNFUl9BQ0NPVU5ULGRhdGE6c30sITApO31qb2luR2F0ZXdheShlLG4pe2xldCBpPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFpKXJldHVybjtsZXQgcj1pLmluZm87bi52aWQmJihyLnZpZD1uLnZpZCksci51aWQ9bi51aWQsci5jaWQ9bi5jaWQ7bGV0IG89RGF0ZS5ub3coKSx7Zmlyc3RTdWNjZXNzOnMsYXZvaWRKb2luU3RhcnRUaW1lOmF9PW4sYz1vLShzJiZhP2E6aS5zdGFydFRpbWUpLGQ9b3Qob3Qoe30scikse30se2V2ZW50VHlwZTpEZS5KT0lOX0dBVEVXQVksbHRzOm8sZ2F0ZXdheUFkZHI6bi5hZGRyLHN1Y2Nlc3M6bi5zdWNjLGVycm9yQ29kZTpuLmVjLGVycm9yTXNnOm4uZXJyb3JNc2d8fFwiXCIsZWxhcHNlOmMsZXZlbnRFbGFwc2U6by1uLmx0cyxmaXJzdFN1Y2Nlc3M6cyxzaWduYWxDaGFubmVsOm4uc2lnbmFsQ2hhbm5lbCxwcmVsb2FkOm4ucHJlbG9hZD8xOjB9KTtuLnN1Y2MmJihpLmxhc3RKb2luU3VjY2Vzc1RpbWU9byksdGhpcy5zZW5kKHt0eXBlOkp0LkpPSU5fR0FURVdBWSxkYXRhOmR9LCEwKTt9am9pbkNoYW5uZWxUaW1lb3V0KGUsbil7bGV0IGk9dGhpcy5iYXNlSW5mb01hcC5nZXQoZSk7aWYoIWkpcmV0dXJuO2xldCByPURhdGUubm93KCksbz1vdChvdCh7fSxpLmluZm8pLHt9LHtsdHM6cix0aW1lb3V0Om4sZWxhcHNlOnItaS5zdGFydFRpbWV9KTt0aGlzLnNlbmQoe3R5cGU6SnQuSk9JTl9DSEFOTkVMX1RJTUVPVVQsZGF0YTpvfSwhMCk7fXB1Ymxpc2goZSxuKXtsZXQgaT10aGlzLmJhc2VJbmZvTWFwLmdldChlKTtpZighaSlyZXR1cm47bGV0IHI9aS5pbmZvLG89RGF0ZS5ub3coKSxzPW90KG90KHt9LHIpLHt9LHtldmVudFR5cGU6RGUuUFVCTElTSCxsdHM6byxldmVudEVsYXBzZTpuLmV2ZW50RWxhcHNlLGVsYXBzZTpvLWkuc3RhcnRUaW1lLHN1Y2Nlc3M6bi5zdWNjLGVycm9yQ29kZTpuLmVjLHZpZGVvTmFtZTpuLnZpZGVvTmFtZSxhdWRpb05hbWU6bi5hdWRpb05hbWUsc2NyZWVuTmFtZTpuLnNjcmVlbk5hbWUsc2NyZWVuc2hhcmU6bi5zY3JlZW5zaGFyZSxhdWRpbzpuLmF1ZGlvLHZpZGVvOm4udmlkZW8scDJwaWQ6bi5wMnBpZCxwdWJsaXNoUmVxdWVzdGlkOm4ucHVibGlzaFJlcXVlc3RpZH0pO3RoaXMuc2VuZCh7dHlwZTpKdC5QVUJMSVNILGRhdGE6c30sITApO31zdWJzY3JpYmUoZSxuLGkpe2xldCByPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFyKXJldHVybjtsZXQgbz1yLmluZm8scz1EYXRlLm5vdygpLGE9b3Qob3Qoe30sbykse30se2V2ZW50VHlwZTpEZS5TVUJTQ1JJQkUsbHRzOnMsZXZlbnRFbGFwc2U6bi5ldmVudEVsYXBzZSxlbGFwc2U6cy1yLnN0YXJ0VGltZSxzdWNjZXNzOm4uc3VjYyxlcnJvckNvZGU6bi5lYyx2aWRlbzpuLnZpZGVvLGF1ZGlvOm4uYXVkaW8sc3Vic2NyaWJlUmVxdWVzdGlkOm4uc3Vic2NyaWJlUmVxdWVzdGlkLHAycGlkOm4ucDJwaWQscHJlU3NyYzpuLnByZVNzcmM/MTowfSxpJiZ7ZXh0ZW5kOkpTT04uc3RyaW5naWZ5KHtpc01hc3NTdWJzY3JpYmU6ITB9KX0pO3R5cGVvZiBuLnBlZXJpZD09XCJzdHJpbmdcIj9hLnBlZXJTdWlkPW4ucGVlcmlkOmEucGVlcj1uLnBlZXJpZCx0aGlzLnNlbmQoe3R5cGU6SnQuU1VCU0NSSUJFLGRhdGE6YX0sITApO313c0NvbXByZXNzb3JJbml0KGUpe3ZhciBuO2xldCBpPVsuLi54bihuPXRoaXMuYmFzZUluZm9NYXApLmNhbGwobildLHI9aS5sZW5ndGg/aVswXTpcIlVuYWJsZVRvR2V0U2lkXCIsbz10aGlzLmJhc2VJbmZvTWFwLmdldChyKTtpZighbylyZXR1cm47bGV0IHM9by5pbmZvLGE9RGF0ZS5ub3coKSxjPW90KG90KHt9LHMpLHt9LHtldmVudFR5cGU6RGUuV1NfQ09NUFJFU1NPUl9JTklULGx0czphLGV2ZW50RWxhcHNlOmUuZXZlbnRFbGFwc2UsZWxhcHNlOmEtby5zdGFydFRpbWUsc3RhdHVzOmUuc3RhdHVzPzE6Mn0pO3RoaXMuc2VuZCh7dHlwZTpKdC5XU19DT01QUkVTU09SX0lOSVQsZGF0YTpjfSwhMCk7fWZpcnN0UmVtb3RlVmlkZW9EZWNvZGUoZSxuLGkscil7bGV0IG89dGhpcy5iYXNlSW5mb01hcC5nZXQoZSk7aWYoIW8pcmV0dXJuO2xldCBzPW8uaW5mbyxhPURhdGUubm93KCksYz1vdChvdChvdCh7fSxzKSxyKSx7fSx7ZWxhcHNlOmEtby5zdGFydFRpbWUsZXZlbnRUeXBlOm4sbHRzOmEsZmlyc3REZWNvZGVGcmFtZTpNYXRoLm1heCgoci5maXJzdEZyYW1lfHxhKS1vLnN0YXJ0VGltZSwwKSxhcEVuZDpNYXRoLm1heChyLmFwRW5kLW8uc3RhcnRUaW1lLDApLGFwU3RhcnQ6TWF0aC5tYXgoci5hcFN0YXJ0LW8uc3RhcnRUaW1lLDApLGpvaW5Hd0VuZDpNYXRoLm1heChyLmpvaW5Hd0VuZC1vLnN0YXJ0VGltZSwwKSxqb2luR3dTdGFydDpNYXRoLm1heChyLmpvaW5Hd1N0YXJ0LW8uc3RhcnRUaW1lLDApLHBjRW5kOk1hdGgubWF4KHIucGNFbmQtby5zdGFydFRpbWUsMCkscGNTdGFydDpNYXRoLm1heChyLnBjU3RhcnQtby5zdGFydFRpbWUsMCksc3Vic2NyaWJlckVuZDpNYXRoLm1heChyLnN1YnNjcmliZXJFbmQtby5zdGFydFRpbWUsMCksc3Vic2NyaWJlclN0YXJ0Ok1hdGgubWF4KHIuc3Vic2NyaWJlclN0YXJ0LW8uc3RhcnRUaW1lLDApLHZpZGVvQWRkTm90aWZ5Ok1hdGgubWF4KHIudmlkZW9BZGROb3RpZnktby5zdGFydFRpbWUsMCl9KTt0aGlzLnNlbmQoe3R5cGU6aSxkYXRhOmN9LCEwKTt9Zmlyc3RSZW1vdGVGcmFtZShlLG4saSxyKXtsZXQgbz10aGlzLmJhc2VJbmZvTWFwLmdldChlKTtpZighbylyZXR1cm47bGV0IHM9by5pbmZvLGE9RGF0ZS5ub3coKSxjPW90KG90KG90KHt9LHMpLHIpLHt9LHtlbGFwc2U6YS1vLnN0YXJ0VGltZSxldmVudFR5cGU6bixsdHM6YX0pO3RoaXMuc2VuZCh7dHlwZTppLGRhdGE6Y30sITApO31wY1N0YXRzKGUsbil7bGV0IGk9dGhpcy5iYXNlSW5mb01hcC5nZXQoZSk7aWYoIWkpcmV0dXJuO2xldCByPWkuaW5mbyxvPURhdGUubm93KCkscz1vdChvdChvdCh7fSxyKSxuKSx7fSx7dmlkOnIudmlkPT09dm9pZCAwPzA6TnVtYmVyKHIudmlkKSxlbGFwc2U6by1pLnN0YXJ0VGltZSxldmVudFR5cGU6RGUuUENfU1RBVFMsbHRzOm8scHJlYWxsb2NhdGlvbjpuLnByZWFsbG9jYXRpb24/MTowfSk7dGhpcy5zZW5kKHt0eXBlOkp0LlBDX1NUQVRTLGRhdGE6c30sITApO311cGRhdGVSZW1vdGVSVFBDYXBhYmlsaXRpZXMoZSxuKXtpZihlKXtsZXQgaT10aGlzLmJhc2VJbmZvTWFwLmdldChlKTtpZighaSlyZXR1cm47bGV0IHI9aS5pbmZvLG89RGF0ZS5ub3coKSxzPW90KG90KG90KHt9LHIpLG4pLHt9LHt2aWQ6ci52aWQ9PT12b2lkIDA/MDpOdW1iZXIoci52aWQpLGV2ZW50VHlwZTpEZS5VUERBVEVfUkVNT1RFX1JUUENBUEFCSUxJVElFUyxsdHM6b30pO3RoaXMuc2VuZCh7dHlwZTpKdC5VUERBVEVfUkVNT1RFX1JUUENBUEFCSUxJVElFUyxkYXRhOnN9LCEwKTt9fW9uR2F0ZXdheVN0cmVhbShlLG4saSxyKXtsZXQgbz10aGlzLmJhc2VJbmZvTWFwLmdldChlKTtpZighbylyZXR1cm47bGV0IHM9by5pbmZvLGE9RGF0ZS5ub3coKSxjPW90KG90KG90KHt9LHMpLHIpLHt9LHtldmVudFR5cGU6bixsdHM6YX0pO3RoaXMuc2VuZCh7dHlwZTppLGRhdGE6Y30sITApO31zdHJlYW1Td2l0Y2goZSxuKXtsZXQgaT10aGlzLmJhc2VJbmZvTWFwLmdldChlKTtpZighaSlyZXR1cm47bGV0IHI9aS5pbmZvLG89RGF0ZS5ub3coKSxzPW90KG90KHt9LHIpLHt9LHtldmVudFR5cGU6RGUuU1RSRUFNX1NXSVRDSCxsdHM6byxpc0R1YWw6bi5pc2R1YWwsZWxhcHNlOm8taS5zdGFydFRpbWUsc3VjY2VzczpuLnN1Y2N9KTt0aGlzLnNlbmQoe3R5cGU6SnQuU1RSRUFNX1NXSVRDSCxkYXRhOnN9LCEwKTt9cmVxdWVzdFByb3h5QXBwQ2VudGVyKGUsbil7bGV0IGk9dGhpcy5iYXNlSW5mb01hcC5nZXQoZSk7aWYoIWkpcmV0dXJuO2xldCByPWkuaW5mbyxvPURhdGUubm93KCkscz1vdChvdCh7fSxyKSx7fSx7ZXZlbnRUeXBlOkRlLlJFUVVFU1RfUFJPWFlfQVBQQ0VOVEVSLGx0czpvLGV2ZW50RWxhcHNlOm8tbi5sdHMsZWxhcHNlOm8taS5zdGFydFRpbWUsQVBBZGRyOm4uQVBBZGRyLHdvcmtlck1hbmFnZXJMaXN0Om4ud29ya2VyTWFuYWdlckxpc3QscmVzcG9uc2U6bi5yZXNwb25zZSxlcnJvckNvZGU6bi5lYyxzdWNjZXNzOm4uc3VjY30pO3RoaXMuc2VuZCh7dHlwZTpKdC5SRVFVRVNUX1BST1hZX0FQUENFTlRFUixkYXRhOnN9LCEwKTt9cmVxdWVzdFByb3h5V29ya2VyTWFuYWdlcihlLG4pe2xldCBpPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFpKXJldHVybjtsZXQgcj1pLmluZm8sbz1EYXRlLm5vdygpLHM9b3Qob3Qoe30scikse30se2V2ZW50VHlwZTpEZS5SRVFVRVNUX1BST1hZX1dPUktFUl9NQU5BR0VSLGx0czpvLGV2ZW50RWxhcHNlOm8tbi5sdHMsZWxhcHNlOm8taS5zdGFydFRpbWUsd29ya2VyTWFuYWdlckFkZHI6bi53b3JrZXJNYW5hZ2VyQWRkcixyZXNwb25zZTpuLnJlc3BvbnNlLGVycm9yQ29kZTpuLmVjLHN1Y2Nlc3M6bi5zdWNjfSk7dGhpcy5zZW5kKHt0eXBlOkp0LlJFUVVFU1RfUFJPWFlfV09SS0VSX01BTkFHRVIsZGF0YTpzfSwhMCk7fXNldFByb3h5U2VydmVyKGUpe3RoaXMucHJveHlTZXJ2ZXI9ZSxlP18uZGVidWcoXCJyZXBvcnRQcm94eVNlcnZlcnVybDogXCIuY29uY2F0KGUpKTpfLmRlYnVnKFwiZGlzYWJsZSByZXBvcnRQcm94eVNlcnZlcnVybDogXCIuY29uY2F0KGUpKTt9cGVlclB1Ymxpc2hTdGF0dXMoZSxuKXtsZXQgaT10aGlzLmJhc2VJbmZvTWFwLmdldChlKTtpZighaSlyZXR1cm47bGV0IHI9aS5pbmZvLG89RGF0ZS5ub3coKSxzPW90KG90KHt9LHIpLHt9LHtzdWJzY3JpYmVFbGFwc2U6bi5zdWJzY3JpYmVFbGFwc2UscGVlcjpuLnBlZXIscGVlclB1Ymxpc2hEdXJhdGlvbjpNYXRoLm1heChuLmF1ZGlvUHVibGlzaER1cmF0aW9uLG4udmlkZW9QdWJsaXNoRHVyYXRpb24pLGF1ZGlvdGFnOm4uYXVkaW9QdWJsaXNoRHVyYXRpb24+MD8xOi0xLHZpZGVvdGFnOm4udmlkZW9QdWJsaXNoRHVyYXRpb24+MD8xOi0xLGx0czpvLGVsYXBzZTpvLWkuc3RhcnRUaW1lLGpvaW5DaGFubmVsU3VjY2Vzc0VsYXBzZTpvLShpLmxhc3RKb2luU3VjY2Vzc1RpbWV8fG8pLHBlZXJQdWJsaXNoRHVyYXRpb25WaWRlbzpuLnZpZGVvUHVibGlzaER1cmF0aW9uLHBlZXJQdWJsaXNoRHVyYXRpb25BdWRpbzpuLmF1ZGlvUHVibGlzaER1cmF0aW9ufSk7dGhpcy5zZW5kKHt0eXBlOkp0LlBFRVJfUFVCTElTSF9TVEFUVVMsZGF0YTpzfSwhMCk7fXdvcmtlckV2ZW50KGUsbil7bGV0IGk9dGhpcy5iYXNlSW5mb01hcC5nZXQoZSk7aWYoIWkpcmV0dXJuO2xldCByPWkuaW5mbyxvPURhdGUubm93KCk7KGZ1bmN0aW9uKHMsYSxjKXtsZXQgZD1zW2FdO2lmKCFkfHx0eXBlb2YgZCE9XCJzdHJpbmdcIilyZXR1cm4gW3NdO3NbYV09XCJcIjtsZXQgbD1hcihKU09OLnN0cmluZ2lmeShzKSksdT0wLGg9W10scD0wO2ZvcihsZXQgZz0wO2c8ZC5sZW5ndGg7ZysrKXArPWQuY2hhckNvZGVBdChnKTw9MTI3PzE6MyxwPD1jLWx8fChoW2gubGVuZ3RoXT1KKEooe30scykse30se1thXTpkLnN1YnN0cmluZyh1LGcpfSksdT1nLHA9ZC5jaGFyQ29kZUF0KGcpPD0xMjc/MTozKTtyZXR1cm4gdSE9PWQubGVuZ3RoLTEmJihoW2gubGVuZ3RoXT1KKEooe30scykse30se1thXTpkLnN1YnN0cmluZyh1KX0pKSxofSkob3Qob3Qob3Qoe30sciksbikse30se2VsYXBzZTpvLWkuc3RhcnRUaW1lLGx0czpvLHByb2R1Y3RUeXBlOlwiV2ViUlRDXCJ9KSxcInBheWxvYWRcIiwxMzAwKS5mb3JFYWNoKHM9PnRoaXMuc2VuZCh7dHlwZTpKdC5XT1JLRVJfRVZFTlQsZGF0YTpzfSwhMCkpO31hcHdvcmtlckV2ZW50KGUsbil7bGV0IGk9dGhpcy5iYXNlSW5mb01hcC5nZXQoZSk7aWYoIWkpcmV0dXJuO2xldCByPWkuaW5mbyxvPURhdGUubm93KCkscz1vdChvdChvdCh7fSxyKSxuKSx7fSx7ZWxhcHNlOm8taS5zdGFydFRpbWUsbHRzOm99KTt0aGlzLnNlbmQoe3R5cGU6SnQuQVBfV09SS0VSX0VWRU5ULGRhdGE6c30sITApO31qb2luV2ViUHJveHlBUChlLG4pe2xldCBpPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFpKXJldHVybjtsZXQgcj1pLmluZm8sbz1EYXRlLm5vdygpLHM9b3Qob3Qob3Qoe30sciksbikse30se2VsYXBzZTpvLWkuc3RhcnRUaW1lLGx0czpvLGV4dGVuZDpuLmV4dGVuZHx8dm9pZCAwfSk7dGhpcy5zZW5kKHt0eXBlOkp0LkpPSU5fV0VCX1BST1hZX0FQLGRhdGE6c30sITApO31XZWJTb2NrZXRRdWl0KGUsbil7bGV0IGk9dGhpcy5iYXNlSW5mb01hcC5nZXQoZSk7aWYoIWkpcmV0dXJuO2xldCByPWkuaW5mbyxvPURhdGUubm93KCkscz1vdChvdChvdCh7fSxyKSxuKSx7fSx7ZWxhcHNlOm8taS5zdGFydFRpbWUsbHRzOm99KTt0aGlzLnNlbmQoe3R5cGU6SnQuV0VCU09DS0VUX1FVSVQsZGF0YTpzfSwhMCk7fWFzeW5jIHNlbmRDdXN0b21SZXBvcnRNZXNzYWdlKGUsbil7aWYodGhpcy5jdXN0b21SZXBvcnRDb3VudCs9bi5sZW5ndGgsdGhpcy5jdXN0b21SZXBvcnRDb3VudD52KFwiQ1VTVE9NX1JFUE9SVF9MSU1JVFwiKSl0aHJvdyBuZXcgTihSLkNVU1RPTV9SRVBPUlRfRlJFUVVFTkNZX1RPT19ISUdIKTt0aGlzLmN1c3RvbVJlcG9ydENvdW50ZXJUaW1lcnx8KHRoaXMuY3VzdG9tUmVwb3J0Q291bnRlclRpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCgoKT0+e3RoaXMuY3VzdG9tUmVwb3J0Q291bnQ9MDt9LDVlMykpO2xldCBpPURhdGUubm93KCkscj1uLm1hcChvPT4oe3R5cGU6SnQuVVNFUl9BTkFMWVRJQ1MsZGF0YTpvdChvdCh7c2lkOmV9LG8pLHt9LHtsdHM6aX0pfSkpO3RyeXt2KFwiTkVXX1JFUE9SVF9TRVJWRVJcIik/YXdhaXQgdGhpcy5wb3N0RGF0YVRvU3RhdHNDb2xsZWN0b3IyKHIpOmF3YWl0IHRoaXMucG9zdERhdGFUb1N0YXRzQ29sbGVjdG9yKHIpO31jYXRjaChvKXt0aHJvdyBfLmVycm9yKFwic2VuZCBjdXN0b20gcmVwb3J0IG1lc3NhZ2UgZmFpbGVkXCIsby50b1N0cmluZygpKSxuZXcgTihSLkNVU1RPTV9SRVBPUlRfU0VORF9GQUlMRUQsby5tZXNzYWdlKX19c2VuZEFwaUludm9rZShlKXtsZXQgbj12KFwiTk9UX1JFUE9SVF9FVkVOVFwiKTtpZihlLnRhZyYmVyhuKSYmVyhuKS5jYWxsKG4sZS50YWcpKXJldHVybiAhMTtpZihlLnNpZD09PW51bGwpcmV0dXJuIHRoaXMuYXBpSW52b2tlVXBsb2FkUGVuZGluZ0l0ZW1zLnB1c2goZSksITE7bGV0IGk9dGhpcy5iYXNlSW5mb01hcC5nZXQoZS5zaWQpO2lmKCFpKXJldHVybiB0aGlzLmFwaUludm9rZVVwbG9hZFBlbmRpbmdJdGVtcy5wdXNoKGUpLCExO2xldHtjbmFtZTpyLHVpZDpvLGNpZDpzfT1pLmluZm8sYTtpZihlLmx0cz1lLmx0c3x8RGF0ZS5ub3coKSxlLmVycm9yKWlmKGUuZXJyb3IgaW5zdGFuY2VvZiBOKXtsZXR7Y29kZTpkLG1lc3NhZ2U6bH09ZS5lcnJvcjthPWR8fGx8fGUuZXJyb3IudG9TdHJpbmcoKTt9ZWxzZSBhPWUuZXJyb3IudG9TdHJpbmcoKTtsZXQgYz17aW52b2tlSWQ6ZS5pbnZva2VJZCxzaWQ6ZS5zaWQsY25hbWU6cixjaWQ6cyx1aWQ6byxsdHM6ZS5sdHMsc3VjY2VzczplLnN1Y2Nlc3MsZWxhcHNlOmUubHRzLWkuc3RhcnRUaW1lLGV4ZWNFbGFwc2U6ZS5sdHMtZS5hcGlJbnZva2VUaW1lLGFwaU5hbWU6ZS5uYW1lLG9wdGlvbnM6ZS5vcHRpb25zP0pTT04uc3RyaW5naWZ5KGUub3B0aW9ucyk6dm9pZCAwLGV4ZWNTdGF0ZXM6ZS5zdGF0ZXM/SlNPTi5zdHJpbmdpZnkoZS5zdGF0ZXMpOnZvaWQgMCxleGVjUmVzdWx0OmUucmVzdWx0P0pTT04uc3RyaW5naWZ5KGUucmVzdWx0KTp2b2lkIDAsZXJyb3JDb2RlOmUuZXJyb3I/YTp2b2lkIDAsZXJyb3JNc2c6ZS5lcnJvcj9KU09OLnN0cmluZ2lmeShlLmVycm9yKTp2b2lkIDB9O3JldHVybiB0aGlzLnNlbmQoe3R5cGU6SnQuQVBJX0lOVk9LRSxkYXRhOmN9LCExKSwhMH1hcHBlbmRTZXNzaW9uSWQoKXt0Ll9fQ0xJRU5UX0xJU1RfXy5mb3JFYWNoKGU9PntpZihlLl9zZXNzaW9uSWQpe2xldCBuPXRoaXMuYXBpSW52b2tlVXBsb2FkUGVuZGluZ0l0ZW1zLmxlbmd0aDtmb3IobGV0IGk9MDtpPG47aSsrKXtsZXQgcj10aGlzLmFwaUludm9rZVVwbG9hZFBlbmRpbmdJdGVtcy5zaGlmdCgpO3ImJihyLnNpZD1lLl9zZXNzaW9uSWQsdGhpcy5zZW5kQXBpSW52b2tlKE9iamVjdC5hc3NpZ24oe30scikpKTt9fX0pO31zZW5kKGUsbil7aWYobilyZXR1cm4gdGhpcy5rZXlFdmVudFVwbG9hZFBlbmRpbmdJdGVtcy5wdXNoKGUpLHZvaWQgdGhpcy5zZW5kSXRlbXModGhpcy5rZXlFdmVudFVwbG9hZFBlbmRpbmdJdGVtcywhMCk7dGhpcy5ub3JtYWxFdmVudFVwbG9hZFBlbmRpbmdJdGVtcy5wdXNoKGUpLHRoaXMubm9ybWFsRXZlbnRVcGxvYWRQZW5kaW5nSXRlbXMubGVuZ3RoPnYoXCJOT1JNQUxfRVZFTlRfUVVFVUVfQ0FQQUNJVFlcIikmJnRoaXMubm9ybWFsRXZlbnRVcGxvYWRQZW5kaW5nSXRlbXMuc3BsaWNlKDAsMSksdGhpcy5ub3JtYWxFdmVudFVwbG9hZFBlbmRpbmdJdGVtcy5sZW5ndGg+PTEwJiZ0aGlzLnNlbmRJdGVtcyh0aGlzLm5vcm1hbEV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zLCExKTt9ZG9TZW5kKCl7dGhpcy5rZXlFdmVudFVwbG9hZFBlbmRpbmdJdGVtcy5sZW5ndGg+MCYmdGhpcy5zZW5kSXRlbXModGhpcy5rZXlFdmVudFVwbG9hZFBlbmRpbmdJdGVtcywhMCksdGhpcy5ub3JtYWxFdmVudFVwbG9hZFBlbmRpbmdJdGVtcy5sZW5ndGg+MCYmRGF0ZS5ub3coKS10aGlzLmxhc3RTZW5kTm9ybWFsRXZlbnRUaW1lPj01ZTMmJnRoaXMuc2VuZEl0ZW1zKHRoaXMubm9ybWFsRXZlbnRVcGxvYWRQZW5kaW5nSXRlbXMsITEpO31zZW5kSXRlbXMoZSxuKXtsZXQgaT1bXSxyPVtdO2Zvcig7ZS5sZW5ndGg7KXtsZXQgcz1lLnNoaWZ0KCk7aS5sZW5ndGg8MjA/aS5wdXNoKHMpOnIucHVzaChzKTt9ZS5wdXNoKC4uLnIpO2ZvcihsZXQgcyBvZiBbLi4uaV0pe3ZhciBvO3RoaXMubHRzTGlzdC5pbmRleE9mKHMuZGF0YS5sdHMpIT09LTE/KHMuZGF0YS5sdHM9dGhpcy5sdHNMaXN0W3RoaXMubHRzTGlzdC5sZW5ndGgtMV0rMSx0aGlzLmx0c0xpc3QucHVzaChzLmRhdGEubHRzKSk6KHRoaXMubHRzTGlzdC5wdXNoKHMuZGF0YS5sdHMpLGVkKG89dGhpcy5sdHNMaXN0KS5jYWxsKG8sKGEsYyk9PmEtYykpO31yZXR1cm4gbnx8KHRoaXMubGFzdFNlbmROb3JtYWxFdmVudFRpbWU9RGF0ZS5ub3coKSksdihcIkVOQUJMRV9FVkVOVF9SRVBPUlRcIikmJmkubGVuZ3RoJiYodihcIk5FV19SRVBPUlRfU0VSVkVSXCIpP3RoaXMucG9zdERhdGFUb1N0YXRzQ29sbGVjdG9yMihpKTp0aGlzLnBvc3REYXRhVG9TdGF0c0NvbGxlY3RvcihpKSkuY2F0Y2goKHM9PmE9Pnt2KFwiRVZFTlRfUkVQT1JUX1JFVFJZXCIpJiYobj90aGlzLmtleUV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zPXRoaXMua2V5RXZlbnRVcGxvYWRQZW5kaW5nSXRlbXMuY29uY2F0KHMpOih0aGlzLm5vcm1hbEV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zPXRoaXMubm9ybWFsRXZlbnRVcGxvYWRQZW5kaW5nSXRlbXMuY29uY2F0KHMpLHRoaXMubm9ybWFsRXZlbnRVcGxvYWRQZW5kaW5nSXRlbXMubGVuZ3RoPnYoXCJOT1JNQUxfRVZFTlRfUVVFVUVfQ0FQQUNJVFlcIikmJih0aGlzLm5vcm1hbEV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zLnNwbGljZSgwLHRoaXMubm9ybWFsRXZlbnRVcGxvYWRQZW5kaW5nSXRlbXMubGVuZ3RoLXYoXCJOT1JNQUxfRVZFTlRfUVVFVUVfQ0FQQUNJVFlcIikpLF8ud2FybmluZyhcInJlcG9ydDogZHJvcCBub3JtYWwgZXZlbnRzXCIpKSkpO30pKGkpKSxlfWFzeW5jIHBvc3REYXRhVG9TdGF0c0NvbGxlY3RvcjIoZSl7aGUubmV0d29ya1N0YXRlPT09d24uT0ZGTElORSYmYXdhaXQgai5yYWNlKFtoZS5vbmxpbmVXYWl0ZXIsTWUoMipFZS5tYXhSZXRyeVRpbWVvdXQpXSk7bGV0IG49bz0+e2xldCBzPW5ldyBVaW50OEFycmF5O3JldHVybiBvLmZvckVhY2goYT0+e2xldCBjPXVmKEpTT04uc3RyaW5naWZ5KGEuZGF0YSkpLGQ9bmV3IEFycmF5QnVmZmVyKDUpLGw9KGg9PntsZXQgcD0wO3JldHVybiBPYmplY3QuZW50cmllcyhKdCkuZm9yRWFjaChnPT57bGV0W0UsZl09ZztmPT09aC50eXBlJiYocD1JQltFXSk7fSkscH0pKGEpLHU9bmV3IERhdGFWaWV3KGQpO3Uuc2V0VWludDE2KDAsYy5ieXRlTGVuZ3RoLCEwKSx1LnNldFVpbnQ4KDIsMjU1JmwpLHUuc2V0VWludDgoMyxsPj4+OCYyNTUpLHUuc2V0VWludDgoNCxsPj4+MTYmMjU1KSxzPUVSKHMsbmV3IFVpbnQ4QXJyYXkoZCkpLHM9RVIocyxjKTt9KSxzfSxpPVwiZXZlbnRcIixyPXRoaXMucHJveHlTZXJ2ZXI/XCJodHRwczovL1wiLmNvbmNhdCh0aGlzLnByb3h5U2VydmVyLFwiL3JzLz9oPVwiKS5jb25jYXQodihcIk5FV19SRVBPUlRfU0VSVkVSX0RPTUFJTlNcIilbMF0sXCImcD00NDMmZD1cIikuY29uY2F0KGkpOlwiaHR0cHM6Ly9cIi5jb25jYXQodihcIk5FV19SRVBPUlRfU0VSVkVSX0RPTUFJTlNcIilbMF0sXCIvXCIpLmNvbmNhdChpKTtmb3IobGV0IG89MDtvPDI7bys9MSl7bz09PTEmJihyPXRoaXMucHJveHlTZXJ2ZXI/XCJodHRwczovL1wiLmNvbmNhdCh0aGlzLnByb3h5U2VydmVyLFwiL3JzLz9oPVwiKS5jb25jYXQodihcIk5FV19SRVBPUlRfU0VSVkVSX0RPTUFJTlNcIilbMV0sXCImcD00NDMmZD1cIikuY29uY2F0KGkpOlwiaHR0cHM6Ly9cIi5jb25jYXQodihcIk5FV19SRVBPUlRfU0VSVkVSX0RPTUFJTlNcIilbMV0sXCIvXCIpLmNvbmNhdChpKSk7dHJ5e2F3YWl0IExFKHIse3RpbWVvdXQ6MWU0LGRhdGE6bihlKSxoZWFkZXJzOm90KG90KHtiaXo6XCJ3ZWJydGNcIixzZW5kdHM6TWF0aC5yb3VuZChEYXRlLm5vdygpLzFlMyksZGVidWc6XCJmYWxzZVwifSx0aGlzLl9hcHBJZCYme2FwcGlkOnRoaXMuX2FwcElkfSkse30se1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIn0pfSwhMCk7fWNhdGNoKHMpe2lmKG89PT0xKXRocm93IHM7Y29udGludWV9cmV0dXJufX1hc3luYyBwb3N0RGF0YVRvU3RhdHNDb2xsZWN0b3IoZSl7bGV0IG49YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDAmJmFyZ3VtZW50c1sxXSxpPXttc2dUeXBlOlwiRXZlbnRNZXNzYWdlc1wiLHNlbnRUczpNYXRoLnJvdW5kKERhdGUubm93KCkvMWUzKSxwYXlsb2FkczplLm1hcChzPT5KU09OLnN0cmluZ2lmeShzKSksdmlkOihzPT57bGV0IGE9cyYmcy5kYXRhLnNpZCYmdGhpcy5iYXNlSW5mb01hcC5nZXQocy5kYXRhLnNpZCk7cmV0dXJuIGEmJmEuaW5mby52aWQmJithLmluZm8udmlkfHwwfSkoZVswXSl9O2hlLm5ldHdvcmtTdGF0ZT09PXduLk9GRkxJTkUmJmF3YWl0IGoucmFjZShbaGUub25saW5lV2FpdGVyLE1lKDIqRWUubWF4UmV0cnlUaW1lb3V0KV0pO2xldCByPW4/XCIvZXZlbnRzL3Byb3RvLXJhd3NcIjpcIi9ldmVudHMvbWVzc2FnZXNcIixvPXRoaXMudXJsfHwodGhpcy5wcm94eVNlcnZlcj9cImh0dHBzOi8vXCIuY29uY2F0KHRoaXMucHJveHlTZXJ2ZXIsXCIvcnMvP2g9XCIpLmNvbmNhdCh2KFwiRVZFTlRfUkVQT1JUX0RPTUFJTlwiKSxcIiZwPVwiKS5jb25jYXQodihcIlNUQVRTX0NPTExFQ1RPUl9QT1JUXCIpLFwiJmQ9XCIpLmNvbmNhdChyKTpcImh0dHBzOi8vXCIuY29uY2F0KHYoXCJFVkVOVF9SRVBPUlRfRE9NQUlOXCIpLFwiOlwiKS5jb25jYXQodihcIlNUQVRTX0NPTExFQ1RPUl9QT1JUXCIpKS5jb25jYXQocikpO2ZvcihsZXQgcz0wO3M8MjtzKz0xKXtzPT09MSYmKG89dGhpcy5iYWNrdXBVcmx8fCh0aGlzLnByb3h5U2VydmVyP1wiaHR0cHM6Ly9cIi5jb25jYXQodGhpcy5wcm94eVNlcnZlcixcIi9ycy8/aD1cIikuY29uY2F0KHYoXCJFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTlwiKSxcIiZwPVwiKS5jb25jYXQodihcIlNUQVRTX0NPTExFQ1RPUl9QT1JUXCIpLFwiJmQ9XCIpLmNvbmNhdChyKTpcImh0dHBzOi8vXCIuY29uY2F0KHYoXCJFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTlwiKSxcIjpcIikuY29uY2F0KHYoXCJTVEFUU19DT0xMRUNUT1JfUE9SVFwiKSkuY29uY2F0KHIpKSk7dHJ5e24/YXdhaXQgZ0Iobyx7dGltZW91dDoxZTQsZGF0YTppfSk6YXdhaXQgTEUobyx7dGltZW91dDoxZTQsZGF0YTppfSk7fWNhdGNoKGEpe2lmKHM9PT0xKXRocm93IGE7Y29udGludWV9cmV0dXJufX1jcmVhdGVCYXNlSW5mbyhlLG4pe2xldCBpPU9iamVjdC5hc3NpZ24oe30sQ0IpO3JldHVybiBpLnNpZD1lLHRoaXMuYmFzZUluZm9NYXAuc2V0KGUse2luZm86aSxzdGFydFRpbWU6bn0pLGl9cmVwb3J0UmVzb3VyY2VUaW1pbmcoZSxuKXtsZXQgaT1wZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlOYW1lKGUpLHI9aVtpLmxlbmd0aC0xXTtyJiZ0aGlzLnJlcG9ydEFwaUludm9rZShuLHtuYW1lOlwiQ2xpZW50LnJlc291cmNlVGltaW5nXCIsb3B0aW9uczpyLHRhZzpadC5UUkFDRVJ9KS5vblN1Y2Nlc3MoKTt9fTtmdW5jdGlvbiAkKCl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT12b2lkIDA/YXJndW1lbnRzWzBdOnt9O3JldHVybiBmdW5jdGlvbihlLG4saSl7bGV0IHI9aS52YWx1ZTtpZih0eXBlb2Ygcj09XCJmdW5jdGlvblwiKXtsZXQgbz10LmNsYXNzTmFtZXx8ZS5fX2NsYXNzTmFtZV9ffHwoZS5jb25zdHJ1Y3Rvci5uYW1lPT09XCJBZ29yYVJUQ0NsaWVudFwiP1wiQ2xpZW50XCI6ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpLnZhbHVlPWZ1bmN0aW9uKCl7Zm9yKHZhciBzPWFyZ3VtZW50cy5sZW5ndGgsYT1uZXcgQXJyYXkocyksYz0wO2M8cztjKyspYVtjXT1hcmd1bWVudHNbY107bGV0IGQ9YTtpZih0LmFyZ3NNYXApdHJ5e2Q9dC5hcmdzTWFwKHRoaXMsLi4uYSk7fWNhdGNoKHUpe18ud2FybmluZyh1KSxkPVtdO310cnl7SlNPTi5zdHJpbmdpZnkoZCk7fWNhdGNoe18ud2FybmluZyhcImFyZ3VtZW50cyBmb3IgbWV0aG9kIFwiLmNvbmNhdChvLFwiLlwiKS5jb25jYXQoU3RyaW5nKG4pLFwiIG5vdCBzZXJpYWxpemFibGUgZm9yIGFwaUludm9rZS5cIikpLGQ9W107fWxldCBsPSh0LnJlcG9ydHx8WCkucmVwb3J0QXBpSW52b2tlKHRoaXMuX3Nlc3Npb25JZHx8bnVsbCx7bmFtZTpcIlwiLmNvbmNhdChvLFwiLlwiKS5jb25jYXQoU3RyaW5nKG4pKSxvcHRpb25zOmQsdGFnOlp0LlRSQUNFUixyZXBvcnRSZXN1bHQ6dC5yZXBvcnRSZXN1bHR9LHQudGhyb3R0bGVUaW1lKTt0cnl7bGV0IHU9ci5hcHBseSh0aGlzLGEpO3JldHVybiB1IGluc3RhbmNlb2Ygaj91LnRoZW4oaD0+KGwub25TdWNjZXNzKHQucmVwb3J0UmVzdWx0JiZoKSxoKSkuY2F0Y2goaD0+e3Rocm93IGwub25FcnJvcihoKSxofSk6KGwub25TdWNjZXNzKHQucmVwb3J0UmVzdWx0JiZ1KSx1KX1jYXRjaCh1KXt0aHJvdyBsLm9uRXJyb3IodSksdX19O31yZXR1cm4gaX19cmUoYmMsXCJfX0NMSUVOVF9MSVNUX19cIixbXSk7dmFyIFg9bmV3IGJjO3dPLm9uKFwiUkVQT1JUX0xPR19VUExPQURcIix0PT57dC5uZXR3b3JrU3RhdGU9aGUubmV0d29ya1N0YXRlLFgucmVwb3J0QXBpSW52b2tlKG51bGwse25hbWU6XCJsb2dVcGxvYWRFcnJvclwiLG9wdGlvbnM6dCx0YWc6WnQuVFJBQ0VSfSkub25TdWNjZXNzKFwibG9nVXBsb2FkRXJyb3JcIik7fSk7dmFyIHZCPVtcIkNISU5BXCIsXCJHTE9CQUxcIl0sVmU9ZnVuY3Rpb24oKXtsZXQgdD1cInVzXCIuY29uY2F0KFwiZXJuYVwiLFwibWVcIiksZT1cInBhXCIuY29uY2F0KFwic3N3b1wiLFwicmRcIiksbj1bXCJ0XCIsXCJzXCIsXCJ0XCJdO24uc3BsaWNlKDEsMCxcImVcIik7bGV0IGk9bi5qb2luKFwiXCIpLHI9W107Zm9yKGxldCBhPTA7YTw2O2ErKylyLnB1c2goXCIxXCIpO2xldCBvPXIuam9pbihcIlwiKSxzPXt9O3JldHVybiBzW3RdPWksc1tlXT1vLE9iamVjdC5hc3NpZ24ocyx7dHVyblNlcnZlclVSTDpcIlwiLHRjcHBvcnQ6MzQzMyx1ZHBwb3J0OjM0NzgsZm9yY2V0dXJuOiExfSl9KCk7d2luZG93LkRFRkFVTFRfVFVSTl9DT05GSUc9VmUscGZ8fChvZS5XRUJDU19ET01BSU49W1wiYXAtd2ViLTEtb3ZlcnNlYS5hZ29yYS5pb1wiLFwiYXAtd2ViLTEtbm9ydGgtYW1lcmljYS5hZ29yYS5pb1wiXSxvZS5XRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q9W1wiYXAtd2ViLTItb3ZlcnNlYS5hZ29yYS5pb1wiLFwiYXAtd2ViLTItbm9ydGgtYW1lcmljYS5hZ29yYS5pb1wiXSxvZS5QUk9YWV9DUz1bXCJwcm94eS1hcC13ZWItb3ZlcnNlYS5hZ29yYS5pb1wiLFwicHJveHktYXAtd2ViLWFtZXJpY2EuYWdvcmEuaW9cIl0sb2UuQ0RTX0FQPVtcImNkcy1hcC13ZWItb3ZlcnNlYS5hZ29yYS5pb1wiLFwiY2RzLWFwLXdlYi1hbWVyaWNhLmFnb3JhLmlvXCIsXCJjZHMtYXAtd2ViLWFtZXJpY2EyLmFnb3JhLmlvXCJdLG9lLkFDQ09VTlRfUkVHSVNURVI9W1wic3VhLWFwLXdlYi1vdmVyc2VhLmFnb3JhLmlvXCIsXCJzdWEtYXAtd2ViLWFtZXJpY2EuYWdvcmEuaW9cIixcInN1YS1hcC13ZWItYW1lcmljYTIuYWdvcmEuaW9cIl0sb2UuVUFQX0FQPVtcInVhcC1hcC13ZWItb3ZlcnNlYS5hZ29yYS5pb1wiLFwidWFwLWFwLXdlYi1hbWVyaWNhLmFnb3JhLmlvXCIsXCJ1YXAtYXAtd2ViLWFtZXJpY2EyLmFnb3JhLmlvXCJdLG9lLkxPR19VUExPQURfU0VSVkVSPVwibG9nc2VydmljZS1vdmVyc2VhLmFnb3JhLmlvXCIsb2UuRVZFTlRfUkVQT1JUX0RPTUFJTj1cInN0YXRzY29sbGVjdG9yLTEtb3ZlcnNlYS5hZ29yYS5pb1wiLG9lLkVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOPVwic3RhdHNjb2xsZWN0b3ItMi1vdmVyc2VhLmFnb3JhLmlvXCIsb2UuUFJPWFlfU0VSVkVSX1RZUEUzPVwid2VicnRjLWNsb3VkLXByb3h5LmFnb3JhLmlvXCIsb2UuQVJFQVM9W1wiTk9SVEhfQU1FUklDQVwiLFwiT1ZFUlNFQVwiXSk7dmFyIE9PPVtbMCwxLDIsMyw0LDUsNV0sWzAsMiwyLDMsNCw1LDVdLFswLDMsMywzLDQsNSw1XSxbMCw0LDQsNCw0LDUsNV0sWzAsNSw1LDUsNSw1LDVdXSxKcj1bXTtmdW5jdGlvbiBJbyh0LGUpe3JldHVybiAhIWUmJkpyLnNvbWUobj0+bi51aWQ9PT10JiZuLmNoYW5uZWxOYW1lPT09ZSl9YmMuX19DTElFTlRfTElTVF9fPUpyO3ZhciB5Qj1idy5mb3JFYWNoLE5SPU51KFwiZm9yRWFjaFwiKT9bXS5mb3JFYWNoOmZ1bmN0aW9uKHQpe3JldHVybiB5Qih0aGlzLHQsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfTt4dCh7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6W10uZm9yRWFjaCE9TlJ9LHtmb3JFYWNoOk5SfSk7dmFyIEFCPWJpKFwiQXJyYXlcIikuZm9yRWFjaCxiQj1Fcix3Qj1KZSxPQj1obixOQj1BQixEcD1BcnJheS5wcm90b3R5cGUsREI9e0RPTVRva2VuTGlzdDohMCxOb2RlTGlzdDohMH0sUEI9ZnVuY3Rpb24odCl7dmFyIGU9dC5mb3JFYWNoO3JldHVybiB0PT09RHB8fE9CKERwLHQpJiZlPT09RHAuZm9yRWFjaHx8d0IoREIsYkIodCkpP05COmV9LGtCPWFlKFBCKSxMQj1fcixEUj1MdTt4dCh7dGFyZ2V0OlwiT2JqZWN0XCIsc3RhdDohMCxmb3JjZWQ6U2UoZnVuY3Rpb24oKXtEUigxKTt9KX0se2tleXM6ZnVuY3Rpb24odCl7cmV0dXJuIERSKExCKHQpKX19KTt2YXIgTk89YWUoR2kuT2JqZWN0LmtleXMpLE1CPWFlKFZBKSxVQj14dCx4Qj1uZCxWQj1tZShbXS5yZXZlcnNlKSxQUj1bMSwyXTtVQih7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6U3RyaW5nKFBSKT09PVN0cmluZyhQUi5yZXZlcnNlKCkpfSx7cmV2ZXJzZTpmdW5jdGlvbigpe3JldHVybiB4Qih0aGlzKSYmKHRoaXMubGVuZ3RoPXRoaXMubGVuZ3RoKSxWQih0aGlzKX19KTt2YXIgRkI9YmkoXCJBcnJheVwiKS5yZXZlcnNlLEJCPWhuLGpCPUZCLFBwPUFycmF5LnByb3RvdHlwZSxHQj1mdW5jdGlvbih0KXt2YXIgZT10LnJldmVyc2U7cmV0dXJuIHQ9PT1QcHx8QkIoUHAsdCkmJmU9PT1QcC5yZXZlcnNlP2pCOmV9LERPPUdCLFdCPWFlKERPKSxIQj14dCxrUj1uZCxLQj14dSxZQj1IbixMUj1PbSxxQj1Mcix6Qj1FbyxKQj1CdSxYQj1wZSxRQj1HbSxaQj1JdyhcInNsaWNlXCIpLCRCPVhCKFwic3BlY2llc1wiKSxrcD1BcnJheSx0aj1NYXRoLm1heDtIQih7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6IVpCfSx7c2xpY2U6ZnVuY3Rpb24odCxlKXt2YXIgbixpLHIsbz16Qih0aGlzKSxzPXFCKG8pLGE9TFIodCxzKSxjPUxSKGU9PT12b2lkIDA/czplLHMpO2lmKGtSKG8pJiYobj1vLmNvbnN0cnVjdG9yLChLQihuKSYmKG49PT1rcHx8a1Iobi5wcm90b3R5cGUpKXx8WUIobikmJihuPW5bJEJdKT09PW51bGwpJiYobj12b2lkIDApLG49PT1rcHx8bj09PXZvaWQgMCkpcmV0dXJuIFFCKG8sYSxjKTtmb3IoaT1uZXcobj09PXZvaWQgMD9rcDpuKSh0aihjLWEsMCkpLHI9MDthPGM7YSsrLHIrKylhIGluIG8mJkpCKGkscixvW2FdKTtyZXR1cm4gaS5sZW5ndGg9cixpfX0pO3ZhciBlaj1iaShcIkFycmF5XCIpLnNsaWNlLG5qPWhuLGlqPWVqLExwPUFycmF5LnByb3RvdHlwZSxyaj1mdW5jdGlvbih0KXt2YXIgZT10LnNsaWNlO3JldHVybiB0PT09THB8fG5qKExwLHQpJiZlPT09THAuc2xpY2U/aWo6ZX0sb2o9YWUocmopO2Z1bmN0aW9uIHEodCxlLG4saSxyKXt2YXIgbyxzLGEsYz17fTtyZXR1cm4ga0Iobz1OTyhpKSkuY2FsbChvLGZ1bmN0aW9uKGQpe2NbZF09aVtkXTt9KSxjLmVudW1lcmFibGU9ISFjLmVudW1lcmFibGUsYy5jb25maWd1cmFibGU9ISFjLmNvbmZpZ3VyYWJsZSwoXCJ2YWx1ZVwiaW4gY3x8Yy5pbml0aWFsaXplcikmJihjLndyaXRhYmxlPSEwKSxjPU1CKHM9V0IoYT1vaihuKS5jYWxsKG4pKS5jYWxsKGEpKS5jYWxsKHMsZnVuY3Rpb24oZCxsKXtyZXR1cm4gbCh0LGUsZCl8fGR9LGMpLHImJmMuaW5pdGlhbGl6ZXIhPT12b2lkIDAmJihjLnZhbHVlPWMuaW5pdGlhbGl6ZXI/Yy5pbml0aWFsaXplci5jYWxsKHIpOnZvaWQgMCxjLmluaXRpYWxpemVyPXZvaWQgMCksYy5pbml0aWFsaXplcj09PXZvaWQgMCYmKFJ3KHQsZSxjKSxjPW51bGwpLGN9dmFyIHhFPWZ1bmN0aW9uKHQpe3JldHVybiB0LkwxVDE9XCJMMVQxXCIsdC5MMVQyPVwiTDFUMlwiLHQuTDFUMz1cIkwxVDNcIix0LkwxVDNfS0VZPVwiTDFUM19LRVlcIix0LkwyVDFfS0VZPVwiTDJUMV9LRVlcIix0LkwyVDJfS0VZPVwiTDJUMl9LRVlcIix0LkwyVDNfS0VZPVwiTDJUM19LRVlcIix0LkwzVDFfS0VZPVwiTDNUMV9LRVlcIix0LkwzVDJfS0VZPVwiTDNUMl9LRVlcIix0LkwzVDNfS0VZPVwiTDNUM19LRVlcIix0fSh7fSksa249ZnVuY3Rpb24odCl7cmV0dXJuIHQuQ0VSVElGSUNBVEU9XCJjZXJ0aWZpY2F0ZVwiLHQuQ09ERUM9XCJjb2RlY1wiLHQuQ0FORElEQVRFX1BBSVI9XCJjYW5kaWRhdGUtcGFpclwiLHQuTE9DQUxfQ0FORElEQVRFPVwibG9jYWwtY2FuZGlkYXRlXCIsdC5SRU1PVEVfQ0FORElEQVRFPVwicmVtb3RlLWNhbmRpZGF0ZVwiLHQuSU5CT1VORD1cImluYm91bmQtcnRwXCIsdC5UUkFDSz1cInRyYWNrXCIsdC5PVVRCT1VORD1cIm91dGJvdW5kLXJ0cFwiLHQuUEM9XCJwZWVyLWNvbm5lY3Rpb25cIix0LlJFTU9URV9JTkJPVU5EPVwicmVtb3RlLWluYm91bmQtcnRwXCIsdC5SRU1PVEVfT1VUQk9VTkQ9XCJyZW1vdGUtb3V0Ym91bmQtcnRwXCIsdC5UUkFOU1BPUlQ9XCJ0cmFuc3BvcnRcIix0LkNTUkM9XCJjc3JjXCIsdC5EQVRBX0NIQU5ORUw9XCJkYXRhLWNoYW5uZWxcIix0LlNUUkVBTT1cInN0cmVhbVwiLHQuU0VOREVSPVwic2VuZGVyXCIsdC5SRUNFSVZFUj1cInJlY2VpdmVyXCIsdH0oe30pLGdsPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuQUNDRVNTX1BPSU5UPTEwMV09XCJBQ0NFU1NfUE9JTlRcIix0W3QuVU5JTEJTPTIwMV09XCJVTklMQlNcIix0W3QuU1RSSU5HX1VJRF9BTExPQ0FUT1I9OTAxXT1cIlNUUklOR19VSURfQUxMT0NBVE9SXCIsdH0oe30pLE1wPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuSUlJRUdBTF9BUFBJRD0xXT1cIklJSUVHQUxfQVBQSURcIix0W3QuSUlJRUdBTF9VSUQ9Ml09XCJJSUlFR0FMX1VJRFwiLHRbdC5JTlRFUk5BTF9FUlJPUj0zXT1cIklOVEVSTkFMX0VSUk9SXCIsdH0oe30pLGNpPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuSU5WQUxJRF9WRU5ET1JfS0VZPTVdPVwiSU5WQUxJRF9WRU5ET1JfS0VZXCIsdFt0LklOVkFMSURfQ0hBTk5FTF9OQU1FPTddPVwiSU5WQUxJRF9DSEFOTkVMX05BTUVcIix0W3QuSU5URVJOQUxfRVJST1I9OF09XCJJTlRFUk5BTF9FUlJPUlwiLHRbdC5OT19BVVRIT1JJWkVEPTldPVwiTk9fQVVUSE9SSVpFRFwiLHRbdC5EWU5BTUlDX0tFWV9USU1FT1VUPTEwXT1cIkRZTkFNSUNfS0VZX1RJTUVPVVRcIix0W3QuTk9fQUNUSVZFX1NUQVRVUz0xMV09XCJOT19BQ1RJVkVfU1RBVFVTXCIsdFt0LkRZTkFNSUNfS0VZX0VYUElSRUQ9MTNdPVwiRFlOQU1JQ19LRVlfRVhQSVJFRFwiLHRbdC5TVEFUSUNfVVNFX0RZTkFNSUNfS0VZPTE0XT1cIlNUQVRJQ19VU0VfRFlOQU1JQ19LRVlcIix0W3QuRFlOQU1JQ19VU0VfU1RBVElDX0tFWT0xNV09XCJEWU5BTUlDX1VTRV9TVEFUSUNfS0VZXCIsdFt0LlVTRVJfT1ZFUkxPQUQ9MTZdPVwiVVNFUl9PVkVSTE9BRFwiLHRbdC5GT1JCSURERU5fUkVHSU9OPTE4XT1cIkZPUkJJRERFTl9SRUdJT05cIix0W3QuQ0FOTk9UX01FRVRfQVJFQV9ERU1BTkQ9MTldPVwiQ0FOTk9UX01FRVRfQVJFQV9ERU1BTkRcIix0fSh7fSksb249ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5OT19GTEFHX1NFVD0xMDBdPVwiTk9fRkxBR19TRVRcIix0W3QuRkxBR19TRVRfQlVUX0VNUFRZPTEwMV09XCJGTEFHX1NFVF9CVVRfRU1QVFlcIix0W3QuSU5WQUxJRF9GQUxHX1NFVD0xMDJdPVwiSU5WQUxJRF9GQUxHX1NFVFwiLHRbdC5GTEFHX1NFVF9CVVRfTk9fUkU9MTAzXT1cIkZMQUdfU0VUX0JVVF9OT19SRVwiLHRbdC5JTlZBTElEX1NFUlZJQ0VfSUQ9MTA0XT1cIklOVkFMSURfU0VSVklDRV9JRFwiLHRbdC5OT19TRVJWSUNFX0FWQUlMQUJMRT0yMDBdPVwiTk9fU0VSVklDRV9BVkFJTEFCTEVcIix0W3QuTk9fU0VSVklDRV9BVkFJTEFCTEVfUDJQPTIwMV09XCJOT19TRVJWSUNFX0FWQUlMQUJMRV9QMlBcIix0W3QuTk9fU0VSVklDRV9BVkFJTEFCTEVfVk9JQ0U9MjAyXT1cIk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1ZPSUNFXCIsdFt0Lk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1dFQlJUQz0yMDNdPVwiTk9fU0VSVklDRV9BVkFJTEFCTEVfV0VCUlRDXCIsdFt0Lk5PX1NFUlZJQ0VfQVZBSUxBQkxFX0NEUz0yMDRdPVwiTk9fU0VSVklDRV9BVkFJTEFCTEVfQ0RTXCIsdFt0Lk5PX1NFUlZJQ0VfQVZBSUxBQkxFX0NETj0yMDVdPVwiTk9fU0VSVklDRV9BVkFJTEFCTEVfQ0ROXCIsdFt0Lk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1REUz0yMDZdPVwiTk9fU0VSVklDRV9BVkFJTEFCTEVfVERTXCIsdFt0Lk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1JFUE9SVD0yMDddPVwiTk9fU0VSVklDRV9BVkFJTEFCTEVfUkVQT1JUXCIsdFt0Lk5PX1NFUlZJQ0VfQVZBSUxBQkxFX0FQUF9DRU5URVI9MjA4XT1cIk5PX1NFUlZJQ0VfQVZBSUxBQkxFX0FQUF9DRU5URVJcIix0W3QuTk9fU0VSVklDRV9BVkFJTEFCTEVfRU5WMD0yMDldPVwiTk9fU0VSVklDRV9BVkFJTEFCTEVfRU5WMFwiLHRbdC5OT19TRVJWSUNFX0FWQUlMQUJMRV9WT0VUPTIxMF09XCJOT19TRVJWSUNFX0FWQUlMQUJMRV9WT0VUXCIsdFt0Lk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1NUUklOR19VSUQ9MjExXT1cIk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1NUUklOR19VSURcIix0W3QuTk9fU0VSVklDRV9BVkFJTEFCTEVfV0VCUlRDX1VOSUxCUz0yMTJdPVwiTk9fU0VSVklDRV9BVkFJTEFCTEVfV0VCUlRDX1VOSUxCU1wiLHRbdC5OT19TRVJWSUNFX0FWQUlMQUJMRV9VTklMQlNfRkxWPTIxM109XCJOT19TRVJWSUNFX0FWQUlMQUJMRV9VTklMQlNfRkxWXCIsdH0oe30pLFo9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5LX1RJTUVTVEFNUF9FWFBJUkVEPTJdPVwiS19USU1FU1RBTVBfRVhQSVJFRFwiLHRbdC5LX0NIQU5ORUxfUEVSTUlTU0lPTl9JTlZBTElEPTNdPVwiS19DSEFOTkVMX1BFUk1JU1NJT05fSU5WQUxJRFwiLHRbdC5LX0NFUlRJRklDQVRFX0lOVkFMSUQ9NF09XCJLX0NFUlRJRklDQVRFX0lOVkFMSURcIix0W3QuS19DSEFOTkVMX05BTUVfRU1QVFk9NV09XCJLX0NIQU5ORUxfTkFNRV9FTVBUWVwiLHRbdC5LX0NIQU5ORUxfTk9UX0ZPVU5EPTZdPVwiS19DSEFOTkVMX05PVF9GT1VORFwiLHRbdC5LX1RJQ0tFVF9JTlZBTElEPTddPVwiS19USUNLRVRfSU5WQUxJRFwiLHRbdC5LX0NIQU5ORUxfQ09ORkxJQ1RFRD04XT1cIktfQ0hBTk5FTF9DT05GTElDVEVEXCIsdFt0LktfU0VSVklDRV9OT1RfUkVBRFk9OV09XCJLX1NFUlZJQ0VfTk9UX1JFQURZXCIsdFt0LktfU0VSVklDRV9UT09fSEVBVlk9MTBdPVwiS19TRVJWSUNFX1RPT19IRUFWWVwiLHRbdC5LX1VJRF9CQU5ORUQ9MTRdPVwiS19VSURfQkFOTkVEXCIsdFt0LktfSVBfQkFOTkVEPTE1XT1cIktfSVBfQkFOTkVEXCIsdFt0LktfQ0hBTk5FTF9CQU5ORUQ9MTZdPVwiS19DSEFOTkVMX0JBTk5FRFwiLHRbdC5LX0FVVE9fUkVCQUxBTkNFPTI4XT1cIktfQVVUT19SRUJBTEFOQ0VcIix0W3QuV0FSTl9OT19BVkFJTEFCTEVfQ0hBTk5FTD0xMDNdPVwiV0FSTl9OT19BVkFJTEFCTEVfQ0hBTk5FTFwiLHRbdC5XQVJOX0xPT0tVUF9DSEFOTkVMX1RJTUVPVVQ9MTA0XT1cIldBUk5fTE9PS1VQX0NIQU5ORUxfVElNRU9VVFwiLHRbdC5XQVJOX0xPT0tVUF9DSEFOTkVMX1JFSkVDVEVEPTEwNV09XCJXQVJOX0xPT0tVUF9DSEFOTkVMX1JFSkVDVEVEXCIsdFt0LldBUk5fT1BFTl9DSEFOTkVMX1RJTUVPVVQ9MTA2XT1cIldBUk5fT1BFTl9DSEFOTkVMX1RJTUVPVVRcIix0W3QuV0FSTl9PUEVOX0NIQU5ORUxfUkVKRUNURUQ9MTA3XT1cIldBUk5fT1BFTl9DSEFOTkVMX1JFSkVDVEVEXCIsdFt0LldBUk5fUkVRVUVTVF9ERUZFUlJFRD0xMDhdPVwiV0FSTl9SRVFVRVNUX0RFRkVSUkVEXCIsdFt0LkVSUl9EWU5BTUlDX0tFWV9USU1FT1VUPTEwOV09XCJFUlJfRFlOQU1JQ19LRVlfVElNRU9VVFwiLHRbdC5FUlJfTk9fQVVUSE9SSVpFRD0xMTBdPVwiRVJSX05PX0FVVEhPUklaRURcIix0W3QuRVJSX1ZPTV9TRVJWSUNFX1VOQVZBSUxBQkxFPTExMV09XCJFUlJfVk9NX1NFUlZJQ0VfVU5BVkFJTEFCTEVcIix0W3QuRVJSX05PX0NIQU5ORUxfQVZBSUxBQkxFX0NPREU9MTEyXT1cIkVSUl9OT19DSEFOTkVMX0FWQUlMQUJMRV9DT0RFXCIsdFt0LkVSUl9NQVNURVJfVk9DU19VTkFWQUlMQUJMRT0xMTRdPVwiRVJSX01BU1RFUl9WT0NTX1VOQVZBSUxBQkxFXCIsdFt0LkVSUl9JTlRFUk5BTF9FUlJPUj0xMTVdPVwiRVJSX0lOVEVSTkFMX0VSUk9SXCIsdFt0LkVSUl9OT19BQ1RJVkVfU1RBVFVTPTExNl09XCJFUlJfTk9fQUNUSVZFX1NUQVRVU1wiLHRbdC5FUlJfSU5WQUxJRF9VSUQ9MTE3XT1cIkVSUl9JTlZBTElEX1VJRFwiLHRbdC5FUlJfRFlOQU1JQ19LRVlfRVhQSVJFRD0xMThdPVwiRVJSX0RZTkFNSUNfS0VZX0VYUElSRURcIix0W3QuRVJSX1NUQVRJQ19VU0VfRFlBTk1JQ19LRT0xMTldPVwiRVJSX1NUQVRJQ19VU0VfRFlBTk1JQ19LRVwiLHRbdC5FUlJfRFlOQU1JQ19VU0VfU1RBVElDX0tFPTEyMF09XCJFUlJfRFlOQU1JQ19VU0VfU1RBVElDX0tFXCIsdFt0LkVSUl9OT19WT0NTX0FWQUlMQUJMRT0yZTNdPVwiRVJSX05PX1ZPQ1NfQVZBSUxBQkxFXCIsdFt0LkVSUl9OT19WT1NfQVZBSUxBQkxFPTIwMDFdPVwiRVJSX05PX1ZPU19BVkFJTEFCTEVcIix0W3QuRVJSX0pPSU5fQ0hBTk5FTF9USU1FT1VUPTIwMDJdPVwiRVJSX0pPSU5fQ0hBTk5FTF9USU1FT1VUXCIsdFt0LkVSUl9SRVBFQVRfSk9JTl9DSEFOTkVMPTIwMDNdPVwiRVJSX1JFUEVBVF9KT0lOX0NIQU5ORUxcIix0W3QuRVJSX0pPSU5fQllfTVVMVElfSVA9MjAwNF09XCJFUlJfSk9JTl9CWV9NVUxUSV9JUFwiLHRbdC5FUlJfTk9UX0pPSU5FRD0yMDExXT1cIkVSUl9OT1RfSk9JTkVEXCIsdFt0LkVSUl9SRVBFQVRfSk9JTl9SRVFVRVNUPTIwMTJdPVwiRVJSX1JFUEVBVF9KT0lOX1JFUVVFU1RcIix0W3QuRVJSX0lOVkFMSURfVkVORE9SX0tFWT0yMDEzXT1cIkVSUl9JTlZBTElEX1ZFTkRPUl9LRVlcIix0W3QuRVJSX0lOVkFMSURfQ0hBTk5FTF9OQU1FPTIwMTRdPVwiRVJSX0lOVkFMSURfQ0hBTk5FTF9OQU1FXCIsdFt0LkVSUl9JTlZBTElEX1NUUklOR1VJRD0yMDE1XT1cIkVSUl9JTlZBTElEX1NUUklOR1VJRFwiLHRbdC5FUlJfVE9PX01BTllfVVNFUlM9MjAxNl09XCJFUlJfVE9PX01BTllfVVNFUlNcIix0W3QuRVJSX1NFVF9DTElFTlRfUk9MRV9USU1FT1VUPTIwMTddPVwiRVJSX1NFVF9DTElFTlRfUk9MRV9USU1FT1VUXCIsdFt0LkVSUl9TRVRfQ0xJRU5UX1JPTEVfTk9fUEVSTUlTU0lPTj0yMDE4XT1cIkVSUl9TRVRfQ0xJRU5UX1JPTEVfTk9fUEVSTUlTU0lPTlwiLHRbdC5FUlJfU0VUX0NMSUVOVF9ST0xFX0FMUkVBRFlfSU5fVVNFPTIwMTldPVwiRVJSX1NFVF9DTElFTlRfUk9MRV9BTFJFQURZX0lOX1VTRVwiLHRbdC5FUlJfUFVCTElTSF9SRVFVRVNUX0lOVkFMSUQ9MjAyMF09XCJFUlJfUFVCTElTSF9SRVFVRVNUX0lOVkFMSURcIix0W3QuRVJSX1NVQlNDUklCRV9SRVFVRVNUX0lOVkFMSUQ9MjAyMV09XCJFUlJfU1VCU0NSSUJFX1JFUVVFU1RfSU5WQUxJRFwiLHRbdC5FUlJfTk9UX1NVUFBPUlRFRF9NRVNTQUdFPTIwMjJdPVwiRVJSX05PVF9TVVBQT1JURURfTUVTU0FHRVwiLHRbdC5FUlJfSUxMRUFHQUxfUExVR0lOPTIwMjNdPVwiRVJSX0lMTEVBR0FMX1BMVUdJTlwiLHRbdC5FUlJfUkVKT0lOX1RPS0VOX0lOVkFMSUQ9MjAyNF09XCJFUlJfUkVKT0lOX1RPS0VOX0lOVkFMSURcIix0W3QuRVJSX1JFSk9JTl9VU0VSX05PVF9KT0lORUQ9MjAyNV09XCJFUlJfUkVKT0lOX1VTRVJfTk9UX0pPSU5FRFwiLHRbdC5FUlJfSU5WQUxJRF9PUFRJT05BTF9JTkZPPTIwMjddPVwiRVJSX0lOVkFMSURfT1BUSU9OQUxfSU5GT1wiLHRbdC5JTExFR0FMX0FFU19QQVNTV09SRD0yMDI4XT1cIklMTEVHQUxfQUVTX1BBU1NXT1JEXCIsdFt0LklMTEVHQUxfQ0xJRU5UX1JPTEVfTEVWRUw9MjAyOV09XCJJTExFR0FMX0NMSUVOVF9ST0xFX0xFVkVMXCIsdFt0LkVSUl9UT09fTUFOWV9CUk9BRENBU1RFUlM9MjAzMV09XCJFUlJfVE9PX01BTllfQlJPQURDQVNURVJTXCIsdFt0LkVSUl9UT09fTUFOWV9TVUJTQ1JJQkVSUz0yMDMyXT1cIkVSUl9UT09fTUFOWV9TVUJTQ1JJQkVSU1wiLHRbdC5FUlJfTElDRU5TRV9NSVNTSU5HPTMyNzY5XT1cIkVSUl9MSUNFTlNFX01JU1NJTkdcIix0W3QuRVJSX0xJQ0VOU0VfRVhQSVJFRD0zMjc3MV09XCJFUlJfTElDRU5TRV9FWFBJUkVEXCIsdFt0LkVSUl9MSUNFTlNFX01JTlVURVNfRVhDRUVERUQ9MzI3NzNdPVwiRVJSX0xJQ0VOU0VfTUlOVVRFU19FWENFRURFRFwiLHRbdC5FUlJfTElDRU5TRV9QRVJJT0RfSU5WQUxJRD0zMjc3NF09XCJFUlJfTElDRU5TRV9QRVJJT0RfSU5WQUxJRFwiLHRbdC5FUlJfTElDRU5TRV9NVUxUSVBMRV9TREtfU0VSVklDRT0zMjc3OF09XCJFUlJfTElDRU5TRV9NVUxUSVBMRV9TREtfU0VSVklDRVwiLHRbdC5FUlJfTElDRU5TRV9JTExFR0FMPTMyNzgzXT1cIkVSUl9MSUNFTlNFX0lMTEVHQUxcIix0W3QuRVJSX1RFU1RfUkVDT1ZFUj05ZTNdPVwiRVJSX1RFU1RfUkVDT1ZFUlwiLHRbdC5FUlJfVEVTVF9UUllORVhUPTkwMDFdPVwiRVJSX1RFU1RfVFJZTkVYVFwiLHRbdC5FUlJfVEVTVF9SRVRSWT05MDAyXT1cIkVSUl9URVNUX1JFVFJZXCIsdH0oe30pLEx0PWZ1bmN0aW9uKHQpe3JldHVybiB0LkNPTk5FQ1RJTkc9XCJjb25uZWN0aW5nXCIsdC5DT05ORUNURUQ9XCJjb25uZWN0ZWRcIix0LlJFQ09OTkVDVElORz1cInJlY29ubmVjdGluZ1wiLHQuQ0xPU0VEPVwiY2xvc2VkXCIsdH0oe30pLG50PWZ1bmN0aW9uKHQpe3JldHVybiB0LldTX0NPTk5FQ1RFRD1cIndzX2Nvbm5lY3RlZFwiLHQuV1NfUkVDT05ORUNUSU5HPVwid3NfcmVjb25uZWN0aW5nXCIsdC5XU19DTE9TRUQ9XCJ3c19jbG9zZWRcIix0LldTX1JFQ09OTkVDVF9XQUlUVElOR19GSU5JU0g9XCJ3c19yZWNvbm5lY3Rfd2FpdHRpbmdfZmluaXNoXCIsdC5XU19SRUNPTk5FQ1RfQ1JFQVRFX0NPTk5FQ1RJT049XCJ3c19yZWNvbm5lY3RfY3JlYXRlX2Nvbm5lY3Rpb25cIix0Lk9OX0JJTkFSWV9EQVRBPVwib25fYmluYXJ5X2RhdGFcIix0LlJFUVVFU1RfUkVDT1ZFUj1cInJlcXVlc3RfcmVjb3ZlclwiLHQuUkVRVUVTVF9KT0lOX0lORk89XCJyZXF1ZXN0X2pvaW5faW5mb1wiLHQuUkVRVUVTVF9SRUpPSU5fSU5GTz1cInJlcV9yZWpvaW5faW5mb1wiLHQuSVNfUDJQX0RJU0NPTk5FQ1RFRD1cImlzX3AycF9kaXNcIix0LkRJU0NPTk5FQ1RfUDJQPVwiZGlzX3AycFwiLHQuQUJPUlRfUDJQX0VYRUNVVElPTj1cImFib3J0X3AycF9leGVjdXRpb25cIix0Lk5FRURfUkVORVdfU0VTU0lPTj1cIm5lZWQtc2lkXCIsdC5SRVBPUlRfSk9JTl9HQVRFV0FZPVwicmVwb3J0X2pvaW5fZ2F0ZXdheVwiLHQuUkVRVUVTVF9USU1FT1VUPVwicmVxdWVzdF90aW1lb3V0XCIsdC5SRVFVRVNUX1NVQ0NFU1M9XCJyZXF1ZXN0X3N1Y2Nlc3NcIix0LkpPSU5fUkVTUE9OU0U9XCJqb2luX3Jlc3BvbnNlXCIsdC5QUkVfQ09OTkVDVF9QQz1cInByZV9jb25uZWN0X3BjXCIsdC5QMlBfQ09OTkVDVElPTj1cInAycF9jb25uZWN0aW9uXCIsdC5QMlBfUkVNT1RFX0NBTkRJREFURV9VUERBVEU9XCJwMnBfcmVtb3RlX2NhbmRpZGF0ZV91cGRhdGVcIix0LlAyUF9TVUJTQ1JJQkU9XCJwMnBfc3Vic2NyaWJlXCIsdC5QMlBfVU5TVUJTQ1JJQkU9XCJwMnBfdW5zdWJzY3JpYmVcIix0LlAyUF9FWENIQU5HRV9TRFA9XCJwMnBfZXhjaGFuZ2Vfc2RwXCIsdC5QMlBfT05fQUREX1ZJREVPX1NUUkVBTT1cInAycF9vbl9hZGRfdmlkZW9fc3RyZWFtXCIsdC5QMlBfT05fQUREX0FVRElPX1NUUkVBTT1cInAycF9vbl9hZGRfYXVkaW9fc3RyZWFtXCIsdH0oe30pLGV0PWZ1bmN0aW9uKHQpe3JldHVybiB0LlBJTkc9XCJwaW5nXCIsdC5QSU5HX0JBQ0s9XCJwaW5nX2JhY2tcIix0LkpPSU49XCJqb2luX3YzXCIsdC5SRUpPSU49XCJyZWpvaW5fdjNcIix0LkxFQVZFPVwibGVhdmVcIix0LlNFVF9DTElFTlRfUk9MRT1cInNldF9jbGllbnRfcm9sZVwiLHQuUFVCTElTSD1cInB1Ymxpc2hcIix0LlBVQkxJU0hfREFUQVNUUkVBTT1cInB1Ymxpc2hfZGF0YXN0cmVhbVwiLHQuVU5QVUJMSVNIPVwidW5wdWJsaXNoXCIsdC5VTlBVQkxJU0hfREFUQVNUUkVBTT1cInVucHVibGlzaF9kYXRhc3RyZWFtXCIsdC5TVUJTQ1JJQkU9XCJzdWJzY3JpYmVcIix0LlBSRV9TVUJTQ1JJQkU9XCJwcmVfc3Vic2NyaWJlXCIsdC5TVUJTQ1JJQkVfREFUQVNUUkVBTT1cInN1YnNjcmliZV9kYXRhc3RyZWFtXCIsdC5TVUJTQ1JJQkVfU1RSRUFNUz1cInN1YnNjcmliZV9zdHJlYW1zXCIsdC5VTlNVQlNDUklCRT1cInVuc3Vic2NyaWJlXCIsdC5VTlNVQlNDUklCRV9EQVRBU1RSRUFNPVwidW5zdWJzY3JpYmVfZGF0YXN0cmVhbVwiLHQuVU5TVUJTQ1JJQkVfU1RSRUFNUz1cInVuc3Vic2NyaWJlX3N0cmVhbXNcIix0LlNVQlNDUklCRV9DSEFOR0U9XCJzdWJzY3JpYmVfY2hhbmdlXCIsdC5UUkFGRklDX1NUQVRTPVwidHJhZmZpY19zdGF0c1wiLHQuUkVORVdfVE9LRU49XCJyZW5ld190b2tlblwiLHQuU1dJVENIX1ZJREVPX1NUUkVBTT1cInN3aXRjaF92aWRlb19zdHJlYW1cIix0LkRFRkFVTFRfVklERU9fU1RSRUFNPVwiZGVmYXVsdF92aWRlb19zdHJlYW1cIix0LlNFVF9GQUxMQkFDS19PUFRJT049XCJzZXRfZmFsbGJhY2tfb3B0aW9uXCIsdC5HQVRFV0FZX0lORk89XCJnYXRld2F5X2luZm9cIix0LkNPTlRST0w9XCJjb250cm9sXCIsdC5TRU5EX01FVEFEQVRBPVwic2VuZF9tZXRhZGF0YVwiLHQuREFUQV9TVFJFQU09XCJkYXRhX3N0cmVhbVwiLHQuUElDS19TVkNfTEFZRVI9XCJwaWNrX3N2Y19sYXllclwiLHQuUkVTVEFSVF9JQ0U9XCJyZXN0YXJ0X2ljZVwiLHQuQ09OTkVDVF9QQz1cImNvbm5lY3RfcGNcIix0LlNFVF9WSURFT19QUk9GSUxFPVwic2V0X3ZpZGVvX3Byb2ZpbGVcIix0LlNFVF9QQVJBTUVURVI9XCJzZXRfcGFyYW1ldGVyXCIsdC5TRVRfUlRNMl9GTEFHPVwic2V0X3J0bTJfZmxhZ1wiLHR9KHt9KSx3Yz1mdW5jdGlvbih0KXtyZXR1cm4gdC5XUlRDX1NUQVRTPVwid3J0Y19zdGF0c1wiLHQuV1NfSU5GTEFURV9EQVRBX0xFTkdUSD1cIndzX2luZmxhdGVfZGF0YV9sZW5ndGhcIix0LkRFTk9JU0VSX1NUQVRTPVwiZGVub2lzZXJfc3RhdHNcIix0LkVYVEVOU0lPTl9VU0FHRV9TVEFUUz1cImV4dGVuc2lvbl91c2FnZV9zdGF0c1wiLHR9KHt9KSxkdD1mdW5jdGlvbih0KXtyZXR1cm4gdC5PTl9VU0VSX09OTElORT1cIm9uX3VzZXJfb25saW5lXCIsdC5PTl9VU0VSX09GRkxJTkU9XCJvbl91c2VyX29mZmxpbmVcIix0Lk9OX1NUUkVBTV9GQUxMQkFDS19VUERBVEU9XCJvbl9zdHJlYW1fZmFsbGJhY2tfdXBkYXRlXCIsdC5PTl9QVUJMSVNIX1NUUkVBTT1cIm9uX3B1Ymxpc2hfc3RyZWFtXCIsdC5PTl9VUExJTktfU1RBVFM9XCJvbl91cGxpbmtfc3RhdHNcIix0Lk9OX1AyUF9MT1NUPVwib25fcDJwX2xvc3RcIix0Lk9OX1JFTU9WRV9TVFJFQU09XCJvbl9yZW1vdmVfc3RyZWFtXCIsdC5PTl9BRERfQVVESU9fU1RSRUFNPVwib25fYWRkX2F1ZGlvX3N0cmVhbVwiLHQuT05fQUREX1ZJREVPX1NUUkVBTT1cIm9uX2FkZF92aWRlb19zdHJlYW1cIix0Lk9OX1RPS0VOX1BSSVZJTEVHRV9XSUxMX0VYUElSRT1cIm9uX3Rva2VuX3ByaXZpbGVnZV93aWxsX2V4cGlyZVwiLHQuT05fVE9LRU5fUFJJVklMRUdFX0RJRF9FWFBJUkU9XCJvbl90b2tlbl9wcml2aWxlZ2VfZGlkX2V4cGlyZVwiLHQuT05fVVNFUl9CQU5ORUQ9XCJvbl91c2VyX2Jhbm5lZFwiLHQuT05fVVNFUl9MSUNFTlNFX0JBTk5FRD1cIm9uX3VzZXJfbGljZW5zZV9iYW5uZWRcIix0Lk9OX05PVElGSUNBVElPTj1cIm9uX25vdGlmaWNhdGlvblwiLHQuT05fQ1JZUFRfRVJST1I9XCJvbl9jcnlwdF9lcnJvclwiLHQuTVVURV9BVURJTz1cIm11dGVfYXVkaW9cIix0Lk1VVEVfVklERU89XCJtdXRlX3ZpZGVvXCIsdC5VTk1VVEVfQVVESU89XCJ1bm11dGVfYXVkaW9cIix0LlVOTVVURV9WSURFTz1cInVubXV0ZV92aWRlb1wiLHQuT05fUDJQX09LPVwib25fcDJwX29rXCIsdC5SRUNFSVZFX01FVEFEQVRBPVwicmVjZWl2ZV9tZXRhZGF0YVwiLHQuT05fREFUQV9TVFJFQU09XCJvbl9kYXRhX3N0cmVhbVwiLHQuT05fUlRQX0NBUEFCSUxJVFlfQ0hBTkdFPVwib25fcnRwX2NhcGFiaWxpdHlfY2hhbmdlXCIsdC5PTl9SRU1PVEVfREFUQVNUUkVBTV9VUERBVEU9XCJvbl9yZW1vdGVfZGF0YXN0cmVhbV91cGRhdGVcIix0Lk9OX1JFTU9URV9GVUxMX0RBVEFTVFJFQU1fSU5GTz1cIm9uX3JlbW90ZV9mdWxsX2RhdGFzdHJlYW1faW5mb1wiLHQuRU5BQkxFX0xPQ0FMX1ZJREVPPVwiZW5hYmxlX2xvY2FsX3ZpZGVvXCIsdC5ESVNBQkxFX0xPQ0FMX1ZJREVPPVwiZGlzYWJsZV9sb2NhbF92aWRlb1wiLHQuRU5BQkxFX0xPQ0FMX0FVRElPPVwiZW5hYmxlX2xvY2FsX2F1ZGlvXCIsdC5ESVNBQkxFX0xPQ0FMX0FVRElPPVwiZGlzYWJsZV9sb2NhbF9hdWRpb1wiLHQuT05fUFVCTElTSEVEX1VTRVJfTElTVD1cIm9uX3B1Ymxpc2hlZF91c2VyX2xpc3RcIix0fSh7fSksY249ZnVuY3Rpb24odCl7cmV0dXJuIHQuU0VORF9PTkxZPVwiU0VORF9PTkxZXCIsdC5SRUNFSVZFX09OTFk9XCJSRUNFSVZFX09OTFlcIix0fSh7fSksaXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuQ09OTkVDVEVEPVwid2Vic29ja2V0OmNvbm5lY3RlZFwiLHQuUkVDT05ORUNUSU5HPVwid2Vic29ja2V0OnJlY29ubmVjdGluZ1wiLHQuV0lMTF9SRUNPTk5FQ1Q9XCJ3ZWJzb2NrZXQ6d2lsbF9yZWNvbm5lY3RcIix0LkNMT1NFRD1cIndlYnNvY2tldDpjbG9zZWRcIix0LkZBSUxFRD1cIndlYnNvY2tldDpmYWlsZWRcIix0Lk9OX01FU1NBR0U9XCJ3ZWJzb2NrZXQ6b25fbWVzc2FnZVwiLHQuUkVRVUVTVF9ORVdfVVJMUz1cIndlYnNvY2tldDpyZXF1ZXN0X25ld191cmxzXCIsdC5SRUNPTk5FQ1RfV0FJVFRJTkdfRklOSVNIPVwid2Vic29ja2V0OnJlY29ubmVjdF93YWl0dGluZ19maW5pc2hcIix0LlJFQ09OTkVDVF9DUkVBVEVfQ09OTkVDVElPTj1cIndlYnNvY2tldDpyZWNvbm5lY3RfY3JlYXRlX2Nvbm5lY3Rpb25cIix0Lk9OX1RPS0VOX1BSSVZJTEVHRV9ESURfRVhQSVJFPVwid2Vic29ja2V0Om9uX3Rva2VuX3ByaXZpbGVnZV9kaWRfZXhwaXJlXCIsdH0oe30pLE89Y2xhc3MgZXh0ZW5kcyBOe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUsYXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOlwiXCIsYXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDApLFQodGhpcyxcIm5hbWVcIixcIkFnb3JhUlRDRXhjZXB0aW9uXCIpO31wcmludCgpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dm9pZCAwP2FyZ3VtZW50c1swXTpcImVycm9yXCI7cmV0dXJuIHN1cGVyLnByaW50KGUsXyl9dGhyb3coKXtzdXBlci50aHJvdyhfKTt9fTtmdW5jdGlvbiBYdSh0KXtpZih0eXBlb2YgdCE9XCJzdHJpbmdcInx8IS9eW2EtekEtWjAtOSBcXCFcXCNcXCRcXCVcXCZcXChcXClcXCtcXC1cXDpcXDtcXDxcXD1cXC5cXD5cXD9cXEBcXFtcXF1cXF5cXF9cXHtcXH1cXHxcXH5cXCxdezEsNjR9JC8udGVzdCh0KSl0aHJvdyBfLmVycm9yKFwiSW52YWxpZCBDaGFubmVsIE5hbWUgXCIuY29uY2F0KHQpKSxuZXcgTyhSLklOVkFMSURfUEFSQU1TLFwiVGhlIGxlbmd0aCBtdXN0IGJlIHdpdGhpbiA2NCBieXRlcy4gVGhlIHN1cHBvcnRlZCBjaGFyYWN0ZXJzOiBhLXosQS1aLDAtOSxzcGFjZSwhLCAjLCAkLCAlLCAmLCAoLCApLCArLCAtLCA6LCA7LCA8LCA9LCAuLCA+LCA/LCBALCBbLCBdLCBeLCBfLCAgeywgfSwgfCwgfiwgLFwiKX1mdW5jdGlvbiBRdSh0KXtpZighZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlPT1cIm51bWJlclwiJiZNYXRoLmZsb29yKGUpPT09ZSYmMDw9ZSYmZTw9NDI5NDk2NzI5NX0odCkmJiFSTyh0LDEsMjU1KSl0aHJvdyBuZXcgTyhSLklOVkFMSURfUEFSQU1TLFwiW1N0cmluZyB1aWRdIExlbmd0aCBvZiB0aGUgc3RyaW5nOiBbMSwyNTVdLiBBU0NJSSBjaGFyYWN0ZXJzIG9ubHkuIFtOdW1iZXIgdWlkXSBUaGUgdmFsdWUgcmFuZ2UgaXMgWzAsMTAwMDBdXCIpO3R5cGVvZiB0PT1cInN0cmluZ1wiJiZfLndhcm4oXCJZb3UgaW5wdXQgYSBzdHJpbmcgYXMgdGhlIHVzZXIgSUQsIHRvIGVuc3VyZSBiZXR0ZXIgZW5kLXVzZXIgZXhwZXJpZW5jZSwgQWdvcmEgaGlnaGx5IHN1Z2dlc3RzIG5vdCB1c2luZyBhIHN0cmluZyBhcyB0aGUgdXNlciBJRC5cIik7fXZhciBlcj1mdW5jdGlvbih0KXtyZXR1cm4gdC5UUkFOU0NPREU9XCJtaXhfc3RyZWFtaW5nXCIsdC5SQVc9XCJyYXdfc3RyZWFtaW5nXCIsdH0oe30pLHNqPXthbHBoYToxLGhlaWdodDo2NDAsd2lkdGg6MzYwLHg6MCx5OjAsek9yZGVyOjAsYXVkaW9DaGFubmVsOjB9LFVwPXt4OjAseTowLHdpZHRoOjE2MCxoZWlnaHQ6MTYwLHpPcmRlcjoyNTUsYWxwaGE6MX07ZnVuY3Rpb24geHAodCxlKXtQZSh0LnVybCxcIlwiLmNvbmNhdChlLFwiLnVybFwiKSwxLDFlMywhMSksenQodC54KXx8TnQodC54LFwiXCIuY29uY2F0KGUsXCIueFwiKSwwLDFlNCksenQodC55KXx8TnQodC55LFwiXCIuY29uY2F0KGUsXCIueVwiKSwwLDFlNCksenQodC53aWR0aCl8fE50KHQud2lkdGgsXCJcIi5jb25jYXQoZSxcIi53aWR0aFwiKSwwLDFlNCksenQodC5oZWlnaHQpfHxOdCh0LmhlaWdodCxcIlwiLmNvbmNhdChlLFwiLmhlaWdodFwiKSwwLDFlNCksenQodC56T3JkZXIpfHxOdCh0LnpPcmRlcixcIlwiLmNvbmNhdChlLFwiLnpPcmRlclwiKSwwLDI1NSksenQodC5hbHBoYSl8fE50KHQuYWxwaGEsXCJcIi5jb25jYXQoZSxcIi5hbHBoYVwiKSwwLDEsITEpO312YXIgYWo9e2F1ZGlvQml0cmF0ZTo0OCxhdWRpb0NoYW5uZWxzOjEsYXVkaW9TYW1wbGVSYXRlOjQ4ZTMsYmFja2dyb3VuZENvbG9yOjAsaGVpZ2h0OjM2MCxsb3dMYXRlbmN5OiExLHZpZGVvQml0cmF0ZTo0MDAsdmlkZW9Db2RlY1Byb2ZpbGU6MTAwLHZpZGVvQ29kZWNUeXBlOjEsdmlkZW9GcmFtZVJhdGU6MTUsdmlkZW9Hb3A6MzAsd2lkdGg6NjQwLGltYWdlczpbXSx1c2VyQ29uZmlnczpbXSx1c2VyQ29uZmlnRXh0cmFJbmZvOlwiXCJ9LFhyPWZ1bmN0aW9uKHQpe3JldHVybiB0LldBUk5JTkc9XCJAbGl2ZV91YXAtd2FybmluZ1wiLHQuRVJST1I9XCJAbGluZV91YXAtZXJyb3JcIix0LlBVQkxJU0hfU1RSRUFNX1NUQVRVUz1cIkBsaXZlX3VhcC1wdWJsaXNoLXN0YXR1c1wiLHQuV09SS0VSX1NUQVRVUz1cIkBsaXZlX3VhcC13b3JrZXItc3RhdHVzXCIsdC5SRVFVRVNUX05FV19BRERSRVNTPVwiQGxpdmVfdWFwLXJlcXVlc3QtYWRkcmVzc1wiLHR9KHt9KSxWRT1mdW5jdGlvbih0KXtyZXR1cm4gdC5SRVFVRVNUX1dPUktFUl9NQU5BR0VSX0xJU1Q9XCJAbGl2ZV9yZXFfd29ya2VyX21hbmFnZXJcIix0fSh7fSksZmU9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5MSVZFX1NUUkVBTV9SRVNQT05TRV9TVUNDRUVEPTIwMF09XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9TVUNDRUVEXCIsdFt0LkxJVkVfU1RSRUFNX1JFU1BPTlNFX0FMUkVBRFlfRVhJU1RTX1NUUkVBTT00NTRdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfQUxSRUFEWV9FWElTVFNfU1RSRUFNXCIsdFt0LkxJVkVfU1RSRUFNX1JFU1BPTlNFX1RSQU5TQ09ESU5HX1BBUkFNRVRFUl9FUlJPUj00NTBdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfVFJBTlNDT0RJTkdfUEFSQU1FVEVSX0VSUk9SXCIsdFt0LkxJVkVfU1RSRUFNX1JFU1BPTlNFX0JBRF9TVFJFQU09NDUxXT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX0JBRF9TVFJFQU1cIix0W3QuTElWRV9TVFJFQU1fUkVTUE9OU0VfV01fUEFSQU1FVEVSX0VSUk9SPTQwMF09XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9XTV9QQVJBTUVURVJfRVJST1JcIix0W3QuTElWRV9TVFJFQU1fUkVTUE9OU0VfV01fV09SS0VSX05PVF9FWElTVD00MDRdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfV01fV09SS0VSX05PVF9FWElTVFwiLHRbdC5MSVZFX1NUUkVBTV9SRVNQT05TRV9OT1RfQVVUSE9SSVpFRD00NTZdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfTk9UX0FVVEhPUklaRURcIix0W3QuTElWRV9TVFJFQU1fUkVTUE9OU0VfRkFJTEVEX0xPQURfSU1BR0U9NDU3XT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX0ZBSUxFRF9MT0FEX0lNQUdFXCIsdFt0LkxJVkVfU1RSRUFNX1JFU1BPTlNFX1JFUVVFU1RfVE9PX09GVEVOPTQyOV09XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9SRVFVRVNUX1RPT19PRlRFTlwiLHRbdC5MSVZFX1NUUkVBTV9SRVNQT05TRV9OT1RfRk9VTkRfUFVCTElTSD00NTJdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfTk9UX0ZPVU5EX1BVQkxJU0hcIix0W3QuTElWRV9TVFJFQU1fUkVTUE9OU0VfTk9UX1NVUFBPUlRFRD00NTNdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfTk9UX1NVUFBPUlRFRFwiLHRbdC5MSVZFX1NUUkVBTV9SRVNQT05TRV9NQVhfU1RSRUFNX05VTT00NTVdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfTUFYX1NUUkVBTV9OVU1cIix0W3QuTElWRV9TVFJFQU1fUkVTUE9OU0VfSU5URVJOQUxfU0VSVkVSX0VSUk9SPTUwMF09XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9JTlRFUk5BTF9TRVJWRVJfRVJST1JcIix0W3QuTElWRV9TVFJFQU1fUkVTUE9OU0VfV09SS0VSX0xPU1Q9NTAxXT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX1dPUktFUl9MT1NUXCIsdFt0LkxJVkVfU1RSRUFNX1JFU1BPTlNFX1JFU09VUkNFX0xJTUlUPTUwMl09XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9SRVNPVVJDRV9MSU1JVFwiLHRbdC5MSVZFX1NUUkVBTV9SRVNQT05TRV9XT1JLRVJfUVVJVD01MDNdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfV09SS0VSX1FVSVRcIix0W3QuRVJST1JfRkFJTF9TRU5EX01FU1NBR0U9NTA0XT1cIkVSUk9SX0ZBSUxfU0VORF9NRVNTQUdFXCIsdFt0LlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9SVE1QX0hBTkRTSEFLRT0zMF09XCJQVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUlRNUF9IQU5EU0hBS0VcIix0W3QuUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1JUTVBfQ09OTkVDVD0zMV09XCJQVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUlRNUF9DT05ORUNUXCIsdFt0LlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9SVE1QX1BVQkxJU0g9MzJdPVwiUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1JUTVBfUFVCTElTSFwiLHRbdC5QVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUFVCTElTSF9CUk9LRU49MzNdPVwiUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1BVQkxJU0hfQlJPS0VOXCIsdH0oe30pO2Z1bmN0aW9uIE1SKHQpe2lmKCF0LmNoYW5uZWxOYW1lKXRocm93IG5ldyBPKFIuSU5WQUxJRF9QQVJBTVMsXCJpbnZhbGlkIGNoYW5uZWxOYW1lIGluIGluZm9cIik7aWYodHlwZW9mIHQudWlkIT1cIm51bWJlclwiKXRocm93IG5ldyBPKFIuSU5WQUxJRF9QQVJBTVMsXCJpbnZhbGlkIHVpZCBpbiBpbmZvLCB1aWQgbXVzdCBiZSBhIG51bWJlclwiKTtyZXR1cm4gdC50b2tlbiYmUGUodC50b2tlbixcImluZm8udG9rZW5cIiwxLDIwNDcpLFF1KHQudWlkKSxYdSh0LmNoYW5uZWxOYW1lKSwhMH12YXIgc249ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5TZXRTZGtQcm9maWxlPTBdPVwiU2V0U2RrUHJvZmlsZVwiLHRbdC5TZXRTb3VyY2VDaGFubmVsPTFdPVwiU2V0U291cmNlQ2hhbm5lbFwiLHRbdC5TZXRTb3VyY2VVc2VySWQ9Ml09XCJTZXRTb3VyY2VVc2VySWRcIix0W3QuU2V0RGVzdENoYW5uZWw9M109XCJTZXREZXN0Q2hhbm5lbFwiLHRbdC5TdGFydFBhY2tldFRyYW5zZmVyPTRdPVwiU3RhcnRQYWNrZXRUcmFuc2ZlclwiLHRbdC5TdG9wUGFja2V0VHJhbnNmZXI9NV09XCJTdG9wUGFja2V0VHJhbnNmZXJcIix0W3QuVXBkYXRlRGVzdENoYW5uZWw9Nl09XCJVcGRhdGVEZXN0Q2hhbm5lbFwiLHRbdC5SZWNvbm5lY3Q9N109XCJSZWNvbm5lY3RcIix0W3QuU2V0VmlkZW9Qcm9maWxlPThdPVwiU2V0VmlkZW9Qcm9maWxlXCIsdH0oe30pLElyPWZ1bmN0aW9uKHQpe3JldHVybiB0Lk5FVFdPUktfRElTQ09OTkVDVEVEPVwiTkVUV09SS19ESVNDT05ORUNURURcIix0Lk5FVFdPUktfQ09OTkVDVEVEPVwiTkVUV09SS19DT05ORUNURURcIix0LlBBQ0tFVF9KT0lORURfU1JDX0NIQU5ORUw9XCJQQUNLRVRfSk9JTkVEX1NSQ19DSEFOTkVMXCIsdC5QQUNLRVRfSk9JTkVEX0RFU1RfQ0hBTk5FTD1cIlBBQ0tFVF9KT0lORURfREVTVF9DSEFOTkVMXCIsdC5QQUNLRVRfU0VOVF9UT19ERVNUX0NIQU5ORUw9XCJQQUNLRVRfU0VOVF9UT19ERVNUX0NIQU5ORUxcIix0LlBBQ0tFVF9SRUNFSVZFRF9WSURFT19GUk9NX1NSQz1cIlBBQ0tFVF9SRUNFSVZFRF9WSURFT19GUk9NX1NSQ1wiLHQuUEFDS0VUX1JFQ0VJVkVEX0FVRElPX0ZST01fU1JDPVwiUEFDS0VUX1JFQ0VJVkVEX0FVRElPX0ZST01fU1JDXCIsdC5QQUNLRVRfVVBEQVRFX0RFU1RfQ0hBTk5FTD1cIlBBQ0tFVF9VUERBVEVfREVTVF9DSEFOTkVMXCIsdC5QQUNLRVRfVVBEQVRFX0RFU1RfQ0hBTk5FTF9SRUZVU0VEPVwiUEFDS0VUX1VQREFURV9ERVNUX0NIQU5ORUxfUkVGVVNFRFwiLHQuUEFDS0VUX1VQREFURV9ERVNUX0NIQU5ORUxfTk9UX0NIQU5HRT1cIlBBQ0tFVF9VUERBVEVfREVTVF9DSEFOTkVMX05PVF9DSEFOR0VcIix0fSh7fSksU249ZnVuY3Rpb24odCl7cmV0dXJuIHQuUkVMQVlfU1RBVEVfSURMRT1cIlJFTEFZX1NUQVRFX0lETEVcIix0LlJFTEFZX1NUQVRFX0NPTk5FQ1RJTkc9XCJSRUxBWV9TVEFURV9DT05ORUNUSU5HXCIsdC5SRUxBWV9TVEFURV9SVU5OSU5HPVwiUkVMQVlfU1RBVEVfUlVOTklOR1wiLHQuUkVMQVlfU1RBVEVfRkFJTFVSRT1cIlJFTEFZX1NUQVRFX0ZBSUxVUkVcIix0fSh7fSkseXM9ZnVuY3Rpb24odCl7cmV0dXJuIHQuUkVMQVlfT0s9XCJSRUxBWV9PS1wiLHQuU0VSVkVSX0NPTk5FQ1RJT05fTE9TVD1cIlNFUlZFUl9DT05ORUNUSU9OX0xPU1RcIix0LlNSQ19UT0tFTl9FWFBJUkVEPVwiU1JDX1RPS0VOX0VYUElSRURcIix0LkRFU1RfVE9LRU5fRVhQSVJFRD1cIkRFU1RfVE9LRU5fRVhQSVJFRFwiLHR9KHt9KSxDdD1mdW5jdGlvbih0KXtyZXR1cm4gdC5IaWdoPVwiaGlnaFwiLHQuTG93PVwibG93XCIsdC5BdWRpbz1cImF1ZGlvXCIsdC5TY3JlZW49XCJzY3JlZW5cIix0LlNjcmVlbkxvdz1cInNjcmVlbl9sb3dcIix0fSh7fSkseGU9ZnVuY3Rpb24odCl7cmV0dXJuIHQuRElTQ09OTkVDVD1cImRpc2Nvbm5lY3RcIix0LkNPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFPVwiY29ubmVjdGlvbi1zdGF0ZS1jaGFuZ2VcIix0Lk5FVFdPUktfUVVBTElUWT1cIm5ldHdvcmstcXVhbGl0eVwiLHQuU1RSRUFNX1RZUEVfQ0hBTkdFPVwic3RyZWFtLXR5cGUtY2hhbmdlXCIsdC5JU19QMlBfRElTQ09OTkVDVEVEPVwiaXMtcDJwLWRpc1wiLHQuRElTQ09OTkVDVF9QMlA9XCJkaXMtcDJwXCIsdC5SRVFVRVNUX05FV19HQVRFV0FZX0xJU1Q9XCJyZXEtZ2F0ZS11cmxcIix0Lk5FRURfUkVORVdfU0VTU0lPTj1cIm5lZWQtc2lkXCIsdC5SRVFVRVNUX1AyUF9DT05ORUNUSU9OX1BBUkFNUz1cInJlcXVlc3QtcDJwLWNvbm5lY3Rpb24tcGFyYW1zXCIsdC5KT0lOX1JFU1BPTlNFPVwiam9pbi1yZXNwb25zZVwiLHQuUkVTRVRfQ09OTkVDVElPTl9FVkVOVFM9XCJyZXNldC1jb25uZWN0aW9uLWV2ZW50c1wiLHQuUFJFX0NPTk5FQ1RfUEM9XCJwcmUtY29ubmVjdF9wY1wiLHR9KHt9KSxUbD1mdW5jdGlvbih0KXtyZXR1cm4gdC5QMlBfRElTQ09OTkVDVEVEPVwiUDJQX0RJU0NPTk5FQ1RFRFwiLHQuQV9ST1VORF9XU19GQUlMRUQ9XCJBX1JPVU5EX1dTX0ZBSUxFRFwiLHQuVElNRU9VVD1cIlRJTUVPVVRcIix0LlVOS05PV05fUkVBU09OPVwiVU5LTk9XTl9SRUFTT05cIix0fSh7fSksdmU9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5Ob3RoaW5nPTBdPVwiTm90aGluZ1wiLHRbdC5BdWRpbz0xXT1cIkF1ZGlvXCIsdFt0Lkx3b1ZpZGVvPTJdPVwiTHdvVmlkZW9cIix0W3QuVmlkZW89NF09XCJWaWRlb1wiLHRbdC5EYXRhPThdPVwiRGF0YVwiLHRbdC5EYXRhU3RyZWFtMD0yNTZdPVwiRGF0YVN0cmVhbTBcIix0W3QuRGF0YVN0cmVhbTE9NTEyXT1cIkRhdGFTdHJlYW0xXCIsdFt0LkRhdGFTdHJlYW0yPTEwMjRdPVwiRGF0YVN0cmVhbTJcIix0W3QuRGF0YVN0cmVhbTM9MjA0OF09XCJEYXRhU3RyZWFtM1wiLHRbdC5EYXRhU3RyZWFtND00MDk2XT1cIkRhdGFTdHJlYW00XCIsdFt0LkRhdGFTdHJlYW01PTgxOTJdPVwiRGF0YVN0cmVhbTVcIix0W3QuRGF0YVN0cmVhbTY9MTYzODRdPVwiRGF0YVN0cmVhbTZcIix0W3QuRGF0YVN0cmVhbTc9MzI3NjhdPVwiRGF0YVN0cmVhbTdcIix0fSh7fSksU3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHQuQ0hJTkE9XCJDSElOQVwiLHQuQVNJQT1cIkFTSUFcIix0Lk5PUlRIX0FNRVJJQ0E9XCJOT1JUSF9BTUVSSUNBXCIsdC5FVVJPUEU9XCJFVVJPUEVcIix0LkpBUEFOPVwiSkFQQU5cIix0LklORElBPVwiSU5ESUFcIix0LktPUkVBPVwiS09SRUFcIix0LkhLTUM9XCJIS01DXCIsdC5VUz1cIlVTXCIsdC5PQ0VBTklBPVwiT0NFQU5JQVwiLHQuU09VVEhfQU1FUklDQT1cIlNPVVRIX0FNRVJJQ0FcIix0LkFGUklDQT1cIkFGUklDQVwiLHQuT1ZFUlNFQT1cIk9WRVJTRUFcIix0LkdMT0JBTD1cIkdMT0JBTFwiLHQuRVhURU5TSU9OUz1cIkVYVEVOU0lPTlNcIix0fSh7fSksVVI9W1N0LkFGUklDQSxTdC5BU0lBLFN0LkNISU5BLFN0LkVVUk9QRSxTdC5HTE9CQUwsU3QuSU5ESUEsU3QuSkFQQU4sU3QuTk9SVEhfQU1FUklDQSxTdC5PQ0VBTklBLFN0Lk9WRVJTRUEsU3QuU09VVEhfQU1FUklDQV0sWWU9ZnVuY3Rpb24odCl7cmV0dXJuIHQuQ0hJTkE9XCJDTlwiLHQuQVNJQT1cIkFTXCIsdC5OT1JUSF9BTUVSSUNBPVwiTkFcIix0LkVVUk9QRT1cIkVVXCIsdC5KQVBBTj1cIkpQXCIsdC5JTkRJQT1cIklOXCIsdC5LT1JFQT1cIktSXCIsdC5IS01DPVwiSEtcIix0LlVTPVwiVVNcIix0Lk9DRUFOSUE9XCJPQ1wiLHQuU09VVEhfQU1FUklDQT1cIlNBXCIsdC5BRlJJQ0E9XCJBRlwiLHQuT1ZFUlNFQT1cIk9WRVJTRUFcIix0LkdMT0JBTD1cIkdMT0JBTFwiLHQuRVhURU5TSU9OUz1cIkdMT0JBTFwiLHR9KHt9KSxadT17Q0hJTkE6e30sQVNJQTp7Q09ERTpZZS5BU0lBLFdFQkNTX0RPTUFJTjpbXCJhcC13ZWItMS1hc2lhLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi1hc2lhLmFnb3JhLmlvXCJdLFBST1hZX0NTOltcInByb3h5LWFwLXdlYi1hc2lhLmFnb3JhLmlvXCJdLENEU19BUDpbXCJjZHMtYXAtd2ViLWFzaWEuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItYXNpYTIuYWdvcmEuaW9cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLWFzaWEuYWdvcmEuaW9cIixcInN1YS1hcC13ZWItYXNpYTIuYWdvcmEuaW9cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItYXNpYS5hZ29yYS5pb1wiLFwidWFwLWFwLXdlYi1hc2lhMi5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEtYXNpYS5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLWFzaWEuYWdvcmEuaW9cIl0sTE9HX1VQTE9BRF9TRVJWRVI6W1wibG9nc2VydmljZS1hc2lhLmFnb3JhLmlvXCJdLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJzb3V0aGVhc3QtYXNpYS53ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX0sTk9SVEhfQU1FUklDQTp7Q09ERTpZZS5OT1JUSF9BTUVSSUNBLFdFQkNTX0RPTUFJTjpbXCJhcC13ZWItMS1ub3J0aC1hbWVyaWNhLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi1ub3J0aC1hbWVyaWNhLmFnb3JhLmlvXCJdLFBST1hZX0NTOltcInByb3h5LWFwLXdlYi1hbWVyaWNhLmFnb3JhLmlvXCJdLENEU19BUDpbXCJjZHMtYXAtd2ViLWFtZXJpY2EuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItYW1lcmljYTIuYWdvcmEuaW9cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLWFtZXJpY2EuYWdvcmEuaW9cIixcInN1YS1hcC13ZWItYW1lcmljYTIuYWdvcmEuaW9cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItYW1lcmljYS5hZ29yYS5pb1wiLFwidWFwLWFwLXdlYi1hbWVyaWNhMi5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEtbm9ydGgtYW1lcmljYS5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLW5vcnRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sTE9HX1VQTE9BRF9TRVJWRVI6W1wibG9nc2VydmljZS1ub3J0aC1hbWVyaWNhLmFnb3JhLmlvXCJdLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJlYXN0LXVzYS53ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX0sRVVST1BFOntDT0RFOlllLkVVUk9QRSxXRUJDU19ET01BSU46W1wiYXAtd2ViLTEtZXVyb3BlLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi1ldXJvcGUuYWdvcmEuaW9cIl0sUFJPWFlfQ1M6W1wicHJveHktYXAtd2ViLWV1cm9wZS5hZ29yYS5pb1wiXSxDRFNfQVA6W1wiY2RzLWFwLXdlYi1ldXJvcGUuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItZXVyb3BlMi5hZ29yYS5pb1wiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItZXVyb3BlLmFnb3JhLmlvXCIsXCJzdWEtYXAtd2ViLWV1cm9wZS5hZ29yYS5pb1wiXSxVQVBfQVA6W1widWFwLWFwLXdlYi1ldXJvcGUuYWdvcmEuaW9cIixcInVhcC1hcC13ZWItZXVyb3BlMi5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEtZXVyb3BlLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTItZXVyb3BlLmFnb3JhLmlvXCJdLExPR19VUExPQURfU0VSVkVSOltcImxvZ3NlcnZpY2UtZXVyb3BlLmFnb3JhLmlvXCJdLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJldXJvcGUud2VicnRjLWNsb3VkLXByb3h5LnNkLXJ0bi5jb21cIl19LEpBUEFOOntDT0RFOlllLkpBUEFOLFdFQkNTX0RPTUFJTjpbXCJhcC13ZWItMS1qYXBhbi5hZ29yYS5pb1wiXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W1wiYXAtd2ViLTItamFwYW4uYWdvcmEuaW9cIl0sUFJPWFlfQ1M6W1wicHJveHktYXAtd2ViLWphcGFuLmFnb3JhLmlvXCJdLENEU19BUDpbXCJjZHMtYXAtd2ViLWphcGFuLmFnb3JhLmlvXCIsXCJjZHMtYXAtd2ViLWphcGFuMi5hZ29yYS5pb1wiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItamFwYW4uYWdvcmEuaW9cIixcInN1YS1hcC13ZWItamFwYW4yLmFnb3JhLmlvXCJdLFVBUF9BUDpbXCJ1YXAtYXAtd2ViLWphcGFuLmFnb3JhLmlvXCIsXCJ1YXAtYXAtd2ViLWphcGFuMi5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEtamFwYW4uYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMi1qYXBhbi5hZ29yYS5pb1wiXSxMT0dfVVBMT0FEX1NFUlZFUjpbXCJsb2dzZXJ2aWNlLWphcGFuLmFnb3JhLmlvXCJdLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJqYXBhbi53ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX0sSU5ESUE6e0NPREU6WWUuSU5ESUEsV0VCQ1NfRE9NQUlOOltcImFwLXdlYi0xLWluZGlhLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi1pbmRpYS5hZ29yYS5pb1wiXSxQUk9YWV9DUzpbXCJwcm94eS1hcC13ZWItaW5kaWEuYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItaW5kaWEuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItaW5kaWEyLmFnb3JhLmlvXCJdLEFDQ09VTlRfUkVHSVNURVI6W1wic3VhLWFwLXdlYi1pbmRpYS5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi1pbmRpYTIuYWdvcmEuaW9cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItaW5kaWEuYWdvcmEuaW9cIixcInVhcC1hcC13ZWItaW5kaWEyLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMS1pbmRpYS5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLWluZGlhLmFnb3JhLmlvXCJdLExPR19VUExPQURfU0VSVkVSOltcImxvZ3NlcnZpY2UtaW5kaWEuYWdvcmEuaW9cIl0sUFJPWFlfU0VSVkVSX1RZUEUzOltcImluZGlhLndlYnJ0Yy1jbG91ZC1wcm94eS5zZC1ydG4uY29tXCJdfSxLT1JFQTp7Q09ERTpZZS5LT1JFQSxXRUJDU19ET01BSU46W1wiYXAtd2ViLTEta29yZWEuYWdvcmEuaW9cIl0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcImFwLXdlYi0yLWtvcmVhLmFnb3JhLmlvXCJdLFBST1hZX0NTOltcInByb3h5LWFwLXdlYi1rb3JlYS5hZ29yYS5pb1wiXSxDRFNfQVA6W1wiY2RzLWFwLXdlYi1rb3JlYS5hZ29yYS5pb1wiLFwiY2RzLWFwLXdlYi1rb3JlYTIuYWdvcmEuaW9cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLWtvcmVhLmFnb3JhLmlvXCIsXCJzdWEtYXAtd2ViLWtvcmVhMi5hZ29yYS5pb1wiXSxVQVBfQVA6W1widWFwLWFwLXdlYi1rb3JlYS5hZ29yYS5pb1wiLFwidWFwLWFwLXdlYi1rb3JlYTIuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0xLWtvcmVhLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTIta29yZWEuYWdvcmEuaW9cIl0sTE9HX1VQTE9BRF9TRVJWRVI6W1wibG9nc2VydmljZS1rb3JlYS5hZ29yYS5pb1wiXSxQUk9YWV9TRVJWRVJfVFlQRTM6W1wia29yZWEud2VicnRjLWNsb3VkLXByb3h5LnNkLXJ0bi5jb21cIl19LEhLTUM6e0NPREU6WWUuSEtNQyxXRUJDU19ET01BSU46W1wiYXAtd2ViLTEtaGttYy5hZ29yYS5pb1wiXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W1wiYXAtd2ViLTItaGttYy5hZ29yYS5pb1wiXSxQUk9YWV9DUzpbXCJwcm94eS1hcC13ZWItaGttYy5hZ29yYS5pb1wiXSxDRFNfQVA6W1wiY2RzLWFwLXdlYi1oa21jLmFnb3JhLmlvXCIsXCJjZHMtYXAtd2ViLWhrbWMyLmFnb3JhLmlvXCJdLEFDQ09VTlRfUkVHSVNURVI6W1wic3VhLWFwLXdlYi1oa21jLmFnb3JhLmlvXCIsXCJzdWEtYXAtd2ViLWhrbWMyLmFnb3JhLmlvXCJdLFVBUF9BUDpbXCJ1YXAtYXAtd2ViLWhrbWMuYWdvcmEuaW9cIixcInVhcC1hcC13ZWItaGttYzIuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0xLWhrbWMuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMi1oa21jLmFnb3JhLmlvXCJdLExPR19VUExPQURfU0VSVkVSOltcImxvZ3NlcnZpY2UtaGttYy5hZ29yYS5pb1wiXSxQUk9YWV9TRVJWRVJfVFlQRTM6W1wiaGttYy53ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX0sVVM6e0NPREU6WWUuVVMsV0VCQ1NfRE9NQUlOOltcImFwLXdlYi0xLXVzLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi11cy5hZ29yYS5pb1wiXSxQUk9YWV9DUzpbXCJwcm94eS1hcC13ZWItdXMuYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItdXMuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItdXMyLmFnb3JhLmlvXCJdLEFDQ09VTlRfUkVHSVNURVI6W1wic3VhLWFwLXdlYi11cy5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi11czIuYWdvcmEuaW9cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItdXMuYWdvcmEuaW9cIixcInVhcC1hcC13ZWItdXMyLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMS11cy5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLXVzLmFnb3JhLmlvXCJdLExPR19VUExPQURfU0VSVkVSOltcImxvZ3NlcnZpY2UtdXMuYWdvcmEuaW9cIl0sUFJPWFlfU0VSVkVSX1RZUEUzOltcInVzLndlYnJ0Yy1jbG91ZC1wcm94eS5zZC1ydG4uY29tXCJdfSxPVkVSU0VBOntDT0RFOlllLk9WRVJTRUEsV0VCQ1NfRE9NQUlOOltcImFwLXdlYi0xLW92ZXJzZWEuYWdvcmEuaW9cIl0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcImFwLXdlYi0yLW92ZXJzZWEuYWdvcmEuaW9cIl0sUFJPWFlfQ1M6W1wicHJveHktYXAtd2ViLW92ZXJzZWEuYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItb3ZlcnNlYS5hZ29yYS5pb1wiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItb3ZlcnNlYS5hZ29yYS5pb1wiXSxVQVBfQVA6W1widWFwLWFwLXdlYi1vdmVyc2VhLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMS1vdmVyc2VhLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTItb3ZlcnNlYS5hZ29yYS5pb1wiXSxMT0dfVVBMT0FEX1NFUlZFUjpbXCJsb2dzZXJ2aWNlLW92ZXJzZWEuYWdvcmEuaW9cIl0sUFJPWFlfU0VSVkVSX1RZUEUzOltcIndlYnJ0Yy1jbG91ZC1wcm94eS5hZ29yYS5pb1wiXX0sR0xPQkFMOntDT0RFOlllLkdMT0JBTCxXRUJDU19ET01BSU46W1wid2VicnRjMi1hcC13ZWItMS5hZ29yYS5pb1wiXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W1wid2VicnRjMi1hcC13ZWItMy5hZ29yYS5pb1wiXSxQUk9YWV9DUzpbXCJhcC1wcm94eS0xLmFnb3JhLmlvXCIsXCJhcC1wcm94eS0yLmFnb3JhLmlvXCJdLENEU19BUDpbXCJjZHMtYXAtd2ViLTEuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItMy5hZ29yYS5pb1wiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItMS5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi0zLmFnb3JhLmlvXCJdLFVBUF9BUDpbXCJ1YXAtYXAtd2ViLTEuYWdvcmEuaW9cIixcInVhcC1hcC13ZWItMy5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMi5hZ29yYS5pb1wiXSxMT0dfVVBMT0FEX1NFUlZFUjpbXCJsb2dzZXJ2aWNlLmFnb3JhLmlvXCJdLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJ3ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX0sT0NFQU5JQTp7Q09ERTpZZS5PQ0VBTklBLFdFQkNTX0RPTUFJTjpbXCJhcC13ZWItMS1vY2VhbmlhLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi1vY2VhbmlhLmFnb3JhLmlvXCJdLFBST1hZX0NTOltcInByb3h5LWFwLXdlYi1vY2VhbmlhLmFnb3JhLmlvXCJdLENEU19BUDpbXCJjZHMtYXAtd2ViLW9jZWFuaWEuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItb2NlYW5pYTIuYWdvcmEuaW9cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLW9jZWFuaWEuYWdvcmEuaW9cIixcInN1YS1hcC13ZWItb2NlYW5pYTIuYWdvcmEuaW9cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItb2NlYW5pYS5hZ29yYS5pb1wiLFwidWFwLWFwLXdlYi1vY2VhbmlhMi5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEtb2NlYW5pYS5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLW9jZWFuaWEuYWdvcmEuaW9cIl0sTE9HX1VQTE9BRF9TRVJWRVI6W1wibG9nc2VydmljZS1vY2VhbmlhLmFnb3JhLmlvXCJdLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJvY2VhbmlhLndlYnJ0Yy1jbG91ZC1wcm94eS5zZC1ydG4uY29tXCJdfSxTT1VUSF9BTUVSSUNBOntDT0RFOlllLlNPVVRIX0FNRVJJQ0EsV0VCQ1NfRE9NQUlOOltcImFwLXdlYi0xLXNvdXRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcImFwLXdlYi0yLXNvdXRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sUFJPWFlfQ1M6W1wicHJveHktYXAtd2ViLXNvdXRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItc291dGgtYW1lcmljYS5hZ29yYS5pb1wiLFwiY2RzLWFwLXdlYi1zb3V0aC1hbWVyaWNhMi5hZ29yYS5pb1wiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItc291dGgtYW1lcmljYS5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi1zb3V0aC1hbWVyaWNhMi5hZ29yYS5pb1wiXSxVQVBfQVA6W1widWFwLWFwLXdlYi1zb3V0aC1hbWVyaWNhLmFnb3JhLmlvXCIsXCJ1YXAtYXAtd2ViLXNvdXRoLWFtZXJpY2EyLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMS1zb3V0aC1hbWVyaWNhLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTItc291dGgtYW1lcmljYS5hZ29yYS5pb1wiXSxMT0dfVVBMT0FEX1NFUlZFUjpbXCJsb2dzZXJ2aWNlLXNvdXRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sUFJPWFlfU0VSVkVSX1RZUEUzOltcInNvdXRoLWFtZXJpY2Eud2VicnRjLWNsb3VkLXByb3h5LnNkLXJ0bi5jb21cIl19LEFGUklDQTp7Q09ERTpZZS5BRlJJQ0EsV0VCQ1NfRE9NQUlOOltcImFwLXdlYi0xLWFmcmljYS5hZ29yYS5pb1wiXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W1wiYXAtd2ViLTItYWZyaWNhLmFnb3JhLmlvXCJdLFBST1hZX0NTOltcInByb3h5LWFwLXdlYi1hZnJpY2EuYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItYWZyaWNhLmFnb3JhLmlvXCIsXCJjZHMtYXAtd2ViLWFmcmljYTIuYWdvcmEuaW9cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLWFmcmljYS5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi1hZnJpY2EyLmFnb3JhLmlvXCJdLFVBUF9BUDpbXCJ1YXAtYXAtd2ViLWFmcmljYS5hZ29yYS5pb1wiLFwidWFwLWFwLXdlYi1hZnJpY2EyLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMS1hZnJpY2EuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMi1hZnJpY2EuYWdvcmEuaW9cIl0sTE9HX1VQTE9BRF9TRVJWRVI6W1wibG9nc2VydmljZS1zb3V0aC1hZnJpY2EuYWdvcmEuaW9cIl0sUFJPWFlfU0VSVkVSX1RZUEUzOltcImFmcmljYS53ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX0sRVhURU5TSU9OUzp7fX07cGYmJihadS5DSElOQT17Q09ERTpZZS5DSElOQSxXRUJDU19ET01BSU46W1wid2VicnRjMi0yLmFwLnNkLXJ0bi5jb21cIl0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcIndlYnJ0YzItNC5hcC5zZC1ydG4uY29tXCJdLFBST1hZX0NTOltcInByb3h5LXdlYi5hcC5zZC1ydG4uY29tXCJdLENEU19BUDpbXCJjZHMtd2ViLTIuYXAuc2QtcnRuLmNvbVwiLFwiY2RzLXdlYi00LmFwLnNkLXJ0bi5jb21cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtd2ViLTIuYXAuc2QtcnRuLmNvbVwiLFwic3VhLXdlYi00LmFwLnNkLXJ0bi5jb21cIl0sVUFQX0FQOltcInVhcC13ZWItMi5hcC5zZC1ydG4uY29tXCIsXCJ1YXAtd2ViLTQuYXAuc2QtcnRuLmNvbVwiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcIndlYi0zLnN0YXRzY29sbGVjdG9yLnNkLXJ0bi5jb21cIl0sRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU46W1wid2ViLTQuc3RhdHNjb2xsZWN0b3Iuc2QtcnRuLmNvbVwiXSxMT0dfVVBMT0FEX1NFUlZFUjpbXCJsb2dzZXJ2aWNlLWNoaW5hLmFnb3JhLmlvXCJdLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJlYXN0LWNuLndlYnJ0Yy1jbG91ZC1wcm94eS5zZC1ydG4uY29tXCJdfSk7dmFyIEZFPWZ1bmN0aW9uKHQpe3JldHVybiB0LlVQREFURV9CSVRSQVRFX0xJTUlUPVwidXBkYXRlX2JpdHJhdGVfbGltaXRcIix0fSh7fSksS2w9Y2xhc3MgZXh0ZW5kcyBYdHtjb25zdHJ1Y3RvcihlLG4pe3N1cGVyKCksVCh0aGlzLFwib25JQ0VDb25uZWN0aW9uU3RhdGVDaGFuZ2VcIix2b2lkIDApLFQodGhpcyxcIm9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlXCIsdm9pZCAwKSxUKHRoaXMsXCJvbkRUTFNUcmFuc3BvcnRTdGF0ZUNoYW5nZVwiLHZvaWQgMCksVCh0aGlzLFwib25EVExTVHJhbnNwb3J0RXJyb3JcIix2b2lkIDApLFQodGhpcyxcIm9uSUNFVHJhbnNwb3J0U3RhdGVDaGFuZ2VcIix2b2lkIDApLFQodGhpcyxcIm9uRmlyc3RBdWRpb1JlY2VpdmVkXCIsdm9pZCAwKSxUKHRoaXMsXCJvbkZpcnN0VmlkZW9SZWNlaXZlZFwiLHZvaWQgMCksVCh0aGlzLFwib25GaXJzdEF1ZGlvRGVjb2RlZFwiLHZvaWQgMCksVCh0aGlzLFwib25GaXJzdFZpZGVvRGVjb2RlZFwiLHZvaWQgMCksVCh0aGlzLFwib25GaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXRcIix2b2lkIDApLFQodGhpcyxcIm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWRcIix2b2lkIDApLFQodGhpcyxcIm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkXCIsdm9pZCAwKSxUKHRoaXMsXCJnZXRMb2NhbFZpZGVvU3RhdHNcIix2b2lkIDApO319LFlsPWNsYXNzIGV4dGVuZHMgS2x7Y29uc3RydWN0b3IoZSxuKXtzdXBlcihlLG4pLFQodGhpcyxcImVzdGFibGlzaFByb21pc2VcIix2b2lkIDApO319LFE9ZnVuY3Rpb24odCl7cmV0dXJuIHQuVklERU89XCJ2aWRlb1wiLHQuQVVESU89XCJhdWRpb1wiLHR9KHt9KSxPbj1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LlVEUD0wXT1cIlVEUFwiLHRbdC5UQ1A9MV09XCJUQ1BcIix0W3QuUkVMQVk9Ml09XCJSRUxBWVwiLHR9KHt9KSxUcj1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkZJUlNUX0NPTk5FQ1RJT049MF09XCJGSVJTVF9DT05ORUNUSU9OXCIsdFt0LlRDUF9SRVNUQVJUPTFdPVwiVENQX1JFU1RBUlRcIix0W3QuUkVMQVlfUkVTVEFSVD0yXT1cIlJFTEFZX1JFU1RBUlRcIix0W3QuT0xEX0ZJUlNUX0NPTk5FQ1RJT049MTBdPVwiT0xEX0ZJUlNUX0NPTk5FQ1RJT05cIix0W3QuT0xEX1JFU1RBUlQ9MTFdPVwiT0xEX1JFU1RBUlRcIix0W3QuRElTQ09OTkVDVEVEX09SX0ZBSUxFRD0yMF09XCJESVNDT05ORUNURURfT1JfRkFJTEVEXCIsdH0oe30pLFU9ZnVuY3Rpb24odCl7cmV0dXJuIHQuTG9jYWxWaWRlb1RyYWNrPVwidmlkZW9UcmFja1wiLHQuTG9jYWxBdWRpb1RyYWNrPVwiYXVkaW9UcmFja1wiLHQuTG9jYWxWaWRlb0xvd1RyYWNrPVwidmlkZW9Mb3dUcmFja1wiLHR9KHt9KSxSdD1mdW5jdGlvbih0KXtyZXR1cm4gdC5OZXc9XCJuZXdcIix0LkNvbm5lY3RlZD1cImNvbm5lY3RlZFwiLHQuUmVjb25uZWN0aW5nPVwicmVjb25uZWN0aW5nXCIsdC5EaXNjb25uZWN0ZWQ9XCJkaXNjb25uZWN0ZWRcIix0fSh7fSksdHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuU3RhdGVDaGFuZ2U9XCJzdGF0ZUNoYW5nZVwiLHQuSWNlQ29ubmVjdGlvblN0YXRlQ2hhbmdlPVwiaWNlQ29ubmVjdGlvblN0YXRlQ2hhbmdlXCIsdC5SZXF1ZXN0TXV0ZUxvY2FsPVwicmVxdWVzdE11dGVMb2NhbFwiLHQuUmVxdWVzdFVubXV0ZUxvY2FsPVwicmVxdWVzdFVubXV0ZUxvY2FsXCIsdC5SZXF1ZXN0UmVQdWJsaXNoPVwicmVxdWVzdFJlUHVibGlzaFwiLHQuUmVxdWVzdFJlUHVibGlzaERhdGFDaGFubmVsPVwicmVxdWVzdFJlUHVibGlzaERhdGFDaGFubmVsXCIsdC5SZXF1ZXN0UmVTdWJzY3JpYmU9XCJyZXF1ZXN0UmVTdWJzY3JpYmVcIix0LlJlcXVlc3RVcGxvYWRTdGF0cz1cInJlcXVlc3RVcGxvYWRTdGF0c1wiLHQuUmVxdWVzdFVwbG9hZD1cInJlcXVlc3RVcGxvYWRcIix0Lk1lZGlhUmVjb25uZWN0U3RhcnQ9XCJNZWRpYVJlY29ubmVjdFN0YXJ0XCIsdC5NZWRpYVJlY29ubmVjdEVuZD1cIk1lZGlhUmVjb25uZWN0RW5kXCIsdC5OZWVkU2lnbmFsUlRUPVwiTmVlZFNpZ25hbFJUVFwiLHQuUmVxdWVzdFJlc3RhcnRJQ0U9XCJSZXF1ZXN0UmVzdGFydEljZVwiLHQuUGVlckNvbm5lY3Rpb25TdGF0ZUNoYW5nZT1cIlBlZXJDb25uZWN0aW9uU3RhdGVDaGFuZ2VcIix0LlJlcXVlc3RSZWNvbm5lY3Q9XCJSZXF1ZXN0UmVjb25uZWN0XCIsdC5SZXF1ZXN0UmVjb25uZWN0UEM9XCJSZXF1ZXN0UmVjb25uZWN0UENcIix0LlJlcXVlc3RVbnB1Ymxpc2hGb3JSZWNvbm5lY3RQQz1cIlJlcXVlc3RVbnB1Ymxpc2hGb3JSZWNvbm5lY3RQQ1wiLHQuUDJQTG9zdD1cIlAyUExvc3RcIix0LlVwZGF0ZVZpZGVvRW5jb2Rlcj1cIlVwZGF0ZVZpZGVvRW5jb2RlclwiLHQuQ29ubmVjdGlvblR5cGVDaGFuZ2U9XCJDb25uZWN0aW9uVHlwZUNoYW5nZVwiLHQuUmVxdWVzdExvd1N0cmVhbVBhcmFtZXRlcj1cIlJlcXVlc3RMb3dTdHJlYW1QYXJhbWV0ZXJcIix0LlF1ZXJ5Q2xpZW50Q29ubmVjdGlvblN0YXRlPVwiUXVlcnlDbGllbnRDb25uZWN0aW9uU3RhdGVcIix0LkxvY2FsQ2FuZGlkYXRlPVwiTG9jYWxDYW5kaWRhdGVcIix0LlJlcXVlc3RQMlBNdXRlTG9jYWw9XCJyZXF1ZXN0UDJQTXV0ZUxvY2FsXCIsdC5SZXF1ZXN0UDJQVW5QdWJsaXNoPVwiUmVxdWVzdFAyUFVuUHVibGlzaFwiLHQuUmVxdWVzdFAyUFVubXV0ZVJlbW90ZT1cIlJlcXVlc3RQMlBVbm11dGVSZW1vdGVcIix0LlJlcXVlc3RQMlBNdXRlUmVtb3RlPVwiUmVxdWVzdFAyUE11dGVSZW1vdGVcIix0LlJlcXVlc3RQMlBSZXN0YXJ0SUNFPVwiUmVxdWVzdFAyUFJlc3RhcnRJQ0VcIix0fSh7fSksRWk9ZnVuY3Rpb24odCl7cmV0dXJuIHQuQ09OTkVDVElORz1cIkNPTk5FQ1RJTkdcIix0LlJFQ09OTkVDVElORz1cIlJFQ09OTkVDVElOR1wiLHQuQ09OTkVDVEVEPVwiQ09OTkVDVEVEXCIsdC5DTE9TRUQ9XCJDTE9TRURcIix0fSh7fSksZGk9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5DT05ORUNUX0FQPTBdPVwiQ09OTkVDVF9BUFwiLHRbdC5BUF9DT05ORUNURUQ9MV09XCJBUF9DT05ORUNURURcIix0W3QuQ09OTkVDVF9XT1JLRVJfTUFOQUdFUj0yXT1cIkNPTk5FQ1RfV09SS0VSX01BTkFHRVJcIix0W3QuV09SS0VSX01BTkFHRVJfQ09OTkVDVEVEPTNdPVwiV09SS0VSX01BTkFHRVJfQ09OTkVDVEVEXCIsdFt0LkdFVF9XT1JLRVJfTUFOQUdFUl9SRVNQT05TRT00XT1cIkdFVF9XT1JLRVJfTUFOQUdFUl9SRVNQT05TRVwiLHRbdC5DT05ORUNUX1dPUktFUj01XT1cIkNPTk5FQ1RfV09SS0VSXCIsdFt0LldPUktFUl9DT05ORUNURUQ9Nl09XCJXT1JLRVJfQ09OTkVDVEVEXCIsdFt0LkNMT1NFRD03XT1cIkNMT1NFRFwiLHR9KHt9KSx3ZT1mdW5jdGlvbih0KXtyZXR1cm4gdC5DT05ORUNUSU9OX1NUQVRFX0NIQU5HRT1cImNvbm5lY3Rpb24tc3RhdGUtY2hhbmdlXCIsdC5TVEFURV9DSEFOR0U9XCJzdGF0ZS1jaGFuZ2VcIix0LklOU1BFQ1RfUkVTVUxUPVwiaW5zcGVjdC1yZXN1bHRcIix0LkNMSUVOVF9MT0NBTF9WSURFT19UUkFDSz1cImNsaWVudC1sb2NhbC12aWRlby10cmFja1wiLHQuUkVRVUVTVF9ORVdfV09SS0VSX1VSTD1cInJlcXVlc3QtbmV3LXdvcmtlci11cmxcIix0fSh7fSksUE89ZnVuY3Rpb24odCl7cmV0dXJuIHQuQ09OTkVDVEVEPVwidHJhbnNtaXR0ZXI6Y29ubmVjdGVkXCIsdC5SRUNPTk5FQ1RJTkc9XCJ0cmFuc21pdHRlcjpyZWNvbm5lY3RpbmdcIix0LldJTExfUkVDT05ORUNUPVwidHJhbnNtaXR0ZXI6d2lsbF9yZWNvbm5lY3RcIix0LkNMT1NFRD1cInRyYW5zbWl0dGVyOmNsb3NlZFwiLHQuRkFJTEVEPVwidHJhbnNtaXR0ZXI6ZmFpbGVkXCIsdC5PTl9NRVNTQUdFPVwidHJhbnNtaXR0ZXI6b25fbWVzc2FnZVwiLHQuUkVRVUVTVF9ORVdfVVJMUz1cInRyYW5zbWl0dGVyOnJlcXVlc3RfbmV3X3VybHNcIix0LlJFQ09OTkVDVF9XQUlUVElOR19GSU5JU0g9XCJ0cmFuc21pdHRlcjpyZWNvbm5lY3Rfd2FpdHRpbmdfZmluaXNoXCIsdC5SRUNPTk5FQ1RfQ1JFQVRFX0NPTk5FQ1RJT049XCJ0cmFuc21pdHRlcjpyZWNvbm5lY3RfY3JlYXRlX2Nvbm5lY3Rpb25cIix0Lk9OX1RPS0VOX1BSSVZJTEVHRV9ESURfRVhQSVJFPVwidHJhbnNtaXR0ZXI6b25fdG9rZW5fcHJpdmlsZWdlX2RpZF9leHBpcmVcIix0LlRPX0NPTk5FQ1RfREFUQUNIQU5ORUw9XCJ0cmFuc21pdHRlcjp0b19jb25uZWN0X2RhdGFjaGFubmVsXCIsdC5GQUlMQkFDSz1cInRyYW5zbWl0dGVyOmZhaWxiYWNrXCIsdC5QUkVfQ09OTkVDVF9QQz1cInRyYW5zbWl0dGVyOnByZV9jb25uZWN0X3BjXCIsdH0oe30pLG5yPWZ1bmN0aW9uKHQpe3JldHVybiB0LkNBTUVSQV9DSEFOR0VEPVwiY2FtZXJhLWNoYW5nZWRcIix0Lk1JQ1JPUEhPTkVfQ0hBTkdFRD1cIm1pY3JvcGhvbmUtY2hhbmdlZFwiLHQuUExBWUJBQ0tfREVWSUNFX0NIQU5HRUQ9XCJwbGF5YmFjay1kZXZpY2UtY2hhbmdlZFwiLHQuQVVESU9fQVVUT1BMQVlfRkFJTEVEPVwiYXVkaW8tYXV0b3BsYXktZmFpbGVkXCIsdC5BVVRPUExBWV9GQUlMRUQ9XCJhdXRvcGxheS1mYWlsZWRcIix0LkFVRElPX0NPTlRFWFRfU1RBVEVfQ0hBTkdFRD1cImF1ZGlvLWNvbnRleHQtc3RhdGUtY2hhbmdlZFwiLHQuU0VDVVJJVFlfUE9MSUNZX1ZJT0xBVElPTj1cInNlY3VyaXR5LXBvbGljeS12aW9sYXRpb25cIix0fSh7fSksWG49ZnVuY3Rpb24odCl7cmV0dXJuIHQuQ09OTkVDVElORz1cIkNPTk5FQ1RJTkdcIix0LlJFQ09OTkVDVElORz1cIlJFQ09OTkVDVElOR1wiLHQuQ09OTkVDVEVEPVwiQ09OTkVDVEVEXCIsdC5DTE9TRUQ9XCJDTE9TRURcIix0fSh7fSksTWk9ZnVuY3Rpb24odCl7cmV0dXJuIHQuQ09OTkVDVElPTl9TVEFURV9DSEFOR0U9XCJjb25uZWN0aW9uLXN0YXRlLWNoYW5nZVwiLHQuU1RBVEVfQ0hBTkdFPVwic3RhdGUtY2hhbmdlXCIsdC5JTlNQRUNUX1JFU1VMVD1cImluc3BlY3QtcmVzdWx0XCIsdC5DTElFTlRfTE9DQUxfVklERU9fVFJBQ0s9XCJjbGllbnQtbG9jYWwtdmlkZW8tdHJhY2tcIix0LlJFUVVFU1RfTkVXX1dPUktFUl9VUkw9XCJyZXF1ZXN0LW5ldy13b3JrZXItdXJsXCIsdH0oe30pLGhzPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuQ09OTkVDVF9BUD0wXT1cIkNPTk5FQ1RfQVBcIix0W3QuQVBfQ09OTkVDVEVEPTFdPVwiQVBfQ09OTkVDVEVEXCIsdFt0LkNPTk5FQ1RfV09SS0VSX01BTkFHRVI9Ml09XCJDT05ORUNUX1dPUktFUl9NQU5BR0VSXCIsdFt0LldPUktFUl9NQU5BR0VSX0NPTk5FQ1RFRD0zXT1cIldPUktFUl9NQU5BR0VSX0NPTk5FQ1RFRFwiLHRbdC5HRVRfV09SS0VSX01BTkFHRVJfUkVTUE9OU0U9NF09XCJHRVRfV09SS0VSX01BTkFHRVJfUkVTUE9OU0VcIix0W3QuQ09OTkVDVF9XT1JLRVI9NV09XCJDT05ORUNUX1dPUktFUlwiLHRbdC5XT1JLRVJfQ09OTkVDVEVEPTZdPVwiV09SS0VSX0NPTk5FQ1RFRFwiLHRbdC5DTE9TRUQ9N109XCJDTE9TRURcIix0fSh7fSksaWU9ZnVuY3Rpb24odCl7cmV0dXJuIHQuQ0FMTD1cImNhbGxcIix0LkNBTkRJREFURT1cImNhbmRpZGF0ZVwiLHQuUFVCTElTSD1cInB1Ymxpc2hcIix0LlVOUFVCTElTSD1cInVucHVibGlzaFwiLHQuQ09OVFJPTD1cImNvbnRyb2xcIix0LlJFU1RBUlRfSUNFPVwicmVzdGFydF9pY2VcIix0LkFDSz1cImFja1wiLHQuUkVTUE9OU0U9XCJyZXNwb25zZVwiLHQuSk9JTj1cImpvaW5cIix0LkNIRUNLPVwiY2hlY2tcIix0fSh7fSkscHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQuQUJPUlQ9XCJhYm9ydFwiLHR9KHt9KSx0bz1mdW5jdGlvbih0KXtyZXR1cm4gdC5NVVRFX0xPQ0FMX0FVRElPPVwibXV0ZV9sb2NhbF9hdWRpb1wiLHQuTVVURV9MT0NBTF9WSURFTz1cIm11dGVfbG9jYWxfdmlkZW9cIix0LlVOTVVURV9MT0NBTF9BVURJTz1cInVubXV0ZV9sb2NhbF9hdWRpb1wiLHQuVU5NVVRFX0xPQ0FMX1ZJREVPPVwidW5tdXRlX2xvY2FsX3ZpZGVvXCIsdH0oe30pLGNqPWZ1bmN0aW9uKHQpe3JldHVybiB0LlAyUF9UT0tFTl9USU1FT1VUPVwicDJwX3Rva2VuX3RpbWVvdXRcIix0LlAyUF9UT0tFTl9DSEFOR0VEPVwicDJwX3Rva2VuX2NoYW5nZWRcIix0fSh7fSksZGo9e1tnbC5BQ0NFU1NfUE9JTlRdOntbb24uTk9fRkxBR19TRVRdOntkZXNjOlwiZmxhZyBpcyB6ZXJvXCIscmV0cnk6ITF9LFtvbi5GTEFHX1NFVF9CVVRfRU1QVFldOntkZXNjOlwiZmxhZyBpcyBlbXB0eVwiLHJldHJ5OiExfSxbb24uSU5WQUxJRF9GQUxHX1NFVF06e2Rlc2M6XCJpbnZhbGlkIGZsYWdcIixyZXRyeTohMX0sW29uLkZMQUdfU0VUX0JVVF9OT19SRV06e2Rlc2M6XCJmbGFnIHNldCB1bmlsYnMgYnV0IG5vIHJlcXVlc3RcIixyZXRyeTohMX0sW29uLklOVkFMSURfU0VSVklDRV9JRF06e2Rlc2M6XCJpbnZhbGlkIHNlcnZpY2UgaWRcIixyZXRyeTohMX0sW29uLk5PX1NFUlZJQ0VfQVZBSUxBQkxFXTp7ZGVzYzpcIm5vIHNlcnZpY2UgYXZhaWxhYmxlXCIscmV0cnk6ITB9LFtvbi5OT19TRVJWSUNFX0FWQUlMQUJMRV9QMlBdOntkZXNjOlwibm8gdW5pbGJzIHAycCBzZXJ2aWNlIGF2YWlsYWJsZVwiLHJldHJ5OiEwfSxbb24uTk9fU0VSVklDRV9BVkFJTEFCTEVfVk9JQ0VdOntkZXNjOlwibm8gdW5pbGJzIHZvaWNlIHNlcnZpY2UgYXZhaWxhYmxlXCIscmV0cnk6ITB9LFtvbi5OT19TRVJWSUNFX0FWQUlMQUJMRV9XRUJSVENdOntkZXNjOlwibm8gdW5pbGJzIHdlYnJ0YyBzZXJ2aWNlIGF2YWlsYWJsZVwiLHJldHJ5OiEwfSxbb24uTk9fU0VSVklDRV9BVkFJTEFCTEVfQ0RTXTp7ZGVzYzpcIm5vIGNkcyBzZXJ2aWNlIGF2YWlsYWJsZVwiLHJldHJ5OiEwfSxbb24uTk9fU0VSVklDRV9BVkFJTEFCTEVfQ0ROXTp7ZGVzYzpcIm5vIGNkbiBkaXNwYXRjaGVyIHNlcnZpY2UgYXZhaWxhYmxlXCIscmV0cnk6ITB9LFtvbi5OT19TRVJWSUNFX0FWQUlMQUJMRV9URFNdOntkZXNjOlwibm8gdGRzIHNlcnZpY2UgYXZhaWxhYmxlXCIscmV0cnk6ITB9LFtvbi5OT19TRVJWSUNFX0FWQUlMQUJMRV9SRVBPUlRdOntkZXNjOlwibm8gdW5pbGJzIHJlcG9ydCBzZXJ2aWNlIGF2YWlsYWJsZVwiLHJldHJ5OiEwfSxbb24uTk9fU0VSVklDRV9BVkFJTEFCTEVfQVBQX0NFTlRFUl06e2Rlc2M6XCJubyBhcHAgY2VudGVyIHNlcnZpY2UgYXZhaWxhYmxlXCIscmV0cnk6ITB9LFtvbi5OT19TRVJWSUNFX0FWQUlMQUJMRV9FTlYwXTp7ZGVzYzpcIm5vIHVuaWxicyBzaWcgZW52MCBzZXJ2aWNlIGF2YWlsYWJsZVwiLHJldHJ5OiEwfSxbb24uTk9fU0VSVklDRV9BVkFJTEFCTEVfVk9FVF06e2Rlc2M6XCJubyB1bmlsYnMgdm9ldCBzZXJ2aWNlIGF2YWlsYWJsZVwiLHJldHJ5OiEwfSxbb24uTk9fU0VSVklDRV9BVkFJTEFCTEVfU1RSSU5HX1VJRF06e2Rlc2M6XCJubyBzdHJpbmcgdWlkIHNlcnZpY2UgYXZhaWxhYmxlXCIscmV0cnk6ITB9LFtvbi5OT19TRVJWSUNFX0FWQUlMQUJMRV9XRUJSVENfVU5JTEJTXTp7ZGVzYzpcIm5vIHdlYnJ0YyB1bmlsYnMgc2VydmljZSBhdmFpbGFibGVcIixyZXRyeTohMH19LFtnbC5VTklMQlNdOntbY2kuSU5WQUxJRF9WRU5ET1JfS0VZXTp7ZGVzYzpcImludmFsaWQgdmVuZG9yIGtleSwgY2FuIG5vdCBmaW5kIGFwcGlkXCIscmV0cnk6ITF9LFtjaS5JTlZBTElEX0NIQU5ORUxfTkFNRV06e2Rlc2M6XCJpbnZhbGlkIGNoYW5uZWwgbmFtZVwiLHJldHJ5OiExfSxbY2kuSU5URVJOQUxfRVJST1JdOntkZXNjOlwidW5pbGJzIGludGVybmFsIGVycm9yXCIscmV0cnk6ITF9LFtjaS5OT19BVVRIT1JJWkVEXTp7ZGVzYzpcImludmFsaWQgdG9rZW4sIGF1dGhvcml6ZWQgZmFpbGVkXCIscmV0cnk6ITF9LFtjaS5EWU5BTUlDX0tFWV9USU1FT1VUXTp7ZGVzYzpcImR5bmFtaWMga2V5IG9yIHRva2VuIHRpbWVvdXRcIixyZXRyeTohMX0sW2NpLk5PX0FDVElWRV9TVEFUVVNdOntkZXNjOlwibm8gYWN0aXZlIHN0YXR1c1wiLHJldHJ5OiExfSxbY2kuRFlOQU1JQ19LRVlfRVhQSVJFRF06e2Rlc2M6XCJkeW5hbWljIGtleSBleHBpcmVkXCIscmV0cnk6ITF9LFtjaS5TVEFUSUNfVVNFX0RZTkFNSUNfS0VZXTp7ZGVzYzpcInN0YXRpYyB1c2UgZHluYW1pYyBrZXlcIixyZXRyeTohMX0sW2NpLkRZTkFNSUNfVVNFX1NUQVRJQ19LRVldOntkZXNjOlwiZHluYW1pYyB1c2Ugc3RhdGljIGtleVwiLHJldHJ5OiExfSxbY2kuVVNFUl9PVkVSTE9BRF06e2Rlc2M6XCJhbW91bnQgb2YgdXNlcnMgb3ZlciBsb2FkXCIscmV0cnk6ITF9LFtjaS5GT1JCSURERU5fUkVHSU9OXTp7ZGVzYzpcInRoZSByZXF1ZXN0IGlzIGZvcmJpZGRlbiBpbiB0aGlzIGFyZWFcIixyZXRyeTohMX0sW2NpLkNBTk5PVF9NRUVUX0FSRUFfREVNQU5EXTp7ZGVzYzpcInVuYWJsZSB0byBhbGxvY2F0ZSBzZXJ2aWNlcyBpbiB0aGlzIGFyZWFcIixyZXRyeTohMX19LFtnbC5TVFJJTkdfVUlEX0FMTE9DQVRPUl06e1tNcC5JSUlFR0FMX0FQUElEXTp7ZGVzYzpcImludmFsaWQgYXBwaWRcIixyZXRyeTohMX0sW01wLklJSUVHQUxfVUlEXTp7ZGVzYzpcImludmFsaWQgc3RyaW5nIHVpZFwiLHJldHJ5OiExfSxbTXAuSU5URVJOQUxfRVJST1JdOntkZXNjOlwic3RyaW5nIHVpZCBhbGxvY2F0b3IgaW50ZXJuYWwgZXJyb3JcIixyZXRyeTohMH19fTtmdW5jdGlvbiB0YSh0KXtsZXQgZT1kaltNYXRoLmZsb29yKHQvMWU0KV07aWYoIWUpcmV0dXJuIHtkZXNjOlwidW5rbm93biBlcnJvclwiLHJldHJ5OiExfTtsZXQgbj1lW3QlMWU0XTtpZighbil7aWYoTWF0aC5mbG9vcih0LzFlNCk9PT1nbC5BQ0NFU1NfUE9JTlQpe2xldCBpPXQlMWU0O2lmKGkudG9TdHJpbmcoKVswXT09PVwiMVwiKXJldHVybiB7ZGVzYzp0LnRvU3RyaW5nKCkscmV0cnk6ITF9O2lmKGkudG9TdHJpbmcoKVswXT09PVwiMlwiKXJldHVybiB7ZGVzYzp0LnRvU3RyaW5nKCkscmV0cnk6ITB9fXJldHVybiB7ZGVzYzpcInVua25vd24gZXJyb3JcIixyZXRyeTohMX19cmV0dXJuIG59dmFyIGxqPXtbWi5LX1RJTUVTVEFNUF9FWFBJUkVEXTp7ZGVzYzpcIktfVElNRVNUQU1QX0VYUElSRURcIixhY3Rpb246XCJmYWlsZWRcIn0sW1ouS19DSEFOTkVMX1BFUk1JU1NJT05fSU5WQUxJRF06e2Rlc2M6XCJLX0NIQU5ORUxfUEVSTUlTU0lPTl9JTlZBTElEXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtaLktfQ0VSVElGSUNBVEVfSU5WQUxJRF06e2Rlc2M6XCJLX0NFUlRJRklDQVRFX0lOVkFMSURcIixhY3Rpb246XCJmYWlsZWRcIn0sW1ouS19DSEFOTkVMX05BTUVfRU1QVFldOntkZXNjOlwiS19DSEFOTkVMX05BTUVfRU1QVFlcIixhY3Rpb246XCJmYWlsZWRcIn0sW1ouS19DSEFOTkVMX05PVF9GT1VORF06e2Rlc2M6XCJLX0NIQU5ORUxfTk9UX0ZPVU5EXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtaLktfVElDS0VUX0lOVkFMSURdOntkZXNjOlwiS19USUNLRVRfSU5WQUxJRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbWi5LX0NIQU5ORUxfQ09ORkxJQ1RFRF06e2Rlc2M6XCJLX0NIQU5ORUxfQ09ORkxJQ1RFRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbWi5LX1NFUlZJQ0VfTk9UX1JFQURZXTp7ZGVzYzpcIktfU0VSVklDRV9OT1RfUkVBRFlcIixhY3Rpb246XCJ0cnlOZXh0XCJ9LFtaLktfU0VSVklDRV9UT09fSEVBVlldOntkZXNjOlwiS19TRVJWSUNFX1RPT19IRUFWWVwiLGFjdGlvbjpcInRyeU5leHRcIn0sW1ouS19VSURfQkFOTkVEXTp7ZGVzYzpcIktfVUlEX0JBTk5FRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbWi5LX0lQX0JBTk5FRF06e2Rlc2M6XCJLX0lQX0JBTk5FRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbWi5LX0FVVE9fUkVCQUxBTkNFXTp7ZGVzYzpcImtfQVVUT19SRUJBTEFOQ0VcIixhY3Rpb246XCJyZWNvdmVyXCJ9LFtaLkVSUl9JTlZBTElEX1ZFTkRPUl9LRVldOntkZXNjOlwiRVJSX0lOVkFMSURfVkVORE9SX0tFWVwiLGFjdGlvbjpcImZhaWxlZFwifSxbWi5FUlJfSU5WQUxJRF9DSEFOTkVMX05BTUVdOntkZXNjOlwiRVJSX0lOVkFMSURfQ0hBTk5FTF9OQU1FXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtaLldBUk5fTk9fQVZBSUxBQkxFX0NIQU5ORUxdOntkZXNjOlwiV0FSTl9OT19BVkFJTEFCTEVfQ0hBTk5FTFwiLGFjdGlvbjpcImZhaWxlZFwifSxbWi5XQVJOX0xPT0tVUF9DSEFOTkVMX1RJTUVPVVRdOntkZXNjOlwiV0FSTl9MT09LVVBfQ0hBTk5FTF9USU1FT1VUXCIsYWN0aW9uOlwidHJ5TmV4dFwifSxbWi5XQVJOX0xPT0tVUF9DSEFOTkVMX1JFSkVDVEVEXTp7ZGVzYzpcIldBUk5fTE9PS1VQX0NIQU5ORUxfUkVKRUNURURcIixhY3Rpb246XCJmYWlsZWRcIn0sW1ouV0FSTl9PUEVOX0NIQU5ORUxfVElNRU9VVF06e2Rlc2M6XCJXQVJOX09QRU5fQ0hBTk5FTF9USU1FT1VUXCIsYWN0aW9uOlwidHJ5TmV4dFwifSxbWi5XQVJOX09QRU5fQ0hBTk5FTF9SRUpFQ1RFRF06e2Rlc2M6XCJXQVJOX09QRU5fQ0hBTk5FTF9SRUpFQ1RFRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbWi5XQVJOX1JFUVVFU1RfREVGRVJSRURdOntkZXNjOlwiV0FSTl9SRVFVRVNUX0RFRkVSUkVEXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtaLkVSUl9EWU5BTUlDX0tFWV9USU1FT1VUXTp7ZGVzYzpcIkVSUl9EWU5BTUlDX0tFWV9USU1FT1VUXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtaLkVSUl9OT19BVVRIT1JJWkVEXTp7ZGVzYzpcIkVSUl9OT19BVVRIT1JJWkVEXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtaLkVSUl9WT01fU0VSVklDRV9VTkFWQUlMQUJMRV06e2Rlc2M6XCJFUlJfVk9NX1NFUlZJQ0VfVU5BVkFJTEFCTEVcIixhY3Rpb246XCJ0cnlOZXh0XCJ9LFtaLkVSUl9OT19DSEFOTkVMX0FWQUlMQUJMRV9DT0RFXTp7ZGVzYzpcIkVSUl9OT19DSEFOTkVMX0FWQUlMQUJMRV9DT0RFXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtaLkVSUl9NQVNURVJfVk9DU19VTkFWQUlMQUJMRV06e2Rlc2M6XCJFUlJfTUFTVEVSX1ZPQ1NfVU5BVkFJTEFCTEVcIixhY3Rpb246XCJ0cnlOZXh0XCJ9LFtaLkVSUl9JTlRFUk5BTF9FUlJPUl06e2Rlc2M6XCJFUlJfSU5URVJOQUxfRVJST1JcIixhY3Rpb246XCJ0cnlOZXh0XCJ9LFtaLkVSUl9OT19BQ1RJVkVfU1RBVFVTXTp7ZGVzYzpcIkVSUl9OT19BQ1RJVkVfU1RBVFVTXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtaLkVSUl9JTlZBTElEX1VJRF06e2Rlc2M6XCJFUlJfSU5WQUxJRF9VSURcIixhY3Rpb246XCJmYWlsZWRcIn0sW1ouRVJSX0RZTkFNSUNfS0VZX0VYUElSRURdOntkZXNjOlwiRVJSX0RZTkFNSUNfS0VZX0VYUElSRURcIixhY3Rpb246XCJmYWlsZWRcIn0sW1ouRVJSX1NUQVRJQ19VU0VfRFlBTk1JQ19LRV06e2Rlc2M6XCJFUlJfU1RBVElDX1VTRV9EWUFOTUlDX0tFXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtaLkVSUl9EWU5BTUlDX1VTRV9TVEFUSUNfS0VdOntkZXNjOlwiRVJSX0RZTkFNSUNfVVNFX1NUQVRJQ19LRVwiLGFjdGlvbjpcImZhaWxlZFwifSxbWi5FUlJfTk9fVk9DU19BVkFJTEFCTEVdOntkZXNjOlwiRVJSX05PX1ZPQ1NfQVZBSUxBQkxFXCIsYWN0aW9uOlwidHJ5TmV4dFwifSxbWi5FUlJfTk9fVk9TX0FWQUlMQUJMRV06e2Rlc2M6XCJFUlJfTk9fVk9TX0FWQUlMQUJMRVwiLGFjdGlvbjpcInRyeU5leHRcIn0sW1ouRVJSX0pPSU5fQ0hBTk5FTF9USU1FT1VUXTp7ZGVzYzpcIkVSUl9KT0lOX0NIQU5ORUxfVElNRU9VVFwiLGFjdGlvbjpcInRyeU5leHRcIn0sW1ouRVJSX0pPSU5fQllfTVVMVElfSVBdOntkZXNjOlwiRVJSX0pPSU5fQllfTVVMVElfSVBcIixhY3Rpb246XCJyZWNvdmVyXCJ9LFtaLkVSUl9OT1RfSk9JTkVEXTp7ZGVzYzpcIkVSUl9OT1RfSk9JTkVEXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtaLkVSUl9SRVBFQVRfSk9JTl9SRVFVRVNUXTp7ZGVzYzpcIkVSUl9SRVBFQVRfSk9JTl9SRVFVRVNUXCIsYWN0aW9uOlwicXVpdFwifSxbWi5FUlJfUkVQRUFUX0pPSU5fQ0hBTk5FTF06e2Rlc2M6XCJFUlJfUkVQRUFUX0pPSU5fQ0hBTk5FTFwiLGFjdGlvbjpcInF1aXRcIn0sW1ouRVJSX0lOVkFMSURfU1RSSU5HVUlEXTp7ZGVzYzpcIkVSUl9JTlZBTElEX1NUUklOR1VJRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbWi5FUlJfVE9PX01BTllfVVNFUlNdOntkZXNjOlwiRVJSX1RPT19NQU5ZX1VTRVJTXCIsYWN0aW9uOlwidHJ5TmV4dFwifSxbWi5FUlJfU0VUX0NMSUVOVF9ST0xFX1RJTUVPVVRdOntkZXNjOlwiRVJSX1NFVF9DTElFTlRfUk9MRV9USU1FT1VUXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtaLkVSUl9TRVRfQ0xJRU5UX1JPTEVfTk9fUEVSTUlTU0lPTl06e2Rlc2M6XCJFUlJfU0VUX0NMSUVOVF9ST0xFX1RJTUVPVVRcIixhY3Rpb246XCJmYWlsZWRcIn0sW1ouRVJSX1NFVF9DTElFTlRfUk9MRV9BTFJFQURZX0lOX1VTRV06e2Rlc2M6XCJFUlJfU0VUX0NMSUVOVF9ST0xFX0FMUkVBRFlfSU5fVVNFXCIsYWN0aW9uOlwic3VjY2Vzc1wifSxbWi5FUlJfUFVCTElTSF9SRVFVRVNUX0lOVkFMSURdOntkZXNjOlwiRVJSX1BVQkxJU0hfUkVRVUVTVF9JTlZBTElEXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtaLkVSUl9TVUJTQ1JJQkVfUkVRVUVTVF9JTlZBTElEXTp7ZGVzYzpcIkVSUl9TVUJTQ1JJQkVfUkVRVUVTVF9JTlZBTElEXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtaLkVSUl9OT1RfU1VQUE9SVEVEX01FU1NBR0VdOntkZXNjOlwiRVJSX05PVF9TVVBQT1JURURfTUVTU0FHRVwiLGFjdGlvbjpcImZhaWxlZFwifSxbWi5FUlJfSUxMRUFHQUxfUExVR0lOXTp7ZGVzYzpcIkVSUl9JTExFQUdBTF9QTFVHSU5cIixhY3Rpb246XCJmYWlsZWRcIn0sW1ouSUxMRUdBTF9DTElFTlRfUk9MRV9MRVZFTF06e2Rlc2M6XCJJTExFR0FMX0NMSUVOVF9ST0xFX0xFVkVMXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtaLkVSUl9SRUpPSU5fVE9LRU5fSU5WQUxJRF06e2Rlc2M6XCJFUlJfUkVKT0lOX1RPS0VOX0lOVkFMSURcIixhY3Rpb246XCJmYWlsZWRcIn0sW1ouRVJSX1JFSk9JTl9VU0VSX05PVF9KT0lORURdOntkZXNjOlwiRVJSX1JFSk9JTl9OT1RfSk9JTkVEXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtaLkVSUl9JTlZBTElEX09QVElPTkFMX0lORk9dOntkZXNjOlwiRVJSX0lOVkFMSURfT1BUSU9OQUxfSU5GT1wiLGFjdGlvbjpcInF1aXRcIn0sW1ouRVJSX1RFU1RfUkVDT1ZFUl06e2Rlc2M6XCJFUlJfVEVTVF9SRUNPVkVSXCIsYWN0aW9uOlwicmVjb3ZlclwifSxbWi5FUlJfVEVTVF9UUllORVhUXTp7ZGVzYzpcIkVSUl9URVNUX1RSWU5FWFRcIixhY3Rpb246XCJyZWNvdmVyXCJ9LFtaLkVSUl9URVNUX1JFVFJZXTp7ZGVzYzpcIkVSUl9URVNUX1JFVFJZXCIsYWN0aW9uOlwicmVjb3ZlclwifSxbWi5JTExFR0FMX0FFU19QQVNTV09SRF06e2Rlc2M6XCJFUlJfVEVTVF9SRVRSWVwiLGFjdGlvbjpcImZhaWxlZFwifSxbWi5FUlJfVE9PX01BTllfQlJPQURDQVNURVJTXTp7ZGVzYzpcIkVSUl9UT09fTUFOWV9CUk9BRENBU1RFUlNcIixhY3Rpb246XCJmYWlsZWRcIn0sW1ouRVJSX1RPT19NQU5ZX1NVQlNDUklCRVJTXTp7ZGVzYzpcIkVSUl9UT09fTUFOWV9TVUJTQ1JJQkVSU1wiLGFjdGlvbjpcImZhaWxlZFwifSxbWi5FUlJfTElDRU5TRV9JTExFR0FMXTp7ZGVzYzpcIkVSUl9MSUNFTlNFX0lMTEVHQUxcIixhY3Rpb246XCJxdWl0XCJ9LFtaLkVSUl9MSUNFTlNFX01JU1NJTkddOntkZXNjOlwiRVJSX0xJQ0VOU0VfTUlTU0lOR1wiLGFjdGlvbjpcInF1aXRcIn0sW1ouRVJSX0xJQ0VOU0VfRVhQSVJFRF06e2Rlc2M6XCJFUlJfTElDRU5TRV9FWFBJUkVEXCIsYWN0aW9uOlwicXVpdFwifSxbWi5FUlJfTElDRU5TRV9NSU5VVEVTX0VYQ0VFREVEXTp7ZGVzYzpcIkVSUl9MSUNFTlNFX01JTlVURVNfRVhDRUVERURcIixhY3Rpb246XCJxdWl0XCJ9LFtaLkVSUl9MSUNFTlNFX1BFUklPRF9JTlZBTElEXTp7ZGVzYzpcIkVSUl9MSUNFTlNFX1BFUklPRF9JTlZBTElEXCIsYWN0aW9uOlwicXVpdFwifSxbWi5FUlJfTElDRU5TRV9NVUxUSVBMRV9TREtfU0VSVklDRV06e2Rlc2M6XCJFUlJfTElDRU5TRV9NVUxUSVBMRV9TREtfU0VSVklDRVwiLGFjdGlvbjpcInF1aXRcIn19O2Z1bmN0aW9uIE9jKHQpe3JldHVybiBsalt0XXx8e2Rlc2M6XCJVTktOT1dOX0VSUk9SX1wiLmNvbmNhdCh0KSxhY3Rpb246XCJmYWlsZWRcIn19ZnVuY3Rpb24geFIodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihpPWkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscikuZW51bWVyYWJsZX0pKSxuLnB1c2guYXBwbHkobixpKTt9cmV0dXJuIG59ZnVuY3Rpb24gVnAodCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdIT1udWxsP2FyZ3VtZW50c1tlXTp7fTtlJTI/eFIoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe1QodCxpLG5baV0pO30pOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOnhSKE9iamVjdChuKSkuZm9yRWFjaChmdW5jdGlvbihpKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxpLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixpKSk7fSk7fXJldHVybiB0fWZ1bmN0aW9uIFZSKHQpe3JldHVybiB0LmV2ZXJ5KGU9PmUucmVhZHlTdGF0ZT09PVdlYlNvY2tldC5DTE9TRUR8fGUucmVhZHlTdGF0ZT09PVdlYlNvY2tldC5DTE9TSU5HKX1mdW5jdGlvbiBGUih0LGUpe2lmKHR5cGVvZiB0PT1cInN0cmluZ1wiKXJldHVybiB0O2xldHtwcm94eTpuLGhvc3Q6aSxwb3J0OnJ9PXQ7aWYoZSl7bGV0IG89dihcIkpPSU5fR0FURVdBWV9GQUxMQkFDS19QT1JUXCIpfHw0NDM7cmV0dXJuIG89PT00NDM/XCJ3c3M6Ly9cIi5jb25jYXQoaSxcIi93cy8/cD1cIikuY29uY2F0KE51bWJlcihyKSsxNTApOlwid3NzOi8vXCIuY29uY2F0KGksXCI6XCIpLmNvbmNhdChvLFwiL3dzLz9wPVwiKS5jb25jYXQoTnVtYmVyKHIpKzE1MCl9cmV0dXJuIG4/XCJ3c3M6Ly9cIi5jb25jYXQobixcIi93cy8/aD1cIikuY29uY2F0KGksXCImcD1cIikuY29uY2F0KHIpOlwid3NzOi8vXCIuY29uY2F0KGksXCI6XCIpLmNvbmNhdChyKX12YXIgdWo9L3dzczpcXC9cXC8oLispXFwvd3NcXC9cXD9oPSguKykmcD0oWzAtOV0rKVxcLz8vLGhqPS93c3M6XFwvXFwvKC4rKVxcL3dzXFwvXFw/cD0oWzAtOV0rKVxcLz8vLHBqPS93c3M6XFwvXFwvKC4rKTooWzAtOV0rKVxcLz8vLF9qPS93c3M6XFwvXFwvKC5bXlxcL10rKVxcLz8vLEVqPTAsQkU9Y2xhc3N7Y29uc3RydWN0b3IoZSxuKXtUKHRoaXMsXCJpZFwiLDApLFQodGhpcyxcInN0b3JlXCIsdm9pZCAwKSxUKHRoaXMsXCJyZWNvcmRJbmRleFwiLHZvaWQgMCksVCh0aGlzLFwid2Vic29ja2V0c1wiLFtdKSxUKHRoaXMsXCJ0cnk0NDNQb3J0RHVyYXRpb25cIiwyZTMpLFQodGhpcyxcImZvcmNlQ2xvc2VXU0R1cmF0aW9uXCIsNWUzKSxUKHRoaXMsXCJ0cnk0NDNQb3J0VGltZW91dFwiLG51bGwpLFQodGhpcyxcImZvcmNlQ2xvc2VUaW1lb3V0XCIsbnVsbCksVCh0aGlzLFwiaXNUcnk0NDNQb3J0RmFpbGVkXCIsITEpLFQodGhpcyxcImlzTm9ybWFsUG9ydEZhaWxlZFwiLCExKSxUKHRoaXMsXCJ1c2VEb3VibGVEb21haW5cIiwhMSksVCh0aGlzLFwidXNlUHJveHlcIiwhMSksVCh0aGlzLFwic3RhcnRUaW1lXCIsRGF0ZS5ub3coKSksdGhpcy5pZD0rK0VqLHRoaXMudHJ5NDQzUG9ydER1cmF0aW9uPXYoXCJKT0lOX0dBVEVXQVlfVFJZXzQ0M1BPUlRfRFVSQVRJT05cIil8fDJlMyx0aGlzLmZvcmNlQ2xvc2VXU0R1cmF0aW9uPWV8fDVlMyx0aGlzLnN0b3JlPW47fWNsb3NlQWxsV2Vic29ja2V0cygpe3RoaXMud2Vic29ja2V0cy5mb3JFYWNoKGU9PntlLm9ub3Blbj1udWxsLGUub25jbG9zZT1udWxsLGUub25tZXNzYWdlPW51bGwsZS5jbG9zZSgpO30pLHRoaXMud2Vic29ja2V0cy5sZW5ndGg9MDt9Y2xlYXJUaW1lb3V0KCl7dGhpcy5mb3JjZUNsb3NlVGltZW91dCYmY2xlYXJUaW1lb3V0KHRoaXMuZm9yY2VDbG9zZVRpbWVvdXQpLHRoaXMudHJ5NDQzUG9ydFRpbWVvdXQmJmNsZWFyVGltZW91dCh0aGlzLnRyeTQ0M1BvcnRUaW1lb3V0KTt9bG9nZ2VyKCl7dmFyIGU7bGV0IG49RGF0ZS5ub3coKS10aGlzLnN0YXJ0VGltZTtmb3IodmFyIGk9YXJndW1lbnRzLmxlbmd0aCxyPW5ldyBBcnJheShpKSxvPTA7bzxpO28rKylyW29dPWFyZ3VtZW50c1tvXTtfLmRlYnVnKFwiW2Nob29zZS1iZXN0LXdzIFwiLmNvbmNhdCgoZT10aGlzLnN0b3JlKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuY2xpZW50SWQsXCIgXCIpLmNvbmNhdCh0aGlzLmlkLFwiXSBcIikuY29uY2F0KG4sXCJtczpcIiksLi4ucik7fWNyZWF0ZVdlYlNvY2tldChlLG4saSl7dGhpcy5sb2dnZXIoXCJjcmVhdGVXZWJTb2NrZXQ6XCIsZSx7aXNUcnk0NDNQb3J0Om4saGFzVGltZW91dERldGVjdGlvbjppfSk7bGV0IHI9dihcIkdBVEVXQVlfRE9NQUlOU1wiKSxvPURhdGUubm93KCkscz1bXSxhPXIuZmluZChsPT57dmFyIHU7cmV0dXJuIFcodT1lLmhvc3QpLmNhbGwodSxsKX0pO2F8fCh0aGlzLnVzZURvdWJsZURvbWFpbj0hMSk7bGV0IGM9W107aWYodGhpcy51c2VEb3VibGVEb21haW4pci5mb3JFYWNoKGw9PntjLnB1c2goRlIoVnAoVnAoe30sZSkse30se2hvc3Q6ZS5ob3N0LnJlcGxhY2UoYSxsKX0pLG4pKTt9KTtlbHNlIHtsZXQgbD1WcCh7fSxlKTtpZihuJiZhKXtsZXQgdT1yLmZpbmQoaD0+aCE9PWEpO3UmJihsLmhvc3Q9bC5ob3N0LnJlcGxhY2UoYSx1KSk7fWMucHVzaChGUihsLG4pKTt9dHJ5e2MuZm9yRWFjaChsPT57bGV0IHU9bmV3IFdlYlNvY2tldChsKTt1LmJpbmFyeVR5cGU9XCJhcnJheWJ1ZmZlclwiLHMucHVzaCh1KSx0aGlzLmxvZ2dlcihcIndzIGlzIGNvbm5lY3Rpbmc6XCIsdS51cmwpO30pO31jYXRjaChsKXtpZih0aGlzLmxvZ2dlcihcIndzIGNyZWF0ZSBmYWlsZWRcIikscy5mb3JFYWNoKHU9PnUuY2xvc2UoKSkscy5sZW5ndGg9MCx0aGlzLnVzZURvdWJsZURvbWFpbilyZXR1cm4gdGhpcy51c2VEb3VibGVEb21haW49ITEsdGhpcy5jcmVhdGVXZWJTb2NrZXQoZSxuLGkpO2lmKCFuJiZOdW1iZXIoZS5wb3J0KSE9PTQ0MylyZXR1cm4gdGhpcy5jcmVhdGVXZWJTb2NrZXQoZSwhMCxpKTt0aHJvdyBuZXcgTyhSLldTX0VSUixcImluaXQgd2Vic29ja2V0IGZhaWxlZCEgRXJyb3I6IFwiLmNvbmNhdChsLnRvU3RyaW5nKCkpKX1sZXQgZD12YygpO3JldHVybiB0aGlzLnN0b3JlJiZ0aGlzLnN0b3JlLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7dXJsczpzLm1hcChsPT5sLnVybCksc2VydmljZTpcImdhdGV3YXlcIn0sdGhpcy5yZWNvcmRJbmRleCkscy5mb3JFYWNoKGw9PntsLm9ub3Blbj0oKT0+e3RoaXMubG9nZ2VyKFwib25vcGVuOiB3cyBcIi5jb25jYXQobC51cmwsXCIgb3BlbiBjb3N0IFwiKS5jb25jYXQoRGF0ZS5ub3coKS1vLFwibXNcIikpLHRoaXMud2Vic29ja2V0cy5mb3JFYWNoKHU9Pnt1IT09bCYmKHUub25vcGVuPW51bGwsdS5vbmNsb3NlPW51bGwsdS5vbm1lc3NhZ2U9bnVsbCx1LmNsb3NlKCksdGhpcy5sb2dnZXIoXCJjbG9zZSBiYWNrdXAgd2Vic29ja2V0OiBcIi5jb25jYXQodS51cmwpKSk7fSksdGhpcy53ZWJzb2NrZXRzLmxlbmd0aD0wLGQucmVzb2x2ZShsKTt9LGwub25jbG9zZT11PT57dGhpcy5sb2dnZXIoXCJvbmNsb3NlOiB3cyBcIi5jb25jYXQobC51cmwsXCIgY2xvc2VkIGNvc3QgXCIpLmNvbmNhdChEYXRlLm5vdygpLW8sXCJtcyBzdGF0ZTogXCIpLmNvbmNhdChsLnJlYWR5U3RhdGUpKSxuP3RoaXMuaXNUcnk0NDNQb3J0RmFpbGVkPVZSKHMpOnRoaXMuaXNOb3JtYWxQb3J0RmFpbGVkPVZSKHMpLHRoaXMubG9nZ2VyKFwiNDQzOiBcIi5jb25jYXQodGhpcy51c2VQcm94eT9cIm5vdCB0cnlcIjp0aGlzLmlzVHJ5NDQzUG9ydEZhaWxlZD9cImZhaWxlZFwiOlwidHJ5aW5nXCIsXCIgNDd4eDogXCIpLmNvbmNhdCh0aGlzLmlzTm9ybWFsUG9ydEZhaWxlZD9cImZhaWxlZFwiOlwidHJ5aW5nXCIpKSwobiYmdGhpcy5pc1RyeTQ0M1BvcnRGYWlsZWR8fCFuJiYodGhpcy5pc1RyeTQ0M1BvcnRGYWlsZWR8fHRoaXMudXNlUHJveHkpJiZ0aGlzLmlzTm9ybWFsUG9ydEZhaWxlZCkmJih0aGlzLmxvZ2dlcihcIm9uY2xvc2U6IGFsbCB3ZWJzb2NrZXQgaXMgY2xvc2VkLCBcIi5jb25jYXQodS5yZWFzb24pKSxkLnJlamVjdCh7Y29kZTp1LmNvZGUscmVhc29uOlRsLkFfUk9VTkRfV1NfRkFJTEVEfSkpO30sbC5vbm1lc3NhZ2U9dT0+dGhpcy5sb2dnZXIoXCJcIi5jb25jYXQobC51cmwsXCIgb25tZXNzYWdlOiBcIikuY29uY2F0KHUuZGF0YSkpO30pLHRoaXMud2Vic29ja2V0cy5wdXNoKC4uLnMpLGl8fCgoKT0+e2xldCBsPSgpPT57dGhpcy5sb2dnZXIoXCI1cyB0aW1lb3V0IGNsb3NlIHVuLW9wZW5zLCBpc1dlYnNvY2tldCBjcmVhdGVkOiBcIixkLmlzUmVzb2x2ZWQpLHRoaXMud2Vic29ja2V0cy5mb3JFYWNoKHU9PnUucmVhZHlTdGF0ZSE9PVdlYlNvY2tldC5PUEVOJiZ1LmNsb3NlKCkpO307aWYobnx8dGhpcy51c2VQcm94eSlyZXR1cm4gdGhpcy5sb2dnZXIoXCJhZGQgNXMgdGltZW91dCBhdCBcIi5jb25jYXQobj9cInRyeS00NDNcIjpcInByb3h5XCIsXCIgY29uZGl0aW9uXCIpKSx0aGlzLmZvcmNlQ2xvc2VUaW1lb3V0PXdpbmRvdy5zZXRUaW1lb3V0KGwsdGhpcy5mb3JjZUNsb3NlV1NEdXJhdGlvbik7dGhpcy50cnk0NDNQb3J0VGltZW91dD13aW5kb3cuc2V0VGltZW91dCgoKT0+e2lmKHRoaXMubG9nZ2VyKFwiMnMgdGltZW91dCwgaXNXZWJzb2NrZXQgY3JlYXRlZDogXCIsZC5pc1Jlc29sdmVkKSxkLmlzUmVzb2x2ZWQpcmV0dXJuIGwoKTttdCgpLm9zPT09eWUuTUFDX09TJiYkdCgpJiZsKCksdGhpcy5jcmVhdGVXZWJTb2NrZXQoZSwhMCwhMCkudGhlbih1PT5kLnJlc29sdmUodSkpLmNhdGNoKHU9Pnt0aGlzLmlzTm9ybWFsUG9ydEZhaWxlZCYmZC5yZWplY3QodSksdGhpcy5sb2dnZXIoXCJ0cnkgNDQzIHBvcnQgdG8gY3JlYXRlIHdzIGZhaWxlZFwiKTt9KSx0aGlzLmZvcmNlQ2xvc2VUaW1lb3V0PXdpbmRvdy5zZXRUaW1lb3V0KGwsdGhpcy5mb3JjZUNsb3NlV1NEdXJhdGlvbik7fSx0aGlzLnRyeTQ0M1BvcnREdXJhdGlvbik7fSkoKSxkLnByb21pc2V9Y2hvb3NlQmVzdFdlYnNvY2tldChlLG4saSxyKXtyZXR1cm4gdGhpcy51c2VEb3VibGVEb21haW49ISFuLHR5cGVvZiBlPT1cInN0cmluZ1wiJiYoZT1mdW5jdGlvbihvKXtsZXQgcyxhLGM7cmV0dXJuIFsscyxhLGNdPW8ubWF0Y2godWopfHxbXSxzfHwoWyxhLGNdPW8ubWF0Y2goaGopfHxbXSksYSYmY3x8KFssYSxjXT1vLm1hdGNoKHBqKXx8W10pLGEmJmN8fChbLGFdPW8ubWF0Y2goX2opfHxbXSksYXx8Xy53YXJuaW5nKFwidW4tZGVzdHJ1Y3RpYmxlIHVybDogXCIsbykse3Byb3h5OnMsaG9zdDphLHBvcnQ6Y3x8XCI0NDNcIn19KGUpKSx0aGlzLnJlY29yZEluZGV4PXIsdGhpcy51c2VQcm94eT0hIWUucHJveHksaSYmdGhpcy51c2VQcm94eSYmKF8ud2FybihcImNhbm5vdCB1c2UgNDQzIG9ubHkgd2hlbiB1c2UgcHJveHlcIiksaT0hMSksdGhpcy5jcmVhdGVXZWJTb2NrZXQoZSwhIWksITEpLmZpbmFsbHkoKCk9PnRoaXMuY2xlYXJUaW1lb3V0KCkpfX07ZnVuY3Rpb24gQlIodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihpPWkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscikuZW51bWVyYWJsZX0pKSxuLnB1c2guYXBwbHkobixpKTt9cmV0dXJuIG59dmFyIHFsPWNsYXNzIGV4dGVuZHMgWHR7Z2V0IHVybCgpe3JldHVybiB0aGlzLndlYnNvY2tldCYmdGhpcy53ZWJzb2NrZXQudXJsfHxudWxsfWdldCByZWNvbm5lY3RNb2RlKCl7cmV0dXJuIHRoaXMuX3JlY29ubmVjdE1vZGV9c2V0IHJlY29ubmVjdE1vZGUoZSl7dmFyIG47VyhuPVtcInRyeU5leHRcIixcInJlY292ZXJcIl0pLmNhbGwobixlKSYmdGhpcy5yZXNldFJlY29ubmVjdENvdW50KGUpLHRoaXMuX3JlY29ubmVjdE1vZGU9ZTt9Z2V0IHN0YXRlKCl7cmV0dXJuIHRoaXMuX3N0YXRlfXNldCBzdGF0ZShlKXtlIT09dGhpcy5fc3RhdGUmJih0aGlzLl9zdGF0ZT1lLHRoaXMuX3N0YXRlPT09XCJyZWNvbm5lY3RpbmdcIj90aGlzLmVtaXQoaXQuUkVDT05ORUNUSU5HLHRoaXMucmVjb25uZWN0UmVhc29uKTp0aGlzLl9zdGF0ZT09PVwiY29ubmVjdGVkXCI/dGhpcy5lbWl0KGl0LkNPTk5FQ1RFRCk6dGhpcy5fc3RhdGU9PT1cImNsb3NlZFwiP3RoaXMuZW1pdChpdC5DTE9TRUQpOnRoaXMuX3N0YXRlPT09XCJmYWlsZWRcIiYmdGhpcy5lbWl0KGl0LkZBSUxFRCkpO31yZXNldFJlY29ubmVjdENvdW50KGUpe18uZGVidWcoXCJ3ZWJzb2NrZXQgcmVzZXQgcmVjb25uZWN0IGNvdW50LCByZWFzb246IFwiK2UpLHRoaXMucmVjb25uZWN0Q291bnQ9MDt9Y29uc3RydWN0b3IoZSxuKXtsZXQgaT1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXZvaWQgMCYmYXJndW1lbnRzWzJdLHI9YXJndW1lbnRzLmxlbmd0aD4zJiZhcmd1bWVudHNbM10hPT12b2lkIDAmJmFyZ3VtZW50c1szXSxvPWFyZ3VtZW50cy5sZW5ndGg+NCYmYXJndW1lbnRzWzRdIT09dm9pZCAwJiZhcmd1bWVudHNbNF0scz1hcmd1bWVudHMubGVuZ3RoPjU/YXJndW1lbnRzWzVdOnZvaWQgMDtzdXBlcigpLFQodGhpcyxcImNvbm5lY3Rpb25JRFwiLDApLFQodGhpcyxcImN1cnJlbnRVUkxJbmRleFwiLDApLFQodGhpcyxcInVybHNcIixbXSksVCh0aGlzLFwiX3JlY29ubmVjdE1vZGVcIixcInRyeU5leHRcIiksVCh0aGlzLFwicmVjb25uZWN0UmVhc29uXCIsdm9pZCAwKSxUKHRoaXMsXCJfaW5pdE11dGV4XCIsbmV3IHplKFwid2Vic29ja2V0XCIpKSxUKHRoaXMsXCJuYW1lXCIsdm9pZCAwKSxUKHRoaXMsXCJfc3RhdGVcIixcImNsb3NlZFwiKSxUKHRoaXMsXCJyZWNvbm5lY3RJbnRlcnJ1cHRlclwiLHZvaWQgMCksVCh0aGlzLFwid2Vic29ja2V0XCIsdm9pZCAwKSxUKHRoaXMsXCJyZXRyeUNvbmZpZ1wiLHZvaWQgMCksVCh0aGlzLFwicmVjb25uZWN0Q291bnRcIiwwKSxUKHRoaXMsXCJmb3JjZUNsb3NlVGltZW91dFwiLDVlMyksVCh0aGlzLFwib25saW5lUmVjb25uZWN0TGlzdGVuZXJcIix2b2lkIDApLFQodGhpcyxcInVzZUNvbXByZXNzXCIsdm9pZCAwKSxUKHRoaXMsXCJ0cnlEb3VibGVEb21haW5cIiwhMSksVCh0aGlzLFwidXNlNDQzUG9ydE9ubHlcIiwhMSksVCh0aGlzLFwid3NJbmZsYXRlTGVuZ3RoXCIsMCksVCh0aGlzLFwid3NEZWZsYXRlTGVuZ3RoXCIsMCksVCh0aGlzLFwiY2xvc2VFc3RhYmxpc2hpbmdXc1wiLCgpPT57fSksVCh0aGlzLFwic3RvcmVcIix2b2lkIDApLFQodGhpcyxcImpvaW5HYXRld2F5UmVjb3JkSW5kZXhcIix2b2lkIDApLHRoaXMuc3RvcmU9cyx0aGlzLm5hbWU9ZSx0aGlzLnJldHJ5Q29uZmlnPWZ1bmN0aW9uKHUpe2Zvcih2YXIgaD0xO2g8YXJndW1lbnRzLmxlbmd0aDtoKyspe3ZhciBwPWFyZ3VtZW50c1toXSE9bnVsbD9hcmd1bWVudHNbaF06e307aCUyP0JSKE9iamVjdChwKSwhMCkuZm9yRWFjaChmdW5jdGlvbihnKXtUKHUsZyxwW2ddKTt9KTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh1LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHApKTpCUihPYmplY3QocCkpLmZvckVhY2goZnVuY3Rpb24oZyl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHUsZyxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHAsZykpO30pO31yZXR1cm4gdX0oe30sbiksdGhpcy51c2VDb21wcmVzcz1pLHRoaXMudHJ5RG91YmxlRG9tYWluPXIsdGhpcy51c2U0NDNQb3J0T25seT1vO2xldHt0aW1lb3V0OmEsdGltZW91dEZhY3RvcjpjfT1uLGQ9TWF0aC5tYXgoMzAwLE1hdGguZmxvb3IoMyphLzUpKSxsPU1hdGgubWF4KDEuMixNYXRoLmZsb29yKDgqYykvMTApO3duLk9OTElORSYmKHRoaXMucmV0cnlDb25maWcudGltZW91dD1kLHRoaXMucmV0cnlDb25maWcudGltZW91dEZhY3Rvcj1sKSxoZS5vbihrcy5ORVRXT1JLX1NUQVRFX0NIQU5HRSwodSxoKT0+e3UhPT1oJiYodGhpcy5yZXNldFJlY29ubmVjdENvdW50KFwibmV0d29yayBzdGF0ZSBjaGFuZ2U6IFwiLmNvbmNhdChoLFwiIC0+IFwiKS5jb25jYXQodSkpLHU9PT13bi5PTkxJTkU/KHRoaXMucmV0cnlDb25maWcudGltZW91dD1kLHRoaXMucmV0cnlDb25maWcudGltZW91dEZhY3Rvcj1sKToodGhpcy5yZXRyeUNvbmZpZy50aW1lb3V0PWEsdGhpcy5yZXRyeUNvbmZpZy50aW1lb3V0RmFjdG9yPWMpKTt9KTt9Z2V0Q29ubmVjdGlvbigpe3JldHVybiB0aGlzLndlYnNvY2tldHx8dm9pZCAwfWFzeW5jIGluaXQoZSl7bGV0IG49YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOjVlMyxpPWF3YWl0IHRoaXMuX2luaXRNdXRleC5sb2NrKCk7dGhpcy5mb3JjZUNsb3NlVGltZW91dD1uLHRoaXMudXJscz1lLHRoaXMuc3RhdGU9XCJjb25uZWN0aW5nXCI7dHJ5e2xldCByPXZjKCksbz10aGlzLnVybHNbdGhpcy5jdXJyZW50VVJMSW5kZXhdO3YoXCJFTkFCTEVfUFJFQUxMT0NfUENcIikmJnRoaXMuZW1pdChQTy5QUkVfQ09OTkVDVF9QQyksdGhpcy5jcmVhdGVXZWJTb2NrZXRDb25uZWN0aW9uKG8pLnRoZW4oci5yZXNvbHZlKS5jYXRjaChyLnJlamVjdCksdGhpcy5vbmNlKGl0LkNMT1NFRCwoKT0+e3IucmVqZWN0KG5ldyBOKFIuV1NfRElTQ09OTkVDVCkpO30pLHRoaXMub25jZShpdC5DT05ORUNURUQsci5yZXNvbHZlKSxhd2FpdCByLnByb21pc2U7fWNhdGNoe31maW5hbGx5e2koKTt9fWNsb3NlKGUsbil7aWYodGhpcy5jdXJyZW50VVJMSW5kZXg9MCx0aGlzLnJlc2V0UmVjb25uZWN0Q291bnQoXCJjbG9zZVwiKSx0aGlzLnJlY29ubmVjdEludGVycnVwdGVyJiZ0aGlzLnJlY29ubmVjdEludGVycnVwdGVyKCksdGhpcy53ZWJzb2NrZXQpe3RoaXMud2Vic29ja2V0Lm9uY2xvc2U9bnVsbCx0aGlzLndlYnNvY2tldC5vbm9wZW49bnVsbCx0aGlzLndlYnNvY2tldC5vbm1lc3NhZ2U9bnVsbDtsZXQgaT10aGlzLndlYnNvY2tldDtuP3NldFRpbWVvdXQoKCk9PmkuY2xvc2UoKSw1MDApOmkuY2xvc2UoKSx0aGlzLndlYnNvY2tldD12b2lkIDA7fXRoaXMuc3RhdGU9ZT9cImZhaWxlZFwiOlwiY2xvc2VkXCIsdGhpcy5jbG9zZUVzdGFibGlzaGluZ1dzJiZ0aGlzLmNsb3NlRXN0YWJsaXNoaW5nV3MoKTt9cmVjb25uZWN0KGUsbil7aWYoIXRoaXMud2Vic29ja2V0KXJldHVybiB2b2lkIF8ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5uYW1lLFwiXSBjYW4gbm90IHJlY29ubmVjdCwgbm8gd2Vic29ja2V0XCIpKTtlIT09dm9pZCAwJiYodGhpcy5yZWNvbm5lY3RNb2RlPWUpLF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMubmFtZSxcIl0gcmVjb25uZWN0IGlzIHRyaWdnZXJlZCBpbml0aWF0aXZlXCIpKSx0eXBlb2YgdGhpcy5qb2luR2F0ZXdheVJlY29yZEluZGV4PT1cIm51bWJlclwiJiZ0aGlzLnN0b3JlJiZ0aGlzLnN0b3JlLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7c3RhdHVzOlwiZXJyb3JcIixlcnJvcnM6W25ldyBFcnJvcihuKV19LHRoaXMuam9pbkdhdGV3YXlSZWNvcmRJbmRleCk7bGV0IGk9dGhpcy53ZWJzb2NrZXQub25jbG9zZTt0aGlzLndlYnNvY2tldC5vbmNsb3NlPW51bGwsdGhpcy53ZWJzb2NrZXQuY2xvc2UoKSxpJiZpLmJpbmQodGhpcy53ZWJzb2NrZXQpKHtjb2RlOjk5OTkscmVhc29uOm59KTt9c2VuZE1lc3NhZ2UoZSl7bGV0IG49YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl0hPT12b2lkIDAmJmFyZ3VtZW50c1syXTtpZighdGhpcy53ZWJzb2NrZXR8fHRoaXMud2Vic29ja2V0LnJlYWR5U3RhdGUhPT1XZWJTb2NrZXQuT1BFTil0aHJvdyBuZXcgTihSLldTX0FCT1JULFwid2Vic29ja2V0IGlzIG5vdCByZWFkeVwiKTt0cnl7bnx8KGU9SlNPTi5zdHJpbmdpZnkoZSkpLHRoaXMud2Vic29ja2V0LnNlbmQoZSk7fWNhdGNoKGkpe3Rocm93IG5ldyBOKFIuV1NfRVJSLFwic2VuZCB3ZWJzb2NrZXQgbWVzc2FnZSBlcnJvclwiK2kudG9TdHJpbmcoKSl9fXNldFdzSW5mbGF0ZURhdGEoZSl7dGhpcy53c0RlZmxhdGVMZW5ndGg9dGhpcy53c0RlZmxhdGVMZW5ndGgrZS5vcmlnaW5MZW5ndGgsdGhpcy53c0luZmxhdGVMZW5ndGg9dGhpcy53c0luZmxhdGVMZW5ndGgrZS5jb21wcmVzc2VkTGVuZ3RoO31nZXRXc0luZmxhdGVEYXRhKCl7bGV0IGU9dGhpcy53c0luZmxhdGVMZW5ndGgsbj10aGlzLndzRGVmbGF0ZUxlbmd0aDtyZXR1cm4gdGhpcy5jbGVhcldzSW5mbGF0ZURhdGEoKSx7d3NJbmZsYXRlTGVuZ3RoOmUsd3NEZWZsYXRlTGVuZ3RoOm59fWNsZWFyV3NJbmZsYXRlRGF0YSgpe3RoaXMud3NJbmZsYXRlTGVuZ3RoPTAsdGhpcy53c0RlZmxhdGVMZW5ndGg9MDt9YXN5bmMgY3JlYXRlV2ViU29ja2V0Q29ubmVjdGlvbihlKXt2YXIgbjtsZXQgaT12YygpO3RoaXMuY29ubmVjdGlvbklEKz0xLHRoaXMuam9pbkdhdGV3YXlSZWNvcmRJbmRleD12b2lkIDA7bGV0IHI9bD0+e3ZhciB1Oyh1PXRoaXMuc3RvcmUpPT09bnVsbHx8dT09PXZvaWQgMHx8dS5zaWduYWxDaGFubmVsT3BlbigpLF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMubmFtZSxcIl0gd2Vic29ja2V0IG9wZW5lZDpcIiksbCksdGhpcy5yZWNvbm5lY3RNb2RlPVwicmV0cnlcIix0aGlzLnN0YXRlPVwiY29ubmVjdGVkXCIsdGhpcy5yZXNldFJlY29ubmVjdENvdW50KFwib3BlbmVkXCIpLGkucmVzb2x2ZSgpO30sbz1hc3luYyBsPT57dmFyIHU7aWYoXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5uYW1lLFwiXSB3ZWJzb2NrZXQgY2xvc2UgXCIpLmNvbmNhdCgodT10aGlzLndlYnNvY2tldCk9PT1udWxsfHx1PT09dm9pZCAwP3ZvaWQgMDp1LnVybCxcIiwgY29kZTogXCIpLmNvbmNhdChsLmNvZGUsXCIsIHJlYXNvbjogXCIpLmNvbmNhdChsLnJlYXNvbixcIiwgY3VycmVudCBtb2RlOiBcIikuY29uY2F0KHRoaXMucmVjb25uZWN0TW9kZSkpLHRoaXMucmVjb25uZWN0Q291bnQ+PXRoaXMucmV0cnlDb25maWcubWF4UmV0cnlDb3VudClpLnJlamVjdChuZXcgTihSLldTX0RJU0NPTk5FQ1QsXCJ3ZWJzb2NrZXQgY2xvc2U6IFwiLmNvbmNhdChsLmNvZGUpKSksdGhpcy5jbG9zZSgpO2Vsc2Uge3RoaXMuc3RhdGU9PT1cImNvbm5lY3RlZFwiJiYodGhpcy5yZWNvbm5lY3RSZWFzb249bC5yZWFzb24sdGhpcy5zdGF0ZT1cInJlY29ubmVjdGluZ1wiKTtsZXQgaD1uaSh0aGlzLGl0LldJTExfUkVDT05ORUNULHRoaXMucmVjb25uZWN0TW9kZSxsLnJlYXNvbil8fHRoaXMucmVjb25uZWN0TW9kZSxwPWF3YWl0IHRoaXMucmVjb25uZWN0V2l0aEFjdGlvbihoKTtpZih0aGlzLnN0YXRlPT09XCJjbG9zZWRcIilyZXR1cm4gdm9pZCBfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNvbm5lY3Rpb25JRCxcIl0gd3MgaXMgY2xvc2VkLCBubyBuZWVkIHRvIHJlY29ubmVjdFwiKSk7aWYoIXApcmV0dXJuIGkucmVqZWN0KG5ldyBOKFIuV1NfRElTQ09OTkVDVCxcIndlYnNvY2tldCByZWNvbm5lY3QgZmFpbGVkOiBcIi5jb25jYXQobC5jb2RlKSkpLHRoaXMuY2xvc2UoITApO2kucmVzb2x2ZSgpO319LHM9bD0+e3RoaXMuZW1pdChpdC5PTl9NRVNTQUdFLGwpO30sYT1sPT57Xy53YXJuKFwiW1wiLmNvbmNhdCh0aGlzLmNvbm5lY3Rpb25JRCxcIl0gd3Mgb3BlbiBlcnJvciBcIikuY29uY2F0KGwpKTt9O3RoaXMud2Vic29ja2V0JiYodGhpcy53ZWJzb2NrZXQub25jbG9zZT1udWxsLHRoaXMud2Vic29ja2V0LmNsb3NlKCkpLHYoXCJHQVRFV0FZX1dTU19BRERSRVNTXCIpJiZ0aGlzLm5hbWUuc3RhcnRzV2l0aChcImdhdGV3YXlcIikmJihlPXYoXCJHQVRFV0FZX1dTU19BRERSRVNTXCIpKSxfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLm5hbWUsXCJdIHN0YXJ0IGNvbm5lY3QsIHVybDpcIiksZSk7bGV0IGM9KG49dGhpcy5zdG9yZSk9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7c3RhcnRUczpEYXRlLm5vdygpLHN0YXR1czpcInBlbmRpbmdcIixzZXJ2aWNlOlwiZ2F0ZXdheVwifSk7dHJ5e3ZhciBkO2xldCBsPWF3YWl0IHRoaXMuY2hvb3NlQmVzdFdlYnNvY2tldENvbm5lY3Rpb24oZSk7dGhpcy53ZWJzb2NrZXQ9bCxyJiZyKHRoaXMud2Vic29ja2V0LnVybCksdGhpcy53ZWJzb2NrZXQub25jbG9zZT1vLHRoaXMud2Vic29ja2V0Lm9ubWVzc2FnZT1zLHRoaXMud2Vic29ja2V0Lm9uZXJyb3I9YSwoZD10aGlzLnN0b3JlKT09PW51bGx8fGQ9PT12b2lkIDB8fGQucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtlbmRUczpEYXRlLm5vdygpLHN0YXR1czpcInN1Y2Nlc3NcIn0sYyksdGhpcy5qb2luR2F0ZXdheVJlY29yZEluZGV4PWM7fWNhdGNoKGwpe2xldCB1PXRoaXMuc3RhdGU9PT1cImNsb3NlZFwiLGg9bCBpbnN0YW5jZW9mIE4scD1oJiZsLmNvZGU9PT1SLldTX0FCT1JULGc9aCYmbC5jb2RlPT09Ui5XU19FUlIsRT1oP2wubWVzc2FnZTpsJiYobC5yZWFzb258fGwudG9TdHJpbmcoKSk7Xy53YXJuaW5nKFwiW2Nob29zZS1iZXN0LXdzXSBjaG9vc2VCZXN0V2Vic29ja2V0IGVycm9yOiBcIi5jb25jYXQoRSkpLHRoaXMuc3RvcmUmJnRoaXMuc3RvcmUucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtlbmRUczpEYXRlLm5vdygpLHN0YXR1czpwP1wiYWJvcnRlZFwiOlwiZXJyb3JcIixlcnJvcnM6W2xdfSxjKSx1fHxnPyhpLnJlamVjdCh1P25ldyBOKFIuV1NfRElTQ09OTkVDVCxcIndlYnNvY2tldCBpcyBjbG9zZWQ6IFwiLmNvbmNhdChFKSk6bmV3IE4oUi5XU19FUlIsXCJpbml0IHdlYnNvY2tldCBmYWlsZWQ6IFwiLmNvbmNhdChFKSkpLGcmJl8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMubmFtZSxcIl0gaW5pdCB3ZWJzb2NrZXQgZmFpbGVkOiBcIikuY29uY2F0KEUpKSk6byYmbyhsKTt9cmV0dXJuIGkucHJvbWlzZX1hc3luYyByZWNvbm5lY3RXaXRoQWN0aW9uKGUpe2xldCBuPSEoYXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDApfHxhcmd1bWVudHNbMV07aWYodGhpcy5yZWNvbm5lY3RDb3VudD49dGhpcy5yZXRyeUNvbmZpZy5tYXhSZXRyeUNvdW50fHx0aGlzLnVybHMubGVuZ3RoPT09MHx8dGhpcy5zdGF0ZT09PVwiY2xvc2VkXCIpcmV0dXJuICExO18ud2FybmluZyhcIltjaG9vc2UtYmVzdC13c10gYWN0aW9uOiA9PlwiLGUpLHRoaXMub25saW5lUmVjb25uZWN0TGlzdGVuZXJ8fGhlLmlzT25saW5lfHwhaGUub25saW5lV2FpdGVyfHwodGhpcy5vbmxpbmVSZWNvbm5lY3RMaXN0ZW5lcj1oZS5vbmxpbmVXYWl0ZXIudGhlbigoKT0+e3RoaXMub25saW5lUmVjb25uZWN0TGlzdGVuZXI9dm9pZCAwO30pKTtsZXQgaT0hMDtpZih0aGlzLnJlY29ubmVjdEludGVycnVwdGVyPSgpPT5pPSExLG4pe2xldCBzPWhmKHRoaXMucmVjb25uZWN0Q291bnQsdGhpcy5yZXRyeUNvbmZpZyk7Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5uYW1lLFwiXSB3YWl0IFwiKS5jb25jYXQocyxcIm1zIHRvIHJlY29ubmVjdCB3ZWJzb2NrZXQsIG1vZGU6IFwiKS5jb25jYXQoZSkpLGF3YWl0IGoucmFjZShbTWUocyksdGhpcy5vbmxpbmVSZWNvbm5lY3RMaXN0ZW5lcnx8bmV3IGooKCk9Pnt9KV0pO31pZih0aGlzLl9zdGF0ZT09PVwiY2xvc2VkXCJ8fCFpKXJldHVybiAhMTt0aGlzLnJlY29ubmVjdENvdW50Kz0xO2xldCByPWFzeW5jKHMsYSk9Pnt0aGlzLmVtaXQoaXQuUkVDT05ORUNUX0NSRUFURV9DT05ORUNUSU9OLGEpLGF3YWl0IHRoaXMuY3JlYXRlV2ViU29ja2V0Q29ubmVjdGlvbihzKTt9O3RyeXtpZihlPT09XCJyZXRyeVwiKXRoaXMuZW1pdChpdC5SRUNPTk5FQ1RfV0FJVFRJTkdfRklOSVNILGUpLGF3YWl0IHIodGhpcy51cmxzW3RoaXMuY3VycmVudFVSTEluZGV4XSxlKTtlbHNlIGlmKGU9PT1cInRyeU5leHRcIil7aWYodGhpcy5jdXJyZW50VVJMSW5kZXgrPTEsdGhpcy5jdXJyZW50VVJMSW5kZXg+PXRoaXMudXJscy5sZW5ndGgpcmV0dXJuIHRoaXMucmVjb25uZWN0V2l0aEFjdGlvbihcInJlY292ZXJcIiwhMSk7Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5uYW1lLFwiXSB3ZWJzb2NrZXQgdXJsIGxlbmd0aDogXCIpLmNvbmNhdCh0aGlzLnVybHMubGVuZ3RoLFwiIGN1cnJlbnQgaW5kZXg6IFwiKS5jb25jYXQodGhpcy5jdXJyZW50VVJMSW5kZXgpKSx0aGlzLmVtaXQoaXQuUkVDT05ORUNUX1dBSVRUSU5HX0ZJTklTSCxlKSxhd2FpdCByKHRoaXMudXJsc1t0aGlzLmN1cnJlbnRVUkxJbmRleF0sZSk7fWVsc2UgZT09PVwicmVjb3ZlclwiJiYoXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5uYW1lLFwiXSByZXF1ZXN0IG5ldyB1cmxzXCIpKSx0aGlzLnJlc2V0UmVjb25uZWN0Q291bnQoXCJyZWNvdmVyIG1vZGVcIiksdGhpcy5lbWl0KGl0LlJFQ09OTkVDVF9XQUlUVElOR19GSU5JU0gsZSksdGhpcy51cmxzPWF3YWl0IEdlKHRoaXMsaXQuUkVRVUVTVF9ORVdfVVJMUyksdGhpcy5jdXJyZW50VVJMSW5kZXg9MCxhd2FpdCByKHRoaXMudXJsc1t0aGlzLmN1cnJlbnRVUkxJbmRleF0sZSkpO31jYXRjaChzKXt2YXIgbztfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLm5hbWUsXCJdIHJlY29ubmVjdCBmYWlsZWQgXCIpLmNvbmNhdChzJiZzLnRvU3RyaW5nKCkpKTtsZXQgYT1zPT1udWxsfHwobz1zLmRhdGEpPT09bnVsbHx8bz09PXZvaWQgMD92b2lkIDA6by5kZXNjO3JldHVybiBBcnJheS5pc0FycmF5KGEpJiZXKGEpLmNhbGwoYSxcImR5bmFtaWMga2V5IGV4cGlyZWRcIik/KHRoaXMuZW1pdChpdC5PTl9UT0tFTl9QUklWSUxFR0VfRElEX0VYUElSRSksITEpOnRoaXMucmVjb25uZWN0V2l0aEFjdGlvbihlLG4pfXJldHVybiAhMH19LE5jPWNsYXNzIGV4dGVuZHMgcWx7Y29uc3RydWN0b3IoZSxuKXtzdXBlcihlLG4sYXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl0hPT12b2lkIDAmJmFyZ3VtZW50c1syXSxhcmd1bWVudHMubGVuZ3RoPjMmJmFyZ3VtZW50c1szXSE9PXZvaWQgMCYmYXJndW1lbnRzWzNdLGFyZ3VtZW50cy5sZW5ndGg+NCYmYXJndW1lbnRzWzRdIT09dm9pZCAwJiZhcmd1bWVudHNbNF0sYXJndW1lbnRzLmxlbmd0aD41P2FyZ3VtZW50c1s1XTp2b2lkIDApO31hc3luYyBjaG9vc2VCZXN0V2Vic29ja2V0Q29ubmVjdGlvbihlLG4pe2xldCBpPXZjKCkscj1mdW5jdGlvbihzLGEpe3JldHVybiBuZXcgQkUocyxhKX0odGhpcy5mb3JjZUNsb3NlVGltZW91dCx0aGlzLnN0b3JlKTt0aGlzLmNsb3NlRXN0YWJsaXNoaW5nV3M9KCk9PntfLmRlYnVnKFwiW2Nob29zZS1iZXN0LXdzXSBjbG9zZSBlc3RhYmxpc2hpbmcgd2Vic29ja2V0c1wiKSxyLmNsb3NlQWxsV2Vic29ja2V0cygpLGkucmVqZWN0KG5ldyBOKFIuV1NfQUJPUlQsXCJjaG9vc2UgYmVzdCB3ZWJzb2NrZXQgYWJvcnRlZFwiKSk7fTtsZXQgbz12KFwiR0FURVdBWV9ET01BSU5TXCIpO3JldHVybiBfLmRlYnVnKFwiW2Nob29zZS1iZXN0LXdzXSBjdXJyZW50RG9tYWluOiBcIixlLFwiLCBkb21haW5zOiBcIixvLFwidG90YWw6IFwiLmNvbmNhdCh0aGlzLnVybHMubGVuZ3RoKSxcImN1cnJlbnQ6IFwiLmNvbmNhdCh0aGlzLmN1cnJlbnRVUkxJbmRleCsxKSksci5jaG9vc2VCZXN0V2Vic29ja2V0KGUsdGhpcy50cnlEb3VibGVEb21haW4sdGhpcy51c2U0NDNQb3J0T25seSxuKS50aGVuKGkucmVzb2x2ZSkuY2F0Y2goaS5yZWplY3QpLGkucHJvbWlzZS5maW5hbGx5KCgpPT57dGhpcy5jbG9zZUVzdGFibGlzaGluZ1dzPXZvaWQgMDt9KX19LFFvPWNsYXNzIGV4dGVuZHMgcWx7Y29uc3RydWN0b3IoZSxuKXtzdXBlcihlLG4sYXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl0hPT12b2lkIDAmJmFyZ3VtZW50c1syXSxhcmd1bWVudHMubGVuZ3RoPjMmJmFyZ3VtZW50c1szXSE9PXZvaWQgMCYmYXJndW1lbnRzWzNdLGFyZ3VtZW50cy5sZW5ndGg+NCYmYXJndW1lbnRzWzRdIT09dm9pZCAwJiZhcmd1bWVudHNbNF0sYXJndW1lbnRzLmxlbmd0aD41P2FyZ3VtZW50c1s1XTp2b2lkIDApO31hc3luYyBjaG9vc2VCZXN0V2Vic29ja2V0Q29ubmVjdGlvbihlLG4pe3JldHVybiBuZXcgaigoaSxyKT0+e2xldCBvPSExLHM9W107dGhpcy5jbG9zZUVzdGFibGlzaGluZ1dzPSgpPT57Xy5kZWJ1ZyhcIltjaG9vc2UtYmVzdC13c10gY2xvc2UgZXN0YWJsaXNoaW5nIHdlYnNvY2tldHNcIikscy5mb3JFYWNoKGc9PntnLm9uY2xvc2U9bnVsbCxnLm9ub3Blbj1udWxsLGcub25tZXNzYWdlPW51bGwsZy5jbG9zZSgpO30pLHIobmV3IE4oUi5XU19BQk9SVCxcImNob29zZSBiZXN0IHdlYnNvY2tldCBhYm9ydGVkXCIpKTt9O2xldCBhPXYoXCJHQVRFV0FZX0RPTUFJTlNcIiksYyxkPWUuaW5kZXhPZihcIj9oPVwiKSxsPWEuZmluZChnPT5kIT09LTE/VyhlKS5jYWxsKGUsZyxkKTpXKGUpLmNhbGwoZSxnKSk7Xy5kZWJ1ZyhcIltjaG9vc2UtYmVzdC13c10gY3VycmVudERvbWFpbjogXCIsbCxcIiwgZG9tYWluczogXCIsYSk7bGV0IHU9IXRoaXMudHJ5RG91YmxlRG9tYWlufHwhbDtpZighdSYmbCl7dmFyIGg7bGV0IGc9RGF0ZS5ub3coKTt0cnl7YS5mb3JFYWNoKEU9PntsZXQgZj1kPT09LTE/ZS5yZXBsYWNlKGwsRSk6ZS5zdWJzdHIoMCxkKStlLnN1YnN0cihkKS5yZXBsYWNlKGwsRSksUz1uZXcgV2ViU29ja2V0KGYpO1MuYmluYXJ5VHlwZT1cImFycmF5YnVmZmVyXCIscy5wdXNoKFMpLF8uZGVidWcoXCJbY2hvb3NlLWJlc3Qtd3NdIHdzIGlzIGNvbm5lY3Rpbmc6XCIsUy51cmwpO30pO31jYXRjaHtmb3IoXy5kZWJ1ZyhcIltjaG9vc2UtYmVzdC13c10gd3MgY3JlYXRlIGZhaWxlZCwgZmFsbGJhY2sgdG8gc2luZ2xlIHVybFwiKSxzLmZvckVhY2goZj0+Zi5jbG9zZSgpKTtzLmxlbmd0aDspcy5wb3AoKTt1PSEwO30oaD10aGlzLnN0b3JlKT09PW51bGx8fGg9PT12b2lkIDB8fGgucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHt1cmxzOnMubWFwKEU9PkUudXJsKSxzZXJ2aWNlOlwiZ2F0ZXdheVwifSxuKSxzLmZvckVhY2goRT0+e0Uub25vcGVuPSgpPT57aWYobylyZXR1cm47bGV0IGY9RGF0ZS5ub3coKS1nO18uZGVidWcoXCJbY2hvb3NlLWJlc3Qtd3NdIHdzIG9wZW4gY29zdCBcIi5jb25jYXQoZixcIm1zXCIpKSxzLmZpbHRlcihTPT5TIT09RSkuZm9yRWFjaChTPT57Xy5kZWJ1ZyhcIltjaG9vc2UtYmVzdC13c11jbG9zZSBiYWNrdXAgd2Vic29ja2V0OiBcIi5jb25jYXQoUy51cmwpKSxTLmNsb3NlKCk7fSksbz0hMCxpKEUpO30sRS5vbmNsb3NlPWY9PntjPWYsIW8mJihzLmZpbmQoUz0+IShTLnJlYWR5U3RhdGU9PT1XZWJTb2NrZXQuQ0xPU0VEfHxTLnJlYWR5U3RhdGU9PT1XZWJTb2NrZXQuQ0xPU0lORykpfHwoXy5kZWJ1ZyhcIltjaG9vc2UtYmVzdC13c10gYWxsIHdlYnNvY2tldCBpcyBjbG9zZWRcIiksbz0hMCxyKGMpKSk7fSxFLm9ubWVzc2FnZT1mPT57Xy5kZWJ1ZyhcIltjaG9vc2UtYmVzdC13c11cIi5jb25jYXQoRS51cmwsXCIgb25tZXNzYWdlOiBcIikuY29uY2F0KGYuZGF0YSkpO307fSksTWUodGhpcy5mb3JjZUNsb3NlVGltZW91dCkudGhlbigoKT0+e3MuZm9yRWFjaChFPT57RS5yZWFkeVN0YXRlIT09V2ViU29ja2V0Lk9QRU4mJkUuY2xvc2UoKTt9KTt9KTt9aWYodSl7dmFyIHA7bGV0IGc7Xy5kZWJ1ZyhcIltjaG9vc2UtYmVzdC13c10gdXNlIHNpbmdsZSB1cmw6IFwiLGUpLChwPXRoaXMuc3RvcmUpPT09bnVsbHx8cD09PXZvaWQgMHx8cC5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe3VybHM6W2VdLHNlcnZpY2U6XCJnYXRld2F5XCJ9LG4pO3RyeXtnPW5ldyBXZWJTb2NrZXQoZSkscy5wdXNoKGcpLGcuYmluYXJ5VHlwZT1cImFycmF5YnVmZmVyXCI7fWNhdGNoKEUpe2xldCBmPW5ldyBOKFIuV1NfRVJSLFwiaW5pdCB3ZWJzb2NrZXQgZmFpbGVkISBFcnJvcjogXCIuY29uY2F0KEUudG9TdHJpbmcoKSkpO3JldHVybiBfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLm5hbWUsXCJdXCIpLmNvbmNhdChmKSksdm9pZCByKGYpfWcub25vcGVuPSgpPT57aShnKTt9LGcub25jbG9zZT1FPT57cihFKTt9LGcub25tZXNzYWdlPUU9PntfLmRlYnVnKFwiW2Nob29zZS1iZXN0LXdzXVwiLmNvbmNhdChnLnVybCxcIiBvbm1lc3NhZ2U6IFwiKS5jb25jYXQoRS5kYXRhKSk7fSxNZSh0aGlzLmZvcmNlQ2xvc2VUaW1lb3V0KS50aGVuKCgpPT57ZyYmZy5yZWFkeVN0YXRlIT09V2ViU29ja2V0Lk9QRU4mJmcuY2xvc2UoKTt9KTt9fSkudGhlbihpPT4odGhpcy5jbG9zZUVzdGFibGlzaGluZ1dzPXZvaWQgMCxpKSkuY2F0Y2goaT0+e3Rocm93IHRoaXMuY2xvc2VFc3RhYmxpc2hpbmdXcz12b2lkIDAsaX0pfX0sakU9Y2xhc3MgZXh0ZW5kcyBYdHtnZXQgY29ubmVjdGlvblN0YXRlKCl7cmV0dXJuIHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZX1zZXQgY29ubmVjdGlvblN0YXRlKGUpe2UhPT10aGlzLl9jb25uZWN0aW9uU3RhdGUmJih0aGlzLl9jb25uZWN0aW9uU3RhdGU9ZSxlPT09THQuQ09OTkVDVEVEP3RoaXMuZW1pdChudC5XU19DT05ORUNURUQpOmU9PT1MdC5SRUNPTk5FQ1RJTkc/dGhpcy5lbWl0KG50LldTX1JFQ09OTkVDVElORyx0aGlzLl93ZWJzb2NrZXRSZWNvbm5lY3RSZWFzb24pOmU9PT1MdC5DTE9TRUQmJnRoaXMuZW1pdChudC5XU19DTE9TRUQsdGhpcy5fZGlzY29ubmVjdGVkUmVhc29uKSk7fWdldCBjdXJyZW50VVJMSW5kZXgoKXtyZXR1cm4gdGhpcy53ZWJzb2NrZXQuY3VycmVudFVSTEluZGV4fWdldCB1cmwoKXtyZXR1cm4gdGhpcy53ZWJzb2NrZXQmJnRoaXMud2Vic29ja2V0LnVybHx8bnVsbH1nZXQgcnR0KCl7cmV0dXJuIHRoaXMucnR0Um9sbGluZy5tZWFuKCl9Y29uc3RydWN0b3IoZSxuKXtzdXBlcigpLFQodGhpcyxcIl9kaXNjb25uZWN0ZWRSZWFzb25cIix2b2lkIDApLFQodGhpcyxcIl93ZWJzb2NrZXRSZWNvbm5lY3RSZWFzb25cIix2b2lkIDApLFQodGhpcyxcIl9jb25uZWN0aW9uU3RhdGVcIixMdC5DTE9TRUQpLFQodGhpcyxcInJlY29ubmVjdFRva2VuXCIsdm9pZCAwKSxUKHRoaXMsXCJ3ZWJzb2NrZXRcIix2b2lkIDApLFQodGhpcyxcIm9wZW5Db25uZWN0aW9uVGltZVwiLHZvaWQgMCksVCh0aGlzLFwiY2xpZW50SWRcIix2b2lkIDApLFQodGhpcyxcImxhc3RNc2dUaW1lXCIsRGF0ZS5ub3coKSksVCh0aGlzLFwidXBsb2FkQ2FjaGVcIixbXSksVCh0aGlzLFwidXBsb2FkQ2FjaGVJbnRlcnZhbFwiLHZvaWQgMCksVCh0aGlzLFwicnR0Um9sbGluZ1wiLG5ldyBIbCg1KSksVCh0aGlzLFwicGluZ3BvbmdUaW1lclwiLHZvaWQgMCksVCh0aGlzLFwid3NJbmZsYXRlRGF0YVRpbWVyXCIsdm9pZCAwKSxUKHRoaXMsXCJwaW5ncG9uZ1RpbWVvdXRDb3VudFwiLDApLFQodGhpcyxcImpvaW5SZXNwb25zZVwiLHZvaWQgMCksVCh0aGlzLFwibXVsdGlJcE9wdGlvblwiLHZvaWQgMCksVCh0aGlzLFwiaW5pdEVycm9yXCIsdm9pZCAwKSxUKHRoaXMsXCJzcGVjXCIsdm9pZCAwKSxUKHRoaXMsXCJzdG9yZVwiLHZvaWQgMCksVCh0aGlzLFwib25XZWJzb2NrZXRNZXNzYWdlXCIsaT0+e2lmKGkuZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXJldHVybiB2b2lkIHRoaXMuZW1pdChudC5PTl9CSU5BUllfREFUQSxpLmRhdGEpO2xldCByPUpTT04ucGFyc2UoaS5kYXRhKTtpZih0aGlzLmxhc3RNc2dUaW1lPURhdGUubm93KCksT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsXCJfaWRcIikpe2xldCBvPVwicmVzLUBcIi5jb25jYXQoci5faWQpO3RoaXMuZW1pdChvLHIuX3Jlc3VsdCxyLl9tZXNzYWdlKTt9ZWxzZSBpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixcIl90eXBlXCIpKXtpZih0aGlzLmVtaXQoci5fdHlwZSxyLl9tZXNzYWdlKSxyLl90eXBlPT09ZHQuT05fTk9USUZJQ0FUSU9OJiZ0aGlzLmhhbmRsZU5vdGlmaWNhdGlvbihyLl9tZXNzYWdlKSxyLl90eXBlPT09ZHQuT05fVVNFUl9CQU5ORUQpc3dpdGNoKHIuX21lc3NhZ2UuZXJyb3JfY29kZSl7Y2FzZSAxNDp0aGlzLmNsb3NlKEF0LlVJRF9CQU5ORUQpO2JyZWFrO2Nhc2UgMTU6dGhpcy5jbG9zZShBdC5JUF9CQU5ORUQpO2JyZWFrO2Nhc2UgMTY6dGhpcy5jbG9zZShBdC5DSEFOTkVMX0JBTk5FRCk7fWlmKHIuX3R5cGU9PT1kdC5PTl9VU0VSX0xJQ0VOU0VfQkFOTkVEKXN3aXRjaChyLl9tZXNzYWdlLmVycm9yX2NvZGUpe2Nhc2UgWi5FUlJfTElDRU5TRV9NSVNTSU5HOnRoaXMuY2xvc2UoQXQuTElDRU5TRV9NSVNTSU5HKTticmVhaztjYXNlIFouRVJSX0xJQ0VOU0VfRVhQSVJFRDp0aGlzLmNsb3NlKEF0LkxJQ0VOU0VfRVhQSVJFRCk7YnJlYWs7Y2FzZSBaLkVSUl9MSUNFTlNFX01JTlVURVNfRVhDRUVERUQ6dGhpcy5jbG9zZShBdC5MSUNFTlNFX01JTlVURVNfRVhDRUVERUQpO2JyZWFrO2Nhc2UgWi5FUlJfTElDRU5TRV9QRVJJT0RfSU5WQUxJRDp0aGlzLmNsb3NlKEF0LkxJQ0VOU0VfUEVSSU9EX0lOVkFMSUQpO2JyZWFrO2Nhc2UgWi5FUlJfTElDRU5TRV9NVUxUSVBMRV9TREtfU0VSVklDRTp0aGlzLmNsb3NlKEF0LkxJQ0VOU0VfTVVMVElQTEVfU0RLX1NFUlZJQ0UpO2JyZWFrO2Nhc2UgWi5FUlJfTElDRU5TRV9JTExFR0FMOnRoaXMuY2xvc2UoQXQuTElDRU5TRV9JTExFR0FMKTticmVhaztkZWZhdWx0OnRoaXMuY2xvc2UoKTt9fX0pLHRoaXMuY2xpZW50SWQ9ZS5jbGllbnRJZCx0aGlzLnNwZWM9ZSx0aGlzLnN0b3JlPW4sdGhpcy53ZWJzb2NrZXQ9bmV3IE5jKFwiZ2F0ZXdheS1cIi5jb25jYXQodGhpcy5jbGllbnRJZCksdGhpcy5zcGVjLnJldHJ5Q29uZmlnLCEwLHYoXCJKT0lOX0dBVEVXQVlfVVNFX0RVQUxfRE9NQUlOXCIpLHYoXCJKT0lOX0dBVEVXQVlfVVNFXzQ0M1BPUlRfT05MWVwiKSxuKSx0aGlzLmhhbmRsZVdlYnNvY2tldEV2ZW50cygpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib2ZmbGluZVwiLCgpPT57dGhpcy5jb25uZWN0aW9uU3RhdGU9PT1MdC5DT05ORUNURUQmJnRoaXMucmVjb25uZWN0KFwicmV0cnlcIixCZS5PRkZMSU5FKTt9KTt9YXN5bmMgcmVxdWVzdChlLG4saSxyKXtsZXQgbz1VdCg2LFwiXCIpLHM9e19pZDpvLF90eXBlOmUsX21lc3NhZ2U6bn0sYT10aGlzLndlYnNvY2tldC5jb25uZWN0aW9uSUQsYz0oKT0+bmV3IGooKGcsRSk9PntpZih0aGlzLmNvbm5lY3Rpb25TdGF0ZT09PUx0LkNPTk5FQ1RFRClyZXR1cm4gZygpO2xldCBmPSgpPT57dGhpcy5vZmYobnQuV1NfQ0xPU0VELFMpLGcoKTt9LFM9KCk9Pnt0aGlzLm9mZihudC5XU19DT05ORUNURUQsZiksRShuZXcgTyhSLldTX0FCT1JUKSk7fTt0aGlzLm9uY2UobnQuV1NfQ09OTkVDVEVELGYpLHRoaXMub25jZShudC5XU19DTE9TRUQsUyksZSE9PWV0LlBVQkxJU0gmJmUhPT1ldC5QVUJMSVNIX0RBVEFTVFJFQU0mJmUhPT1ldC5TVUJTQ1JJQkUmJmUhPT1ldC5TVUJTQ1JJQkVfREFUQVNUUkVBTSYmZSE9PWV0LlVOU1VCU0NSSUJFJiZlIT09ZXQuVU5TVUJTQ1JJQkVfREFUQVNUUkVBTSYmZSE9PWV0LlVOUFVCTElTSCYmZSE9PWV0LlVOUFVCTElTSF9EQVRBU1RSRUFNJiZlIT09ZXQuQ09OVFJPTCYmZSE9PWV0LlJFU1RBUlRfSUNFfHx0aGlzLm9uY2UobnQuRElTQ09OTkVDVF9QMlAsKCk9PntFKG5ldyBPKFIuRElTQ09OTkVDVF9QMlApKTt9KSxlIT09ZXQuUFVCTElTSCYmZSE9PWV0LlJFU1RBUlRfSUNFfHx0aGlzLm9uY2UobnQuQUJPUlRfUDJQX0VYRUNVVElPTiwoKT0+e0UobmV3IE8oUi5ESVNDT05ORUNUX1AyUCkpO30pO30pO2lmKHRoaXMuY29ubmVjdGlvblN0YXRlIT09THQuQ09OTkVDVElORyYmdGhpcy5jb25uZWN0aW9uU3RhdGUhPT1MdC5SRUNPTk5FQ1RJTkd8fGU9PT1ldC5KT0lOfHxlPT09ZXQuUkVKT0lOfHxhd2FpdCBjKCksdGhpcy53ZWJzb2NrZXQuc2VuZE1lc3NhZ2UocywhMCkscilyZXR1cm47bGV0IGQ9bmV3IGooKGcsRSk9PntsZXQgZj0hMSxTPShBLGIpPT57Zj0hMCxnKHtpc1N1Y2Nlc3M6QT09PVwic3VjY2Vzc1wiLG1lc3NhZ2U6Ynx8e319KSx0aGlzLm9mZihudC5XU19DTE9TRUQsQyksdGhpcy5vZmYobnQuV1NfUkVDT05ORUNUSU5HLEMpLHRoaXMuZW1pdChudC5SRVFVRVNUX1NVQ0NFU1MsZSxuKTt9O3RoaXMub25jZShcInJlcy1AXCIuY29uY2F0KG8pLFMpO2xldCBDPSgpPT57RShuZXcgTyhSLldTX0FCT1JULFwidHlwZTogXCIuY29uY2F0KGUpKSksdGhpcy5vZmYobnQuV1NfQ0xPU0VELEMpLHRoaXMub2ZmKG50LldTX1JFQ09OTkVDVElORyxDKSx0aGlzLm9mZihcInJlcy1AXCIuY29uY2F0KG8pLFMpO307dGhpcy5vbmNlKG50LldTX0NMT1NFRCxDKSx0aGlzLm9uY2UobnQuV1NfUkVDT05ORUNUSU5HLEMpLE1lKHYoXCJTSUdOQUxfUkVRVUVTVF9USU1FT1VUXCIpKS50aGVuKCgpPT57dGhpcy53ZWJzb2NrZXQuY29ubmVjdGlvbklEIT09YXx8Znx8KF8ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gd3MgcmVxdWVzdCB0aW1lb3V0LCB0eXBlOiBcIikuY29uY2F0KGUpKSx0aGlzLmVtaXQobnQuUkVRVUVTVF9USU1FT1VULGUsbikpO30pO30pLGw9bnVsbDt0cnl7bD1hd2FpdCBkO31jYXRjaChnKXtpZih0aGlzLmNvbm5lY3Rpb25TdGF0ZT09PUx0LkNMT1NFRHx8ZT09PWV0LkxFQVZFKXRocm93IG5ldyBPKFIuV1NfQUJPUlQpO3JldHVybiAhdGhpcy5zcGVjLmZvcmNlV2FpdEdhdGV3YXlSZXNwb25zZXx8aT9nLnRocm93KCk6ZT09PWV0LkpPSU58fGU9PT1ldC5SRUpPSU4/bnVsbDooYXdhaXQgYygpLGF3YWl0IHRoaXMucmVxdWVzdChlLG4pKX1pZihsLmlzU3VjY2VzcylyZXR1cm4gbC5tZXNzYWdlO2xldCB1PU51bWJlcihsLm1lc3NhZ2UuZXJyb3JfY29kZXx8bC5tZXNzYWdlLmNvZGUpLGg9T2ModSkscD1uZXcgTyhSLlVORVhQRUNURURfUkVTUE9OU0UsXCJcIi5jb25jYXQoaC5kZXNjLFwiOiBcIikuY29uY2F0KGwubWVzc2FnZS5lcnJvcl9zdHIpLHtjb2RlOnUsZGF0YTpsLm1lc3NhZ2UsZGVzYzpoLmRlc2N9KTtyZXR1cm4gaC5hY3Rpb249PT1cInN1Y2Nlc3NcIj9sLm1lc3NhZ2U6KF8ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gW1wiKS5jb25jYXQodGhpcy53ZWJzb2NrZXQuY29ubmVjdGlvbklELFwiXSB1bmV4cGVjdGVkIHJlc3BvbnNlIGZyb20gdHlwZSBcIikuY29uY2F0KGUsXCIsIGVycm9yX2NvZGU6IFwiKS5jb25jYXQodSxcIiwgbWVzc2FnZTogXCIpLmNvbmNhdChoLmRlc2MsXCIsIGFjdGlvbjogXCIpLmNvbmNhdChoLmFjdGlvbikpLHU9PT1aLkVSUl9UT09fTUFOWV9CUk9BRENBU1RFUlM/KChlPT09ZXQuSk9JTnx8ZT09PWV0LlJFSk9JTikmJih0aGlzLmluaXRFcnJvcj1wLHRoaXMuY2xvc2UoKSkscC50aHJvdygpKTpoLmFjdGlvbj09PVwiZmFpbGVkXCI/cC50aHJvdygpOmguYWN0aW9uPT09XCJxdWl0XCI/KHRoaXMuaW5pdEVycm9yPXAsdGhpcy5jbG9zZSgpLHAudGhyb3coKSk6KHU9PT1aLkVSUl9KT0lOX0JZX01VTFRJX0lQPyh0aGlzLm11bHRpSXBPcHRpb249bC5tZXNzYWdlLm9wdGlvbixfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIGRldGVjdCBtdWx0aSBpcCwgcmVjb3ZlclwiKSksdGhpcy5yZWNvbm5lY3QoXCJyZWNvdmVyXCIsQmUuTVVMVElfSVApKTp0aGlzLnJlY29ubmVjdChoLmFjdGlvbixCZS5TRVJWRVJfRVJST1IpLGU9PT1ldC5KT0lOfHxlPT09ZXQuUkVKT0lOP251bGw6YXdhaXQgdGhpcy5yZXF1ZXN0KGUsbikpKX13YWl0TWVzc2FnZShlLG4pe3JldHVybiBuZXcgaihpPT57bGV0IHI9bz0+eyghbnx8bihvKSkmJih0aGlzLm9mZihlLHIpLGkobykpO307dGhpcy5vbihlLHIpO30pfXVwbG9hZFdSVENTdGF0cyhlKXtpZighdGhpcy5zdG9yZS5zZXNzaW9uSWQpcmV0dXJuIHZvaWQgXy53YXJuKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBubyBzZXNzaW9uIGlkIHdoZW4gdXBsb2FkIHdydGMgc3RhdHNcIikpO2xldCBuPXtsdHM6RGF0ZS5ub3coKSxzaWQ6dGhpcy5zdG9yZS5zZXNzaW9uSWQsdWlkOnRoaXMuc3RvcmUuaW50VWlkLHN0YXRzOmV9O3RoaXMudXBsb2FkKHdjLldSVENfU1RBVFMsbik7fXVwbG9hZChlLG4pe2xldCBpPXtfdHlwZTplLF9tZXNzYWdlOm59O3RyeXt0aGlzLndlYnNvY2tldC5zZW5kTWVzc2FnZShpKTt9Y2F0Y2h7bGV0IG89dihcIk1BWF9VUExPQURfQ0FDSEVcIil8fDUwO3RoaXMudXBsb2FkQ2FjaGUucHVzaChpKSx0aGlzLnVwbG9hZENhY2hlLmxlbmd0aD5vJiZ0aGlzLnVwbG9hZENhY2hlLnNwbGljZSgwLDEpLHRoaXMudXBsb2FkQ2FjaGUubGVuZ3RoPjAmJiF0aGlzLnVwbG9hZENhY2hlSW50ZXJ2YWwmJih0aGlzLnVwbG9hZENhY2hlSW50ZXJ2YWw9d2luZG93LnNldEludGVydmFsKCgpPT57aWYodGhpcy5jb25uZWN0aW9uU3RhdGUhPT1MdC5DT05ORUNURUQpcmV0dXJuO2xldCBzPXRoaXMudXBsb2FkQ2FjaGUuc3BsaWNlKDAsMSlbMF07dGhpcy51cGxvYWRDYWNoZS5sZW5ndGg9PT0wJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy51cGxvYWRDYWNoZUludGVydmFsKSx0aGlzLnVwbG9hZENhY2hlSW50ZXJ2YWw9dm9pZCAwKSx0aGlzLnVwbG9hZChzLl90eXBlLHMuX21lc3NhZ2UpO30sdihcIlVQTE9BRF9DQUNIRV9JTlRFUlZBTFwiKXx8MmUzKSk7fX1zZW5kKGUsbil7bGV0IGk9e190eXBlOmUsX21lc3NhZ2U6bn07dGhpcy53ZWJzb2NrZXQuc2VuZE1lc3NhZ2UoaSk7fWluaXQoZSxuKXtyZXR1cm4gdGhpcy5pbml0RXJyb3I9dm9pZCAwLHRoaXMubXVsdGlJcE9wdGlvbj12b2lkIDAsdGhpcy5qb2luUmVzcG9uc2U9dm9pZCAwLHRoaXMucmVjb25uZWN0VG9rZW49dm9pZCAwLHRoaXMub3BlbkNvbm5lY3Rpb25UaW1lPXZvaWQgMCxuZXcgaigoaSxyKT0+e3RoaXMub25jZShudC5XU19DT05ORUNURUQsKCk9PmkodGhpcy5qb2luUmVzcG9uc2UpKSx0aGlzLm9uY2UobnQuV1NfQ0xPU0VELCgpPT5yKHRoaXMuaW5pdEVycm9yfHxuZXcgTyhSLldTX0FCT1JUKSkpLHRoaXMuY29ubmVjdGlvblN0YXRlPUx0LkNPTk5FQ1RJTkcsdGhpcy53ZWJzb2NrZXQuaW5pdChlKS5jYXRjaChyKSx0aGlzLndzSW5mbGF0ZURhdGFUaW1lciYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy53c0luZmxhdGVEYXRhVGltZXIpLHRoaXMud3NJbmZsYXRlRGF0YVRpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCgoKT0+e3RoaXMuaGFuZGxlV3NJbmZsYXRlRGF0YSgpO30sMmU0KTt9KX1jbG9zZShlKXt0aGlzLnBpbmdwb25nVGltZXImJih0aGlzLnBpbmdwb25nVGltZW91dENvdW50PTAsd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5waW5ncG9uZ1RpbWVyKSx0aGlzLnBpbmdwb25nVGltZXI9dm9pZCAwKSx0aGlzLndzSW5mbGF0ZURhdGFUaW1lciYmKHRoaXMuaGFuZGxlV3NJbmZsYXRlRGF0YSgpLHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMud3NJbmZsYXRlRGF0YVRpbWVyKSx0aGlzLndzSW5mbGF0ZURhdGFUaW1lcj12b2lkIDApLHRoaXMucmVjb25uZWN0VG9rZW49dm9pZCAwLHRoaXMuam9pblJlc3BvbnNlPXZvaWQgMCx0aGlzLl9kaXNjb25uZWN0ZWRSZWFzb249ZXx8QXQuTEVBVkUsdGhpcy5jb25uZWN0aW9uU3RhdGU9THQuQ0xPU0VELF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIFwiKStcIndpbGwgY2xvc2Ugd2Vic29ja2V0IGluIHNpZ25hbFwiKSx0aGlzLndlYnNvY2tldC5jbG9zZSgpO31hc3luYyBqb2luKCl7aWYoIXRoaXMuam9pblJlc3BvbnNlKXt0aGlzLmVtaXQobnQuQUJPUlRfUDJQX0VYRUNVVElPTik7bGV0IGU9YXdhaXQgR2UodGhpcyxudC5SRVFVRVNUX0pPSU5fSU5GTyksbj1hd2FpdCB0aGlzLnJlcXVlc3QoZXQuSk9JTixlKTtpZighbilyZXR1cm4gdGhpcy5lbWl0KG50LlJFUE9SVF9KT0lOX0dBVEVXQVksVGwuVElNRU9VVCx0aGlzLnVybHx8XCJcIiksITE7dGhpcy5qb2luUmVzcG9uc2U9bix0aGlzLmVtaXQobnQuSk9JTl9SRVNQT05TRSx0aGlzLmpvaW5SZXNwb25zZSksdGhpcy5yZWNvbm5lY3RUb2tlbj10aGlzLmpvaW5SZXNwb25zZS5yZWpvaW5fdG9rZW47fXJldHVybiB0aGlzLmNvbm5lY3Rpb25TdGF0ZT1MdC5DT05ORUNURUQsdGhpcy5waW5ncG9uZ1RpbWVyJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnBpbmdwb25nVGltZXIpLHRoaXMucGluZ3BvbmdUaW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwodGhpcy5oYW5kbGVQaW5nUG9uZy5iaW5kKHRoaXMpLDNlMyksITB9YXN5bmMgcmVqb2luKCl7aWYoIXRoaXMucmVjb25uZWN0VG9rZW4pdGhyb3cgbmV3IE8oUi5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCByZWpvaW4sIG5vIHJlam9pbiB0b2tlblwiKTtsZXQgZT1BYyh0aGlzLG50LlJFUVVFU1RfUkVKT0lOX0lORk8pO2UudG9rZW49dGhpcy5yZWNvbm5lY3RUb2tlbjtsZXQgbj1hd2FpdCB0aGlzLnJlcXVlc3QoZXQuUkVKT0lOLGUpO3JldHVybiAhIW4mJih0aGlzLmNvbm5lY3Rpb25TdGF0ZT1MdC5DT05ORUNURUQsdGhpcy5waW5ncG9uZ1RpbWVyJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnBpbmdwb25nVGltZXIpLHRoaXMucGluZ3BvbmdUaW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwodGhpcy5oYW5kbGVQaW5nUG9uZy5iaW5kKHRoaXMpLDNlMyksbi5wZWVycyYmbi5wZWVycy5mb3JFYWNoKGk9Pnt0aGlzLmVtaXQoZHQuT05fVVNFUl9PTkxJTkUse3VpZDppLnVpZH0pLGkuYXVkaW8mJnRoaXMuZW1pdChkdC5PTl9BRERfQVVESU9fU1RSRUFNLHt1aWQ6aS51aWQsdWludF9pZDppLnVpbnRfaWQsYXVkaW86ITAsc3NyY0lkOmkuYXVkaW9fc3NyY30pLGkudmlkZW8mJnRoaXMuZW1pdChkdC5PTl9BRERfVklERU9fU1RSRUFNLHt1aWQ6aS51aWQsdWludF9pZDppLnVpbnRfaWQsdmlkZW86ITAsc3NyY0lkOmkudmlkZW9fc3NyY30pLGkuYXVkaW9fbXV0ZT90aGlzLmVtaXQoZHQuTVVURV9BVURJTyx7dWlkOmkudWlkfSk6dGhpcy5lbWl0KGR0LlVOTVVURV9BVURJTyx7dWlkOmkudWlkfSksaS52aWRlb19tdXRlP3RoaXMuZW1pdChkdC5NVVRFX1ZJREVPLHt1aWQ6aS51aWR9KTp0aGlzLmVtaXQoZHQuVU5NVVRFX1ZJREVPLHt1aWQ6aS51aWR9KSxpLmF1ZGlvX2VuYWJsZV9sb2NhbD90aGlzLmVtaXQoZHQuRU5BQkxFX0xPQ0FMX0FVRElPLHt1aWQ6aS51aWR9KTp0aGlzLmVtaXQoZHQuRElTQUJMRV9MT0NBTF9BVURJTyx7dWlkOmkudWlkfSksaS52aWRlb19lbmFibGVfbG9jYWw/dGhpcy5lbWl0KGR0LkVOQUJMRV9MT0NBTF9WSURFTyx7dWlkOmkudWlkfSk6dGhpcy5lbWl0KGR0LkRJU0FCTEVfTE9DQUxfVklERU8se3VpZDppLnVpZH0pLGkuYXVkaW98fGkudmlkZW98fHRoaXMuZW1pdChkdC5PTl9SRU1PVkVfU1RSRUFNLHt1aWQ6aS51aWQsdWludF9pZDppLnVpbnRfaWR9KTt9KSwhMCl9cmVjb25uZWN0KGUsbil7dGhpcy5waW5ncG9uZ1RpbWVyJiYodGhpcy5waW5ncG9uZ1RpbWVvdXRDb3VudD0wLHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMucGluZ3BvbmdUaW1lciksdGhpcy5waW5ncG9uZ1RpbWVyPXZvaWQgMCksdGhpcy53ZWJzb2NrZXQucmVjb25uZWN0KGUsbik7fWhhbmRsZU5vdGlmaWNhdGlvbihlKXtfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSByZWNlaXZlIG5vdGlmaWNhdGlvbjogXCIpLGUpO2xldCBuPU9jKGUuY29kZSk7aWYobi5hY3Rpb24hPT1cInN1Y2Nlc3NcIil7aWYobi5hY3Rpb24hPT1cImZhaWxlZFwiKXJldHVybiBuLmFjdGlvbj09PVwicXVpdFwiPyhuLmRlc2M9PT1cIkVSUl9SRVBFQVRfSk9JTl9DSEFOTkVMXCImJnRoaXMuY2xvc2UoQXQuVUlEX0JBTk5FRCksdm9pZCB0aGlzLmNsb3NlKCkpOnZvaWQgdGhpcy5yZWNvbm5lY3Qobi5hY3Rpb24sQmUuU0VSVkVSX0VSUk9SKTtfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBpZ25vcmUgZXJyb3I6IFwiKSxuLmRlc2MpO319aGFuZGxlUGluZ1BvbmcoKXtpZighdGhpcy53ZWJzb2NrZXR8fHRoaXMud2Vic29ja2V0LnN0YXRlIT09XCJjb25uZWN0ZWRcIilyZXR1cm47dGhpcy5waW5ncG9uZ1RpbWVvdXRDb3VudD4wJiZ0aGlzLnJ0dFJvbGxpbmcuYWRkKDNlMyksdGhpcy5waW5ncG9uZ1RpbWVvdXRDb3VudCs9MTtsZXQgZT12KFwiUElOR19QT05HX1RJTUVfT1VUXCIpLG49RGF0ZS5ub3coKTt0aGlzLnBpbmdwb25nVGltZW91dENvdW50Pj1lJiYoXy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBQSU5HLVBPTkcgVGltZW91dC4gTGFzdCBTb2NrZXQgTWVzc2FnZTogXCIpLmNvbmNhdChuLXRoaXMubGFzdE1zZ1RpbWUsXCJtc1wiKSksbi10aGlzLmxhc3RNc2dUaW1lPnYoXCJXRUJTT0NLRVRfVElNRU9VVF9NSU5cIikpP3RoaXMucmVjb25uZWN0KFwicmV0cnlcIixCZS5USU1FT1VUKTp0aGlzLnJlcXVlc3QoZXQuUElORyx2b2lkIDAsITApLnRoZW4oKCk9Pnt0aGlzLnBpbmdwb25nVGltZW91dENvdW50PTA7bGV0IGk9RGF0ZS5ub3coKS1uO3RoaXMucnR0Um9sbGluZy5hZGQoaSksdihcIlJFUE9SVF9TVEFUU1wiKSYmdGhpcy5zZW5kKGV0LlBJTkdfQkFDSyx7cGluZ3BvbmdFbGFwc2U6aX0pO30pLmNhdGNoKGk9Pnt9KTt9aGFuZGxlV3NJbmZsYXRlRGF0YSgpe2xldHt3c0luZmxhdGVMZW5ndGg6ZSx3c0RlZmxhdGVMZW5ndGg6bn09dGhpcy53ZWJzb2NrZXQuZ2V0V3NJbmZsYXRlRGF0YSgpO2UhPT0wJiZuIT09MCYmdGhpcy51cGxvYWQod2MuV1NfSU5GTEFURV9EQVRBX0xFTkdUSCx7d3NfZGVmbGF0ZV9sZW5ndGg6bix3c19pbmZsYXRlX2xlbmd0aDplfSk7fWhhbmRsZVdlYnNvY2tldEV2ZW50cygpe3RoaXMud2Vic29ja2V0Lm9uKGl0LlJFQ09OTkVDVF9XQUlUVElOR19GSU5JU0gsZT0+e3RoaXMuZW1pdChudC5XU19SRUNPTk5FQ1RfV0FJVFRJTkdfRklOSVNILGUpO30pLHRoaXMud2Vic29ja2V0Lm9uKGl0LlJFQ09OTkVDVF9DUkVBVEVfQ09OTkVDVElPTixlPT57dGhpcy5lbWl0KG50LldTX1JFQ09OTkVDVF9DUkVBVEVfQ09OTkVDVElPTixlKTt9KSx0aGlzLndlYnNvY2tldC5vbihpdC5PTl9NRVNTQUdFLHRoaXMub25XZWJzb2NrZXRNZXNzYWdlKSx0aGlzLndlYnNvY2tldC5vbihpdC5DTE9TRUQsKCk9Pnt0aGlzLmNvbm5lY3Rpb25TdGF0ZT1MdC5DTE9TRUQ7fSksdGhpcy53ZWJzb2NrZXQub24oaXQuRkFJTEVELCgpPT57dGhpcy5fZGlzY29ubmVjdGVkUmVhc29uPUF0Lk5FVFdPUktfRVJST1IsdGhpcy5jb25uZWN0aW9uU3RhdGU9THQuQ0xPU0VEO30pLHRoaXMud2Vic29ja2V0Lm9uKGl0LlJFQ09OTkVDVElORyxlPT57dGhpcy5fd2Vic29ja2V0UmVjb25uZWN0UmVhc29uPWUsdGhpcy5qb2luUmVzcG9uc2U9dm9pZCAwLHRoaXMuY29ubmVjdGlvblN0YXRlPT09THQuQ09OTkVDVEVEP3RoaXMuY29ubmVjdGlvblN0YXRlPUx0LlJFQ09OTkVDVElORzp0aGlzLmNvbm5lY3Rpb25TdGF0ZT1MdC5DT05ORUNUSU5HO30pLHRoaXMud2Vic29ja2V0Lm9uKGl0LldJTExfUkVDT05ORUNULChlLG4saSk9PntsZXQgcj1BYyh0aGlzLG50LklTX1AyUF9ESVNDT05ORUNURUQpLG89cnx8ZSE9PVwicmV0cnlcIjtyJiZlPT09XCJyZXRyeVwiJiYoXy5kZWJ1ZyhcIlwiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiIHJlY29ubmVjdCBtb2RlIGlzIHJldHJ5LCBidXQgcDJwIGxvc3QsIGNoYW5nZSB0byB0cnlOZXh0XCIpKSxlPVwidHJ5TmV4dFwiLG49VGwuUDJQX0RJU0NPTk5FQ1RFRCksbyYmKF8uZGVidWcoXCJcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIiB3aWxsIHJlbmV3U2Vzc2lvbiwgcmVjb25uZWN0IG1vZGU6IFwiKS5jb25jYXQoZSkpLHRoaXMuZW1pdChudC5SRVBPUlRfSk9JTl9HQVRFV0FZLG58fFRsLlVOS05PV05fUkVBU09OLHRoaXMudXJsfHxcIlwiKSx0aGlzLnJlY29ubmVjdFRva2VuPXZvaWQgMCx0aGlzLmVtaXQobnQuRElTQ09OTkVDVF9QMlApKSxpKGUpO30pLHRoaXMud2Vic29ja2V0Lm9uKGl0LkNPTk5FQ1RFRCwoKT0+e3RoaXMub3BlbkNvbm5lY3Rpb25UaW1lPURhdGUubm93KCksdGhpcy5yZWNvbm5lY3RUb2tlbj90aGlzLnJlam9pbigpLmNhdGNoKGU9PntfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIHJlam9pbiBmYWlsZWQgXCIpLmNvbmNhdChlKSksdGhpcy5yZWNvbm5lY3QoXCJ0cnlOZXh0XCIsQmUuU0VSVkVSX0VSUk9SKTt9KTp0aGlzLmpvaW4oKS5jYXRjaChlPT57aWYodGhpcy5lbWl0KG50LlJFUE9SVF9KT0lOX0dBVEVXQVksZSx0aGlzLnVybHx8XCJcIiksZSBpbnN0YW5jZW9mIE8pe2lmKGUuY29kZT09PVIuVU5FWFBFQ1RFRF9SRVNQT05TRSYmZS5kYXRhLmNvZGU9PT1aLkVSUl9OT19BVVRIT1JJWkVEKXJldHVybiB0aGlzLmluaXRFcnJvcj1uZXcgTyhSLkNBTl9OT1RfR0VUX0dBVEVXQVlfU0VSVkVSLFwiQWdvcmFSVENFcnJvciBDQU5fTk9UX0dFVF9HQVRFV0FZX1NFUlZFUjogZHluYW1pYyBrZXkgZXhwaXJlZFwiKSxfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIHJlY29ubmVjdCBubyBhdXRob3JpemVkLCByZWNvdmVyXCIpKSx2b2lkIHRoaXMucmVjb25uZWN0KFwicmVjb3ZlclwiLEJlLlNFUlZFUl9FUlJPUik7Xy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gam9pbiBnYXRld2F5IHJlcXVlc3QgZmFpbGVkXCIpLGUudG9TdHJpbmcoKSksdGhpcy5zcGVjLmZvcmNlV2FpdEdhdGV3YXlSZXNwb25zZT90aGlzLnJlY29ubmVjdChcInRyeU5leHRcIixCZS5TRVJWRVJfRVJST1IpOih0aGlzLmluaXRFcnJvcj1lLHRoaXMuY2xvc2UoKSk7fX0pO30pLHRoaXMud2Vic29ja2V0Lm9uKGl0LlJFUVVFU1RfTkVXX1VSTFMsKGUsbik9PntHZSh0aGlzLG50LlJFUVVFU1RfUkVDT1ZFUix0aGlzLm11bHRpSXBPcHRpb24pLnRoZW4oZSkuY2F0Y2gobik7fSksdGhpcy53ZWJzb2NrZXQub24oaXQuT05fVE9LRU5fUFJJVklMRUdFX0RJRF9FWFBJUkUsKCk9Pnt0aGlzLmVtaXQoZHQuT05fVE9LRU5fUFJJVklMRUdFX0RJRF9FWFBJUkUpO30pLHRoaXMud2Vic29ja2V0Lm9uKFBPLlBSRV9DT05ORUNUX1BDLCgpPT57dGhpcy5lbWl0KG50LlBSRV9DT05ORUNUX1BDKTt9KTt9fSx1ZT1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkNIT09TRV9TRVJWRVI9MTFdPVwiQ0hPT1NFX1NFUlZFUlwiLHRbdC5DTE9VRF9QUk9YWT0xOF09XCJDTE9VRF9QUk9YWVwiLHRbdC5DTE9VRF9QUk9YWV81PTIwXT1cIkNMT1VEX1BST1hZXzVcIix0W3QuQ0xPVURfUFJPWFlfRkFMTEJBQ0s9MjZdPVwiQ0xPVURfUFJPWFlfRkFMTEJBQ0tcIix0fSh7fSk7ZnVuY3Rpb24galIodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihpPWkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscikuZW51bWVyYWJsZX0pKSxuLnB1c2guYXBwbHkobixpKTt9cmV0dXJuIG59ZnVuY3Rpb24ga2QodCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdIT1udWxsP2FyZ3VtZW50c1tlXTp7fTtlJTI/alIoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe1QodCxpLG5baV0pO30pOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOmpSKE9iamVjdChuKSkuZm9yRWFjaChmdW5jdGlvbihpKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxpLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixpKSk7fSk7fXJldHVybiB0fWZ1bmN0aW9uIFVzKHQpe3JldHVybiB0Lm1hdGNoKC9eW1xcLlxcOlxcZF0rJC8pP1wiXCIuY29uY2F0KHQucmVwbGFjZSgvW15cXGRdL2csXCItXCIpLFwiLlwiKS5jb25jYXQodihcIlRVUk5fRE9NQUlOXCIpKTooXy5pbmZvKFwiVW5pZGVudGlmaWVkIGFzIGlwOiBcIi5jb25jYXQodCxcIiwgdXNlIGFzIGhvc3RcIikpLHQpfWZ1bmN0aW9uIG1mKHQsZSl7dC5hZGRyZXNzZXN8fCh0LmFkZHJlc3Nlcz1bXSk7bGV0IG49ZnVuY3Rpb24oYSxjKXtpZih2KFwiQ09OTkVDVF9HQVRFV0FZX1dJVEhPVVRfRE9NQUlOXCIpKXJldHVybiBhLm1hcCh1PT57bGV0e2lwOmgscG9ydDpwfT11O3JldHVybiB7YWRkcmVzczpcIlwiLmNvbmNhdChoLFwiOlwiKS5jb25jYXQocCl9fSk7bGV0IGQ9dihcIkdBVEVXQVlfRE9NQUlOU1wiKSxsPWRbMV0mJlcoYykuY2FsbChjLGRbMV0pPzE6MDtyZXR1cm4gYS5tYXAodT0+e2xldHtkb21haW5fcHJlZml4OmgscG9ydDpwLGlwOmd9PXU7aWYoaClyZXR1cm4ge2FkZHJlc3M6XCJcIi5jb25jYXQoaCxcIi5cIikuY29uY2F0KGRbbCsrJWQubGVuZ3RoXSxcIjpcIikuY29uY2F0KHApfTtsZXQgRT0vXltcXC5cXDpcXGRdKyQvLnRlc3QoZyksZj1FP1wiXCIuY29uY2F0KGcucmVwbGFjZSgvW15cXGRdL2csXCItXCIpLFwiLlwiKS5jb25jYXQoZFtsKyslZC5sZW5ndGhdLFwiOlwiKS5jb25jYXQocCk6XCJcIi5jb25jYXQoZyxcIjpcIikuY29uY2F0KHApO3JldHVybiBFfHxfLmluZm8oXCJVbmlkZW50aWZpZWQgYXMgaXA6IFwiLmNvbmNhdChnLFwiLCB1c2UgYXMgaG9zdFwiKSkse2lwOmcscG9ydDpwLGFkZHJlc3M6Zn19KX0odC5hZGRyZXNzZXMsZSksaT1BcnJheS5pc0FycmF5KHQuZGV0YWlsKSYmdC5kZXRhaWxbMThdO2lmKGkmJnR5cGVvZiBpPT1cInN0cmluZ1wiKXtsZXQgYT1pLnNwbGl0KFwiO1wiKTtmb3IobGV0IGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIHI7bGV0IGQ9cm4ocj1hW2NdKS5jYWxsKHIpO25bY10mJmQmJihuW2NdLmlwNj1kKTt9fWxldCBvPXQuZGV0YWlsJiZ0LmRldGFpbC5jYW5kaWRhdGUscztpZihvKXtsZXRbYSxjXT1vLnNwbGl0KFwiOlwiKTthJiZjJiYocz17cG9ydDpOdW1iZXIoYyksaXA6YSxhZGRyZXNzOlwiXCIuY29uY2F0KGEsXCI6XCIpLmNvbmNhdChjKX0pO31yZXR1cm4ge2dhdGV3YXlBZGRyczpuLGFwR2F0ZXdheUFkZHJlc3M6cyx1aWQ6dC51aWQsY2lkOnQuY2lkLGNlcnQ6dC5jZXJ0LHZpZDp0LmRldGFpbCYmdC5kZXRhaWxbOF0sdW5pX2xic19pcDp0LmRldGFpbCYmdC5kZXRhaWxbMV0scmVzOnQsY3NJcDp0LmRldGFpbCYmdC5kZXRhaWxbNTAyXX19ZnVuY3Rpb24gTm4odCl7cmV0dXJuIHR5cGVvZiB0PT1cIm51bWJlclwiP3Q6dC5leGFjdHx8dC5pZGVhbHx8dC5tYXh8fHQubWlufHwwfWZ1bmN0aW9uIEdSKHQpe2xldCBlPXQuX2VuY29kZXJDb25maWc7aWYoIWUpcmV0dXJuIHt9O2xldCBuPXtyZXNvbHV0aW9uOmUud2lkdGgmJmUuaGVpZ2h0P1wiXCIuY29uY2F0KE5uKGUud2lkdGgpLFwieFwiKS5jb25jYXQoTm4oZS5oZWlnaHQpKTp2b2lkIDAsbWF4VmlkZW9CVzplLmJpdHJhdGVNYXgsbWluVmlkZW9CVzplLmJpdHJhdGVNaW59O3JldHVybiB0eXBlb2YgZS5mcmFtZVJhdGU9PVwibnVtYmVyXCI/KG4ubWF4RnJhbWVSYXRlPWUuZnJhbWVSYXRlLG4ubWluRnJhbWVSYXRlPWUuZnJhbWVSYXRlKTplLmZyYW1lUmF0ZSYmKG4ubWF4RnJhbWVSYXRlPWUuZnJhbWVSYXRlLm1heHx8ZS5mcmFtZVJhdGUuaWRlYWx8fGUuZnJhbWVSYXRlLmV4YWN0fHxlLmZyYW1lUmF0ZS5taW4sbi5taW5GcmFtZVJhdGU9ZS5mcmFtZVJhdGUubWlufHxlLmZyYW1lUmF0ZS5pZGVhbHx8ZS5mcmFtZVJhdGUuZXhhY3R8fGUuZnJhbWVSYXRlLm1heCksbn1mdW5jdGlvbiBXUih0KXtyZXR1cm4gdD49MCYmdDwuMTc/MTp0Pj0uMTcmJnQ8LjM2PzI6dD49LjM2JiZ0PC41OT8zOnQ+PS41OSYmdDw9MT80OnQ+MT81OjB9ZnVuY3Rpb24gRGModCxlKXtsZXQgbixpLHI7c3dpdGNoKGUpe2Nhc2UgdWUuQ0hPT1NFX1NFUlZFUjppPTQwOTYscj1cImNob29zZSBzZXJ2ZXJcIjticmVhaztjYXNlIHVlLkNMT1VEX1BST1hZOmk9MTA0ODU3NixyPVwicHJveHlcIjticmVhaztjYXNlIHVlLkNMT1VEX1BST1hZXzU6aT00MTk0MzA0LHI9XCJwcm94eTVcIjticmVhaztjYXNlIHVlLkNMT1VEX1BST1hZX0ZBTExCQUNLOmk9NDE5NDMxMCxyPVwicHJveHkgZmFsbGJhY2tcIjticmVhaztkZWZhdWx0OnRocm93IG5ldyBPKFIuVU5FWFBFQ1RFRF9FUlJPUixcIm11bHRpIHVubGlicyByZXNwb25zZSB0cmFuc2Zvcm1lciBnZXQgdW5rbm93biBzZXJ2aWNlIGlkXCIse2NzSXA6dC5kZXRhaWwmJnQuZGV0YWlsWzUwMl0scmV0cnk6ITF9KX1pZih0LnJlc3BvbnNlX2JvZHkuZm9yRWFjaChvPT57by5idWZmZXImJm8uYnVmZmVyLmZsYWc9PT1pJiYobj17Y29kZTpvLmJ1ZmZlci5jb2RlLGFkZHJlc3Nlczooby5idWZmZXIuZWRnZXNfc2VydmljZXN8fFtdKS5tYXAocz0+a2Qoa2Qoe30scykse30se3RpY2tldDpvLmJ1ZmZlci5jZXJ0fSkpLHNlcnZlcl90czp0LmVudGVyX3RzLHVpZDpvLmJ1ZmZlci51aWQsY2lkOm8uYnVmZmVyLmNpZCxjbmFtZTpvLmJ1ZmZlci5jbmFtZSxkZXRhaWw6a2Qoa2Qoe30sby5idWZmZXIuZGV0YWlsKSx0LmRldGFpbCksZmxhZzpvLmJ1ZmZlci5mbGFnLG9waWQ6dC5vcGlkLGNlcnQ6by5idWZmZXIuY2VydH0pO30pLCFuKXRocm93IG5ldyBPKFIuTVVMVElfVU5JTEJTX1JFU1BPTlNFX0VSUk9SLFwiY2Fubm90IHBhcnNlIHJlc3BvbnNlIFwiLmNvbmNhdChyLFwiIGZyb20gbXVsdGkgdW5pbGJzIHJlc3BvbnNlXCIpLHtjc0lwOnQuZGV0YWlsJiZ0LmRldGFpbFs1MDJdfSk7cmV0dXJuIG59YXN5bmMgZnVuY3Rpb24ga08odCxlKXtyZXR1cm4gYXdhaXQgai5hbGwodC5hZGRyZXNzZXMubWFwKGFzeW5jIG49Pih7YWRkcmVzczpVcyhuLmlwKSx0Y3Bwb3J0Om4ucG9ydCx1ZHBwb3J0Om4ucG9ydCx1c2VybmFtZTplJiZ2KFwiRU5DUllQVF9QUk9YWV9VU0VSTkFNRV9BTkRfUFNXXCIpJiZ3aW5kb3cuaXNTZWN1cmVDb250ZXh0P2UudG9TdHJpbmcoKTpWZS51c2VybmFtZSxwYXNzd29yZDplJiZ2KFwiRU5DUllQVF9QUk9YWV9VU0VSTkFNRV9BTkRfUFNXXCIpJiZ3aW5kb3cuaXNTZWN1cmVDb250ZXh0P2F3YWl0IFBFKGUudG9TdHJpbmcoKSk6VmUucGFzc3dvcmR9KSkpfWZ1bmN0aW9uIEdFKHQsZSl7bGV0IG49ZS5nZXRNZWRpYVN0cmVhbVRyYWNrKCEwKS5nZXRTZXR0aW5ncygpLGk9ZS52aWRlb0hlaWdodHx8bi5oZWlnaHQscj1lLnZpZGVvV2lkdGh8fG4ud2lkdGg7cmV0dXJuIGkmJnI/TWF0aC5tYXgoTWF0aC5taW4oaSxyKS9NYXRoLm1pbihObih0LmhlaWdodCksTm4odC53aWR0aCkpLDEpOihfLndhcm5pbmcoXCJjYW4ndCBnZXQgb3JpLXRyYWNrJ3MgaGVpZ2h0LCBkZWZhdWx0IHNjYWxlIGRvd24gNCB0aW1lcyBmb3IgbG93IHN0cmVhbVwiKSw0KX1mdW5jdGlvbiBlbyh0KXtsZXR7Y2FuZGlkYXRlVHlwZTplLHJlbGF5UHJvdG9jb2w6bix0eXBlOmksYWRkcmVzczpyLHBvcnQ6byxwcm90b2NvbDpzfT10O3JldHVybiBpPT09XCJsb2NhbC1jYW5kaWRhdGVcIj97Y2FuZGlkYXRlVHlwZTplLHJlbGF5UHJvdG9jb2w6bixwcm90b2NvbDpzfTp7Y2FuZGlkYXRlVHlwZTplLHJlbGF5UHJvdG9jb2w6bixhZGRyZXNzOnIscG9ydDpvLHByb3RvY29sOnN9fXZhciBsaSxtaj1hZShETyksZmo9YmkoXCJBcnJheVwiKS52YWx1ZXMsZ2o9RXIsVGo9SmUsU2o9aG4sUmo9ZmosRnA9QXJyYXkucHJvdG90eXBlLENqPXtET01Ub2tlbkxpc3Q6ITAsTm9kZUxpc3Q6ITB9LElqPWZ1bmN0aW9uKHQpe3ZhciBlPXQudmFsdWVzO3JldHVybiB0PT09RnB8fFNqKEZwLHQpJiZlPT09RnAudmFsdWVzfHxUaihDaixnaih0KSk/Umo6ZX0sUHI9YWUoSWopLEhSPXJpLHZqPW1lLHlqPUtlLEFqPVNlLEJwPUx1LGJqPVhjLHdqPUF1LE9qPV9yLE5qPWJ1LF9zPU9iamVjdC5hc3NpZ24sS1I9T2JqZWN0LmRlZmluZVByb3BlcnR5LERqPXZqKFtdLmNvbmNhdCksUGo9IV9zfHxBaihmdW5jdGlvbigpe2lmKEhSJiZfcyh7YjoxfSxfcyhLUih7fSxcImFcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtLUih0aGlzLFwiYlwiLHt2YWx1ZTozLGVudW1lcmFibGU6ITF9KTt9fSkse2I6Mn0pKS5iIT09MSlyZXR1cm4gITA7dmFyIHQ9e30sZT17fSxuPVN5bWJvbCgpLGk9XCJhYmNkZWZnaGlqa2xtbm9wcXJzdFwiO3JldHVybiB0W25dPTcsaS5zcGxpdChcIlwiKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe2Vbcl09cjt9KSxfcyh7fSx0KVtuXSE9N3x8QnAoX3Moe30sZSkpLmpvaW4oXCJcIikhPWl9KT9mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1Paih0KSxpPWFyZ3VtZW50cy5sZW5ndGgscj0xLG89YmouZixzPXdqLmY7aT5yOylmb3IodmFyIGEsYz1Oaihhcmd1bWVudHNbcisrXSksZD1vP0RqKEJwKGMpLG8oYykpOkJwKGMpLGw9ZC5sZW5ndGgsdT0wO2w+dTspYT1kW3UrK10sSFImJiF5aihzLGMsYSl8fChuW2FdPWNbYV0pO3JldHVybiBufTpfcyxraj1DbixMaj1YQSxNaj1tbyxVaj1LZSx4aj1fcixWaj1mdW5jdGlvbih0LGUsbixpKXt0cnl7cmV0dXJuIGk/ZShraihuKVswXSxuWzFdKTplKG4pfWNhdGNoKHIpe0xqKHQsXCJ0aHJvd1wiLHIpO319LEZqPUpBLEJqPXh1LGpqPUxyLFlSPUJ1LEdqPVVtLFdqPU11LHFSPUFycmF5LGlzPW1lLGpwPTIxNDc0ODM2NDcsSGo9L1teXFwwLVxcdTAwN0VdLyxMTz0vWy5cXHUzMDAyXFx1RkYwRVxcdUZGNjFdL2cselI9XCJPdmVyZmxvdzogaW5wdXQgbmVlZHMgd2lkZXIgaW50ZWdlcnMgdG8gcHJvY2Vzc1wiLEpSPVJhbmdlRXJyb3IsS2o9aXMoTE8uZXhlYykseHM9TWF0aC5mbG9vcixHcD1TdHJpbmcuZnJvbUNoYXJDb2RlLFhSPWlzKFwiXCIuY2hhckNvZGVBdCksTU89aXMoW10uam9pbikscXI9aXMoW10ucHVzaCksWWo9aXMoXCJcIi5yZXBsYWNlKSxxaj1pcyhcIlwiLnNwbGl0KSx6aj1pcyhcIlwiLnRvTG93ZXJDYXNlKSxRUj1mdW5jdGlvbih0KXtyZXR1cm4gdCsyMis3NSoodDwyNil9LEpqPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT0wO2Zvcih0PW4/eHModC83MDApOnQ+PjEsdCs9eHModC9lKTt0PjQ1NTspdD14cyh0LzM1KSxpKz0zNjtyZXR1cm4geHMoaSszNip0Lyh0KzM4KSl9LFhqPWZ1bmN0aW9uKHQpe3ZhciBlPVtdO3Q9ZnVuY3Rpb24oUyl7Zm9yKHZhciBDPVtdLEE9MCxiPVMubGVuZ3RoO0E8Yjspe3ZhciB3PVhSKFMsQSsrKTtpZih3Pj01NTI5NiYmdzw9NTYzMTkmJkE8Yil7dmFyIEQ9WFIoUyxBKyspOyg2NDUxMiZEKT09NTYzMjA/cXIoQywoKDEwMjMmdyk8PDEwKSsoMTAyMyZEKSs2NTUzNik6KHFyKEMsdyksQS0tKTt9ZWxzZSBxcihDLHcpO31yZXR1cm4gQ30odCk7dmFyIG4saSxyPXQubGVuZ3RoLG89MTI4LHM9MCxhPTcyO2ZvcihuPTA7bjx0Lmxlbmd0aDtuKyspKGk9dFtuXSk8MTI4JiZxcihlLEdwKGkpKTt2YXIgYz1lLmxlbmd0aCxkPWM7Zm9yKGMmJnFyKGUsXCItXCIpO2Q8cjspe3ZhciBsPWpwO2ZvcihuPTA7bjx0Lmxlbmd0aDtuKyspKGk9dFtuXSk+PW8mJmk8bCYmKGw9aSk7dmFyIHU9ZCsxO2lmKGwtbz54cygoanAtcykvdSkpdGhyb3cgSlIoelIpO2ZvcihzKz0obC1vKSp1LG89bCxuPTA7bjx0Lmxlbmd0aDtuKyspe2lmKChpPXRbbl0pPG8mJisrcz5qcCl0aHJvdyBKUih6Uik7aWYoaT09byl7Zm9yKHZhciBoPXMscD0zNjs7KXt2YXIgZz1wPD1hPzE6cD49YSsyNj8yNjpwLWE7aWYoaDxnKWJyZWFrO3ZhciBFPWgtZyxmPTM2LWc7cXIoZSxHcChRUihnK0UlZikpKSxoPXhzKEUvZikscCs9MzY7fXFyKGUsR3AoUVIoaCkpKSxhPUpqKHMsdSxkPT1jKSxzPTAsZCsrO319cysrLG8rKzt9cmV0dXJuIE1PKGUsXCJcIil9LFFqPXh0LGZmPXJpLFpqPXJmLGdmPVdlLFpSPW1vLHdpPW1lLExkPWdvLHVpPVV1LCRqPUZtLFdFPUplLFRmPVBqLEVzPWZ1bmN0aW9uKHQpe3ZhciBlPXhqKHQpLG49QmoodGhpcyksaT1hcmd1bWVudHMubGVuZ3RoLHI9aT4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsbz1yIT09dm9pZCAwO28mJihyPU1qKHIsaT4yP2FyZ3VtZW50c1syXTp2b2lkIDApKTt2YXIgcyxhLGMsZCxsLHUsaD1XaihlKSxwPTA7aWYoIWh8fHRoaXM9PT1xUiYmRmooaCkpZm9yKHM9amooZSksYT1uP25ldyB0aGlzKHMpOnFSKHMpO3M+cDtwKyspdT1vP3IoZVtwXSxwKTplW3BdLFlSKGEscCx1KTtlbHNlIGZvcihsPShkPUdqKGUsaCkpLm5leHQsYT1uP25ldyB0aGlzOltdOyEoYz1VaihsLGQpKS5kb25lO3ArKyl1PW8/VmooZCxyLFtjLnZhbHVlLHBdLCEwKTpjLnZhbHVlLFlSKGEscCx1KTtyZXR1cm4gYS5sZW5ndGg9cCxhfSxEaT16bSx0Rz1xbS5jb2RlQXQsZUc9ZnVuY3Rpb24odCl7dmFyIGUsbixpPVtdLHI9cWooWWooemoodCksTE8sXCIuXCIpLFwiLlwiKTtmb3IoZT0wO2U8ci5sZW5ndGg7ZSsrKW49cltlXSxxcihpLEtqKEhqLG4pP1wieG4tLVwiK1hqKG4pOm4pO3JldHVybiBNTyhpLFwiLlwiKX0sdnI9b2ksbkc9VG8saUc9VnUsVU89eUYseE89bnMsckc9eE8uc2V0LHpsPXhPLmdldHRlckZvcihcIlVSTFwiKSxvRz1VTy5VUkxTZWFyY2hQYXJhbXMsc0c9VU8uZ2V0U3RhdGUsTGE9Z2YuVVJMLEhFPWdmLlR5cGVFcnJvcixNZD1nZi5wYXJzZUludCxhRz1NYXRoLmZsb29yLCRSPU1hdGgucG93LFRpPXdpKFwiXCIuY2hhckF0KSxMaT13aSgvLi8uZXhlYyksWWE9d2koW10uam9pbiksY0c9d2koMSAudG9TdHJpbmcpLGRHPXdpKFtdLnBvcCksbXM9d2koW10ucHVzaCksV3A9d2koXCJcIi5yZXBsYWNlKSxsRz13aShbXS5zaGlmdCksdUc9d2koXCJcIi5zcGxpdCkscWE9d2koXCJcIi5zbGljZSksU2w9d2koXCJcIi50b0xvd2VyQ2FzZSksaEc9d2koW10udW5zaGlmdCksSHA9XCJJbnZhbGlkIHNjaGVtZVwiLHZvPVwiSW52YWxpZCBob3N0XCIsdEM9XCJJbnZhbGlkIHBvcnRcIixWTz0vW2Etel0vaSxwRz0vW1xcZCstLmEtel0vaSxLcD0vXFxkLyxfRz0vXjB4L2ksRUc9L15bMC03XSskLyxtRz0vXlxcZCskLyxlQz0vXltcXGRhLWZdKyQvaSxmRz0vW1xcMFxcdFxcblxcciAjJS86PD4/QFtcXFxcXFxdXnxdLyxnRz0vW1xcMFxcdFxcblxcciAjLzo8Pj9AW1xcXFxcXF1efF0vLFRHPS9eW1xcdTAwMDAtXFx1MDAyMF0rLyxTRz0vKF58W15cXHUwMDAwLVxcdTAwMjBdKVtcXHUwMDAwLVxcdTAwMjBdKyQvLFJHPS9bXFx0XFxuXFxyXS9nLE1hPWZ1bmN0aW9uKHQpe3ZhciBlLG4saSxyO2lmKHR5cGVvZiB0PT1cIm51bWJlclwiKXtmb3IoZT1bXSxuPTA7bjw0O24rKyloRyhlLHQlMjU2KSx0PWFHKHQvMjU2KTtyZXR1cm4gWWEoZSxcIi5cIil9aWYodHlwZW9mIHQ9PVwib2JqZWN0XCIpe2ZvcihlPVwiXCIsaT1mdW5jdGlvbihvKXtmb3IodmFyIHM9bnVsbCxhPTEsYz1udWxsLGQ9MCxsPTA7bDw4O2wrKylvW2xdIT09MD8oZD5hJiYocz1jLGE9ZCksYz1udWxsLGQ9MCk6KGM9PT1udWxsJiYoYz1sKSwrK2QpO3JldHVybiBkPmEmJihzPWMsYT1kKSxzfSh0KSxuPTA7bjw4O24rKylyJiZ0W25dPT09MHx8KHImJihyPSExKSxpPT09bj8oZSs9bj9cIjpcIjpcIjo6XCIscj0hMCk6KGUrPWNHKHRbbl0sMTYpLG48NyYmKGUrPVwiOlwiKSkpO3JldHVybiBcIltcIitlK1wiXVwifXJldHVybiB0fSxSbD17fSxGTz1UZih7fSxSbCx7XCIgXCI6MSwnXCInOjEsXCI8XCI6MSxcIj5cIjoxLFwiYFwiOjF9KSxCTz1UZih7fSxGTyx7XCIjXCI6MSxcIj9cIjoxLFwie1wiOjEsXCJ9XCI6MX0pLFlwPVRmKHt9LEJPLHtcIi9cIjoxLFwiOlwiOjEsXCI7XCI6MSxcIj1cIjoxLFwiQFwiOjEsXCJbXCI6MSxcIlxcXFxcIjoxLFwiXVwiOjEsXCJeXCI6MSxcInxcIjoxfSksQnI9ZnVuY3Rpb24odCxlKXt2YXIgbj10Ryh0LDApO3JldHVybiBuPjMyJiZuPDEyNyYmIVdFKGUsdCk/dDplbmNvZGVVUklDb21wb25lbnQodCl9LFVkPXtmdHA6MjEsZmlsZTpudWxsLGh0dHA6ODAsaHR0cHM6NDQzLHdzOjgwLHdzczo0NDN9LHphPWZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuIHQubGVuZ3RoPT0yJiZMaShWTyxUaSh0LDApKSYmKChuPVRpKHQsMSkpPT1cIjpcInx8IWUmJm49PVwifFwiKX0sbkM9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIHQubGVuZ3RoPjEmJnphKHFhKHQsMCwyKSkmJih0Lmxlbmd0aD09Mnx8KGU9VGkodCwyKSk9PT1cIi9cInx8ZT09PVwiXFxcXFwifHxlPT09XCI/XCJ8fGU9PT1cIiNcIil9LENHPWZ1bmN0aW9uKHQpe3JldHVybiB0PT09XCIuXCJ8fFNsKHQpPT09XCIlMmVcIn0scXA9e30saUM9e30senA9e30sckM9e30sb0M9e30sSnA9e30sc0M9e30sYUM9e30seGQ9e30sVmQ9e30sWHA9e30sUXA9e30sWnA9e30sJHA9e30sY0M9e30sdF89e30sZnM9e30scWk9e30sZEM9e30seW89e30sU3I9e30sU2Y9ZnVuY3Rpb24odCxlLG4pe3ZhciBpLHIsbyxzPXZyKHQpO2lmKGUpe2lmKHI9dGhpcy5wYXJzZShzKSl0aHJvdyBIRShyKTt0aGlzLnNlYXJjaFBhcmFtcz1udWxsO31lbHNlIHtpZihuIT09dm9pZCAwJiYoaT1uZXcgU2YobiwhMCkpLHI9dGhpcy5wYXJzZShzLG51bGwsaSkpdGhyb3cgSEUocik7KG89c0cobmV3IG9HKSkuYmluZFVSTCh0aGlzKSx0aGlzLnNlYXJjaFBhcmFtcz1vO319O1NmLnByb3RvdHlwZT17dHlwZTpcIlVSTFwiLHBhcnNlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgaSxyLG8scyxhLGM9dGhpcyxkPWV8fHFwLGw9MCx1PVwiXCIsaD0hMSxwPSExLGc9ITE7Zm9yKHQ9dnIodCksZXx8KGMuc2NoZW1lPVwiXCIsYy51c2VybmFtZT1cIlwiLGMucGFzc3dvcmQ9XCJcIixjLmhvc3Q9bnVsbCxjLnBvcnQ9bnVsbCxjLnBhdGg9W10sYy5xdWVyeT1udWxsLGMuZnJhZ21lbnQ9bnVsbCxjLmNhbm5vdEJlQUJhc2VVUkw9ITEsdD1XcCh0LFRHLFwiXCIpLHQ9V3AodCxTRyxcIiQxXCIpKSx0PVdwKHQsUkcsXCJcIiksaT1Fcyh0KTtsPD1pLmxlbmd0aDspe3N3aXRjaChyPWlbbF0sZCl7Y2FzZSBxcDppZighcnx8IUxpKFZPLHIpKXtpZihlKXJldHVybiBIcDtkPXpwO2NvbnRpbnVlfXUrPVNsKHIpLGQ9aUM7YnJlYWs7Y2FzZSBpQzppZihyJiYoTGkocEcscil8fHI9PVwiK1wifHxyPT1cIi1cInx8cj09XCIuXCIpKXUrPVNsKHIpO2Vsc2Uge2lmKHIhPVwiOlwiKXtpZihlKXJldHVybiBIcDt1PVwiXCIsZD16cCxsPTA7Y29udGludWV9aWYoZSYmKGMuaXNTcGVjaWFsKCkhPVdFKFVkLHUpfHx1PT1cImZpbGVcIiYmKGMuaW5jbHVkZXNDcmVkZW50aWFscygpfHxjLnBvcnQhPT1udWxsKXx8Yy5zY2hlbWU9PVwiZmlsZVwiJiYhYy5ob3N0KSlyZXR1cm47aWYoYy5zY2hlbWU9dSxlKXJldHVybiB2b2lkKGMuaXNTcGVjaWFsKCkmJlVkW2Muc2NoZW1lXT09Yy5wb3J0JiYoYy5wb3J0PW51bGwpKTt1PVwiXCIsYy5zY2hlbWU9PVwiZmlsZVwiP2Q9JHA6Yy5pc1NwZWNpYWwoKSYmbiYmbi5zY2hlbWU9PWMuc2NoZW1lP2Q9ckM6Yy5pc1NwZWNpYWwoKT9kPWFDOmlbbCsxXT09XCIvXCI/KGQ9b0MsbCsrKTooYy5jYW5ub3RCZUFCYXNlVVJMPSEwLG1zKGMucGF0aCxcIlwiKSxkPWRDKTt9YnJlYWs7Y2FzZSB6cDppZighbnx8bi5jYW5ub3RCZUFCYXNlVVJMJiZyIT1cIiNcIilyZXR1cm4gSHA7aWYobi5jYW5ub3RCZUFCYXNlVVJMJiZyPT1cIiNcIil7Yy5zY2hlbWU9bi5zY2hlbWUsYy5wYXRoPURpKG4ucGF0aCksYy5xdWVyeT1uLnF1ZXJ5LGMuZnJhZ21lbnQ9XCJcIixjLmNhbm5vdEJlQUJhc2VVUkw9ITAsZD1TcjticmVha31kPW4uc2NoZW1lPT1cImZpbGVcIj8kcDpKcDtjb250aW51ZTtjYXNlIHJDOmlmKHIhPVwiL1wifHxpW2wrMV0hPVwiL1wiKXtkPUpwO2NvbnRpbnVlfWQ9eGQsbCsrO2JyZWFrO2Nhc2Ugb0M6aWYocj09XCIvXCIpe2Q9VmQ7YnJlYWt9ZD1xaTtjb250aW51ZTtjYXNlIEpwOmlmKGMuc2NoZW1lPW4uc2NoZW1lLHI9PWxpKWMudXNlcm5hbWU9bi51c2VybmFtZSxjLnBhc3N3b3JkPW4ucGFzc3dvcmQsYy5ob3N0PW4uaG9zdCxjLnBvcnQ9bi5wb3J0LGMucGF0aD1EaShuLnBhdGgpLGMucXVlcnk9bi5xdWVyeTtlbHNlIGlmKHI9PVwiL1wifHxyPT1cIlxcXFxcIiYmYy5pc1NwZWNpYWwoKSlkPXNDO2Vsc2UgaWYocj09XCI/XCIpYy51c2VybmFtZT1uLnVzZXJuYW1lLGMucGFzc3dvcmQ9bi5wYXNzd29yZCxjLmhvc3Q9bi5ob3N0LGMucG9ydD1uLnBvcnQsYy5wYXRoPURpKG4ucGF0aCksYy5xdWVyeT1cIlwiLGQ9eW87ZWxzZSB7aWYociE9XCIjXCIpe2MudXNlcm5hbWU9bi51c2VybmFtZSxjLnBhc3N3b3JkPW4ucGFzc3dvcmQsYy5ob3N0PW4uaG9zdCxjLnBvcnQ9bi5wb3J0LGMucGF0aD1EaShuLnBhdGgpLGMucGF0aC5sZW5ndGgtLSxkPXFpO2NvbnRpbnVlfWMudXNlcm5hbWU9bi51c2VybmFtZSxjLnBhc3N3b3JkPW4ucGFzc3dvcmQsYy5ob3N0PW4uaG9zdCxjLnBvcnQ9bi5wb3J0LGMucGF0aD1EaShuLnBhdGgpLGMucXVlcnk9bi5xdWVyeSxjLmZyYWdtZW50PVwiXCIsZD1Tcjt9YnJlYWs7Y2FzZSBzQzppZighYy5pc1NwZWNpYWwoKXx8ciE9XCIvXCImJnIhPVwiXFxcXFwiKXtpZihyIT1cIi9cIil7Yy51c2VybmFtZT1uLnVzZXJuYW1lLGMucGFzc3dvcmQ9bi5wYXNzd29yZCxjLmhvc3Q9bi5ob3N0LGMucG9ydD1uLnBvcnQsZD1xaTtjb250aW51ZX1kPVZkO31lbHNlIGQ9eGQ7YnJlYWs7Y2FzZSBhQzppZihkPXhkLHIhPVwiL1wifHxUaSh1LGwrMSkhPVwiL1wiKWNvbnRpbnVlO2wrKzticmVhaztjYXNlIHhkOmlmKHIhPVwiL1wiJiZyIT1cIlxcXFxcIil7ZD1WZDtjb250aW51ZX1icmVhaztjYXNlIFZkOmlmKHI9PVwiQFwiKXtoJiYodT1cIiU0MFwiK3UpLGg9ITAsbz1Fcyh1KTtmb3IodmFyIEU9MDtFPG8ubGVuZ3RoO0UrKyl7dmFyIGY9b1tFXTtpZihmIT1cIjpcInx8Zyl7dmFyIFM9QnIoZixZcCk7Zz9jLnBhc3N3b3JkKz1TOmMudXNlcm5hbWUrPVM7fWVsc2UgZz0hMDt9dT1cIlwiO31lbHNlIGlmKHI9PWxpfHxyPT1cIi9cInx8cj09XCI/XCJ8fHI9PVwiI1wifHxyPT1cIlxcXFxcIiYmYy5pc1NwZWNpYWwoKSl7aWYoaCYmdT09XCJcIilyZXR1cm4gXCJJbnZhbGlkIGF1dGhvcml0eVwiO2wtPUVzKHUpLmxlbmd0aCsxLHU9XCJcIixkPVhwO31lbHNlIHUrPXI7YnJlYWs7Y2FzZSBYcDpjYXNlIFFwOmlmKGUmJmMuc2NoZW1lPT1cImZpbGVcIil7ZD10Xztjb250aW51ZX1pZihyIT1cIjpcInx8cCl7aWYocj09bGl8fHI9PVwiL1wifHxyPT1cIj9cInx8cj09XCIjXCJ8fHI9PVwiXFxcXFwiJiZjLmlzU3BlY2lhbCgpKXtpZihjLmlzU3BlY2lhbCgpJiZ1PT1cIlwiKXJldHVybiB2bztpZihlJiZ1PT1cIlwiJiYoYy5pbmNsdWRlc0NyZWRlbnRpYWxzKCl8fGMucG9ydCE9PW51bGwpKXJldHVybjtpZihzPWMucGFyc2VIb3N0KHUpKXJldHVybiBzO2lmKHU9XCJcIixkPWZzLGUpcmV0dXJuO2NvbnRpbnVlfXI9PVwiW1wiP3A9ITA6cj09XCJdXCImJihwPSExKSx1Kz1yO31lbHNlIHtpZih1PT1cIlwiKXJldHVybiB2bztpZihzPWMucGFyc2VIb3N0KHUpKXJldHVybiBzO2lmKHU9XCJcIixkPVpwLGU9PVFwKXJldHVybn1icmVhaztjYXNlIFpwOmlmKCFMaShLcCxyKSl7aWYocj09bGl8fHI9PVwiL1wifHxyPT1cIj9cInx8cj09XCIjXCJ8fHI9PVwiXFxcXFwiJiZjLmlzU3BlY2lhbCgpfHxlKXtpZih1IT1cIlwiKXt2YXIgQz1NZCh1LDEwKTtpZihDPjY1NTM1KXJldHVybiB0QztjLnBvcnQ9Yy5pc1NwZWNpYWwoKSYmQz09PVVkW2Muc2NoZW1lXT9udWxsOkMsdT1cIlwiO31pZihlKXJldHVybjtkPWZzO2NvbnRpbnVlfXJldHVybiB0Q311Kz1yO2JyZWFrO2Nhc2UgJHA6aWYoYy5zY2hlbWU9XCJmaWxlXCIscj09XCIvXCJ8fHI9PVwiXFxcXFwiKWQ9Y0M7ZWxzZSB7aWYoIW58fG4uc2NoZW1lIT1cImZpbGVcIil7ZD1xaTtjb250aW51ZX1pZihyPT1saSljLmhvc3Q9bi5ob3N0LGMucGF0aD1EaShuLnBhdGgpLGMucXVlcnk9bi5xdWVyeTtlbHNlIGlmKHI9PVwiP1wiKWMuaG9zdD1uLmhvc3QsYy5wYXRoPURpKG4ucGF0aCksYy5xdWVyeT1cIlwiLGQ9eW87ZWxzZSB7aWYociE9XCIjXCIpe25DKFlhKERpKGksbCksXCJcIikpfHwoYy5ob3N0PW4uaG9zdCxjLnBhdGg9RGkobi5wYXRoKSxjLnNob3J0ZW5QYXRoKCkpLGQ9cWk7Y29udGludWV9Yy5ob3N0PW4uaG9zdCxjLnBhdGg9RGkobi5wYXRoKSxjLnF1ZXJ5PW4ucXVlcnksYy5mcmFnbWVudD1cIlwiLGQ9U3I7fX1icmVhaztjYXNlIGNDOmlmKHI9PVwiL1wifHxyPT1cIlxcXFxcIil7ZD10XzticmVha31uJiZuLnNjaGVtZT09XCJmaWxlXCImJiFuQyhZYShEaShpLGwpLFwiXCIpKSYmKHphKG4ucGF0aFswXSwhMCk/bXMoYy5wYXRoLG4ucGF0aFswXSk6Yy5ob3N0PW4uaG9zdCksZD1xaTtjb250aW51ZTtjYXNlIHRfOmlmKHI9PWxpfHxyPT1cIi9cInx8cj09XCJcXFxcXCJ8fHI9PVwiP1wifHxyPT1cIiNcIil7aWYoIWUmJnphKHUpKWQ9cWk7ZWxzZSBpZih1PT1cIlwiKXtpZihjLmhvc3Q9XCJcIixlKXJldHVybjtkPWZzO31lbHNlIHtpZihzPWMucGFyc2VIb3N0KHUpKXJldHVybiBzO2lmKGMuaG9zdD09XCJsb2NhbGhvc3RcIiYmKGMuaG9zdD1cIlwiKSxlKXJldHVybjt1PVwiXCIsZD1mczt9Y29udGludWV9dSs9cjticmVhaztjYXNlIGZzOmlmKGMuaXNTcGVjaWFsKCkpe2lmKGQ9cWksciE9XCIvXCImJnIhPVwiXFxcXFwiKWNvbnRpbnVlfWVsc2UgaWYoZXx8ciE9XCI/XCIpaWYoZXx8ciE9XCIjXCIpe2lmKHIhPWxpJiYoZD1xaSxyIT1cIi9cIikpY29udGludWV9ZWxzZSBjLmZyYWdtZW50PVwiXCIsZD1TcjtlbHNlIGMucXVlcnk9XCJcIixkPXlvO2JyZWFrO2Nhc2UgcWk6aWYocj09bGl8fHI9PVwiL1wifHxyPT1cIlxcXFxcIiYmYy5pc1NwZWNpYWwoKXx8IWUmJihyPT1cIj9cInx8cj09XCIjXCIpKXtpZigoYT1TbChhPXUpKT09PVwiLi5cInx8YT09PVwiJTJlLlwifHxhPT09XCIuJTJlXCJ8fGE9PT1cIiUyZSUyZVwiPyhjLnNob3J0ZW5QYXRoKCkscj09XCIvXCJ8fHI9PVwiXFxcXFwiJiZjLmlzU3BlY2lhbCgpfHxtcyhjLnBhdGgsXCJcIikpOkNHKHUpP3I9PVwiL1wifHxyPT1cIlxcXFxcIiYmYy5pc1NwZWNpYWwoKXx8bXMoYy5wYXRoLFwiXCIpOihjLnNjaGVtZT09XCJmaWxlXCImJiFjLnBhdGgubGVuZ3RoJiZ6YSh1KSYmKGMuaG9zdCYmKGMuaG9zdD1cIlwiKSx1PVRpKHUsMCkrXCI6XCIpLG1zKGMucGF0aCx1KSksdT1cIlwiLGMuc2NoZW1lPT1cImZpbGVcIiYmKHI9PWxpfHxyPT1cIj9cInx8cj09XCIjXCIpKWZvcig7Yy5wYXRoLmxlbmd0aD4xJiZjLnBhdGhbMF09PT1cIlwiOylsRyhjLnBhdGgpO3I9PVwiP1wiPyhjLnF1ZXJ5PVwiXCIsZD15byk6cj09XCIjXCImJihjLmZyYWdtZW50PVwiXCIsZD1Tcik7fWVsc2UgdSs9QnIocixCTyk7YnJlYWs7Y2FzZSBkQzpyPT1cIj9cIj8oYy5xdWVyeT1cIlwiLGQ9eW8pOnI9PVwiI1wiPyhjLmZyYWdtZW50PVwiXCIsZD1Tcik6ciE9bGkmJihjLnBhdGhbMF0rPUJyKHIsUmwpKTticmVhaztjYXNlIHlvOmV8fHIhPVwiI1wiP3IhPWxpJiYocj09XCInXCImJmMuaXNTcGVjaWFsKCk/Yy5xdWVyeSs9XCIlMjdcIjpjLnF1ZXJ5Kz1yPT1cIiNcIj9cIiUyM1wiOkJyKHIsUmwpKTooYy5mcmFnbWVudD1cIlwiLGQ9U3IpO2JyZWFrO2Nhc2UgU3I6ciE9bGkmJihjLmZyYWdtZW50Kz1CcihyLEZPKSk7fWwrKzt9fSxwYXJzZUhvc3Q6ZnVuY3Rpb24odCl7dmFyIGUsbixpO2lmKFRpKHQsMCk9PVwiW1wiKXtpZihUaSh0LHQubGVuZ3RoLTEpIT1cIl1cInx8KGU9ZnVuY3Rpb24ocil7dmFyIG8scyxhLGMsZCxsLHUsaD1bMCwwLDAsMCwwLDAsMCwwXSxwPTAsZz1udWxsLEU9MCxmPWZ1bmN0aW9uKCl7cmV0dXJuIFRpKHIsRSl9O2lmKGYoKT09XCI6XCIpe2lmKFRpKHIsMSkhPVwiOlwiKXJldHVybjtFKz0yLGc9KytwO31mb3IoO2YoKTspe2lmKHA9PTgpcmV0dXJuO2lmKGYoKSE9XCI6XCIpe2ZvcihvPXM9MDtzPDQmJkxpKGVDLGYoKSk7KW89MTYqbytNZChmKCksMTYpLEUrKyxzKys7aWYoZigpPT1cIi5cIil7aWYocz09MHx8KEUtPXMscD42KSlyZXR1cm47Zm9yKGE9MDtmKCk7KXtpZihjPW51bGwsYT4wKXtpZighKGYoKT09XCIuXCImJmE8NCkpcmV0dXJuO0UrKzt9aWYoIUxpKEtwLGYoKSkpcmV0dXJuO2Zvcig7TGkoS3AsZigpKTspe2lmKGQ9TWQoZigpLDEwKSxjPT09bnVsbCljPWQ7ZWxzZSB7aWYoYz09MClyZXR1cm47Yz0xMCpjK2Q7fWlmKGM+MjU1KXJldHVybjtFKys7fWhbcF09MjU2KmhbcF0rYywrK2EhPTImJmEhPTR8fHArKzt9aWYoYSE9NClyZXR1cm47YnJlYWt9aWYoZigpPT1cIjpcIil7aWYoRSsrLCFmKCkpcmV0dXJufWVsc2UgaWYoZigpKXJldHVybjtoW3ArK109bzt9ZWxzZSB7aWYoZyE9PW51bGwpcmV0dXJuO0UrKyxnPSsrcDt9fWlmKGchPT1udWxsKWZvcihsPXAtZyxwPTc7cCE9MCYmbD4wOyl1PWhbcF0saFtwLS1dPWhbZytsLTFdLGhbZystLWxdPXU7ZWxzZSBpZihwIT04KXJldHVybjtyZXR1cm4gaH0ocWEodCwxLC0xKSksIWUpKXJldHVybiB2bzt0aGlzLmhvc3Q9ZTt9ZWxzZSBpZih0aGlzLmlzU3BlY2lhbCgpKXtpZih0PWVHKHQpLExpKGZHLHQpfHwoZT1mdW5jdGlvbihyKXt2YXIgbyxzLGEsYyxkLGwsdSxoPXVHKHIsXCIuXCIpO2lmKGgubGVuZ3RoJiZoW2gubGVuZ3RoLTFdPT1cIlwiJiZoLmxlbmd0aC0tLChvPWgubGVuZ3RoKT40KXJldHVybiByO2ZvcihzPVtdLGE9MDthPG87YSsrKXtpZigoYz1oW2FdKT09XCJcIilyZXR1cm4gcjtpZihkPTEwLGMubGVuZ3RoPjEmJlRpKGMsMCk9PVwiMFwiJiYoZD1MaShfRyxjKT8xNjo4LGM9cWEoYyxkPT04PzE6MikpLGM9PT1cIlwiKWw9MDtlbHNlIHtpZighTGkoZD09MTA/bUc6ZD09OD9FRzplQyxjKSlyZXR1cm4gcjtsPU1kKGMsZCk7fW1zKHMsbCk7fWZvcihhPTA7YTxvO2ErKylpZihsPXNbYV0sYT09by0xKXtpZihsPj0kUigyNTYsNS1vKSlyZXR1cm4gbnVsbH1lbHNlIGlmKGw+MjU1KXJldHVybiBudWxsO2Zvcih1PWRHKHMpLGE9MDthPHMubGVuZ3RoO2ErKyl1Kz1zW2FdKiRSKDI1NiwzLWEpO3JldHVybiB1fSh0KSxlPT09bnVsbCkpcmV0dXJuIHZvO3RoaXMuaG9zdD1lO31lbHNlIHtpZihMaShnRyx0KSlyZXR1cm4gdm87Zm9yKGU9XCJcIixuPUVzKHQpLGk9MDtpPG4ubGVuZ3RoO2krKyllKz1CcihuW2ldLFJsKTt0aGlzLmhvc3Q9ZTt9fSxjYW5ub3RIYXZlVXNlcm5hbWVQYXNzd29yZFBvcnQ6ZnVuY3Rpb24oKXtyZXR1cm4gIXRoaXMuaG9zdHx8dGhpcy5jYW5ub3RCZUFCYXNlVVJMfHx0aGlzLnNjaGVtZT09XCJmaWxlXCJ9LGluY2x1ZGVzQ3JlZGVudGlhbHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51c2VybmFtZSE9XCJcInx8dGhpcy5wYXNzd29yZCE9XCJcIn0saXNTcGVjaWFsOmZ1bmN0aW9uKCl7cmV0dXJuIFdFKFVkLHRoaXMuc2NoZW1lKX0sc2hvcnRlblBhdGg6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBhdGgsZT10Lmxlbmd0aDshZXx8dGhpcy5zY2hlbWU9PVwiZmlsZVwiJiZlPT0xJiZ6YSh0WzBdLCEwKXx8dC5sZW5ndGgtLTt9LHNlcmlhbGl6ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10LnNjaGVtZSxuPXQudXNlcm5hbWUsaT10LnBhc3N3b3JkLHI9dC5ob3N0LG89dC5wb3J0LHM9dC5wYXRoLGE9dC5xdWVyeSxjPXQuZnJhZ21lbnQsZD1lK1wiOlwiO3JldHVybiByIT09bnVsbD8oZCs9XCIvL1wiLHQuaW5jbHVkZXNDcmVkZW50aWFscygpJiYoZCs9bisoaT9cIjpcIitpOlwiXCIpK1wiQFwiKSxkKz1NYShyKSxvIT09bnVsbCYmKGQrPVwiOlwiK28pKTplPT1cImZpbGVcIiYmKGQrPVwiLy9cIiksZCs9dC5jYW5ub3RCZUFCYXNlVVJMP3NbMF06cy5sZW5ndGg/XCIvXCIrWWEocyxcIi9cIik6XCJcIixhIT09bnVsbCYmKGQrPVwiP1wiK2EpLGMhPT1udWxsJiYoZCs9XCIjXCIrYyksZH0sc2V0SHJlZjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnBhcnNlKHQpO2lmKGUpdGhyb3cgSEUoZSk7dGhpcy5zZWFyY2hQYXJhbXMudXBkYXRlKCk7fSxnZXRPcmlnaW46ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnNjaGVtZSxlPXRoaXMucG9ydDtpZih0PT1cImJsb2JcIil0cnl7cmV0dXJuIG5ldyBlYSh0LnBhdGhbMF0pLm9yaWdpbn1jYXRjaHtyZXR1cm4gXCJudWxsXCJ9cmV0dXJuIHQhPVwiZmlsZVwiJiZ0aGlzLmlzU3BlY2lhbCgpP3QrXCI6Ly9cIitNYSh0aGlzLmhvc3QpKyhlIT09bnVsbD9cIjpcIitlOlwiXCIpOlwibnVsbFwifSxnZXRQcm90b2NvbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNjaGVtZStcIjpcIn0sc2V0UHJvdG9jb2w6ZnVuY3Rpb24odCl7dGhpcy5wYXJzZSh2cih0KStcIjpcIixxcCk7fSxnZXRVc2VybmFtZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVzZXJuYW1lfSxzZXRVc2VybmFtZTpmdW5jdGlvbih0KXt2YXIgZT1Fcyh2cih0KSk7aWYoIXRoaXMuY2Fubm90SGF2ZVVzZXJuYW1lUGFzc3dvcmRQb3J0KCkpe3RoaXMudXNlcm5hbWU9XCJcIjtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl0aGlzLnVzZXJuYW1lKz1CcihlW25dLFlwKTt9fSxnZXRQYXNzd29yZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhc3N3b3JkfSxzZXRQYXNzd29yZDpmdW5jdGlvbih0KXt2YXIgZT1Fcyh2cih0KSk7aWYoIXRoaXMuY2Fubm90SGF2ZVVzZXJuYW1lUGFzc3dvcmRQb3J0KCkpe3RoaXMucGFzc3dvcmQ9XCJcIjtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl0aGlzLnBhc3N3b3JkKz1CcihlW25dLFlwKTt9fSxnZXRIb3N0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5ob3N0LGU9dGhpcy5wb3J0O3JldHVybiB0PT09bnVsbD9cIlwiOmU9PT1udWxsP01hKHQpOk1hKHQpK1wiOlwiK2V9LHNldEhvc3Q6ZnVuY3Rpb24odCl7dGhpcy5jYW5ub3RCZUFCYXNlVVJMfHx0aGlzLnBhcnNlKHQsWHApO30sZ2V0SG9zdG5hbWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmhvc3Q7cmV0dXJuIHQ9PT1udWxsP1wiXCI6TWEodCl9LHNldEhvc3RuYW1lOmZ1bmN0aW9uKHQpe3RoaXMuY2Fubm90QmVBQmFzZVVSTHx8dGhpcy5wYXJzZSh0LFFwKTt9LGdldFBvcnQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBvcnQ7cmV0dXJuIHQ9PT1udWxsP1wiXCI6dnIodCl9LHNldFBvcnQ6ZnVuY3Rpb24odCl7dGhpcy5jYW5ub3RIYXZlVXNlcm5hbWVQYXNzd29yZFBvcnQoKXx8KCh0PXZyKHQpKT09XCJcIj90aGlzLnBvcnQ9bnVsbDp0aGlzLnBhcnNlKHQsWnApKTt9LGdldFBhdGhuYW1lOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wYXRoO3JldHVybiB0aGlzLmNhbm5vdEJlQUJhc2VVUkw/dFswXTp0Lmxlbmd0aD9cIi9cIitZYSh0LFwiL1wiKTpcIlwifSxzZXRQYXRobmFtZTpmdW5jdGlvbih0KXt0aGlzLmNhbm5vdEJlQUJhc2VVUkx8fCh0aGlzLnBhdGg9W10sdGhpcy5wYXJzZSh0LGZzKSk7fSxnZXRTZWFyY2g6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnF1ZXJ5O3JldHVybiB0P1wiP1wiK3Q6XCJcIn0sc2V0U2VhcmNoOmZ1bmN0aW9uKHQpeyh0PXZyKHQpKT09XCJcIj90aGlzLnF1ZXJ5PW51bGw6KFRpKHQsMCk9PVwiP1wiJiYodD1xYSh0LDEpKSx0aGlzLnF1ZXJ5PVwiXCIsdGhpcy5wYXJzZSh0LHlvKSksdGhpcy5zZWFyY2hQYXJhbXMudXBkYXRlKCk7fSxnZXRTZWFyY2hQYXJhbXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWFyY2hQYXJhbXMuZmFjYWRlfSxnZXRIYXNoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5mcmFnbWVudDtyZXR1cm4gdD9cIiNcIit0OlwiXCJ9LHNldEhhc2g6ZnVuY3Rpb24odCl7KHQ9dnIodCkpIT1cIlwiPyhUaSh0LDApPT1cIiNcIiYmKHQ9cWEodCwxKSksdGhpcy5mcmFnbWVudD1cIlwiLHRoaXMucGFyc2UodCxTcikpOnRoaXMuZnJhZ21lbnQ9bnVsbDt9LHVwZGF0ZTpmdW5jdGlvbigpe3RoaXMucXVlcnk9dGhpcy5zZWFyY2hQYXJhbXMuc2VyaWFsaXplKCl8fG51bGw7fX07dmFyIGVhPWZ1bmN0aW9uKHQpe3ZhciBlPSRqKHRoaXMseW4pLG49aUcoYXJndW1lbnRzLmxlbmd0aCwxKT4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsaT1yRyhlLG5ldyBTZih0LCExLG4pKTtmZnx8KGUuaHJlZj1pLnNlcmlhbGl6ZSgpLGUub3JpZ2luPWkuZ2V0T3JpZ2luKCksZS5wcm90b2NvbD1pLmdldFByb3RvY29sKCksZS51c2VybmFtZT1pLmdldFVzZXJuYW1lKCksZS5wYXNzd29yZD1pLmdldFBhc3N3b3JkKCksZS5ob3N0PWkuZ2V0SG9zdCgpLGUuaG9zdG5hbWU9aS5nZXRIb3N0bmFtZSgpLGUucG9ydD1pLmdldFBvcnQoKSxlLnBhdGhuYW1lPWkuZ2V0UGF0aG5hbWUoKSxlLnNlYXJjaD1pLmdldFNlYXJjaCgpLGUuc2VhcmNoUGFyYW1zPWkuZ2V0U2VhcmNoUGFyYW1zKCksZS5oYXNoPWkuZ2V0SGFzaCgpKTt9LHluPWVhLnByb3RvdHlwZSxoaT1mdW5jdGlvbih0LGUpe3JldHVybiB7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHpsKHRoaXMpW3RdKCl9LHNldDplJiZmdW5jdGlvbihuKXtyZXR1cm4gemwodGhpcylbZV0obil9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfX07ZmYmJih1aSh5bixcImhyZWZcIixoaShcInNlcmlhbGl6ZVwiLFwic2V0SHJlZlwiKSksdWkoeW4sXCJvcmlnaW5cIixoaShcImdldE9yaWdpblwiKSksdWkoeW4sXCJwcm90b2NvbFwiLGhpKFwiZ2V0UHJvdG9jb2xcIixcInNldFByb3RvY29sXCIpKSx1aSh5bixcInVzZXJuYW1lXCIsaGkoXCJnZXRVc2VybmFtZVwiLFwic2V0VXNlcm5hbWVcIikpLHVpKHluLFwicGFzc3dvcmRcIixoaShcImdldFBhc3N3b3JkXCIsXCJzZXRQYXNzd29yZFwiKSksdWkoeW4sXCJob3N0XCIsaGkoXCJnZXRIb3N0XCIsXCJzZXRIb3N0XCIpKSx1aSh5bixcImhvc3RuYW1lXCIsaGkoXCJnZXRIb3N0bmFtZVwiLFwic2V0SG9zdG5hbWVcIikpLHVpKHluLFwicG9ydFwiLGhpKFwiZ2V0UG9ydFwiLFwic2V0UG9ydFwiKSksdWkoeW4sXCJwYXRobmFtZVwiLGhpKFwiZ2V0UGF0aG5hbWVcIixcInNldFBhdGhuYW1lXCIpKSx1aSh5bixcInNlYXJjaFwiLGhpKFwiZ2V0U2VhcmNoXCIsXCJzZXRTZWFyY2hcIikpLHVpKHluLFwic2VhcmNoUGFyYW1zXCIsaGkoXCJnZXRTZWFyY2hQYXJhbXNcIikpLHVpKHluLFwiaGFzaFwiLGhpKFwiZ2V0SGFzaFwiLFwic2V0SGFzaFwiKSkpLExkKHluLFwidG9KU09OXCIsZnVuY3Rpb24oKXtyZXR1cm4gemwodGhpcykuc2VyaWFsaXplKCl9LHtlbnVtZXJhYmxlOiEwfSksTGQoeW4sXCJ0b1N0cmluZ1wiLGZ1bmN0aW9uKCl7cmV0dXJuIHpsKHRoaXMpLnNlcmlhbGl6ZSgpfSx7ZW51bWVyYWJsZTohMH0pLExhJiYoZV89TGEuY3JlYXRlT2JqZWN0VVJMLG5fPUxhLnJldm9rZU9iamVjdFVSTCxlXyYmTGQoZWEsXCJjcmVhdGVPYmplY3RVUkxcIixaUihlXyxMYSkpLG5fJiZMZChlYSxcInJldm9rZU9iamVjdFVSTFwiLFpSKG5fLExhKSkpO3ZhciBlXyxuXztuRyhlYSxcIlVSTFwiKSxRaih7Z2xvYmFsOiEwLGNvbnN0cnVjdG9yOiEwLGZvcmNlZDohWmosc2hhbTohZmZ9LHtVUkw6ZWF9KTt2YXIgSUc9eHQsdkc9U2UseUc9VnUsbEM9b2ksQUc9cmYsdUM9RG4oXCJVUkxcIik7SUcoe3RhcmdldDpcIlVSTFwiLHN0YXQ6ITAsZm9yY2VkOiEoQUcmJnZHKGZ1bmN0aW9uKCl7dUMuY2FuUGFyc2UoKTt9KSl9LHtjYW5QYXJzZTpmdW5jdGlvbih0KXt2YXIgZT15Ryhhcmd1bWVudHMubGVuZ3RoLDEpLG49bEModCksaT1lPDJ8fGFyZ3VtZW50c1sxXT09PXZvaWQgMD92b2lkIDA6bEMoYXJndW1lbnRzWzFdKTt0cnl7cmV0dXJuICEhbmV3IHVDKG4saSl9Y2F0Y2h7cmV0dXJuICExfX19KTt2YXIgaEM9YWUoR2kuVVJMKSxOZT17Z2V0RGlzcGxheU1lZGlhOiExLGdldFN0cmVhbUZyb21FeHRlbnNpb246ITEsc3VwcG9ydFVuaWZpZWRQbGFuOiExLHN1cHBvcnRNaW5CaXRyYXRlOiExLHN1cHBvcnRTZXRSdHBTZW5kZXJQYXJhbWV0ZXJzOiExLHN1cHBvcnREdWFsU3RyZWFtOiEwLHdlYkF1ZGlvTWVkaWFTdHJlYW1EZXN0OiExLHN1cHBvcnRSZXBsYWNlVHJhY2s6ITEsc3VwcG9ydFdlYkdMOiExLHdlYkF1ZGlvV2l0aEFFQzohMSxzdXBwb3J0UmVxdWVzdEZyYW1lOiExLHN1cHBvcnRTaGFyZUF1ZGlvOiExLHN1cHBvcnREdWFsU3RyZWFtRW5jb2Rpbmc6ITEsc3VwcG9ydERhdGFDaGFubmVsOiExLHN1cHBvcnRQQ1NldENvbmZpZ3VyYXRpb246ITEsc3VwcG9ydFdlYlJUQ0VuY29kZWRUcmFuc2Zvcm06ITEsc3VwcG9ydFdlYlJUQ0luc2VydGFibGVTdHJlYW06ITEsc3VwcG9ydFJlcXVlc3RWaWRlb0ZyYW1lQ2FsbGJhY2s6ITEsc3VwcG9ydFdlYkNyeXB0bzohMX07ZnVuY3Rpb24gZnQoKXtyZXR1cm4gTmV9ZnVuY3Rpb24gak8oKXtyZXR1cm4gXCJzZXRTaW5rSWRcImluIEhUTUxBdWRpb0VsZW1lbnQucHJvdG90eXBlJiYoIXYoXCJSRVNUUklDVElPTl9TRVRfUExBWUJBQ0tfREVWSUNFXCIpfHwob28oKXx8X08oKSkmJiFsZigpKX1mdW5jdGlvbiBwQygpe3JldHVybiAhTmUuc3VwcG9ydFVuaWZpZWRQbGFufHx2KFwiQ0hST01FX0ZPUkNFX1BMQU5fQlwiKSYmaG8oKX12YXIga2U9ZnVuY3Rpb24odCl7cmV0dXJuIHQuSU9TXzE1XzE2X0lOVEVSUlVQVElPTl9TVEFSVD1cImlvczE1XzE2LWludGVycnVwdGlvbi1zdGFydFwiLHQuSU9TXzE1XzE2X0lOVEVSUlVQVElPTl9FTkQ9XCJpb3MxNV8xNi1pbnRlcnJ1cHRpb24tZW5kXCIsdC5JT1NfSU5URVJSVVBUSU9OX1NUQVJUPVwiaW9zLWludGVycnVwdGlvbi1zdGFydFwiLHQuSU9TX0lOVEVSUlVQVElPTl9FTkQ9XCJpb3MtaW50ZXJydXB0aW9uLWVuZFwiLHQuU1RBVEVfQ0hBTkdFPVwic3RhdGUtY2hhbmdlXCIsdH0oe30pO2Z1bmN0aW9uIGdzKHQsZSxuKXtyZXR1cm4ge3NhbXBsZVJhdGU6dCxzdGVyZW86ZSxiaXRyYXRlOm59fWZ1bmN0aW9uIF90KHQsZSxuLGkscil7cmV0dXJuIHt3aWR0aDp0LGhlaWdodDplLGZyYW1lUmF0ZTpuLGJpdHJhdGVNaW46aSxiaXRyYXRlTWF4OnJ9fWZ1bmN0aW9uIHBpKHQsZSxuLGkscil7cmV0dXJuIHt3aWR0aDp7bWF4OnR9LGhlaWdodDp7bWF4OmV9LGZyYW1lUmF0ZTpuLGJpdHJhdGVNaW46aSxiaXRyYXRlTWF4OnJ9fWZ1bmN0aW9uIGlfKHQsZSl7cmV0dXJuIHtudW1TcGF0aWFsTGF5ZXJzOnQsbnVtVGVtcG9yYWxMYXllcnM6ZX19dmFyIGJHPXtcIjkwcFwiOl90KDE2MCw5MCksXCI5MHBfMVwiOl90KDE2MCw5MCksXCIxMjBwXCI6X3QoMTYwLDEyMCwxNSwzMCw2NSksXCIxMjBwXzFcIjpfdCgxNjAsMTIwLDE1LDMwLDY1KSxcIjEyMHBfM1wiOl90KDEyMCwxMjAsMTUsMzAsNTApLFwiMTIwcF80XCI6X3QoMjEyLDEyMCksXCIxODBwXCI6X3QoMzIwLDE4MCwxNSwzMCwxNDApLFwiMTgwcF8xXCI6X3QoMzIwLDE4MCwxNSwzMCwxNDApLFwiMTgwcF8zXCI6X3QoMTgwLDE4MCwxNSwzMCwxMDApLFwiMTgwcF80XCI6X3QoMjQwLDE4MCwxNSwzMCwxMjApLFwiMjQwcFwiOl90KDMyMCwyNDAsMTUsNDAsMjAwKSxcIjI0MHBfMVwiOl90KDMyMCwyNDAsMTUsNDAsMjAwKSxcIjI0MHBfM1wiOl90KDI0MCwyNDAsMTUsNDAsMTQwKSxcIjI0MHBfNFwiOl90KDQyNCwyNDAsMTUsNDAsMjIwKSxcIjM2MHBcIjpfdCg2NDAsMzYwLDE1LDgwLDQwMCksXCIzNjBwXzFcIjpfdCg2NDAsMzYwLDE1LDgwLDQwMCksXCIzNjBwXzNcIjpfdCgzNjAsMzYwLDE1LDgwLDI2MCksXCIzNjBwXzRcIjpfdCg2NDAsMzYwLDMwLDgwLDYwMCksXCIzNjBwXzZcIjpfdCgzNjAsMzYwLDMwLDgwLDQwMCksXCIzNjBwXzdcIjpfdCg0ODAsMzYwLDE1LDgwLDMyMCksXCIzNjBwXzhcIjpfdCg0ODAsMzYwLDMwLDgwLDQ5MCksXCIzNjBwXzlcIjpfdCg2NDAsMzYwLDE1LDgwLDgwMCksXCIzNjBwXzEwXCI6X3QoNjQwLDM2MCwyNCw4MCw4MDApLFwiMzYwcF8xMVwiOl90KDY0MCwzNjAsMjQsODAsMWUzKSxcIjQ4MHBcIjpfdCg2NDAsNDgwLDE1LDEwMCw1MDApLFwiNDgwcF8xXCI6X3QoNjQwLDQ4MCwxNSwxMDAsNTAwKSxcIjQ4MHBfMlwiOl90KDY0MCw0ODAsMzAsMTAwLDFlMyksXCI0ODBwXzNcIjpfdCg0ODAsNDgwLDE1LDEwMCw0MDApLFwiNDgwcF80XCI6X3QoNjQwLDQ4MCwzMCwxMDAsNzUwKSxcIjQ4MHBfNlwiOl90KDQ4MCw0ODAsMzAsMTAwLDYwMCksXCI0ODBwXzhcIjpfdCg4NDgsNDgwLDE1LDEwMCw2MTApLFwiNDgwcF85XCI6X3QoODQ4LDQ4MCwzMCwxMDAsOTMwKSxcIjQ4MHBfMTBcIjpfdCg2NDAsNDgwLDEwLDEwMCw0MDApLFwiNzIwcFwiOl90KDEyODAsNzIwLDE1LDEyMCwxMTMwKSxcIjcyMHBfYXV0b1wiOl90KDEyODAsNzIwLDMwLDkwMCwzZTMpLFwiNzIwcF8xXCI6X3QoMTI4MCw3MjAsMTUsMTIwLDExMzApLFwiNzIwcF8yXCI6X3QoMTI4MCw3MjAsMzAsMTIwLDJlMyksXCI3MjBwXzNcIjpfdCgxMjgwLDcyMCwzMCwxMjAsMTcxMCksXCI3MjBwXzVcIjpfdCg5NjAsNzIwLDE1LDEyMCw5MTApLFwiNzIwcF82XCI6X3QoOTYwLDcyMCwzMCwxMjAsMTM4MCksXCIxMDgwcFwiOl90KDE5MjAsMTA4MCwxNSwxMjAsMjA4MCksXCIxMDgwcF8xXCI6X3QoMTkyMCwxMDgwLDE1LDEyMCwyMDgwKSxcIjEwODBwXzJcIjpfdCgxOTIwLDEwODAsMzAsMTIwLDNlMyksXCIxMDgwcF8zXCI6X3QoMTkyMCwxMDgwLDMwLDEyMCwzMTUwKSxcIjEwODBwXzVcIjpfdCgxOTIwLDEwODAsNjAsMTIwLDQ3ODApLFwiMTQ0MHBcIjpfdCgyNTYwLDE0NDAsMzAsMTIwLDQ4NTApLFwiMTQ0MHBfMVwiOl90KDI1NjAsMTQ0MCwzMCwxMjAsNDg1MCksXCIxNDQwcF8yXCI6X3QoMjU2MCwxNDQwLDYwLDEyMCw3MzUwKSxcIjRrXCI6X3QoMzg0MCwyMTYwLDMwLDEyMCw4OTEwKSxcIjRrXzFcIjpfdCgzODQwLDIxNjAsMzAsMTIwLDg5MTApLFwiNGtfM1wiOl90KDM4NDAsMjE2MCw2MCwxMjAsMTM1MDApfSx3Rz17XCI0ODBwXCI6cGkoNjQwLDQ4MCw1KSxcIjQ4MHBfMVwiOnBpKDY0MCw0ODAsNSksXCI0ODBwXzJcIjpwaSg2NDAsNDgwLDMwKSxcIjQ4MHBfM1wiOnBpKDY0MCw0ODAsMTUpLFwiNzIwcFwiOnBpKDEyODAsNzIwLDUpLFwiNzIwcF9hdXRvXCI6X3QoMTI4MCw3MjAsMzAsOTAwLDNlMyksXCI3MjBwXzFcIjpwaSgxMjgwLDcyMCw1KSxcIjcyMHBfMlwiOnBpKDEyODAsNzIwLDMwKSxcIjcyMHBfM1wiOnBpKDEyODAsNzIwLDE1KSxcIjEwODBwXCI6cGkoMTkyMCwxMDgwLDUpLFwiMTA4MHBfMVwiOnBpKDE5MjAsMTA4MCw1KSxcIjEwODBwXzJcIjpwaSgxOTIwLDEwODAsMzApLFwiMTA4MHBfM1wiOnBpKDE5MjAsMTA4MCwxNSl9LE9HPXtcIjFTTDFUTFwiOmlfKDEsMSksXCIzU0wzVExcIjppXygzLDMpLFwiMlNMM1RMXCI6aV8oMiwzKX07ZnVuY3Rpb24gY3IodCl7cmV0dXJuIHR8fCh0PVwiNDgwcF8xXCIpLHR5cGVvZiB0PT1cInN0cmluZ1wiP09iamVjdC5hc3NpZ24oe30sYkdbdF0pOnR9ZnVuY3Rpb24gcl8odCl7cmV0dXJuIHR5cGVvZiB0PT1cInN0cmluZ1wiP09iamVjdC5hc3NpZ24oe30sd0dbdF0pOnR9ZnVuY3Rpb24gRmQodCl7cmV0dXJuIHR5cGVvZiB0PT1cInN0cmluZ1wiP09iamVjdC5hc3NpZ24oe30sT0dbdF0pOnR9dmFyIE5HPXtzcGVlY2hfbG93X3F1YWxpdHk6Z3MoMTZlMywhMSksc3BlZWNoX3N0YW5kYXJkOmdzKDMyZTMsITEsMTgpLG11c2ljX3N0YW5kYXJkOmdzKDQ4ZTMsITEpLHN0YW5kYXJkX3N0ZXJlbzpncyg0OGUzLCEwLDU2KSxoaWdoX3F1YWxpdHk6Z3MoNDhlMywhMSwxMjgpLGhpZ2hfcXVhbGl0eV9zdGVyZW86Z3MoNDhlMywhMCwxOTIpfTtmdW5jdGlvbiBKbCh0KXtyZXR1cm4gdHlwZW9mIHQ9PVwic3RyaW5nXCI/T2JqZWN0LmFzc2lnbih7fSxOR1t0XSk6dH12YXIgQXM9W107ZnVuY3Rpb24gX0ModCl7cmV0dXJuIENlKHQsXCJtZWRpYVNvdXJjZVwiLFtcInNjcmVlblwiLFwid2luZG93XCIsXCJhcHBsaWNhdGlvblwiXSksITB9dmFyIEg9ZnVuY3Rpb24odCl7cmV0dXJuIHQuTkVFRF9SRU5FR09USUFURT1cIkBuZWVkX3JlbmVnb3RpYXRlXCIsdC5ORUVEX1JFUExBQ0VfVFJBQ0s9XCJAbmVlZF9yZXBsYWNlX3RyYWNrXCIsdC5ORUVEX1JFUExBQ0VfTUlYSU5HX1RSQUNLPVwiQG5lZWRfcmVwbGFjZV9taXhpbmdfdHJhY2tcIix0Lk5FRURfQ0xPU0U9XCJAbmVlZF9jbG9zZVwiLHQuTkVFRF9FTkFCTEVfVFJBQ0s9XCJAbmVlZF9lbmFibGVfdHJhY2tcIix0Lk5FRURfRElTQUJMRV9UUkFDSz1cIkBuZWVkX2Rpc2FibGVfdHJhY2tcIix0Lk5FRURfU0VTU0lPTl9JRD1cIkBuZWVkX3NpZFwiLHQuU0VUX09QVElNSVpBVElPTl9NT0RFPVwiQHNldF9vcHRpbWl6YXRpb25fbW9kZVwiLHQuR0VUX1NUQVRTPVwiQGdldF9zdGF0c1wiLHQuR0VUX1JUQ19TVEFUUz1cIkBnZXRfcnRjX3N0YXRzXCIsdC5HRVRfTE9XX1ZJREVPX1RSQUNLPVwiQGdldF9sb3dfdmlkZW9fdHJhY2tcIix0Lk5FRURfUkVTRVRfUkVNT1RFX1NEUD1cIkBuZWVkX3Jlc2V0X3JlbW90ZV9zZHBcIix0Lk5FRURfVVBEQVRFX1ZJREVPX0VOQ09ERVI9XCJAbmVlZF91cGRhdGVfdmlkZW9fZW5jb2RlclwiLHQuTkVFRF9VUERBVEVfVklERU9fU0VORF9QQVJBTUVURVJTPVwiQG5lZWRfdXBkYXRlX3ZpZGVvX3NlbmRfcGFyYW1ldGVyc1wiLHQuTkVFRF9NVVRFX1RSQUNLPVwiQG5lZWRfbXV0ZV90cmFja1wiLHQuTkVFRF9VTk1VVEVfVFJBQ0s9XCJAbmVlZF91bm11dGVfdHJhY2tcIix0fSh7fSksR3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHQuU0NSRUVOX1RSQUNLPVwic2NyZWVuX3RyYWNrXCIsdC5DVVNUT01fVFJBQ0s9XCJjdXN0b21lX3RyYWNrXCIsdC5MT1dfU1RSRUFNPVwibG93X3N0cmVhbVwiLHR9KHt9KSxuYT1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkhJR0hfU1RSRUFNPTBdPVwiSElHSF9TVFJFQU1cIix0W3QuTE9XX1NUUkVBTT0xXT1cIkxPV19TVFJFQU1cIix0fSh7fSksREc9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5ISUdIX1NUUkVBTT0wXT1cIkhJR0hfU1RSRUFNXCIsdFt0LkxPV19TVFJFQU09MV09XCJMT1dfU1RSRUFNXCIsdH0oe30pLFBHPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuRElTQUJMRT0wXT1cIkRJU0FCTEVcIix0W3QuTE9XX1NUUkVBTT0xXT1cIkxPV19TVFJFQU1cIix0W3QuQVVESU9fT05MWT0yXT1cIkFVRElPX09OTFlcIix0fSh7fSksS289ZnVuY3Rpb24odCl7cmV0dXJuIHQuVFJBTlNDRUlWRVJfVVBEQVRFRD1cInRyYW5zY2VpdmVyLXVwZGF0ZWRcIix0LlNFSV9UT19TRU5EPVwic2VpLXRvLXNlbmRcIix0LlNFSV9SRUNFSVZFRD1cInNlaS1yZWNlaXZlZFwiLHQuVFJBQ0tfVVBEQVRFRD1cInRyYWNrLXVwZGF0ZWRcIix0fSh7fSksbWE9ZnVuY3Rpb24odCl7cmV0dXJuIHQuU09VUkNFX1NUQVRFX0NIQU5HRT1cInNvdXJjZS1zdGF0ZS1jaGFuZ2VcIix0LlRSQUNLX0VOREVEPVwidHJhY2stZW5kZWRcIix0LkJFQVVUWV9FRkZFQ1RfT1ZFUkxPQUQ9XCJiZWF1dHktZWZmZWN0LW92ZXJsb2FkXCIsdC5WSURFT19FTEVNRU5UX1ZJU0lCTEVfU1RBVFVTPVwidmlkZW8tZWxlbWVudC12aXNpYmxlLXN0YXR1c1wiLHQuQ0xPU0VEPVwiY2xvc2VkXCIsdH0oe30pLFdzPWZ1bmN0aW9uKHQpe3JldHVybiB0LkZJUlNUX0ZSQU1FX0RFQ09ERUQ9XCJmaXJzdC1mcmFtZS1kZWNvZGVkXCIsdC5WSURFT19FTEVNRU5UX1ZJU0lCTEVfU1RBVFVTPVwidmlkZW8tZWxlbWVudC12aXNpYmxlLXN0YXR1c1wiLHQuVklERU9fU1RBVEVfQ0hBTkdFRD1cInZpZGVvLXN0YXRlLWNoYW5nZWRcIix0fSh7fSksZmE9ZnVuY3Rpb24odCl7cmV0dXJuIHQuQVVESU89XCJhdWRpb1wiLHQuVklERU89XCJ2aWRlb1wiLHQuREFUQT1cImRhdGFcIix0fSh7fSksam49ZnVuY3Rpb24odCl7cmV0dXJuIHQuQVVESU9fU09VUkNFX1NUQVRFX0NIQU5HRT1cImF1ZGlvX3NvdXJjZV9zdGF0ZV9jaGFuZ2VcIix0LlJFQ0VJVkVfVFJBQ0tfQlVGRkVSPVwicmVjZWl2ZV90cmFja19idWZmZXJcIix0Lk9OX0FVRElPX0JVRkZFUj1cIm9uX2F1ZGlvX2J1ZmZlclwiLHQuVVBEQVRFX1NPVVJDRT1cInVwZGF0ZV9zb3VyY2VcIix0fSh7fSk7KGZ1bmN0aW9uKHQpe3QuVVBEQVRFX1RSQUNLX1NPVVJDRT1cInVwZGF0ZS10cmFjay1zb3VyY2VcIjt9KSh7fSk7dmFyIEtFPXtzZW5kVm9sdW1lTGV2ZWw6MCxzZW5kQml0cmF0ZTowLHNlbmRCeXRlczowLHNlbmRQYWNrZXRzOjAsc2VuZFBhY2tldHNMb3N0OjAsc2VuZEppdHRlck1zOjAsc2VuZFJ0dE1zOjAsY3VycmVudFBhY2tldExvc3NSYXRlOjB9LFlFPXtzZW5kQnl0ZXM6MCxzZW5kQml0cmF0ZTowLHNlbmRQYWNrZXRzOjAsc2VuZFBhY2tldHNMb3N0OjAsc2VuZEppdHRlck1zOjAsc2VuZFJ0dE1zOjAsc2VuZFJlc29sdXRpb25IZWlnaHQ6MCxzZW5kUmVzb2x1dGlvbldpZHRoOjAsY2FwdHVyZVJlc29sdXRpb25IZWlnaHQ6MCxjYXB0dXJlUmVzb2x1dGlvbldpZHRoOjAsdGFyZ2V0U2VuZEJpdHJhdGU6MCx0b3RhbER1cmF0aW9uOjAsdG90YWxGcmVlemVUaW1lOjAsY3VycmVudFBhY2tldExvc3NSYXRlOjB9LEdPPXt0cmFuc3BvcnREZWxheTowLGVuZDJFbmREZWxheTowLHJlY2VpdmVCaXRyYXRlOjAscmVjZWl2ZUxldmVsOjAscmVjZWl2ZUJ5dGVzOjAscmVjZWl2ZURlbGF5OjAscmVjZWl2ZVBhY2tldHM6MCxyZWNlaXZlUGFja2V0c0xvc3Q6MCxyZWNlaXZlUGFja2V0c0Rpc2NhcmRlZDowLHRvdGFsRHVyYXRpb246MCx0b3RhbEZyZWV6ZVRpbWU6MCxmcmVlemVSYXRlOjAscGFja2V0TG9zc1JhdGU6MCxjdXJyZW50UGFja2V0TG9zc1JhdGU6MCxwdWJsaXNoRHVyYXRpb246LTF9LGtHPXt1cGxpbmtOZXR3b3JrUXVhbGl0eTowLGRvd25saW5rTmV0d29ya1F1YWxpdHk6MH0sV089e3RyYW5zcG9ydERlbGF5OjAsZW5kMkVuZERlbGF5OjAscmVjZWl2ZUJpdHJhdGU6MCxyZWNlaXZlQnl0ZXM6MCxyZWNlaXZlRGVsYXk6MCxyZWNlaXZlUGFja2V0czowLHJlY2VpdmVQYWNrZXRzTG9zdDowLHJlY2VpdmVSZXNvbHV0aW9uSGVpZ2h0OjAscmVjZWl2ZVJlc29sdXRpb25XaWR0aDowLHRvdGFsRHVyYXRpb246MCx0b3RhbEZyZWV6ZVRpbWU6MCxmcmVlemVSYXRlOjAscGFja2V0TG9zc1JhdGU6MCxjdXJyZW50UGFja2V0TG9zc1JhdGU6MCxwdWJsaXNoRHVyYXRpb246LTF9LHVuPWZ1bmN0aW9uKHQpe3JldHVybiB0Lk9OX1RSQUNLPVwib25fdHJhY2tcIix0Lk9OX05PREU9XCJvbl9ub2RlXCIsdH0oe30pLFduPWZ1bmN0aW9uKHQpe3JldHVybiB0LlJFUVVFU1RfVVBEQVRFX0NPTlNUUkFJTlRTPVwicmVxdWVzdF91cGRhdGVfY29uc3RyYWludHNcIix0LlJFUVVFU1RfQ09OU1RSQUlOVFM9XCJyZXF1ZXN0X2NvbnN0cmFpbnRzXCIsdH0oe30pLFVhPWZ1bmN0aW9uKHQpe3JldHVybiB0LklETEU9XCJJRExFXCIsdC5JTklUSU5HPVwiSU5JVElOR1wiLHQuSU5JVEVORD1cIklOSVRFTkRcIix0fSh7fSksQm89ZnVuY3Rpb24odCl7cmV0dXJuIHQuU1RBVEVfQ0hBTkdFPVwic3RhdGVfY2hhbmdlXCIsdC5SRUNPUkRJTkdfREVWSUNFX0NIQU5HRUQ9XCJyZWNvcmRpbmdEZXZpY2VDaGFuZ2VkXCIsdC5QTEFZT1VUX0RFVklDRV9DSEFOR0VEPVwicGxheW91dERldmljZUNoYW5nZWRcIix0LkNBTUVSQV9ERVZJQ0VfQ0hBTkdFRD1cImNhbWVyYURldmljZUNoYW5nZWRcIix0fSh7fSksbm49ZnVuY3Rpb24odCl7cmV0dXJuIHQuTk9ORT1cIm5vbmVcIix0LklOSVQ9XCJpbml0XCIsdC5DQU5QTEFZPVwiY2FucGxheVwiLHQuUExBWUlORz1cInBsYXlpbmdcIix0LlBBVVNFRD1cInBhdXNlZFwiLHQuU1VTUEVORD1cInN1c3BlbmRcIix0LlNUQUxMRUQ9XCJzdGFsbGVkXCIsdC5XQUlUSU5HPVwid2FpdGluZ1wiLHQuRVJST1I9XCJlcnJvclwiLHQuREVTVFJPWUVEPVwiZGVzdHJveWVkXCIsdC5BQk9SVD1cImFib3J0XCIsdC5FTkRFRD1cImVuZGVkXCIsdC5FTVBUSUVEPVwiZW1wdGllZFwiLHQuTE9BREVEREFUQT1cImxvYWRlZGRhdGFcIix0fSh7fSksemk9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5WaWRlb1N0YXRlU3RvcHBlZD0wXT1cIlZpZGVvU3RhdGVTdG9wcGVkXCIsdFt0LlZpZGVvU3RhdGVTdGFydGluZz0xXT1cIlZpZGVvU3RhdGVTdGFydGluZ1wiLHRbdC5WaWRlb1N0YXRlRGVjb2Rpbmc9Ml09XCJWaWRlb1N0YXRlRGVjb2RpbmdcIix0W3QuVmlkZW9TdGF0ZUZyb3plbj0zXT1cIlZpZGVvU3RhdGVGcm96ZW5cIix0fSh7fSksb189e3VuaW5pdDoxMDAsbm9uZToxMTAsaW5pdDoxMjAsbG9hZGVkZGF0YToxMzAsY2FucGxheToyMDAscGxheWluZzoyMTAscGF1c2VkOjIyMCxzdXNwZW5kOjMwMCxzdGFsbGVkOjMxMCx3YWl0aW5nOjMyMCxlcnJvcjozMzAsZGVzdHJveWVkOjM0MCxhYm9ydDozNTAsZW5kZWQ6MzYwLGVtcHRpZWQ6MzcwfSxDbD1mdW5jdGlvbih0KXtyZXR1cm4gdC5PUEVOPVwib3BlblwiLHQuTUVTU0FHRT1cIm1lc3NhZ2VcIix0LkNMT1NFPVwiY2xvc2VcIix0LkNMT1NJTkc9XCJjbG9zaW5nXCIsdC5FUlJPUj1cImVycm9yXCIsdH0oe30pO2Z1bmN0aW9uIEV0KHQsZSxuLGkscil7dmFyIG8scyxhPXt9O3JldHVybiBPYmplY3Qua2V5cyhpKS5mb3JFYWNoKGZ1bmN0aW9uKGMpe2FbY109aVtjXTt9KSxhLmVudW1lcmFibGU9ISFhLmVudW1lcmFibGUsYS5jb25maWd1cmFibGU9ISFhLmNvbmZpZ3VyYWJsZSwoXCJ2YWx1ZVwiaW4gYXx8YS5pbml0aWFsaXplcikmJihhLndyaXRhYmxlPSEwKSxhPWppKG89bWoocz1uLnNsaWNlKCkpLmNhbGwocykpLmNhbGwobyxmdW5jdGlvbihjLGQpe3JldHVybiBkKHQsZSxjKXx8Y30sYSksciYmYS5pbml0aWFsaXplciE9PXZvaWQgMCYmKGEudmFsdWU9YS5pbml0aWFsaXplcj9hLmluaXRpYWxpemVyLmNhbGwocik6dm9pZCAwLGEuaW5pdGlhbGl6ZXI9dm9pZCAwKSxhLmluaXRpYWxpemVyPT09dm9pZCAwJiYoT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSxhKSxhPW51bGwpLGF9ZnVuY3Rpb24gUCh0LGUsbil7cmV0dXJuIChlPWZ1bmN0aW9uKGkpe3ZhciByPWZ1bmN0aW9uKG8scyl7aWYodHlwZW9mIG8hPVwib2JqZWN0XCJ8fCFvKXJldHVybiBvO3ZhciBhPW9bU3ltYm9sLnRvUHJpbWl0aXZlXTtpZihhIT09dm9pZCAwKXt2YXIgYz1hLmNhbGwobyxcInN0cmluZ1wiKTtpZih0eXBlb2YgYyE9XCJvYmplY3RcIilyZXR1cm4gYzt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyhvKX0oaSk7cmV0dXJuIHR5cGVvZiByPT1cInN5bWJvbFwiP3I6citcIlwifShlKSlpbiB0P09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTp0W2VdPW4sdH1mdW5jdGlvbiBFQyh0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKGk9aS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKS5lbnVtZXJhYmxlfSkpLG4ucHVzaC5hcHBseShuLGkpO31yZXR1cm4gbn1mdW5jdGlvbiBLdCh0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV0hPW51bGw/YXJndW1lbnRzW2VdOnt9O2UlMj9FQyhPYmplY3QobiksITApLmZvckVhY2goZnVuY3Rpb24oaSl7UCh0LGksbltpXSk7fSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6RUMoT2JqZWN0KG4pKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGksT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGkpKTt9KTt9cmV0dXJuIHR9dmFyIFhsPWNsYXNzIGV4dGVuZHMgWHR7c2V0IF9tZWRpYVN0cmVhbVRyYWNrKGUpe2UhPT10aGlzLm1lZGlhU3RyZWFtVHJhY2smJih0aGlzLnNhZmVFbWl0KEtvLlRSQUNLX1VQREFURUQsZSksdGhpcy5tZWRpYVN0cmVhbVRyYWNrPWUpO31nZXQgX21lZGlhU3RyZWFtVHJhY2soKXtyZXR1cm4gdGhpcy5tZWRpYVN0cmVhbVRyYWNrfWNvbnN0cnVjdG9yKGUsbil7c3VwZXIoKSxQKHRoaXMsXCJ0cmFja01lZGlhVHlwZVwiLHZvaWQgMCksUCh0aGlzLFwiX0lEXCIsdm9pZCAwKSxQKHRoaXMsXCJfcnRwVHJhbnNjZWl2ZXJcIix2b2lkIDApLFAodGhpcyxcIl9sb3dSdHBUcmFuc2NlaXZlclwiLHZvaWQgMCksUCh0aGlzLFwiX2hpbnRzXCIsW10pLFAodGhpcyxcIl9pc0Nsb3NlZFwiLCExKSxQKHRoaXMsXCJfb3JpZ2luTWVkaWFTdHJlYW1UcmFja1wiLHZvaWQgMCksUCh0aGlzLFwibWVkaWFTdHJlYW1UcmFja1wiLHZvaWQgMCksUCh0aGlzLFwiX2V4dGVybmFsXCIse30pLHRoaXMuX0lEPW58fFV0KDgsXCJ0cmFjay1cIiksdGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjaz1lLHRoaXMubWVkaWFTdHJlYW1UcmFjaz1lLGZ1bmN0aW9uKGkpe1coQXMpLmNhbGwoQXMsaSl8fEFzLnB1c2goaSk7fSh0aGlzKTt9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5fSUR9Z2V0VHJhY2tJZCgpe3JldHVybiB0aGlzLl9JRH1nZXRNZWRpYVN0cmVhbVRyYWNrKGUpe3JldHVybiBlfHxwbygoKT0+e3ZhciBuO1gucmVwb3J0QXBpSW52b2tlKG51bGwse25hbWU6VGUuR0VUX01FRElBX1NUUkVBTV9UUkFDSyxvcHRpb25zOltdLHRhZzpadC5UUkFDRVJ9KS5vblN1Y2Nlc3MoKChuPXRoaXMuX21lZGlhU3RyZWFtVHJhY2spPT09bnVsbHx8bj09PXZvaWQgMD92b2lkIDA6bi5sYWJlbCl8fFwiXCIpO30sdGhpcy5tZWRpYVN0cmVhbVRyYWNrLmlkfHx0aGlzLmdldFRyYWNrSWQoKSksdGhpcy5fbWVkaWFTdHJlYW1UcmFja31nZXRSVENSdHBUcmFuc2NlaXZlcihlKXtyZXR1cm4gZT09PW5hLkxPV19TVFJFQU0/dGhpcy5fbG93UnRwVHJhbnNjZWl2ZXI6dGhpcy5fcnRwVHJhbnNjZWl2ZXJ9Z2V0TWVkaWFTdHJlYW1UcmFja1NldHRpbmdzKCl7cmV0dXJuIHRoaXMuZ2V0TWVkaWFTdHJlYW1UcmFjayghMCkuZ2V0U2V0dGluZ3MoKX1jbG9zZSgpe3RoaXMuX2lzQ2xvc2VkPSEwLHRoaXMuX2xvd1J0cFRyYW5zY2VpdmVyPXZvaWQgMCx0aGlzLl9ydHBUcmFuc2NlaXZlcj12b2lkIDAsZnVuY3Rpb24oZSl7bGV0IG49QXMuaW5kZXhPZihlKTtuIT09LTEmJkFzLnNwbGljZShuLDEpO30odGhpcyksdGhpcy5lbWl0KG1hLkNMT1NFRCksdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoS28uU0VJX1JFQ0VJVkVEKTt9X3VwZGF0ZVJ0cFRyYW5zY2VpdmVyKGUsbil7aWYobj09PW5hLkxPV19TVFJFQU0pe2lmKHRoaXMuX2xvd1J0cFRyYW5zY2VpdmVyPT09ZSlyZXR1cm47dGhpcy5fbG93UnRwVHJhbnNjZWl2ZXI9ZTt9ZWxzZSB7aWYodGhpcy5fcnRwVHJhbnNjZWl2ZXI9PT1lKXJldHVybjt0aGlzLl9ydHBUcmFuc2NlaXZlcj1lO310aGlzLmVtaXQoS28uVFJBTlNDRUlWRVJfVVBEQVRFRCxlLG4pO319LG5vPWNsYXNzIGV4dGVuZHMgWGx7Z2V0IGlzRXh0ZXJuYWxUcmFjaygpe3JldHVybiB0aGlzLl9pc0V4dGVybmFsVHJhY2t9Z2V0IG11dGVkKCl7cmV0dXJuIHRoaXMuX211dGVkfWdldCBlbmFibGVkKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9Z2V0IHByb2Nlc3NvckNvbnRleHQoKXtyZXR1cm4gdGhpcy5fcHJvY2Vzc29yQ29udGV4dH1jb25zdHJ1Y3RvcihlLG4pe3N1cGVyKGUsbiksUCh0aGlzLFwiX2VuYWJsZWRcIiwhMCksUCh0aGlzLFwiX211dGVkXCIsITEpLFAodGhpcyxcIl9pc0V4dGVybmFsVHJhY2tcIiwhMSksUCh0aGlzLFwiX2lzQ2xvc2VkXCIsITEpLFAodGhpcyxcIl9lbmFibGVkTXV0ZXhcIix2b2lkIDApLFAodGhpcyxcInByb2Nlc3NvclwiLHZvaWQgMCksUCh0aGlzLFwiX3Byb2Nlc3NvckNvbnRleHRcIix2b2lkIDApLFAodGhpcyxcIl9oYW5kbGVUcmFja0VuZGVkXCIsKCk9Pnt0aGlzLm9uVHJhY2tFbmRlZCgpO30pLHRoaXMuX2VuYWJsZWRNdXRleD1uZXcgemUoXCJcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCkpKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLHRoaXMuX2hhbmRsZVRyYWNrRW5kZWQpO31nZXRUcmFja0xhYmVsKCl7dmFyIGUsbjtyZXR1cm4gKGU9KG49dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayk9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLmxhYmVsKSE9PW51bGwmJmUhPT12b2lkIDA/ZTpcIlwifWNsb3NlKCl7dGhpcy5faXNDbG9zZWR8fCh0aGlzLnN0b3AoKSx0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLnN0b3AoKSx0aGlzLl9tZWRpYVN0cmVhbVRyYWNrIT09dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayYmKHRoaXMuX21lZGlhU3RyZWFtVHJhY2suc3RvcCgpLHRoaXMuX21lZGlhU3RyZWFtVHJhY2s9bnVsbCksdGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjaz1udWxsLHRoaXMuX2VuYWJsZWRNdXRleD1udWxsLF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBjbG9zZVwiKSksdGhpcy5lbWl0KEguTkVFRF9DTE9TRSksc3VwZXIuY2xvc2UoKSk7fWFzeW5jIF91cGRhdGVPcmlnaW5NZWRpYVN0cmVhbVRyYWNrKGUsbil7bGV0IGk9YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl0hPT12b2lkIDAmJmFyZ3VtZW50c1syXTt0aGlzLl9pc0V4dGVybmFsVHJhY2s9aSxlIT09dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayYmKHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2smJih0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLHRoaXMuX2hhbmRsZVRyYWNrRW5kZWQpLG4mJnRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suc3RvcCgpKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLHRoaXMuX2hhbmRsZVRyYWNrRW5kZWQpLHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2s9ZSx0aGlzLl9tdXRlZCYmKHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suZW5hYmxlZD0hMSksdGhpcy5fbWVkaWFTdHJlYW1UcmFjaz10aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLHRoaXMuX3VwZGF0ZVBsYXllclNvdXJjZSgpLGF3YWl0IGt0KHRoaXMsSC5ORUVEX1JFUExBQ0VfVFJBQ0ssdGhpcyksdGhpcy5wcm9jZXNzb3ImJnRoaXMuX3Byb2Nlc3NvckNvbnRleHQmJnRoaXMucHJvY2Vzc29yLnVwZGF0ZUlucHV0KHt0cmFjazp0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLGNvbnRleHQ6dGhpcy5fcHJvY2Vzc29yQ29udGV4dH0pKTt9X2dldERlZmF1bHRQbGF5ZXJDb25maWcoKXtyZXR1cm4ge319b25UcmFja0VuZGVkKCl7Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHRyYWNrIGVuZGVkXCIpKSx0aGlzLnNhZmVFbWl0KG1hLlRSQUNLX0VOREVEKTt9c3RhdGVDaGVjayhlLG4pe2lmKF8uZGVidWcoXCJjaGVjayB0cmFjayBzdGF0ZSwgW211dGVkOiBcIi5jb25jYXQodGhpcy5fbXV0ZWQsXCIsIGVuYWJsZWQ6IFwiKS5jb25jYXQodGhpcy5fZW5hYmxlZCxcIl0gdG8gW1wiKS5jb25jYXQoZSxcIjogXCIpLmNvbmNhdChuLFwiXVwiKSksTnIobixlKSx0aGlzLl9lbmFibGVkJiZ0aGlzLl9tdXRlZCYmZT09PVwiZW5hYmxlZFwiJiZuPT09ITEpdGhyb3cgbmV3IE4oUi5UUkFDS19TVEFURV9VTlJFQUNIQUJMRSxcImNhbm5vdCBzZXQgZW5hYmxlZCB3aGlsZSB0aGUgdHJhY2sgaXMgbXV0ZWRcIikucHJpbnQoXCJlcnJvclwiLF8pO2lmKCF0aGlzLl9lbmFibGVkJiYhdGhpcy5fbXV0ZWQmJmU9PT1cIm11dGVkXCImJm49PT0hMCl0aHJvdyBuZXcgTihSLlRSQUNLX1NUQVRFX1VOUkVBQ0hBQkxFLFwiY2Fubm90IHNldCBtdXRlZCB3aGlsZSB0aGUgdHJhY2sgaXMgZGlzYWJsZWRcIikucHJpbnQoXCJlcnJvclwiLF8pfWdldFByb2Nlc3NvclN0YXRzKCl7cmV0dXJuIHRoaXMuX3Byb2Nlc3NvckNvbnRleHQmJnRoaXMuX3Byb2Nlc3NvckNvbnRleHQuZ2F0aGVyU3RhdHMoKXx8W119Z2V0UHJvY2Vzc29yVXNhZ2UoKXtyZXR1cm4gdGhpcy5fcHJvY2Vzc29yQ29udGV4dD90aGlzLl9wcm9jZXNzb3JDb250ZXh0LmdhdGhlclVzYWdlKCk6ai5yZXNvbHZlKFtdKX19LG1DPXdpbmRvdy5BdWRpb0NvbnRleHR8fHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQsTW49bnVsbCx3dD1uZXcgY2xhc3MgZXh0ZW5kcyBYdHtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksUCh0aGlzLFwicHJldlN0YXRlXCIsdm9pZCAwKSxQKHRoaXMsXCJjdXJTdGF0ZVwiLHZvaWQgMCksUCh0aGlzLFwiY3VycmVudFRpbWVcIix2b2lkIDApLFAodGhpcyxcImN1cnJlbnRUaW1lU3R1Y2tBdFwiLHZvaWQgMCksUCh0aGlzLFwiaW50ZXJydXB0RGV0ZWN0b3JUcmFja1wiLHZvaWQgMCksUCh0aGlzLFwib25Mb2NhbEF1ZGlvVHJhY2tNdXRlXCIsKCk9PntfLmluZm8oXCJpb3MxNS1pbnRlcnJ1cHRpb24tc3RhcnRcIiksdGhpcy5lbWl0KGtlLklPU18xNV8xNl9JTlRFUlJVUFRJT05fU1RBUlQpO30pLFAodGhpcyxcIm9uTG9jYWxBdWRpb1RyYWNrVW5tdXRlXCIsYXN5bmMoKT0+e18uaW5mbyhcImlvczE1LWludGVycnVwdGlvbi1lbmRcIiksdGhpcy5jdXJTdGF0ZSE9PVwicnVubmluZ1wifHx0aGlzLmR1cmluZ0ludGVycnVwdGlvbj9fLmluZm8oXCJpb3MxNS1pbnRlcnJ1cHRpb24tZW5kLWNhbmNlbGVkXCIpOihNbiYmYXdhaXQgTW4uc3VzcGVuZCgpLHRoaXMuZW1pdChrZS5JT1NfMTVfMTZfSU5URVJSVVBUSU9OX0VORCkpO30pO31nZXQgZHVyaW5nSW50ZXJydXB0aW9uKCl7cmV0dXJuIHRoaXMucHJldlN0YXRlPT09XCJydW5uaW5nXCImJnRoaXMuY3VyU3RhdGU9PT1cImludGVycnVwdGVkXCJ9YmluZEludGVycnVwdERldGVjdG9yVHJhY2sodCl7Xy5kZWJ1ZyhcIndlYmF1ZGlvIGJpbmRJbnRlcnJ1cHREZXRlY3RvclRyYWNrIFwiLmNvbmNhdCh0LmdldFRyYWNrSWQoKSkpLHRoaXMuaW50ZXJydXB0RGV0ZWN0b3JUcmFja3x8KHRoaXMuaW50ZXJydXB0RGV0ZWN0b3JUcmFjaz10LHRoaXMuaW50ZXJydXB0RGV0ZWN0b3JUcmFjay5fbWVkaWFTdHJlYW1UcmFjay5vbm11dGU9dGhpcy5vbkxvY2FsQXVkaW9UcmFja011dGUsdGhpcy5pbnRlcnJ1cHREZXRlY3RvclRyYWNrLl9tZWRpYVN0cmVhbVRyYWNrLm9udW5tdXRlPXRoaXMub25Mb2NhbEF1ZGlvVHJhY2tVbm11dGUpO311bmJpbmRJbnRlcnJ1cHREZXRlY3RvclRyYWNrKHQpe18uZGVidWcoXCJ3ZWJhdWRpbyB1bmJpbmRJbnRlcnJ1cHREZXRlY3RvclRyYWNrIFwiLmNvbmNhdCh0LmdldFRyYWNrSWQoKSkpLHRoaXMuaW50ZXJydXB0RGV0ZWN0b3JUcmFjayYmdGhpcy5pbnRlcnJ1cHREZXRlY3RvclRyYWNrPT09dCYmKHRoaXMuaW50ZXJydXB0RGV0ZWN0b3JUcmFjay5fbWVkaWFTdHJlYW1UcmFjayYmKHRoaXMuaW50ZXJydXB0RGV0ZWN0b3JUcmFjay5fbWVkaWFTdHJlYW1UcmFjay5vbm11dGU9bnVsbCx0aGlzLmludGVycnVwdERldGVjdG9yVHJhY2suX21lZGlhU3RyZWFtVHJhY2sub251bm11dGU9bnVsbCksdGhpcy5pbnRlcnJ1cHREZXRlY3RvclRyYWNrPXZvaWQgMCk7fX07ZnVuY3Rpb24gZ2EoKXtpZighTW4pe2lmKGZ1bmN0aW9uKCl7aWYoIW1DKXJldHVybiB2b2lkIF8uZXJyb3IoXCJ5b3VyIGJyb3dzZXIgaXMgbm90IHN1cHBvcnQgd2ViIGF1ZGlvXCIpO18uaW5mbyhcImNyZWF0ZSBhdWRpbyBjb250ZXh0XCIpO2xldCB0PUt0KHt9LHYoXCJXRUJBVURJT19JTklUX09QVElPTlNcIikpO18uZGVidWcoXCJhdWRpbyBjb250ZXh0IGluaXQgb3B0aW9uOlwiLEpTT04uc3RyaW5naWZ5KHQpKSxNbj1uZXcgbUModCksd3QuY3VyU3RhdGU9TW4uc3RhdGUsTW4ub25zdGF0ZWNoYW5nZT0oKT0+e3d0LnByZXZTdGF0ZT13dC5jdXJTdGF0ZSx3dC5jdXJTdGF0ZT1Nbj9Nbi5zdGF0ZTp2b2lkIDA7bGV0e3ByZXZTdGF0ZTplLGN1clN0YXRlOm59PXd0LGk9bj09PVwicnVubmluZ1wiLHI9bj09PVwiaW50ZXJydXB0ZWRcIixvPWU9PT1cInJ1bm5pbmdcIixzPWU9PT1cInN1c3BlbmRlZFwiLGE9ZT09PVwiaW50ZXJydXB0ZWRcIixjPW10KCkub3NWZXJzaW9uOyhsbigpfHx2aSgpKSYmbyYmciYmKF8uaW5mbyhcImlvc1wiLmNvbmNhdChjLFwiLWludGVycnVwdGlvbi1zdGFydFwiKSksd3QuZW1pdChrZS5JT1NfSU5URVJSVVBUSU9OX1NUQVJUKSksKGxuKCl8fHZpKCkpJiYoc3x8YSkmJmkmJihfLmluZm8oXCJpb3NcIi5jb25jYXQoYyxcIi1pbnRlcnJ1cHRpb24tZW5kXCIpKSx3dC5lbWl0KGtlLklPU19JTlRFUlJVUFRJT05fRU5EKSksZSE9PW4mJnd0LmVtaXQoa2UuU1RBVEVfQ0hBTkdFLG4sZSk7fSxzZXRJbnRlcnZhbCgoKT0+e3ZhciBlO2xldCBuPShlPU1uKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuY3VycmVudFRpbWU7d3QuY3VycmVudFRpbWUhPT1uPyh3dC5jdXJyZW50VGltZVN0dWNrQXQmJihfLmRlYnVnKFwiQXVkaW9Db250ZXh0IGN1cnJlbnQgdGltZSByZXN1bWUgYXQgXCIuY29uY2F0KG4pKSx3dC5jdXJyZW50VGltZVN0dWNrQXQ9dm9pZCAwKSx3dC5jdXJyZW50VGltZT1uKToobiE9PXd0LmN1cnJlbnRUaW1lU3R1Y2tBdCYmKFgucmVwb3J0QXBpSW52b2tlKG51bGwse25hbWU6XCJXRUJfQVVESU9fQ1VSUkVOVF9USU1FX1NUVUNLXCIsb3B0aW9uczp7Y3VycmVudFRpbWU6bn0sdGFnOlp0LlRSQUNFUn0pLm9uU3VjY2VzcygpLF8ud2FybmluZyhcIkF1ZGlvQ29udGV4dCBjdXJyZW50IHRpbWUgc3R1Y2sgYXQgXCIuY29uY2F0KG4pKSksd3QuY3VycmVudFRpbWVTdHVja0F0PW4pO30sNWUzKSxhc3luYyBmdW5jdGlvbihlKXtsZXQgbj1bXCJjbGlja1wiLFwiY29udGV4dG1lbnVcIixcImF1eGNsaWNrXCIsXCJkYmxjbGlja1wiLFwibW91c2Vkb3duXCIsXCJtb3VzZXVwXCIsXCJ0b3VjaGVuZFwiLFwia2V5ZG93blwiLFwia2V5dXBcIl0saSxyPSExLG89ITEscz0hMTtmdW5jdGlvbiBhKEUpe2Uuc3RhdGU9PT1cInJ1bm5pbmdcIj9jKCExKTpsbigpfHx2aSgpP2Uuc3RhdGU9PT1cInN1c3BlbmRlZFwiJiYoYyghMCksRSYmZS5yZXN1bWUoKS50aGVuKGQsZCkpOmUuc3RhdGUhPT1cImNsb3NlZFwiJiYoYyghMCksRSYmZS5yZXN1bWUoKS50aGVuKGQsZCkpO31mdW5jdGlvbiBjKEUpe2lmKHIhPT1FKXtyPUU7Zm9yKGxldCBmPTAsUz1uO2Y8Uy5sZW5ndGg7Zis9MSl7bGV0IEM9U1tmXTtFP3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKEMsbCx7Y2FwdHVyZTohMCxwYXNzaXZlOiEwfSk6d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoQyxsLHtjYXB0dXJlOiEwLHBhc3NpdmU6ITB9KTt9fX1mdW5jdGlvbiBkKCl7YSghMSk7fWZ1bmN0aW9uIGwoKXthKCEwKTt9ZnVuY3Rpb24gdShFKXtpZighcylpZihpLnBhdXNlZClpZihFKXtsZXQgZjtoKCExKSxzPSEwO3RyeXtmPWkucGxheSgpLGY/Zi50aGVuKHAscCk6KGkuYWRkRXZlbnRMaXN0ZW5lcihcInBsYXlpbmdcIixwKSxpLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLHApLGkuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIscCkpO31jYXRjaHtwKCk7fX1lbHNlIGgoITApO2Vsc2UgaCghMSk7fWZ1bmN0aW9uIGgoRSl7aWYobyE9PUUpe289RTtmb3IobGV0IGY9MCxTPW47ZjxTLmxlbmd0aDtmKyspe2xldCBDPVNbZl07RT93aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihDLGcse2NhcHR1cmU6ITAscGFzc2l2ZTohMH0pOndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKEMsZyx7Y2FwdHVyZTohMCxwYXNzaXZlOiEwfSk7fX19ZnVuY3Rpb24gcCgpe2kucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBsYXlpbmdcIixwKSxpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLHApLGkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVycm9yXCIscCkscz0hMSx1KCExKTt9ZnVuY3Rpb24gZygpe3UoITApO31pZihsbigpKXtsZXQgRT1lLmNyZWF0ZU1lZGlhU3RyZWFtRGVzdGluYXRpb24oKSxmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Zi5pbm5lckhUTUw9XCI8YXVkaW8geC13ZWJraXQtYWlycGxheT0nZGVueSc+PC9hdWRpbz5cIixpPWYuY2hpbGRyZW4uaXRlbSgwKSxpLmNvbnRyb2xzPSExLGkuZGlzYWJsZVJlbW90ZVBsYXliYWNrPSEwLGkucHJlbG9hZD1cImF1dG9cIixpLnNyY09iamVjdD1FLnN0cmVhbSx1KCEwKTt9d3Qub24oa2UuU1RBVEVfQ0hBTkdFLGZ1bmN0aW9uKCl7YSghMCk7fSksYSghMSk7fShNbik7fSgpLCFNbil0aHJvdyBuZXcgTihSLk5PVF9TVVBQT1JURUQsXCJjYW4gbm90IGNyZWF0ZSBhdWRpbyBjb250ZXh0XCIpO3JldHVybiBNbn1yZXR1cm4gTW59ZnVuY3Rpb24gTm8odCl7aWYoZnVuY3Rpb24oKXtpZihzXyE9PW51bGwpcmV0dXJuIHNfO2xldCBpPWdhKCkscj1pLmNyZWF0ZUJ1ZmZlclNvdXJjZSgpLG89aS5jcmVhdGVHYWluKCkscz1pLmNyZWF0ZUdhaW4oKTtyLmNvbm5lY3Qobyksci5jb25uZWN0KHMpLHIuZGlzY29ubmVjdChvKTtsZXQgYT0hMTt0cnl7ci5kaXNjb25uZWN0KG8pO31jYXRjaHthPSEwO31yZXR1cm4gci5kaXNjb25uZWN0KCksc189YSxhfSgpKXJldHVybjtsZXQgZT10LmNvbm5lY3Qsbj10LmRpc2Nvbm5lY3Q7dC5jb25uZWN0PShpLHIsbyk9Pnt2YXIgcztyZXR1cm4gdC5faW5wdXROb2Rlc3x8KHQuX2lucHV0Tm9kZXM9W10pLFcocz10Ll9pbnB1dE5vZGVzKS5jYWxsKHMsaSl8fChpIGluc3RhbmNlb2YgQXVkaW9Ob2RlPyh0Ll9pbnB1dE5vZGVzLnB1c2goaSksZS5jYWxsKHQsaSxyLG8pKTplLmNhbGwodCxpLHIpKSx0fSx0LmRpc2Nvbm5lY3Q9KGkscixvKT0+e24uY2FsbCh0KSxpP1dsKHQuX2lucHV0Tm9kZXMsaSk6dC5faW5wdXROb2Rlcz1bXTtmb3IobGV0IHMgb2YgdC5faW5wdXROb2RlcyllLmNhbGwodCxzKTt9O312YXIgc189bnVsbDtmdW5jdGlvbiBSZih0LGUpe2xldCBuPSExLGk9MS9lO2lmKHYoXCJESVNBQkxFX1dFQkFVRElPXCIpKXtsZXQgcj13aW5kb3cuc2V0SW50ZXJ2YWwoKCk9PntuP3dpbmRvdy5jbGVhckludGVydmFsKHIpOnQocGVyZm9ybWFuY2Uubm93KCkvMWUzKTt9LDFlMyppKTt9ZWxzZSB7bGV0IHI9Z2EoKSxvPXIuY3JlYXRlR2FpbigpO28uZ2Fpbi52YWx1ZT0wLG8uY29ubmVjdChyLmRlc3RpbmF0aW9uKTtsZXQgcz0oKT0+e2lmKG4pcmV0dXJuIHZvaWQobz1udWxsKTtsZXQgYT1yLmNyZWF0ZU9zY2lsbGF0b3IoKTthLm9uZW5kZWQ9cyxhLmNvbm5lY3QobyksYS5zdGFydCgwKSxhLnN0b3Aoci5jdXJyZW50VGltZStpKSx0KHIuY3VycmVudFRpbWUpO307cygpO31yZXR1cm4gKCk9PntuPSEwO319dmFyIFFsPWNsYXNze2NvbnN0cnVjdG9yKCl7UCh0aGlzLFwiY29udGV4dFwiLHZvaWQgMCksUCh0aGlzLFwiYW5hbHlzZXJOb2RlXCIsdm9pZCAwKSxQKHRoaXMsXCJzb3VyY2VOb2RlXCIsdm9pZCAwKSx0aGlzLmNvbnRleHQ9Z2EoKSx0aGlzLmFuYWx5c2VyTm9kZT10aGlzLmNvbnRleHQuY3JlYXRlQW5hbHlzZXIoKSx0aGlzLmFuYWx5c2VyTm9kZS5mZnRTaXplPTIwNDgsdGhpcy5hbmFseXNlck5vZGUuc21vb3RoaW5nVGltZUNvbnN0YW50PS40O311cGRhdGVTb3VyY2UoZSl7aWYoZSE9PXRoaXMuc291cmNlTm9kZSl7aWYodGhpcy5zb3VyY2VOb2RlKXRyeXt0aGlzLnNvdXJjZU5vZGUuZGlzY29ubmVjdCh0aGlzLmFuYWx5c2VyTm9kZSk7fWNhdGNoe310aGlzLnNvdXJjZU5vZGU9ZSxlPy5jb25uZWN0KHRoaXMuYW5hbHlzZXJOb2RlKTt9fWdldFZvbHVtZUxldmVsKCl7aWYoIXRoaXMuc291cmNlTm9kZXx8KCF0aGlzLmNvbnRleHR8fGxuKCl8fHZpKCl8fHRoaXMuY29udGV4dC5zdGF0ZSE9PVwicnVubmluZ1wiJiZ0aGlzLmNvbnRleHQucmVzdW1lKCksIXRoaXMuYW5hbHlzZXJOb2RlKSlyZXR1cm4gMDtsZXQgZT1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYW5hbHlzZXJOb2RlLmZmdFNpemUpO2lmKHRoaXMuYW5hbHlzZXJOb2RlLmdldEZsb2F0VGltZURvbWFpbkRhdGEpdGhpcy5hbmFseXNlck5vZGUuZ2V0RmxvYXRUaW1lRG9tYWluRGF0YShlKTtlbHNlIHtsZXQgaT1uZXcgVWludDhBcnJheSh0aGlzLmFuYWx5c2VyTm9kZS5mZnRTaXplKTt0aGlzLmFuYWx5c2VyTm9kZS5nZXRCeXRlVGltZURvbWFpbkRhdGEoaSk7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDsrK3IpZVtyXT1pW3JdLzEyOC0xO31sZXQgbj1qaShlKS5jYWxsKGUsKGkscik9PmkrcipyLDApL2UubGVuZ3RoO3JldHVybiBNYXRoLm1heCgxMCpNYXRoLmxvZzEwKG4pKzEwMCwwKS8xMDB9Z2V0QW5hbHlzZXJOb2RlKCl7cmV0dXJuIHRoaXMuYW5hbHlzZXJOb2RlfXJlYnVpbGRBbmFseXNlcigpe3RyeXt2YXIgZSxuOyhlPXRoaXMuc291cmNlTm9kZSk9PT1udWxsfHxlPT09dm9pZCAwfHxlLmRpc2Nvbm5lY3QodGhpcy5hbmFseXNlck5vZGUpLHRoaXMuYW5hbHlzZXJOb2RlPXRoaXMuY29udGV4dC5jcmVhdGVBbmFseXNlcigpLHRoaXMuYW5hbHlzZXJOb2RlLmZmdFNpemU9MjA0OCx0aGlzLmFuYWx5c2VyTm9kZS5zbW9vdGhpbmdUaW1lQ29uc3RhbnQ9LjQsKG49dGhpcy5zb3VyY2VOb2RlKT09PW51bGx8fG49PT12b2lkIDB8fG4uY29ubmVjdCh0aGlzLmFuYWx5c2VyTm9kZSk7fWNhdGNoe18ud2FybmluZyhcInJlYnVpbGQgYW5hbHlzZXIgbm9kZSBmYWlsZWQuXCIpO319ZGVzdHJveSgpe3RoaXMudXBkYXRlU291cmNlKHZvaWQgMCk7fX0sWmw9Y2xhc3MgZXh0ZW5kcyBYdHtnZXQgcHJvY2Vzc1NvdXJjZU5vZGUoKXtyZXR1cm4gdGhpcy5zb3VyY2VOb2RlfXNldCBwcm9jZXNzZWROb2RlKGUpe3ZhciBuO2lmKCF0aGlzLmlzRGVzdHJveWVkJiZ0aGlzLl9wcm9jZXNzZWROb2RlIT09ZSl7dHJ5e3ZhciBpOyhpPXRoaXMuc291cmNlTm9kZSk9PT1udWxsfHxpPT09dm9pZCAwfHxpLmRpc2Nvbm5lY3QodGhpcy5vdXRwdXROb2RlKTt9Y2F0Y2h7fShuPXRoaXMuX3Byb2Nlc3NlZE5vZGUpPT09bnVsbHx8bj09PXZvaWQgMHx8bi5kaXNjb25uZWN0KCksdGhpcy5fcHJvY2Vzc2VkTm9kZT1lLHRoaXMuY29ubmVjdCgpO319Z2V0IHByb2Nlc3NlZE5vZGUoKXtyZXR1cm4gdGhpcy5fcHJvY2Vzc2VkTm9kZX1jb25zdHJ1Y3Rvcigpe3N1cGVyKCksUCh0aGlzLFwib3V0cHV0Tm9kZVwiLHZvaWQgMCksUCh0aGlzLFwib3V0cHV0VHJhY2tcIix2b2lkIDApLFAodGhpcyxcImlzUGxheWVkXCIsITEpLFAodGhpcyxcInNvdXJjZU5vZGVcIix2b2lkIDApLFAodGhpcyxcImNvbnRleHRcIix2b2lkIDApLFAodGhpcyxcImF1ZGlvQnVmZmVyTm9kZVwiLHZvaWQgMCksUCh0aGlzLFwiZGVzdE5vZGVcIix2b2lkIDApLFAodGhpcyxcImF1ZGlvT3V0cHV0TGV2ZWxcIiwwKSxQKHRoaXMsXCJ2b2x1bWVMZXZlbEFuYWx5c2VyXCIsdm9pZCAwKSxQKHRoaXMsXCJfcHJvY2Vzc2VkTm9kZVwiLHZvaWQgMCksUCh0aGlzLFwicGxheU5vZGVcIix2b2lkIDApLFAodGhpcyxcImlzRGVzdHJveWVkXCIsITEpLFAodGhpcyxcIm9uTm9BdWRpb0lucHV0XCIsdm9pZCAwKSxQKHRoaXMsXCJpc05vQXVkaW9JbnB1dFwiLCExKSxQKHRoaXMsXCJfbm9BdWRpb0lucHV0Q291bnRcIiwwKSx0aGlzLmNvbnRleHQ9Z2EoKSx0aGlzLnBsYXlOb2RlPXRoaXMuY29udGV4dC5kZXN0aW5hdGlvbix0aGlzLm91dHB1dE5vZGU9dGhpcy5jb250ZXh0LmNyZWF0ZUdhaW4oKSxObyh0aGlzLm91dHB1dE5vZGUpLHRoaXMudm9sdW1lTGV2ZWxBbmFseXNlcj1uZXcgUWw7fXN0YXJ0R2V0QXVkaW9CdWZmZXIoZSl7dGhpcy5hdWRpb0J1ZmZlck5vZGV8fCh0aGlzLmF1ZGlvQnVmZmVyTm9kZT10aGlzLmNvbnRleHQuY3JlYXRlU2NyaXB0UHJvY2Vzc29yKGUpLHRoaXMub3V0cHV0Tm9kZS5jb25uZWN0KHRoaXMuYXVkaW9CdWZmZXJOb2RlKSx0aGlzLmF1ZGlvQnVmZmVyTm9kZS5jb25uZWN0KHRoaXMuY29udGV4dC5kZXN0aW5hdGlvbiksdGhpcy5hdWRpb0J1ZmZlck5vZGUub25hdWRpb3Byb2Nlc3M9bj0+e3RoaXMuZW1pdChqbi5PTl9BVURJT19CVUZGRVIsZnVuY3Rpb24oaSl7Zm9yKGxldCByPTA7cjxpLm91dHB1dEJ1ZmZlci5udW1iZXJPZkNoYW5uZWxzO3IrPTEpe2xldCBvPWkub3V0cHV0QnVmZmVyLmdldENoYW5uZWxEYXRhKHIpO2ZvcihsZXQgcz0wO3M8by5sZW5ndGg7cys9MSlvW3NdPTA7fXJldHVybiBpLmlucHV0QnVmZmVyfShuKSk7fSk7fXN0b3BHZXRBdWRpb0J1ZmZlcigpe3RoaXMuYXVkaW9CdWZmZXJOb2RlJiYodGhpcy5hdWRpb0J1ZmZlck5vZGUub25hdWRpb3Byb2Nlc3M9bnVsbCx0aGlzLm91dHB1dE5vZGUuZGlzY29ubmVjdCh0aGlzLmF1ZGlvQnVmZmVyTm9kZSksdGhpcy5hdWRpb0J1ZmZlck5vZGU9dm9pZCAwKTt9Y3JlYXRlT3V0cHV0VHJhY2soKXtpZighZnQoKS53ZWJBdWRpb01lZGlhU3RyZWFtRGVzdCl0aHJvdyBuZXcgTihSLk5PVF9TVVBQT1JURUQsXCJ5b3VyIGJyb3dzZXIgaXMgbm90IHN1cHBvcnQgYXVkaW8gcHJvY2Vzc29yXCIpO3JldHVybiB0aGlzLmRlc3ROb2RlJiZ0aGlzLm91dHB1dFRyYWNrfHwodGhpcy5kZXN0Tm9kZT10aGlzLmNvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1EZXN0aW5hdGlvbigpLHRoaXMub3V0cHV0Tm9kZS5jb25uZWN0KHRoaXMuZGVzdE5vZGUpLHRoaXMub3V0cHV0VHJhY2s9dGhpcy5kZXN0Tm9kZS5zdHJlYW0uZ2V0QXVkaW9UcmFja3MoKVswXSksdGhpcy5vdXRwdXRUcmFja31wbGF5KGUpe3RoaXMuY29udGV4dC5zdGF0ZSE9PVwicnVubmluZ1wiJiZxdSgoKT0+e3d0LmVtaXQoXCJhdXRvcGxheS1mYWlsZWRcIik7fSksdGhpcy5pc1BsYXllZD0hMCx0aGlzLnBsYXlOb2RlPWV8fHRoaXMuY29udGV4dC5kZXN0aW5hdGlvbix0aGlzLm91dHB1dE5vZGUuY29ubmVjdCh0aGlzLnBsYXlOb2RlKTt9c3RvcCgpe2lmKHRoaXMuaXNQbGF5ZWQpdHJ5e3RoaXMub3V0cHV0Tm9kZS5kaXNjb25uZWN0KHRoaXMucGxheU5vZGUpO31jYXRjaHt9dGhpcy5pc1BsYXllZD0hMTt9Z2V0QWNjdXJhdGVWb2x1bWVMZXZlbCgpe3JldHVybiB0aGlzLnZvbHVtZUxldmVsQW5hbHlzZXIuZ2V0Vm9sdW1lTGV2ZWwoKX1hc3luYyBjaGVja0hhc0F1ZGlvSW5wdXQoKXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXZvaWQgMD9hcmd1bWVudHNbMF06MDtpZihlPjUpcmV0dXJuIHRoaXMuaXNOb0F1ZGlvSW5wdXQ9ITAsdGhpcy5vbk5vQXVkaW9JbnB1dCYmdGhpcy5vbk5vQXVkaW9JbnB1dCgpLCExO2xuKCl8fHZpKCk/dGhpcy5jb250ZXh0LnN0YXRlPT09XCJzdXNwZW5kZWRcIiYmdGhpcy5jb250ZXh0LnJlc3VtZSgpOnRoaXMuY29udGV4dC5zdGF0ZSE9PVwicnVubmluZ1wiJiZ0aGlzLmNvbnRleHQucmVzdW1lKCk7bGV0IG49dGhpcy52b2x1bWVMZXZlbEFuYWx5c2VyLmdldEFuYWx5c2VyTm9kZSgpLGk7bi5nZXRGbG9hdFRpbWVEb21haW5EYXRhPyhpPW5ldyBGbG9hdDMyQXJyYXkobi5mZnRTaXplKSxuLmdldEZsb2F0VGltZURvbWFpbkRhdGEoaSkpOihpPW5ldyBVaW50OEFycmF5KG4uZmZ0U2l6ZSksbi5nZXRCeXRlVGltZURvbWFpbkRhdGEoaSkpO2xldCByPSExO2ZvcihsZXQgbz0wO288aS5sZW5ndGg7bysrKWlbb10hPT0wJiYocj0hMCk7cmV0dXJuIHI/KHRoaXMuaXNOb0F1ZGlvSW5wdXQ9ITEsITApOihhd2FpdCBNZSgyMDApLGF3YWl0IHRoaXMuY2hlY2tIYXNBdWRpb0lucHV0KGU/ZSsxOjEpJiZyKX1nZXRBdWRpb1ZvbHVtZSgpe3JldHVybiB0aGlzLm91dHB1dE5vZGUuZ2Fpbi52YWx1ZX1zZXRWb2x1bWUoZSl7dGhpcy5vdXRwdXROb2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUoZSx0aGlzLmNvbnRleHQuY3VycmVudFRpbWUpO31kZXN0cm95KCl7dGhpcy5kaXNjb25uZWN0KCksdGhpcy5zdG9wKCksdGhpcy5pc0Rlc3Ryb3llZD0hMCx0aGlzLm9uTm9BdWRpb0lucHV0PXZvaWQgMDt9ZGlzY29ubmVjdCgpe3ZhciBlLG47KGU9dGhpcy5wcm9jZXNzZWROb2RlKT09PW51bGx8fGU9PT12b2lkIDB8fGUuZGlzY29ubmVjdCgpLChuPXRoaXMuc291cmNlTm9kZSk9PT1udWxsfHxuPT09dm9pZCAwfHxuLmRpc2Nvbm5lY3QoKSx0aGlzLm91dHB1dE5vZGUmJnRoaXMub3V0cHV0Tm9kZS5kaXNjb25uZWN0KCk7fWNvbm5lY3QoKXt2YXIgZTt0aGlzLnByb2Nlc3NlZE5vZGU/KGU9dGhpcy5wcm9jZXNzZWROb2RlKT09PW51bGx8fGU9PT12b2lkIDB8fGUuY29ubmVjdCh0aGlzLm91dHB1dE5vZGUpOnRoaXMuc291cmNlTm9kZSYmdGhpcy5zb3VyY2VOb2RlLmNvbm5lY3QodGhpcy5vdXRwdXROb2RlKSx0aGlzLnZvbHVtZUxldmVsQW5hbHlzZXIudXBkYXRlU291cmNlKHRoaXMub3V0cHV0Tm9kZSk7fX0sJGw9Y2xhc3MgZXh0ZW5kcyBabHtnZXQgaXNGcmVlemUoKXtyZXR1cm4gITF9Y29uc3RydWN0b3IoZSxuLGkpe3ZhciByO2lmKHN1cGVyKCksUCh0aGlzLFwic291cmNlTm9kZVwiLHZvaWQgMCksUCh0aGlzLFwidHJhY2tcIix2b2lkIDApLFAodGhpcyxcImNsb25lZFRyYWNrXCIsdm9pZCAwKSxQKHRoaXMsXCJhdWRpb0VsZW1lbnRcIix2b2lkIDApLFAodGhpcyxcImlzQ3VycmVudFRyYWNrQ2xvbmVkXCIsITEpLFAodGhpcyxcImlzUmVtb3RlVHJhY2tcIiwhMSksUCh0aGlzLFwib3JpZ2luVm9sdW1lTGV2ZWxBbmFseXNlclwiLHZvaWQgMCksUCh0aGlzLFwicmVidWlsZFdlYkF1ZGlvXCIsYXN5bmMoKT0+e2lmKF8uZGVidWcoXCJyZWFkeSB0byByZWJ1aWxkIHdlYiBhdWRpbywgc3RhdGU6XCIsdGhpcy5jb250ZXh0LnN0YXRlKSx0aGlzLmlzTm9BdWRpb0lucHV0JiZhd2FpdCB0aGlzLmNoZWNrSGFzQXVkaW9JbnB1dCgpLCF0aGlzLmlzTm9BdWRpb0lucHV0fHx0aGlzLmlzRGVzdHJveWVkKXJldHVybiBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMucmVidWlsZFdlYkF1ZGlvLCEwKSx2b2lkIF8uZGVidWcoXCJyZWJ1aWxkIHdlYiBhdWRpbyBzdWNjZXNzLCBjdXJyZW50IHZvbHVtZSBzdGF0dXNcIix0aGlzLmdldEFjY3VyYXRlVm9sdW1lTGV2ZWwoKSk7dGhpcy5jb250ZXh0LnJlc3VtZSgpLnRoZW4oKCk9Pl8uaW5mbyhcInJlc3VtZSBzdWNjZXNzXCIpKSxfLmRlYnVnKFwicmVidWlsZCB3ZWIgYXVkaW8gYmVjYXVzZSBvZiBpb3MgMTIgYnVnc1wiKSx0aGlzLmRpc2Nvbm5lY3QoKTtsZXQgYT10aGlzLnRyYWNrO3RoaXMudHJhY2s9dGhpcy50cmFjay5jbG9uZSgpLHRoaXMuaXNDdXJyZW50VHJhY2tDbG9uZWQ/YS5zdG9wKCk6dGhpcy5pc0N1cnJlbnRUcmFja0Nsb25lZD0hMDtsZXQgYz1uZXcgTWVkaWFTdHJlYW0oW3RoaXMudHJhY2tdKTt0aGlzLnNvdXJjZU5vZGU9dGhpcy5jb250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKGMpLE5vKHRoaXMuc291cmNlTm9kZSksdGhpcy52b2x1bWVMZXZlbEFuYWx5c2VyLnJlYnVpbGRBbmFseXNlcigpO2xldCBkPXRoaXMub3V0cHV0Tm9kZS5nYWluLnZhbHVlO3RoaXMub3V0cHV0Tm9kZT10aGlzLmNvbnRleHQuY3JlYXRlR2FpbigpLHRoaXMub3V0cHV0Tm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKGQsdGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lKSxObyh0aGlzLm91dHB1dE5vZGUpLHRoaXMuZW1pdChqbi5VUERBVEVfU09VUkNFKSx0aGlzLmNvbm5lY3QoKSx0aGlzLmF1ZGlvRWxlbWVudC5zcmNPYmplY3Q9Yyx0aGlzLmlzUGxheWVkJiZ0aGlzLnBsYXkodGhpcy5wbGF5Tm9kZSksdGhpcy5jaGVja0hhc0F1ZGlvSW5wdXQoKTt9KSxlLmtpbmQhPT1cImF1ZGlvXCIpdGhyb3cgbmV3IE4oUi5VTkVYUEVDVEVEX0VSUk9SKTt0aGlzLnRyYWNrPWU7bGV0IG89bmV3IE1lZGlhU3RyZWFtKFt0aGlzLnRyYWNrXSk7aWYodGhpcy5pc1JlbW90ZVRyYWNrPSEhbix0aGlzLnNvdXJjZU5vZGU9dGhpcy5jb250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKG8pLE5vKHRoaXMuc291cmNlTm9kZSksaSl7bGV0IGE9aS5jbG9uZSgpO2EuZW5hYmxlZD0hMCx0aGlzLmNsb25lZFRyYWNrPWEsXy5kZWJ1ZyhcImNyZWF0ZSBhbiB1bm11dGVkIHRyYWNrIFwiLmNvbmNhdChhLmlkLFwiIGZyb20gdGhlIG9yaWdpbmFsIHRyYWNrIFwiKS5jb25jYXQoaS5pZCxcIiB0byBnZXQgdGhlIHZvbHVtZVwiKSk7bGV0IGM9dGhpcy5jb250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKG5ldyBNZWRpYVN0cmVhbShbYV0pKTtObyhjKSx0aGlzLm9yaWdpblZvbHVtZUxldmVsQW5hbHlzZXI9bmV3IFFsLHRoaXMub3JpZ2luVm9sdW1lTGV2ZWxBbmFseXNlci51cGRhdGVTb3VyY2UoYyk7fXRoaXMuY29ubmVjdCgpLHRoaXMuYXVkaW9FbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhdWRpb1wiKSx0aGlzLmF1ZGlvRWxlbWVudC5zcmNPYmplY3Q9bztsZXQgcz1tdCgpO24mJnMub3M9PT15ZS5JT1MmJk51bWJlcigocj1zLm9zVmVyc2lvbik9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyLnNwbGl0KFwiLlwiKVswXSk8MTUmJih3dC5vbihrZS5TVEFURV9DSEFOR0UsKCk9Pnt0aGlzLmNvbnRleHQuc3RhdGU9PT1cInN1c3BlbmRlZFwiP2RvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5yZWJ1aWxkV2ViQXVkaW8sITApOnRoaXMuY29udGV4dC5zdGF0ZT09PVwicnVubmluZ1wiJiZ0aGlzLnJlYnVpbGRXZWJBdWRpbygpO30pLHRoaXMuY2hlY2tIYXNBdWRpb0lucHV0KCkudGhlbihhPT57YXx8ZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLnJlYnVpbGRXZWJBdWRpbywhMCk7fSkpO311cGRhdGVUcmFjayhlKXt0aGlzLnNvdXJjZU5vZGUuZGlzY29ubmVjdCgpLHRoaXMudHJhY2s9ZSx0aGlzLmlzQ3VycmVudFRyYWNrQ2xvbmVkPSExO2xldCBuPW5ldyBNZWRpYVN0cmVhbShbZV0pO3RoaXMuc291cmNlTm9kZT10aGlzLmNvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UobiksTm8odGhpcy5zb3VyY2VOb2RlKSx0aGlzLnByb2Nlc3NlZE5vZGV8fHRoaXMuc291cmNlTm9kZS5jb25uZWN0KHRoaXMub3V0cHV0Tm9kZSksdGhpcy5lbWl0KGpuLlVQREFURV9TT1VSQ0UpLHRoaXMuYXVkaW9FbGVtZW50LnNyY09iamVjdD1uO31kZXN0cm95KCl7dmFyIGU7dGhpcy5hdWRpb0VsZW1lbnQuc3JjT2JqZWN0PW51bGwsdGhpcy5hdWRpb0VsZW1lbnQucmVtb3ZlKCksd3Qub2ZmKFwic3RhdGUtY2hhbmdlXCIsdGhpcy5yZWJ1aWxkV2ViQXVkaW8pLChlPXRoaXMub3JpZ2luVm9sdW1lTGV2ZWxBbmFseXNlcik9PT1udWxsfHxlPT09dm9pZCAwfHxlLmRlc3Ryb3koKSx0aGlzLmNsb25lZFRyYWNrPXZvaWQgMCxzdXBlci5kZXN0cm95KCk7fWNyZWF0ZU1lZGlhU3RyZWFtU291cmNlTm9kZShlKXtyZXR1cm4gdGhpcy5jb250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKG5ldyBNZWRpYVN0cmVhbShbZV0pKX11cGRhdGVPcmlnaW5UcmFjayhlKXtsZXQgbj1lLmNsb25lKCk7bi5lbmFibGVkPSEwLHRoaXMuY2xvbmVkVHJhY2smJih0aGlzLmNsb25lZFRyYWNrLnN0b3AoKSx0aGlzLmNsb25lZFRyYWNrPW4pLF8uZGVidWcoXCJjcmVhdGUgYW4gdW5tdXRlZCB0cmFjayBcIi5jb25jYXQobi5pZCxcIiBmcm9tIHRoZSBvcmlnaW5hbCB0cmFjayBcIikuY29uY2F0KGUuaWQsXCIgdG8gZ2V0IHRoZSB2b2x1bWVcIikpO2xldCBpPXRoaXMuY29udGV4dC5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZShuZXcgTWVkaWFTdHJlYW0oW25dKSk7Tm8oaSksdGhpcy5vcmlnaW5Wb2x1bWVMZXZlbEFuYWx5c2VyJiZ0aGlzLm9yaWdpblZvbHVtZUxldmVsQW5hbHlzZXIudXBkYXRlU291cmNlKGkpO31nZXRPcmlnaW5Wb2x1bWVMZXZlbCgpe3JldHVybiB0aGlzLm9yaWdpblZvbHVtZUxldmVsQW5hbHlzZXI/dGhpcy5vcmlnaW5Wb2x1bWVMZXZlbEFuYWx5c2VyLmdldFZvbHVtZUxldmVsKCk6dGhpcy5nZXRBY2N1cmF0ZVZvbHVtZUxldmVsKCl9fTthc3luYyBmdW5jdGlvbiBITyh0LGUsbil7bGV0IGk9KG8scyk9Pm8/dHlwZW9mIG8hPVwibnVtYmVyXCI/by5tYXh8fG8uZXhhY3R8fG8uaWRlYWx8fG8ubWlufHxzOm86cyxyPXthdWRpbzohIW4mJnttYW5kYXRvcnk6e2Nocm9tZU1lZGlhU291cmNlOlwiZGVza3RvcFwifX0sdmlkZW86e21hbmRhdG9yeTp7Y2hyb21lTWVkaWFTb3VyY2U6XCJkZXNrdG9wXCIsY2hyb21lTWVkaWFTb3VyY2VJZDp0LG1heEhlaWdodDppKGUuaGVpZ2h0LDEwODApLG1heFdpZHRoOmkoZS53aWR0aCwxOTIwKX19fTtyZXR1cm4gZS5mcmFtZVJhdGUmJnR5cGVvZiBlLmZyYW1lUmF0ZSE9XCJudW1iZXJcIj8oci52aWRlby5tYW5kYXRvcnkubWF4RnJhbWVSYXRlPWUuZnJhbWVSYXRlLm1heCxyLnZpZGVvLm1hbmRhdG9yeS5taW5GcmFtZVJhdGU9ZS5mcmFtZVJhdGUubWluKTp0eXBlb2YgZS5mcmFtZVJhdGU9PVwibnVtYmVyXCImJihyLnZpZGVvLm1hbmRhdG9yeS5tYXhGcmFtZVJhdGU9ZS5mcmFtZVJhdGUpLGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHIpfWFzeW5jIGZ1bmN0aW9uIExHKHQsZSl7bGV0IG49YXdhaXQgS08odC5tZWRpYVNvdXJjZSkse3NvdXJjZUlkOmksYXVkaW86cn09YXdhaXQgZnVuY3Rpb24obyl7bGV0IHM9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDAmJmFyZ3VtZW50c1sxXTtyZXR1cm4gbmV3IGooKGEsYyk9PntsZXQgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2QuaW5uZXJUZXh0PVwic2hhcmUgc2NyZWVuXCIsZC5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwidGV4dC1hbGlnbjogY2VudGVyOyBoZWlnaHQ6IDI1cHg7IGxpbmUtaGVpZ2h0OiAyNXB4OyBib3JkZXItcmFkaXVzOiA0cHggNHB4IDAgMDsgYmFja2dyb3VuZDogI0Q0RDJENDsgYm9yZGVyLWJvdHRvbTogIHNvbGlkIDFweCAjQjlCOEI5O1wiKTtsZXQgbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2wuc2V0QXR0cmlidXRlKFwic3R5bGVcIixcIndpZHRoOiAxMDAlOyBoZWlnaHQ6IDUwMHB4OyBwYWRkaW5nOiAxNXB4IDI1cHggOyBib3gtc2l6aW5nOiBib3JkZXItYm94O1wiKTtsZXQgdT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3UuaW5uZXJUZXh0PVwiQWdvcmEgV2ViIFNjcmVlbnNoYXJpbmcgd2FudHMgdG8gc2hhcmUgdGhlIGNvbnRlbnRzIG9mIHlvdXIgc2NyZWVuIHdpdGggd2ViZGVtby5hZ29yYWJlY2tvbi5jb20uIENob29zZSB3aGF0IHlvdSdkIGxpa2UgdG8gc2hhcmUuXCIsdS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwiaGVpZ2h0OiAxMiU7XCIpO2xldCBoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aC5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwid2lkdGg6IDEwMCU7IGhlaWdodDogODAlOyBiYWNrZ3JvdW5kOiAjRkZGOyBib3JkZXI6ICBzb2xpZCAxcHggI0NCQ0JDQjsgZGlzcGxheTogZmxleDsgZmxleC13cmFwOiB3cmFwOyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDsgb3ZlcmZsb3cteTogc2Nyb2xsOyBwYWRkaW5nOiAwIDE1cHg7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7XCIpO2xldCBwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cC5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwiZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBwYWRkaW5nOiAxNnB4IDA7XCIpO2xldCBnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7Zy5pbm5lckhUTUw9XCJjYW5jZWxcIixnLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJ3aWR0aDogODVweDtcIiksZy5vbmNsaWNrPSgpPT57ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChTKTtsZXQgQz1uZXcgRXJyb3IoXCJOb3RBbGxvd2VkRXJyb3JcIik7Qy5uYW1lPVwiTm90QWxsb3dlZEVycm9yXCIsYyhDKTt9O2xldCBFPXMsZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2lmKHMpe2xldCBDPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtDLnNldEF0dHJpYnV0ZShcInR5cGVcIixcImNoZWNrYm94XCIpO2xldCBBPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO0Muc2V0QXR0cmlidXRlKFwic3R5bGVcIixcIm1hcmdpbi1yaWdodDogNnB4O1wiKSxBLmlubmVyVGV4dD1cIlNoYXJlIGF1ZGlvXCIsQy5jaGVja2VkPUUsQy5vbmNoYW5nZT0oKT0+e0U9Qy5jaGVja2VkO30sZi5hcHBlbmRDaGlsZChDKSxmLmFwcGVuZENoaWxkKEEpO31wLmFwcGVuZENoaWxkKGYpLHAuYXBwZW5kQ2hpbGQoZyksbC5hcHBlbmRDaGlsZCh1KSxsLmFwcGVuZENoaWxkKGgpLGwuYXBwZW5kQ2hpbGQocCk7bGV0IFM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtTLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJwb3NpdGlvbjogZml4ZWQ7IHotaW5kZXg6IDk5OTk5OTk5OyB0b3A6IDUwJTsgbGVmdDogNTAlOyB3aWR0aDogNjIwcHg7IGhlaWdodDogNTI1cHg7IGJhY2tncm91bmQ6ICNFQ0VDRUM7IGJvcmRlci1yYWRpdXM6IDRweDsgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLC01MCUpOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLC01MCUpO1wiKSxTLmFwcGVuZENoaWxkKGQpLFMuYXBwZW5kQ2hpbGQobCksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChTKSxvLm1hcChDPT57aWYoQy5pZCl7bGV0IEE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtBLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJ3aWR0aDogMzAlOyBoZWlnaHQ6IDE2MHB4OyBwYWRkaW5nOiAyMHB4IDA7IHRleHQtYWxpZ246IGNlbnRlcjtib3gtc2l6aW5nOiBjb250ZW50LWJveDtcIik7bGV0IGI9Qy50aHVtYm5haWw7dHJ5e2xldHt3aWR0aDp3fT1iLmdldFNpemUoKTt3PjE5MjAmJihiPWIucmVzaXplKHt3aWR0aDoxOTIwfSkpO31jYXRjaCh3KXt0aHJvdyB3JiZ3Lm1lc3NhZ2Uuc3RhcnRzV2l0aChcIklsbGVnYWwgaW52b2NhdGlvblwiKSYmY29uc29sZS5lcnJvcihcIk9wZXJhdGUgdGh1bWJuYWlsIGVycm9yLCBwbGVhc2UgdHJ5IHRvIHNldCBjb250ZXh0SXNvbGF0aW9uOiBmYWxzZS4gKGh0dHBzOi8vZ2l0aHViLmNvbS9lbGVjdHJvbi9lbGVjdHJvbi9pc3N1ZXMvMzQ5NTMpXCIpLHd9QS5pbm5lckhUTUw9JzxkaXYgc3R5bGU9XCJoZWlnaHQ6IDEyMHB4OyBkaXNwbGF5OiB0YWJsZS1jZWxsOyB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1wiPjxpbWcgc3R5bGU9XCJ3aWR0aDogMTAwJTsgYmFja2dyb3VuZDogIzMzMzMzMzsgYm94LXNoYWRvdzogMXB4IDFweCAxcHggMXB4IHJnYmEoMCwgMCwgMCwgMC4yKTtcIiBzcmM9JytiLnRvRGF0YVVSTCgpKycgLz48L2Rpdj48c3BhbiBzdHlsZT1cIlx0aGVpZ2h0OiA0MHB4OyBsaW5lLWhlaWdodDogNDBweDsgZGlzcGxheTogaW5saW5lLWJsb2NrOyB3aWR0aDogNzAlOyB3b3JkLWJyZWFrOiBrZWVwLWFsbDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3c6IGhpZGRlbjsgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XCI+JytDLm5hbWUucmVwbGFjZSgvW1xcdTAwQTAtXFx1OTk5OTw+XFwmXS9nLGZ1bmN0aW9uKHcpe3JldHVybiBcIiYjXCIrdy5jaGFyQ29kZUF0KDApK1wiO1wifSkrXCI8L3NwYW4+XCIsQS5vbmNsaWNrPSgpPT57ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChTKSxhKHtzb3VyY2VJZDpDLmlkLGF1ZGlvOkV9KTt9LGguYXBwZW5kQ2hpbGQoQSk7fX0pO30pfShuLGUpO3JldHVybiBhd2FpdCBITyhpLHQscil9YXN5bmMgZnVuY3Rpb24gS08odCl7bGV0IGU9W1wid2luZG93XCIsXCJzY3JlZW5cIl07dCE9PVwiYXBwbGljYXRpb25cIiYmdCE9PVwid2luZG93XCJ8fChlPVtcIndpbmRvd1wiXSksdD09PVwic2NyZWVuXCImJihlPVtcInNjcmVlblwiXSk7bGV0IG49SU8oKTtpZighbil0aHJvdyBjb25zb2xlLmVycm9yKFwiZmFpbGVkIHRvIGZldGNoIGVsZWN0cm9uLCBwbGVhc2UgbW91bnQgaXQgdG8gd2luZG93XCIpLG5ldyBOKFIuRUxFQ1RST05fSVNfTlVMTCk7bGV0IGk9bnVsbDt0cnl7dmFyIHI7aT0oKHI9bi5kZXNrdG9wQ2FwdHVyZXIpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5nZXRTb3VyY2VzKHt0eXBlczplfSkpfHxuLmlwY1JlbmRlcmVyLmludm9rZShcIkRFU0tUT1BfQ0FQVFVSRVJfR0VUX1NPVVJDRVNcIix7dHlwZXM6ZX0pO31jYXRjaHtpPW51bGw7fWkmJmkudGhlbnx8KGk9bmV3IGooKG8scyk9PntuLmRlc2t0b3BDYXB0dXJlci5nZXRTb3VyY2VzKHt0eXBlczplfSwoYSxjKT0+e2E/cyhhKTpvKGMpO30pO30pKTt0cnl7cmV0dXJuIGF3YWl0IGl9Y2F0Y2gobyl7dGhyb3cgbmV3IE4oUi5FTEVDVFJPTl9ERVNLVE9QX0NBUFRVUkVSX0dFVF9TT1VSQ0VTX0VSUk9SLG8udG9TdHJpbmcoKSl9fXZhciBxRT1uZXcgemUoXCJzYWZhcmlcIiksWU89ITEscU89ITE7YXN5bmMgZnVuY3Rpb24gRm4odCxlKXtsZXQgbj0wLGk9bnVsbDtmb3IoO248MjspdHJ5e2k9YXdhaXQgTUcodCxlLG4+MCk7YnJlYWt9Y2F0Y2gocil7aWYociBpbnN0YW5jZW9mIE4pdGhyb3cgXy5lcnJvcihcIltcIi5jb25jYXQoZSxcIl0gXCIpLmNvbmNhdChyLnRvU3RyaW5nKCkpKSxyO2xldCBvPUlsKHIubmFtZXx8ci5jb2RlfHxyLHIubWVzc2FnZSk7aWYoby5jb2RlPT09Ui5NRURJQV9PUFRJT05fSU5WQUxJRCl7Xy5kZWJ1ZyhcIltcIi5jb25jYXQoZSxcIl0gZGV0ZWN0IG1lZGlhIG9wdGlvbiBpbnZhbGlkLCByZXRyeVwiKSksbis9MSxhd2FpdCBNZSg1MDApO2NvbnRpbnVlfXRocm93IF8uZXJyb3IoXCJbXCIuY29uY2F0KGUsXCJdIFwiKS5jb25jYXQoby50b1N0cmluZygpKSksb31pZighaSl0aHJvdyBuZXcgTihSLlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IGZpbmQgc3RyZWFtIGFmdGVyIGdldFVzZXJNZWRpYVwiKTtyZXR1cm4gaX1hc3luYyBmdW5jdGlvbiBNRyh0LGUsbil7aWYoIW5hdmlnYXRvci5tZWRpYURldmljZXN8fCFuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSl0aHJvdyBuZXcgTihSLk5PVF9TVVBQT1JURUQsXCJjYW4gbm90IGZpbmQgZ2V0VXNlck1lZGlhXCIpO24mJih0LnZpZGVvJiYoZGVsZXRlIHQudmlkZW8ud2lkdGgsZGVsZXRlIHQudmlkZW8uaGVpZ2h0KSx0LnNjcmVlbiYmKGRlbGV0ZSB0LnNjcmVlbi53aWR0aCxkZWxldGUgdC5zY3JlZW4uaGVpZ2h0KSk7bGV0IGk9ZnQoKSxyPW5ldyBNZWRpYVN0cmVhbTtpZih0LmF1ZGlvU291cmNlJiZyLmFkZFRyYWNrKHQuYXVkaW9Tb3VyY2UpLHQudmlkZW9Tb3VyY2UmJnIuYWRkVHJhY2sodC52aWRlb1NvdXJjZSksIXQuYXVkaW8mJiF0LnZpZGVvJiYhdC5zY3JlZW4pcmV0dXJuIF8uZGVidWcoXCJVc2luZyBWaWRlbyBTb3VyY2UvIEF1ZGlvIFNvdXJjZVwiKSxyO2lmKHQuc2NyZWVuKWlmKElPKCkpdC5zY3JlZW4uc291cmNlSWQ/VHMocixhd2FpdCBITyh0LnNjcmVlbi5zb3VyY2VJZCx0LnNjcmVlbix0LnNjcmVlbkF1ZGlvKSk6VHMocixhd2FpdCBMRyh0LnNjcmVlbix0LnNjcmVlbkF1ZGlvKSk7ZWxzZSBpZihvbygpJiZ0LnNjcmVlbi5leHRlbnNpb25JZCYmdC5zY3JlZW4ubWFuZGF0b3J5KXtpZighaS5nZXRTdHJlYW1Gcm9tRXh0ZW5zaW9uKXRocm93IG5ldyBOKFIuTk9UX1NVUFBPUlRFRCxcIlRoaXMgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHNjcmVlbiBzaGFyaW5nXCIpO18uZGVidWcoXCJbXCIuY29uY2F0KGUsJ10gU2NyZWVuIGFjY2VzcyBvbiBjaHJvbWUgc3RhYmxlLCBsb29raW5nIGZvciBleHRlbnNpb25cIicpKTtsZXQgaD1hd2FpdChzPXQuc2NyZWVuLmV4dGVuc2lvbklkLGE9ZSxuZXcgaigocCxnKT0+e3RyeXtjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZShzLHtnZXRTdHJlYW06ITB9LEU9PntpZighRXx8IUUuc3RyZWFtSWQpcmV0dXJuIF8uZXJyb3IoXCJbXCIuY29uY2F0KGEsXCJdIE5vIHJlc3BvbnNlIGZyb20gQ2hyb21lIFBsdWdpbi4gUGx1Z2luIG5vdCBpbnN0YWxsZWQgcHJvcGVybHlcIiksRSksdm9pZCBnKG5ldyBOKFIuQ0hST01FX1BMVUdJTl9OT19SRVNQT05TRSxcIk5vIHJlc3BvbnNlIGZyb20gQ2hyb21lIFBsdWdpbi4gUGx1Z2luIG5vdCBpbnN0YWxsZWQgcHJvcGVybHlcIikpO3AoRS5zdHJlYW1JZCk7fSk7fWNhdGNoKEUpe18uZXJyb3IoXCJbXCIuY29uY2F0KGEsXCJdIEFnb3JhUlRDIHNjcmVlbnNoYXJpbmcgcGx1Z2luIGlzIG5vdCBhY2Nlc3NpYmxlKFwiKS5jb25jYXQocyxcIilcIiksRS50b1N0cmluZygpKSxnKG5ldyBOKFIuQ0hST01FX1BMVUdJTl9OT1RfSU5TVEFMTCkpO319KSk7dC5zY3JlZW4ubWFuZGF0b3J5LmNocm9tZU1lZGlhU291cmNlSWQ9aCxUcyhyLGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHt2aWRlbzp7bWFuZGF0b3J5OnQuc2NyZWVuLm1hbmRhdG9yeX19KSk7fWVsc2UgaWYoaS5nZXREaXNwbGF5TWVkaWEpe3ZhciBvO3Quc2NyZWVuLm1lZGlhU291cmNlJiZfQyh0LnNjcmVlbi5tZWRpYVNvdXJjZSk7bGV0IGg9e3dpZHRoOnQuc2NyZWVuLndpZHRoLGhlaWdodDp0LnNjcmVlbi5oZWlnaHQsZnJhbWVSYXRlOnQuc2NyZWVuLmZyYW1lUmF0ZSxkaXNwbGF5U3VyZmFjZToobz10LnNjcmVlbi5kaXNwbGF5U3VyZmFjZSkhPT1udWxsJiZvIT09dm9pZCAwP286dC5zY3JlZW4ubWVkaWFTb3VyY2U9PT1cInNjcmVlblwiP1wibW9uaXRvclwiOnQuc2NyZWVuLm1lZGlhU291cmNlfSx7c2VsZkJyb3dzZXJTdXJmYWNlOnAsc3VyZmFjZVN3aXRjaGluZzpnLHN5c3RlbUF1ZGlvOkV9PXQuc2NyZWVuLGY9e3NlbGZCcm93c2VyU3VyZmFjZTpwLHN1cmZhY2VTd2l0Y2hpbmc6ZyxzeXN0ZW1BdWRpbzpFfTshcCYmZGVsZXRlIGYuc2VsZkJyb3dzZXJTdXJmYWNlLCFnJiZkZWxldGUgZi5zdXJmYWNlU3dpdGNoaW5nLCFFJiZkZWxldGUgZi5zeXN0ZW1BdWRpbyxfLmRlYnVnKFwiW1wiLmNvbmNhdChlLFwiXSBnZXREaXNwbGF5TWVkaWE6XCIpLEpTT04uc3RyaW5naWZ5KHt2aWRlbzpoLGF1ZGlvOiEhdC5zY3JlZW5BdWRpbyxjb250cm9sczpmfSkpLFRzKHIsYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXREaXNwbGF5TWVkaWEoS3Qoe3ZpZGVvOmgsYXVkaW86ISF0LnNjcmVlbkF1ZGlvfSxmKSkpO31lbHNlIHtpZighJHQoKSl0aHJvdyBfLmVycm9yKFwiW1wiLmNvbmNhdChlLFwiXSBUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBzY3JlZW5TaGFyaW5nXCIpKSxuZXcgTihSLk5PVF9TVVBQT1JURUQsXCJUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBzY3JlZW4gc2hhcmluZ1wiKTt7dC5zY3JlZW4ubWVkaWFTb3VyY2UmJl9DKHQuc2NyZWVuLm1lZGlhU291cmNlKTtsZXQgaD17dmlkZW86e21lZGlhU291cmNlOnQuc2NyZWVuLm1lZGlhU291cmNlLHdpZHRoOnQuc2NyZWVuLndpZHRoLGhlaWdodDp0LnNjcmVlbi5oZWlnaHQsZnJhbWVSYXRlOnQuc2NyZWVuLmZyYW1lUmF0ZX19O18uZGVidWcoXCJbXCIuY29uY2F0KGUsXCJdIGdldFVzZXJNZWRpYTogXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShoKSkpLFRzKHIsYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoaCkpO319dmFyIHMsYTtpZighdC52aWRlbyYmIXQuYXVkaW8pcmV0dXJuIHI7bGV0IGM9e3ZpZGVvOnQudmlkZW8sYXVkaW86dC5hdWRpb30sZD12KFwiTUVESUFfREVWSUNFX0NPTlNUUkFJTlRTXCIpO2lmKGQpdHJ5e3R5cGVvZiBkPT1cInN0cmluZ1wiJiYoZD1KU09OLnBhcnNlKGQpKSxjPWtFKGMsZCk7fWNhdGNoe31fLmRlYnVnKFwiW1wiLmNvbmNhdChlLFwiXSBHZXRVc2VyTWVkaWFcIiksSlNPTi5zdHJpbmdpZnkoYykpLG10KCk7bGV0IGwsdT1udWxsOyhqZSgpfHxsbigpfHxHbCgpKSYmKHU9YXdhaXQgcUUubG9jaygpKTt0cnl7bD1hd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShjKTt9Y2F0Y2goaCl7dGhyb3cgdSYmdSgpLGh9cmV0dXJuIGMuYXVkaW8mJihZTz0hMCksYy52aWRlbyYmKHFPPSEwKSxUcyhyLGwpLHUmJnUoKSxyfWZ1bmN0aW9uIElsKHQsZSl7c3dpdGNoKHQpe2Nhc2VcIlN0YXJ0aW5nIHZpZGVvIGZhaWxlZFwiOmNhc2VcIk92ZXJjb25zdHJhaW5lZEVycm9yXCI6Y2FzZVwiVHJhY2tTdGFydEVycm9yXCI6cmV0dXJuIG5ldyBOKFIuTUVESUFfT1BUSU9OX0lOVkFMSUQsXCJcIi5jb25jYXQodCxcIjogXCIpLmNvbmNhdChlKSk7Y2FzZVwiTm90Rm91bmRFcnJvclwiOmNhc2VcIkRldmljZXNOb3RGb3VuZEVycm9yXCI6cmV0dXJuIG5ldyBOKFIuREVWSUNFX05PVF9GT1VORCxcIlwiLmNvbmNhdCh0LFwiOiBcIikuY29uY2F0KGUpKTtjYXNlXCJOb3RTdXBwb3J0ZWRFcnJvclwiOnJldHVybiBuZXcgTihSLk5PVF9TVVBQT1JURUQsXCJcIi5jb25jYXQodCxcIjogXCIpLmNvbmNhdChlKSk7Y2FzZVwiTm90UmVhZGFibGVFcnJvclwiOnJldHVybiBuZXcgTihSLk5PVF9SRUFEQUJMRSxcIlwiLmNvbmNhdCh0LFwiOiBcIikuY29uY2F0KGUpKTtjYXNlXCJJbnZhbGlkU3RhdGVFcnJvclwiOmNhc2VcIk5vdEFsbG93ZWRFcnJvclwiOmNhc2VcIlBFUk1JU1NJT05fREVOSUVEXCI6Y2FzZVwiUGVybWlzc2lvbkRlbmllZEVycm9yXCI6cmV0dXJuIG5ldyBOKFIuUEVSTUlTU0lPTl9ERU5JRUQsXCJcIi5jb25jYXQodCxcIjogXCIpLmNvbmNhdChlKSk7Y2FzZVwiQ29uc3RyYWludE5vdFNhdGlzZmllZEVycm9yXCI6cmV0dXJuIG5ldyBOKFIuQ09OU1RSQUlOVF9OT1RfU0FUSVNGSUVELFwiXCIuY29uY2F0KHQsXCI6IFwiKS5jb25jYXQoZSkpO2RlZmF1bHQ6cmV0dXJuIF8uZXJyb3IoXCJnZXRVc2VyTWVkaWEgdW5leHBlY3RlZCBlcnJvclwiLHQpLG5ldyBOKFIuVU5FWFBFQ1RFRF9FUlJPUixcIlwiLmNvbmNhdCh0LFwiOiBcIikuY29uY2F0KGUpKX19ZnVuY3Rpb24gVHModCxlKXtsZXQgbj10LmdldFZpZGVvVHJhY2tzKClbMF0saT10LmdldEF1ZGlvVHJhY2tzKClbMF0scj1lLmdldFZpZGVvVHJhY2tzKClbMF0sbz1lLmdldEF1ZGlvVHJhY2tzKClbMF07byYmKGkmJnQucmVtb3ZlVHJhY2soaSksdC5hZGRUcmFjayhvKSksciYmKG4mJnQucmVtb3ZlVHJhY2sobiksdC5hZGRUcmFjayhyKSk7fXZhciBHbj1uZXcgY2xhc3MgZXh0ZW5kcyBYdHtnZXQgc3RhdGUoKXtyZXR1cm4gdGhpcy5fc3RhdGV9c2V0IHN0YXRlKHQpe3QhPT10aGlzLl9zdGF0ZSYmKHRoaXMuZW1pdChCby5TVEFURV9DSEFOR0UsdCksdGhpcy5fc3RhdGU9dCk7fWNvbnN0cnVjdG9yKCl7c3VwZXIoKSxQKHRoaXMsXCJfc3RhdGVcIixVYS5JRExFKSxQKHRoaXMsXCJpc0FjY2Vzc01pY3JvcGhvbmVQZXJtaXNzaW9uXCIsITEpLFAodGhpcyxcImlzQWNjZXNzQ2FtZXJhUGVybWlzc2lvblwiLCExKSxQKHRoaXMsXCJsYXN0QWNjZXNzTWljcm9waG9uZVBlcm1pc3Npb25cIiwhMSksUCh0aGlzLFwibGFzdEFjY2Vzc0NhbWVyYVBlcm1pc3Npb25cIiwhMSksUCh0aGlzLFwiY2hlY2tkZXZpY2VNYXRjaGVkXCIsITEpLFAodGhpcyxcImRldmljZUluZm9NYXBcIixuZXcgTWFwKSx0aGlzLmluaXQoKS50aGVuKCgpPT57bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5hZGRFdmVudExpc3RlbmVyJiZuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmFkZEV2ZW50TGlzdGVuZXIoXCJkZXZpY2VjaGFuZ2VcIix0aGlzLnVwZGF0ZURldmljZXNJbmZvLmJpbmQodGhpcykpLHdpbmRvdy5zZXRJbnRlcnZhbCgoKT0+eyh2KFwiRU5VTUVSQVRFX0RFVklDRVNfSU5URVJWQUxcIil8fChLdSgpfHxIdSgpPT09eWUuSEFSTU9OWV9PUykmJmhvKCkpJiZ0aGlzLnVwZGF0ZURldmljZXNJbmZvKCk7fSx2KFwiRU5VTUVSQVRFX0RFVklDRVNfSU5URVJWQUxfVElNRVwiKSk7fSkuY2F0Y2godD0+Xy5lcnJvcih0LnRvU3RyaW5nKCkpKTt9YXN5bmMgZW51bWVyYXRlRGV2aWNlcyh0LGUpe2xldCBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dm9pZCAwJiZhcmd1bWVudHNbMl07aWYoIW5hdmlnYXRvci5tZWRpYURldmljZXN8fCFuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMpcmV0dXJuIG5ldyBOKFIuTk9UX1NVUFBPUlRFRCxcImVudW1lcmF0ZURldmljZXMoKSBub3Qgc3VwcG9ydGVkLlwiKS50aHJvdygpO2xldCBpPWF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpLHI9dGhpcy5jaGVja01lZGlhRGV2aWNlSW5mb0lzT2soaSksbz0hdGhpcy5pc0FjY2Vzc01pY3JvcGhvbmVQZXJtaXNzaW9uJiZ0LHM9IXRoaXMuaXNBY2Nlc3NDYW1lcmFQZXJtaXNzaW9uJiZlO3IuYXVkaW8mJihvPSExKSxyLnZpZGVvJiYocz0hMSk7bGV0IGE9bnVsbCxjPW51bGwsZD1udWxsO2lmKCFuJiYob3x8cykpe2lmKHFFLmlzTG9ja2VkJiYoXy5kZWJ1ZyhcIltkZXZpY2UgbWFuYWdlcl0gd2FpdCBHVU0gbG9ja1wiKSwoYXdhaXQgcUUubG9jaygpKSgpLF8uZGVidWcoXCJbZGV2aWNlIG1hbmFnZXJdIEdVTSB1bmxvY2tcIikpLFlPJiYobz0hMSx0aGlzLmlzQWNjZXNzTWljcm9waG9uZVBlcm1pc3Npb249ITApLHFPJiYocz0hMSx0aGlzLmlzQWNjZXNzQ2FtZXJhUGVybWlzc2lvbj0hMCksXy5kZWJ1ZyhcIltkZXZpY2UgbWFuYWdlcl0gY2hlY2sgbWVkaWEgZGV2aWNlIHBlcm1pc3Npb25zXCIsdCxlLG8scyksbyYmcyl7dHJ5e2Q9YXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe2F1ZGlvOiEwLHZpZGVvOiEwfSk7fWNhdGNoKGwpe2xldCB1PUlsKGwubmFtZXx8bC5jb2RlfHxsLGwubWVzc2FnZSk7aWYodS5jb2RlPT09Ui5QRVJNSVNTSU9OX0RFTklFRCl0aHJvdyB1O18ud2FybmluZyhcImdldFVzZXJNZWRpYSBmYWlsZWQgaW4gZ2V0RGV2aWNlc1wiLHUpO310aGlzLmlzQWNjZXNzQ2FtZXJhUGVybWlzc2lvbj0hMCx0aGlzLmlzQWNjZXNzTWljcm9waG9uZVBlcm1pc3Npb249ITA7fWVsc2UgaWYobyl7dHJ5e2E9YXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe2F1ZGlvOnR9KTt9Y2F0Y2gobCl7bGV0IHU9SWwobC5uYW1lfHxsLmNvZGV8fGwsbC5tZXNzYWdlKTtpZih1LmNvZGU9PT1SLlBFUk1JU1NJT05fREVOSUVEKXRocm93IHU7Xy53YXJuaW5nKFwiZ2V0VXNlck1lZGlhIGZhaWxlZCBpbiBnZXREZXZpY2VzXCIsdSk7fXRoaXMuaXNBY2Nlc3NNaWNyb3Bob25lUGVybWlzc2lvbj0hMDt9ZWxzZSBpZihzKXt0cnl7Yz1hd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7dmlkZW86ZX0pO31jYXRjaChsKXtsZXQgdT1JbChsLm5hbWV8fGwuY29kZXx8bCxsLm1lc3NhZ2UpO2lmKHUuY29kZT09PVIuUEVSTUlTU0lPTl9ERU5JRUQpdGhyb3cgdTtfLndhcm5pbmcoXCJnZXRVc2VyTWVkaWEgZmFpbGVkIGluIGdldERldmljZXNcIix1KTt9dGhpcy5pc0FjY2Vzc0NhbWVyYVBlcm1pc3Npb249ITA7fV8uZGVidWcoXCJbZGV2aWNlIG1hbmFnZXJdIG1pYyBwZXJtaXNzaW9uXCIsdCxcImNhbSBwZXJtaXNzaW9uXCIsZSk7fXRyeXtsZXQgbD1hd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKTtyZXR1cm4gYSYmYS5nZXRUcmFja3MoKS5mb3JFYWNoKHU9PnUuc3RvcCgpKSxjJiZjLmdldFRyYWNrcygpLmZvckVhY2godT0+dS5zdG9wKCkpLGQmJmQuZ2V0VHJhY2tzKCkuZm9yRWFjaCh1PT51LnN0b3AoKSksYT1udWxsLGM9bnVsbCxkPW51bGwsbH1jYXRjaChsKXtyZXR1cm4gYSYmYS5nZXRUcmFja3MoKS5mb3JFYWNoKHU9PnUuc3RvcCgpKSxjJiZjLmdldFRyYWNrcygpLmZvckVhY2godT0+dS5zdG9wKCkpLGQmJmQuZ2V0VHJhY2tzKCkuZm9yRWFjaCh1PT51LnN0b3AoKSksYT1udWxsLGM9bnVsbCxkPW51bGwsbmV3IE4oUi5FTlVNRVJBVEVfREVWSUNFU19GQUlMRUQsbC50b1N0cmluZygpKS50aHJvdygpfX1hc3luYyBnZXRSZWNvcmRpbmdEZXZpY2VzKCl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT12b2lkIDAmJmFyZ3VtZW50c1swXTtyZXR1cm4gKGF3YWl0IHRoaXMuZW51bWVyYXRlRGV2aWNlcyghMCwhMSx0KSkuZmlsdGVyKGU9PmUua2luZD09PVwiYXVkaW9pbnB1dFwiKX1hc3luYyBnZXRDYW1lcmFzRGV2aWNlcygpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dm9pZCAwJiZhcmd1bWVudHNbMF07cmV0dXJuIChhd2FpdCB0aGlzLmVudW1lcmF0ZURldmljZXMoITEsITAsdCkpLmZpbHRlcihlPT5lLmtpbmQ9PT1cInZpZGVvaW5wdXRcIil9YXN5bmMgZ2V0U3BlYWtlcnMoKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXZvaWQgMCYmYXJndW1lbnRzWzBdO3JldHVybiAoYXdhaXQgdGhpcy5lbnVtZXJhdGVEZXZpY2VzKCEwLCExLHQpKS5maWx0ZXIoZT0+ZS5raW5kPT09XCJhdWRpb291dHB1dFwiKX1zZWFyY2hEZXZpY2VJZEJ5TmFtZSh0KXtsZXQgZT1udWxsO3JldHVybiB0aGlzLmRldmljZUluZm9NYXAuZm9yRWFjaChuPT57bi5kZXZpY2UubGFiZWw9PT10JiYoZT1uLmRldmljZS5kZXZpY2VJZCk7fSksZX1hc3luYyBnZXREZXZpY2VCeUlkKHQpe2xldCBlPShhd2FpdCB0aGlzLmVudW1lcmF0ZURldmljZXMoITAsITAsITApKS5maW5kKG49Pm4uZGV2aWNlSWQ9PT10KTtpZighZSl0aHJvdyBuZXcgTihSLkRFVklDRV9OT1RfRk9VTkQsXCJkZXZpY2VJZDogXCIuY29uY2F0KHQpKTtyZXR1cm4gZX1hc3luYyBpbml0KCl7dGhpcy5zdGF0ZT1VYS5JTklUSU5HO3RyeXthd2FpdCB0aGlzLnVwZGF0ZURldmljZXNJbmZvKCksdGhpcy5zdGF0ZT1VYS5JTklURU5EO31jYXRjaCh0KXt0aHJvdyBfLndhcm5pbmcoXCJEZXZpY2UgRGV0ZWN0aW9uIGZ1bmN0aW9uYWxpdHkgY2Fubm90IHN0YXJ0IHByb3Blcmx5LlwiLHQudG9TdHJpbmcoKSksdGhpcy5zdGF0ZT1VYS5JRExFLCh0eXBlb2YgaXNTZWN1cmVDb250ZXh0PT1cImJvb2xlYW5cIj9pc1NlY3VyZUNvbnRleHQ6bG9jYXRpb24ucHJvdG9jb2w9PT1cImh0dHBzOlwifHxsb2NhdGlvbi5wcm90b2NvbD09PVwiZmlsZTpcInx8bG9jYXRpb24uaG9zdG5hbWU9PT1cImxvY2FsaG9zdFwifHxsb2NhdGlvbi5ob3N0bmFtZT09PVwiMTI3LjAuMC4xXCJ8fGxvY2F0aW9uLmhvc3RuYW1lPT09XCI6OjFcIil8fG5ldyBOKFIuV0VCX1NFQ1VSSVRZX1JFU1RSSUNULFwiWW91ciBjb250ZXh0IGlzIGxpbWl0ZWQgYnkgd2ViIHNlY3VyaXR5LCBwbGVhc2UgdHJ5IHVzaW5nIGh0dHBzIHByb3RvY29sIG9yIGxvY2FsaG9zdC5cIikudGhyb3coKSx0fX1hc3luYyB1cGRhdGVEZXZpY2VzSW5mbygpe2xldCB0PWF3YWl0IHRoaXMuZW51bWVyYXRlRGV2aWNlcyghMCwhMCwhMCksZT1EYXRlLm5vdygpLG49W107aWYodFswXSYmdFswXS5sYWJlbCYmdGhpcy5jaGVja2RldmljZU1hdGNoZWQ9PT0hMSl7dGhpcy5jaGVja2RldmljZU1hdGNoZWQ9ITA7bGV0IHI9dC5maW5kKHM9PnMua2luZD09PVwiYXVkaW9pbnB1dFwiJiZzLmRldmljZUlkPT09XCJkZWZhdWx0XCIpLG89dC5maW5kKHM9PnMua2luZD09PVwiYXVkaW9vdXRwdXRcIiYmcy5kZXZpY2VJZD09PVwiZGVmYXVsdFwiKTtyJiZvP28uZ3JvdXBJZD09PXIuZ3JvdXBJZD9fLmRlYnVnKFwiW2RldmljZS1jaGVja10gZGVmYXVsdCBpbnB1dCBcIi5jb25jYXQoci5sYWJlbCxcIiBhbmQgb3V0cHV0IFwiKS5jb25jYXQoby5sYWJlbCxcIiBpcyB0aGUgc2FtZSBncm91cFwiKSk6Xy53YXJuaW5nKFwiW2RldmljZS1jaGVja10gZGVmYXVsdCBpbnB1dCBcIi5jb25jYXQoci5sYWJlbCxcIiBhbmQgb3V0cHV0IFwiKS5jb25jYXQoby5sYWJlbCxcIiBpcyBub3QgdGhlIHNhbWUgZ3JvdXBcIikpOl8uZGVidWcoXCJbZGV2aWNlLWNoZWNrXSBkZWZhdWx0IGlucHV0IG9yIG91dHB1dCBub3QgZm91bmRcIik7fWxldCBpPXRoaXMuY2hlY2tNZWRpYURldmljZUluZm9Jc09rKHQpO2lmKHQuZm9yRWFjaChyPT57aWYoIXIuZGV2aWNlSWQpcmV0dXJuO2xldCBvPXRoaXMuZGV2aWNlSW5mb01hcC5nZXQoXCJcIi5jb25jYXQoci5raW5kLFwiX1wiKS5jb25jYXQoci5kZXZpY2VJZCkpO2lmKChvP28uc3RhdGU6XCJJTkFDVElWRVwiKSE9PVwiQUNUSVZFXCIpe2xldCBzPXtpbml0QXQ6ZSx1cGRhdGVBdDplLGRldmljZTpyLHN0YXRlOlwiQUNUSVZFXCJ9O3RoaXMuZGV2aWNlSW5mb01hcC5zZXQoXCJcIi5jb25jYXQoci5raW5kLFwiX1wiKS5jb25jYXQoci5kZXZpY2VJZCkscyksbi5wdXNoKHMpO31vJiYoby51cGRhdGVBdD1lKTt9KSx0aGlzLmRldmljZUluZm9NYXAuZm9yRWFjaCgocixvKT0+e3Iuc3RhdGU9PT1cIkFDVElWRVwiJiZyLnVwZGF0ZUF0IT09ZSYmKHIuc3RhdGU9XCJJTkFDVElWRVwiLG4ucHVzaChyKSk7fSksdGhpcy5zdGF0ZSE9PVVhLklOSVRFTkQpcmV0dXJuIGkuYXVkaW8mJih0aGlzLmxhc3RBY2Nlc3NNaWNyb3Bob25lUGVybWlzc2lvbj0hMCx0aGlzLmlzQWNjZXNzTWljcm9waG9uZVBlcm1pc3Npb249ITApLHZvaWQoaS52aWRlbyYmKHRoaXMubGFzdEFjY2Vzc0NhbWVyYVBlcm1pc3Npb249ITAsdGhpcy5pc0FjY2Vzc0NhbWVyYVBlcm1pc3Npb249ITApKTtuLmZvckVhY2gocj0+e3N3aXRjaChyLmRldmljZS5raW5kKXtjYXNlXCJhdWRpb2lucHV0XCI6dGhpcy5sYXN0QWNjZXNzTWljcm9waG9uZVBlcm1pc3Npb24mJnRoaXMuaXNBY2Nlc3NNaWNyb3Bob25lUGVybWlzc2lvbiYmdGhpcy5lbWl0KEJvLlJFQ09SRElOR19ERVZJQ0VfQ0hBTkdFRCxyKTticmVhaztjYXNlXCJ2aWRlb2lucHV0XCI6dGhpcy5sYXN0QWNjZXNzQ2FtZXJhUGVybWlzc2lvbiYmdGhpcy5pc0FjY2Vzc0NhbWVyYVBlcm1pc3Npb24mJnRoaXMuZW1pdChCby5DQU1FUkFfREVWSUNFX0NIQU5HRUQscik7YnJlYWs7Y2FzZVwiYXVkaW9vdXRwdXRcIjp0aGlzLmxhc3RBY2Nlc3NNaWNyb3Bob25lUGVybWlzc2lvbiYmdGhpcy5pc0FjY2Vzc01pY3JvcGhvbmVQZXJtaXNzaW9uJiZ0aGlzLmVtaXQoQm8uUExBWU9VVF9ERVZJQ0VfQ0hBTkdFRCxyKTt9fSksaS5hdWRpbyYmKHRoaXMubGFzdEFjY2Vzc01pY3JvcGhvbmVQZXJtaXNzaW9uPSEwLHRoaXMuaXNBY2Nlc3NNaWNyb3Bob25lUGVybWlzc2lvbj0hMCksaS52aWRlbyYmKHRoaXMubGFzdEFjY2Vzc0NhbWVyYVBlcm1pc3Npb249ITAsdGhpcy5pc0FjY2Vzc0NhbWVyYVBlcm1pc3Npb249ITApO31jaGVja01lZGlhRGV2aWNlSW5mb0lzT2sodCl7bGV0IGU9dC5maWx0ZXIocj0+ci5raW5kPT09XCJhdWRpb2lucHV0XCIpLG49dC5maWx0ZXIocj0+ci5raW5kPT09XCJ2aWRlb2lucHV0XCIpLGk9e2F1ZGlvOiExLHZpZGVvOiExfTtmb3IobGV0IHIgb2YgZSlpZihyLmxhYmVsJiZyLmRldmljZUlkKXtpLmF1ZGlvPSEwO2JyZWFrfWZvcihsZXQgciBvZiBuKWlmKHIubGFiZWwmJnIuZGV2aWNlSWQpe2kudmlkZW89ITA7YnJlYWt9cmV0dXJuIGl9fSxhXz0hMSxVbj1uZXcgY2xhc3MgZXh0ZW5kcyBYdHtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksUCh0aGlzLFwib25BdXRvcGxheUZhaWxlZFwiLHZvaWQgMCksUCh0aGlzLFwib25BdWRpb0F1dG9wbGF5RmFpbGVkXCIsdm9pZCAwKTt9fTtmdW5jdGlvbiB6Tygpe2lmKG10KCksIWFfKXtsZXQgdD1lPT57ZS5wcmV2ZW50RGVmYXVsdCgpLGFfPSExLHljKCk/ZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0LCEwKTooZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLHQsITApLGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHQsITApKTt9O2FfPSEwLHljKCk/ZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0LCEwKTooZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLHQsITApLGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHQsITApKSxfLmluZm8oXCJkZXRlY3QgbWVkaWEgYXV0b3BsYXkgZmFpbGVkLCBkb2N1bWVudDogaHR0cHM6Ly9kb2NzLmFnb3JhLmlvL2NuL1ZvaWNlL2F1dG9wbGF5X3BvbGljeV93ZWJfbmc/cGxhdGZvcm09V2ViXCIpLFVuLm9uQXV0b3BsYXlGYWlsZWQ/VW4ub25BdXRvcGxheUZhaWxlZCgpOlVuLm9uQXVkaW9BdXRvcGxheUZhaWxlZD9fLndhcm5pbmcoYEFnb3JhUlRDLm9uQXVkaW9BdXRvcGxheUZhaWxlZCBoYXMgYmVlbiBkZXByZWNhdGVkIGluIGZhdm9yIG9mIEFnb3JhUlRDLm9uQXV0b3BsYXlGYWlsZWQuXG5cbiAgUGxlYXNlIHJlZmVyIHRvIHRoZSBBZ29yYSBkb2N1bWVudCB0byBtaWdyYXRlIHRoZSBuZXdlciBBUEksIGh0dHBzOi8vZG9jcy5hZ29yYS5pby9lbi9Wb2ljZS9hdXRvcGxheV9wb2xpY3lfd2ViX25nP3BsYXRmb3JtPVdlYiAuYCk6Xy53YXJuaW5nKGBXZSBoYXZlIGRldGVjdGVkIGEgbWVkaWEgYXV0b3BsYXkgZmFpbGVkIGV2ZW50LCBhbmQgZm91bmQgb3V0IHRoYXQgeW91IGhhdmVuJ3QgaW1wbGVtZW50ZWQgQWdvcmFSVEMub25BdXRvcGxheUZhaWxlZCBjYWxsYmFjayB5ZXQuXG5cbiAgSXQgd2lsbCBjYXVzZSBhdWRpby92aWRlbyBlbGVtZW50IG5vdCBwbGF5aW5nIGF1dG9tYXRpY2FsbHkgb24gc29tZSBicm93c2VycyB3aXRob3V0IHVzZXIgaW50ZXJhY3Rpb24sIHBvc3NpYmx5IGh1cnRpbmcgdXNlciBleHBlcmllbmNlcy5cblxuICBQbGVhc2UgcmVmZXIgdG8gdGhlIEFnb3JhIGRvY3VtZW50IHRvIHByb3Blcmx5IGhhbmRsZSBhdXRvcGxheSBmYWlsZWQgZXZlbnQsIGh0dHBzOi8vZG9jcy5hZ29yYS5pby9lbi9Wb2ljZS9hdXRvcGxheV9wb2xpY3lfd2ViX25nP3BsYXRmb3JtPVdlYiAuYCksVW4uZW1pdChcImF1dG9wbGF5LWZhaWxlZFwiKTt9fWZ1bmN0aW9uIEpPKHQsZSxuLGkpe2lmKCF0KXJldHVybjtsZXQgcj1YLmdldEJhc2VJbmZvQnlTZXNzaW9uSWQodCk7aWYoIXIpcmV0dXJuO2xldCBvPXIuaW5mbyxzPURhdGUubm93KCksYT1LdChLdCh7fSxvKSx7fSx7dmlkOm8udmlkPT09dm9pZCAwPzA6TnVtYmVyKG8udmlkKSxsdHM6cyxlbGFwc2U6cy1yLnN0YXJ0VGltZSxjYlJlZ2lzdGVyZWQ6VW4ub25BdXRvcGxheUZhaWxlZHx8VW4ub25BdWRpb0F1dG9wbGF5RmFpbGVkPzE6LTEsZXJyb3JNc2c6bixtZWRpYVR5cGU6ZSx0cmFja0lkOmksZXh0ZW5kOnZvaWQgMH0pO1guc2VuZCh7dHlwZTpKdC5BVVRPUExBWV9GQUlMRUQsZGF0YTphfSwhMCk7fXZhciBVRz1bXCJwbGF5XCIsXCJwbGF5aW5nXCIsXCJsb2FkZWRkYXRhXCIsXCJjYW5wbGF5XCIsXCJwYXVzZVwiLFwic3RhbGxlZFwiLFwic3VzcGVuZFwiLFwid2FpdGluZ1wiLFwiYWJvcnRcIixcImVtcHRpZWRcIixcImVuZGVkXCIsXCJlcnJvclwiXSxFbj1uZXcgY2xhc3N7Y29uc3RydWN0b3IoKXtQKHRoaXMsXCJvbkF1dG9wbGF5RmFpbGVkXCIsdm9pZCAwKSxQKHRoaXMsXCJlbGVtZW50TWFwXCIsbmV3IE1hcCksUCh0aGlzLFwiZWxlbWVudFN0YXRlTWFwXCIsbmV3IE1hcCksUCh0aGlzLFwiZWxlbWVudHNOZWVkVG9SZXN1bWVcIixbXSksUCh0aGlzLFwic2lua0lkTWFwXCIsbmV3IE1hcCksUCh0aGlzLFwiYXV0b1Jlc3VtZUFmdGVySW50ZXJydXB0aW9uXCIsdD0+e0FycmF5LmZyb20odGhpcy5lbGVtZW50TWFwLmVudHJpZXMoKSkuZm9yRWFjaChlPT57bGV0W24saV09ZSxyPXRoaXMuZWxlbWVudFN0YXRlTWFwLmdldChuKSxvPWkuc3JjT2JqZWN0LmdldEF1ZGlvVHJhY2tzKClbMF0scz1vJiZvLnJlYWR5U3RhdGU7aWYoXy5kZWJ1ZyhcInJlc3VtZSBhZnRlciBpbnRlcnJ1cHRlZCwgZWxlOiBcIi5jb25jYXQocixcIiBhdWRpbzogXCIpLmNvbmNhdChzLFwiIFwiKS5jb25jYXQodCkpLHM9PT1cImxpdmVcIil7aWYodClyZXR1cm4gaS5wYXVzZSgpLHZvaWQgaS5wbGF5KCk7aWYod3QuY3VyU3RhdGU9PT1cInJ1bm5pbmdcIilyZXR1cm4gWnMoKT8oaS5wYXVzZSgpLHZvaWQgaS5wbGF5KCkpOnZvaWQociYmcj09PVwicGF1c2VkXCImJmkucGxheSgpKX19KTt9KSxQKHRoaXMsXCJhdXRvUmVzdW1lQWZ0ZXJJbnRlcnJ1cHRpb25PbklPUzE1XzE2XCIsKCk9PntBcnJheS5mcm9tKHRoaXMuZWxlbWVudE1hcC5lbnRyaWVzKCkpLmZvckVhY2godD0+e2xldFtlLG5dPXQsaT1uLnNyY09iamVjdC5nZXRBdWRpb1RyYWNrcygpWzBdO2kmJmkucmVhZHlTdGF0ZT09PVwibGl2ZVwiJiYoXy5kZWJ1ZyhcImF1dG8gcmVzdW1lIGFmdGVyIGludGVycnVwdGlvbiBpbnNpZGUgYXV0b1Jlc3VtZUFmdGVySW50ZXJydXB0aW9uT25JT1MxNVwiKSxuLnBhdXNlKCksbi5wbGF5KCkpO30pO30pLHRoaXMuYXV0b1Jlc3VtZUF1ZGlvRWxlbWVudCgpLHd0Lm9uKGtlLklPU19JTlRFUlJVUFRJT05fRU5ELHRoaXMuYXV0b1Jlc3VtZUFmdGVySW50ZXJydXB0aW9uKSx3dC5vbihrZS5JT1NfMTVfMTZfSU5URVJSVVBUSU9OX0VORCx0aGlzLmF1dG9SZXN1bWVBZnRlckludGVycnVwdGlvbk9uSU9TMTVfMTYpLHd0Lm9uKGtlLlNUQVRFX0NIQU5HRSwoKT0+e2xuKCkmJnd0LnByZXZTdGF0ZT09PVwic3VzcGVuZGVkXCImJnd0LmN1clN0YXRlPT09XCJydW5uaW5nXCImJnRoaXMuYXV0b1Jlc3VtZUFmdGVySW50ZXJydXB0aW9uKCk7fSk7fWFzeW5jIHNldFNpbmtJRCh0LGUpe2xldCBuPXRoaXMuZWxlbWVudE1hcC5nZXQodCk7aWYodGhpcy5zaW5rSWRNYXAuc2V0KHQsZSksbil0cnl7YXdhaXQgbi5zZXRTaW5rSWQoZSk7fWNhdGNoKGkpe3Rocm93IG5ldyBOKFIuUEVSTUlTU0lPTl9ERU5JRUQsXCJjYW4gbm90IHNldCBzaW5rIGlkOiBcIitpLnRvU3RyaW5nKCkpfX1wbGF5KHQsZSxuLGkpe2lmKHRoaXMuZWxlbWVudE1hcC5oYXMoZSkpcmV0dXJuO2xldCByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhdWRpb1wiKTtyLmF1dG9wbGF5PSEwLHIuc3JjT2JqZWN0PW5ldyBNZWRpYVN0cmVhbShbdF0pLHRoaXMuYmluZEF1ZGlvRWxlbWVudEV2ZW50cyhlLHIpLHRoaXMuZWxlbWVudE1hcC5zZXQoZSxyKSx0aGlzLmVsZW1lbnRTdGF0ZU1hcC5zZXQoZSxubi5JTklUKSx0aGlzLnNldFZvbHVtZShlLG4pO2xldCBvPXRoaXMuc2lua0lkTWFwLmdldChlKTtpZihvKXRyeXtyLnNldFNpbmtJZChvKS5jYXRjaChhPT57Xy53YXJuaW5nKFwiW1wiLmNvbmNhdChlLFwiXSBzZXQgc2luayBpZCBmYWlsZWRcIiksYS50b1N0cmluZygpKTt9KTt9Y2F0Y2goYSl7Xy53YXJuaW5nKFwiW1wiLmNvbmNhdChlLFwiXSBzZXQgc2luayBpZCBmYWlsZWRcIiksYS50b1N0cmluZygpKTt9bGV0IHM9ci5wbGF5KCk7cyYmcy50aGVuJiZzLmNhdGNoKGE9PntpJiZKTyhpLFwiYXVkaW9cIixhLm1lc3NhZ2UsZSksXy53YXJuaW5nKFwiYXVkaW8gZWxlbWVudCBwbGF5IHdhcm5pbmdcIixhLnRvU3RyaW5nKCkpLHRoaXMuZWxlbWVudE1hcC5oYXMoZSkmJmEubmFtZT09PVwiTm90QWxsb3dlZEVycm9yXCImJihfLndhcm5pbmcoXCJkZXRlY3RlZCBhdWRpbyBlbGVtZW50IGF1dG9wbGF5IGZhaWxlZFwiKSx0aGlzLmVsZW1lbnRzTmVlZFRvUmVzdW1lLnB1c2gocikscXUoKCk9Pnt0aGlzLm9uQXV0b3BsYXlGYWlsZWQmJnRoaXMub25BdXRvcGxheUZhaWxlZCgpLHpPKCk7fSkpO30pO311cGRhdGVUcmFjayh0LGUpe2xldCBuPXRoaXMuZWxlbWVudE1hcC5nZXQodCk7biYmKG4uc3JjT2JqZWN0PW5ldyBNZWRpYVN0cmVhbShbZV0pKTt9aXNQbGF5aW5nKHQpe3JldHVybiB0aGlzLmVsZW1lbnRNYXAuaGFzKHQpJiZ0aGlzLmVsZW1lbnRTdGF0ZU1hcC5nZXQodCk9PT1cInBsYXlpbmdcIn1zZXRWb2x1bWUodCxlKXtsZXQgbj10aGlzLmVsZW1lbnRNYXAuZ2V0KHQpO24mJihlPU1hdGgubWF4KDAsTWF0aC5taW4oMTAwLGUpKSxuLnZvbHVtZT1lLzEwMCk7fXN0b3AodCl7bGV0IGU9dGhpcy5lbGVtZW50TWFwLmdldCh0KTtpZih0aGlzLnNpbmtJZE1hcC5kZWxldGUodCksIWUpcmV0dXJuO2xldCBuPXRoaXMuZWxlbWVudHNOZWVkVG9SZXN1bWUuaW5kZXhPZihlKTt0aGlzLmVsZW1lbnRzTmVlZFRvUmVzdW1lLnNwbGljZShuLDEpLGUuc3JjT2JqZWN0PW51bGwsZS5yZW1vdmUoKSx0aGlzLmVsZW1lbnRNYXAuZGVsZXRlKHQpLHRoaXMuZWxlbWVudFN0YXRlTWFwLmRlbGV0ZSh0KTt9YmluZEF1ZGlvRWxlbWVudEV2ZW50cyh0LGUpe1VHLmZvckVhY2gobj0+e2UuYWRkRXZlbnRMaXN0ZW5lcihuLGk9PntsZXQgcj10aGlzLmVsZW1lbnRTdGF0ZU1hcC5nZXQodCksbz1pLnR5cGU9PT1cInBhdXNlXCI/XCJwYXVzZWRcIjppLnR5cGU7aWYoXy5kZWJ1ZyhcIltcIi5jb25jYXQodCxcIl0gYXVkaW8tZWxlbWVudC1zdGF0dXMgY2hhbmdlIFwiKS5jb25jYXQocixcIiA9PiBcIikuY29uY2F0KG8pKSxpLnR5cGU9PT1cImVycm9yXCIpe2xldCBzPWU/LmVycm9yO3MmJl8uZXJyb3IoXCJbXCIuY29uY2F0KHQsXCJdIG1lZGlhIGVycm9yLCBjb2RlOiBcIikuY29uY2F0KHMuY29kZSxcIiwgbWVzc2FnZTogXCIpLmNvbmNhdChzLm1lc3NhZ2UpKTt9dGhpcy5lbGVtZW50U3RhdGVNYXAuc2V0KHQsbyk7fSk7fSk7fWdldFBsYXllclN0YXRlKHQpe3JldHVybiB0aGlzLmVsZW1lbnRTdGF0ZU1hcC5nZXQodCl8fFwidW5pbml0XCJ9YXV0b1Jlc3VtZUF1ZGlvRWxlbWVudCgpe2xldCB0PSgpPT57dGhpcy5lbGVtZW50c05lZWRUb1Jlc3VtZS5mb3JFYWNoKGU9PntlLnBsYXkoKS50aGVuKG49PntfLmRlYnVnKFwiQXV0byByZXN1bWUgYXVkaW8gZWxlbWVudCBzdWNjZXNzXCIpO30pLmNhdGNoKG49PntfLndhcm5pbmcoXCJBdXRvIHJlc3VtZSBhdWRpbyBlbGVtZW50IGZhaWxlZCFcIixuKTt9KTt9KSx0aGlzLmVsZW1lbnRzTmVlZFRvUmVzdW1lPVtdO307bmV3IGooZT0+e2RvY3VtZW50LmJvZHk/ZSgpOndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCgpPT5lKCkpO30pLnRoZW4oKCk9Pnt5YygpP2RvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdCwhMCk6KGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIix0LCEwKSxkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0LCEwKSk7fSk7fX07ZnVuY3Rpb24gc2UoKXtyZXR1cm4gZnVuY3Rpb24odCxlLG4pe2xldCBpPW4udmFsdWU7cmV0dXJuIHR5cGVvZiBpPT1cImZ1bmN0aW9uXCImJihuLnZhbHVlPWZ1bmN0aW9uKCl7dGhpcy5faXNDbG9zZWQmJm5ldyBOKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBjYW5ub3Qgb3BlcmF0ZSBhIGNsb3NlZCB0cmFja1wiKSkucHJpbnQoXCJ3YXJuaW5nXCIsXyk7Zm9yKHZhciByPWFyZ3VtZW50cy5sZW5ndGgsbz1uZXcgQXJyYXkocikscz0wO3M8cjtzKyspb1tzXT1hcmd1bWVudHNbc107bGV0IGE9aS5hcHBseSh0aGlzLG8pO3JldHVybiBhIGluc3RhbmNlb2Ygaj9uZXcgaigoYyxkKT0+e2EudGhlbihjKS5jYXRjaChkKTt9KTphfSksbn19dmFyIHR1PWNsYXNzIGV4dGVuZHMgWHR7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSxQKHRoaXMsXCJuYW1lXCIsXCJWaWRlb1Byb2Nlc3NvckRlc3RpbmF0aW9uXCIpLFAodGhpcyxcIklEXCIsXCIwXCIpLFAodGhpcyxcIl9zb3VyY2VcIix2b2lkIDApLFAodGhpcyxcInZpZGVvQ29udGV4dFwiLHZvaWQgMCksUCh0aGlzLFwiaW5wdXRUcmFja1wiLHZvaWQgMCksdGhpcy52aWRlb0NvbnRleHQ9ZTt9Z2V0IGtpbmQoKXtyZXR1cm4gXCJ2aWRlb1wifWdldCBlbmFibGVkKCl7cmV0dXJuICEwfXBpcGUoKXt0aHJvdyBuZXcgTihSLk5PVF9TVVBQT1JURUQsXCJWaWRlb1Byb2Nlc3NvciBjYW5ub3QgcGlwZSB0byBhbnkgb3RoZXIgUHJvY2Vzc29yXCIpfXVucGlwZSgpe3Rocm93IG5ldyBOKFIuTk9UX1NVUFBPUlRFRCxcIlZpZGVvUHJvY2Vzc29yIGNhbm5vdCB1bnBpcGUgdG8gYW55IG90aGVyIFByb2Nlc3NvclwiKX1lbmFibGUoKXt9ZGlzYWJsZSgpe311cGRhdGVJbnB1dChlKXtpZihlLmNvbnRleHQhPT10aGlzLnZpZGVvQ29udGV4dCl0aHJvdyBuZXcgRXJyb3IoYFByb2Nlc3NvckNvbnRleHQgcGFzc2VkIHRvIFZpZGVvVHJhY2sucHJvY2Vzc29yRGVzdGluYXRpb24gZG9lc24ndCBtYXRjaCBpdCdzIGJlbG9uZ2luZyBWaWRlb1RyYWNrJ3MgY29udGV4dC5cblByb2JhYmx5IHlvdSBhcmUgbWFraW5nIHBpcGVsaW5lIGxpa2UgdGhpczpcbnZpZGVvVHJhY2sxLnBpcGUocHJvY2Vzc29yKS5waXBlKHZpZGVvVHJhY2syLnByb2Nlc3NvckRlc3RpbmF0aW9uKS5gKTtlLnRyYWNrJiZlLnRyYWNrIT09dGhpcy5pbnB1dFRyYWNrJiYodGhpcy52aWRlb0NvbnRleHQuY2hhaW5lZD0hMCx0aGlzLmlucHV0VHJhY2s9ZS50cmFjayx0aGlzLmVtaXQodW4uT05fVFJBQ0ssZS50cmFjaykpO31yZXNldCgpe3RoaXMuaW5wdXRUcmFjaz12b2lkIDAsdGhpcy52aWRlb0NvbnRleHQuY2hhaW5lZD0hMSx0aGlzLmVtaXQodW4uT05fVFJBQ0ssdm9pZCAwKTt9fSxldT1jbGFzcyBleHRlbmRzIFh0e3NldCBjaGFpbmVkKGUpe3RoaXMuX2NoYWluZWQ9ZTt9Z2V0IGNoYWluZWQoKXtyZXR1cm4gdGhpcy5fY2hhaW5lZH1jb25zdHJ1Y3RvcihlLG4pe3N1cGVyKCksUCh0aGlzLFwiY29uc3RyYWludHNNYXBcIixuZXcgTWFwKSxQKHRoaXMsXCJzdGF0c1JlZ2lzdHJ5XCIsW10pLFAodGhpcyxcInVzYWdlUmVnaXN0cnlcIixbXSksUCh0aGlzLFwidHJhY2tJZFwiLHZvaWQgMCksUCh0aGlzLFwiZGlyZWN0aW9uXCIsdm9pZCAwKSxQKHRoaXMsXCJfY2hhaW5lZFwiLCExKSx0aGlzLnRyYWNrSWQ9ZSx0aGlzLmRpcmVjdGlvbj1uO31hc3luYyBnZXRDb25zdHJhaW50cygpe3JldHVybiBhd2FpdCBHZSh0aGlzLFduLlJFUVVFU1RfQ09OU1RSQUlOVFMpfWFzeW5jIHJlcXVlc3RBcHBseUNvbnN0cmFpbnRzKGUsbil7dmFyIGk7cmV0dXJuIF8uaW5mbyhcInByb2Nlc3NvciBcIi5jb25jYXQobi5uYW1lLFwiIHJlcXVlc3RBcHBseUNvbnN0cmFpbnRzIGZvciBcIikuY29uY2F0KHRoaXMudHJhY2tJZCkpLGUmJnRoaXMuY29uc3RyYWludHNNYXAuc2V0KG4sZSksa3QodGhpcyxXbi5SRVFVRVNUX1VQREFURV9DT05TVFJBSU5UUyxBcnJheS5mcm9tKFByKGk9dGhpcy5jb25zdHJhaW50c01hcCkuY2FsbChpKSkpfWFzeW5jIHJlcXVlc3RSZXZlcnRDb25zdHJhaW50cyhlKXt2YXIgbjtpZih0aGlzLmNvbnN0cmFpbnRzTWFwLmhhcyhlKSlyZXR1cm4gXy5pbmZvKFwicHJvY2Vzc29yIFwiLmNvbmNhdChlLm5hbWUsXCIgcmVxdWVzdFJldmVydENvbnN0cmFpbnRzIGZvciBcIikuY29uY2F0KHRoaXMudHJhY2tJZCkpLHRoaXMuY29uc3RyYWludHNNYXAuZGVsZXRlKGUpLGt0KHRoaXMsV24uUkVRVUVTVF9VUERBVEVfQ09OU1RSQUlOVFMsQXJyYXkuZnJvbShQcihuPXRoaXMuY29uc3RyYWludHNNYXApLmNhbGwobikpKX1yZWdpc3RlclN0YXRzKGUsbixpKXt0aGlzLnN0YXRzUmVnaXN0cnkuZmluZChyPT5yLnByb2Nlc3NvcklEPT09ZS5JRCYmci5wcm9jZXNzb3JOYW1lPT09ZS5uYW1lJiZyLnR5cGU9PT1uKXx8dGhpcy5zdGF0c1JlZ2lzdHJ5LnB1c2goe3Byb2Nlc3Nvck5hbWU6ZS5uYW1lLHByb2Nlc3NvcklEOmUuSUQsdHlwZTpuLGNiOml9KTt9dW5yZWdpc3RlclN0YXRzKGUsbil7bGV0IGk9dGhpcy5zdGF0c1JlZ2lzdHJ5LmZpbmRJbmRleChyPT5yLnByb2Nlc3NvcklEPT09ZS5JRCYmci5wcm9jZXNzb3JOYW1lPT09ZS5uYW1lJiZyLnR5cGU9PT1uKTtpIT09LTEmJnRoaXMuc3RhdHNSZWdpc3RyeS5zcGxpY2UoaSwxKTt9Z2F0aGVyU3RhdHMoKXtsZXQgZT1bXTtmb3IobGV0e3Byb2Nlc3NvcklEOm4scHJvY2Vzc29yTmFtZTppLHR5cGU6cixjYjpvfW9mIHRoaXMuc3RhdHNSZWdpc3RyeSl0cnl7bGV0IHM9bygpO2UucHVzaCh7cHJvY2Vzc29ySUQ6bixwcm9jZXNzb3JOYW1lOmksdHlwZTpyLHN0YXRzOnN9KTt9Y2F0Y2gocyl7Xy5lcnJvcihuZXcgTihSLlVORVhQRUNURURfRVJST1Iscy5tZXNzYWdlKSk7fXJldHVybiBlfXJlZ2lzdGVyVXNhZ2UoZSxuKXt0aGlzLnVzYWdlUmVnaXN0cnkuZmluZChpPT5pLnByb2Nlc3NvcklEPT09ZS5JRCYmaS5wcm9jZXNzb3JOYW1lPT09ZS5uYW1lKXx8dGhpcy51c2FnZVJlZ2lzdHJ5LnB1c2goe3Byb2Nlc3NvcklEOmUuSUQscHJvY2Vzc29yTmFtZTplLm5hbWUsY2I6bn0pO311bnJlZ2lzdGVyVXNhZ2UoZSl7bGV0IG49dGhpcy51c2FnZVJlZ2lzdHJ5LmZpbmRJbmRleChpPT5pLnByb2Nlc3NvcklEPT09ZS5JRCYmaS5wcm9jZXNzb3JOYW1lPT09ZS5uYW1lKTtuIT09LTEmJnRoaXMudXNhZ2VSZWdpc3RyeS5zcGxpY2UobiwxKTt9YXN5bmMgZ2F0aGVyVXNhZ2UoKXtsZXQgZT1bXTtpZighdGhpcy5jaGFpbmVkKXJldHVybiBbXTtmb3IobGV0e2NiOm59b2YgdGhpcy51c2FnZVJlZ2lzdHJ5KXRyeXtsZXQgaT1uKCk7aSBpbnN0YW5jZW9mIGomJihpPWF3YWl0IGkpLGUucHVzaChLdChLdCh7fSxpKSx7fSx7ZGlyZWN0aW9uOnRoaXMuZGlyZWN0aW9ufSkpO31jYXRjaChpKXtfLmVycm9yKFwiZ2F0aGVyIGV4dGVuc2lvbiB1c2FnZSBlcnJvclwiLGkpO31yZXR1cm4gZX1nZXREaXJlY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXJlY3Rpb259fSxudT1jbGFzcyBleHRlbmRzIFh0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksUCh0aGlzLFwibmFtZVwiLFwiQXVkaW9Qcm9jZXNzb3JEZXN0aW5hdGlvblwiKSxQKHRoaXMsXCJJRFwiLFwiMFwiKSxQKHRoaXMsXCJpbnB1dFRyYWNrXCIsdm9pZCAwKSxQKHRoaXMsXCJpbnB1dE5vZGVcIix2b2lkIDApLFAodGhpcyxcImF1ZGlvUHJvY2Vzc29yQ29udGV4dFwiLHZvaWQgMCksUCh0aGlzLFwiX3NvdXJjZVwiLHZvaWQgMCksdGhpcy5hdWRpb1Byb2Nlc3NvckNvbnRleHQ9ZTt9Z2V0IGtpbmQoKXtyZXR1cm4gXCJhdWRpb1wifWdldCBlbmFibGVkKCl7cmV0dXJuICEwfXBpcGUoKXt0aHJvdyBuZXcgTihSLk5PVF9TVVBQT1JURUQsXCJBdWRpb1Byb2Nlc3NvckRlc3RpbmF0aW9uIGNhbm5vdCBwaXBlIHRvIGFueSBvdGhlciBQcm9jZXNzb3JcIil9dW5waXBlKCl7dGhyb3cgbmV3IE4oUi5OT1RfU1VQUE9SVEVELFwiQXVkaW9Qcm9jZXNzb3IgY2Fubm90IHVucGlwZSB0byBhbnkgb3RoZXIgUHJvY2Vzc29yXCIpfWVuYWJsZSgpe31kaXNhYmxlKCl7fXJlc2V0KCl7dGhpcy5pbnB1dFRyYWNrPXZvaWQgMCx0aGlzLmlucHV0Tm9kZT12b2lkIDAsdGhpcy5hdWRpb1Byb2Nlc3NvckNvbnRleHQuY2hhaW5lZD0hMSx0aGlzLmVtaXQodW4uT05fVFJBQ0ssdm9pZCAwKSx0aGlzLmVtaXQodW4uT05fTk9ERSx2b2lkIDApO311cGRhdGVJbnB1dChlKXtpZihlLmNvbnRleHQhPT10aGlzLmF1ZGlvUHJvY2Vzc29yQ29udGV4dCl0aHJvdyBuZXcgRXJyb3IoYFByb2Nlc3NvckNvbnRleHQgcGFzc2VkIHRvIEF1ZGlvVHJhY2sucHJvY2Vzc29yRGVzdGluYXRpb24gZG9lc24ndCBtYXRjaCBpdCdzIGJlbG9uZ2luZyBBdWRpb1RyYWNrJ3MgY29udGV4dC5cbiAgICAgICAgUHJvYmFibHkgeW91IGFyZSBtYWtpbmcgcGlwZWxpbmUgbGlrZSB0aGlzOiBhdWRpb1RyYWNrMS5waXBlKHByb2Nlc3NvcikucGlwZShhdWRpb1RyYWNrMi5wcm9jZXNzb3JEZXN0aW5hdGlvbikuYCk7ZS50cmFjayYmdGhpcy5pbnB1dFRyYWNrIT09ZS50cmFjayYmKHRoaXMuYXVkaW9Qcm9jZXNzb3JDb250ZXh0LmNoYWluZWQ9ITAsdGhpcy5pbnB1dFRyYWNrPWUudHJhY2ssdGhpcy5lbWl0KHVuLk9OX1RSQUNLLHRoaXMuaW5wdXRUcmFjaykpLGUubm9kZSYmdGhpcy5pbnB1dE5vZGUhPT1lLm5vZGUmJih0aGlzLmF1ZGlvUHJvY2Vzc29yQ29udGV4dC5jaGFpbmVkPSEwLHRoaXMuaW5wdXROb2RlPWUubm9kZSx0aGlzLmVtaXQodW4uT05fTk9ERSx0aGlzLmlucHV0Tm9kZSkpO319LGl1PWNsYXNzIGV4dGVuZHMgWHR7c2V0IGNoYWluZWQoZSl7dGhpcy5fY2hhaW5lZD1lO31nZXQgY2hhaW5lZCgpe3JldHVybiB0aGlzLl9jaGFpbmVkfWNvbnN0cnVjdG9yKGUsbixpKXtzdXBlcigpLFAodGhpcyxcImNvbnN0cmFpbnRzTWFwXCIsbmV3IE1hcCksUCh0aGlzLFwic3RhdHNSZWdpc3RyeVwiLFtdKSxQKHRoaXMsXCJhdWRpb0NvbnRleHRcIix2b2lkIDApLFAodGhpcyxcInRyYWNrSWRcIix2b2lkIDApLFAodGhpcyxcImRpcmVjdGlvblwiLHZvaWQgMCksUCh0aGlzLFwidXNhZ2VSZWdpc3RyeVwiLFtdKSxQKHRoaXMsXCJfY2hhaW5lZFwiLCExKSx0aGlzLmF1ZGlvQ29udGV4dD1lLHRoaXMudHJhY2tJZD1uLHRoaXMuZGlyZWN0aW9uPWk7fWFzeW5jIGdldENvbnN0cmFpbnRzKCl7cmV0dXJuIEdlKHRoaXMsV24uUkVRVUVTVF9DT05TVFJBSU5UUyl9Z2V0QXVkaW9Db250ZXh0KCl7cmV0dXJuIHRoaXMuYXVkaW9Db250ZXh0fWFzeW5jIHJlcXVlc3RBcHBseUNvbnN0cmFpbnRzKGUsbil7dmFyIGk7cmV0dXJuIF8uaW5mbyhcInByb2Nlc3NvciBcIi5jb25jYXQobi5uYW1lLFwiIHJlcXVlc3RBcHBseUNvbnN0cmFpbnRzIGZvciBcIikuY29uY2F0KHRoaXMudHJhY2tJZCkpLGUmJnRoaXMuY29uc3RyYWludHNNYXAuc2V0KG4sZSksa3QodGhpcyxXbi5SRVFVRVNUX1VQREFURV9DT05TVFJBSU5UUyxBcnJheS5mcm9tKFByKGk9dGhpcy5jb25zdHJhaW50c01hcCkuY2FsbChpKSkpfWFzeW5jIHJlcXVlc3RSZXZlcnRDb25zdHJhaW50cyhlKXt2YXIgbjtpZih0aGlzLmNvbnN0cmFpbnRzTWFwLmhhcyhlKSlyZXR1cm4gdGhpcy5jb25zdHJhaW50c01hcC5kZWxldGUoZSksa3QodGhpcyxXbi5SRVFVRVNUX1VQREFURV9DT05TVFJBSU5UUyxBcnJheS5mcm9tKFByKG49dGhpcy5jb25zdHJhaW50c01hcCkuY2FsbChuKSkpfXJlZ2lzdGVyU3RhdHMoZSxuLGkpe3RoaXMuc3RhdHNSZWdpc3RyeS5maW5kKHI9PnIucHJvY2Vzc29ySUQ9PT1lLklEJiZyLnByb2Nlc3Nvck5hbWU9PT1lLm5hbWUmJnIudHlwZT09PW4pfHx0aGlzLnN0YXRzUmVnaXN0cnkucHVzaCh7cHJvY2Vzc29yTmFtZTplLm5hbWUscHJvY2Vzc29ySUQ6ZS5JRCx0eXBlOm4sY2I6aX0pO311bnJlZ2lzdGVyU3RhdHMoZSxuKXtsZXQgaT10aGlzLnN0YXRzUmVnaXN0cnkuZmluZEluZGV4KHI9PnIucHJvY2Vzc29ySUQ9PT1lLklEJiZyLnByb2Nlc3Nvck5hbWU9PT1lLm5hbWUmJnIudHlwZT09PW4pO2khPT0tMSYmdGhpcy5zdGF0c1JlZ2lzdHJ5LnNwbGljZShpLDEpO31nYXRoZXJTdGF0cygpe2xldCBlPVtdO2ZvcihsZXR7cHJvY2Vzc29ySUQ6bixwcm9jZXNzb3JOYW1lOmksdHlwZTpyLGNiOm99b2YgdGhpcy5zdGF0c1JlZ2lzdHJ5KXRyeXtsZXQgcz1vKCk7ZS5wdXNoKHtwcm9jZXNzb3JJRDpuLHByb2Nlc3Nvck5hbWU6aSx0eXBlOnIsc3RhdHM6c30pO31jYXRjaChzKXtfLmVycm9yKG5ldyBOKFIuVU5FWFBFQ1RFRF9FUlJPUixzLm1lc3NhZ2UpKTt9cmV0dXJuIGV9cmVnaXN0ZXJVc2FnZShlLG4pe3RoaXMudXNhZ2VSZWdpc3RyeS5maW5kKGk9PmkucHJvY2Vzc29ySUQ9PT1lLklEJiZpLnByb2Nlc3Nvck5hbWU9PT1lLm5hbWUpfHx0aGlzLnVzYWdlUmVnaXN0cnkucHVzaCh7cHJvY2Vzc29ySUQ6ZS5JRCxwcm9jZXNzb3JOYW1lOmUubmFtZSxjYjpufSk7fXVucmVnaXN0ZXJVc2FnZShlKXtsZXQgbj10aGlzLnVzYWdlUmVnaXN0cnkuZmluZEluZGV4KGk9PmkucHJvY2Vzc29ySUQ9PT1lLklEJiZpLnByb2Nlc3Nvck5hbWU9PT1lLm5hbWUpO24hPT0tMSYmdGhpcy51c2FnZVJlZ2lzdHJ5LnNwbGljZShuLDEpO31hc3luYyBnYXRoZXJVc2FnZSgpe2xldCBlPVtdO2lmKCF0aGlzLmNoYWluZWQpcmV0dXJuIFtdO2ZvcihsZXR7Y2I6bn1vZiB0aGlzLnVzYWdlUmVnaXN0cnkpdHJ5e2xldCBpPW4oKTtpIGluc3RhbmNlb2YgaiYmKGk9YXdhaXQgaSksZS5wdXNoKEt0KEt0KHt9LGkpLHt9LHtkaXJlY3Rpb246dGhpcy5kaXJlY3Rpb259KSk7fWNhdGNoKGkpe18uZXJyb3IoXCJnYXRoZXIgZXh0ZW5zaW9uIHVzYWdlIGVycm9yXCIsaSk7fXJldHVybiBlfWdldERpcmVjdGlvbigpe3JldHVybiB0aGlzLmRpcmVjdGlvbn19LFBjPWNsYXNzIGV4dGVuZHMgWHR7Z2V0IGlzUGxheWVkKCl7cmV0dXJuICEwfWdldCBpc0ZyZWV6ZSgpe3JldHVybiAhMX1jb25zdHJ1Y3Rvcigpe3N1cGVyKCksUCh0aGlzLFwiY29udGV4dFwiLHZvaWQgMCksUCh0aGlzLFwicHJvY2Vzc1NvdXJjZU5vZGVcIix2b2lkIDApLFAodGhpcyxcIm91dHB1dFRyYWNrXCIsdm9pZCAwKSxQKHRoaXMsXCJwcm9jZXNzZWROb2RlXCIsdm9pZCAwKSxQKHRoaXMsXCJjbG9uZWRUcmFja1wiLHZvaWQgMCksUCh0aGlzLFwib3V0cHV0Tm9kZVwiLHZvaWQgMCksdGhpcy5vdXRwdXROb2RlPW5ldyB6RTt9c2V0Vm9sdW1lKCl7fWNyZWF0ZU91dHB1dFRyYWNrKCl7dGhyb3cgbmV3IE4oUi5OT1RfU1VQUE9SVEVELFwiY2FuIG5vdCBjcmVhdGUgb3V0cHV0IE1lZGlhU3RyZWFtVHJhY2sgd2hlbiBXZWJBdWRpbyBkaXNhYmxlZFwiKX1nZXRPcmlnaW5Wb2x1bWVMZXZlbCgpe3JldHVybiAwfWdldEFjY3VyYXRlVm9sdW1lTGV2ZWwoKXtyZXR1cm4gMH1zdG9wR2V0QXVkaW9CdWZmZXIoKXt9c3RhcnRHZXRBdWRpb0J1ZmZlcigpe31wbGF5KCl7fXN0b3AoKXt9ZGVzdHJveSgpe311cGRhdGVUcmFjaygpe311cGRhdGVPcmlnaW5UcmFjaygpe31jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZU5vZGUoKXt9fSx6RT1jbGFzc3tkaXNjb25uZWN0KCl7fWNvbm5lY3QoKXt9fTtmdW5jdGlvbiBYTyh0KXtyZXR1cm4gbmV3IGooKGUsbik9PntsZXQgaT0hMSxyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKTtyLnNldEF0dHJpYnV0ZShcImF1dG9wbGF5XCIsXCJcIiksci5zZXRBdHRyaWJ1dGUoXCJtdXRlZFwiLFwiXCIpLHIubXV0ZWQ9ITAsci5hdXRvcGxheT0hMCxyLnNldEF0dHJpYnV0ZShcInBsYXlzaW5saW5lXCIsXCJcIiksci5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwicG9zaXRpb246IGZpeGVkOyB0b3A6IDA7IGxlZnQ6IDA7IHdpZHRoOiAxcHg7IGhlaWdodDogMXB4XCIpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocik7bGV0IG89bG4oKT9cImNhbnBsYXlcIjpcInBsYXlpbmdcIjtyLmFkZEV2ZW50TGlzdGVuZXIobywoKT0+e2xldCBzPXIudmlkZW9XaWR0aCxhPXIudmlkZW9IZWlnaHQ7IXMmJiR0KCl8fChpPSEwLHIuc3JjT2JqZWN0PW51bGwsci5yZW1vdmUoKSxlKFtzLGFdKSk7fSksci5zcmNPYmplY3Q9bmV3IE1lZGlhU3RyZWFtKFt0XSksci5wbGF5KCkuY2F0Y2goenUpLHNldFRpbWVvdXQoKCk9PntpfHwoci5zcmNPYmplY3Q9bnVsbCxyLnJlbW92ZSgpLGUoW3IudmlkZW9XaWR0aCxyLnZpZGVvSGVpZ2h0XSkpO30sNGUzKTt9KX1mdW5jdGlvbiBydSh0KXtsZXQgZT17fTt0LmZhY2luZ01vZGUmJihlLmZhY2luZ01vZGU9dC5mYWNpbmdNb2RlKSx0LmNhbWVyYUlkJiYoZS5kZXZpY2VJZD17ZXhhY3Q6dC5jYW1lcmFJZH0pO2xldCBuPWNyKHQuZW5jb2RlckNvbmZpZyk7cmV0dXJuIG4ud2lkdGghPW51bGwmJihlLndpZHRoPW4ud2lkdGgpLG4uaGVpZ2h0IT1udWxsJiYoZS5oZWlnaHQ9bi5oZWlnaHQpLCFTTygpJiZuLmZyYW1lUmF0ZSYmKGUuZnJhbWVSYXRlPW4uZnJhbWVSYXRlKSxfTygpJiZ0eXBlb2YgZS5mcmFtZVJhdGU9PVwib2JqZWN0XCImJihlLmZyYW1lUmF0ZS5tYXg9NjApLCR0KCkmJihlLmZyYW1lUmF0ZT17aWRlYWw6MzAsbWF4OjMwfSksZX1mdW5jdGlvbiBmQyh0KXtsZXQgZT17fTtpZihTTygpfHwodC5BR0MhPT12b2lkIDAmJihlLmF1dG9HYWluQ29udHJvbD10LkFHQyksdC5BRUMhPT12b2lkIDAmJihlLmVjaG9DYW5jZWxsYXRpb249dC5BRUMpLHQuQU5TIT09dm9pZCAwJiYoZS5ub2lzZVN1cHByZXNzaW9uPXQuQU5TLG9vKCkmJnQuQU5TJiYoZS5nb29nSGlnaHBhc3NGaWx0ZXI9dC5BTlMpKSksdC5lbmNvZGVyQ29uZmlnKXtsZXQgbj1KbCh0LmVuY29kZXJDb25maWcpO2UuY2hhbm5lbENvdW50PW4uc3RlcmVvPzI6MSxlLnNhbXBsZVJhdGU9bi5zYW1wbGVSYXRlLGUuc2FtcGxlU2l6ZT1uLnNhbXBsZVNpemU7fXJldHVybiB0Lm1pY3JvcGhvbmVJZCYmKGUuZGV2aWNlSWQ9e2V4YWN0OnQubWljcm9waG9uZUlkfSksS3UoKSYmKGUuc2FtcGxlUmF0ZT12b2lkIDApLGV9dmFyIHhHPXQ9PntsZXQgZT10Ll9lbmNvZGVyQ29uZmlnO2lmKCFlKXJldHVybjtsZXR7ZnJhbWVSYXRlOm4sd2lkdGg6aSxoZWlnaHQ6cn09dC5nZXRNZWRpYVN0cmVhbVRyYWNrU2V0dGluZ3MoKSx7ZnJhbWVSYXRlOm89bix3aWR0aDpzPWksaGVpZ2h0OmE9cn09ZTtpZighb3x8IXN8fCFhKXJldHVybjtzPXdwKHMpLGE9d3AoYSksbz13cChvKTtsZXR7bWF4OmMsbWluOmR9PWZ1bmN0aW9uKHAsZyxFKXtsZXQgZj0yMDAqTWF0aC5wb3coRS8xNSwuNikqTWF0aC5wb3cocCpnLzY0MC8zNjAsLjc1KTtyZXR1cm4ge21pbjpNYXRoLmZsb29yKGYpLG1heDpNYXRoLmZsb29yKDQqZil9fShzLGEsbykse2JpdHJhdGVNYXg6bCxiaXRyYXRlTWluOnV9PWV8fHt9O2x8fF8uZGVidWcoXCJjYWxjdWxhdGUgYml0cmF0ZTogW3c6IFwiLmNvbmNhdChzLFwiLCBoOiBcIikuY29uY2F0KGEsXCIsIGZwczogXCIpLmNvbmNhdChvLFwiXSA9PiBbYnJNYXg6IFwiKS5jb25jYXQobCxcIiwgYnJNaW46IFwiKS5jb25jYXQodSxcIl1cIikpO2xldHttYXhGcmFtZXJhdGU6aH09dihcIkVOQ09ERVJfQ09ORklHX0xJTUlUXCIpO3JldHVybiBoJiZ0eXBlb2YgaD09XCJudW1iZXJcIiYmKG89TWF0aC5taW4obyxoKSkse2ZyYW1lUmF0ZTpvLGJpdHJhdGVNYXg6bHx8YyxiaXRyYXRlTWluOnV8fGQsc2NhbGVSZXNvbHV0aW9uRG93bkJ5OjEsc2NhbGU6MH19LFFPPWFzeW5jKHQsZSxuKT0+YXdhaXQoYXN5bmMoaSxyLG8pPT57bGV0IHM9ZnVuY3Rpb24oZCl7bGV0IGw9W107Zm9yKGxldCB1PTA7dTxkLmxlbmd0aDt1Kz0yKWwucHVzaChwYXJzZUludChkLnNsaWNlKHUsdSsyKSwxNikpO3JldHVybiBVaW50OEFycmF5LmZyb20obCl9KGJPKFwiXCIrcitvKSkuc2xpY2UoMCwxNiksYT1zLnNsaWNlKDAsMTIpLGM9YXdhaXQgd2luZG93LmNyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KFwicmF3XCIscyxcIkFFUy1HQ01cIiwhMCxbXCJlbmNyeXB0XCJdKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYXdhaXQgd2luZG93LmNyeXB0by5zdWJ0bGUuZW5jcnlwdCh7bmFtZTpcIkFFUy1HQ01cIixpdjphfSxjLGkpKX0pKHQuYnVmZmVyLGUsbiksQ2Y9dD0+e2xldCBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7cmV0dXJuIGUud2lkdGg9MixlLmhlaWdodD0yLG5ldyBqKChuLGkpPT57ZS50b0Jsb2IoYXN5bmMgcj0+e2lmKGUucmVtb3ZlKCkscil7bGV0IG89YXdhaXQgWk8ocik7bih7YnVmZmVyOm8sd2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHR9KTt9ZWxzZSBpKG5ldyBOKFIuQ09OVkVSVElOR19WSURFT19GUkFNRV9UT19CTE9CX0ZBSUxFRCkpO30sdCwxKTt9KX0sWk89YXN5bmMgdD0+e2xldCBlPWF3YWl0IHQuYXJyYXlCdWZmZXIoKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoZSl9LGdDLFRDLFNDLFJDLENDLElDLHZDLHlDLEFDLGJDLHdDLE9DLE5DLERDLFBDLGtDLExDLE1DLFl0LFVDLHhDLFZDLEZDLEJDLGpDLEppLEdDLFdDLEhDLEtDLFlDLHFDLHpDLEpDLFhDLFFDLFpDLCRDLHRJLFVlLFF0PShnQz0kKHthcmdzTWFwOih0LGUpPT5bdC5nZXRUcmFja0lkKCksZV0sdGhyb3R0bGVUaW1lOjMwMH0pLFRDPSQoe2FyZ3NNYXA6KHQsZSk9Plt0LmdldFRyYWNrSWQoKSxlXX0pLFNDPXNlKCksUkM9JHMoXCJMb2NhbEF1ZGlvVHJhY2tcIixcIl9lbmFibGVkTXV0ZXhcIiksQ0M9JCh7YXJnc01hcDoodCxlKT0+W3QuZ2V0VHJhY2tJZCgpLGVdfSksSUM9c2UoKSx2Qz0kcyhcIkxvY2FsQXVkaW9UcmFja1wiLFwiX2VuYWJsZWRNdXRleFwiKSx5Qz0kKHthcmdzTWFwOih0LGUpPT5bdC5nZXRUcmFja0lkKCksZV19KSxBQz1zZSgpLGJDPXNlKCksd0M9c2UoKSxPQz0kKHthcmdzTWFwOnQ9Plt0LmdldFRyYWNrSWQoKV19KSxOQz1zZSgpLERDPSQoe2FyZ3NNYXA6dD0+W3QuZ2V0VHJhY2tJZCgpXX0pLFBDPXNlKCksa0M9JCh7YXJnc01hcDp0PT5bdC5nZXRUcmFja0lkKCldfSksTEM9JCh7YXJnc01hcDoodCxlKT0+W3QuZ2V0VHJhY2tJZCgpLGUubmFtZV19KSxNQz0kKHthcmdzTWFwOnQ9Plt0LmdldFRyYWNrSWQoKV19KSxFdCgoWXQ9Y2xhc3MgZXh0ZW5kcyBub3tnZXQgX3NvdXJjZSgpe3JldHVybiB0aGlzLmluaXRXZWJBdWRpbygpfXNldCBfc291cmNlKHQpe3RoaXMuX3RyYWNrU291cmNlPXQ7fWdldCBwcm9jZXNzb3JDb250ZXh0KCl7cmV0dXJuIHRoaXMuX3Byb2Nlc3NvckNvbnRleHR8fCh0aGlzLl9wcm9jZXNzb3JDb250ZXh0PXRoaXMuaW5pdFByb2Nlc3NvcigpLnByb2Nlc3NvckNvbnRleHQpLHRoaXMuX3Byb2Nlc3NvckNvbnRleHR9Z2V0IHByb2Nlc3NvckRlc3RpbmF0aW9uKCl7cmV0dXJuIHRoaXMuX3Byb2Nlc3NvckRlc3RpbmF0aW9ufHwodGhpcy5fcHJvY2Vzc29yRGVzdGluYXRpb249dGhpcy5pbml0UHJvY2Vzc29yKCkucHJvY2Vzc29yRGVzdGluYXRpb24pLHRoaXMuX3Byb2Nlc3NvckRlc3RpbmF0aW9ufWdldCBpc1BsYXlpbmcoKXtyZXR1cm4gdGhpcy5fdXNlQXVkaW9FbGVtZW50P0VuLmlzUGxheWluZyh0aGlzLmdldFRyYWNrSWQoKSk6dGhpcy5fc291cmNlLmlzUGxheWVkfWdldCBfX2NsYXNzTmFtZV9fKCl7cmV0dXJuIFwiTG9jYWxBdWRpb1RyYWNrXCJ9Y29uc3RydWN0b3IodCxlLG4saSl7c3VwZXIodCxuKSxQKHRoaXMsXCJ0cmFja01lZGlhVHlwZVwiLGZhLkFVRElPKSxQKHRoaXMsXCJfZW5jb2RlckNvbmZpZ1wiLHZvaWQgMCksUCh0aGlzLFwiX3RyYWNrU291cmNlXCIsdm9pZCAwKSxQKHRoaXMsXCJfZW5hYmxlZFwiLCEwKSxQKHRoaXMsXCJfdm9sdW1lXCIsMTAwKSxQKHRoaXMsXCJfdXNlQXVkaW9FbGVtZW50XCIsITApLFAodGhpcyxcIl9ieXBhc3NXZWJBdWRpb1wiLCExKSxQKHRoaXMsXCJwcm9jZXNzb3JcIix2b2lkIDApLFAodGhpcyxcIl9wcm9jZXNzb3JDb250ZXh0XCIsdm9pZCAwKSxQKHRoaXMsXCJfcHJvY2Vzc29yRGVzdGluYXRpb25cIix2b2lkIDApLFAodGhpcyxcIl9nZXRPcmlnaW5Wb2x1bWVMZXZlbFwiLHZvaWQgMCksdGhpcy5fZW5jb2RlckNvbmZpZz1lLHRoaXMuX2dldE9yaWdpblZvbHVtZUxldmVsPSEhaSx0aGlzLl90cmFja1NvdXJjZT1uZXcgUGMsdihcIkRJU0FCTEVfV0VCQVVESU9cIikmJih0aGlzLl9ieXBhc3NXZWJBdWRpbz0hMCksdihcIkxPQ0FMX0FVRElPX1RSQUNLX1VTRVNfV0VCX0FVRElPXCIpJiYodGhpcy5fdXNlQXVkaW9FbGVtZW50PSExKSxqZSgpJiYhTW4/c2V0VGltZW91dCgoKT0+dGhpcy5pbml0V2ViQXVkaW8oKSk6dGhpcy5pbml0V2ViQXVkaW8oKTt9c2V0Vm9sdW1lKHQpe050KHQsXCJ2b2x1bWVcIiwwLDFlMyksdGhpcy5fdm9sdW1lPXQsdGhpcy5fc291cmNlLnNldFZvbHVtZSh0LzEwMCksdGhpcy5fdXNlQXVkaW9FbGVtZW50JiZFbi5zZXRWb2x1bWUodGhpcy5nZXRUcmFja0lkKCksdCk7dHJ5e2lmKHRoaXMuX2J5cGFzc1dlYkF1ZGlvKXJldHVybiB2b2lkIF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXRWb2x1bWUgcmV0dXJuZWQgYmVjYXVzZSBubyBwYXNzIHRocm91Z2ggV2ViQXVkaW8uXCIpKTtsZXQgZT10aGlzLl9zb3VyY2UuY3JlYXRlT3V0cHV0VHJhY2soKTt0aGlzLl9tZWRpYVN0cmVhbVRyYWNrIT09ZSYmKHRoaXMuX21lZGlhU3RyZWFtVHJhY2s9ZSxrdCh0aGlzLEguTkVFRF9SRVBMQUNFX1RSQUNLLHRoaXMpLnRoZW4oKCk9PntfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gcmVwbGFjZSB3ZWIgYXVkaW8gdHJhY2sgc3VjY2Vzc1wiKSk7fSkuY2F0Y2gobj0+e18ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHJlcGxhY2Ugd2ViIGF1ZGlvIHRyYWNrIGZhaWxlZFwiKSxuKTt9KSk7fWNhdGNoe319Z2V0Vm9sdW1lTGV2ZWwoKXtyZXR1cm4gdGhpcy5fbXV0ZWQmJnRoaXMuZW5hYmxlZCYmdGhpcy5fZ2V0T3JpZ2luVm9sdW1lTGV2ZWw/dGhpcy5fc291cmNlLmdldE9yaWdpblZvbHVtZUxldmVsKCk6dGhpcy5fc291cmNlLmdldEFjY3VyYXRlVm9sdW1lTGV2ZWwoKX1hc3luYyBzZXRQbGF5YmFja0RldmljZSh0KXtpZighdGhpcy5fdXNlQXVkaW9FbGVtZW50fHwhak8oKSl0aHJvdyBuZXcgTihSLk5PVF9TVVBQT1JURUQsXCJ5b3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBzZXR0aW5nIHRoZSBhdWRpbyBvdXRwdXQgZGV2aWNlXCIpO2F3YWl0IEVuLnNldFNpbmtJRCh0aGlzLmdldFRyYWNrSWQoKSx0KTt9YXN5bmMgc2V0RW5hYmxlZCh0LGUsbil7cmV0dXJuIHRoaXMuX3NldEVuYWJsZWQodCxlLG4pfWFzeW5jIF9zZXRFbmFibGVkKHQsZSxuKXtpZighbil7aWYodD09PXRoaXMuX2VuYWJsZWQpcmV0dXJuO3RoaXMuc3RhdGVDaGVjayhcImVuYWJsZWRcIix0KTt9aWYoXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc3RhcnQgc2V0RW5hYmxlZFwiKSx0KSx0KXt0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWQ9ITA7dHJ5e258fCh0aGlzLl9lbmFibGVkPSEwKSxhd2FpdCBrdCh0aGlzLEguTkVFRF9FTkFCTEVfVFJBQ0ssdGhpcyksXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RW5hYmxlZCB0byBcIikuY29uY2F0KHQsXCIgc3VjY2Vzc1wiKSk7fWNhdGNoKGkpe3Rocm93IG58fCh0aGlzLl9lbmFibGVkPSExKSxfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RW5hYmxlZCB0byB0cnVlIGVycm9yXCIpLGkudG9TdHJpbmcoKSksaX19ZWxzZSB7dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5lbmFibGVkPSExLG58fCh0aGlzLl9lbmFibGVkPSExKTt0cnl7YXdhaXQga3QodGhpcyxILk5FRURfRElTQUJMRV9UUkFDSyx0aGlzKTt9Y2F0Y2goaSl7dGhyb3cgbnx8KHRoaXMuX2VuYWJsZWQ9ITApLF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXRFbmFibGVkIHRvIGZhbHNlIGVycm9yXCIpLGkudG9TdHJpbmcoKSksaX19fWFzeW5jIHNldE11dGVkKHQpe3QhPT10aGlzLl9tdXRlZCYmKHRoaXMuc3RhdGVDaGVjayhcIm11dGVkXCIsdCksdGhpcy5fbXV0ZWQ9dCx0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWQ9IXQsXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHN0YXJ0IHNldCBtdXRlZDogXCIpLmNvbmNhdCh0KSksdD9hd2FpdCBrdCh0aGlzLEguTkVFRF9NVVRFX1RSQUNLLHRoaXMpOmF3YWl0IGt0KHRoaXMsSC5ORUVEX1VOTVVURV9UUkFDSyx0aGlzKSk7fWdldFN0YXRzKCl7cmV0dXJuIHBvKCgpPT57Xy53YXJuaW5nKFwiW2RlcHJlY2F0ZWRdIExvY2FsQXVkaW9UcmFjay5nZXRTdGF0cyB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZSwgdXNlIEFnb3JhUlRDQ2xpZW50LmdldExvY2FsQXVkaW9TdGF0cyBpbnN0ZWFkXCIpO30sXCJsb2NhbEF1ZGlvVHJhY2tHZXRTdGF0c1dhcm5pbmdcIiksbmkodGhpcyxILkdFVF9TVEFUUyl8fEt0KHt9LEtFKX1zZXRBdWRpb0ZyYW1lQ2FsbGJhY2sodCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOjQwOTY7aWYoIXQpcmV0dXJuIHRoaXMuX3NvdXJjZS5yZW1vdmVBbGxMaXN0ZW5lcnMoam4uT05fQVVESU9fQlVGRkVSKSx2b2lkIHRoaXMuX3NvdXJjZS5zdG9wR2V0QXVkaW9CdWZmZXIoKTt0aGlzLl9zb3VyY2Uuc3RhcnRHZXRBdWRpb0J1ZmZlcihlKSx0aGlzLl9zb3VyY2UucmVtb3ZlQWxsTGlzdGVuZXJzKGpuLk9OX0FVRElPX0JVRkZFUiksdGhpcy5fc291cmNlLm9uKGpuLk9OX0FVRElPX0JVRkZFUixuPT50KG4pKTt9cGxheSgpe18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzdGFydCBhdWRpbyBwbGF5YmFja1wiKSksdGhpcy5fdXNlQXVkaW9FbGVtZW50PyhfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc3RhcnQgYXVkaW8gcGxheWJhY2sgaW4gZWxlbWVudFwiKSksRW4ucGxheSh0aGlzLl9tZWRpYVN0cmVhbVRyYWNrLHRoaXMuZ2V0VHJhY2tJZCgpLHRoaXMuX3ZvbHVtZSkpOnRoaXMuX3NvdXJjZS5wbGF5KCk7fXN0b3AoKXtfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc3RvcCBhdWRpbyBwbGF5YmFja1wiKSksdGhpcy5fdXNlQXVkaW9FbGVtZW50P0VuLnN0b3AodGhpcy5nZXRUcmFja0lkKCkpOnRoaXMuX3NvdXJjZS5zdG9wKCk7fWNsb3NlKCl7c3VwZXIuY2xvc2UoKSx0aGlzLl9wcm9jZXNzb3JEZXN0aW5hdGlvbiYmdGhpcy51bmJpbmRQcm9jZXNzb3JEZXN0aW5hdGlvbkV2ZW50cyh0aGlzLl9wcm9jZXNzb3JEZXN0aW5hdGlvbiksdGhpcy5fcHJvY2Vzc29yQ29udGV4dCYmdGhpcy51bmJpbmRQcm9jZXNzb3JDb250ZXh0RXZlbnRzKHRoaXMuX3Byb2Nlc3NvckNvbnRleHQpLHRoaXMudW5waXBlKCksdGhpcy5fcHJvY2Vzc29yRGVzdGluYXRpb24mJnRoaXMuX3Byb2Nlc3NvckRlc3RpbmF0aW9uLl9zb3VyY2UmJnRoaXMuX3Byb2Nlc3NvckRlc3RpbmF0aW9uLl9zb3VyY2UudW5waXBlKCksdGhpcy5fc291cmNlLmRlc3Ryb3koKTt9X3VwZGF0ZVBsYXllclNvdXJjZSgpe2xldCB0PSEoYXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT12b2lkIDApfHxhcmd1bWVudHNbMF07Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHVwZGF0ZSBwbGF5ZXIgc291cmNlIHRyYWNrXCIpKSx0JiZ0aGlzLl9zb3VyY2UudXBkYXRlVHJhY2sodGhpcy5fbWVkaWFTdHJlYW1UcmFjayksdGhpcy5fdXNlQXVkaW9FbGVtZW50JiZFbi51cGRhdGVUcmFjayh0aGlzLmdldFRyYWNrSWQoKSx0aGlzLl9tZWRpYVN0cmVhbVRyYWNrKTt9YXN5bmMgX3VwZGF0ZU9yaWdpbk1lZGlhU3RyZWFtVHJhY2sodCxlKXt0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrIT09dCYmKHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2smJih0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLHRoaXMuX2hhbmRsZVRyYWNrRW5kZWQpLGUmJnRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suc3RvcCgpKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLHRoaXMuX2hhbmRsZVRyYWNrRW5kZWQpLHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2s9dCx0aGlzLl9tdXRlZCYmKHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suZW5hYmxlZD0hMSksdGhpcy5wcm9jZXNzb3ImJnRoaXMuX3Byb2Nlc3NvckNvbnRleHQmJnRoaXMucHJvY2Vzc29yLnVwZGF0ZUlucHV0KHt0cmFjazp0LGNvbnRleHQ6dGhpcy5fcHJvY2Vzc29yQ29udGV4dH0pLHRoaXMuX21lZGlhU3RyZWFtVHJhY2shPT10aGlzLl9zb3VyY2Uub3V0cHV0VHJhY2s/KHRoaXMuX21lZGlhU3RyZWFtVHJhY2s9dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayx0aGlzLl91cGRhdGVQbGF5ZXJTb3VyY2UoKSxhd2FpdCBrdCh0aGlzLEguTkVFRF9SRVBMQUNFX1RSQUNLLHRoaXMpKTp0aGlzLl9zb3VyY2UudXBkYXRlVHJhY2sodGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayksdGhpcy5fZ2V0T3JpZ2luVm9sdW1lTGV2ZWwmJnRoaXMuX3NvdXJjZS51cGRhdGVPcmlnaW5UcmFjayh0KSk7fXJlbmV3TWVkaWFTdHJlYW1UcmFjayh0KXtyZXR1cm4gai5yZXNvbHZlKHZvaWQgMCl9cGlwZSh0KXtpZih0aGlzLl9ieXBhc3NXZWJBdWRpbyl0aHJvdyBuZXcgTihSLklOVkFMSURfT1BFUkFUSU9OLFwiQ2FuIG5vdCBwcm9jZXNzIEF1ZGlvVHJhY2sgd2hlbiBieXBhc3NXZWJBdWRpbyBzZXQgdG8gdHJ1ZS5cIik7aWYodGhpcy5wcm9jZXNzb3I9PT10KXJldHVybiB0O2lmKHQuX3NvdXJjZSl0aHJvdyBuZXcgTihSLklOVkFMSURfT1BFUkFUSU9OLFwiUHJvY2Vzc29yIFwiLmNvbmNhdCh0Lm5hbWUsXCIgYWxyZWFkeSBwaXBlZCwgcGxlYXNlIGNhbGwgdW5waXBlIGJlZm9yZWhhbmQuXCIpKTtyZXR1cm4gdGhpcy51bnBpcGUoKSx0aGlzLnByb2Nlc3Nvcj10LHRoaXMucHJvY2Vzc29yLl9zb3VyY2U9dGhpcyx0LnVwZGF0ZUlucHV0KHt0cmFjazp0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLG5vZGU6dGhpcy5fc291cmNlLnByb2Nlc3NTb3VyY2VOb2RlLGNvbnRleHQ6dGhpcy5wcm9jZXNzb3JDb250ZXh0fSksdH11bnBpcGUoKXt2YXIgdDtpZighdGhpcy5wcm9jZXNzb3IpcmV0dXJuO2xldCBlPXRoaXMucHJvY2Vzc29yOyh0PXRoaXMuX3NvdXJjZS5wcm9jZXNzU291cmNlTm9kZSk9PT1udWxsfHx0PT09dm9pZCAwfHx0LmRpc2Nvbm5lY3QoKSx0aGlzLnByb2Nlc3Nvci5fc291cmNlPSExLHRoaXMucHJvY2Vzc29yPXZvaWQgMCxlLnJlc2V0KCk7fWJpbmRQcm9jZXNzb3JEZXN0aW5hdGlvbkV2ZW50cyh0KXt0Lm9uKHVuLk9OX1RSQUNLLGFzeW5jIGU9PntlP2UhPT10aGlzLl9tZWRpYVN0cmVhbVRyYWNrJiYodGhpcy5fbWVkaWFTdHJlYW1UcmFjaz1lLHRoaXMuX3VwZGF0ZVBsYXllclNvdXJjZSghMSksdGhpcy5fc291cmNlLnByb2Nlc3NlZE5vZGU9dGhpcy5fc291cmNlLmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlTm9kZShlKSxhd2FpdCBrdCh0aGlzLEguTkVFRF9SRVBMQUNFX1RSQUNLLHRoaXMpKTp0aGlzLl9tZWRpYVN0cmVhbVRyYWNrIT09dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayYmKHRoaXMuX21lZGlhU3RyZWFtVHJhY2s9dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayx0aGlzLl91cGRhdGVQbGF5ZXJTb3VyY2UoKSxhd2FpdCBrdCh0aGlzLEguTkVFRF9SRVBMQUNFX1RSQUNLLHRoaXMpKTt9KSx0Lm9uKHVuLk9OX05PREUsZT0+e3RoaXMuX3NvdXJjZS5wcm9jZXNzZWROb2RlPWU7fSk7fXVuYmluZFByb2Nlc3NvckRlc3RpbmF0aW9uRXZlbnRzKHQpe3QucmVtb3ZlQWxsTGlzdGVuZXJzKHVuLk9OX1RSQUNLKSx0LnJlbW92ZUFsbExpc3RlbmVycyh1bi5PTl9OT0RFKTt9YmluZFByb2Nlc3NvckNvbnRleHRFdmVudHModCl7dC5vbihXbi5SRVFVRVNUX0NPTlNUUkFJTlRTLGFzeW5jIGU9PntlKHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suZ2V0U2V0dGluZ3MoKSk7fSk7fXVuYmluZFByb2Nlc3NvckNvbnRleHRFdmVudHModCl7dC5yZW1vdmVBbGxMaXN0ZW5lcnMoV24uUkVRVUVTVF9DT05TVFJBSU5UUyk7fWluaXRXZWJBdWRpbygpe3JldHVybiB0aGlzLl90cmFja1NvdXJjZSBpbnN0YW5jZW9mIFBjJiYodGhpcy5fdHJhY2tTb3VyY2U9bmV3ICRsKHRoaXMuX21lZGlhU3RyZWFtVHJhY2ssITEsdGhpcy5fZ2V0T3JpZ2luVm9sdW1lTGV2ZWw/dGhpcy5fbWVkaWFTdHJlYW1UcmFjazp2b2lkIDApKSx0aGlzLl90cmFja1NvdXJjZX1pbml0UHJvY2Vzc29yKCl7bGV0IHQ9bmV3IGl1KHRoaXMuX3NvdXJjZS5jb250ZXh0LHRoaXMuZ2V0VHJhY2tJZCgpLFwibG9jYWxcIiksZT1uZXcgbnUodCk7cmV0dXJuIHRoaXMuX3Byb2Nlc3NvckNvbnRleHQ9dCx0aGlzLl9wcm9jZXNzb3JEZXN0aW5hdGlvbj1lLHRoaXMuYmluZFByb2Nlc3NvckNvbnRleHRFdmVudHModCksdGhpcy5iaW5kUHJvY2Vzc29yRGVzdGluYXRpb25FdmVudHMoZSksdGhpcy5fc291cmNlLm9uKGpuLlVQREFURV9TT1VSQ0UsKCk9Pnt0aGlzLnByb2Nlc3NvciYmdGhpcy5wcm9jZXNzb3IudXBkYXRlSW5wdXQoe25vZGU6dGhpcy5fc291cmNlLnByb2Nlc3NTb3VyY2VOb2RlLGNvbnRleHQ6dH0pO30pLHRoaXMuX3VzZUF1ZGlvRWxlbWVudCYmKHRoaXMuX3VzZUF1ZGlvRWxlbWVudD0hMSx0aGlzLmlzUGxheWluZyYmKEVuLnN0b3AodGhpcy5nZXRUcmFja0lkKCkpLHRoaXMuX3NvdXJjZS5wbGF5KCkpLGt0KHRoaXMsSC5ORUVEX1JFUExBQ0VfTUlYSU5HX1RSQUNLLHRoaXMpLnRoZW4oKCk9PntfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gcmVwbGFjZSBmcm9tIG9yaWdpbiB0cmFjayB0byB3ZWIgYXVkaW8gdHJhY2sgc3VjY2Vzc1wiKSk7fSkuY2F0Y2gobj0+e18ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHJlcGxhY2UgZnJvbSBvcmlnaW4gdHJhY2sgdG8gd2ViIGF1ZGlvIHRyYWNrIGZhaWxlZFwiKSxuKTt9KSkse3Byb2Nlc3NvckNvbnRleHQ6dCxwcm9jZXNzb3JEZXN0aW5hdGlvbjplfX19KS5wcm90b3R5cGUsXCJzZXRWb2x1bWVcIixbZ0NdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoWXQucHJvdG90eXBlLFwic2V0Vm9sdW1lXCIpLFl0LnByb3RvdHlwZSksRXQoWXQucHJvdG90eXBlLFwic2V0UGxheWJhY2tEZXZpY2VcIixbVEMsU0NdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoWXQucHJvdG90eXBlLFwic2V0UGxheWJhY2tEZXZpY2VcIiksWXQucHJvdG90eXBlKSxFdChZdC5wcm90b3R5cGUsXCJzZXRFbmFibGVkXCIsW1JDLENDLElDXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFl0LnByb3RvdHlwZSxcInNldEVuYWJsZWRcIiksWXQucHJvdG90eXBlKSxFdChZdC5wcm90b3R5cGUsXCJzZXRNdXRlZFwiLFt2Qyx5QyxBQ10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihZdC5wcm90b3R5cGUsXCJzZXRNdXRlZFwiKSxZdC5wcm90b3R5cGUpLEV0KFl0LnByb3RvdHlwZSxcImdldFN0YXRzXCIsW2JDXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFl0LnByb3RvdHlwZSxcImdldFN0YXRzXCIpLFl0LnByb3RvdHlwZSksRXQoWXQucHJvdG90eXBlLFwic2V0QXVkaW9GcmFtZUNhbGxiYWNrXCIsW3dDXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFl0LnByb3RvdHlwZSxcInNldEF1ZGlvRnJhbWVDYWxsYmFja1wiKSxZdC5wcm90b3R5cGUpLEV0KFl0LnByb3RvdHlwZSxcInBsYXlcIixbT0MsTkNdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoWXQucHJvdG90eXBlLFwicGxheVwiKSxZdC5wcm90b3R5cGUpLEV0KFl0LnByb3RvdHlwZSxcInN0b3BcIixbREMsUENdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoWXQucHJvdG90eXBlLFwic3RvcFwiKSxZdC5wcm90b3R5cGUpLEV0KFl0LnByb3RvdHlwZSxcImNsb3NlXCIsW2tDXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFl0LnByb3RvdHlwZSxcImNsb3NlXCIpLFl0LnByb3RvdHlwZSksRXQoWXQucHJvdG90eXBlLFwicGlwZVwiLFtMQ10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihZdC5wcm90b3R5cGUsXCJwaXBlXCIpLFl0LnByb3RvdHlwZSksRXQoWXQucHJvdG90eXBlLFwidW5waXBlXCIsW01DXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFl0LnByb3RvdHlwZSxcInVucGlwZVwiKSxZdC5wcm90b3R5cGUpLFl0KSxvdT0oVUM9JCh7YXJnc01hcDoodCxlKT0+W3QuZ2V0VHJhY2tJZCgpLGVdfSkseEM9c2UoKSxWQz0kcyhcIk1pY3JvcGhvbmVBdWRpb1RyYWNrXCIsXCJfZW5hYmxlZE11dGV4XCIpLEZDPSQoe2FyZ3NNYXA6KHQsZSxuKT0+W3QuZ2V0VHJhY2tJZCgpLGUsbl19KSxCQz1zZSgpLGpDPSQoe2FyZ3NNYXA6dD0+W3QuZ2V0VHJhY2tJZCgpXX0pLEV0KChKaT1jbGFzcyBleHRlbmRzIFF0e2dldCBfX2NsYXNzTmFtZV9fKCl7cmV0dXJuIFwiTWljcm9waG9uZUF1ZGlvVHJhY2tcIn1jb25zdHJ1Y3Rvcih0LGUsbixpKXtzdXBlcih0LGUuZW5jb2RlckNvbmZpZz9KbChlLmVuY29kZXJDb25maWcpOnt9LGksdihcIkdFVF9WT0xVTUVfT0ZfTVVURURfQVVESU9fVFJBQ0tcIikpLFAodGhpcyxcIl9jb25maWdcIix2b2lkIDApLFAodGhpcyxcIl9kZXZpY2VOYW1lXCIsXCJkZWZhdWx0XCIpLFAodGhpcyxcIl9jb25zdHJhaW50c1wiLHZvaWQgMCksUCh0aGlzLFwiX29yaWdpbmFsQ29uc3RyYWludHNcIix2b2lkIDApLFAodGhpcyxcIl9lbmFibGVkXCIsITApLHRoaXMuX2NvbmZpZz1lLHRoaXMuX2NvbnN0cmFpbnRzPW4sdGhpcy5fb3JpZ2luYWxDb25zdHJhaW50cz1uLHRoaXMuX2RldmljZU5hbWU9dC5sYWJlbCx0eXBlb2YgZS5ieXBhc3NXZWJBdWRpbz09XCJib29sZWFuXCImJih0aGlzLl9ieXBhc3NXZWJBdWRpbz1lLmJ5cGFzc1dlYkF1ZGlvKSwoWnMoKXx8TkUoKSkmJnd0LmJpbmRJbnRlcnJ1cHREZXRlY3RvclRyYWNrKHRoaXMpO31hc3luYyBzZXREZXZpY2UodCl7aWYoXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc3RhcnQgc2V0IGRldmljZSB0byBcIikuY29uY2F0KHQpKSx0aGlzLl9lbmFibGVkKXRyeXtsZXQgZT1hd2FpdCBHbi5nZXREZXZpY2VCeUlkKHQpLG49e307bi5hdWRpbz1LdCh7fSx0aGlzLl9jb25zdHJhaW50cyksbi5hdWRpby5kZXZpY2VJZD17ZXhhY3Q6dH0sdGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5zdG9wKCk7bGV0IGk9bnVsbDt0cnl7aT1hd2FpdCBGbihuLHRoaXMuZ2V0VHJhY2tJZCgpKTt9Y2F0Y2gocil7dGhyb3cgXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldERldmljZSBmYWlsZWRcIiksci50b1N0cmluZygpKSxpPWF3YWl0IEZuKHthdWRpbzp0aGlzLl9jb25zdHJhaW50c30sdGhpcy5nZXRUcmFja0lkKCkpLGF3YWl0IHRoaXMuX3VwZGF0ZU9yaWdpbk1lZGlhU3RyZWFtVHJhY2soaS5nZXRBdWRpb1RyYWNrcygpWzBdLCExKSxyfWF3YWl0IHRoaXMuX3VwZGF0ZU9yaWdpbk1lZGlhU3RyZWFtVHJhY2soaS5nZXRBdWRpb1RyYWNrcygpWzBdLCExKSx0aGlzLl9kZXZpY2VOYW1lPWUubGFiZWwsdGhpcy5fY29uZmlnLm1pY3JvcGhvbmVJZD10LHRoaXMuX2NvbnN0cmFpbnRzLmRldmljZUlkPXtleGFjdDp0fTt9Y2F0Y2goZSl7dGhyb3cgXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldERldmljZSBlcnJvclwiKSxlLnRvU3RyaW5nKCkpLGV9ZWxzZSB0cnl7bGV0IGU9YXdhaXQgR24uZ2V0RGV2aWNlQnlJZCh0KTt0aGlzLl9kZXZpY2VOYW1lPWUubGFiZWwsdGhpcy5fY29uZmlnLm1pY3JvcGhvbmVJZD10LHRoaXMuX2NvbnN0cmFpbnRzLmRldmljZUlkPXtleGFjdDp0fTt9Y2F0Y2goZSl7dGhyb3cgXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldERldmljZSBlcnJvclwiKSxlLnRvU3RyaW5nKCkpLGV9Xy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0IGRldmljZSB0byBcIikuY29uY2F0KHQsXCIgc3VjY2Vzc1wiKSk7fWFzeW5jIHNldEVuYWJsZWQodCxlLG4pe2lmKGUpcmV0dXJuIF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXRFbmFibGVkIGZhbHNlIChkbyBub3QgY2xvc2UgbWljcm9waG9uZSlcIikpLGF3YWl0IHN1cGVyLl9zZXRFbmFibGVkKHQpO2lmKCFuKXtpZih0PT09dGhpcy5fZW5hYmxlZClyZXR1cm47dGhpcy5zdGF0ZUNoZWNrKFwiZW5hYmxlZFwiLHQpO31pZihfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzdGFydCBzZXRFbmFibGVkXCIpLHQpLHYoXCJBVVRPX1JFU0VUX0FVRElPX1JPVVRFXCIpJiYobG4oKXx8dmkoKSkpe2xldCBzPW5hdmlnYXRvci5hdWRpb1Nlc3Npb247cyYmKHR8fChzLnR5cGU9XCJwbGF5YmFja1wiKSxzLnR5cGU9XCJhdXRvXCIpO31pZighdCl7dmFyIGk7dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5vbmVuZGVkPW51bGwsdGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5zdG9wKCksKGk9dGhpcy5fc291cmNlLmNsb25lZFRyYWNrKT09PW51bGx8fGk9PT12b2lkIDB8fGkuc3RvcCgpLG58fCh0aGlzLl9lbmFibGVkPSExKTt0cnl7YXdhaXQga3QodGhpcyxILk5FRURfRElTQUJMRV9UUkFDSyx0aGlzKTt9Y2F0Y2gocyl7dGhyb3cgXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuYWJsZWQgZmFsc2UgZmFpbGVkXCIpLHMudG9TdHJpbmcoKSksc31yZXR1cm59bGV0IHI9S3Qoe30sdGhpcy5fY29uc3RyYWludHMpLG89R24uc2VhcmNoRGV2aWNlSWRCeU5hbWUodGhpcy5fZGV2aWNlTmFtZSk7byYmIXIuZGV2aWNlSWQmJihyLmRldmljZUlkPW8pO3RyeXtufHwodGhpcy5fZW5hYmxlZD0hMCk7bGV0IHM9YXdhaXQgRm4oe2F1ZGlvOnRoaXMuX2NvbnN0cmFpbnRzfSx0aGlzLmdldFRyYWNrSWQoKSk7YXdhaXQgdGhpcy5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhzLmdldEF1ZGlvVHJhY2tzKClbMF0sITEpLGF3YWl0IGt0KHRoaXMsSC5ORUVEX0VOQUJMRV9UUkFDSyx0aGlzKTt9Y2F0Y2gocyl7dGhyb3cgbnx8KHRoaXMuX2VuYWJsZWQ9ITEpLF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXRFbmFibGVkIHRydWUgZmFpbGVkXCIpLHMudG9TdHJpbmcoKSksc31fLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXRFbmFibGVkIHN1Y2Nlc3NcIikpO31jbG9zZSgpe3N1cGVyLmNsb3NlKCksKFpzKCl8fE5FKCkpJiZ3dC51bmJpbmRJbnRlcnJ1cHREZXRlY3RvclRyYWNrKHRoaXMpO31vblRyYWNrRW5kZWQoKXtpZigobG4oKXx8dmkoKSkmJnRoaXMuX2VuYWJsZWQmJiF0aGlzLl9pc0Nsb3NlZCYmd3QuZHVyaW5nSW50ZXJydXB0aW9uKXtsZXQgdD1hc3luYygpPT57d3Qub2ZmKGtlLklPU19JTlRFUlJVUFRJT05fRU5ELHQpLHRoaXMuX2VuYWJsZWQmJiF0aGlzLl9pc0Nsb3NlZCYmKF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSB0cnkgY2FwdHVyZSBtaWNyb3Bob25lIG1lZGlhIGRldmljZSBmb3IgaW50ZXJydXB0ZWQgaU9TIGRldmljZS5cIikpLGF3YWl0IHRoaXMuc2V0RW5hYmxlZCghMSksYXdhaXQgdGhpcy5zZXRFbmFibGVkKCEwKSk7fTt3dC5vbihrZS5JT1NfSU5URVJSVVBUSU9OX0VORCx0KTt9ZWxzZSBfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gdHJhY2sgZW5kZWRcIikpLHRoaXMuc2FmZUVtaXQobWEuVFJBQ0tfRU5ERUQpO31hc3luYyByZW5ld01lZGlhU3RyZWFtVHJhY2sodCl7bGV0IGU9dHx8dGhpcy5fY29uc3RyYWludHMsbj1Hbi5zZWFyY2hEZXZpY2VJZEJ5TmFtZSh0aGlzLl9kZXZpY2VOYW1lKTtpZihuJiYhZS5kZXZpY2VJZCYmKGUuZGV2aWNlSWQ9biksdGhpcy5fY29uc3RyYWludHM9ZSx0aGlzLl9lbmFibGVkKXt0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLnN0b3AoKTtsZXQgaT1hd2FpdCBGbih7YXVkaW86dGhpcy5fY29uc3RyYWludHN9LHRoaXMuZ2V0VHJhY2tJZCgpKTthd2FpdCB0aGlzLl91cGRhdGVPcmlnaW5NZWRpYVN0cmVhbVRyYWNrKGkuZ2V0QXVkaW9UcmFja3MoKVswXSwhMCk7fX1iaW5kUHJvY2Vzc29yQ29udGV4dEV2ZW50cyh0KXtzdXBlci5iaW5kUHJvY2Vzc29yQ29udGV4dEV2ZW50cyh0KSx0Lm9uKFduLlJFUVVFU1RfVVBEQVRFX0NPTlNUUkFJTlRTLGFzeW5jKGUsbixpKT0+e3RyeXtsZXQgcj1PYmplY3QuYXNzaWduKHt9LHRoaXMuX29yaWdpbmFsQ29uc3RyYWludHMsLi4uZSk7YXdhaXQgdGhpcy5yZW5ld01lZGlhU3RyZWFtVHJhY2sociksbigpO31jYXRjaChyKXtpKHIpO319KTt9dW5iaW5kUHJvY2Vzc29yQ29udGV4dEV2ZW50cyh0KXtzdXBlci51bmJpbmRQcm9jZXNzb3JDb250ZXh0RXZlbnRzKHQpLHQucmVtb3ZlQWxsTGlzdGVuZXJzKFduLlJFUVVFU1RfVVBEQVRFX0NPTlNUUkFJTlRTKTt9fSkucHJvdG90eXBlLFwic2V0RGV2aWNlXCIsW1VDLHhDXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEppLnByb3RvdHlwZSxcInNldERldmljZVwiKSxKaS5wcm90b3R5cGUpLEV0KEppLnByb3RvdHlwZSxcInNldEVuYWJsZWRcIixbVkMsRkMsQkNdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoSmkucHJvdG90eXBlLFwic2V0RW5hYmxlZFwiKSxKaS5wcm90b3R5cGUpLEV0KEppLnByb3RvdHlwZSxcImNsb3NlXCIsW2pDXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEppLnByb3RvdHlwZSxcImNsb3NlXCIpLEppLnByb3RvdHlwZSksSmkpLFZHPShHQz0kKHthcmdzTWFwOih0LGUpPT5bdC5nZXRUcmFja0lkKCksZSx0LmR1cmF0aW9uXX0pLFdDPXNlKCksSEM9JCh7YXJnc01hcDp0PT5bdC5nZXRUcmFja0lkKCldfSksS0M9c2UoKSxZQz0kKHthcmdzTWFwOnQ9Plt0LmdldFRyYWNrSWQoKV19KSxxQz1zZSgpLHpDPSQoe2FyZ3NNYXA6dD0+W3QuZ2V0VHJhY2tJZCgpXX0pLEpDPXNlKCksWEM9JCh7YXJnc01hcDp0PT5bdC5nZXRUcmFja0lkKCldfSksUUM9c2UoKSxaQz0kKHthcmdzTWFwOnQ9Plt0LmdldFRyYWNrSWQoKV19KSwkQz0kKHthcmdzTWFwOnQ9Plt0LmdldFRyYWNrSWQoKV19KSx0ST1zZSgpLEV0KChVZT1jbGFzcyBleHRlbmRzIFF0e2dldCBfX2NsYXNzTmFtZV9fKCl7cmV0dXJuIFwiQnVmZmVyU291cmNlQXVkaW9UcmFja1wifWNvbnN0cnVjdG9yKHQsZSxuLGkpe3N1cGVyKGUuY3JlYXRlT3V0cHV0VHJhY2soKSxuLGkpLFAodGhpcyxcInNvdXJjZVwiLHZvaWQgMCksUCh0aGlzLFwiX2J1ZmZlclNvdXJjZVwiLHZvaWQgMCksdGhpcy5fdXNlQXVkaW9FbGVtZW50PSExLHRoaXMuc291cmNlPXQsdGhpcy5fYnVmZmVyU291cmNlPWUsdGhpcy5fYnVmZmVyU291cmNlLm9uKGpuLkFVRElPX1NPVVJDRV9TVEFURV9DSEFOR0Uscj0+e3RoaXMuc2FmZUVtaXQobWEuU09VUkNFX1NUQVRFX0NIQU5HRSxyKTt9KTt0cnl7dGhpcy5fbWVkaWFTdHJlYW1UcmFjaz10aGlzLl9zb3VyY2UuY3JlYXRlT3V0cHV0VHJhY2soKTt9Y2F0Y2h7fX1nZXQgY3VycmVudFN0YXRlKCl7cmV0dXJuIHRoaXMuX2J1ZmZlclNvdXJjZS5jdXJyZW50U3RhdGV9Z2V0IGR1cmF0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZmZlclNvdXJjZS5kdXJhdGlvbn1nZXQgcGxheWJhY2tTcGVlZCgpe3JldHVybiB0aGlzLl9idWZmZXJTb3VyY2UucGxheWJhY2tTcGVlZH1nZXRDdXJyZW50VGltZSgpe3JldHVybiB0aGlzLl9idWZmZXJTb3VyY2UuY3VycmVudFRpbWV9c3RhcnRQcm9jZXNzQXVkaW9CdWZmZXIodCl7dCYmdGhpcy5fYnVmZmVyU291cmNlLnVwZGF0ZU9wdGlvbnModCksdGhpcy5fYnVmZmVyU291cmNlLnN0YXJ0UHJvY2Vzc0F1ZGlvQnVmZmVyKCk7fXBhdXNlUHJvY2Vzc0F1ZGlvQnVmZmVyKCl7dGhpcy5fYnVmZmVyU291cmNlLnBhdXNlUHJvY2Vzc0F1ZGlvQnVmZmVyKCk7fXNlZWtBdWRpb0J1ZmZlcih0KXt0aGlzLl9idWZmZXJTb3VyY2Uuc2Vla0F1ZGlvQnVmZmVyKHQpO31yZXN1bWVQcm9jZXNzQXVkaW9CdWZmZXIoKXt0aGlzLl9idWZmZXJTb3VyY2UucmVzdW1lUHJvY2Vzc0F1ZGlvQnVmZmVyKCk7fXN0b3BQcm9jZXNzQXVkaW9CdWZmZXIoKXt0aGlzLl9idWZmZXJTb3VyY2Uuc3RvcFByb2Nlc3NBdWRpb0J1ZmZlcigpO31jbG9zZSgpe3RoaXMuc291cmNlPW51bGwsdGhpcy5fYnVmZmVyU291cmNlLmRlc3Ryb3koKSxzdXBlci5jbG9zZSgpO31zZXRBdWRpb0J1ZmZlclBsYXliYWNrU3BlZWQodCl7TnQodCxcInNwZWVkXCIsMCksdGhpcy5fYnVmZmVyU291cmNlLnNldEF1ZGlvQnVmZmVyUGxheWJhY2tTcGVlZCh0KTt9fSkucHJvdG90eXBlLFwic3RhcnRQcm9jZXNzQXVkaW9CdWZmZXJcIixbR0MsV0NdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoVWUucHJvdG90eXBlLFwic3RhcnRQcm9jZXNzQXVkaW9CdWZmZXJcIiksVWUucHJvdG90eXBlKSxFdChVZS5wcm90b3R5cGUsXCJwYXVzZVByb2Nlc3NBdWRpb0J1ZmZlclwiLFtIQyxLQ10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihVZS5wcm90b3R5cGUsXCJwYXVzZVByb2Nlc3NBdWRpb0J1ZmZlclwiKSxVZS5wcm90b3R5cGUpLEV0KFVlLnByb3RvdHlwZSxcInNlZWtBdWRpb0J1ZmZlclwiLFtZQyxxQ10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihVZS5wcm90b3R5cGUsXCJzZWVrQXVkaW9CdWZmZXJcIiksVWUucHJvdG90eXBlKSxFdChVZS5wcm90b3R5cGUsXCJyZXN1bWVQcm9jZXNzQXVkaW9CdWZmZXJcIixbekMsSkNdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoVWUucHJvdG90eXBlLFwicmVzdW1lUHJvY2Vzc0F1ZGlvQnVmZmVyXCIpLFVlLnByb3RvdHlwZSksRXQoVWUucHJvdG90eXBlLFwic3RvcFByb2Nlc3NBdWRpb0J1ZmZlclwiLFtYQyxRQ10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihVZS5wcm90b3R5cGUsXCJzdG9wUHJvY2Vzc0F1ZGlvQnVmZmVyXCIpLFVlLnByb3RvdHlwZSksRXQoVWUucHJvdG90eXBlLFwiY2xvc2VcIixbWkNdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoVWUucHJvdG90eXBlLFwiY2xvc2VcIiksVWUucHJvdG90eXBlKSxFdChVZS5wcm90b3R5cGUsXCJzZXRBdWRpb0J1ZmZlclBsYXliYWNrU3BlZWRcIixbJEMsdEldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoVWUucHJvdG90eXBlLFwic2V0QXVkaW9CdWZmZXJQbGF5YmFja1NwZWVkXCIpLFVlLnByb3RvdHlwZSksVWUpLGdlPWNsYXNzIHQgZXh0ZW5kcyBRdHtnZXQgX19jbGFzc05hbWVfXygpe3JldHVybiBcIk1peGluZ0F1ZGlvVHJhY2tcIn1nZXQgaXNBY3RpdmUoKXtmb3IobGV0IGUgb2YgdGhpcy50cmFja0xpc3QpaWYoZS5fZW5hYmxlZCYmIWUuX2lzQ2xvc2VkJiYhZS5tdXRlZClyZXR1cm4gITA7cmV0dXJuICExfWNvbnN0cnVjdG9yKCl7bGV0IGU9Z2EoKS5jcmVhdGVNZWRpYVN0cmVhbURlc3RpbmF0aW9uKCk7c3VwZXIoZS5zdHJlYW0uZ2V0QXVkaW9UcmFja3MoKVswXSx2b2lkIDAsVXQoOCxcInRyYWNrLW1peC1cIikpLFAodGhpcyxcInRyYWNrTGlzdFwiLHZvaWQgMCksUCh0aGlzLFwiZGVzdE5vZGVcIix2b2lkIDApLHRoaXMuX3VzZUF1ZGlvRWxlbWVudD0hMTt0cnl7dGhpcy5fbWVkaWFTdHJlYW1UcmFjaz10aGlzLl9zb3VyY2UuY3JlYXRlT3V0cHV0VHJhY2soKTt9Y2F0Y2h7fXRoaXMuZGVzdE5vZGU9ZSx0aGlzLnRyYWNrTGlzdD1bXTt9aGFzQXVkaW9UcmFjayhlKXtyZXR1cm4gdGhpcy50cmFja0xpc3QuaW5kZXhPZihlKSE9PS0xfWFkZEF1ZGlvVHJhY2soZSl7dGhpcy50cmFja0xpc3QuaW5kZXhPZihlKT09PS0xPyhfLmRlYnVnKFwiYWRkIFwiLmNvbmNhdChlLmdldFRyYWNrSWQoKSxcIiB0byBtaXhpbmcgdHJhY2tcIikpLGUuX3NvdXJjZS5vdXRwdXROb2RlLmNvbm5lY3QodGhpcy5kZXN0Tm9kZSksdGhpcy50cmFja0xpc3QucHVzaChlKSx0aGlzLnVwZGF0ZUVuY29kZXJDb25maWcoKSk6Xy5kZWJ1ZyhcInRyYWNrIFwiLmNvbmNhdChlLmdldFRyYWNrSWQoKSxcIiBpcyBhbHJlYWR5IGFkZGVkXCIpKTt9cmVtb3ZlQXVkaW9UcmFjayhlKXtpZih0aGlzLnRyYWNrTGlzdC5pbmRleE9mKGUpIT09LTEpe18uZGVidWcoXCJyZW1vdmUgXCIuY29uY2F0KGUuZ2V0VHJhY2tJZCgpLFwiIGZyb20gbWl4aW5nIHRyYWNrXCIpKTt0cnl7ZS5fc291cmNlLm91dHB1dE5vZGUuZGlzY29ubmVjdCh0aGlzLmRlc3ROb2RlKTt9Y2F0Y2h7fVdsKHRoaXMudHJhY2tMaXN0LGUpLHRoaXMudXBkYXRlRW5jb2RlckNvbmZpZygpO319dXBkYXRlRW5jb2RlckNvbmZpZygpe2xldCBlPXt9O3RoaXMudHJhY2tMaXN0LmZvckVhY2gobj0+e24uX2VuY29kZXJDb25maWcmJigobi5fZW5jb2RlckNvbmZpZy5iaXRyYXRlfHwwKT4oZS5iaXRyYXRlfHwwKSYmKGUuYml0cmF0ZT1uLl9lbmNvZGVyQ29uZmlnLmJpdHJhdGUpLChuLl9lbmNvZGVyQ29uZmlnLnNhbXBsZVJhdGV8fDApPihlLnNhbXBsZVJhdGV8fDApJiYoZS5zYW1wbGVSYXRlPW4uX2VuY29kZXJDb25maWcuc2FtcGxlUmF0ZSksKG4uX2VuY29kZXJDb25maWcuc2FtcGxlU2l6ZXx8MCk+KGUuc2FtcGxlU2l6ZXx8MCkmJihlLnNhbXBsZVNpemU9bi5fZW5jb2RlckNvbmZpZy5zYW1wbGVTaXplKSxuLl9lbmNvZGVyQ29uZmlnLnN0ZXJlbyYmKGUuc3RlcmVvPSEwKSk7fSksdGhpcy5fZW5jb2RlckNvbmZpZz1lO31fdXBkYXRlUnRwVHJhbnNjZWl2ZXIoZSl7dGhpcy5fcnRwVHJhbnNjZWl2ZXIhPT1lJiYodGhpcy5fcnRwVHJhbnNjZWl2ZXI9ZSx0aGlzLnRyYWNrTGlzdC5mb3JFYWNoKG49PntuIGluc3RhbmNlb2YgdD9uLmVtaXQoS28uVFJBTlNDRUlWRVJfVVBEQVRFRCxlKTpuLl91cGRhdGVSdHBUcmFuc2NlaXZlcihlKTt9KSk7fX0sSkU9Y2xhc3MgZXh0ZW5kcyBabHtzZXQgY3VycmVudFN0YXRlKGUpe2UhPT10aGlzLl9jdXJyZW50U3RhdGUmJih0aGlzLl9jdXJyZW50U3RhdGU9ZSx0aGlzLnNhZmVFbWl0KGpuLkFVRElPX1NPVVJDRV9TVEFURV9DSEFOR0UsdGhpcy5fY3VycmVudFN0YXRlKSk7fWdldCBjdXJyZW50U3RhdGUoKXtyZXR1cm4gdGhpcy5fY3VycmVudFN0YXRlfWNvbnN0cnVjdG9yKGUpe2xldCBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTp7fTtzdXBlcigpLFAodGhpcyxcImF1ZGlvQnVmZmVyXCIsdm9pZCAwKSxQKHRoaXMsXCJzb3VyY2VOb2RlXCIsdm9pZCAwKSxQKHRoaXMsXCJzdGFydFBsYXlUaW1lXCIsMCksUCh0aGlzLFwic3RhcnRQbGF5T2Zmc2V0XCIsMCksUCh0aGlzLFwicGF1c2VQbGF5VGltZVwiLDApLFAodGhpcyxcIm9wdGlvbnNcIix2b2lkIDApLFAodGhpcyxcImN1cnJlbnRMb29wQ291bnRcIiwwKSxQKHRoaXMsXCJjdXJyZW50UGxheWJhY2tTcGVlZFwiLDEwMCksUCh0aGlzLFwiX2N1cnJlbnRTdGF0ZVwiLFwic3RvcHBlZFwiKSx0aGlzLmF1ZGlvQnVmZmVyPWUsdGhpcy5vcHRpb25zPW4sdGhpcy5zdGFydFBsYXlPZmZzZXQ9dGhpcy5vcHRpb25zLnN0YXJ0UGxheVRpbWV8fDA7fWNyZWF0ZVdlYkF1ZGlvRGlhZ3JhbSgpe3JldHVybiB0aGlzLmNvbnRleHQuY3JlYXRlR2FpbigpfWdldCBkdXJhdGlvbigpe3JldHVybiB0aGlzLmF1ZGlvQnVmZmVyP3RoaXMuYXVkaW9CdWZmZXIuZHVyYXRpb246MH1nZXQgcGxheWJhY2tTcGVlZCgpe3JldHVybiB0aGlzLmN1cnJlbnRQbGF5YmFja1NwZWVkfWdldCBjdXJyZW50VGltZSgpe3JldHVybiB0aGlzLmF1ZGlvQnVmZmVyP3RoaXMuY3VycmVudFN0YXRlPT09XCJzdG9wcGVkXCI/MDp0aGlzLmN1cnJlbnRTdGF0ZT09PVwicGF1c2VkXCI/dGhpcy5wYXVzZVBsYXlUaW1lOigodGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lLXRoaXMuc3RhcnRQbGF5VGltZSkqKHRoaXMucGxheWJhY2tTcGVlZC8xMDApK3RoaXMuc3RhcnRQbGF5T2Zmc2V0KSV0aGlzLmF1ZGlvQnVmZmVyLmR1cmF0aW9uOjB9dXBkYXRlT3B0aW9ucyhlKXt0aGlzLmN1cnJlbnRTdGF0ZT09PVwic3RvcHBlZFwiPyh0aGlzLm9wdGlvbnM9ZSx0aGlzLnN0YXJ0UGxheU9mZnNldD10aGlzLm9wdGlvbnMuc3RhcnRQbGF5VGltZXx8MCk6Xy53YXJuaW5nKFwiY2FuIG5vdCBzZXQgYXVkaW8gc291cmNlIG9wdGlvbnNcIik7fXN0YXJ0UHJvY2Vzc0F1ZGlvQnVmZmVyKCl7dGhpcy5zb3VyY2VOb2RlJiZ0aGlzLnN0b3BQcm9jZXNzQXVkaW9CdWZmZXIoKSx0aGlzLnNvdXJjZU5vZGU9dGhpcy5jcmVhdGVTb3VyY2VOb2RlKCksdGhpcy5zdGFydFNvdXJjZU5vZGUoKSx0aGlzLmN1cnJlbnRTdGF0ZT1cInBsYXlpbmdcIjt9cGF1c2VQcm9jZXNzQXVkaW9CdWZmZXIoKXt0aGlzLnNvdXJjZU5vZGUmJnRoaXMuY3VycmVudFN0YXRlPT09XCJwbGF5aW5nXCImJih0aGlzLnBhdXNlUGxheVRpbWU9dGhpcy5jdXJyZW50VGltZSx0aGlzLnNvdXJjZU5vZGUub25lbmRlZD1udWxsLHRoaXMuc291cmNlTm9kZS5zdG9wKCksdGhpcy5zb3VyY2VOb2RlLmJ1ZmZlcj1udWxsLHRoaXMuc291cmNlTm9kZT10aGlzLmNyZWF0ZVNvdXJjZU5vZGUoKSx0aGlzLmN1cnJlbnRTdGF0ZT1cInBhdXNlZFwiKTt9c2Vla0F1ZGlvQnVmZmVyKGUpe3RoaXMuc291cmNlTm9kZSYmKHRoaXMuc291cmNlTm9kZS5vbmVuZGVkPW51bGwsdGhpcy5jdXJyZW50U3RhdGU9PT1cInBsYXlpbmdcIiYmdGhpcy5zb3VyY2VOb2RlLnN0b3AoKSx0aGlzLnNvdXJjZU5vZGU9dGhpcy5jcmVhdGVTb3VyY2VOb2RlKCksdGhpcy5jdXJyZW50U3RhdGU9PT1cInBsYXlpbmdcIj8odGhpcy5zdGFydFBsYXlPZmZzZXQ9ZSx0aGlzLnN0YXJ0U291cmNlTm9kZSgpKTp0aGlzLmN1cnJlbnRTdGF0ZT09PVwicGF1c2VkXCImJih0aGlzLnBhdXNlUGxheVRpbWU9ZSkpO31yZXN1bWVQcm9jZXNzQXVkaW9CdWZmZXIoKXt0aGlzLmN1cnJlbnRTdGF0ZT09PVwicGF1c2VkXCImJnRoaXMuc291cmNlTm9kZSYmKHRoaXMuc3RhcnRQbGF5T2Zmc2V0PXRoaXMucGF1c2VQbGF5VGltZSx0aGlzLnBhdXNlUGxheVRpbWU9MCx0aGlzLnN0YXJ0U291cmNlTm9kZSgpLHRoaXMuY3VycmVudFN0YXRlPVwicGxheWluZ1wiKTt9c3RvcFByb2Nlc3NBdWRpb0J1ZmZlcigpe2lmKHRoaXMuc291cmNlTm9kZSl7dGhpcy5zb3VyY2VOb2RlLm9uZW5kZWQ9bnVsbDt0cnl7dGhpcy5zb3VyY2VOb2RlLnN0b3AoKTt9Y2F0Y2h7fXRoaXMucmVzZXQoKTt9fWRlc3Ryb3koKXt0aGlzLmF1ZGlvQnVmZmVyPW51bGwsc3VwZXIuZGVzdHJveSgpO31zZXRBdWRpb0J1ZmZlclBsYXliYWNrU3BlZWQoZSl7dGhpcy5zb3VyY2VOb2RlJiYodGhpcy5jdXJyZW50U3RhdGU9PT1cInBsYXlpbmdcIiYmKHRoaXMuc3RhcnRQbGF5T2Zmc2V0PXRoaXMuY3VycmVudFRpbWUsdGhpcy5zdGFydFBsYXlUaW1lPXRoaXMuY29udGV4dC5jdXJyZW50VGltZSksdGhpcy5zb3VyY2VOb2RlLnBsYXliYWNrUmF0ZS52YWx1ZT1lLzEwMCksdGhpcy5jdXJyZW50UGxheWJhY2tTcGVlZD1lO31zdGFydFNvdXJjZU5vZGUoKXt0aGlzLnNvdXJjZU5vZGUmJnRoaXMuc291cmNlTm9kZS5idWZmZXImJih0aGlzLnNvdXJjZU5vZGUuc3RhcnQoMCx0aGlzLnN0YXJ0UGxheU9mZnNldCksdGhpcy5zdGFydFBsYXlUaW1lPXRoaXMuY29udGV4dC5jdXJyZW50VGltZSx0aGlzLnNvdXJjZU5vZGUub25lbmRlZD10aGlzLmhhbmRsZVNvdXJjZU5vZGVFbmRlZC5iaW5kKHRoaXMpKTt9Y3JlYXRlU291cmNlTm9kZSgpe2xldCBlPXRoaXMuY29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtyZXR1cm4gZS5idWZmZXI9dGhpcy5hdWRpb0J1ZmZlcixlLmxvb3A9ISF0aGlzLm9wdGlvbnMubG9vcCxlLmNvbm5lY3QodGhpcy5vdXRwdXROb2RlKSxlLnBsYXliYWNrUmF0ZS52YWx1ZT10aGlzLmN1cnJlbnRQbGF5YmFja1NwZWVkLzEwMCxlfWhhbmRsZVNvdXJjZU5vZGVFbmRlZCgpe2lmKHRoaXMuY3VycmVudExvb3BDb3VudCs9MSx0aGlzLm9wdGlvbnMuY3ljbGUmJnRoaXMub3B0aW9ucy5jeWNsZT50aGlzLmN1cnJlbnRMb29wQ291bnQpcmV0dXJuIHRoaXMuc3RhcnRQbGF5T2Zmc2V0PTAsdGhpcy5zb3VyY2VOb2RlPXZvaWQgMCx2b2lkIHRoaXMuc3RhcnRQcm9jZXNzQXVkaW9CdWZmZXIoKTt0aGlzLnJlc2V0KCk7fXJlc2V0KCl7dGhpcy5zdGFydFBsYXlPZmZzZXQ9dGhpcy5vcHRpb25zLnN0YXJ0UGxheVRpbWV8fDAsdGhpcy5jdXJyZW50U3RhdGU9XCJzdG9wcGVkXCIsdGhpcy5zb3VyY2VOb2RlJiYodGhpcy5zb3VyY2VOb2RlLmRpc2Nvbm5lY3QoKSx0aGlzLnNvdXJjZU5vZGU9dm9pZCAwKSx0aGlzLmN1cnJlbnRMb29wQ291bnQ9MDt9fSxlST1uZXcgTWFwLGtjPWNsYXNze2dldCByZW5kRnJhbWVSYXRlKCl7aWYodGhpcy5yZW5kZXJTdGF0cyYmdGhpcy5yZW5kZXJTdGF0cy5jdXJUcyE9PXRoaXMucmVuZGVyU3RhdHMubGFzdFRzKXtsZXQgZT10aGlzLnJlbmRlclN0YXRzLmN1clRzLXRoaXMucmVuZGVyU3RhdHMubGFzdFRzLG49KHRoaXMucmVuZGVyU3RhdHMucmVuZGVyTnVtLXRoaXMucmVuZGVyU3RhdHMubGFzdFJlbmRlck51bSkvZTtyZXR1cm4gdGhpcy5yZW5kZXJTdGF0cy5sYXN0UmVuZGVyTnVtPXRoaXMucmVuZGVyU3RhdHMucmVuZGVyTnVtLHRoaXMucmVuZGVyU3RhdHMubGFzdFRzPXRoaXMucmVuZGVyU3RhdHMuY3VyVHMsbn1yZXR1cm4gMH1nZXQgdmlkZW9FbGVtZW50U3RhdHVzKCl7cmV0dXJuIHRoaXMuX3ZpZGVvRWxlbWVudFN0YXR1c31zZXQgdmlkZW9FbGVtZW50U3RhdHVzKGUpe2UhPT10aGlzLl92aWRlb0VsZW1lbnRTdGF0dXMmJihfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnRyYWNrSWQsXCJdIHZpZGVvLWVsZW1lbnQtc3RhdHVzIGNoYW5nZSBcIikuY29uY2F0KHRoaXMuX3ZpZGVvRWxlbWVudFN0YXR1cyxcIiA9PiBcIikuY29uY2F0KGUpKSx0aGlzLl92aWRlb0VsZW1lbnRTdGF0dXM9ZSk7fWdldCB2aWRlb1N0YXRlKCl7cmV0dXJuIHRoaXMuX3ZpZGVvU3RhdGV9c2V0IHZpZGVvU3RhdGUoZSl7dmFyIG47ZSE9PXRoaXMuX3ZpZGVvU3RhdGUmJih0aGlzLl92aWRlb1N0YXRlPWUsKG49dGhpcy5vblZpZGVvU3RhdGVDaGFuZ2VkKT09PW51bGx8fG49PT12b2lkIDB8fG4uY2FsbCh0aGlzLHRoaXMudmlkZW9TdGF0ZSkpO31jb25zdHJ1Y3RvcihlKXtQKHRoaXMsXCJ0cmFja0lkXCIsdm9pZCAwKSxQKHRoaXMsXCJjb25maWdcIix2b2lkIDApLFAodGhpcyxcIm9uRmlyc3RWaWRlb0ZyYW1lRGVjb2RlZFwiLHZvaWQgMCksUCh0aGlzLFwib25WaWRlb1N0YXRlQ2hhbmdlZFwiLHZvaWQgMCksUCh0aGlzLFwiZnJlZXplVGltZUNvdW50ZXJMaXN0XCIsW10pLFAodGhpcyxcInJlbmRlckZyZWV6ZUFjY1RpbWVcIiwwKSxQKHRoaXMsXCJpc0tlZXBMYXN0RnJhbWVcIiwhMSksUCh0aGlzLFwidGltZVVwZGF0ZWRDb3VudFwiLDApLFAodGhpcyxcImZyZWV6ZVRpbWVcIiwwKSxQKHRoaXMsXCJwbGF5YmFja1RpbWVcIiwwKSxQKHRoaXMsXCJsYXN0VGltZVVwZGF0ZWRUaW1lXCIsMCksUCh0aGlzLFwiYXV0b3BsYXlGYWlsZWRcIiwhMSksUCh0aGlzLFwidmlkZW9UcmFja1wiLHZvaWQgMCksUCh0aGlzLFwidmlkZW9FbGVtZW50XCIsdm9pZCAwKSxQKHRoaXMsXCJjYWNoZVZpZGVvRWxlbWVudFwiLHZvaWQgMCksUCh0aGlzLFwicmVuZGVyU3RhdHNcIix2b2lkIDApLFAodGhpcyxcIl92aWRlb1N0YXRlXCIsemkuVmlkZW9TdGF0ZVN0b3BwZWQpLFAodGhpcyxcInZpZGVvRWxlbWVudENoZWNrSW50ZXJ2YWxcIix2b2lkIDApLFAodGhpcyxcInZpZGVvRWxlbWVudEZyZWV6ZVRpbWVvdXRcIix2b2lkIDApLFAodGhpcyxcIl92aWRlb0VsZW1lbnRTdGF0dXNcIixubi5OT05FKSxQKHRoaXMsXCJpc0dldHRpbmdWaWRlb0RpbWVuc2lvbnNcIiwhMSksUCh0aGlzLFwic3RhcnRHZXRWaWRlb0RpbWVuc2lvbnNcIiwoKT0+e2xldCBuPSgpPT57aWYodGhpcy5pc0dldHRpbmdWaWRlb0RpbWVuc2lvbnM9ITAsdGhpcy52aWRlb0VsZW1lbnQudmlkZW9XaWR0aCp0aGlzLnZpZGVvRWxlbWVudC52aWRlb0hlaWdodD40KXJldHVybiBfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnRyYWNrSWQsXCJdIGN1cnJlbnQgdmlkZW8gZGltZW5zaW9uczpcIiksdGhpcy52aWRlb0VsZW1lbnQudmlkZW9XaWR0aCx0aGlzLnZpZGVvRWxlbWVudC52aWRlb0hlaWdodCksdm9pZCh0aGlzLmlzR2V0dGluZ1ZpZGVvRGltZW5zaW9ucz0hMSk7c2V0VGltZW91dChuLDUwMCk7fTshdGhpcy5pc0dldHRpbmdWaWRlb0RpbWVuc2lvbnMmJm4oKTt9KSxQKHRoaXMsXCJhdXRvUmVzdW1lQWZ0ZXJJbnRlcnJ1cHRpb25cIiwoKT0+e3RoaXMudmlkZW9UcmFjayYmdGhpcy52aWRlb1RyYWNrLnJlYWR5U3RhdGU9PT1cImxpdmVcIiYmd3QuY3VyU3RhdGU9PT1cInJ1bm5pbmdcIiYmKF8uZGVidWcoXCJbdHJhY2stXCIuY29uY2F0KHRoaXMudHJhY2tJZCxcIl0gdmlkZW8gZWxlbWVudCBwYXVzZWQsIGF1dG8gcmVzdW1lIGZvciBcIikuY29uY2F0KGRSKCkpKSxwUigpPyh0aGlzLnZpZGVvRWxlbWVudC5zcmNPYmplY3Q9bnVsbCx0aGlzLnZpZGVvRWxlbWVudC5zcmNPYmplY3Q9bmV3IE1lZGlhU3RyZWFtKFt0aGlzLnZpZGVvVHJhY2tdKSx0aGlzLnZpZGVvRWxlbWVudC5wbGF5KCkpOih0aGlzLnZpZGVvRWxlbWVudC5wYXVzZSgpLHRoaXMudmlkZW9FbGVtZW50LnBsYXkoKSkpO30pLFAodGhpcyxcImhhbmRsZVZpZGVvRXZlbnRzXCIsbj0+e3N3aXRjaChuLnR5cGUpe2Nhc2VcInBsYXlcIjpjYXNlXCJwbGF5aW5nXCI6dGhpcy5zdGFydEdldFZpZGVvRGltZW5zaW9ucygpLHRoaXMudmlkZW9FbGVtZW50U3RhdHVzPW5uLlBMQVlJTkc7YnJlYWs7Y2FzZVwibG9hZGVkZGF0YVwiOmlmKHRoaXMudmlkZW9TdGF0ZT16aS5WaWRlb1N0YXRlU3RhcnRpbmcsdGhpcy5vbkZpcnN0VmlkZW9GcmFtZURlY29kZWQmJnRoaXMub25GaXJzdFZpZGVvRnJhbWVEZWNvZGVkKCksdGhpcy5jYWNoZVZpZGVvRWxlbWVudCl7dHJ5e3RoaXMuY2FjaGVWaWRlb0VsZW1lbnQuc3JjT2JqZWN0PW51bGwsdGhpcy5jYWNoZVZpZGVvRWxlbWVudC5yZW1vdmUoKTt9Y2F0Y2h7fXRoaXMuY2FjaGVWaWRlb0VsZW1lbnQ9dm9pZCAwO31icmVhaztjYXNlXCJjYW5wbGF5XCI6dGhpcy52aWRlb0VsZW1lbnRTdGF0dXM9bm4uQ0FOUExBWTticmVhaztjYXNlXCJzdGFsbGVkXCI6dGhpcy52aWRlb0VsZW1lbnRTdGF0dXM9bm4uU1RBTExFRDticmVhaztjYXNlXCJzdXNwZW5kXCI6dGhpcy52aWRlb0VsZW1lbnRTdGF0dXM9bm4uU1VTUEVORDticmVhaztjYXNlXCJwYXVzZVwiOnRoaXMudmlkZW9FbGVtZW50U3RhdHVzPW5uLlBBVVNFRCxsbigpfHx2aSgpfHxqZSgpJiZ0aGlzLmF1dG9wbGF5RmFpbGVkfHwhdGhpcy52aWRlb1RyYWNrfHx0aGlzLnZpZGVvVHJhY2sucmVhZHlTdGF0ZSE9PVwibGl2ZVwifHwoXy5kZWJ1ZyhcIlt0cmFjay1cIi5jb25jYXQodGhpcy50cmFja0lkLFwiXSB2aWRlbyBlbGVtZW50IHBhdXNlZCwgYXV0byByZXN1bWVcIikpLHRoaXMudmlkZW9FbGVtZW50LnBsYXkoKSk7YnJlYWs7Y2FzZVwid2FpdGluZ1wiOnRoaXMudmlkZW9FbGVtZW50U3RhdHVzPW5uLldBSVRJTkc7YnJlYWs7Y2FzZVwiYWJvcnRcIjp0aGlzLnZpZGVvRWxlbWVudFN0YXR1cz1ubi5BQk9SVDticmVhaztjYXNlXCJlbmRlZFwiOnRoaXMudmlkZW9FbGVtZW50U3RhdHVzPW5uLkVOREVEO2JyZWFrO2Nhc2VcImVtcHRpZWRcIjp0aGlzLnZpZGVvRWxlbWVudFN0YXR1cz1ubi5FTVBUSUVEO2JyZWFrO2Nhc2VcImVycm9yXCI6e2xldCBpPXRoaXMudmlkZW9FbGVtZW50LmVycm9yO2k/KHRoaXMudmlkZW9FbGVtZW50U3RhdHVzPW5uLkVSUk9SLF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMudHJhY2tJZCxcIl0gbWVkaWEgZXJyb3I6IFwiKS5jb25jYXQoaS5tZXNzYWdlLFwiIChcIikuY29uY2F0KGkuY29kZSxcIilcIikpKTpfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnRyYWNrSWQsXCJdIG1lZGlhIG5vdCBiZWVuIGFuIGVycm9yLlwiKSk7YnJlYWt9Y2FzZVwidGltZXVwZGF0ZVwiOntsZXQgaT1wZXJmb3JtYW5jZS5ub3coKTtpZih0aGlzLnRpbWVVcGRhdGVkQ291bnQrPTEsdGhpcy50aW1lVXBkYXRlZENvdW50PDEwKXJldHVybiB2b2lkKHRoaXMubGFzdFRpbWVVcGRhdGVkVGltZT1pKTtsZXQgcj1pLXRoaXMubGFzdFRpbWVVcGRhdGVkVGltZSxvPXRoaXMubGFzdFRpbWVVcGRhdGVkVGltZTtpZih0aGlzLmxhc3RUaW1lVXBkYXRlZFRpbWU9aSx5ci5sYXN0VmlzaWJsZVRpbWU8eXIubGFzdEhpZGRlblRpbWV8fG88eXIubGFzdEhpZGRlblRpbWV8fG88eXIubGFzdFZpc2libGVUaW1lKXJldHVybjtmb3Iocj52KFwiVklERU9fRlJFRVpFX0RVUkFUSU9OXCIpJiYodGhpcy5mcmVlemVUaW1lKz1yKSx0aGlzLnBsYXliYWNrVGltZSs9cjt0aGlzLnBsYXliYWNrVGltZT49NmUzOyl7dGhpcy5wbGF5YmFja1RpbWUtPTZlMztsZXQgcz1NYXRoLm1pbig2ZTMsdGhpcy5mcmVlemVUaW1lKTt0aGlzLmZyZWV6ZVRpbWVDb3VudGVyTGlzdC5wdXNoKHMpLHRoaXMuZnJlZXplVGltZT1NYXRoLm1heCgwLHRoaXMuZnJlZXplVGltZS02ZTMpO31icmVha319fSksUCh0aGlzLFwiYXV0b1Jlc3VtZUFmdGVySW50ZXJydXB0aW9uT25JT1MxNV8xNlwiLCgpPT57dGhpcy52aWRlb1RyYWNrJiZ0aGlzLnZpZGVvVHJhY2sucmVhZHlTdGF0ZT09PVwibGl2ZVwiJiYoXy5kZWJ1ZyhcIlt0cmFjay1cIi5jb25jYXQodGhpcy50cmFja0lkLFwiXSB2aWRlbyBlbGVtZW50IHBhdXNlZCwgYXV0byByZXN1bWUgZm9yIFwiKS5jb25jYXQoZFIoKSkpLHBSKCk/KHRoaXMudmlkZW9FbGVtZW50LnNyY09iamVjdD1udWxsLHRoaXMudmlkZW9FbGVtZW50LnNyY09iamVjdD1uZXcgTWVkaWFTdHJlYW0oW3RoaXMudmlkZW9UcmFja10pLHRoaXMudmlkZW9FbGVtZW50LnBsYXkoKSk6KHRoaXMudmlkZW9FbGVtZW50LnBhdXNlKCksdGhpcy52aWRlb0VsZW1lbnQucGxheSgpKSk7fSksdGhpcy50cmFja0lkPWUudHJhY2tJZCx0aGlzLmNvbmZpZz1lLGUuZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQ/dGhpcy52aWRlb0VsZW1lbnQ9ZS5lbGVtZW50OnRoaXMudmlkZW9FbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKSx3dC5vbihrZS5JT1NfSU5URVJSVVBUSU9OX0VORCx0aGlzLmF1dG9SZXN1bWVBZnRlckludGVycnVwdGlvbiksd3Qub24oa2UuSU9TXzE1XzE2X0lOVEVSUlVQVElPTl9FTkQsdGhpcy5hdXRvUmVzdW1lQWZ0ZXJJbnRlcnJ1cHRpb25PbklPUzE1XzE2KTt9Z2V0VmlkZW9FbGVtZW50KCl7cmV0dXJuIHRoaXMudmlkZW9FbGVtZW50fWdldENvbnRhaW5lckVsZW1lbnQoKXt2YXIgZTtyZXR1cm4gKGU9dGhpcy52aWRlb0VsZW1lbnQucGFyZW50RWxlbWVudCkhPT1udWxsJiZlIT09dm9pZCAwP2U6dm9pZCAwfXVwZGF0ZUNvbmZpZyhlKXt0aGlzLmNvbmZpZz1lLHRoaXMudHJhY2tJZD1lLnRyYWNrSWQsZS5lbGVtZW50IT09dGhpcy52aWRlb0VsZW1lbnQmJih0aGlzLmRlc3Ryb3koKSx0aGlzLnZpZGVvRWxlbWVudD1lLmVsZW1lbnQpLHRoaXMudmlkZW9UcmFjayYmdGhpcy5pbml0VmlkZW9FbGVtZW50KCk7fXVwZGF0ZVZpZGVvVHJhY2soZSl7dGhpcy52aWRlb1RyYWNrIT09ZSYmKHRoaXMudmlkZW9UcmFjaz1lLHRoaXMuaW5pdFZpZGVvRWxlbWVudCgpKTt9cGxheShlKXtsZXQgbj10aGlzLnZpZGVvRWxlbWVudC5wbGF5KCk7biYmbi5jYXRjaCYmbi5jYXRjaChyPT57ZSYmSk8oZSxcInZpZGVvXCIsci5tZXNzYWdlLHRoaXMudHJhY2tJZCksci5uYW1lPT09XCJOb3RBbGxvd2VkRXJyb3JcIj8oXy53YXJuaW5nKFwiZGV0ZWN0ZWQgdmlkZW8gZWxlbWVudCBhdXRvcGxheSBmYWlsZWRcIixyKSx0aGlzLmF1dG9wbGF5RmFpbGVkPSEwLHRoaXMuaGFuZGxlQXV0b1BsYXlGYWlsZWQoKSk6Xy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnRyYWNrSWQsXCJdIHBsYXkgd2FybmluZzogXCIpLHIpO30pO2xldCBpPW10KCk7aWYoKGkubmFtZT09PVwiU2FmYXJpXCImJk51bWJlcihpLnZlcnNpb24pPT09MTV8fFpzKCkpJiZuJiZuLnRoZW4pe2xldCByPSgpPT57dGhpcy5jb25maWcubWlycm9yJiYodGhpcy52aWRlb0VsZW1lbnQuc3R5bGUudHJhbnNmb3JtPVwicm90YXRlWSgxODBkZWcpXCIpO307bi50aGVuKHIpLmNhdGNoKHIpO319Z2V0Q3VycmVudEZyYW1lKCl7bGV0IGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtlLndpZHRoPXRoaXMudmlkZW9FbGVtZW50LnZpZGVvV2lkdGgsZS5oZWlnaHQ9dGhpcy52aWRlb0VsZW1lbnQudmlkZW9IZWlnaHQ7bGV0IG49ZS5nZXRDb250ZXh0KFwiMmRcIik7aWYoIW4pcmV0dXJuIF8uZXJyb3IoXCJjcmVhdGUgY2FudmFzIGNvbnRleHQgZmFpbGVkIVwiKSxuZXcgSW1hZ2VEYXRhKDIsMik7bi5kcmF3SW1hZ2UodGhpcy52aWRlb0VsZW1lbnQsMCwwLGUud2lkdGgsZS5oZWlnaHQpO2xldCBpPW4uZ2V0SW1hZ2VEYXRhKDAsMCxlLndpZHRoLGUuaGVpZ2h0KTtyZXR1cm4gZS5yZW1vdmUoKSxpfWFzeW5jIGdldEN1cnJlbnRGcmFtZVRvVWludDhBcnJheShlKXtsZXQgbj1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06MSxpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7aS53aWR0aD10aGlzLnZpZGVvRWxlbWVudC52aWRlb1dpZHRoLGkuaGVpZ2h0PXRoaXMudmlkZW9FbGVtZW50LnZpZGVvSGVpZ2h0O2xldCByPWkuZ2V0Q29udGV4dChcIjJkXCIpO3JldHVybiByPyhyLmRyYXdJbWFnZSh0aGlzLnZpZGVvRWxlbWVudCwwLDAsaS53aWR0aCxpLmhlaWdodCksbmV3IGooKG8scyk9PntpLnRvQmxvYihhc3luYyBhPT57aWYoaS5yZW1vdmUoKSxhKXtsZXQgYz1hd2FpdCBaTyhhKTtvKHtidWZmZXI6Yyx3aWR0aDppLndpZHRoLGhlaWdodDppLmhlaWdodH0pO31lbHNlIHMobmV3IE4oUi5DT05WRVJUSU5HX1ZJREVPX0ZSQU1FX1RPX0JMT0JfRkFJTEVEKSk7fSxlLG48MD8uMTpuPjE/MTpuKTt9KSk6YXdhaXQgQ2YoZSl9ZGVzdHJveSgpe3RoaXMucmVuZGVyU3RhdHM9dm9pZCAwLHd0Lm9mZihrZS5JT1NfSU5URVJSVVBUSU9OX0VORCx0aGlzLmF1dG9SZXN1bWVBZnRlckludGVycnVwdGlvbiksd3Qub2ZmKGtlLklPU18xNV8xNl9JTlRFUlJVUFRJT05fRU5ELHRoaXMuYXV0b1Jlc3VtZUFmdGVySW50ZXJydXB0aW9uT25JT1MxNV8xNiksdGhpcy52aWRlb0VsZW1lbnQuc3JjT2JqZWN0PW51bGwsdGhpcy5yZXNldFZpZGVvRWxlbWVudCgpLHRoaXMuZnJlZXplVGltZUNvdW50ZXJMaXN0PVtdLHRoaXMudmlkZW9TdGF0ZT16aS5WaWRlb1N0YXRlU3RvcHBlZDt9aW5pdFZpZGVvRWxlbWVudCgpe2lmKHRoaXMudmlkZW9FbGVtZW50U3RhdHVzPW5uLklOSVQsIXRoaXMudmlkZW9FbGVtZW50Q2hlY2tJbnRlcnZhbCYmKG5JLmZvckVhY2gobz0+e3RoaXMudmlkZW9FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIobyx0aGlzLmhhbmRsZVZpZGVvRXZlbnRzKTt9KSx0aGlzLnZpZGVvRWxlbWVudENoZWNrSW50ZXJ2YWw9d2luZG93LnNldEludGVydmFsKCgpPT57KGZ1bmN0aW9uKG8pe3JldHVybiBvIT09ZG9jdW1lbnQuYm9keSYmZG9jdW1lbnQuYm9keS5jb250YWlucyhvKX0pKHRoaXMudmlkZW9FbGVtZW50KXx8KHRoaXMudmlkZW9FbGVtZW50U3RhdHVzPW5uLkRFU1RST1lFRCk7fSwxZTMpLHYoXCJFTkFCTEVfVklERU9fRlJBTUVfQ0FMTEJBQ0tcIikpKXt2YXIgZSxuO2xldCBvLHM9KCk9Pntkb2N1bWVudC52aXNpYmlsaXR5U3RhdGU9PT1cInZpc2libGVcIiYmKGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIscyksdGhpcy52aWRlb0VsZW1lbnRGcmVlemVUaW1lb3V0PXdpbmRvdy5zZXRUaW1lb3V0KGEsdihcIlZJREVPX0ZSRUVaRV9EVVJBVElPTlwiKSkpO30sYT0oKT0+e3RoaXMudmlkZW9FbGVtZW50RnJlZXplVGltZW91dD12b2lkIDAsdGhpcy52aWRlb1N0YXRlPT09emkuVmlkZW9TdGF0ZURlY29kaW5nJiYoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlPT09XCJ2aXNpYmxlXCI/dGhpcy52aWRlb1N0YXRlPXppLlZpZGVvU3RhdGVGcm96ZW46ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIixzKSk7fSxjPShkLGwpPT57aWYodGhpcy52aWRlb0VsZW1lbnRTdGF0dXM9PT1ubi5QTEFZSU5HKXtpZih0aGlzLnJlbmRlclN0YXRzPyh0aGlzLnJlbmRlclN0YXRzLnJlbmRlck51bSsrLHRoaXMucmVuZGVyU3RhdHMuY3VyVHM9bC5tZWRpYVRpbWUpOnRoaXMucmVuZGVyU3RhdHM9e2xhc3RUczpsLm1lZGlhVGltZSxjdXJUczpsLm1lZGlhVGltZSxsYXN0UmVuZGVyTnVtOjAscmVuZGVyTnVtOjB9LG8pe2xldCBwPWwucHJlc2VudGF0aW9uVGltZS1vLnByZXNlbnRhdGlvblRpbWU7dGhpcy52aWRlb1N0YXRlPT09emkuVmlkZW9TdGF0ZVN0YXJ0aW5nJiYodGhpcy52aWRlb1N0YXRlPXppLlZpZGVvU3RhdGVEZWNvZGluZyksdGhpcy52aWRlb1N0YXRlPT09emkuVmlkZW9TdGF0ZURlY29kaW5nJiZ0aGlzLm9uVmlkZW9TdGF0ZUNoYW5nZWQmJih0aGlzLnZpZGVvRWxlbWVudEZyZWV6ZVRpbWVvdXQmJndpbmRvdy5jbGVhclRpbWVvdXQodGhpcy52aWRlb0VsZW1lbnRGcmVlemVUaW1lb3V0KSx0aGlzLnZpZGVvRWxlbWVudEZyZWV6ZVRpbWVvdXQ9d2luZG93LnNldFRpbWVvdXQoYSx2KFwiVklERU9fRlJFRVpFX0RVUkFUSU9OXCIpKSkscDx2KFwiVklERU9fRlJFRVpFX0RVUkFUSU9OXCIpJiZ0aGlzLnZpZGVvU3RhdGU9PT16aS5WaWRlb1N0YXRlRnJvemVuJiYodGhpcy52aWRlb1N0YXRlPXppLlZpZGVvU3RhdGVEZWNvZGluZykscD52KFwiVklERU9fRlJFRVpFX0RVUkFUSU9OXCIpJiZ5ci5sYXN0VmlzaWJsZVRpbWU+PXlyLmxhc3RIaWRkZW5UaW1lJiZvLnRpbWVzdGFtcD55ci5sYXN0VmlzaWJsZVRpbWUmJm8udGltZXN0YW1wPnlyLmxhc3RIaWRkZW5UaW1lJiYodGhpcy5yZW5kZXJGcmVlemVBY2NUaW1lKz1wKTt9bz1LdChLdCh7fSxsKSx7fSx7dGltZXN0YW1wOmR9KTt9dmFyIHUsaDt2KFwiRU5BQkxFX1ZJREVPX0ZSQU1FX0NBTExCQUNLXCIpJiYoKHU9KGg9dGhpcy52aWRlb0VsZW1lbnQpLnJlcXVlc3RWaWRlb0ZyYW1lQ2FsbGJhY2spPT09bnVsbHx8dT09PXZvaWQgMHx8dS5jYWxsKGgsYykpO307KGU9KG49dGhpcy52aWRlb0VsZW1lbnQpLnJlcXVlc3RWaWRlb0ZyYW1lQ2FsbGJhY2spPT09bnVsbHx8ZT09PXZvaWQgMHx8ZS5jYWxsKG4sYyk7fXRoaXMudmlkZW9FbGVtZW50LmNvbnRyb2xzPSExLHRoaXMudmlkZW9FbGVtZW50LnNldEF0dHJpYnV0ZShcInBsYXlzaW5saW5lXCIsXCJcIiksS3UoKSYmIXYoXCJISURFX05PX1BPU1RFUlwiKSYmKHRoaXMudmlkZW9FbGVtZW50LnBvc3Rlcj1cIm5vcG9zdGVyXCIpO2xldCBpPW10KCk7aS5uYW1lPT09XCJTYWZhcmlcIiYmTnVtYmVyKGkudmVyc2lvbik9PT0xNXx8WnMoKXx8IXRoaXMuY29uZmlnLm1pcnJvcnx8KHRoaXMudmlkZW9FbGVtZW50LnN0eWxlLnRyYW5zZm9ybT1cInJvdGF0ZVkoMTgwZGVnKVwiKSx0aGlzLmNvbmZpZy5maXQ/dGhpcy52aWRlb0VsZW1lbnQuc3R5bGUub2JqZWN0Rml0PXRoaXMuY29uZmlnLmZpdDp0aGlzLnZpZGVvRWxlbWVudC5zdHlsZS5vYmplY3RGaXQ9XCJjb3ZlclwiLHRoaXMudmlkZW9FbGVtZW50LnNldEF0dHJpYnV0ZShcIm11dGVkXCIsXCJcIiksdGhpcy52aWRlb0VsZW1lbnQubXV0ZWQ9ITAsdGhpcy52aWRlb0VsZW1lbnQuc3JjT2JqZWN0JiZ0aGlzLnZpZGVvRWxlbWVudC5zcmNPYmplY3QgaW5zdGFuY2VvZiBNZWRpYVN0cmVhbT90aGlzLnZpZGVvRWxlbWVudC5zcmNPYmplY3QuZ2V0VmlkZW9UcmFja3MoKVswXSE9PXRoaXMudmlkZW9UcmFjayYmKHRoaXMudmlkZW9FbGVtZW50LnNyY09iamVjdD10aGlzLnZpZGVvVHJhY2s/bmV3IE1lZGlhU3RyZWFtKFt0aGlzLnZpZGVvVHJhY2tdKTpudWxsLCR0KCkmJnRoaXMudmlkZW9FbGVtZW50LmxvYWQoKSk6KHRoaXMudmlkZW9FbGVtZW50LnNyY09iamVjdD10aGlzLnZpZGVvVHJhY2s/bmV3IE1lZGlhU3RyZWFtKFt0aGlzLnZpZGVvVHJhY2tdKTpudWxsLCR0KCkmJnRoaXMudmlkZW9FbGVtZW50LmxvYWQoKSk7bGV0IHI9dGhpcy52aWRlb0VsZW1lbnQucGxheSgpO3IhPT12b2lkIDAmJnIuY2F0Y2gobz0+e18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMudHJhY2tJZCxcIl0gcGxheWJhY2sgaW50ZXJydXB0ZWRcIiksby50b1N0cmluZygpKTt9KTt9cmVzZXRWaWRlb0VsZW1lbnQoKXtuSS5mb3JFYWNoKGU9Pnt0aGlzLnZpZGVvRWxlbWVudCYmdGhpcy52aWRlb0VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHRoaXMuaGFuZGxlVmlkZW9FdmVudHMpO30pLHRoaXMudmlkZW9FbGVtZW50Q2hlY2tJbnRlcnZhbCYmKHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMudmlkZW9FbGVtZW50Q2hlY2tJbnRlcnZhbCksdGhpcy52aWRlb0VsZW1lbnRDaGVja0ludGVydmFsPXZvaWQgMCksdGhpcy52aWRlb0VsZW1lbnRTdGF0dXM9bm4uTk9ORTt9aGFuZGxlQXV0b1BsYXlGYWlsZWQoKXtsZXQgZT1uPT57bi5wcmV2ZW50RGVmYXVsdCgpLHRoaXMudmlkZW9FbGVtZW50LnBsYXkoKS50aGVuKCgpPT57Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy50cmFja0lkLFwiXSBWaWRlbyBlbGVtZW50IGZvciB0cmFja0lkOlwiKS5jb25jYXQodGhpcy50cmFja0lkLFwiIGF1dG9wbGF5IHJlc3VtZWQuXCIpKTt9KS5jYXRjaChpPT57Xy5lcnJvcihpKTt9KSx0aGlzLmF1dG9wbGF5RmFpbGVkPSExLHljKCk/ZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIixlLCEwKTooZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLGUsITApLGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLGUsITApKTt9O3ljKCk/ZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixlLCEwKTooZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLGUsITApLGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLGUsITApKSx6TygpO319LG5JPVtcInBsYXlcIixcInBsYXlpbmdcIixcImxvYWRlZGRhdGFcIixcImNhbnBsYXlcIixcInBhdXNlXCIsXCJzdGFsbGVkXCIsXCJzdXNwZW5kXCIsXCJ3YWl0aW5nXCIsXCJhYm9ydFwiLFwiZW1wdGllZFwiLFwiZW5kZWRcIixcInRpbWV1cGRhdGVcIixcImVycm9yXCJdLHN1PWNsYXNzIGV4dGVuZHMga2N7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksUCh0aGlzLFwiY29udGFpbmVyXCIsdm9pZCAwKSxQKHRoaXMsXCJzbG90XCIsdm9pZCAwKSx0aGlzLnNsb3Q9ZS5lbGVtZW50LHRoaXMudXBkYXRlQ29uZmlnKGUpO311cGRhdGVDb25maWcoZSl7dGhpcy5jb25maWc9ZSx0aGlzLnRyYWNrSWQ9ZS50cmFja0lkO2xldCBuPWUuZWxlbWVudDtuIT09dGhpcy5zbG90JiYodGhpcy5kZXN0cm95KCksdGhpcy5zbG90PW4pLHRoaXMuY3JlYXRlRWxlbWVudHMoKTt9dXBkYXRlVmlkZW9UcmFjayhlKXt0aGlzLnZpZGVvVHJhY2shPT1lJiYodGhpcy52aWRlb1RyYWNrPWUsdGhpcy5jcmVhdGVFbGVtZW50cygpKTt9cGxheShlKXt2YXIgbjsobj10aGlzLmNvbnRhaW5lcikhPT1udWxsJiZuIT09dm9pZCAwJiZuLmNvbnRhaW5zKHRoaXMudmlkZW9FbGVtZW50KSYmc3VwZXIucGxheShlKTt9Z2V0Q3VycmVudEZyYW1lKCl7dmFyIGU7cmV0dXJuIChlPXRoaXMuY29udGFpbmVyKSE9PW51bGwmJmUhPT12b2lkIDAmJmUuY29udGFpbnModGhpcy52aWRlb0VsZW1lbnQpP3N1cGVyLmdldEN1cnJlbnRGcmFtZSgpOm5ldyBJbWFnZURhdGEoMiwyKX1hc3luYyBnZXRDdXJyZW50RnJhbWVUb1VpbnQ4QXJyYXkoZSl7dmFyIG47bGV0IGk9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOjE7cmV0dXJuIChuPXRoaXMuY29udGFpbmVyKSE9PW51bGwmJm4hPT12b2lkIDAmJm4uY29udGFpbnModGhpcy52aWRlb0VsZW1lbnQpP2F3YWl0IHN1cGVyLmdldEN1cnJlbnRGcmFtZVRvVWludDhBcnJheShlLGkpOmF3YWl0IENmKGUpfWRlc3Ryb3koKXtpZihzdXBlci5kZXN0cm95KCksdGhpcy52aWRlb0VsZW1lbnQucmVtb3ZlKCksdGhpcy52aWRlb0VsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpLHRoaXMuY29udGFpbmVyKXt0cnl7dGhpcy5jb250YWluZXIucmVtb3ZlKCksdGhpcy5zbG90LnJlbW92ZUNoaWxkKHRoaXMuY29udGFpbmVyKTt9Y2F0Y2h7fXRoaXMuY29udGFpbmVyPXZvaWQgMDt9fWNyZWF0ZUVsZW1lbnRzKCl7dGhpcy5jb250YWluZXJ8fCh0aGlzLmNvbnRhaW5lcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKSx0aGlzLmNvbnRhaW5lci5pZD1cImFnb3JhLXZpZGVvLXBsYXllci1cIi5jb25jYXQodGhpcy50cmFja0lkKSx0aGlzLmNvbnRhaW5lci5zdHlsZS53aWR0aD1cIjEwMCVcIix0aGlzLmNvbnRhaW5lci5zdHlsZS5oZWlnaHQ9XCIxMDAlXCIsdGhpcy5jb250YWluZXIuc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiLHRoaXMuY29udGFpbmVyLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsdGhpcy52aWRlb1RyYWNrPyh0aGlzLmNvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9XCJibGFja1wiLHYoXCJLRUVQX0xBU1RfRlJBTUVcIikmJnRoaXMuaXNLZWVwTGFzdEZyYW1lJiZ0aGlzLnZpZGVvRWxlbWVudC5wYXVzZWQmJnRoaXMucmVzZXRWaWRlb0VsZW1lbnQoKSx0aGlzLm1vdW50ZWRWaWRlb0VsZW1lbnQoKSk6dGhpcy51bm1vdW50ZWRWaWRlb0VsZW1lbnQoKSx0aGlzLnNsb3QuYXBwZW5kQ2hpbGQodGhpcy5jb250YWluZXIpO31tb3VudGVkVmlkZW9FbGVtZW50KCl7dmFyIGU7IXRoaXMuY29udGFpbmVyfHwoZT10aGlzLmNvbnRhaW5lcikhPT1udWxsJiZlIT09dm9pZCAwJiZlLmNvbnRhaW5zKHRoaXMudmlkZW9FbGVtZW50KXx8dGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy52aWRlb0VsZW1lbnQpLHN1cGVyLmluaXRWaWRlb0VsZW1lbnQoKSx0aGlzLnZpZGVvRWxlbWVudC5pZD1cInZpZGVvX1wiLmNvbmNhdCh0aGlzLnRyYWNrSWQpLHRoaXMudmlkZW9FbGVtZW50LmNsYXNzTmFtZT1cImFnb3JhX3ZpZGVvX3BsYXllclwiLHRoaXMudmlkZW9FbGVtZW50LnN0eWxlLndpZHRoPVwiMTAwJVwiLHRoaXMudmlkZW9FbGVtZW50LnN0eWxlLmhlaWdodD1cIjEwMCVcIix0aGlzLnZpZGVvRWxlbWVudC5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsdGhpcy52aWRlb0VsZW1lbnQuc3R5bGUubGVmdD1cIjBcIix0aGlzLnZpZGVvRWxlbWVudC5zdHlsZS50b3A9XCIwXCI7fXVubW91bnRlZFZpZGVvRWxlbWVudCgpe3ZhciBlO2lmKChlPXRoaXMuY29udGFpbmVyKSE9PW51bGwmJmUhPT12b2lkIDAmJmUuY29udGFpbnModGhpcy52aWRlb0VsZW1lbnQpKXtzdXBlci5yZXNldFZpZGVvRWxlbWVudCgpO3RyeXt0aGlzLmNvbnRhaW5lciYmdGhpcy5jb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy52aWRlb0VsZW1lbnQpO31jYXRjaHt9dGhpcy52aWRlb0VsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpO319cmVzZXRWaWRlb0VsZW1lbnQoKXt2YXIgZTsoZT10aGlzLmNvbnRhaW5lcikhPT1udWxsJiZlIT09dm9pZCAwJiZlLmNvbnRhaW5zKHRoaXMudmlkZW9FbGVtZW50KSYmKHN1cGVyLnJlc2V0VmlkZW9FbGVtZW50KCksdGhpcy5jYWNoZVZpZGVvRWxlbWVudD10aGlzLnZpZGVvRWxlbWVudCx0aGlzLnZpZGVvRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIikpO31nZXRDb250YWluZXJFbGVtZW50KCl7cmV0dXJuIHRoaXMuY29udGFpbmVyfX0saUksckksb0ksc0ksYUksY0ksZEksbEksdUksaEkscEksX0ksRUksbUksZkksZ0ksVEksU0ksUkksQ0ksSUksdkkseUksQUksaHQsYkksd0ksT0ksTkksREksUEksa0ksTEksTG4sRnQ9KGlJPSQoe2FyZ3NNYXA6KHQsZSxuKT0+W3QuZ2V0VHJhY2tJZCgpLHR5cGVvZiBlPT1cInN0cmluZ1wiP2U6ZSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQ/XCJIVE1MVmlkZW9FbGVtZW50XCI6XCJIVE1MRWxlbWVudFwiLG5dfSksckk9c2UoKSxvST0kKHthcmdzTWFwOnQ9Plt0LmdldFRyYWNrSWQoKV19KSxzST0kcyhcIkxvY2FsVmlkZW9UcmFja1wiLFwiX2VuYWJsZWRNdXRleFwiKSxhST0kKHthcmdzTWFwOih0LGUpPT5bdC5nZXRUcmFja0lkKCksZV19KSxjST1zZSgpLGRJPSRzKFwiTG9jYWxWaWRlb1RyYWNrXCIsXCJfZW5hYmxlZE11dGV4XCIpLGxJPSQoe2FyZ3NNYXA6KHQsZSk9Plt0LmdldFRyYWNrSWQoKSxlXX0pLHVJPXNlKCksaEk9JCh7YXJnc01hcDoodCxlKT0+W3QuZ2V0VHJhY2tJZCgpLGVdfSkscEk9c2UoKSxfST1zZSgpLEVJPSQoe2FyZ3NNYXA6KHQsZSxuKT0+W3QuZ2V0VHJhY2tJZCgpLGUsbl19KSxtST1zZSgpLGZJPXNlKCksZ0k9c2UoKSxUST1zZSgpLFNJPXNlKCksUkk9c2UoKSxDST1zZSgpLElJPSQoe2FyZ3NNYXA6KHQsZSk9Plt0LmdldFRyYWNrSWQoKSxlLm5hbWVdfSksdkk9JCh7YXJnc01hcDp0PT5bdC5nZXRUcmFja0lkKCldfSkseUk9JCh7YXJnc01hcDp0PT5bdC5nZXRUcmFja0lkKCldfSksQUk9JCh7YXJnc01hcDoodCxlLG4pPT5bdC5nZXRUcmFja0lkKCksZS5sYWJlbCxuXX0pLGh0PWNsYXNzICRPIGV4dGVuZHMgbm97Z2V0IHZpZGVvSGVpZ2h0KCl7aWYoamUoKSl7bGV0e2hlaWdodDplfT10aGlzLl9tZWRpYVN0cmVhbVRyYWNrLmdldFNldHRpbmdzKCk7cmV0dXJuIHRoaXMuX3ZpZGVvSGVpZ2h0PWUsdGhpcy5fdmlkZW9IZWlnaHR9cmV0dXJuIHRoaXMuX3ZpZGVvSGVpZ2h0fWdldCB2aWRlb1dpZHRoKCl7aWYoamUoKSl7bGV0e3dpZHRoOmV9PXRoaXMuX21lZGlhU3RyZWFtVHJhY2suZ2V0U2V0dGluZ3MoKTtyZXR1cm4gdGhpcy5fdmlkZW9XaWR0aD1lLHRoaXMuX3ZpZGVvV2lkdGh9cmV0dXJuIHRoaXMuX3ZpZGVvV2lkdGh9Z2V0IGlzUGxheWluZygpe3JldHVybiAhKCF0aGlzLl9wbGF5ZXJ8fHRoaXMuX3BsYXllci52aWRlb0VsZW1lbnRTdGF0dXMhPT1ubi5QTEFZSU5HKX1nZXQgcHJvY2Vzc29yRGVzdGluYXRpb24oKXtyZXR1cm4gdGhpcy5fcHJvY2Vzc29yRGVzdGluYXRpb259Z2V0IHByb2Nlc3NvckNvbnRleHQoKXtyZXR1cm4gdGhpcy5fcHJvY2Vzc29yQ29udGV4dH1zZXQgcHJvY2Vzc29yQ29udGV4dChlKXt0aGlzLl9wcm9jZXNzb3JDb250ZXh0PWU7fWdldCBfX2NsYXNzTmFtZV9fKCl7cmV0dXJuIFwiTG9jYWxWaWRlb1RyYWNrXCJ9Y29uc3RydWN0b3IoZSxuLGkscixvLHMpe2lmKHN1cGVyKGUsbyksUCh0aGlzLFwidHJhY2tNZWRpYVR5cGVcIixmYS5WSURFTyksUCh0aGlzLFwiX3BsYXllclwiLHZvaWQgMCksUCh0aGlzLFwiaXNVc2VTY2FsZVJlc29sdXRpb25Eb3duQnlcIiwhMSksUCh0aGlzLFwiX3ZpZGVvVmlzaWJsZVRpbWVyXCIsbnVsbCksUCh0aGlzLFwiX3ByZXZpb3VzVmlkZW9WaXNpYmxlU3RhdHVzXCIsdm9pZCAwKSxQKHRoaXMsXCJfY2xlYXJQcmV2aW91c1ZpZGVvVmlzaWJsZVN0YXR1c1wiLCgpPT50aGlzLl9wcmV2aW91c1ZpZGVvVmlzaWJsZVN0YXR1cz12b2lkIDApLFAodGhpcyxcIl9lbmNvZGVyQ29uZmlnXCIsdm9pZCAwKSxQKHRoaXMsXCJfc2NhbGFiaWxpdHlNb2RlXCIse251bVNwYXRpYWxMYXllcnM6MSxudW1UZW1wb3JhbExheWVyczoxfSksUCh0aGlzLFwiX29wdGltaXphdGlvbk1vZGVcIix2b2lkIDApLFAodGhpcyxcIl92aWRlb0hlaWdodFwiLHZvaWQgMCksUCh0aGlzLFwiX3ZpZGVvV2lkdGhcIix2b2lkIDApLFAodGhpcyxcIl9mb3JjZUJpdHJhdGVMaW1pdFwiLHZvaWQgMCksUCh0aGlzLFwiX2VuYWJsZWRcIiwhMCksUCh0aGlzLFwiX3Byb2Nlc3NvckRlc3RpbmF0aW9uXCIsdm9pZCAwKSxQKHRoaXMsXCJfcHJvY2Vzc29yQ29udGV4dFwiLHZvaWQgMCksamUoKSl7bGV0e3dpZHRoOmEsaGVpZ2h0OmN9PWUuZ2V0U2V0dGluZ3MoKTt0aGlzLl92aWRlb1dpZHRoPWEsdGhpcy5fdmlkZW9IZWlnaHQ9Yzt9ZWxzZSB0aGlzLnVwZGF0ZU1lZGlhU3RyZWFtVHJhY2tSZXNvbHV0aW9uKCk7aWYodGhpcy5fZW5jb2RlckNvbmZpZz1uLHRoaXMuX3NjYWxhYmlsaXR5TW9kZT1pLHRoaXMuX29wdGltaXphdGlvbk1vZGU9cix0aGlzLl9oaW50cz1zfHxbXSx0aGlzLl9oaW50cy5pbmRleE9mKEd0LlNDUkVFTl9UUkFDSyk9PT0tMSl0aGlzLnVwZGF0ZUJpdHJhdGVGcm9tUHJvZmlsZSgpO2Vsc2UgaWYoZnVuY3Rpb24oYSxjLGQpe2xldCBsPW10KCk7cmV0dXJuICEobC5uYW1lIT09YXx8IWwub3NWZXJzaW9uKSYmKE51bWJlcihsLnZlcnNpb24pPT09Yyl9KEl0LkNIUk9NRSwxMTUpJiZIdSgpLmluZGV4T2YoXCJXaW5kb3dzXCIpIT09LTEpe2xldCBhPWZ1bmN0aW9uKGMsZCl7aWYoXCJWaWRlb0ZyYW1lXCJpbiB3aW5kb3cmJlwiVHJhbnNmb3JtU3RyZWFtXCJpbiB3aW5kb3cmJmZ0KCkuc3VwcG9ydFdlYlJUQ0luc2VydGFibGVTdHJlYW0pe2xldCBsPW5ldyBNZWRpYVN0cmVhbVRyYWNrUHJvY2Vzc29yKGMpLHU9bmV3IE1lZGlhU3RyZWFtVHJhY2tHZW5lcmF0b3Ioe2tpbmQ6XCJ2aWRlb1wifSksaCxwLGc9RGF0ZS5ub3coKSxFPSgpPT57ZiYmKGNsZWFySW50ZXJ2YWwoZiksZj12b2lkIDApLGgmJihoLmNsb3NlKCksaD12b2lkIDApLGMuc3RvcCgpLHA9dm9pZCAwLHUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsRSk7fSxmPXdpbmRvdy5zZXRJbnRlcnZhbCgoKT0+e2lmKHAmJmgmJkRhdGUubm93KCktZz4oMWUzKSl0cnl7dS5yZWFkeVN0YXRlPT09XCJsaXZlXCI/cC5lbnF1ZXVlKGguY2xvbmUoKSk6RSgpO31jYXRjaHtFKCk7fX0sMWUzKSxTPW5ldyBUcmFuc2Zvcm1TdHJlYW0oe3RyYW5zZm9ybTooQyxBKT0+e3UucmVhZHlTdGF0ZT09PVwibGl2ZVwiPyhwPUEsZz1EYXRlLm5vdygpLGg9PT12b2lkIDA/KGg9QyxBLmVucXVldWUoQy5jbG9uZSgpKSk6KEEuZW5xdWV1ZShoKSxoPUMpKTpDLmNsb3NlKCk7fX0pO3JldHVybiB1LmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLEUpLGwucmVhZGFibGUucGlwZVRocm91Z2goUykucGlwZVRvKHUud3JpdGFibGUpLHV9fShlKTthJiYoXy5pbmZvKFwibG9jYWwgc2NyZWVuIHZpZGVvIHRyYWNrIGJlZ2luIHRvIGluamVjdCBmcmFtZVwiKSx0aGlzLl9tZWRpYVN0cmVhbVRyYWNrPWEpO31uJiZ0aGlzLl9oaW50cy5pbmRleE9mKEd0LkNVU1RPTV9UUkFDSykhPT0tMSYmdGhpcy5zZXRFbmNvZGVyQ29uZmlndXJhdGlvbihuKSx0aGlzLl9wcm9jZXNzb3JDb250ZXh0PW5ldyBldSh0aGlzLmdldFRyYWNrSWQoKSxcImxvY2FsXCIpLHRoaXMuX3Byb2Nlc3NvckRlc3RpbmF0aW9uPW5ldyB0dSh0aGlzLnByb2Nlc3NvckNvbnRleHQpLHRoaXMuYmluZFByb2Nlc3NvckRlc3RpbmF0aW9uRXZlbnRzKCk7fXBsYXkoZSl7bGV0IG49YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOnt9O2lmKHR5cGVvZiBlPT1cInN0cmluZ1wiKXtsZXQgcj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKTtyP2U9cjooXy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSwnXSBjYW4gbm90IGZpbmQgXCIjJykuY29uY2F0KGUsJ1wiIGVsZW1lbnQsIHVzZSBkb2N1bWVudC5ib2R5JykpLGU9ZG9jdW1lbnQuYm9keSk7fV8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzdGFydCB2aWRlbyBwbGF5YmFjayBpbiBcIikuY29uY2F0KGUgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50P1wiSFRNTFZpZGVvRWxlbWVudFwiOlwiSFRNTEVsZW1lbnRcIiksSlNPTi5zdHJpbmdpZnkobikpO2xldCBpPUt0KEt0KEt0KHt9LHRoaXMuX2dldERlZmF1bHRQbGF5ZXJDb25maWcoKSksbikse30se3RyYWNrSWQ6dGhpcy5nZXRUcmFja0lkKCksZWxlbWVudDplfSk7dGhpcy5fcGxheWVyP3RoaXMuX3BsYXllci51cGRhdGVDb25maWcoaSk6KGUgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50P3RoaXMuX3BsYXllcj1uZXcga2MoaSk6dGhpcy5fcGxheWVyPW5ldyBzdShpKSx0aGlzLl9wbGF5ZXIudXBkYXRlVmlkZW9UcmFjayh0aGlzLl9tZWRpYVN0cmVhbVRyYWNrKSksdGhpcy5fcGxheWVyLnBsYXkoKSx0aGlzLl92aWRlb1Zpc2libGVUaW1lciYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fdmlkZW9WaXNpYmxlVGltZXIpLHRoaXMuX2NsZWFyUHJldmlvdXNWaWRlb1Zpc2libGVTdGF0dXMoKSx0aGlzLl92aWRlb1Zpc2libGVUaW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwoKCk9Pnt0cnl7bGV0IHI9dGhpcy5nZXRWaWRlb0VsZW1lbnRWaXNpYmxlU3RhdHVzKCk7dGhpcy5zYWZlRW1pdChtYS5WSURFT19FTEVNRU5UX1ZJU0lCTEVfU1RBVFVTLHIpO31jYXRjaHt9fSx2KFwiQ0hFQ0tfVklERU9fVklTSUJMRV9JTlRFUlZBTFwiKSk7fXN0b3AoKXt0aGlzLl9wbGF5ZXImJih0aGlzLl92aWRlb1Zpc2libGVUaW1lciYmKHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX3ZpZGVvVmlzaWJsZVRpbWVyKSx0aGlzLl92aWRlb1Zpc2libGVUaW1lcj1udWxsKSx0aGlzLl9jbGVhclByZXZpb3VzVmlkZW9WaXNpYmxlU3RhdHVzKCksdGhpcy5fcGxheWVyLmRlc3Ryb3koKSx0aGlzLl9wbGF5ZXI9dm9pZCAwLF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzdG9wIHZpZGVvIHBsYXliYWNrXCIpKSk7fWFzeW5jIHNldEVuYWJsZWQoZSxuKXtpZighbil7aWYoZT09PXRoaXMuX2VuYWJsZWQpcmV0dXJuO3RoaXMuc3RhdGVDaGVjayhcImVuYWJsZWRcIixlKTt9aWYoXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc3RhcnQgc2V0RW5hYmxlZFwiKSxlKSwhZSl7dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5lbmFibGVkPSExO3RyeXthd2FpdCBrdCh0aGlzLEguTkVFRF9ESVNBQkxFX1RSQUNLLHRoaXMpO31jYXRjaChpKXt0aHJvdyBfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RW5hYmxlZCB0byBmYWxzZSBlcnJvclwiKSxpLnRvU3RyaW5nKCkpLGl9cmV0dXJuIG58fCh0aGlzLl9lbmFibGVkPSExKSx2b2lkIF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuYWJsZWQgdG8gZmFsc2Ugc3VjY2Vzc1wiKSl9dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5lbmFibGVkPSEwO3RyeXthd2FpdCBrdCh0aGlzLEguTkVFRF9FTkFCTEVfVFJBQ0ssdGhpcyk7fWNhdGNoKGkpe3Rocm93IF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXRFbmFibGVkIHRvIHRydWUgZXJyb3JcIiksaS50b1N0cmluZygpKSxpfV8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuYWJsZWQgdG8gdHJ1ZSBzdWNjZXNzXCIpKSxufHwodGhpcy5fZW5hYmxlZD0hMCk7fWFzeW5jIHNldE11dGVkKGUpe2UhPT10aGlzLl9tdXRlZCYmKHRoaXMuc3RhdGVDaGVjayhcIm11dGVkXCIsZSksdGhpcy5fbXV0ZWQ9ZSx0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWQ9IWUsXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHN0YXJ0IHNldCBtdXRlZDogXCIpLmNvbmNhdChlKSksZT9hd2FpdCBrdCh0aGlzLEguTkVFRF9NVVRFX1RSQUNLLHRoaXMpOmF3YWl0IGt0KHRoaXMsSC5ORUVEX1VOTVVURV9UUkFDSyx0aGlzKSk7fWFzeW5jIHNldEVuY29kZXJDb25maWd1cmF0aW9uKGUsbil7aWYoIXRoaXMuX2VuYWJsZWQpdGhyb3cgbmV3IE4oUi5UUkFDS19JU19ESVNBQkxFRCxcImNhbiBub3Qgc2V0IGVuY29kZXIgY29uZmlndXJhdGlvbiB3aGVuIHRyYWNrIGlzIGRpc2FibGVkXCIpO2lmKGU9Y3IoZSksdGhpcy5fZm9yY2VCaXRyYXRlTGltaXQmJihlLmJpdHJhdGVNYXg9dGhpcy5fZm9yY2VCaXRyYXRlTGltaXQubWF4X2JpdHJhdGU/dGhpcy5fZm9yY2VCaXRyYXRlTGltaXQubWF4X2JpdHJhdGU6ZS5iaXRyYXRlTWF4LGUuYml0cmF0ZU1pbj10aGlzLl9mb3JjZUJpdHJhdGVMaW1pdC5taW5fYml0cmF0ZT90aGlzLl9mb3JjZUJpdHJhdGVMaW1pdC5taW5fYml0cmF0ZTplLmJpdHJhdGVNaW4pLGUud2lkdGh8fGUuaGVpZ2h0fHxlLmZyYW1lUmF0ZSl7bGV0IGk9cnUoe2VuY29kZXJDb25maWc6ZX0pOyhqZSgpfHxsbigpfHx2aSgpKSYmKGkuZGV2aWNlSWQ9dm9pZCAwKSxfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RW5jb2RlckNvbmZpZ3VyYXRpb24gYXBwbHlDb25zdHJhaW50c1wiKSxKU09OLnN0cmluZ2lmeShlKSxKU09OLnN0cmluZ2lmeShpKSk7dHJ5e2F3YWl0IHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suYXBwbHlDb25zdHJhaW50cyhpKSx0aGlzLnVwZGF0ZU1lZGlhU3RyZWFtVHJhY2tSZXNvbHV0aW9uKCk7fWNhdGNoKHIpe2xldCBvPW5ldyBOKFIuVU5FWFBFQ1RFRF9FUlJPUixyLnRvU3RyaW5nKCkpO3Rocm93IF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBhcHBseUNvbnN0cmFpbnRzIGVycm9yXCIpLG8udG9TdHJpbmcoKSksb319dGhpcy5fZW5jb2RlckNvbmZpZz1lLHRoaXMuX2hpbnRzLmluZGV4T2YoR3QuU0NSRUVOX1RSQUNLKT09PS0xJiZ0aGlzLnVwZGF0ZUJpdHJhdGVGcm9tUHJvZmlsZSgpO3RyeXthd2FpdCBrdCh0aGlzLEguTkVFRF9VUERBVEVfVklERU9fRU5DT0RFUix0aGlzKTt9Y2F0Y2goaSl7cmV0dXJuIGkudGhyb3coXyl9fWdldFN0YXRzKCl7cmV0dXJuIHBvKCgpPT57Xy53YXJuaW5nKFwiW2RlcHJlY2F0ZWRdIExvY2FsVmlkZW9UcmFjay5nZXRTdGF0cyB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZSwgdXNlIEFnb3JhUlRDQ2xpZW50LmdldExvY2FsVmlkZW9TdGF0cyBpbnN0ZWFkXCIpO30sXCJsb2NhbFZpZGVvVHJhY2tHZXRTdGF0c1dhcm5pbmdcIiksbmkodGhpcyxILkdFVF9TVEFUUyl8fEt0KHt9LFlFKX1hc3luYyBzZXRCZWF1dHlFZmZlY3QoZSl7Xy5lcnJvcihcIkxvY2FsVmlkZW9UcmFjay5zZXRCZWF1dHlFZmZlY3Qgd2FzIGRlcHJlY2F0ZWQsIHBsZWFzZSBtaWdyYXRlIHRvIGFnb3JhLWV4dGVuc2lvbi1iZWF1dHktZWZmZWN0XCIpO31nZXRDdXJyZW50RnJhbWVEYXRhKCl7cmV0dXJuIHRoaXMuX3BsYXllcj90aGlzLl9wbGF5ZXIuZ2V0Q3VycmVudEZyYW1lKCk6bmV3IEltYWdlRGF0YSgyLDIpfWFzeW5jIGdldEN1cnJlbnRGcmFtZUltYWdlKGUpe2xldCBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXToxO3JldHVybiB0aGlzLl9wbGF5ZXI/dGhpcy5fcGxheWVyLmdldEN1cnJlbnRGcmFtZVRvVWludDhBcnJheShlLG4pOmF3YWl0IENmKGUpfWFzeW5jIHNldEJpdHJhdGVMaW1pdChlKXtpZihfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0IGJpdHJhdGUgbGltaXQsIFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoZSkpKSxlKXt0aGlzLl9mb3JjZUJpdHJhdGVMaW1pdD1lLHRoaXMuX2VuY29kZXJDb25maWcmJih0aGlzLl9lbmNvZGVyQ29uZmlnLmJpdHJhdGVNYXg/dGhpcy5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWF4PXRoaXMuX2VuY29kZXJDb25maWcuYml0cmF0ZU1heDxlLm1heF9iaXRyYXRlP3RoaXMuX2VuY29kZXJDb25maWcuYml0cmF0ZU1heDplLm1heF9iaXRyYXRlOnRoaXMuX2VuY29kZXJDb25maWcuYml0cmF0ZU1heD1lLm1heF9iaXRyYXRlLHRoaXMuX2VuY29kZXJDb25maWcuYml0cmF0ZU1pbix0aGlzLl9lbmNvZGVyQ29uZmlnLmJpdHJhdGVNaW49ZS5taW5fYml0cmF0ZSk7dHJ5e2F3YWl0IGt0KHRoaXMsSC5ORUVEX1VQREFURV9WSURFT19FTkNPREVSLHRoaXMpO31jYXRjaChuKXtyZXR1cm4gbi50aHJvdyhfKX19fWFzeW5jIHNldE9wdGltaXphdGlvbk1vZGUoZSl7aWYoZSE9PVwibW90aW9uXCImJmUhPT1cImRldGFpbFwiJiZlIT09XCJiYWxhbmNlZFwiKXJldHVybiB2b2lkIF8uZXJyb3IoUi5JTlZBTElEX1BBUkFNUyxcIm9wdGltaXphdGlvbiBtb2RlIG11c3QgYmUgbW90aW9uLCBkZXRhaWwgb3IgYmFsYW5jZWRcIik7bGV0IG49dGhpcy5fb3B0aW1pemF0aW9uTW9kZTt0cnl7dGhpcy5fb3B0aW1pemF0aW9uTW9kZT1lLGF3YWl0IGt0KHRoaXMsSC5ORUVEX1VQREFURV9WSURFT19TRU5EX1BBUkFNRVRFUlMsdGhpcyk7fWNhdGNoKGkpe3Rocm93IHRoaXMuX29wdGltaXphdGlvbk1vZGU9bixfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0IG9wdGltaXphdGlvbiBtb2RlIGZhaWxlZFwiKSxpLnRvU3RyaW5nKCkpLGl9Xy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0IG9wdGltaXphdGlvbiBtb2RlIHN1Y2Nlc3MgKFwiKS5jb25jYXQoZSxcIilcIikpO31zZXRTY2FsYWJpbHR5TW9kZShlKXtpZihlLm51bVNwYXRpYWxMYXllcnM9PT0xJiZlLm51bVRlbXBvcmFsTGF5ZXJzIT09MSlyZXR1cm4gXy5lcnJvcihSLklOVkFMSURfUEFSQU1TLFwic2NhbGFiaWxpdHkgbW9kZSBjdXJyZW50bHkgbm90IHN1cHBvcnRlZCwgbm8gU1ZDLlwiKSx2b2lkKHRoaXMuX3NjYWxhYmlsaXR5TW9kZT17bnVtU3BhdGlhbExheWVyczoxLG51bVRlbXBvcmFsTGF5ZXJzOjF9KTt0aGlzLl9zY2FsYWJpbGl0eU1vZGU9ZSxfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXQgc2NhbGFiaWxpdHkgbW9kZSBzdWNjZXNzIChcIikuY29uY2F0KGUsXCIpXCIpKTt9dXBkYXRlTWVkaWFTdHJlYW1UcmFja1Jlc29sdXRpb24oKXtYTyh0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrKS50aGVuKGU9PntsZXRbbixpXT1lO3RoaXMuX3ZpZGVvSGVpZ2h0PWksdGhpcy5fdmlkZW9XaWR0aD1uO30pLmNhdGNoKHp1KTt9X3VwZGF0ZVBsYXllclNvdXJjZSgpe3RoaXMuX3BsYXllciYmdGhpcy5fcGxheWVyLnVwZGF0ZVZpZGVvVHJhY2sodGhpcy5fbWVkaWFTdHJlYW1UcmFjayk7fV9nZXREZWZhdWx0UGxheWVyQ29uZmlnKCl7cmV0dXJuIHtmaXQ6XCJjb250YWluXCJ9fWFzeW5jIHNldFNlbmRlckNvbmZpZ3VyYXRpb24oZSl7aWYoIXRoaXMuX2VuYWJsZWQpdGhyb3cgbmV3IE4oUi5UUkFDS19JU19ESVNBQkxFRCxcImNhbiBub3Qgc2V0IGVuY29kZXIgY29uZmlndXJhdGlvbiB3aGVuIHRyYWNrIGlzIGRpc2FibGVkXCIpO18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXRTZW5kZXJDb25maWd1cmF0aW9uIGFwcGx5Q29uc3RyYWludHNcIiksSlNPTi5zdHJpbmdpZnkoZSkpLGU9Y3IoZSksdGhpcy5fZm9yY2VCaXRyYXRlTGltaXQmJihlLmJpdHJhdGVNYXg9dGhpcy5fZm9yY2VCaXRyYXRlTGltaXQubWF4X2JpdHJhdGU/dGhpcy5fZm9yY2VCaXRyYXRlTGltaXQubWF4X2JpdHJhdGU6ZS5iaXRyYXRlTWF4LGUuYml0cmF0ZU1pbj10aGlzLl9mb3JjZUJpdHJhdGVMaW1pdC5taW5fYml0cmF0ZT90aGlzLl9mb3JjZUJpdHJhdGVMaW1pdC5taW5fYml0cmF0ZTplLmJpdHJhdGVNaW4pLHRoaXMuX2VuY29kZXJDb25maWc9ZSx0aGlzLl9oaW50cy5pbmRleE9mKEd0LlNDUkVFTl9UUkFDSyk9PT0tMSYmdGhpcy51cGRhdGVCaXRyYXRlRnJvbVByb2ZpbGUoKTt0cnl7YXdhaXQga3QodGhpcyxILk5FRURfVVBEQVRFX1ZJREVPX0VOQ09ERVIsdGhpcyk7fWNhdGNoKG4pe3JldHVybiBuLnRocm93KF8pfX11cGRhdGVCaXRyYXRlRnJvbVByb2ZpbGUoKXtpZighdGhpcy5fZW5jb2RlckNvbmZpZylyZXR1cm47bGV0e3dpZHRoOmUsaGVpZ2h0Om4sZnJhbWVSYXRlOml9PXRoaXMuZ2V0TWVkaWFTdHJlYW1UcmFja1NldHRpbmdzKCk7aWYoIWV8fCFufHwhaSlyZXR1cm47bGV0e2JpdHJhdGVNYXg6cixiaXRyYXRlTWluOm99PXRoaXMuX2VuY29kZXJDb25maWc7aWYobz09bnVsbHx8cj09bnVsbCl7bGV0e21heDpzLG1pbjphfT1mdW5jdGlvbihjLGQsbCx1LGgpe2xldCBwPXYoXCJCSVRSQVRFX0FEQVBURVJfVFlQRVwiKTtpZihwPT09XCJERUZBVUxUX0JJVFJBVEVcIilyZXR1cm4ge21pbjp1LG1heDpofTtpZihoPT09dm9pZCAwKXt2YXIgZztsZXQgZj1NYXRoLmZsb29yKDIwMCpNYXRoLnBvdyhsLzE1LC42KSpNYXRoLnBvdyhjKmQvNjQwLzM2MCwuNzUpKTtoPXA9PT1cIlNUQU5EQVJEX0JJVFJBVEVcIj80KmY6MipmLHU9KGc9dSkhPT1udWxsJiZnIT09dm9pZCAwP2c6Zjt9ZWxzZSB7dmFyIEU7dT0oRT11KSE9PW51bGwmJkUhPT12b2lkIDA/RTpNYXRoLmZsb29yKGgvMTApO31yZXR1cm4ge21pbjp1LG1heDpofX0oZSxuLGksbyxyKTt0aGlzLl9lbmNvZGVyQ29uZmlnLmJpdHJhdGVNaW49YSx0aGlzLl9lbmNvZGVyQ29uZmlnLmJpdHJhdGVNYXg9cyxfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gdXBkYXRlIGJpdHJhdGUgZnJvbSBwcm9maWxlLCBbdzogXCIpLmNvbmNhdChlLFwiLCBoOiBcIikuY29uY2F0KG4sXCIsIGZwczogXCIpLmNvbmNhdChpLFwiXSA9PiBbYnJNYXg6IFwiKS5jb25jYXQocyxcIiwgYnJNaW46IFwiKS5jb25jYXQoYSxcIl1cIikpO319Z2V0VmlkZW9FbGVtZW50VmlzaWJsZVN0YXR1cygpe3RyeXt2YXIgZSxuO2xldCBpPXRoaXM9PW51bGx8fChlPXRoaXMuX3BsYXllcik9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLmdldENvbnRhaW5lckVsZW1lbnQoKSxyPXt0cmFjazp0aGlzLGVsZW1lbnQ6dGhpcz09bnVsbHx8KG49dGhpcy5fcGxheWVyKT09PW51bGx8fG49PT12b2lkIDA/dm9pZCAwOm4uZ2V0VmlkZW9FbGVtZW50KCksc2xvdDppPy5wYXJlbnRFbGVtZW50fSx7ZWxlbWVudDpvLHNsb3Q6c309cjtpZih0aGlzLmlzUGxheWluZyYmbyBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQmJnMgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCl7bGV0IGE9Q08uY2hlY2tPbmVFbGVtZW50VmlzaWJsZShvKSxjPU9iamVjdC5hc3NpZ24oe30sYSk7aWYoYy52aXNpYmxlIT09dGhpcy5fcHJldmlvdXNWaWRlb1Zpc2libGVTdGF0dXMpe3RoaXMuX3ByZXZpb3VzVmlkZW9WaXNpYmxlU3RhdHVzPWMudmlzaWJsZTtsZXQgZD1YLnJlcG9ydEFwaUludm9rZShudWxsLHt0YWc6WnQuVFJBQ0VSLG5hbWU6VGUuTE9DQUxfVklERU9fVFJBQ0tfR0VUX1ZJREVPX1ZJU0lCTEUsb3B0aW9uczpbdGhpcy5nZXRUcmFja0lkKCldfSk7Yy52aXNpYmxlP2Qub25TdWNjZXNzKFwiVmlkZW8gaXMgdmlzaWJsZVwiKTpkLm9uU3VjY2VzcyhcIkludmlzaWJsZSBiZWNhdXNlIG9mIFwiLmNvbmNhdChjLnJlYXNvbikpO31yZXR1cm4gY31yZXR1cm59Y2F0Y2goaSl7dGhyb3cgbmV3IE4oUi5HRVRfVklERU9fRUxFTUVOVF9WSVNJQkxFX0VSUk9SLGkubWVzc2FnZSl9fWFzeW5jIHJlbmV3TWVkaWFTdHJlYW1UcmFjayhlKXt9cGlwZShlKXtpZih0aGlzLnByb2Nlc3Nvcj09PWUpcmV0dXJuIGU7aWYoZS5fc291cmNlKXRocm93IG5ldyBOKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJQcm9jZXNzb3IgXCIuY29uY2F0KGUubmFtZSxcIiBhbHJlYWR5IHBpcGVkLCBwbGVhc2UgY2FsbCB1bnBpcGUgYmVmb3JlaGFuZC5cIikpO3JldHVybiB0aGlzLnVucGlwZSgpLHRoaXMucHJvY2Vzc29yPWUsdGhpcy5wcm9jZXNzb3IuX3NvdXJjZT10aGlzLGUudXBkYXRlSW5wdXQoe3RyYWNrOnRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2ssY29udGV4dDp0aGlzLnByb2Nlc3NvckNvbnRleHR9KSxlfXVucGlwZSgpe2lmKCF0aGlzLnByb2Nlc3NvcilyZXR1cm47bGV0IGU9dGhpcy5wcm9jZXNzb3I7dGhpcy5wcm9jZXNzb3IuX3NvdXJjZT12b2lkIDAsdGhpcy5wcm9jZXNzb3I9dm9pZCAwLGUucmVzZXQoKTt9Y2xvc2UoKXtzdXBlci5jbG9zZSgpLHRoaXMudW5iaW5kUHJvY2Vzc29yRGVzdGluYXRpb25FdmVudHMoKSx0aGlzLnVuYmluZFByb2Nlc3NvckNvbnRleHRFdmVudHMoKSx0aGlzLnVucGlwZSgpLHRoaXMucHJvY2Vzc29yRGVzdGluYXRpb24uX3NvdXJjZSYmdGhpcy5wcm9jZXNzb3JEZXN0aW5hdGlvbi5fc291cmNlLnVucGlwZSgpO31jbG9uZShlKXtsZXQgbj0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwKXx8YXJndW1lbnRzWzFdLGk9dGhpcy5fZW5jb2RlckNvbmZpZztlJiYoaT1LdChLdCh7fSxpKSxjcihlKSkpLGk9Vm8oaSk7bGV0IHI9VXQoOCxcInRyYWNrLXZpZGVvLWNsb25lZC1cIiksbz1uZXcgJE8obj90aGlzLl9tZWRpYVN0cmVhbVRyYWNrLmNsb25lKCk6dGhpcy5fbWVkaWFTdHJlYW1UcmFjayxpLFZvKHRoaXMuX3NjYWxhYmlsaXR5TW9kZSksdGhpcy5fb3B0aW1pemF0aW9uTW9kZSxyLFZvKHRoaXMuX2hpbnRzKSk7cmV0dXJuIGUmJmkmJm8uc2V0RW5jb2RlckNvbmZpZ3VyYXRpb24oaSksXy5kZWJ1ZyhcImNsb25lIHZpZGVvIHRyYWNrIGZyb20gXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiIHRvIFwiKS5jb25jYXQocixcIiwgY2xvbmUgXCIpLmNvbmNhdChuKSksb31hc3luYyByZXBsYWNlVHJhY2soZSxuKXtpZighKGUgaW5zdGFuY2VvZiBNZWRpYVN0cmVhbVRyYWNrKSl0aHJvdyBuZXcgTihSLklOVkFMSURfUEFSQU1TLFwidHJhY2sgc2hvdWxkIGJlIGFuIGluc3RhbmNlIG9mIE1lZGlhU3RyZWFtVHJhY2tcIik7aWYoZS5raW5kIT09XCJ2aWRlb1wiKXRocm93IG5ldyBOKFIuSU5WQUxJRF9QQVJBTVMsXCJ0cmFjayBzaG91bGQgYmUgYSB2aWRlbyBNZWRpYVN0cmVhbVRyYWNrXCIpO2F3YWl0IHRoaXMuX3VwZGF0ZU9yaWdpbk1lZGlhU3RyZWFtVHJhY2soZSxuLCEwKSx0aGlzLnVwZGF0ZU1lZGlhU3RyZWFtVHJhY2tSZXNvbHV0aW9uKCk7fXNlbmRTZWlEYXRhKGUpe2lmKHBvKCgpPT57WC5yZXBvcnRBcGlJbnZva2UobnVsbCx7bmFtZTpUZS5MT0NBTF9WSURFT19TRU5EX1NFSV9EQVRBLG9wdGlvbnM6W10sdGFnOlp0LlRSQUNFUn0pLm9uU3VjY2VzcyhcIlwiKTt9LHRoaXMuX21lZGlhU3RyZWFtVHJhY2suaWR8fHRoaXMuZ2V0VHJhY2tJZCgpKSwhdihcIkVOQUJMRV9WSURFT19TRUlcIil8fCF2KFwiRU5BQkxFX0VOQ09ERURfVFJBTlNGT1JNXCIpKXJldHVybiB2b2lkIF8ud2FybmluZygnVG8gc2VuZC9yZWNlaXZlIFNFSSwgcGxlYXNlIGNhbGwgQWdvcmFSVEMuc2V0UGFyYW1ldGVyKFwiRU5BQkxFX1ZJREVPX1NFSVwiLCB0cnVlKSBiZWZvcmUgaW5zdGFudGlhdGUgSUFnb3JhUnRjQ2xpZW50Jyk7aWYoZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk9PTApcmV0dXJuIG5ldyBOKFIuSU5WQUxJRF9QQVJBTVMsXCJJbnZhbGlkIGFyZ3VtZW50IHR5cGUsIElMb2NhbFZpZGVvVHJhY2suc2VuZFNlaURhdGEoKSBvbmx5IGFjY2VwdCBVaW50OEFycmF5IGFyZ3VtZW50LlwiKS50aHJvdygpO2xldCBuPXRoaXMuZ2V0UlRDUnRwVHJhbnNjZWl2ZXIoKTtpZighbilyZXR1cm4gdm9pZCBfLndhcm5pbmcoXCJWaWRlbyB0cmFjayBpcyBub3QgcHVibGlzaGVkLCBTRUkgY2FuIG5vdCBiZSBzZW5kXCIpO2xldCBpPW4uc2VuZGVyLmdldFBhcmFtZXRlcnMoKTtpZihpLmNvZGVjcy5sZW5ndGg9PT0wKXJldHVybjtsZXQgcj1pLmNvZGVjc1swXS5taW1lVHlwZS50b0xvY2FsZUxvd2VyQ2FzZSgpO3I9PT1cInZpZGVvL2gyNjRcIj90aGlzLnNhZmVFbWl0KFwic2VpLXRvLXNlbmRcIixlKTpfLndhcm5pbmcoXCJTRUkgaXMgbm90IHN1cHBvcnRlZCBieSBcIi5jb25jYXQocikpO31iaW5kUHJvY2Vzc29yRGVzdGluYXRpb25FdmVudHMoKXt0aGlzLnByb2Nlc3NvckRlc3RpbmF0aW9uLm9uKHVuLk9OX1RSQUNLLGFzeW5jIGU9PntlP2UhPT10aGlzLl9tZWRpYVN0cmVhbVRyYWNrJiYodGhpcy5fbWVkaWFTdHJlYW1UcmFjaz1lLHRoaXMuX3VwZGF0ZVBsYXllclNvdXJjZSgpLGF3YWl0IGt0KHRoaXMsSC5ORUVEX1JFUExBQ0VfVFJBQ0ssdGhpcykpOnRoaXMuX21lZGlhU3RyZWFtVHJhY2shPT10aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrJiYodGhpcy5fbWVkaWFTdHJlYW1UcmFjaz10aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLHRoaXMuX3VwZGF0ZVBsYXllclNvdXJjZSgpLGF3YWl0IGt0KHRoaXMsSC5ORUVEX1JFUExBQ0VfVFJBQ0ssdGhpcykpO30pO311bmJpbmRQcm9jZXNzb3JEZXN0aW5hdGlvbkV2ZW50cygpe3RoaXMucHJvY2Vzc29yRGVzdGluYXRpb24ucmVtb3ZlQWxsTGlzdGVuZXJzKHVuLk9OX1RSQUNLKTt9dW5iaW5kUHJvY2Vzc29yQ29udGV4dEV2ZW50cygpe3RoaXMucHJvY2Vzc29yQ29udGV4dC5yZW1vdmVBbGxMaXN0ZW5lcnMoV24uUkVRVUVTVF9VUERBVEVfQ09OU1RSQUlOVFMpLHRoaXMucHJvY2Vzc29yQ29udGV4dC5yZW1vdmVBbGxMaXN0ZW5lcnMoV24uUkVRVUVTVF9DT05TVFJBSU5UUyk7fX0sRXQoaHQucHJvdG90eXBlLFwicGxheVwiLFtpSSxySV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihodC5wcm90b3R5cGUsXCJwbGF5XCIpLGh0LnByb3RvdHlwZSksRXQoaHQucHJvdG90eXBlLFwic3RvcFwiLFtvSV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihodC5wcm90b3R5cGUsXCJzdG9wXCIpLGh0LnByb3RvdHlwZSksRXQoaHQucHJvdG90eXBlLFwic2V0RW5hYmxlZFwiLFtzSSxhSSxjSV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihodC5wcm90b3R5cGUsXCJzZXRFbmFibGVkXCIpLGh0LnByb3RvdHlwZSksRXQoaHQucHJvdG90eXBlLFwic2V0TXV0ZWRcIixbZEksbEksdUldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaHQucHJvdG90eXBlLFwic2V0TXV0ZWRcIiksaHQucHJvdG90eXBlKSxFdChodC5wcm90b3R5cGUsXCJzZXRFbmNvZGVyQ29uZmlndXJhdGlvblwiLFtoSSxwSV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihodC5wcm90b3R5cGUsXCJzZXRFbmNvZGVyQ29uZmlndXJhdGlvblwiKSxodC5wcm90b3R5cGUpLEV0KGh0LnByb3RvdHlwZSxcImdldFN0YXRzXCIsW19JXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGh0LnByb3RvdHlwZSxcImdldFN0YXRzXCIpLGh0LnByb3RvdHlwZSksRXQoaHQucHJvdG90eXBlLFwic2V0QmVhdXR5RWZmZWN0XCIsW0VJLG1JXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGh0LnByb3RvdHlwZSxcInNldEJlYXV0eUVmZmVjdFwiKSxodC5wcm90b3R5cGUpLEV0KGh0LnByb3RvdHlwZSxcImdldEN1cnJlbnRGcmFtZURhdGFcIixbZkldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaHQucHJvdG90eXBlLFwiZ2V0Q3VycmVudEZyYW1lRGF0YVwiKSxodC5wcm90b3R5cGUpLEV0KGh0LnByb3RvdHlwZSxcImdldEN1cnJlbnRGcmFtZUltYWdlXCIsW2dJXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGh0LnByb3RvdHlwZSxcImdldEN1cnJlbnRGcmFtZUltYWdlXCIpLGh0LnByb3RvdHlwZSksRXQoaHQucHJvdG90eXBlLFwic2V0Qml0cmF0ZUxpbWl0XCIsW1RJXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGh0LnByb3RvdHlwZSxcInNldEJpdHJhdGVMaW1pdFwiKSxodC5wcm90b3R5cGUpLEV0KGh0LnByb3RvdHlwZSxcInNldE9wdGltaXphdGlvbk1vZGVcIixbU0ldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaHQucHJvdG90eXBlLFwic2V0T3B0aW1pemF0aW9uTW9kZVwiKSxodC5wcm90b3R5cGUpLEV0KGh0LnByb3RvdHlwZSxcInNldFNjYWxhYmlsdHlNb2RlXCIsW1JJXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGh0LnByb3RvdHlwZSxcInNldFNjYWxhYmlsdHlNb2RlXCIpLGh0LnByb3RvdHlwZSksRXQoaHQucHJvdG90eXBlLFwidXBkYXRlTWVkaWFTdHJlYW1UcmFja1Jlc29sdXRpb25cIixbQ0ldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaHQucHJvdG90eXBlLFwidXBkYXRlTWVkaWFTdHJlYW1UcmFja1Jlc29sdXRpb25cIiksaHQucHJvdG90eXBlKSxFdChodC5wcm90b3R5cGUsXCJwaXBlXCIsW0lJXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGh0LnByb3RvdHlwZSxcInBpcGVcIiksaHQucHJvdG90eXBlKSxFdChodC5wcm90b3R5cGUsXCJ1bnBpcGVcIixbdkldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaHQucHJvdG90eXBlLFwidW5waXBlXCIpLGh0LnByb3RvdHlwZSksRXQoaHQucHJvdG90eXBlLFwiY2xvc2VcIixbeUldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaHQucHJvdG90eXBlLFwiY2xvc2VcIiksaHQucHJvdG90eXBlKSxFdChodC5wcm90b3R5cGUsXCJyZXBsYWNlVHJhY2tcIixbQUldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaHQucHJvdG90eXBlLFwicmVwbGFjZVRyYWNrXCIpLGh0LnByb3RvdHlwZSksaHQpLFhFPShiST0kKHthcmdzTWFwOih0LGUpPT5bdC5nZXRUcmFja0lkKCksZV19KSx3ST1zZSgpLE9JPSRzKFwiQ2FtZXJhVmlkZW9UcmFja1wiLFwiX2VuYWJsZWRNdXRleFwiKSxOST0kKHthcmdzTWFwOih0LGUpPT5bdC5nZXRUcmFja0lkKCksZV19KSxEST1zZSgpLFBJPSQoe2FyZ3NNYXA6KHQsZSk9Plt0LmdldFRyYWNrSWQoKSxlXX0pLGtJPXNlKCksTEk9JCh7YXJnc01hcDp0PT5bdC5nZXRUcmFja0lkKCldfSksTG49Y2xhc3MgdDAgZXh0ZW5kcyBGdHtnZXQgX19jbGFzc05hbWVfXygpe3JldHVybiBcIkNhbWVyYVZpZGVvVHJhY2tcIn1jb25zdHJ1Y3RvcihlLG4saSxyLG8scyl7c3VwZXIoZSxjcihuLmVuY29kZXJDb25maWcpLHIsbyxzKSxQKHRoaXMsXCJfY29uZmlnXCIsdm9pZCAwKSxQKHRoaXMsXCJfb3JpZ2luYWxDb25zdHJhaW50c1wiLHZvaWQgMCksUCh0aGlzLFwiX2NvbnN0cmFpbnRzXCIsdm9pZCAwKSxQKHRoaXMsXCJfZW5hYmxlZFwiLCEwKSxQKHRoaXMsXCJfZGV2aWNlTmFtZVwiLFwiZGVmYXVsdFwiKSxQKHRoaXMsXCJ0cnlSZXN1bWVWaWRlb0ZvcklPUzE1XzE2V2VDaGF0XCIsYXN5bmMoKT0+eyhacygpfHxORSgpKSYmIWZ1bmN0aW9uKCl7bGV0IGE9bXQoKTtpZihhLm9zIT09eWUuSU9TfHwhYS5vc1ZlcnNpb24pcmV0dXJuICExO2xldCBjPWEub3NWZXJzaW9uLnNwbGl0KFwiLlwiKTtyZXR1cm4gTnVtYmVyKGNbMF0pPT09MTUmJk51bWJlcihjWzFdKT49Mn0oKSYmVE8oKSYmdGhpcy5fZW5hYmxlZCYmIXRoaXMuX2lzQ2xvc2VkJiYoXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHRyeSBjYXB0dXJlIGNhbWVyYSBtZWRpYSBkZXZpY2UgZm9yIGludGVycnVwdGVkIGlPUyAxNSBkZXZpY2Ugb24gV2VDaGF0LlwiKSksYXdhaXQgdGhpcy5yZW5ld01lZGlhU3RyZWFtVHJhY2soKSk7fSksdGhpcy5fY29uZmlnPW4sdGhpcy5fb3JpZ2luYWxDb25zdHJhaW50cz1pLHRoaXMuX2NvbnN0cmFpbnRzPWksdGhpcy5fZGV2aWNlTmFtZT1lLmxhYmVsLHRoaXMuX2VuY29kZXJDb25maWc9Y3IodGhpcy5fY29uZmlnLmVuY29kZXJDb25maWcpLHd0Lm9uKGtlLklPU18xNV8xNl9JTlRFUlJVUFRJT05fRU5ELHRoaXMudHJ5UmVzdW1lVmlkZW9Gb3JJT1MxNV8xNldlQ2hhdCksd3Qub24oa2UuSU9TX0lOVEVSUlVQVElPTl9FTkQsdGhpcy50cnlSZXN1bWVWaWRlb0ZvcklPUzE1XzE2V2VDaGF0KSx0aGlzLmJpbmRQcm9jZXNzb3JDb250ZXh0RXZlbnRzKCk7fWFzeW5jIHNldERldmljZShlKXtyZXR1cm4gdHlwZW9mIGU9PVwic3RyaW5nXCI/dGhpcy5fc2V0RGV2aWNlQnlJZChlKTplLmRldmljZUlkP3RoaXMuX3NldERldmljZUJ5SWQoZS5kZXZpY2VJZCk6ZS5mYWNpbmdNb2RlP3RoaXMuX3NldERldmljZUJ5RmFjaW5nTW9kZWwoZS5mYWNpbmdNb2RlKTp2b2lkIDB9YXN5bmMgX3NldERldmljZUJ5SWQoZSl7aWYoXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0IGRldmljZSB0byBcIikuY29uY2F0KGUpKSx0aGlzLl9lbmFibGVkKXRyeXtsZXQgbj1hd2FpdCBHbi5nZXREZXZpY2VCeUlkKGUpLGk9e307aS52aWRlbz1LdCh7fSx0aGlzLl9jb25zdHJhaW50cyksaS52aWRlby5kZXZpY2VJZD17ZXhhY3Q6ZX0saS52aWRlby5mYWNpbmdNb2RlPXZvaWQgMCx0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLnN0b3AoKTtsZXQgcj1udWxsO3RyeXtyPWF3YWl0IEZuKGksdGhpcy5nZXRUcmFja0lkKCkpO31jYXRjaChvKXt0aHJvdyBfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RGV2aWNlIGZhaWxlZFwiKSxvLnRvU3RyaW5nKCkpLHI9YXdhaXQgRm4oe3ZpZGVvOnRoaXMuX2NvbnN0cmFpbnRzfSx0aGlzLmdldFRyYWNrSWQoKSksYXdhaXQgdGhpcy5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhyLmdldFZpZGVvVHJhY2tzKClbMF0sITEpLG99YXdhaXQgdGhpcy5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhyLmdldFZpZGVvVHJhY2tzKClbMF0sITEpLHRoaXMudXBkYXRlTWVkaWFTdHJlYW1UcmFja1Jlc29sdXRpb24oKSx0aGlzLl9kZXZpY2VOYW1lPW4ubGFiZWwsdGhpcy5fY29uZmlnLmNhbWVyYUlkPWUsdGhpcy5fY29uc3RyYWludHMuZGV2aWNlSWQ9e2V4YWN0OmV9O31jYXRjaChuKXt0aHJvdyBfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RGV2aWNlIGVycm9yXCIpLG4udG9TdHJpbmcoKSksbn1lbHNlIHRyeXtsZXQgbj1hd2FpdCBHbi5nZXREZXZpY2VCeUlkKGUpO3RoaXMuX2RldmljZU5hbWU9bi5sYWJlbCx0aGlzLl9jb25maWcuY2FtZXJhSWQ9ZSx0aGlzLl9jb25zdHJhaW50cy5kZXZpY2VJZD17ZXhhY3Q6ZX07fWNhdGNoKG4pe3Rocm93IF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXREZXZpY2UgZXJyb3JcIiksbi50b1N0cmluZygpKSxufV8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldERldmljZSBzdWNjZXNzXCIpKTt9YXN5bmMgX3NldERldmljZUJ5RmFjaW5nTW9kZWwoZSl7Xy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0IGZhY2luZ01vZGUgXCIpLmNvbmNhdChlKSk7bGV0IG49e3ZpZGVvOkt0KEt0KHt9LHRoaXMuX2NvbnN0cmFpbnRzKSx7fSx7ZGV2aWNlSWQ6dm9pZCAwLGZhY2luZ01vZGU6e2V4YWN0OmV9fSl9O2lmKHRoaXMuX2VuYWJsZWQpe3RoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suc3RvcCgpO2xldCBpPW51bGw7dHJ5e2k9YXdhaXQgRm4obix0aGlzLmdldFRyYWNrSWQoKSk7fWNhdGNoKHIpe3Rocm93IF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXREZXZpY2VCeUZhY2luZ01vZGVsIGZhaWxlZFwiKSxyLnRvU3RyaW5nKCkpLGk9YXdhaXQgRm4oe3ZpZGVvOnRoaXMuX2NvbnN0cmFpbnRzfSx0aGlzLmdldFRyYWNrSWQoKSksYXdhaXQgdGhpcy5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhpLmdldFZpZGVvVHJhY2tzKClbMF0sITEpLHJ9YXdhaXQgdGhpcy5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhpLmdldFZpZGVvVHJhY2tzKClbMF0sITEpLHRoaXMudXBkYXRlTWVkaWFTdHJlYW1UcmFja1Jlc29sdXRpb24oKTt9dGhpcy5fZGV2aWNlTmFtZT1cIlwiLHRoaXMuX2NvbmZpZy5mYWNpbmdNb2RlPWUsdGhpcy5fY29uZmlnLmNhbWVyYUlkPXZvaWQgMCx0aGlzLl9jb25zdHJhaW50cz1LdCh7fSxuLnZpZGVvKSxfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXREZXZpY2VCeUZhY2luZ01vZGVsIHN1Y2Nlc3NcIikpO31hc3luYyBzZXRFbmFibGVkKGUsbil7aWYoIW4pe2lmKGU9PT10aGlzLl9lbmFibGVkKXJldHVybjt0aGlzLnN0YXRlQ2hlY2soXCJlbmFibGVkXCIsZSk7fWlmKF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHN0YXJ0IHNldEVuYWJsZWRcIiksZSksZSl7dHJ5e2lmKHRoaXMuaXNFeHRlcm5hbFRyYWNrKXRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suZW5hYmxlZD0hMDtlbHNlIHtsZXQgaT1hd2FpdCBGbih7dmlkZW86dGhpcy5fY29uc3RyYWludHN9LHRoaXMuZ2V0VHJhY2tJZCgpKTthd2FpdCB0aGlzLl91cGRhdGVPcmlnaW5NZWRpYVN0cmVhbVRyYWNrKGkuZ2V0VmlkZW9UcmFja3MoKVswXSwhMSk7fWF3YWl0IGt0KHRoaXMsSC5ORUVEX0VOQUJMRV9UUkFDSyx0aGlzKTt9Y2F0Y2goaSl7dGhyb3cgXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuYWJsZWQgdHJ1ZSBlcnJvclwiKSxpLnRvU3RyaW5nKCkpLGl9dGhpcy51cGRhdGVNZWRpYVN0cmVhbVRyYWNrUmVzb2x1dGlvbigpLF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuYWJsZWQgdG8gdHJ1ZSBzdWNjZXNzXCIpKSxufHwodGhpcy5fZW5hYmxlZD0hMCk7fWVsc2Uge3RoaXMuaXNFeHRlcm5hbFRyYWNrP3RoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suZW5hYmxlZD0hMToodGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5vbmVuZGVkPW51bGwsdGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5zdG9wKCkpLG58fCh0aGlzLl9lbmFibGVkPSExKTt0cnl7YXdhaXQga3QodGhpcyxILk5FRURfRElTQUJMRV9UUkFDSyx0aGlzKTt9Y2F0Y2goaSl7dGhyb3cgXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuYWJsZWQgdG8gZmFsc2UgZXJyb3JcIiksaS50b1N0cmluZygpKSxpfV8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuYWJsZWQgdG8gZmFsc2Ugc3VjY2Vzc1wiKSk7fX1hc3luYyBzZXRFbmNvZGVyQ29uZmlndXJhdGlvbihlLG4pe2lmKCF0aGlzLl9lbmFibGVkKXRocm93IG5ldyBOKFIuVFJBQ0tfSVNfRElTQUJMRUQsXCJjYW4gbm90IHNldCBlbmNvZGVyIGNvbmZpZ3VyYXRpb24gd2hlbiB0cmFjayBpcyBkaXNhYmxlZFwiKTtlPWNyKGUpLHRoaXMuX2ZvcmNlQml0cmF0ZUxpbWl0JiYoZS5iaXRyYXRlTWF4PXRoaXMuX2ZvcmNlQml0cmF0ZUxpbWl0Lm1heF9iaXRyYXRlfHxlLmJpdHJhdGVNYXgsZS5iaXRyYXRlTWluPXRoaXMuX2ZvcmNlQml0cmF0ZUxpbWl0Lm1pbl9iaXRyYXRlfHxlLmJpdHJhdGVNaW4pO2xldCBpPWxlKHRoaXMuX2NvbmZpZyk7aS5lbmNvZGVyQ29uZmlnPWU7bGV0IHI9cnUoaSk7KGplKCl8fGxuKCl8fHZpKCkpJiYoci5kZXZpY2VJZD12b2lkIDApLF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXRFbmNvZGVyQ29uZmlndXJhdGlvbiBhcHBseUNvbnN0cmFpbnRzXCIpLEpTT04uc3RyaW5naWZ5KGUpLEpTT04uc3RyaW5naWZ5KHIpKTt0cnl7YXdhaXQgdGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5hcHBseUNvbnN0cmFpbnRzKHIpLHRoaXMudXBkYXRlTWVkaWFTdHJlYW1UcmFja1Jlc29sdXRpb24oKTt9Y2F0Y2gobyl7bGV0IHM9bmV3IE4oUi5VTkVYUEVDVEVEX0VSUk9SLG8udG9TdHJpbmcoKSk7dGhyb3cgXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIGFwcGx5Q29uc3RyYWludHMgZXJyb3JcIikscy50b1N0cmluZygpKSxzfXRoaXMuX2NvbmZpZz1pLHRoaXMuX2NvbnN0cmFpbnRzPXIsdGhpcy5fb3JpZ2luYWxDb25zdHJhaW50cz1yLHRoaXMuX2VuY29kZXJDb25maWc9ZSx0aGlzLl9oaW50cy5pbmRleE9mKEd0LlNDUkVFTl9UUkFDSyk9PT0tMSYmdGhpcy51cGRhdGVCaXRyYXRlRnJvbVByb2ZpbGUoKTt0cnl7YXdhaXQga3QodGhpcyxILk5FRURfVVBEQVRFX1ZJREVPX0VOQ09ERVIsdGhpcyk7fWNhdGNoKG8pe3JldHVybiBvLnRocm93KF8pfX1fZ2V0RGVmYXVsdFBsYXllckNvbmZpZygpe3JldHVybiB7bWlycm9yOiEwLGZpdDpcImNvdmVyXCJ9fW9uVHJhY2tFbmRlZCgpe2lmKChsbigpfHx2aSgpKSYmdGhpcy5fZW5hYmxlZCYmIXRoaXMuX2lzQ2xvc2VkJiZ3dC5kdXJpbmdJbnRlcnJ1cHRpb24pe2xldCBlPWFzeW5jKCk9Pnt3dC5vZmYoa2UuSU9TX0lOVEVSUlVQVElPTl9FTkQsZSksdGhpcy5fZW5hYmxlZCYmIXRoaXMuX2lzQ2xvc2VkJiYoXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHRyeSBjYXB0dXJlIGNhbWVyYSBtZWRpYSBkZXZpY2UgZm9yIGludGVycnVwdGVkIGlPUyBkZXZpY2UuXCIpKSxhd2FpdCB0aGlzLnNldEVuYWJsZWQoITEpLGF3YWl0IHRoaXMuc2V0RW5hYmxlZCghMCkpO307d3Qub24oa2UuSU9TX0lOVEVSUlVQVElPTl9FTkQsZSk7fWVsc2UgXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHRyYWNrIGVuZGVkXCIpKSx0aGlzLnNhZmVFbWl0KG1hLlRSQUNLX0VOREVEKTt9YXN5bmMgcmVuZXdNZWRpYVN0cmVhbVRyYWNrKGUpe2xldCBuPWV8fHRoaXMuX2NvbnN0cmFpbnRzLGk9R24uc2VhcmNoRGV2aWNlSWRCeU5hbWUodGhpcy5fZGV2aWNlTmFtZSk7aWYoaSYmIW4uZGV2aWNlSWQmJihuLmRldmljZUlkPXtleGFjdDppfSksdGhpcy5fZW5hYmxlZCl7bGV0IHI9YXdhaXQgRm4oe3ZpZGVvOm59LHRoaXMuZ2V0VHJhY2tJZCgpKTt0aGlzLl9jb25zdHJhaW50cz1uLGF3YWl0IHRoaXMuX3VwZGF0ZU9yaWdpbk1lZGlhU3RyZWFtVHJhY2soci5nZXRWaWRlb1RyYWNrcygpWzBdLCEwKSx0aGlzLnVwZGF0ZU1lZGlhU3RyZWFtVHJhY2tSZXNvbHV0aW9uKCk7fX1jbG9zZSgpe3N1cGVyLmNsb3NlKCksd3Qub2ZmKGtlLklPU18xNV8xNl9JTlRFUlJVUFRJT05fRU5ELHRoaXMudHJ5UmVzdW1lVmlkZW9Gb3JJT1MxNV8xNldlQ2hhdCksd3Qub2ZmKGtlLklPU19JTlRFUlJVUFRJT05fRU5ELHRoaXMudHJ5UmVzdW1lVmlkZW9Gb3JJT1MxNV8xNldlQ2hhdCk7fWNsb25lKGUpe2xldCBuPSEoYXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDApfHxhcmd1bWVudHNbMV0saT10aGlzLl9lbmNvZGVyQ29uZmlnO2UmJihpPUt0KEt0KHt9LGkpLGNyKGUpKSksaT1WbyhpKTtsZXQgcj1VdCg4LFwidHJhY2stY2FtLWNsb25lZC1cIiksbz1uZXcgdDAobj90aGlzLl9tZWRpYVN0cmVhbVRyYWNrLmNsb25lKCk6dGhpcy5fbWVkaWFTdHJlYW1UcmFjayxWbyhLdChLdCh7fSx0aGlzLl9jb25maWcpLHt9LHtlbmNvZGVyQ29uZmlnOml9KSksVm8odGhpcy5fY29uc3RyYWludHMpLFZvKHRoaXMuX3NjYWxhYmlsaXR5TW9kZSksdGhpcy5fb3B0aW1pemF0aW9uTW9kZSxyKTtyZXR1cm4gZSYmaSYmby5zZXRFbmNvZGVyQ29uZmlndXJhdGlvbihpKSxfLmRlYnVnKFwiY2xvbmUgdHJhY2sgZnJvbSBcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCIgdG8gXCIpLmNvbmNhdChyLFwiLCBjbG9uZSBcIikuY29uY2F0KG4pKSxvfWJpbmRQcm9jZXNzb3JDb250ZXh0RXZlbnRzKCl7dGhpcy5wcm9jZXNzb3JDb250ZXh0Lm9uKFduLlJFUVVFU1RfVVBEQVRFX0NPTlNUUkFJTlRTLGFzeW5jKGUsbixpKT0+e3RyeXtsZXQgcj1PYmplY3QuYXNzaWduKHt9LHRoaXMuX29yaWdpbmFsQ29uc3RyYWludHMsLi4uZSk7YXdhaXQgdGhpcy5yZW5ld01lZGlhU3RyZWFtVHJhY2sociksbigpO31jYXRjaChyKXtpKHIpO319KSx0aGlzLnByb2Nlc3NvckNvbnRleHQub24oV24uUkVRVUVTVF9DT05TVFJBSU5UUyxhc3luYyBlPT57ZSh0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmdldFNldHRpbmdzKCkpO30pO319LEV0KExuLnByb3RvdHlwZSxcInNldERldmljZVwiLFtiSSx3SV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihMbi5wcm90b3R5cGUsXCJzZXREZXZpY2VcIiksTG4ucHJvdG90eXBlKSxFdChMbi5wcm90b3R5cGUsXCJzZXRFbmFibGVkXCIsW09JLE5JLERJXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKExuLnByb3RvdHlwZSxcInNldEVuYWJsZWRcIiksTG4ucHJvdG90eXBlKSxFdChMbi5wcm90b3R5cGUsXCJzZXRFbmNvZGVyQ29uZmlndXJhdGlvblwiLFtQSSxrSV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihMbi5wcm90b3R5cGUsXCJzZXRFbmNvZGVyQ29uZmlndXJhdGlvblwiKSxMbi5wcm90b3R5cGUpLEV0KExuLnByb3RvdHlwZSxcImNsb3NlXCIsW0xJXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKExuLnByb3RvdHlwZSxcImNsb3NlXCIpLExuLnByb3RvdHlwZSksTG4pO2Z1bmN0aW9uIGNfKHQsZSxuLGkpe24ub3B0aW1pemF0aW9uTW9kZSYmKGkmJmkud2lkdGgmJmkuaGVpZ2h0PyhuLmVuY29kZXJDb25maWc9S3QoS3Qoe30saSkse30se2JpdHJhdGVNaW46aS5iaXRyYXRlTWluLGJpdHJhdGVNYXg6aS5iaXRyYXRlTWF4fSksbi5vcHRpbWl6YXRpb25Nb2RlIT09XCJtb3Rpb25cIiYmbi5vcHRpbWl6YXRpb25Nb2RlIT09XCJkZXRhaWxcInx8KGUuY29udGVudEhpbnQ9bi5vcHRpbWl6YXRpb25Nb2RlLGUuY29udGVudEhpbnQ9PT1uLm9wdGltaXphdGlvbk1vZGU/Xy5kZWJ1ZyhcIltcIi5jb25jYXQodCxcIl0gc2V0IGNvbnRlbnQgaGludCB0b1wiKSxuLm9wdGltaXphdGlvbk1vZGUpOl8uZGVidWcoXCJbXCIuY29uY2F0KHQsXCJdIHNldCBjb250ZW50IGhpbnQgZmFpbGVkXCIpKSkpOl8ud2FybmluZyhcIltcIi5jb25jYXQodCxcIl0gY2FuIG5vdCBhcHBseSBvcHRpbWl6YXRpb24gbW9kZSBiaXRyYXRlIGNvbmZpZywgbm8gZW5jb2RlckNvbmZpZ1wiKSkpO312YXIgTUksVUkseEksVkksem4sRkksQkksakksR0ksV0ksSEksJGUsYXU9Y2xhc3MgZXh0ZW5kcyBYbHtnZXRVc2VySWQoKXtyZXR1cm4gdGhpcy5fdXNlcklkfWNvbnN0cnVjdG9yKGUsbixpLHIpe3N1cGVyKGUsXCJ0cmFjay1cIi5jb25jYXQoZS5raW5kLFwiLVwiKS5jb25jYXQobixcIi1cIikuY29uY2F0KHIuY2xpZW50SWQsXCJfXCIpLmNvbmNhdChVdCg1LFwiXCIpKSksUCh0aGlzLFwiX3VzZXJJZFwiLHZvaWQgMCksUCh0aGlzLFwiX3VpbnRJZFwiLHZvaWQgMCksUCh0aGlzLFwiX2lzRGVzdHJveWVkXCIsITEpLFAodGhpcyxcInN0b3JlXCIsdm9pZCAwKSxQKHRoaXMsXCJwcm9jZXNzb3JcIix2b2lkIDApLFAodGhpcyxcInByb2Nlc3NvckNvbnRleHRcIix2b2lkIDApLHRoaXMuX3VzZXJJZD1uLHRoaXMuX3VpbnRJZD1pLHRoaXMuc3RvcmU9cjt9X3VwZGF0ZU9yaWdpbk1lZGlhU3RyZWFtVHJhY2soZSl7dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjaz1lLHRoaXMuX21lZGlhU3RyZWFtVHJhY2s9ZSx0aGlzLl91cGRhdGVQbGF5ZXJTb3VyY2UoKSx0aGlzLnByb2Nlc3NvciYmdGhpcy5wcm9jZXNzb3IudXBkYXRlSW5wdXQoe3RyYWNrOnRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2ssY29udGV4dDp0aGlzLnByb2Nlc3NvckNvbnRleHR9KTt9X2Rlc3Ryb3koKXt0aGlzLl9pc0Rlc3Ryb3llZD0hMCxfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBpcyBkZXN0cm95ZWRcIikpLHRoaXMuc3RvcCgpLHN1cGVyLmNsb3NlKCk7fWdldFByb2Nlc3NvclN0YXRzKCl7cmV0dXJuIHRoaXMucHJvY2Vzc29yQ29udGV4dC5nYXRoZXJTdGF0cygpfWdldFByb2Nlc3NvclVzYWdlKCl7cmV0dXJuIHRoaXMucHJvY2Vzc29yQ29udGV4dC5nYXRoZXJVc2FnZSgpfX0sSHM9KE1JPSQoe2FyZ3NNYXA6KHQsZSxuKT0+W3QuZ2V0VHJhY2tJZCgpLHR5cGVvZiBlPT1cInN0cmluZ1wiP2U6ZSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQ/XCJIVE1MVmlkZW9FbGVtZW50XCI6XCJIVE1MRWxlbWVudFwiLG5dfSksVUk9JCh7YXJnc01hcDp0PT5bdC5nZXRUcmFja0lkKCldfSkseEk9JCh7YXJnc01hcDoodCxlKT0+W3QuZ2V0VHJhY2tJZCgpLGUubmFtZV19KSxWST0kKHthcmdzTWFwOnQ9Plt0LmdldFRyYWNrSWQoKV19KSxFdCgoem49Y2xhc3MgZXh0ZW5kcyBhdXtnZXQgaXNQbGF5aW5nKCl7cmV0dXJuICEoIXRoaXMuX3BsYXllcnx8dGhpcy5fcGxheWVyLnZpZGVvRWxlbWVudFN0YXR1cyE9PW5uLlBMQVlJTkcpfWdldCBfX2NsYXNzTmFtZV9fKCl7cmV0dXJuIFwiUmVtb3RlVmlkZW9UcmFja1wifWNvbnN0cnVjdG9yKHQsZSxuLGkpe3N1cGVyKHQsZSxuLGkpLFAodGhpcyxcIl92aWRlb1Zpc2libGVUaW1lclwiLG51bGwpLFAodGhpcyxcIl9wcmV2aW91c1ZpZGVvVmlzaWJsZVN0YXR1c1wiLHZvaWQgMCksUCh0aGlzLFwiX2NsZWFyUHJldmlvdXNWaWRlb1Zpc2libGVTdGF0dXNcIiwoKT0+dGhpcy5fcHJldmlvdXNWaWRlb1Zpc2libGVTdGF0dXM9dm9pZCAwKSxQKHRoaXMsXCJ0cmFja01lZGlhVHlwZVwiLGZhLlZJREVPKSxQKHRoaXMsXCJfdmlkZW9XaWR0aFwiLHZvaWQgMCksUCh0aGlzLFwiX3ZpZGVvSGVpZ2h0XCIsdm9pZCAwKSxQKHRoaXMsXCJfcGxheWVyXCIsdm9pZCAwKSxQKHRoaXMsXCJwcm9jZXNzb3JEZXN0aW5hdGlvblwiLHZvaWQgMCksUCh0aGlzLFwicHJvY2Vzc29yQ29udGV4dFwiLHZvaWQgMCksdGhpcy51cGRhdGVNZWRpYVN0cmVhbVRyYWNrUmVzb2x1dGlvbigpLHRoaXMucHJvY2Vzc29yQ29udGV4dD1uZXcgZXUodGhpcy5nZXRUcmFja0lkKCksXCJyZW1vdGVcIiksdGhpcy5wcm9jZXNzb3JEZXN0aW5hdGlvbj1uZXcgdHUodGhpcy5wcm9jZXNzb3JDb250ZXh0KSx0aGlzLmJpbmRQcm9jZXNzb3JEZXN0aW5hdGlvbkV2ZW50cygpO31nZXRTdGF0cygpe3JldHVybiBwbygoKT0+e18ud2FybmluZyhcIltkZXByZWNhdGVkXSBSZW1vdGVWaWRlb1RyYWNrLmdldFN0YXRzIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLCB1c2UgQWdvcmFSVENDbGllbnQuZ2V0UmVtb3RlVmlkZW9TdGF0cyBpbnN0ZWFkXCIpO30sXCJyZW1vdGVWaWRlb1RyYWNrR2V0U3RhdHNXYXJuaW5nXCIpLG5pKHRoaXMsSC5HRVRfU1RBVFMpfHxLdCh7fSxXTyl9cGxheSh0KXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06e307aWYodHlwZW9mIHQ9PVwic3RyaW5nXCIpe2xldCBpPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHQpO2k/dD1pOihfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLCddIGNhbiBub3QgZmluZCBcIiMnKS5jb25jYXQodCwnXCIgZWxlbWVudCwgdXNlIGRvY3VtZW50LmJvZHknKSksdD1kb2N1bWVudC5ib2R5KTt9Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHN0YXJ0IHZpZGVvIHBsYXliYWNrIGluIFwiKS5jb25jYXQodCBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQ/XCJIVE1MVmlkZW9FbGVtZW50XCI6XCJIVE1MRWxlbWVudFwiKSxKU09OLnN0cmluZ2lmeShlKSk7bGV0IG49S3QoS3Qoe2ZpdDpcImNvdmVyXCJ9LGUpLHt9LHt0cmFja0lkOnRoaXMuZ2V0VHJhY2tJZCgpLGVsZW1lbnQ6dH0pO3RoaXMuX3BsYXllcj90aGlzLl9wbGF5ZXIudXBkYXRlQ29uZmlnKG4pOih0IGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudD90aGlzLl9wbGF5ZXI9bmV3IGtjKG4pOnRoaXMuX3BsYXllcj1uZXcgc3UobiksdGhpcy5fcGxheWVyLnVwZGF0ZVZpZGVvVHJhY2sodGhpcy5fbWVkaWFTdHJlYW1UcmFjayksdGhpcy5fcGxheWVyLm9uRmlyc3RWaWRlb0ZyYW1lRGVjb2RlZD0oKT0+e3RoaXMuc3RvcmUuc3Vic2NyaWJlKHRoaXMuZ2V0VXNlcklkKCksXCJ2aWRlb1wiLHZvaWQgMCx2b2lkIDAsRGF0ZS5ub3coKSksdGhpcy5zYWZlRW1pdChXcy5GSVJTVF9GUkFNRV9ERUNPREVEKTt9LHRoaXMuX3BsYXllci5vblZpZGVvU3RhdGVDaGFuZ2VkPWk9Pnt0aGlzLnNhZmVFbWl0KFdzLlZJREVPX1NUQVRFX0NIQU5HRUQsaSk7fSksdGhpcy5fcGxheWVyLnBsYXkodGhpcy5zdG9yZS5zZXNzaW9uSWR8fHZvaWQgMCksdGhpcy5fdmlkZW9WaXNpYmxlVGltZXImJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX3ZpZGVvVmlzaWJsZVRpbWVyKSx0aGlzLl9jbGVhclByZXZpb3VzVmlkZW9WaXNpYmxlU3RhdHVzKCksdGhpcy5fdmlkZW9WaXNpYmxlVGltZXI9d2luZG93LnNldEludGVydmFsKCgpPT57dHJ5e2xldCBpPXRoaXMuZ2V0VmlkZW9FbGVtZW50VmlzaWJsZVN0YXR1cygpO3RoaXMuc2FmZUVtaXQoV3MuVklERU9fRUxFTUVOVF9WSVNJQkxFX1NUQVRVUyxpKTt9Y2F0Y2h7fX0sdihcIkNIRUNLX1ZJREVPX1ZJU0lCTEVfSU5URVJWQUxcIikpO31zdG9wKCl7dGhpcy5fcGxheWVyJiYodGhpcy5fdmlkZW9WaXNpYmxlVGltZXImJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl92aWRlb1Zpc2libGVUaW1lciksdGhpcy5fdmlkZW9WaXNpYmxlVGltZXI9bnVsbCksdGhpcy5fY2xlYXJQcmV2aW91c1ZpZGVvVmlzaWJsZVN0YXR1cygpLHRoaXMuX3BsYXllci5kZXN0cm95KCksdGhpcy5fcGxheWVyPXZvaWQgMCxfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc3RvcCB2aWRlbyBwbGF5YmFja1wiKSkpO31nZXRDdXJyZW50RnJhbWVEYXRhKCl7cmV0dXJuIHRoaXMuX3BsYXllcj90aGlzLl9wbGF5ZXIuZ2V0Q3VycmVudEZyYW1lKCk6bmV3IEltYWdlRGF0YSgyLDIpfXVwZGF0ZU1lZGlhU3RyZWFtVHJhY2tSZXNvbHV0aW9uKCl7WE8odGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjaykudGhlbih0PT57bGV0W2Usbl09dDt0aGlzLl92aWRlb0hlaWdodD1uLHRoaXMuX3ZpZGVvV2lkdGg9ZTt9KS5jYXRjaCh6dSk7fV91cGRhdGVQbGF5ZXJTb3VyY2UoKXtfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gdXBkYXRlIHBsYXllciBzb3VyY2UgdHJhY2tcIikpLHRoaXMuX3BsYXllciYmdGhpcy5fcGxheWVyLnVwZGF0ZVZpZGVvVHJhY2sodGhpcy5fbWVkaWFTdHJlYW1UcmFjayk7fWdldFZpZGVvRWxlbWVudFZpc2libGVTdGF0dXMoKXt0cnl7dmFyIHQsZTtsZXQgbj10aGlzPT1udWxsfHwodD10aGlzLl9wbGF5ZXIpPT09bnVsbHx8dD09PXZvaWQgMD92b2lkIDA6dC5nZXRDb250YWluZXJFbGVtZW50KCksaT17dHJhY2s6dGhpcyxlbGVtZW50OnRoaXM9PW51bGx8fChlPXRoaXMuX3BsYXllcik9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLmdldFZpZGVvRWxlbWVudCgpLHNsb3Q6bj8ucGFyZW50RWxlbWVudH0se2VsZW1lbnQ6cixzbG90Om99PWk7aWYodGhpcy5pc1BsYXlpbmcmJnIgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50JiZvIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpe2xldCBzPUNPLmNoZWNrT25lRWxlbWVudFZpc2libGUociksYT1PYmplY3QuYXNzaWduKHt9LHMpO2lmKGEudmlzaWJsZSE9PXRoaXMuX3ByZXZpb3VzVmlkZW9WaXNpYmxlU3RhdHVzKXt0aGlzLl9wcmV2aW91c1ZpZGVvVmlzaWJsZVN0YXR1cz1hLnZpc2libGU7bGV0IGM9WC5yZXBvcnRBcGlJbnZva2UobnVsbCx7dGFnOlp0LlRSQUNFUixuYW1lOlRlLlJFTU9URV9WSURFT19UUkFDS19HRVRfVklERU9fVklTSUJMRSxvcHRpb25zOlt0aGlzLmdldFRyYWNrSWQoKV19KTthLnZpc2libGU/Yy5vblN1Y2Nlc3MoXCJWaWRlbyBpcyB2aXNpYmxlXCIpOmMub25TdWNjZXNzKFwiSW52aXNpYmxlIGJlY2F1c2Ugb2YgXCIuY29uY2F0KGEucmVhc29uKSk7fXJldHVybiBhfXJldHVybn1jYXRjaChuKXt0aHJvdyBuZXcgTihSLkdFVF9WSURFT19FTEVNRU5UX1ZJU0lCTEVfRVJST1Isbi5tZXNzYWdlKX19cGlwZSh0KXtpZih0aGlzLnByb2Nlc3Nvcj09PXQpcmV0dXJuIHQ7aWYodC5fc291cmNlKXRocm93IG5ldyBOKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJQcm9jZXNzb3IgXCIuY29uY2F0KHQubmFtZSxcIiBhbHJlYWR5IHBpcGVkLCBwbGVhc2UgY2FsbCB1bnBpcGUgYmVmb3JlaGFuZC5cIikpO3JldHVybiB0aGlzLnVucGlwZSgpLHRoaXMucHJvY2Vzc29yPXQsdGhpcy5wcm9jZXNzb3IuX3NvdXJjZT10aGlzLHQudXBkYXRlSW5wdXQoe3RyYWNrOnRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2ssY29udGV4dDp0aGlzLnByb2Nlc3NvckNvbnRleHR9KSx0fXVucGlwZSgpe2lmKCF0aGlzLnByb2Nlc3NvcilyZXR1cm47bGV0IHQ9dGhpcy5wcm9jZXNzb3I7dGhpcy5wcm9jZXNzb3IuX3NvdXJjZT12b2lkIDAsdGhpcy5wcm9jZXNzb3I9dm9pZCAwLHQucmVzZXQoKTt9YmluZFByb2Nlc3NvckRlc3RpbmF0aW9uRXZlbnRzKCl7dGhpcy5wcm9jZXNzb3JEZXN0aW5hdGlvbi5vbih1bi5PTl9UUkFDSyxhc3luYyB0PT57dD90IT09dGhpcy5fbWVkaWFTdHJlYW1UcmFjayYmKHRoaXMuX21lZGlhU3RyZWFtVHJhY2s9dCx0aGlzLl91cGRhdGVQbGF5ZXJTb3VyY2UoKSk6dGhpcy5fbWVkaWFTdHJlYW1UcmFjayE9PXRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2smJih0aGlzLl9tZWRpYVN0cmVhbVRyYWNrPXRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2ssdGhpcy5fdXBkYXRlUGxheWVyU291cmNlKCkpO30pO311bmJpbmRQcm9jZXNzb3JEZXN0aW5hdGlvbkV2ZW50cygpe3RoaXMucHJvY2Vzc29yRGVzdGluYXRpb24ucmVtb3ZlQWxsTGlzdGVuZXJzKHVuLk9OX1RSQUNLKTt9X2Rlc3Ryb3koKXtzdXBlci5fZGVzdHJveSgpLHRoaXMudW5iaW5kUHJvY2Vzc29yRGVzdGluYXRpb25FdmVudHMoKTt9X29uU2VpKHQpe3RoaXMuZW1pdChLby5TRUlfUkVDRUlWRUQsdCk7fX0pLnByb3RvdHlwZSxcInBsYXlcIixbTUldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioem4ucHJvdG90eXBlLFwicGxheVwiKSx6bi5wcm90b3R5cGUpLEV0KHpuLnByb3RvdHlwZSxcInN0b3BcIixbVUldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioem4ucHJvdG90eXBlLFwic3RvcFwiKSx6bi5wcm90b3R5cGUpLEV0KHpuLnByb3RvdHlwZSxcInBpcGVcIixbeEldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioem4ucHJvdG90eXBlLFwicGlwZVwiKSx6bi5wcm90b3R5cGUpLEV0KHpuLnByb3RvdHlwZSxcInVucGlwZVwiLFtWSV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih6bi5wcm90b3R5cGUsXCJ1bnBpcGVcIiksem4ucHJvdG90eXBlKSx6biksS3M9KEZJPSQoe2FyZ3NNYXA6KHQsZSk9Plt0LmdldFRyYWNrSWQoKSxlXSx0aHJvdHRsZVRpbWU6MzAwfSksQkk9JCh7YXJnc01hcDoodCxlKT0+W3QuZ2V0VHJhY2tJZCgpLGVdfSksakk9JCh7YXJnc01hcDp0PT5bdC5nZXRUcmFja0lkKCldfSksR0k9JCh7YXJnc01hcDp0PT5bdC5nZXRUcmFja0lkKCldfSksV0k9JCh7YXJnc01hcDoodCxlKT0+W3QuZ2V0VHJhY2tJZCgpLGUubmFtZV19KSxIST0kKHthcmdzTWFwOnQ9Plt0LmdldFRyYWNrSWQoKV19KSxFdCgoJGU9Y2xhc3MgZXh0ZW5kcyBhdXtnZXQgaXNQbGF5aW5nKCl7cmV0dXJuIHRoaXMuX3VzZUF1ZGlvRWxlbWVudD9Fbi5pc1BsYXlpbmcodGhpcy5nZXRUcmFja0lkKCkpOnRoaXMuX3NvdXJjZS5pc1BsYXllZH1nZXQgX19jbGFzc05hbWVfXygpe3JldHVybiBcIlJlbW90ZUF1ZGlvVHJhY2tcIn1jb25zdHJ1Y3Rvcih0LGUsbixpKXtzdXBlcih0LGUsbixpKSxQKHRoaXMsXCJ0cmFja01lZGlhVHlwZVwiLGZhLkFVRElPKSxQKHRoaXMsXCJfc291cmNlXCIsdm9pZCAwKSxQKHRoaXMsXCJfdXNlQXVkaW9FbGVtZW50XCIsITApLFAodGhpcyxcIl92b2x1bWVcIiwxMDApLFAodGhpcyxcInByb2Nlc3NvckNvbnRleHRcIix2b2lkIDApLFAodGhpcyxcInByb2Nlc3NvckRlc3RpbmF0aW9uXCIsdm9pZCAwKSxQKHRoaXMsXCJfcGxheWVkXCIsITEpLFAodGhpcyxcIl9ieXBhc3NXZWJBdWRpb1wiLCExKSx2KFwiRElTQUJMRV9XRUJBVURJT1wiKT8odGhpcy5fc291cmNlPW5ldyBQYyx0aGlzLl9ieXBhc3NXZWJBdWRpbz0hMCx0aGlzLl91c2VBdWRpb0VsZW1lbnQ9ITApOih0aGlzLl9zb3VyY2U9bmV3ICRsKHQsITApLHYoXCJSRU1PVEVfQVVESU9fVFJBQ0tfVVNFU19XRUJfQVVESU9cIikmJih0aGlzLl91c2VBdWRpb0VsZW1lbnQ9ITEpKSx0aGlzLl9zb3VyY2Uub25jZShqbi5SRUNFSVZFX1RSQUNLX0JVRkZFUiwoKT0+e3RoaXMuc2FmZUVtaXQoV3MuRklSU1RfRlJBTUVfREVDT0RFRCk7fSksdGhpcy5wcm9jZXNzb3JDb250ZXh0PW5ldyBpdSh0aGlzLl9zb3VyY2UuY29udGV4dCx0aGlzLmdldFRyYWNrSWQoKSxcInJlbW90ZVwiKSx0aGlzLnByb2Nlc3NvckRlc3RpbmF0aW9uPW5ldyBudSh0aGlzLnByb2Nlc3NvckNvbnRleHQpLHRoaXMuYmluZFByb2Nlc3NvckRlc3RpbmF0aW9uRXZlbnRzKCksdGhpcy5fc291cmNlLm9uKGpuLlVQREFURV9TT1VSQ0UsKCk9Pnt0aGlzLnByb2Nlc3NvciYmdGhpcy5wcm9jZXNzb3IudXBkYXRlSW5wdXQoe25vZGU6dGhpcy5fc291cmNlLnByb2Nlc3NTb3VyY2VOb2RlLGNvbnRleHQ6dGhpcy5wcm9jZXNzb3JDb250ZXh0fSk7fSk7fXNldEF1ZGlvRnJhbWVDYWxsYmFjayh0KXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06NDA5NjtpZighdClyZXR1cm4gdGhpcy5fc291cmNlLnJlbW92ZUFsbExpc3RlbmVycyhqbi5PTl9BVURJT19CVUZGRVIpLHZvaWQgdGhpcy5fc291cmNlLnN0b3BHZXRBdWRpb0J1ZmZlcigpO3RoaXMuX3NvdXJjZS5zdGFydEdldEF1ZGlvQnVmZmVyKGUpLHRoaXMuX3NvdXJjZS5yZW1vdmVBbGxMaXN0ZW5lcnMoam4uT05fQVVESU9fQlVGRkVSKSx0aGlzLl9zb3VyY2Uub24oam4uT05fQVVESU9fQlVGRkVSLG49PnQobikpO31zZXRWb2x1bWUodCl7dGhpcy5fdm9sdW1lPXQsdGhpcy5fdXNlQXVkaW9FbGVtZW50P0VuLnNldFZvbHVtZSh0aGlzLmdldFRyYWNrSWQoKSx0KTp0aGlzLl9zb3VyY2Uuc2V0Vm9sdW1lKHQvMTAwKTt9YXN5bmMgc2V0UGxheWJhY2tEZXZpY2UodCl7aWYoIXRoaXMuX3VzZUF1ZGlvRWxlbWVudHx8IWpPKCkpdGhyb3cgbmV3IE4oUi5OT1RfU1VQUE9SVEVELFwieW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgc2V0dGluZyB0aGUgYXVkaW8gb3V0cHV0IGRldmljZVwiKTthd2FpdCBFbi5zZXRTaW5rSUQodGhpcy5nZXRUcmFja0lkKCksdCk7fWdldFZvbHVtZUxldmVsKCl7cmV0dXJuIHRoaXMuX3NvdXJjZS5nZXRBY2N1cmF0ZVZvbHVtZUxldmVsKCl9Z2V0U3RhdHMoKXtyZXR1cm4gcG8oKCk9PntfLndhcm5pbmcoXCJbZGVwcmVjYXRlZF0gUmVtb3RlQXVkaW9UcmFjay5nZXRTdGF0cyB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZSwgdXNlIEFnb3JhUlRDQ2xpZW50LmdldFJlbW90ZUF1ZGlvU3RhdHMgaW5zdGVhZFwiKTt9LFwicmVtb3RlQXVkaW9UcmFja0dldFN0YXRzV2FybmluZ1wiKSxuaSh0aGlzLEguR0VUX1NUQVRTKXx8S3Qoe30sR08pfXBsYXkoKXtfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc3RhcnQgYXVkaW8gcGxheWJhY2tcIikpLHRoaXMuX3BsYXllZD0hMCx0aGlzLl91c2VBdWRpb0VsZW1lbnQ/KF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSB1c2UgYXVkaW8gZWxlbWVudCB0byBwbGF5XCIpKSxFbi5wbGF5KHRoaXMuX21lZGlhU3RyZWFtVHJhY2ssdGhpcy5nZXRUcmFja0lkKCksdGhpcy5fdm9sdW1lLHRoaXMuc3RvcmUuc2Vzc2lvbklkfHx2b2lkIDApKTp0aGlzLl9zb3VyY2UucGxheSgpO31zdG9wKCl7Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHN0b3AgYXVkaW8gcGxheWJhY2tcIikpLHRoaXMuX3BsYXllZD0hMSx0aGlzLl91c2VBdWRpb0VsZW1lbnQ/RW4uc3RvcCh0aGlzLmdldFRyYWNrSWQoKSk6dGhpcy5fc291cmNlLnN0b3AoKTt9X2Rlc3Ryb3koKXtzdXBlci5fZGVzdHJveSgpLHRoaXMuX3BsYXllZD0hMSx0aGlzLnVuYmluZFByb2Nlc3NvckRlc3RpbmF0aW9uRXZlbnRzKCksdGhpcy5fc291cmNlLmRlc3Ryb3koKTt9X2lzRnJlZXplKCl7cmV0dXJuIHRoaXMuX3NvdXJjZS5pc0ZyZWV6ZX1fdXBkYXRlUGxheWVyU291cmNlKCl7bGV0IHQ9IShhcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXZvaWQgMCl8fGFyZ3VtZW50c1swXTtfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gdXBkYXRlIHBsYXllciBzb3VyY2UgdHJhY2tcIikpLHQmJnRoaXMuX3NvdXJjZS51cGRhdGVUcmFjayh0aGlzLl9tZWRpYVN0cmVhbVRyYWNrKSx0aGlzLl91c2VBdWRpb0VsZW1lbnQmJkVuLnVwZGF0ZVRyYWNrKHRoaXMuZ2V0VHJhY2tJZCgpLHRoaXMuX21lZGlhU3RyZWFtVHJhY2spO31waXBlKHQpe2lmKHRoaXMuX2J5cGFzc1dlYkF1ZGlvKXRocm93IG5ldyBOKFIuTk9UX1NVUFBPUlRFRCxcImNhbiBub3QgcGlwZSBleHRlbnNpb24gd2hlbiBXZWJBdWRpbyBkaXNhYmxlZFwiKTtpZih0aGlzLnByb2Nlc3Nvcj09PXQpcmV0dXJuIHQ7aWYodC5fc291cmNlKXRocm93IG5ldyBOKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJQcm9jZXNzb3IgXCIuY29uY2F0KHQubmFtZSxcIiBhbHJlYWR5IHBpcGVkLCBwbGVhc2UgY2FsbCB1bnBpcGUgYmVmb3JlaGFuZC5cIikpO3JldHVybiB0aGlzLnVucGlwZSgpLHRoaXMucHJvY2Vzc29yPXQsdGhpcy5wcm9jZXNzb3IuX3NvdXJjZT10aGlzLHQudXBkYXRlSW5wdXQoe3RyYWNrOnRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2ssbm9kZTp0aGlzLl9zb3VyY2UucHJvY2Vzc1NvdXJjZU5vZGUsY29udGV4dDp0aGlzLnByb2Nlc3NvckNvbnRleHR9KSx0fXVucGlwZSgpe3ZhciB0O2lmKHRoaXMuX2J5cGFzc1dlYkF1ZGlvKXRocm93IG5ldyBOKFIuTk9UX1NVUFBPUlRFRCxcImNhbiBub3QgdW5waXBlIGV4dGVuc2lvbiB3aGVuIFdlYkF1ZGlvIGRpc2FibGVkXCIpO2lmKCF0aGlzLnByb2Nlc3NvcilyZXR1cm47bGV0IGU9dGhpcy5wcm9jZXNzb3I7KHQ9dGhpcy5fc291cmNlLnByb2Nlc3NTb3VyY2VOb2RlKT09PW51bGx8fHQ9PT12b2lkIDB8fHQuZGlzY29ubmVjdCgpLHRoaXMucHJvY2Vzc29yLl9zb3VyY2U9ITEsdGhpcy5wcm9jZXNzb3I9dm9pZCAwLGUucmVzZXQoKTt9YmluZFByb2Nlc3NvckRlc3RpbmF0aW9uRXZlbnRzKCl7dGhpcy5wcm9jZXNzb3JEZXN0aW5hdGlvbi5vbih1bi5PTl9UUkFDSyxhc3luYyB0PT57dD90IT09dGhpcy5fbWVkaWFTdHJlYW1UcmFjayYmKHRoaXMuX21lZGlhU3RyZWFtVHJhY2s9dCx0aGlzLl91cGRhdGVQbGF5ZXJTb3VyY2UoITEpLHRoaXMuX3NvdXJjZS5wcm9jZXNzZWROb2RlPXRoaXMuX3NvdXJjZS5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZU5vZGUodCkpOnRoaXMuX21lZGlhU3RyZWFtVHJhY2shPT10aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrJiYodGhpcy5fbWVkaWFTdHJlYW1UcmFjaz10aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLHRoaXMuX3VwZGF0ZVBsYXllclNvdXJjZSgpKTt9KSx0aGlzLnByb2Nlc3NvckRlc3RpbmF0aW9uLm9uKHVuLk9OX05PREUsdD0+e3RoaXMuX3NvdXJjZS5wcm9jZXNzZWROb2RlPXQ7bGV0IGU9IXQ7dGhpcy5fdXNlQXVkaW9FbGVtZW50IT09ZSYmKHRoaXMuX3BsYXllZD8odGhpcy5zdG9wKCksdGhpcy5fdXNlQXVkaW9FbGVtZW50PWUsdGhpcy5wbGF5KCkpOnRoaXMuX3VzZUF1ZGlvRWxlbWVudD1lKTt9KTt9dW5iaW5kUHJvY2Vzc29yRGVzdGluYXRpb25FdmVudHMoKXt0aGlzLnByb2Nlc3NvckRlc3RpbmF0aW9uLnJlbW92ZUFsbExpc3RlbmVycyh1bi5PTl9UUkFDSyksdGhpcy5wcm9jZXNzb3JEZXN0aW5hdGlvbi5yZW1vdmVBbGxMaXN0ZW5lcnModW4uT05fTk9ERSk7fX0pLnByb3RvdHlwZSxcInNldFZvbHVtZVwiLFtGSV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcigkZS5wcm90b3R5cGUsXCJzZXRWb2x1bWVcIiksJGUucHJvdG90eXBlKSxFdCgkZS5wcm90b3R5cGUsXCJzZXRQbGF5YmFja0RldmljZVwiLFtCSV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcigkZS5wcm90b3R5cGUsXCJzZXRQbGF5YmFja0RldmljZVwiKSwkZS5wcm90b3R5cGUpLEV0KCRlLnByb3RvdHlwZSxcInBsYXlcIixbakldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoJGUucHJvdG90eXBlLFwicGxheVwiKSwkZS5wcm90b3R5cGUpLEV0KCRlLnByb3RvdHlwZSxcInN0b3BcIixbR0ldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoJGUucHJvdG90eXBlLFwic3RvcFwiKSwkZS5wcm90b3R5cGUpLEV0KCRlLnByb3RvdHlwZSxcInBpcGVcIixbV0ldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoJGUucHJvdG90eXBlLFwicGlwZVwiKSwkZS5wcm90b3R5cGUpLEV0KCRlLnByb3RvdHlwZSxcInVucGlwZVwiLFtISV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcigkZS5wcm90b3R5cGUsXCJ1bnBpcGVcIiksJGUucHJvdG90eXBlKSwkZSkseXI9bmV3IGNsYXNzIGV4dGVuZHMgWHR7Z2V0IHZpc2liaWxpdHkoKXtyZXR1cm4gZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlfWdldCBsYXN0SGlkZGVuVGltZSgpe3JldHVybiB0aGlzLl9sYXN0SGlkZGVuVGltZX1nZXQgbGFzdFZpc2libGVUaW1lKCl7cmV0dXJuIHRoaXMuX2xhc3RWaXNpYmxlVGltZX1jb25zdHJ1Y3Rvcigpe3N1cGVyKCksUCh0aGlzLFwiX2xhc3RIaWRkZW5UaW1lXCIsMCksUCh0aGlzLFwiX2xhc3RWaXNpYmxlVGltZVwiLDApLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsKCk9Pntkb2N1bWVudC52aXNpYmlsaXR5U3RhdGU9PT1cImhpZGRlblwiP3RoaXMuX2xhc3RIaWRkZW5UaW1lPXBlcmZvcm1hbmNlLm5vdygpOnRoaXMuX2xhc3RWaXNpYmxlVGltZT1wZXJmb3JtYW5jZS5ub3coKSxfLmRlYnVnKFwiZG9jdW1lbnQgdmlzaWJpbGl0eSB3ZW50IFwiLmNvbmNhdChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUpKSx0aGlzLmVtaXQoXCJWSVNJQklMSVRZX0NIQU5HRVwiLGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSk7fSk7fX0sY3U9Y2xhc3MgZXh0ZW5kcyBYdHtjb25zdHJ1Y3RvcihlLG4pe3N1cGVyKCksUCh0aGlzLFwidHJhY2tNZWRpYVR5cGVcIixmYS5EQVRBKSxQKHRoaXMsXCJfdmVyc2lvblwiLDEpLFAodGhpcyxcIl90eXBlXCIsMyksUCh0aGlzLFwiX2NvbmZpZ1wiLHZvaWQgMCksUCh0aGlzLFwiX29yaWdpbkRhdGFDaGFubmVsXCIsdm9pZCAwKSxQKHRoaXMsXCJfZGF0YVN0cmVhbVBhY2tldEhlYWRlclwiLG5ldyBBcnJheUJ1ZmZlcig0KSksUCh0aGlzLFwiX2RhdGFTdHJlYW1QYWNrZXRIYW5kbGVyXCIse3NlcmlhbGl6ZTppPT5pLGRlc2VyaWFsaXplOmk9Pml9KSxQKHRoaXMsXCJfZGF0YWNoYW5uZWxFdmVudE1hcFwiLG5ldyBNYXApLHRoaXMuX2NvbmZpZz1lLG4mJih0aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbD1uLHRoaXMuX2JhbmREYXRhQ2hhbm5lbEV2ZW50cyhuKSksdGhpcy5faW5pdFBhY2tldEhlYWRlcigpO311c2VEYXRhU3RyZWFtKGUpe3RoaXMuX2RhdGFTdHJlYW1QYWNrZXRIYW5kbGVyPWU7fWdldCBpZCgpe3JldHVybiB0aGlzLl9jb25maWcuaWR9Z2V0IG9yZGVyZWQoKXtyZXR1cm4gdGhpcy5fY29uZmlnLm9yZGVyZWR9Z2V0IG1heFJldHJhbnNtaXRzKCl7cmV0dXJuIHYoXCJEQVRBU1RSRUFNX01BWF9SRVRSQU5TTUlUU1wiKX1nZXQgbWV0YWRhdGEoKXtyZXR1cm4gdGhpcy5fY29uZmlnLm1ldGFkYXRhfWdldCByZWFkeVN0YXRlKCl7dmFyIGUsbjtyZXR1cm4gKGU9KG49dGhpcy5fb3JpZ2luRGF0YUNoYW5uZWwpPT09bnVsbHx8bj09PXZvaWQgMD92b2lkIDA6bi5yZWFkeVN0YXRlKSE9PW51bGwmJmUhPT12b2lkIDA/ZTpcImNvbm5lY3RpbmdcIn1nZXQgX29yaWdpbkRhdGFDaGFubmVsSWQoKXt2YXIgZSxuO3JldHVybiAoZT0obj10aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbCk9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLmlkKSE9PW51bGwmJmUhPT12b2lkIDA/ZTpudWxsfWdldENoYW5uZWxJZCgpe3JldHVybiB0aGlzLmlkfWdldENvbmZpZygpe3JldHVybiB0aGlzLl9jb25maWd9X2Nsb3NlKCl7dGhpcy5fb3JpZ2luRGF0YUNoYW5uZWwmJih0aGlzLl91bmJpbmREYXRhQ2hhbm5lbEV2ZW50cyh0aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbCksdGhpcy5fb3JpZ2luRGF0YUNoYW5uZWw9dm9pZCAwKTt9YXN5bmMgX3dhaXRUaWxsT3Blbigpe3JldHVybiBuZXcgaigoZSxuKT0+e2lmKHRoaXMuX29yaWdpbkRhdGFDaGFubmVsKXt0aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbC5yZWFkeVN0YXRlPT09XCJvcGVuXCImJmUoKTtsZXQgaT1zZXRUaW1lb3V0KCgpPT57dmFyIHI7bihuZXcgTihSLkRBVEFDSEFOTkVMX0NPTk5FQ1RJT05fVElNRU9VVCxcIkNhbm5vdCBjcmVhdGUgZGF0YWNoYW5uZWwsIGlkOiBcIi5jb25jYXQoKHI9dGhpcy5fb3JpZ2luRGF0YUNoYW5uZWwpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5pZCkpKTt9LDFlNCk7dGhpcy5fb3JpZ2luRGF0YUNoYW5uZWwub25vcGVuPSgpPT57Y2xlYXJUaW1lb3V0KGkpLHRoaXMuX29yaWdpbkRhdGFDaGFubmVsJiZ0aGlzLl9iYW5kRGF0YUNoYW5uZWxFdmVudHModGhpcy5fb3JpZ2luRGF0YUNoYW5uZWwpLGUoKTt9LHRoaXMuX29yaWdpbkRhdGFDaGFubmVsLm9uZXJyb3I9KCk9Pnt0aHJvdyBjbGVhclRpbWVvdXQoaSksbmV3IE4oUi5EQVRBQ0hBTk5FTF9DT05ORUNUSU9OX1RJTUVPVVQpfTt9ZWxzZSBuKG5ldyBOKFIuREFUQUNIQU5ORUxfQ09OTkVDVElPTl9USU1FT1VULFwiY2Fubm90IGZpbmQgZGF0YUNoYW5uZWxcIikpO30pfV91cGRhdGVPcmlnaW5EYXRhQ2hhbm5lbChlKXt0aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbD1lLHRoaXMuX2JhbmREYXRhQ2hhbm5lbEV2ZW50cyhlKTt9X2luaXRQYWNrZXRIZWFkZXIoKXtsZXQgZT1uZXcgRGF0YVZpZXcodGhpcy5fZGF0YVN0cmVhbVBhY2tldEhlYWRlcik7ZS5zZXRVaW50MTYoMCx0aGlzLl92ZXJzaW9uKSxlLnNldFVpbnQ4KDIsdGhpcy5fdHlwZSksZS5zZXRVaW50OCgzLHRoaXMuX2NvbmZpZy5pZCk7fV9iYW5kRGF0YUNoYW5uZWxFdmVudHMoZSl7dGhpcy5fdW5iaW5kRGF0YUNoYW5uZWxFdmVudHMoZSksW0NsLk9QRU4sQ2wuQ0xPU0UsQ2wuRVJST1JdLmZvckVhY2gobj0+e2xldCBpPSgpPT57dGhpcy5lbWl0KG4pO307dGhpcy5fZGF0YWNoYW5uZWxFdmVudE1hcC5zZXQobixpKSxlLmFkZEV2ZW50TGlzdGVuZXIobixpKTt9KTt9X3VuYmluZERhdGFDaGFubmVsRXZlbnRzKGUpe0FycmF5LmZyb20odGhpcy5fZGF0YWNoYW5uZWxFdmVudE1hcC5lbnRyaWVzKCkpLmZvckVhY2gobj0+e2xldFtpLHJdPW47ZS5yZW1vdmVFdmVudExpc3RlbmVyKGkscik7fSksdGhpcy5fZGF0YWNoYW5uZWxFdmVudE1hcC5jbGVhcigpO319LFFFPWNsYXNzIGV4dGVuZHMgY3V7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksUCh0aGlzLFwiX21lc3NhZ2VMaXN0ZW5lclwiLHZvaWQgMCksdGhpcy5fbWVzc2FnZUxpc3RlbmVyPW49PntpZihuLmRhdGEuYnl0ZUxlbmd0aDx0aGlzLl9kYXRhU3RyZWFtUGFja2V0SGVhZGVyLmJ5dGVMZW5ndGgpdGhyb3cgRXJyb3IoXCJpbnZhbGlkIGJ5dGVMZW5ndGg6IHRoZSBieXRlIGxlbmd0aCBtdXN0IGV4Y2VlZCBcIit0aGlzLl9kYXRhU3RyZWFtUGFja2V0SGVhZGVyLmJ5dGVMZW5ndGgpO2xldCBpPW4uZGF0YS5zbGljZSgwLHRoaXMuX2RhdGFTdHJlYW1QYWNrZXRIZWFkZXIuYnl0ZUxlbmd0aCkscj1uZXcgRGF0YVZpZXcoaSkuZ2V0VWludDgoMyk7aWYociE9PXRoaXMuaWQpcmV0dXJuIHZvaWQodihcIlNIT1dfREFUQVNUUkVBTTJfTE9HXCIpJiZfLmRlYnVnKFwiaW52YWxpZCBkYXRhY2hhbm5lbCBpZDogXCIuY29uY2F0KHIsXCIgIT09IFwiKS5jb25jYXQodGhpcy5pZCkpKTtsZXQgbz1uLmRhdGEuc2xpY2UodGhpcy5fZGF0YVN0cmVhbVBhY2tldEhlYWRlci5ieXRlTGVuZ3RoKTtvPXRoaXMuX2RhdGFTdHJlYW1QYWNrZXRIYW5kbGVyLmRlc2VyaWFsaXplKG8pLHRoaXMuZW1pdChDbC5NRVNTQUdFLG8pO307fV91cGRhdGVPcmlnaW5EYXRhQ2hhbm5lbChlKXtzdXBlci5fdXBkYXRlT3JpZ2luRGF0YUNoYW5uZWwoZSksdGhpcy5fYmFuZFJlbW90ZURhdGFDaGFubmVsRXZlbnRzKCk7fV9jbG9zZSgpe3RoaXMuX29yaWdpbkRhdGFDaGFubmVsJiYodGhpcy5fb3JpZ2luRGF0YUNoYW5uZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIix0aGlzLl9tZXNzYWdlTGlzdGVuZXIpLHN1cGVyLl9jbG9zZSgpKTt9X2JhbmRSZW1vdGVEYXRhQ2hhbm5lbEV2ZW50cygpe3RoaXMuX29yaWdpbkRhdGFDaGFubmVsJiZ0aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbC5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHRoaXMuX21lc3NhZ2VMaXN0ZW5lcik7fX0sWkU9Y2xhc3MgZXh0ZW5kcyBjdXtzZW5kKGUpe2lmKHRoaXMuX29yaWdpbkRhdGFDaGFubmVsKXtsZXQgbj1lO249dGhpcy5fZGF0YVN0cmVhbVBhY2tldEhhbmRsZXIuc2VyaWFsaXplKGUpO2xldCBpPW5ldyBVaW50OEFycmF5KHRoaXMuX2RhdGFTdHJlYW1QYWNrZXRIZWFkZXIuYnl0ZUxlbmd0aCtuLmJ5dGVMZW5ndGgpO2kuc2V0KG5ldyBVaW50OEFycmF5KHRoaXMuX2RhdGFTdHJlYW1QYWNrZXRIZWFkZXIpLDApLGkuc2V0KG5ldyBVaW50OEFycmF5KG4pLHRoaXMuX2RhdGFTdHJlYW1QYWNrZXRIZWFkZXIuYnl0ZUxlbmd0aCksdGhpcy5fb3JpZ2luRGF0YUNoYW5uZWwuc2VuZChpLmJ1ZmZlcik7fX19O2Z1bmN0aW9uIHZsKCl7bGV0IHQ9bmV3IEJsb2IoW2F0b2IoXCJablZ1WTNScGIyNGdaU2hsTEhRc2JpbDdiR1YwSUhJOWJtVjNJRlZwYm5RNFFYSnlZWGtvWlN4MExHNHBMR0U5VzEwc2J6MHdPMlp2Y2lnN1lTNXNaVzVuZEdnOGJqc3BieXN6UEc0bUpqQTlQVDF5VzI5ZEppWXdQVDA5Y2x0dkt6RmRKaVl6UFQwOWNsdHZLekpkSmlZb01EMDlQWEpiYnlzelhYeDhNVDA5UFhKYmJ5c3pYWHg4TWowOVBYSmJieXN6WFh4OE16MDlQWEpiYnlzelhTay9LR0V1Y0hWemFDaHlXMjlkTEhKYmJ5c3hYU3h5VzI4ck0xMHBMRzhyUFRRcE9paGhMbkIxYzJnb2NsdHZYU2tzYnlzcktUdHlaWFIxY200Z2JtVjNJRlZwYm5RNFFYSnlZWGtvWVNsOVpuVnVZM1JwYjI0Z2RDaGxMSFFwZTJOdmJuTjBJRzQ5Wm5WdVkzUnBiMjRvWlNsN1kyOXVjM1FnZEQxbExteGxibWQwYUR0c1pYUWdiajFiWFN4eVBUQTdabTl5S0R0eVBIUTdLWElyTWp4MEppWXdQVDA5WlZ0eVhTWW1NRDA5UFdWYmNpc3hYU1ltS0RBOVBUMWxXM0lyTWwxOGZERTlQVDFsVzNJck1sMThmREk5UFQxbFczSXJNbDE4ZkRNOVBUMWxXM0lyTWwwcFB5aHVMbkIxYzJnb1pWdHlYU3hsVzNJck1WMHNNeXhsVzNJck1sMHBMSElyUFRNcE9paHVMbkIxYzJnb1pWdHlYU2tzY2lzcktUdHlaWFIxY200Z2JtVjNJRlZwYm5RNFFYSnlZWGtvYmlsOUtIUXBMSEk5Ymk1c1pXNW5kR2dzWVQxTllYUm9MbVpzYjI5eUtISXZNalUxS1N4dlBYSWxNalUxTEhNOWJtVjNJRlZwYm5RNFFYSnlZWGtvTml0aEt6RXJjaXRsTG1KNWRHVk1aVzVuZEdncE8zTmJNRjA5TUN4eld6RmRQVEFzYzFzeVhUMHdMSE5iTTEwOU1TeHpXelJkUFRZc2MxczFYVDB4TURFN2JHVjBJR2s5TUR0bWIzSW9PMms4WVRzcGMxczJLMmxkUFRJMU5TeHBLeXM3Y21WMGRYSnVJSE5iTml0cFhUMXZMR2tyS3l4ekxuTmxkQ2h1TERZcmFTa3NjeTV6WlhRb2JtVjNJRlZwYm5RNFFYSnlZWGtvWlNrc05pdHBLM0lwTEhNdVluVm1abVZ5Zlc1aGRtbG5ZWFJ2Y2k1MWMyVnlRV2RsYm5RdWFXNWtaWGhQWmlnaVUyRm1ZWEpwSWlrK0xURW1KaTB4UFQwOWJtRjJhV2RoZEc5eUxuVnpaWEpCWjJWdWRDNXBibVJsZUU5bUtDSkRhSEp2YldVaUtTWW1LSE5sYkdZdWIyNXlkR04wY21GdWMyWnZjbTA5YmowK2UyTnZibk4wSUhJOWJpNTBjbUZ1YzJadmNtMWxjanRzWlhRZ1lUMWJYVHR5TG05d2RHbHZibk11Y0c5eWRDNXZibTFsYzNOaFoyVTlaVDArZTJVdVpHRjBZUzV6WldrbUptRXVjSFZ6YUNobExtUmhkR0V1YzJWcEtYMHNjMlZzWmk1d2IzTjBUV1Z6YzJGblpTZ2ljM1JoY25SbFpDSXBPMk52Ym5OMElHODljaTV5WldGa1lXSnNaUzVuWlhSU1pXRmtaWElvS1N4elBYSXVkM0pwZEdGaWJHVXVaMlYwVjNKcGRHVnlLQ2s3SW5KNElqMDlQWEl1YjNCMGFXOXVjeTV1WVcxbFAyWjFibU4wYVc5dUlIUW9iaWw3Ynk1eVpXRmtLQ2t1ZEdobGJpZ29jajArZTJsbUtDRnlMbVJ2Ym1VcGUybG1LSEl1ZG1Gc2RXVWdhVzV6ZEdGdVkyVnZaaUJTVkVORmJtTnZaR1ZrVm1sa1pXOUdjbUZ0WlNsN1kyOXVjM1FnZEQxbWRXNWpkR2x2YmloMEtYdGpiMjV6ZENCdVBXNWxkeUJFWVhSaFZtbGxkeWgwTG1SaGRHRXBPMnhsZENCeVBUQTdabTl5S0R0eUt6UThkQzVrWVhSaExtSjVkR1ZNWlc1bmRHZzdLWHRwWmlnd1BUMDliaTVuWlhSVmFXNTBPQ2h5S3pBcEppWXdQVDA5Ymk1blpYUlZhVzUwT0NoeUt6RXBKaVl3UFQwOWJpNW5aWFJWYVc1ME9DaHlLeklwSmlZeFBUMDliaTVuWlhSVmFXNTBPQ2h5S3pNcEppWTJQVDA5Ymk1blpYUlZhVzUwT0NoeUt6UXBLWHRzWlhRZ1lUMXlLellzYnowd0xITTlNRHRtYjNJb096STFOVDA5UFNoelBXNHVaMlYwVldsdWREZ29ZU3NyS1NrN0tXOHJQVEkxTlR0dkt6MXpPMk52Ym5OMElHazlaU2gwTG1SaGRHRXNZU3h2S1R0eVpYUjFjbTRnYm1WM0lGVnBiblE0UVhKeVlYa29hU2w5Y2lzcmZYSmxkSFZ5YmlCdWRXeHNmU2h5TG5aaGJIVmxLVHQwSmladUxtOXdkR2x2Ym5NdWNHOXlkQzV3YjNOMFRXVnpjMkZuWlNoN2MyVnBPblI5S1gxekxuZHlhWFJsS0hJdWRtRnNkV1VwTEc0dWIzQjBhVzl1Y3k1d2IzSjBMbkJ2YzNSTlpYTnpZV2RsS0h0MGNtRnVjMlp2Y20xbFpEb2hNSDBwTEhRb2JpbDlmU2twZlNoeUtUb2lkSGdpUFQwOWNpNXZjSFJwYjI1ekxtNWhiV1VtSm1aMWJtTjBhVzl1SUdVb2JpbDdieTV5WldGa0tDa3VkR2hsYmlnb2NqMCtlMmxtS0NGeUxtUnZibVVwZTJsbUtISXVkbUZzZFdVZ2FXNXpkR0Z1WTJWdlppQlNWRU5GYm1OdlpHVmtWbWxrWlc5R2NtRnRaU2w3WTI5dWMzUWdaVDFoTG5Ob2FXWjBLQ2s3WlNZbUtISXVkbUZzZFdVdVpHRjBZVDEwS0hJdWRtRnNkV1V1WkdGMFlTeGxLU2w5Y3k1M2NtbDBaU2h5TG5aaGJIVmxLU3h1TG05d2RHbHZibk11Y0c5eWRDNXdiM04wVFdWemMyRm5aU2g3ZEhKaGJuTm1iM0p0WldRNklUQjlLU3hsS0c0cGZYMHBLWDBvY2lsOUxITmxiR1l1Y0c5emRFMWxjM05oWjJVb0luSmxaMmx6ZEdWeVpXUWlLU2s3Q2c9PVwiKV0se3R5cGU6XCJ0ZXh0L2phdmFzY3JpcHRcIn0pO3JldHVybiBzZXRUaW1lb3V0KCgpPT5oQy5yZXZva2VPYmplY3RVUkwodCksMCksbmV3IFdvcmtlcihoQy5jcmVhdGVPYmplY3RVUkwodCkpfXZhciBCZD1uZXcgTWFwLGpkPW5ldyBNYXA7ZnVuY3Rpb24gRkcodCxlLG4pe2xldCBpPW5ldyBVaW50OEFycmF5KHQsZSxuKSxyPVtdLG89MDtmb3IoO3IubGVuZ3RoPG47KW8rMzxuJiZpW29dPT09MCYmaVtvKzFdPT09MCYmaVtvKzJdPT09MyYmKGlbbyszXT09PTB8fGlbbyszXT09PTF8fGlbbyszXT09PTJ8fGlbbyszXT09PTMpPyhyLnB1c2goaVtvXSxpW28rMV0saVtvKzNdKSxvKz00KTooci5wdXNoKGlbb10pLG8rKyk7cmV0dXJuIG5ldyBVaW50OEFycmF5KHIpfXZhciBHZD1uZXcgTWFwO2FzeW5jIGZ1bmN0aW9uIEJHKHQsZSl7aWYoIWZ0KCkuc3VwcG9ydFdlYlJUQ0VuY29kZWRUcmFuc2Zvcm0pcmV0dXJuIHZvaWQgXy53YXJuaW5nKFwiYnJvd3NlciBub3Qgc3VwcG9ydCB2aWRlbyBlbmNvZGVkIHRyYW5zZm9ybVwiKTtpZihHZC5oYXModCl8fCF0LnRyYWNrKXJldHVybjtsZXQgbj17dHJhY2s6dC50cmFja307aWYob28oKSl7aWYoIXQuY3JlYXRlRW5jb2RlZFN0cmVhbXMpcmV0dXJuIHZvaWQgXy53YXJuaW5nKFwiYnJvd3NlciBub3Qgc3VwcG9ydCBjcmVhdGVFbmNvZGVkU3RyZWFtcygpIEFQSVwiKTtsZXQgcj1udWxsO3RyeXtyPXQuY3JlYXRlRW5jb2RlZFN0cmVhbXMoKTt9Y2F0Y2goYSl7cmV0dXJuIHZvaWQgXy5lcnJvcihcImNyZWF0ZSB2aWRlby1lbmNvZGVkLXN0cmVhbXMgZXJyb3JcIixhJiZhLm1lc3NhZ2UpfWxldCBvPVtdO2Uub24oXCJzZWktdG8tc2VuZFwiLGE9PntvLnB1c2goYSk7fSk7bGV0IHM9bmV3IFRyYW5zZm9ybVN0cmVhbSh7dHJhbnNmb3JtKGEsYyl7bi5jb250cm9sbGVyfHwobi5jb250cm9sbGVyPWMpLHQudHJhY2smJnQudHJhY2suaWQhPT1uLnRyYWNrLmlkJiYoXy5kZWJ1ZyhcInZpZGVvIHRyYWNrIGNoYW5nZWQ6IFwiLmNvbmNhdChuLnRyYWNrLmlkLFwiID0+IFwiKS5jb25jYXQodC50cmFjay5pZCkpLG4udHJhY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsaSksbi50cmFjaz10LnRyYWNrLG4udHJhY2suYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsaSkpO2xldCBkPW8uc2hpZnQoKTtkJiYoYS5kYXRhPWZ1bmN0aW9uKGwsdSl7bGV0IGg9ZnVuY3Rpb24oQyl7bGV0IEE9Qy5sZW5ndGgsYj1bXSx3PTA7Zm9yKDt3PEE7KXcrMjxBJiZDW3ddPT09MCYmQ1t3KzFdPT09MCYmKENbdysyXT09PTB8fENbdysyXT09PTF8fENbdysyXT09PTJ8fENbdysyXT09PTMpPyhiLnB1c2goQ1t3XSxDW3crMV0sMyxDW3crMl0pLHcrPTMpOihiLnB1c2goQ1t3XSksdysrKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYil9KHUpLHA9aC5sZW5ndGgsZz1NYXRoLmZsb29yKHAvMjU1KSxFPXAlMjU1LGY9bmV3IFVpbnQ4QXJyYXkoNitnKzErcCtsLmJ5dGVMZW5ndGgpO2ZbMF09MCxmWzFdPTAsZlsyXT0wLGZbM109MSxmWzRdPTYsZls1XT0xMDE7bGV0IFM9MDtmb3IoO1M8ZzspZls2K1NdPTI1NSxTKys7cmV0dXJuIGZbNitTXT1FLFMrKyxmLnNldChoLDYrUyksZi5zZXQobmV3IFVpbnQ4QXJyYXkobCksNitTK3ApLGYuYnVmZmVyfShhLmRhdGEsZCkpLGMuZW5xdWV1ZShhKTt9fSk7ci5yZWFkYWJsZS5waXBlVGhyb3VnaChzKS5waXBlVG8oci53cml0YWJsZSk7fWVsc2Uge2lmKCFqZSgpKXJldHVybjt7aWYodHlwZW9mIFJUQ1J0cFNjcmlwdFRyYW5zZm9ybT5cInVcIilyZXR1cm4gdm9pZCBfLndhcm5pbmcoXCJicm93c2VyIG5vdCBzdXBwb3J0IFJUQ1J0cFNjcmlwdFRyYW5zZm9ybVwiKTtsZXQgcj12bCgpLG89bmV3IE1lc3NhZ2VDaGFubmVsO2F3YWl0IG5ldyBqKGE9PnIub25tZXNzYWdlPWM9PntjLmRhdGE9PT1cInJlZ2lzdGVyZWRcIiYmYSh2b2lkIDApO30pO2xldCBzPW5ldyBSVENSdHBTY3JpcHRUcmFuc2Zvcm0ocix7bmFtZTpcInR4XCIscG9ydDpvLnBvcnQyfSxbby5wb3J0Ml0pO3QudHJhbnNmb3JtPXMsYXdhaXQgbmV3IGooYT0+ci5vbm1lc3NhZ2U9Yz0+e2MuZGF0YT09PVwic3RhcnRlZFwiJiZhKHZvaWQgMCk7fSksZS5vbihcInNlaS10by1zZW5kXCIsYT0+e28ucG9ydDEucG9zdE1lc3NhZ2Uoe3NlaTphfSk7fSksby5wb3J0MS5vbm1lc3NhZ2U9YT0+e3ZhciBjO2EuZGF0YS50cmFuc2Zvcm1lZCYmdC50cmFjayYmKChjPXQudHJhY2spPT09bnVsbHx8Yz09PXZvaWQgMD92b2lkIDA6Yy5pZCkhPT1uLnRyYWNrLmlkJiYoXy5kZWJ1ZyhcInZpZGVvIHRyYWNrIGNoYW5nZWQ6IFwiLmNvbmNhdChuLnRyYWNrLmlkLFwiID0+IFwiKS5jb25jYXQodC50cmFjay5pZCkpLG4udHJhY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsaSksbi50cmFjaz10LnRyYWNrLG4udHJhY2suYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsaSkpO30sbi53b3JrZXI9cjt9fWZ1bmN0aW9uIGkoKXtpZih0LnRyYWNrKXtpZih0aGlzLmlkIT09dC50cmFjay5pZClyZXR1cm47dC50cmFjay5yZW1vdmVFdmVudExpc3RlbmVyKFwiZW5kZWRcIixpKTt9bGV0IHI9R2QuZ2V0KHQpO2lmKHIpe0dkLmRlbGV0ZSh0KTt0cnl7dmFyIG8sczsobz1yLmNvbnRyb2xsZXIpPT09bnVsbHx8bz09PXZvaWQgMHx8by50ZXJtaW5hdGUoKSwocz1yLndvcmtlcik9PT1udWxsfHxzPT09dm9pZCAwfHxzLnRlcm1pbmF0ZSgpO31jYXRjaChhKXtfLndhcm5pbmcoYSYmYS5tZXNzYWdlKTt9fX1HZC5zZXQodCxuKSx0LnRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLGkpO312YXIgeGE9bmV3IE1hcDsoZnVuY3Rpb24oKXtsZXQgdD1tdCgpO05lLmdldERpc3BsYXlNZWRpYT0hKCFuYXZpZ2F0b3IubWVkaWFEZXZpY2VzfHwhbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXREaXNwbGF5TWVkaWEpLE5lLmdldFN0cmVhbUZyb21FeHRlbnNpb249dC5uYW1lPT09SXQuQ0hST01FJiZOdW1iZXIodC52ZXJzaW9uKT4zNCxOZS5zdXBwb3J0VW5pZmllZFBsYW49ZnVuY3Rpb24oKXtpZighd2luZG93LlJUQ1J0cFRyYW5zY2VpdmVyfHwhKFwiY3VycmVudERpcmVjdGlvblwiaW4gUlRDUnRwVHJhbnNjZWl2ZXIucHJvdG90eXBlKSlyZXR1cm4gITE7bGV0IGU9bmV3IFJUQ1BlZXJDb25uZWN0aW9uLG49ITE7dHJ5e2UuYWRkVHJhbnNjZWl2ZXIoXCJhdWRpb1wiKSxuPSEwO31jYXRjaHt9cmV0dXJuIGUuY2xvc2UoKSxufSgpLE5lLnN1cHBvcnRNaW5CaXRyYXRlPXQubmFtZT09PUl0LkNIUk9NRXx8dC5uYW1lPT09SXQuRURHRSxOZS5zdXBwb3J0U2V0UnRwU2VuZGVyUGFyYW1ldGVycz1mdW5jdGlvbigpe2xldCBlPW10KCk7cmV0dXJuICEhKHdpbmRvdy5SVENSdHBTZW5kZXImJndpbmRvdy5SVENSdHBTZW5kZXIucHJvdG90eXBlLnNldFBhcmFtZXRlcnMmJndpbmRvdy5SVENSdHBTZW5kZXIucHJvdG90eXBlLmdldFBhcmFtZXRlcnMpJiYoISFobygpfHwhKCFqZSgpJiYhR2woKSl8fGUubmFtZT09PUl0LkZJUkVGT1gmJk51bWJlcihlLnZlcnNpb24pPj02NCl9KCksdC5uYW1lPT09SXQuU0FGQVJJJiYoTnVtYmVyKHQudmVyc2lvbik+PTE0P05lLnN1cHBvcnREdWFsU3RyZWFtPSEwOk5lLnN1cHBvcnREdWFsU3RyZWFtPSExKSxOZS53ZWJBdWRpb01lZGlhU3RyZWFtRGVzdD1mdW5jdGlvbigpe2xldCBlPW10KCk7cmV0dXJuICEoZS5uYW1lPT09SXQuU0FGQVJJJiZOdW1iZXIoZS52ZXJzaW9uKTwxMil9KCksTmUuc3VwcG9ydFJlcGxhY2VUcmFjaz0hIXdpbmRvdy5SVENSdHBTZW5kZXImJnR5cGVvZiBSVENSdHBTZW5kZXIucHJvdG90eXBlLnJlcGxhY2VUcmFjaz09XCJmdW5jdGlvblwiLE5lLnN1cHBvcnRXZWJHTD10eXBlb2YgV2ViR0xSZW5kZXJpbmdDb250ZXh0PFwidVwiLE5lLnN1cHBvcnRSZXF1ZXN0RnJhbWU9ISF3aW5kb3cuQ2FudmFzQ2FwdHVyZU1lZGlhU3RyZWFtVHJhY2ssaG8oKXx8KE5lLndlYkF1ZGlvV2l0aEFFQz0hMCksTmUuc3VwcG9ydFNoYXJlQXVkaW89ZnVuY3Rpb24oKXtsZXQgZT1tdCgpO3JldHVybiAoZS5vcz09PXllLldJTl8xMHx8ZS5vcz09PXllLldJTl84MXx8ZS5vcz09PXllLldJTl83fHxlLm9zPT09eWUuTElOVVh8fGUub3M9PT15ZS5NQUNfT1N8fGUub3M9PT15ZS5DSFJPTUlVTV9PUykmJmUubmFtZT09PUl0LkNIUk9NRSYmTnVtYmVyKGUudmVyc2lvbik+PTc0fSgpLE5lLnN1cHBvcnREYXRhQ2hhbm5lbD0hIShPRSg3Nil8fGZ1bmN0aW9uKGUpe2xldCBuPW10KCk7cmV0dXJuICEobi5uYW1lIT09SXQuRklSRUZPWHx8IW4ub3NWZXJzaW9uKSYmTnVtYmVyKG4udmVyc2lvbik+PWV9KDY4KXx8bU8oMTQpKSxOZS5zdXBwb3J0UENTZXRDb25maWd1cmF0aW9uPWZ1bmN0aW9uKCl7bGV0IGU9d2luZG93LlJUQ1BlZXJDb25uZWN0aW9uO3JldHVybiAhJHQoKSYmISFlJiZlLnByb3RvdHlwZS5zZXRDb25maWd1cmF0aW9uIGluc3RhbmNlb2YgRnVuY3Rpb259KCksTmUuc3VwcG9ydFdlYlJUQ0VuY29kZWRUcmFuc2Zvcm09ZnVuY3Rpb24oKXtsZXQgZT1tdCgpO3JldHVybiBlLm5hbWU9PT1cIkNocm9tZVwiJiZOdW1iZXIoZS52ZXJzaW9uKT49ODZ8fGUubmFtZT09PVwiU2FmYXJpXCImJk51bWJlcihlLnZlcnNpb24pPj0xNX0oKSxOZS5zdXBwb3J0V2ViUlRDSW5zZXJ0YWJsZVN0cmVhbT1mdW5jdGlvbigpe2xldCBlPW10KCk7cmV0dXJuIChlLm5hbWU9PT1JdC5DSFJPTUV8fGUubmFtZT09PUl0LkVER0UpJiZOdW1iZXIoZS52ZXJzaW9uKT49OTQmJlwiTWVkaWFTdHJlYW1UcmFja0dlbmVyYXRvclwiaW4gd2luZG93JiZcIk1lZGlhU3RyZWFtVHJhY2tQcm9jZXNzb3JcImluIHdpbmRvd30oKSxOZS5zdXBwb3J0UmVxdWVzdFZpZGVvRnJhbWVDYWxsYmFjaz1cInJlcXVlc3RWaWRlb0ZyYW1lQ2FsbGJhY2tcImluIEhUTUxWaWRlb0VsZW1lbnQucHJvdG90eXBlLE5lLnN1cHBvcnRXZWJDcnlwdG89dHlwZW9mIHdpbmRvdzxcInVcIiYmd2luZG93LmNyeXB0byE9PXZvaWQgMCYmd2luZG93LmNyeXB0by5zdWJ0bGUhPT12b2lkIDAscXUoKCk9PntOZS5zdXBwb3J0RHVhbFN0cmVhbUVuY29kaW5nPWZ1bmN0aW9uKCl7bGV0IGU9bXQoKTtyZXR1cm4gISF2KFwiRElTQUJMRV9XRUJBVURJT1wiKXx8ZS5uYW1lPT09XCJTYWZhcmlcIiYmTnVtYmVyKGUudmVyc2lvbik+PTE0fHwhIShlLm5hbWU9PT1cIkNocm9tZVwiJiYvV2luZG93cy9pLnRlc3QoZS5vc3x8XCJcIikmJk51bWJlcihlLnZlcnNpb24pPj0xMDAmJnYoXCJDSFJPTUVfRFVBTF9TVFJFQU1fVVNFX0VOQ09ESU5HXCIpKX0oKSxfLmluZm8oXCJicm93c2VyIGNvbXBhdGliaWxpdHlcIixKU09OLnN0cmluZ2lmeShOZSksSlNPTi5zdHJpbmdpZnkodCkpO30pO30pKCk7dmFyIGlhPWNsYXNzIHQgZXh0ZW5kcyBYdHtjb25zdHJ1Y3RvcihlLG4pe3N1cGVyKCksVCh0aGlzLFwic2lnbmFsXCIsdm9pZCAwKSxUKHRoaXMsXCJ0b2tlblwiLHZvaWQgMCksVCh0aGlzLFwidG9rZW5UaW1lb3V0XCIsdm9pZCAwKSxUKHRoaXMsXCJ0b2tlbkludGVydmFsXCIsdm9pZCAwKSxUKHRoaXMsXCJfc2VxdWVuY2VcIiwwKSxUKHRoaXMsXCJ1c2VyTWFwXCIsbmV3IE1hcCksVCh0aGlzLFwiZW5jb2RlclwiLG5ldyBUZXh0RW5jb2RlciksdGhpcy5zaWduYWw9ZSx0aGlzLnRva2VuPW47bGV0IGk9KCk9Pnt0aGlzLnNpZ25hbC5jb25uZWN0aW9uU3RhdGU9PT1MdC5DT05ORUNURUQmJnRoaXMuY2hlY2soKSx0aGlzLnVzZXJNYXAuc2l6ZT09PTA/dGhpcy50b2tlbkludGVydmFsPXdpbmRvdy5zZXRUaW1lb3V0KGksMWUzKTp0aGlzLnRva2VuSW50ZXJ2YWw9d2luZG93LnNldFRpbWVvdXQoaSwzKnYoXCJQMlBfVE9LRU5fSU5URVJWQUxcIikpO307aSgpO31hc3luYyBzZW5kKGUsbixpLHIsbyl7dmFyIHMsYSxjO2lmKHRoaXMudXNlck1hcC5zaXplPT09MClyZXR1cm47bGV0IGQ9QXJyYXkuZnJvbShQcihzPXRoaXMudXNlck1hcCkuY2FsbChzKSlbMF0udG9rZW47dHlwZW9mIG4hPVwic3RyaW5nXCImJihuPUpTT04uc3RyaW5naWZ5KG4pKSxyPShhPXIpIT09bnVsbCYmYSE9PXZvaWQgMD9hOlV0KDYsXCJcIiksbz0oYz1vKSE9PW51bGwmJmMhPT12b2lkIDA/Yzp0aGlzLl9zZXF1ZW5jZSsrO2xldCBsPXtfaWQ6cixfdHlwZTplLF9zZXE6byxfbWVzc2FnZTpuLHRva2VuOlwiXCIuY29uY2F0KHRoaXMudG9rZW4sXCJfXCIpLmNvbmNhdChkKX07dihcIlNIT1dfUDJQX0xPR1wiKSYmXy5kZWJ1ZyhcInNlbmQgbWVzc2FnZVwiLGwsXCJub05lZWRSZXNwb25zZSA6IFwiLmNvbmNhdChpKSksdGhpcy5zcGxpdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkobCkpLmZvckVhY2goaD0+e3RoaXMuc2lnbmFsLnJlcXVlc3QoZXQuREFUQV9TVFJFQU0se3BheWxvYWQ6c28odGhpcy5lbmNvZGVyLmVuY29kZShoKSl9KTt9KTtsZXQgdT1uZXcgaigoaCxwKT0+e2xldCBnPXdpbmRvdy5zZXRUaW1lb3V0KCgpPT57dGhpcy5vZmYoXCJyZXMtQFwiLmNvbmNhdChyLFwiX2Fja1wiKSxFKSx0aGlzLm9mZihcInJlcy1AXCIuY29uY2F0KHIpLFMpLHRoaXMub2ZmKHBzLkFCT1JULGYpLF8uZGVidWcoXCJbZXh0ZXJuYWwtc2lnbmFsXSByZXF1ZXN0IHRpbWVvdXQsIHR5cGU6IFwiLmNvbmNhdChlLFwiLCByZXF1ZXN0SWQ6IFwiKS5jb25jYXQocikpLHRoaXMudXNlck1hcC5zaXplPT09MD9wKG5ldyBOKFIuSU5WQUxJRF9SRU1PVEVfVVNFUikpOnAobmV3IE4oUi5USU1FT1VUKSk7fSx2KFwiRVhURVJOQUxfU0lHTkFMX1JFUVVFU1RfVElNRU9VVFwiKSksRT0oKT0+e2cmJndpbmRvdy5jbGVhclRpbWVvdXQoZyksdGhpcy5vZmYocHMuQUJPUlQsZiksaSYmaCgpO30sZj0oKT0+e2cmJndpbmRvdy5jbGVhclRpbWVvdXQoZyksdGhpcy5vZmYoXCJyZXMtQFwiLmNvbmNhdChyLFwiX2Fja1wiKSxFKSx0aGlzLm9mZihcInJlcy1AXCIuY29uY2F0KHIpLFMpLHAobmV3IE4oUi5FWFRFUk5BTF9TSUdOQUxfQUJPUlQsXCJ0eXBlOiBcIi5jb25jYXQoZSxcIiwgcmVxdWVzdElkOiBcIikuY29uY2F0KHIpKSk7fTt0aGlzLm9uY2UocHMuQUJPUlQsZiksdGhpcy5vbmNlKFwicmVzLUBcIi5jb25jYXQocixcIl9hY2tcIiksRSk7bGV0IFM9KEEsYik9PntDPSEwLGcmJndpbmRvdy5jbGVhclRpbWVvdXQoZyksdGhpcy5vZmYoXCJyZXMtQFwiLmNvbmNhdChyLFwiX2Fja1wiKSxFKSx0aGlzLm9mZihwcy5BQk9SVCxmKSxBPT09XCJzdWNjZXNzXCI/aChiKTpwKG5ldyBOKFIuUDJQX01FU1NBR0VfRkFJTEVELFwicmVxdWVzdCBcIi5jb25jYXQoZSxcIiBmYWlsZWQsIHJlcXVlc3RJZDogXCIpLmNvbmNhdChyKSkpO30sQz0hMTtpfHwodGhpcy5vbmNlKFwicmVzLUBcIi5jb25jYXQociksUyksTWUodihcIlNJR05BTF9SRVFVRVNUX1RJTUVPVVRcIikpLnRoZW4oKCk9PntDfHxfLndhcm5pbmcoXCJleHRlcm5hbF9zaWduYWwgcmVxdWVzdCB0aW1lb3V0LCB0eXBlOiBcIi5jb25jYXQoZSxcIiwgcmVxdWVzdElkOiBcIikuY29uY2F0KHIsXCIsIFwiKS5jb25jYXQobCkpO30pKTt9KTt0cnl7cmV0dXJuIGF3YWl0IHV9Y2F0Y2goaCl7aWYoaC5jb2RlPT09Ui5USU1FT1VUKXJldHVybiBhd2FpdCB0aGlzLnNlbmQoZSxuLGkscixvKTt0aHJvdyBofX1vbk1lc3NhZ2UoZSl7dmFyIG47bGV0e191aWQ6aX09ZSxyLG89dGhpcy51c2VyTWFwLmdldChpKTtpZihvKXI9by5zcGxpdE1lc3NhZ2VNYXA7ZWxzZSB7aWYodGhpcy51c2VyTWFwLnNpemU+MHx8IShcIl90eXBlXCJpbiBlKXx8ZS5fdHlwZSE9PWllLkNIRUNLKXJldHVybjtsZXR7dG9rZW46ZH09ZTtyPW5ldyBNYXAsbz17dWlkOmksaXNTdGFydDohMCx0b2tlbjpkLHNwbGl0TWVzc2FnZU1hcDpyLG5leHRFeHBlY3RlZFNlcXVlbmNlTnVtYmVyOjAscmVjZWl2ZWRNZXNzYWdlc01hcDpuZXcgTWFwfSx0aGlzLnVzZXJNYXAuc2V0KGksbyksdGhpcy5zaWduYWwuZW1pdChkdC5PTl9VU0VSX09OTElORSx7dWlkOml9KSx0aGlzLmhhbmRsZVVzZXJPbmxpbmUoKTt9aWYoXCJpZFwiaW4gZSYmXCJ0b3RhbFwiaW4gZSl7dmFyIHM7bGV0e2lkOmQsdG90YWw6bH09ZSx1PShzPXIuZ2V0KGQpKSE9PW51bGwmJnMhPT12b2lkIDA/czpbXTtpZih1LnB1c2goZSksci5oYXMoZCl8fHIuc2V0KGQsdSksdS5sZW5ndGghPT1sKXJldHVybjt7bGV0IGg9ZWQodSkuY2FsbCh1LChwLGcpPT5wLmluZGV4LWcuaW5kZXgpLm1hcChwPT5wLnBheWxvYWQpLmpvaW4oXCJcIik7ci5kZWxldGUoZCksKGU9SlNPTi5wYXJzZShoKSkuX3VpZD1pO319bGV0e190eXBlOmEsdG9rZW46Y309ZTtpZihXKG49W2llLkFDSyxpZS5DSEVDS10pLmNhbGwobixhKSlyZXR1cm4gYT09PWllLkNIRUNLJiZ0aGlzLmhhbmRsZUNoZWNrVG9rZW4obyxjKSx2b2lkIHRoaXMucmVjZWl2ZU1lc3NhZ2UoZSk7Yz09PVwiXCIuY29uY2F0KG8udG9rZW4sXCJfXCIpLmNvbmNhdCh0aGlzLnRva2VuKT90aGlzLmhhbmRsZVJlY2VpdmVkTWVzc2FnZShlKTpfLmRlYnVnKCdSZWNlaXZlIHVuZXhwZWN0ZWQgbWVzc2FnZVwiLCAnLmNvbmNhdChjLFwiLCBjdXJfdG9rZW46IFwiKS5jb25jYXQoby50b2tlbixcIl9cIikuY29uY2F0KHRoaXMudG9rZW4pLGUpO31jaGVjaygpe2xldCBlPXtfaWQ6VXQoNixcIlwiKSx0b2tlbjp0aGlzLnRva2VuLF90eXBlOmllLkNIRUNLfTt2KFwiU0hPV19QMlBfTE9HXCIpJiZfLmRlYnVnKFwic2VuZCBtZXNzYWdlXCIsZSksdGhpcy5zaWduYWwucmVxdWVzdChldC5EQVRBX1NUUkVBTSx7cGF5bG9hZDpzbyh0aGlzLmVuY29kZXIuZW5jb2RlKEpTT04uc3RyaW5naWZ5KGUpKSl9KTt9YWNrKGUpe2xldCBuPXtfaWQ6ZSxfdHlwZTppZS5BQ0ssdG9rZW46dGhpcy50b2tlbn07dihcIlNIT1dfUDJQX0xPR1wiKSYmXy5kZWJ1ZyhcInNlbmQgbWVzc2FnZVwiLG4pLHRoaXMuc2lnbmFsLnJlcXVlc3QoZXQuREFUQV9TVFJFQU0se3BheWxvYWQ6c28odGhpcy5lbmNvZGVyLmVuY29kZShKU09OLnN0cmluZ2lmeShuKSkpfSk7fXJlc3BvbnNlKGUsbixpKXt0aGlzLnNlbmQoaWUuUkVTUE9OU0UsSlNPTi5zdHJpbmdpZnkoe3N1Y2Nlc3M6IWksbWVzc2FnZTpufSksITAsZSk7fWhhbmRsZVJlY2VpdmVkTWVzc2FnZShlKXtsZXQgbj0oKT0+e3RoaXMudXNlck1hcC5mb3JFYWNoKGQ9PntsZXR7cmVjZWl2ZWRNZXNzYWdlc01hcDpsLG5leHRFeHBlY3RlZFNlcXVlbmNlTnVtYmVyOnV9PWQ7Zm9yKDtsLmhhcyh1KTspe2xldCBoPWwuZ2V0KHUpO2wuZGVsZXRlKHUpLHRoaXMucmVjZWl2ZU1lc3NhZ2UoaCksZC5uZXh0RXhwZWN0ZWRTZXF1ZW5jZU51bWJlcisrO319KTt9O2lmKCFlKXJldHVybiB2b2lkIG4oKTtsZXR7X3VpZDppLF9zZXE6cn09ZSxvPXRoaXMudXNlck1hcC5nZXQoaSkse3JlY2VpdmVkTWVzc2FnZXNNYXA6cyxpc1N0YXJ0OmEsbmV4dEV4cGVjdGVkU2VxdWVuY2VOdW1iZXI6Y309bztpZihyPGMpcmV0dXJuIHRoaXMuYWNrKGUuX2lkKSx2b2lkIF8uZGVidWcoXCJbZXh0ZXJuYWwtc2lnbmFsXSByZWNlaXZlIG9sZCBtZXNzYWdlLCBzZXE6IFwiLmNvbmNhdChyLFwiLCBcIikuY29uY2F0KGUuX21lc3NhZ2UpKTtzLnNldChyLGUpLGEmJnI9PT1jJiYodGhpcy5yZWNlaXZlTWVzc2FnZShlKSxzLmRlbGV0ZShjKSxvLm5leHRFeHBlY3RlZFNlcXVlbmNlTnVtYmVyKyssbigpKTt9cmVjZWl2ZU1lc3NhZ2UoZSl7bGV0e19pZDpuLF90eXBlOmksX21lc3NhZ2U6cixfdWlkOm99PWU7aWYodihcIlNIT1dfUDJQX0xPR1wiKSYmXy5kZWJ1ZyhcInJlY2VpdmUgbWVzc2FnZVwiLGUpLG4pe2xldCBzO3N3aXRjaChlLl90eXBlIT09aWUuQUNLJiYociYmKHM9SlNPTi5wYXJzZShyKSksdGhpcy5hY2soZS5faWQpKSxlLl90eXBlKXtjYXNlIGllLkNBTkRJREFURTpjYXNlIGllLkNPTlRST0w6dGhpcy5zaWduYWwuZW1pdChpLHMsbyk7YnJlYWs7Y2FzZSBpZS5QVUJMSVNIOmNhc2UgaWUuVU5QVUJMSVNIOmNhc2UgaWUuUkVTVEFSVF9JQ0U6Y2FzZSBpZS5DQUxMOnMudWlkPW8sR2UodGhpcy5zaWduYWwsaSxzKS50aGVuKGE9Pnt0aGlzLnJlc3BvbnNlKGUuX2lkLGEpO30pLmNhdGNoKCgpPT57dGhpcy5yZXNwb25zZShlLl9pZCx2b2lkIDAsITApO30pO2JyZWFrO2Nhc2UgaWUuQUNLOnRoaXMuZ2V0TGlzdGVuZXJzKFwicmVzLUBcIi5jb25jYXQobixcIl9hY2tcIikpLmxlbmd0aD4wJiZ0aGlzLmVtaXQoXCJyZXMtQFwiLmNvbmNhdChuLFwiX2Fja1wiKSk7YnJlYWs7Y2FzZSBpZS5SRVNQT05TRTp7bGV0e3N1Y2Nlc3M6YSxtZXNzYWdlOmN9PXM7dGhpcy5lbWl0KFwicmVzLUBcIi5jb25jYXQobiksYT9cInN1Y2Nlc3NcIjpcImZhaWxlZFwiLGMpO2JyZWFrfX19fXNwbGl0TWVzc2FnZShlKXtpZihlLmxlbmd0aDx0Lk1BWF9NRVNTQUdFX1NJWkUpcmV0dXJuIFtlXTtsZXQgbj1bXSx7cmVtb3RlVG9rZW46aX09SlNPTi5wYXJzZShlKSxyPVV0KDYsXCJcIiksbz0wLHM9ODAwLGE9TWF0aC5jZWlsKGUubGVuZ3RoL3MpO2Zvcig7ZS5sZW5ndGg+MDspe28rKztsZXQgYz17aWQ6cixpbmRleDpvLHRvdGFsOmEscGF5bG9hZDplLnNsaWNlKDAscyksdG9rZW46XCJcIi5jb25jYXQodGhpcy50b2tlbixcIl9cIikuY29uY2F0KGkpfTtKU09OLnN0cmluZ2lmeShjKS5sZW5ndGg+dC5NQVhfTUVTU0FHRV9TSVpFP3MtPTUwOihuLnB1c2goYyksZT1lLnNsaWNlKHMpKTt9cmV0dXJuIG4ubWFwKGM9PkpTT04uc3RyaW5naWZ5KGMpKX1oYW5kbGVDaGVja1Rva2VuKGUsbil7cmV0dXJuIGUudG9rZW4hPT1uPyhfLmRlYnVnKFwidG9rZW4gY2hhbmdlZCwgZnJvbSBcIi5jb25jYXQoZS50b2tlbixcIiB0byBcIikuY29uY2F0KG4pKSx0aGlzLnJlc2V0KGUudWlkLG4pLCExKToodGhpcy50b2tlblRpbWVvdXQmJih3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMudG9rZW5UaW1lb3V0KSx0aGlzLnRva2VuVGltZW91dD12b2lkIDApLHRoaXMudG9rZW5UaW1lb3V0PXdpbmRvdy5zZXRUaW1lb3V0KCgpPT57Xy5kZWJ1ZyhcInRva2VuIHRpbWVvdXQsIFwiLmNvbmNhdChuKSksdGhpcy5yZXNldChlLnVpZCk7fSx2KFwiTUFYX1AyUF9USU1FT1VUXCIpKSwhMCl9YXN5bmMgaGFuZGxlVXNlck9ubGluZSgpe2xldCBlPWF3YWl0IEdlKHRoaXMuc2lnbmFsLGllLkNBTEwsdm9pZCAwKSxuPWF3YWl0IHRoaXMuc2VuZChpZS5DQUxMLGUpO3RoaXMuc2lnbmFsLmVtaXQobnQuUDJQX0NPTk5FQ1RJT04sbiwhMCk7fWFzeW5jIHJlc2V0KGUsbil7bGV0IGk9dGhpcy51c2VyTWFwLmdldChlKTtpJiYodGhpcy5lbWl0KHBzLkFCT1JUKSx0aGlzLnNpZ25hbC5lbWl0KGR0Lk9OX1VTRVJfT0ZGTElORSx7dWlkOmkudWlkLHJlYXNvbjpjai5QMlBfVE9LRU5fQ0hBTkdFRH0pLHRoaXMuX3NlcXVlbmNlPTAsdGhpcy51c2VyTWFwLmNsZWFyKCksbnx8KF8uZGVidWcoXCJjaGFuZ2UgbG9jYWwgdG9rZW4gZnJvbSBcIi5jb25jYXQobixcIiB0byBcIikuY29uY2F0KG4pKSx0aGlzLnRva2VuPVV0KDYsXCJcIikpKTt9Y2xlYXIoKXt0aGlzLl9zZXF1ZW5jZT0wLHRoaXMudXNlck1hcC5jbGVhcigpLHRoaXMudG9rZW5JbnRlcnZhbCYmd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnRva2VuSW50ZXJ2YWwpLHRoaXMudG9rZW5JbnRlcnZhbD12b2lkIDAsdGhpcy50b2tlblRpbWVvdXQmJndpbmRvdy5jbGVhclRpbWVvdXQodGhpcy50b2tlblRpbWVvdXQpLHRoaXMudG9rZW5UaW1lb3V0PXZvaWQgMCx0aGlzLmVtaXQocHMuQUJPUlQpO319O1QoaWEsXCJNQVhfU0laRVwiLDEpLFQoaWEsXCJNQVhfTUVTU0FHRV9TSVpFXCIsMTAyNCk7dmFyIGR1PWNsYXNzIGV4dGVuZHMgWHR7Z2V0IGNvbm5lY3Rpb25TdGF0ZSgpe3JldHVybiB0aGlzLl9jb25uZWN0aW9uU3RhdGV9c2V0IGNvbm5lY3Rpb25TdGF0ZShlKXtlIT09dGhpcy5fY29ubmVjdGlvblN0YXRlJiYodGhpcy5fY29ubmVjdGlvblN0YXRlPWUsZT09PUx0LkNPTk5FQ1RFRD90aGlzLmVtaXQobnQuV1NfQ09OTkVDVEVEKTplPT09THQuUkVDT05ORUNUSU5HP3RoaXMuZW1pdChudC5XU19SRUNPTk5FQ1RJTkcsdGhpcy5fd2Vic29ja2V0UmVjb25uZWN0UmVhc29uKTplPT09THQuQ0xPU0VEJiZ0aGlzLmVtaXQobnQuV1NfQ0xPU0VELHRoaXMuX2Rpc2Nvbm5lY3RlZFJlYXNvbikpO31nZXQgY3VycmVudFVSTEluZGV4KCl7cmV0dXJuIHRoaXMud2Vic29ja2V0LmN1cnJlbnRVUkxJbmRleH1nZXQgdXJsKCl7cmV0dXJuIHRoaXMud2Vic29ja2V0JiZ0aGlzLndlYnNvY2tldC51cmx8fG51bGx9Z2V0IHJ0dCgpe3JldHVybiB0aGlzLnJ0dFJvbGxpbmcubWVhbigpfWNvbnN0cnVjdG9yKGUsbil7c3VwZXIoKSxUKHRoaXMsXCJfZGlzY29ubmVjdGVkUmVhc29uXCIsdm9pZCAwKSxUKHRoaXMsXCJfd2Vic29ja2V0UmVjb25uZWN0UmVhc29uXCIsdm9pZCAwKSxUKHRoaXMsXCJfY29ubmVjdGlvblN0YXRlXCIsTHQuQ0xPU0VEKSxUKHRoaXMsXCJyZWNvbm5lY3RUb2tlblwiLHZvaWQgMCksVCh0aGlzLFwicDJwVG9rZW5cIix2b2lkIDApLFQodGhpcyxcIndlYnNvY2tldFwiLHZvaWQgMCksVCh0aGlzLFwib3BlbkNvbm5lY3Rpb25UaW1lXCIsdm9pZCAwKSxUKHRoaXMsXCJjbGllbnRJZFwiLHZvaWQgMCksVCh0aGlzLFwibGFzdE1zZ1RpbWVcIixEYXRlLm5vdygpKSxUKHRoaXMsXCJ1cGxvYWRDYWNoZVwiLFtdKSxUKHRoaXMsXCJ1cGxvYWRDYWNoZUludGVydmFsXCIsdm9pZCAwKSxUKHRoaXMsXCJydHRSb2xsaW5nXCIsbmV3IEhsKDUpKSxUKHRoaXMsXCJwaW5ncG9uZ1RpbWVyXCIsdm9pZCAwKSxUKHRoaXMsXCJwaW5ncG9uZ1RpbWVvdXRDb3VudFwiLDApLFQodGhpcyxcImpvaW5SZXNwb25zZVwiLHZvaWQgMCksVCh0aGlzLFwibXVsdGlJcE9wdGlvblwiLHZvaWQgMCksVCh0aGlzLFwiaW5pdEVycm9yXCIsdm9pZCAwKSxUKHRoaXMsXCJzcGVjXCIsdm9pZCAwKSxUKHRoaXMsXCJzdG9yZVwiLHZvaWQgMCksVCh0aGlzLFwiX2V4dGVybmFsX3NpZ25hbFwiLHZvaWQgMCksVCh0aGlzLFwib25XZWJzb2NrZXRNZXNzYWdlXCIsaT0+e2lmKGkuZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXJldHVybiB2b2lkIHRoaXMuZW1pdChudC5PTl9CSU5BUllfREFUQSxpLmRhdGEpO2xldCByPUpTT04ucGFyc2UoaS5kYXRhKTtpZih0aGlzLmxhc3RNc2dUaW1lPURhdGUubm93KCksT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsXCJfaWRcIikpe2xldCBvPVwicmVzLUBcIi5jb25jYXQoci5faWQpO3RoaXMuZW1pdChvLHIuX3Jlc3VsdCxyLl9tZXNzYWdlKTt9ZWxzZSBpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixcIl90eXBlXCIpKXtzd2l0Y2goci5fdHlwZSl7Y2FzZSBkdC5PTl9EQVRBX1NUUkVBTTpyZXR1cm4gdm9pZCB0aGlzLmhhbmRsZURhdGFTdHJlYW0oci5fbWVzc2FnZSk7Y2FzZSBkdC5NVVRFX0FVRElPOmNhc2UgZHQuTVVURV9WSURFTzpjYXNlIGR0Lk9OX1AyUF9MT1NUOmNhc2UgZHQuT05fVVNFUl9PTkxJTkU6cmV0dXJuO2Nhc2UgZHQuT05fVVNFUl9PRkZMSU5FOmxldHt1aWQ6b309ci5fbWVzc2FnZTtyZXR1cm4gXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gdXNlci1vZmZsaW5lIHVpZDogXCIpLmNvbmNhdChvKSksdm9pZCB0aGlzLl9leHRlcm5hbF9zaWduYWwucmVzZXQobyl9aWYodGhpcy5lbWl0KHIuX3R5cGUsci5fbWVzc2FnZSksci5fdHlwZT09PWR0Lk9OX05PVElGSUNBVElPTiYmdGhpcy5oYW5kbGVOb3RpZmljYXRpb24oci5fbWVzc2FnZSksci5fdHlwZT09PWR0Lk9OX1VTRVJfQkFOTkVEKXN3aXRjaChyLl9tZXNzYWdlLmVycm9yX2NvZGUpe2Nhc2UgMTQ6dGhpcy5jbG9zZShBdC5VSURfQkFOTkVEKTticmVhaztjYXNlIDE1OnRoaXMuY2xvc2UoQXQuSVBfQkFOTkVEKTticmVhaztjYXNlIDE2OnRoaXMuY2xvc2UoQXQuQ0hBTk5FTF9CQU5ORUQpO31pZihyLl90eXBlPT09ZHQuT05fVVNFUl9MSUNFTlNFX0JBTk5FRClzd2l0Y2goci5fbWVzc2FnZS5lcnJvcl9jb2RlKXtjYXNlIFouRVJSX0xJQ0VOU0VfTUlTU0lORzp0aGlzLmNsb3NlKEF0LkxJQ0VOU0VfTUlTU0lORyk7YnJlYWs7Y2FzZSBaLkVSUl9MSUNFTlNFX0VYUElSRUQ6dGhpcy5jbG9zZShBdC5MSUNFTlNFX0VYUElSRUQpO2JyZWFrO2Nhc2UgWi5FUlJfTElDRU5TRV9NSU5VVEVTX0VYQ0VFREVEOnRoaXMuY2xvc2UoQXQuTElDRU5TRV9NSU5VVEVTX0VYQ0VFREVEKTticmVhaztjYXNlIFouRVJSX0xJQ0VOU0VfUEVSSU9EX0lOVkFMSUQ6dGhpcy5jbG9zZShBdC5MSUNFTlNFX1BFUklPRF9JTlZBTElEKTticmVhaztjYXNlIFouRVJSX0xJQ0VOU0VfTVVMVElQTEVfU0RLX1NFUlZJQ0U6dGhpcy5jbG9zZShBdC5MSUNFTlNFX01VTFRJUExFX1NES19TRVJWSUNFKTticmVhaztjYXNlIFouRVJSX0xJQ0VOU0VfSUxMRUdBTDp0aGlzLmNsb3NlKEF0LkxJQ0VOU0VfSUxMRUdBTCk7YnJlYWs7ZGVmYXVsdDp0aGlzLmNsb3NlKCk7fX19KSx0aGlzLmNsaWVudElkPWUuY2xpZW50SWQsdGhpcy5zcGVjPWUsdGhpcy5zdG9yZT1uLHRoaXMud2Vic29ja2V0PW5ldyBOYyhcImdhdGV3YXktXCIuY29uY2F0KHRoaXMuY2xpZW50SWQpLHRoaXMuc3BlYy5yZXRyeUNvbmZpZywhMCx2KFwiSk9JTl9HQVRFV0FZX1VTRV9EVUFMX0RPTUFJTlwiKSx2KFwiSk9JTl9HQVRFV0FZX1VTRV80NDNQT1JUX09OTFlcIiksbiksdGhpcy5oYW5kbGVXZWJzb2NrZXRFdmVudHMoKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9mZmxpbmVcIiwoKT0+e3RoaXMuY29ubmVjdGlvblN0YXRlPT09THQuQ09OTkVDVEVEJiZ0aGlzLnJlY29ubmVjdChcInJldHJ5XCIsQmUuT0ZGTElORSk7fSksdGhpcy5wMnBUb2tlbj1VdCg2LFwiXCIpLHRoaXMuX2V4dGVybmFsX3NpZ25hbD1uZXcgaWEodGhpcyx0aGlzLnAycFRva2VuKTt9YXN5bmMgcmVxdWVzdChlLG4saSxyKXtsZXQgbz1VdCg2LFwiXCIpLHM9e19pZDpvLF90eXBlOmUsX21lc3NhZ2U6bn0sYT10aGlzLndlYnNvY2tldC5jb25uZWN0aW9uSUQsYz0oKT0+bmV3IGooKGcsRSk9PntpZih0aGlzLmNvbm5lY3Rpb25TdGF0ZT09PUx0LkNPTk5FQ1RFRClyZXR1cm4gZygpO2xldCBmPSgpPT57dGhpcy5vZmYobnQuV1NfQ0xPU0VELFMpLGcoKTt9LFM9KCk9Pnt0aGlzLm9mZihudC5XU19DT05ORUNURUQsZiksRShuZXcgTihSLldTX0FCT1JUKSk7fTt0aGlzLm9uY2UobnQuV1NfQ09OTkVDVEVELGYpLHRoaXMub25jZShudC5XU19DTE9TRUQsUyk7fSk7aWYodGhpcy5jb25uZWN0aW9uU3RhdGUhPT1MdC5DT05ORUNUSU5HJiZ0aGlzLmNvbm5lY3Rpb25TdGF0ZSE9PUx0LlJFQ09OTkVDVElOR3x8ZT09PWV0LkpPSU58fGU9PT1ldC5SRUpPSU58fGF3YWl0IGMoKSx0aGlzLndlYnNvY2tldC5zZW5kTWVzc2FnZShzLCEwKSxyKXJldHVybjtsZXQgZD1uZXcgaigoZyxFKT0+e2xldCBmPSExLFM9KEEsYik9PntmPSEwLGcoe2lzU3VjY2VzczpBPT09XCJzdWNjZXNzXCIsbWVzc2FnZTpifHx7fX0pLHRoaXMub2ZmKG50LldTX0NMT1NFRCxDKSx0aGlzLm9mZihudC5XU19SRUNPTk5FQ1RJTkcsQyksdGhpcy5lbWl0KG50LlJFUVVFU1RfU1VDQ0VTUyxlLG4pO307dGhpcy5vbmNlKFwicmVzLUBcIi5jb25jYXQobyksUyk7bGV0IEM9KCk9PntFKG5ldyBOKFIuV1NfQUJPUlQsXCJ0eXBlOiBcIi5jb25jYXQoZSkpKSx0aGlzLm9mZihudC5XU19DTE9TRUQsQyksdGhpcy5vZmYobnQuV1NfUkVDT05ORUNUSU5HLEMpLHRoaXMub2ZmKFwicmVzLUBcIi5jb25jYXQobyksUyk7fTt0aGlzLm9uY2UobnQuV1NfQ0xPU0VELEMpLHRoaXMub25jZShudC5XU19SRUNPTk5FQ1RJTkcsQyksTWUodihcIlNJR05BTF9SRVFVRVNUX1RJTUVPVVRcIikpLnRoZW4oKCk9Pnt0aGlzLndlYnNvY2tldC5jb25uZWN0aW9uSUQhPT1hfHxmfHwoXy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSB3cyByZXF1ZXN0IHRpbWVvdXQsIHR5cGU6IFwiKS5jb25jYXQoZSkpLHRoaXMuZW1pdChudC5SRVFVRVNUX1RJTUVPVVQsZSxuKSk7fSk7fSksbD1udWxsO3RyeXtsPWF3YWl0IGQ7fWNhdGNoKGcpe2lmKHRoaXMuY29ubmVjdGlvblN0YXRlPT09THQuQ0xPU0VEfHxlPT09ZXQuTEVBVkUpdGhyb3cgbmV3IE4oUi5XU19BQk9SVCk7cmV0dXJuICF0aGlzLnNwZWMuZm9yY2VXYWl0R2F0ZXdheVJlc3BvbnNlfHxpP2cudGhyb3coKTplPT09ZXQuSk9JTnx8ZT09PWV0LlJFSk9JTj9udWxsOihhd2FpdCBjKCksYXdhaXQgdGhpcy5yZXF1ZXN0KGUsbikpfWlmKGwuaXNTdWNjZXNzKXJldHVybiBsLm1lc3NhZ2U7bGV0IHU9TnVtYmVyKGwubWVzc2FnZS5lcnJvcl9jb2RlfHxsLm1lc3NhZ2UuY29kZSksaD1PYyh1KSxwPW5ldyBOKFIuVU5FWFBFQ1RFRF9SRVNQT05TRSxcIlwiLmNvbmNhdChoLmRlc2MsXCI6IFwiKS5jb25jYXQobC5tZXNzYWdlLmVycm9yX3N0cikse2NvZGU6dSxkYXRhOmwubWVzc2FnZSxkZXNjOmguZGVzY30pO3JldHVybiBoLmFjdGlvbj09PVwic3VjY2Vzc1wiP2wubWVzc2FnZTooXy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBbXCIpLmNvbmNhdCh0aGlzLndlYnNvY2tldC5jb25uZWN0aW9uSUQsXCJdIHVuZXhwZWN0ZWQgcmVzcG9uc2UgZnJvbSB0eXBlIFwiKS5jb25jYXQoZSxcIiwgZXJyb3JfY29kZTogXCIpLmNvbmNhdCh1LFwiLCBtZXNzYWdlOiBcIikuY29uY2F0KGguZGVzYyxcIiwgYWN0aW9uOiBcIikuY29uY2F0KGguYWN0aW9uKSksdT09PVouRVJSX1RPT19NQU5ZX0JST0FEQ0FTVEVSUz8oKGU9PT1ldC5KT0lOfHxlPT09ZXQuUkVKT0lOKSYmKHRoaXMuaW5pdEVycm9yPXAsdGhpcy5jbG9zZSgpKSxwLnRocm93KCkpOmguYWN0aW9uPT09XCJmYWlsZWRcIj9wLnRocm93KCk6aC5hY3Rpb249PT1cInF1aXRcIj8odGhpcy5pbml0RXJyb3I9cCx0aGlzLmNsb3NlKCkscC50aHJvdygpKToodT09PVouRVJSX0pPSU5fQllfTVVMVElfSVA/KHRoaXMubXVsdGlJcE9wdGlvbj1sLm1lc3NhZ2Uub3B0aW9uLF8ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gZGV0ZWN0IG11bHRpIGlwLCByZWNvdmVyXCIpKSx0aGlzLnJlY29ubmVjdChcInJlY292ZXJcIixCZS5NVUxUSV9JUCkpOnRoaXMucmVjb25uZWN0KGguYWN0aW9uLEJlLlNFUlZFUl9FUlJPUiksZT09PWV0LkpPSU58fGU9PT1ldC5SRUpPSU4/bnVsbDphd2FpdCB0aGlzLnJlcXVlc3QoZSxuKSkpfXdhaXRNZXNzYWdlKGUsbil7cmV0dXJuIG5ldyBqKGk9PntsZXQgcj1vPT57KCFufHxuKG8pKSYmKHRoaXMub2ZmKGUsciksaShvKSk7fTt0aGlzLm9uKGUscik7fSl9dXBsb2FkV1JUQ1N0YXRzKGUpe2lmKCF0aGlzLnN0b3JlLnNlc3Npb25JZClyZXR1cm4gdm9pZCBfLndhcm4oXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIG5vIHNlc3Npb24gaWQgd2hlbiB1cGxvYWQgd3J0YyBzdGF0c1wiKSk7bGV0IG49e2x0czpEYXRlLm5vdygpLHNpZDp0aGlzLnN0b3JlLnNlc3Npb25JZCx1aWQ6dGhpcy5zdG9yZS5pbnRVaWQsc3RhdHM6ZX07dGhpcy51cGxvYWQod2MuV1JUQ19TVEFUUyxuKTt9dXBsb2FkKGUsbil7bGV0IGk9e190eXBlOmUsX21lc3NhZ2U6bn07dHJ5e3RoaXMud2Vic29ja2V0LnNlbmRNZXNzYWdlKGkpO31jYXRjaHtsZXQgbz12KFwiTUFYX1VQTE9BRF9DQUNIRVwiKXx8NTA7dGhpcy51cGxvYWRDYWNoZS5wdXNoKGkpLHRoaXMudXBsb2FkQ2FjaGUubGVuZ3RoPm8mJnRoaXMudXBsb2FkQ2FjaGUuc3BsaWNlKDAsMSksdGhpcy51cGxvYWRDYWNoZS5sZW5ndGg+MCYmIXRoaXMudXBsb2FkQ2FjaGVJbnRlcnZhbCYmKHRoaXMudXBsb2FkQ2FjaGVJbnRlcnZhbD13aW5kb3cuc2V0SW50ZXJ2YWwoKCk9PntpZih0aGlzLmNvbm5lY3Rpb25TdGF0ZSE9PUx0LkNPTk5FQ1RFRClyZXR1cm47bGV0IHM9dGhpcy51cGxvYWRDYWNoZS5zcGxpY2UoMCwxKVswXTt0aGlzLnVwbG9hZENhY2hlLmxlbmd0aD09PTAmJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnVwbG9hZENhY2hlSW50ZXJ2YWwpLHRoaXMudXBsb2FkQ2FjaGVJbnRlcnZhbD12b2lkIDApLHRoaXMudXBsb2FkKHMuX3R5cGUscy5fbWVzc2FnZSk7fSx2KFwiVVBMT0FEX0NBQ0hFX0lOVEVSVkFMXCIpfHwyZTMpKTt9fXNlbmQoZSxuKXtsZXQgaT17X3R5cGU6ZSxfbWVzc2FnZTpufTt0aGlzLndlYnNvY2tldC5zZW5kTWVzc2FnZShpKTt9YXN5bmMgc2VuZEV4dGVuc2lvbk1lc3NhZ2UoZSxuLGkpe3JldHVybiBhd2FpdCB0aGlzLl9leHRlcm5hbF9zaWduYWwuc2VuZChlLG4saSl9aW5pdChlKXtyZXR1cm4gdGhpcy5pbml0RXJyb3I9dm9pZCAwLHRoaXMubXVsdGlJcE9wdGlvbj12b2lkIDAsdGhpcy5qb2luUmVzcG9uc2U9dm9pZCAwLHRoaXMucmVjb25uZWN0VG9rZW49dm9pZCAwLHRoaXMub3BlbkNvbm5lY3Rpb25UaW1lPXZvaWQgMCxuZXcgaigobixpKT0+e3RoaXMub25jZShudC5XU19DT05ORUNURUQsKCk9Pm4odGhpcy5qb2luUmVzcG9uc2UpKSx0aGlzLm9uY2UobnQuV1NfQ0xPU0VELCgpPT5pKHRoaXMuaW5pdEVycm9yfHxuZXcgTihSLldTX0FCT1JUKSkpLHRoaXMuY29ubmVjdGlvblN0YXRlPUx0LkNPTk5FQ1RJTkcsdGhpcy53ZWJzb2NrZXQuaW5pdChlKS5jYXRjaChpKTt9KX1jbG9zZShlKXt0aGlzLnBpbmdwb25nVGltZXImJih0aGlzLnBpbmdwb25nVGltZW91dENvdW50PTAsd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5waW5ncG9uZ1RpbWVyKSx0aGlzLnBpbmdwb25nVGltZXI9dm9pZCAwKSx0aGlzLnJlY29ubmVjdFRva2VuPXZvaWQgMCx0aGlzLmpvaW5SZXNwb25zZT12b2lkIDAsdGhpcy5fZXh0ZXJuYWxfc2lnbmFsLmNsZWFyKCksdGhpcy5fZGlzY29ubmVjdGVkUmVhc29uPWV8fEF0LkxFQVZFLHRoaXMuY29ubmVjdGlvblN0YXRlPUx0LkNMT1NFRCxfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBcIikrXCJ3aWxsIGNsb3NlIHdlYnNvY2tldCBpbiBzaWduYWxcIiksdGhpcy53ZWJzb2NrZXQuY2xvc2UoKSx0aGlzLnAycFRva2VuPVV0KDYsXCJcIiksdGhpcy5fZXh0ZXJuYWxfc2lnbmFsLmNsZWFyKCksdGhpcy5fZXh0ZXJuYWxfc2lnbmFsPW5ldyBpYSh0aGlzLHRoaXMucDJwVG9rZW4pO31hc3luYyBqb2luKCl7aWYoIXRoaXMuam9pblJlc3BvbnNlKXt0aGlzLmVtaXQobnQuQUJPUlRfUDJQX0VYRUNVVElPTik7bGV0IGU9YXdhaXQgR2UodGhpcyxudC5SRVFVRVNUX0pPSU5fSU5GTyksbj1hd2FpdCB0aGlzLnJlcXVlc3QoZXQuSk9JTixlKTtpZighbilyZXR1cm4gdGhpcy5lbWl0KG50LlJFUE9SVF9KT0lOX0dBVEVXQVksUi5USU1FT1VULHRoaXMudXJsfHxcIlwiKSwhMTt0aGlzLmpvaW5SZXNwb25zZT1uLHRoaXMuZW1pdChudC5KT0lOX1JFU1BPTlNFLHRoaXMuam9pblJlc3BvbnNlKSx0aGlzLnJlY29ubmVjdFRva2VuPXRoaXMuam9pblJlc3BvbnNlLnJlam9pbl90b2tlbjt9cmV0dXJuIHRoaXMuY29ubmVjdGlvblN0YXRlPUx0LkNPTk5FQ1RFRCx0aGlzLnBpbmdwb25nVGltZXImJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMucGluZ3BvbmdUaW1lciksdGhpcy5waW5ncG9uZ1RpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCh0aGlzLmhhbmRsZVBpbmdQb25nLmJpbmQodGhpcyksM2UzKSwhMH1yZWNvbm5lY3QoZSxuKXt0aGlzLnBpbmdwb25nVGltZXImJih0aGlzLnBpbmdwb25nVGltZW91dENvdW50PTAsd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5waW5ncG9uZ1RpbWVyKSx0aGlzLnBpbmdwb25nVGltZXI9dm9pZCAwKSx0aGlzLndlYnNvY2tldC5yZWNvbm5lY3QoZSxuKTt9aGFuZGxlRGF0YVN0cmVhbShlKXt0cnl7dmFyIG47bGV0IGk9Rm8oZS5wYXlsb2FkKSxyPW5ldyBUZXh0RGVjb2RlcigpLmRlY29kZShpKSxvPUpTT04ucGFyc2Uocik7XCJ0b3RhbFwiaW4gbyYmXCJpZFwiaW4gb3x8VyhuPU9iamVjdC52YWx1ZXMoaWUpKS5jYWxsKG4sby5fdHlwZSk/KG8uX3VpZD1lLnVpZCx0aGlzLl9leHRlcm5hbF9zaWduYWwub25NZXNzYWdlKG8pKTp0aGlzLmVtaXQoZHQuT05fREFUQV9TVFJFQU0sZSk7fWNhdGNoe3RoaXMuZW1pdChkdC5PTl9EQVRBX1NUUkVBTSxlKTt9fWhhbmRsZU5vdGlmaWNhdGlvbihlKXtfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSByZWNlaXZlIG5vdGlmaWNhdGlvbjogXCIpLGUpO2xldCBuPU9jKGUuY29kZSk7aWYobi5hY3Rpb24hPT1cInN1Y2Nlc3NcIil7aWYobi5hY3Rpb24hPT1cImZhaWxlZFwiKXJldHVybiBuLmFjdGlvbj09PVwicXVpdFwiPyhuLmRlc2M9PT1cIkVSUl9SRVBFQVRfSk9JTl9DSEFOTkVMXCImJnRoaXMuY2xvc2UoQXQuVUlEX0JBTk5FRCksdm9pZCB0aGlzLmNsb3NlKCkpOnZvaWQgdGhpcy5yZWNvbm5lY3Qobi5hY3Rpb24sQmUuU0VSVkVSX0VSUk9SKTtfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBpZ25vcmUgZXJyb3I6IFwiKSxuLmRlc2MpO319aGFuZGxlUGluZ1BvbmcoKXtpZighdGhpcy53ZWJzb2NrZXR8fHRoaXMud2Vic29ja2V0LnN0YXRlIT09XCJjb25uZWN0ZWRcIilyZXR1cm47dGhpcy5waW5ncG9uZ1RpbWVvdXRDb3VudD4wJiZ0aGlzLnJ0dFJvbGxpbmcuYWRkKDNlMyksdGhpcy5waW5ncG9uZ1RpbWVvdXRDb3VudCs9MTtsZXQgZT12KFwiUElOR19QT05HX1RJTUVfT1VUXCIpLG49RGF0ZS5ub3coKTt0aGlzLnBpbmdwb25nVGltZW91dENvdW50Pj1lJiYoXy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBQSU5HUE9ORyBUaW1lb3V0LiBMYXN0IFNvY2tldCBNZXNzYWdlOiBcIikuY29uY2F0KG4tdGhpcy5sYXN0TXNnVGltZSxcIm1zXCIpKSxuLXRoaXMubGFzdE1zZ1RpbWU+dihcIldFQlNPQ0tFVF9USU1FT1VUX01JTlwiKSk/dGhpcy5yZWNvbm5lY3QoXCJyZXRyeVwiLEJlLlRJTUVPVVQpOnRoaXMucmVxdWVzdChldC5QSU5HLHZvaWQgMCwhMCkudGhlbigoKT0+e3RoaXMucGluZ3BvbmdUaW1lb3V0Q291bnQ9MDtsZXQgaT1EYXRlLm5vdygpLW47dGhpcy5ydHRSb2xsaW5nLmFkZChpKSx2KFwiUkVQT1JUX1NUQVRTXCIpJiZ0aGlzLnNlbmQoZXQuUElOR19CQUNLLHtwaW5ncG9uZ0VsYXBzZTppfSk7fSkuY2F0Y2goaT0+e30pO31oYW5kbGVXZWJzb2NrZXRFdmVudHMoKXt0aGlzLndlYnNvY2tldC5vbihpdC5SRUNPTk5FQ1RfV0FJVFRJTkdfRklOSVNILGU9Pnt0aGlzLmVtaXQobnQuV1NfUkVDT05ORUNUX1dBSVRUSU5HX0ZJTklTSCxlKTt9KSx0aGlzLndlYnNvY2tldC5vbihpdC5SRUNPTk5FQ1RfQ1JFQVRFX0NPTk5FQ1RJT04sZT0+e3RoaXMuZW1pdChudC5XU19SRUNPTk5FQ1RfQ1JFQVRFX0NPTk5FQ1RJT04sZSk7fSksdGhpcy53ZWJzb2NrZXQub24oaXQuT05fTUVTU0FHRSx0aGlzLm9uV2Vic29ja2V0TWVzc2FnZSksdGhpcy53ZWJzb2NrZXQub24oaXQuQ0xPU0VELCgpPT57dGhpcy5jb25uZWN0aW9uU3RhdGU9THQuQ0xPU0VEO30pLHRoaXMud2Vic29ja2V0Lm9uKGl0LkZBSUxFRCwoKT0+e3RoaXMuX2Rpc2Nvbm5lY3RlZFJlYXNvbj1BdC5ORVRXT1JLX0VSUk9SLHRoaXMuY29ubmVjdGlvblN0YXRlPUx0LkNMT1NFRDt9KSx0aGlzLndlYnNvY2tldC5vbihpdC5SRUNPTk5FQ1RJTkcsZT0+e3RoaXMuX3dlYnNvY2tldFJlY29ubmVjdFJlYXNvbj1lLHRoaXMuam9pblJlc3BvbnNlPXZvaWQgMCx0aGlzLmNvbm5lY3Rpb25TdGF0ZT09PUx0LkNPTk5FQ1RFRD90aGlzLmNvbm5lY3Rpb25TdGF0ZT1MdC5SRUNPTk5FQ1RJTkc6dGhpcy5jb25uZWN0aW9uU3RhdGU9THQuQ09OTkVDVElORzt9KSx0aGlzLndlYnNvY2tldC5vbihpdC5XSUxMX1JFQ09OTkVDVCwoZSxuLGkpPT57ZSE9PVwicmV0cnlcIj8oXy5kZWJ1ZyhcIlwiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiIHdlYnNvY2tldCB3aWxsX2Nvbm5lY3QgZXZlbnQsIHJlbmV3U2Vzc2lvbiByZWNvbm5lY3RNb2RlIGlzIFwiKS5jb25jYXQoZSkpLHRoaXMucmVjb25uZWN0VG9rZW49dm9pZCAwKTpfLmRlYnVnKFwiXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCIgcmVjb25uZWN0IG1vZGUgaXMgcmV0cnksIG5vIG5lZWQgdG8gcmVuZXcgc2Vzc2lvblwiKSksaShlKTt9KSx0aGlzLndlYnNvY2tldC5vbihpdC5DT05ORUNURUQsKCk9Pnt0aGlzLm9wZW5Db25uZWN0aW9uVGltZT1EYXRlLm5vdygpLHRoaXMuam9pbigpLmNhdGNoKGU9PntpZih0aGlzLmVtaXQobnQuUkVQT1JUX0pPSU5fR0FURVdBWSxlLHRoaXMudXJsfHxcIlwiKSxlIGluc3RhbmNlb2YgTiYmZS5jb2RlPT09Ui5VTkVYUEVDVEVEX1JFU1BPTlNFJiZlLmRhdGEuY29kZT09PVouRVJSX05PX0FVVEhPUklaRUQpcmV0dXJuIF8ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gcmVjb25uZWN0IG5vIGF1dGhvcml6ZWQsIHJlY292ZXJcIikpLHZvaWQgdGhpcy5yZWNvbm5lY3QoXCJyZWNvdmVyXCIsQmUuU0VSVkVSX0VSUk9SKTtfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBqb2luIGdhdGV3YXkgcmVxdWVzdCBmYWlsZWRcIiksZS50b1N0cmluZygpKSx0aGlzLnNwZWMuZm9yY2VXYWl0R2F0ZXdheVJlc3BvbnNlP3RoaXMucmVjb25uZWN0KFwidHJ5TmV4dFwiLEJlLlNFUlZFUl9FUlJPUik6KHRoaXMuaW5pdEVycm9yPWUsdGhpcy5jbG9zZSgpKTt9KTt9KSx0aGlzLndlYnNvY2tldC5vbihpdC5SRVFVRVNUX05FV19VUkxTLChlLG4pPT57R2UodGhpcyxudC5SRVFVRVNUX1JFQ09WRVIsdGhpcy5tdWx0aUlwT3B0aW9uKS50aGVuKGUpLmNhdGNoKG4pO30pLHRoaXMud2Vic29ja2V0Lm9uKGl0Lk9OX1RPS0VOX1BSSVZJTEVHRV9ESURfRVhQSVJFLCgpPT57dGhpcy5lbWl0KGR0Lk9OX1RPS0VOX1BSSVZJTEVHRV9ESURfRVhQSVJFKTt9KTt9fSxlMD17ZXhwb3J0czp7fX07ZTAuZXhwb3J0cz0oKCk9Pnt2YXIgdD17ODooaSxyLG8pPT57by5yKHIpLG8uZChyLHtQYXJzZXI6KCk9PlYsUHJpbnRlcjooKT0+Y2UscGFyc2U6KCk9PkYscHJpbnQ6KCk9Pll9KTtsZXQgcz1gXG5gLGE9XCJcIi5jb25jYXQoXCJcXHJcIikuY29uY2F0KHMpLGM9XCIgXCIsZDtmdW5jdGlvbiBsKE0pe3JldHVybiBNPj1cIjBcIiYmTTw9XCI5XCJ9ZnVuY3Rpb24gdShNKXtyZXR1cm4gTT49XCIhXCImJk08PVwiflwifWZ1bmN0aW9uIGgoTSl7cmV0dXJuIHUoTSl8fE0+PVwiXFx4ODBcIiYmTTw9XCJcXHhGRlwifWZ1bmN0aW9uIHAoTSl7cmV0dXJuIE09PT1cIiFcInx8TT49XCIjXCImJk08PVwiJ1wifHxNPj1cIipcIiYmTTw9XCIrXCJ8fE0+PVwiLVwiJiZNPD1cIi5cInx8TT49XCIwXCImJk08PVwiOVwifHxNPj1cIkFcIiYmTTw9XCJaXCJ8fE0+PVwiXlwiJiZNPD1cIn5cIn1mdW5jdGlvbiBnKE0pe3JldHVybiBNPj1cIjFcIiYmTTw9XCI5XCJ9ZnVuY3Rpb24gRShNKXtyZXR1cm4gTT49XCJBXCImJk08PVwiWlwifHxNPj1cImFcIiYmTTw9XCJ6XCJ9ZnVuY3Rpb24gZihNKXtyZXR1cm4gTT09PVwiZFwifHxNPT09XCJoXCJ8fE09PT1cIm1cInx8TT09PVwic1wifWZ1bmN0aW9uIFMoTSl7cmV0dXJuIE0+XCJcdTAwMDFcIiYmTTxcIlx0XCJ8fE0+XCJcXHZcIiYmTTxcIlxcZlwifHxNPlwiXHUwMDBlXCImJk08XCJcXHhGRlwifWZ1bmN0aW9uIEMoTSl7cmV0dXJuIEUoTSl8fGwoTSl8fE09PT1cIitcInx8TT09PVwiL1wifWZ1bmN0aW9uIEEoTSl7cmV0dXJuIGwoTSl8fEUoTSl8fE09PT1cIitcInx8TT09PVwiL1wifHxNPT09XCItXCJ8fE09PT1cIl9cIn1mdW5jdGlvbiBiKE0pe3JldHVybiBFKE0pfHxsKE0pfHxNPT09XCIrXCJ8fE09PT1cIi9cIn1mdW5jdGlvbiB3KE0sbSl7dmFyIEk9T2JqZWN0LmtleXMoTSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhNKTttJiYoeT15LmZpbHRlcihmdW5jdGlvbih4KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihNLHgpLmVudW1lcmFibGV9KSksSS5wdXNoLmFwcGx5KEkseSk7fXJldHVybiBJfWZ1bmN0aW9uIEQoTSl7Zm9yKHZhciBtPTE7bTxhcmd1bWVudHMubGVuZ3RoO20rKyl7dmFyIEk9YXJndW1lbnRzW21dIT1udWxsP2FyZ3VtZW50c1ttXTp7fTttJTI/dyhPYmplY3QoSSksITApLmZvckVhY2goZnVuY3Rpb24oeSl7ayhNLHksSVt5XSk7fSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhJKSk6dyhPYmplY3QoSSkpLmZvckVhY2goZnVuY3Rpb24oeSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KE0seSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEkseSkpO30pO31yZXR1cm4gTX1mdW5jdGlvbiBrKE0sbSxJKXtyZXR1cm4gbSBpbiBNP09iamVjdC5kZWZpbmVQcm9wZXJ0eShNLG0se3ZhbHVlOkksZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTpNW21dPUksTX0oZnVuY3Rpb24oTSl7TS5WRVJTSU9OPVwidlwiLE0uT1JJR0lOPVwib1wiLE0uU0VTU0lPTl9OQU1FPVwic1wiLE0uSU5GT1JNQVRJT049XCJpXCIsTS5VUkk9XCJ1XCIsTS5FTUFJTD1cImVcIixNLlBIT05FPVwicFwiLE0uQ09OTkVDVElPTj1cImNcIixNLkJBTkRXSURUSD1cImJcIixNLlRJTUU9XCJ0XCIsTS5SRVBFQVQ9XCJyXCIsTS5aT05FX0FESlVTVE1FTlRTPVwielwiLE0uS0VZPVwia1wiLE0uQVRUUklCVVRFPVwiYVwiLE0uTUVESUE9XCJtXCI7fSkoZHx8KGQ9e30pKTtjbGFzcyBCe2NvbnN1bWVUZXh0KG0sSSl7bGV0IHk9STtmb3IoO3k8bS5sZW5ndGg7KXtsZXQgeD1tW3ldO2lmKHg9PT1cIlxcMFwifHx4PT09XCJcXHJcInx8eD09PXMpYnJlYWs7eSs9MTt9aWYoeS1JPT0wKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdGV4dCwgYXQgXCIuY29uY2F0KG0pKTtyZXR1cm4geX1jb25zdW1lVW5pY2FzdEFkZHJlc3MobSxJLHkpe3JldHVybiB0aGlzLmNvbnN1bWVUaWxsKG0sSSxjKX1jb25zdW1lT25lT3JNb3JlKG0sSSx5KXtsZXQgeD1JO2Zvcig7eShtW3hdKTspeCsrO2lmKHgtST09MCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHJ1bGUgYXQgXCIuY29uY2F0KEksXCIuXCIpKTtyZXR1cm4geH1jb25zdW1lU3BhY2UobSxJKXtpZihtW0ldPT09YylyZXR1cm4gSSsxO3Rocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3BhY2UgYXQgXCIuY29uY2F0KEksXCIuXCIpKX1jb25zdW1lSVA0QWRkcmVzcyhtLEkpe2xldCB5PUk7Zm9yKGxldCB4PTA7eDw0O3grKylpZih5PXRoaXMuY29uc3VtZURlY2ltYWxVQ2hhcihtLHkpLHghPT0zKXtpZihtW3ldIT09XCIuXCIpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBJUDQgYWRkcmVzcy5cIik7eSsrO31yZXR1cm4geX1jb25zdW1lRGVjaW1hbFVDaGFyKG0sSSl7bGV0IHk9STtmb3IobGV0IHJ0PTA7cnQ8MyYmbChtW3ldKTtydCsrLHkrKyk7aWYoeS1JPT0wKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZGVjaW1hbCB1Y2hhci5cIik7bGV0IHg9cGFyc2VJbnQobS5zbGljZShJLHkpKTtpZih4Pj0wJiZ4PD0yNTUpcmV0dXJuIHk7dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBkZWNpbWFsIHVjaGFyXCIpfWNvbnN1bWVJUDZBZGRyZXNzKG0sSSl7bGV0IHk9dGhpcy5jb25zdW1lSGV4cGFydChtLEkpO3JldHVybiBtW3ldPT09XCI6XCImJih5Kz0xLHk9dGhpcy5jb25zdW1lSVA0QWRkcmVzcyhtLHkpKSx5fWNvbnN1bWVIZXhwYXJ0KG0sSSl7bGV0IHk9STtpZihtW3ldPT09XCI6XCImJm1beSsxXT09PVwiOlwiKXt5Kz0yO3RyeXt5PXRoaXMuY29uc3VtZUhleHNlcShtLHkpO31jYXRjaHt9cmV0dXJuIHl9aWYoeT10aGlzLmNvbnN1bWVIZXhzZXEobSx5KSxtW3ldPT09XCI6XCImJm1beSsxXT09PVwiOlwiKXt5Kz0yO3RyeXt5PXRoaXMuY29uc3VtZUhleHNlcShtLHkpO31jYXRjaHt9cmV0dXJuIHl9cmV0dXJuIHl9Y29uc3VtZUhleHNlcShtLEkpe2xldCB5PUk7Zm9yKDt5PXRoaXMuY29uc3VtZUhleDQobSx5KSxtW3ldPT09XCI6XCImJm1beSsxXSE9PVwiOlwiOyl5Kz0xO3JldHVybiB5fWNvbnN1bWVIZXg0KG0sSSl7bGV0IHk9MDtmb3IoO3k8NDt5KyspaWYoISgoeD1tW0kreV0pPj1cIjBcIiYmeDw9XCI5XCJ8fHg+PVwiYVwiJiZ4PD1cImZcInx8eD49XCJBXCImJng8PVwiRlwiKSl7aWYoeT09PTApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBoZXggNFwiKTticmVha312YXIgeDtyZXR1cm4gSSt5fWNvbnN1bWVGUUROKG0sSSl7bGV0IHk9STtmb3IoO2wobVt5XSl8fEUobVt5XSl8fG1beV09PT1cIi1cInx8bVt5XT09PVwiLlwiOyl5Kz0xO2lmKHktSTw0KXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgRlFETlwiKTtyZXR1cm4geX1jb25zdW1lRXh0bkFkZHIobSxJKXtyZXR1cm4gdGhpcy5jb25zdW1lT25lT3JNb3JlKG0sSSxoKX1jb25zdW1lTXVsdGljYXN0QWRkcmVzcyhtLEkseSl7c3dpdGNoKHkpe2Nhc2VcIklQNFwiOmNhc2VcImlwNFwiOnJldHVybiB0aGlzLmNvbnN1bWVJUDRNdWx0aWNhc3RBZGRyZXNzKG0sSSk7Y2FzZVwiSVA2XCI6Y2FzZVwiaXA2XCI6cmV0dXJuIHRoaXMuY29uc3VtZUlQNk11bHRpY2FzdEFkZHJlc3MobSxJKTtkZWZhdWx0OnRyeXtyZXR1cm4gdGhpcy5jb25zdW1lRlFETihtLEkpfWNhdGNoe3JldHVybiB0aGlzLmNvbnN1bWVFeHRuQWRkcihtLEkpfX19Y29uc3VtZUlQNk11bHRpY2FzdEFkZHJlc3MobSxJKXtsZXQgeT10aGlzLmNvbnN1bWVIZXhwYXJ0KG0sSSk7cmV0dXJuIG1beV09PT1cIi9cIj90aGlzLmNvbnN1bWVJbnRlZ2VyKG0seSsxKTp5fWNvbnN1bWVJUDRNdWx0aWNhc3RBZGRyZXNzKG0sSSl7bGV0IHk9SSszLHg9bS5zbGljZShJLHkpLHJ0PXBhcnNlSW50KHgpO2lmKHJ0PDIyNHx8cnQ+MjM5KXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgSVA0IG11bHRpY2FzdCBhZGRyZXNzLCBJUHY0IG11bHRpY2FzdCBhZGRyZXNzZXMgbWF5IGJlIGluIHRoZSByYW5nZSAyMjQuMC4wLjAgdG8gMjM5LjI1NS4yNTUuMjU1LlwiKTtmb3IobGV0IGJ0PTA7YnQ8MztidCsrKXtpZihtW3ldIT09XCIuXCIpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBJUDQgbXVsdGljYXN0IGFkZHJlc3MuXCIpO3krPTEseT10aGlzLmNvbnN1bWVEZWNpbWFsVUNoYXIobSx5KTt9cmV0dXJuIG1beV09PT1cIi9cIiYmKHkrPTEpLHk9dGhpcy5jb25zdW1lVFRMKG0seSksbVt5XT09PVwiL1wiJiYoeT10aGlzLmNvbnN1bWVJbnRlZ2VyKG0seSkpLHl9Y29uc3VtZUludGVnZXIobSxJKXtpZighZyhtW0ldKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGludGVnZXIuXCIpO2ZvcihJKz0xO2wobVtJXSk7KUkrPTE7cmV0dXJuIEl9Y29uc3VtZVRUTChtLEkpe2lmKG1bSV09PT1cIjBcIilyZXR1cm4gSSsxO2lmKCFnKG1bSV0pKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgVFRMLlwiKTtJKz0xO2ZvcihsZXQgeT0wO3k8MiYmbChtW0ldKTt5KyspSSs9MTtyZXR1cm4gSX1jb25zdW1lVG9rZW4obSxJKXtyZXR1cm4gdGhpcy5jb25zdW1lT25lT3JNb3JlKG0sSSxwKX1jb25zdW1lVGltZShtLEkpe2xldCB5PUk7aWYobVt5XT09PVwiMFwiKXJldHVybiB5KzE7Zm9yKGcobVt5XSkmJih5Kz0xKTtsKG1beV0pOyl5Kys7aWYoeS1JPDEwKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdGltZVwiKTtyZXR1cm4geX1jb25zdW1lQWRkcmVzcyhtLEkpe3JldHVybiB0aGlzLmNvbnN1bWVUaWxsKG0sSSxjKX1jb25zdW1lVHlwZWRUaW1lKG0sSSl7bGV0IHk9STtyZXR1cm4geT10aGlzLmNvbnN1bWVPbmVPck1vcmUobSx5LGwpLGYobVt5XSk/eSsxOnl9Y29uc3VtZVJlcGVhdEludGVydmFsKG0sSSl7aWYoIWcobVtJXSkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCByZXBlYXQgaW50ZXJ2YWxcIik7Zm9yKEkrPTE7bChtW0ldKTspSSs9MTtyZXR1cm4gZihtW0ldKSYmKEkrPTEpLEl9Y29uc3VtZVBvcnQobSxJKXtyZXR1cm4gdGhpcy5jb25zdW1lT25lT3JNb3JlKG0sSSxsKX1jb25zdW1lKG0sSSx5KXtmb3IobGV0IHg9MDt4PHkubGVuZ3RoO3grKyl7aWYoSSt4Pj1tLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJjb25zdW1lIGV4Y2VlZGluZyB2YWx1ZSBsZW5ndGhcIik7aWYobVtJK3hdIT09eVt4XSl0aHJvdyBuZXcgRXJyb3IoXCJjb25zdW1lIFwiLmNvbmNhdCh5LFwiIGZhaWxlZCBhdCBcIikuY29uY2F0KHgpKX1yZXR1cm4gSSt5Lmxlbmd0aH1jb25zdW1lVGlsbChtLEkseSl7bGV0IHg9STtmb3IoO3g8bS5sZW5ndGgmJih0eXBlb2YgeSE9XCJzdHJpbmdcInx8bVt4XSE9PXkpJiYodHlwZW9mIHkhPVwiZnVuY3Rpb25cInx8IXkobVt4XSkpOyl4Kys7cmV0dXJuIHh9fWNsYXNzIFYgZXh0ZW5kcyBCe2NvbnN0cnVjdG9yKCl7c3VwZXIoKSxrKHRoaXMsXCJyZWNvcmRzXCIsW10pLGsodGhpcyxcImN1cnJlbnRMaW5lXCIsMCk7fXBhcnNlKG0pe2xldCBJPXRoaXMucHJvYmVFT0wobSk7dGhpcy5yZWNvcmRzPW0uc3BsaXQoSSkuZmlsdGVyKF9lPT4hIXJuKF9lKS5jYWxsKF9lKSkubWFwKHRoaXMucGFyc2VMaW5lKSx0aGlzLmN1cnJlbnRMaW5lPTA7bGV0IHk9dGhpcy5wYXJzZVZlcnNpb24oKSx4PXRoaXMucGFyc2VPcmlnaW4oKSxydD10aGlzLnBhcnNlU2Vzc2lvbk5hbWUoKSxidD10aGlzLnBhcnNlSW5mb3JtYXRpb24oKSxSZT10aGlzLnBhcnNlVXJpKCksZm49dGhpcy5wYXJzZUVtYWlsKCksZ3I9dGhpcy5wYXJzZVBob25lKCksc2Q9dGhpcy5wYXJzZUNvbm5lY3Rpb24oKSxhZD10aGlzLnBhcnNlQmFuZFdpZHRoKCkscW49dGhpcy5wYXJzZVRpbWVGaWVsZHMoKSxNcj10aGlzLnBhcnNlS2V5KCkscnM9dGhpcy5wYXJzZVNlc3Npb25BdHRyaWJ1dGUoKSxlZT10aGlzLnBhcnNlTWVkaWFEZXNjcmlwdGlvbigpO2lmKHRoaXMuY3VycmVudExpbmUhPT10aGlzLnJlY29yZHMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcInBhcnNpbmcgZmFpbGVkLCBub24gZXhoYXVzdGl2ZSBzZHAgbGluZXMuXCIpO3JldHVybiB7dmVyc2lvbjp5LG9yaWdpbjp4LHNlc3Npb25OYW1lOnJ0LGluZm9ybWF0aW9uOmJ0LHVyaTpSZSxlbWFpbHM6Zm4scGhvbmVzOmdyLGNvbm5lY3Rpb246c2QsYmFuZHdpZHRoczphZCx0aW1lRmllbGRzOnFuLGtleTpNcixhdHRyaWJ1dGVzOnJzLG1lZGlhRGVzY3JpcHRpb25zOmVlfX1nZXRDdXJyZW50UmVjb3JkKCl7bGV0IG09dGhpcy5yZWNvcmRzW3RoaXMuY3VycmVudExpbmVdO2lmKCFtKXRocm93IG5ldyBFcnJvcihcIlJlY29yZCBkb2Vzbid0IGV4aXQuXCIpO3JldHVybiBtfXByb2JlRU9MKG0pe2ZvcihsZXQgST0wO0k8bS5sZW5ndGg7SSsrKWlmKG1bSV09PT1zKXJldHVybiBtW0ktMV09PT1cIlxcclwiP2E6czt0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIG5ld2xpbmUgY2hhcmFjdGVyLlwiKX1wYXJzZUxpbmUobSxJKXtpZihtLmxlbmd0aDwyKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc2RwIGxpbmUsIHNkcCBsaW5lIHNob3VsZCBiZSBvZiBmb3JtIDx0eXBlPj08dmFsdWU+LlwiKTtsZXQgeT1tWzBdO2lmKG1bMV0hPT1cIj1cIil0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc2RwIGxpbmUsIDx0eXBlPiBzaG91bGQgYmUgYSBzaW5nbGUgY2hhcmFjdGVyIGZvbGxvd2VkIGJ5IGFuIFwiPVwiIHNpZ24uJyk7cmV0dXJuIHt0eXBlOnksdmFsdWU6bS5zbGljZSgyKSxsaW5lOkksY3VyOjB9fXBhcnNlU2Vzc2lvbkF0dHJpYnV0ZSgpe2xldCBtPW5ldyBsdDtmb3IoO3RoaXMuY3VycmVudExpbmU8dGhpcy5yZWNvcmRzLmxlbmd0aDspe2xldCBJPXRoaXMuZ2V0Q3VycmVudFJlY29yZCgpO2lmKEkudHlwZSE9PWQuQVRUUklCVVRFKWJyZWFrO2xldCB5PXthdHRGaWVsZDp0aGlzLmV4dHJhY3RPbmVPck1vcmUoSSx4PT5wKHgpJiZ4IT09XCI6XCIpLF9jdXI6MH07SS52YWx1ZVtJLmN1cl09PT1cIjpcIiYmKEkuY3VyKz0xLHkuYXR0VmFsdWU9dGhpcy5leHRyYWN0T25lT3JNb3JlKEksUykpLG0ucGFyc2UoeSksdGhpcy5jdXJyZW50TGluZSsrO31yZXR1cm4gbS5kaWdlc3QoKX1wYXJzZU1lZGlhQXR0cmlidXRlcyhtKXtsZXQgST1uZXcgdnQobSk7Zm9yKDt0aGlzLmN1cnJlbnRMaW5lPHRoaXMucmVjb3Jkcy5sZW5ndGg7KXtsZXQgeT10aGlzLmdldEN1cnJlbnRSZWNvcmQoKTtpZih5LnR5cGUhPT1kLkFUVFJJQlVURSlicmVhaztsZXQgeD17YXR0RmllbGQ6dGhpcy5leHRyYWN0T25lT3JNb3JlKHkscnQ9PnAocnQpJiZydCE9PVwiOlwiKSxfY3VyOjB9O3kudmFsdWVbeS5jdXJdPT09XCI6XCImJih5LmN1cis9MSx4LmF0dFZhbHVlPXRoaXMuZXh0cmFjdE9uZU9yTW9yZSh5LFMpKSxJLnBhcnNlKHgpLHRoaXMuY3VycmVudExpbmUrKzt9cmV0dXJuIEkuZGlnZXN0KCl9cGFyc2VLZXkoKXtsZXQgbT10aGlzLmdldEN1cnJlbnRSZWNvcmQoKTtpZihtLnR5cGU9PT1kLktFWSl7aWYobS52YWx1ZT09PVwicHJvbXB0XCJ8fG0udmFsdWU9PT1cImNsZWFyOlwifHxtLnZhbHVlPT09XCJiYXNlNjQ6XCJ8fG0udmFsdWU9PT1cInVyaTpcIilyZXR1cm4gbS52YWx1ZTt0aHJvdyB0aGlzLmN1cnJlbnRMaW5lKyssbmV3IEVycm9yKFwiSW52YWxpZCBrZXkuXCIpfX1wYXJzZVpvbmUoKXtsZXQgbT10aGlzLmdldEN1cnJlbnRSZWNvcmQoKTtpZihtLnR5cGU9PT1kLlpPTkVfQURKVVNUTUVOVFMpe2xldCBJPVtdO2Zvcig7Oyl0cnl7bGV0IHk9dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lVGltZSk7dGhpcy5jb25zdW1lU3BhY2VGb3JSZWNvcmQobSk7bGV0IHg9ITE7bS52YWx1ZVttLmN1cl09PT1cIi1cIiYmKHg9ITAsbS5jdXIrPTEpO2xldCBydD10aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWVUeXBlZFRpbWUpO0kucHVzaCh7dGltZTp5LHR5cGVkVGltZTpydCxiYWNrOnh9KTt9Y2F0Y2h7YnJlYWt9aWYoSS5sZW5ndGg9PT0wKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgem9uZSBhZGp1c3RtZW50c1wiKTtyZXR1cm4gdGhpcy5jdXJyZW50TGluZSsrLEl9cmV0dXJuIFtdfXBhcnNlUmVwZWF0KCl7bGV0IG09W107Zm9yKDs7KXtsZXQgST10aGlzLmdldEN1cnJlbnRSZWNvcmQoKTtpZihJLnR5cGUhPT1kLlJFUEVBVClicmVhazt7bGV0IHk9dGhpcy5leHRyYWN0KEksdGhpcy5jb25zdW1lUmVwZWF0SW50ZXJ2YWwpLHg9dGhpcy5wYXJzZVR5cGVkVGltZShJKTttLnB1c2goe3JlcGVhdEludGVydmFsOnksdHlwZWRUaW1lczp4fSksdGhpcy5jdXJyZW50TGluZSsrO319cmV0dXJuIG19cGFyc2VUeXBlZFRpbWUobSl7bGV0IEk9W107Zm9yKDs7KXRyeXt0aGlzLmNvbnN1bWVTcGFjZUZvclJlY29yZChtKSxJLnB1c2godGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lVHlwZWRUaW1lKSk7fWNhdGNoe2JyZWFrfWlmKEkubGVuZ3RoPT09MCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHR5cGVkIHRpbWUuXCIpO3JldHVybiBJfXBhcnNlVGltZSgpe2xldCBtPXRoaXMuZ2V0Q3VycmVudFJlY29yZCgpLEk9dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lVGltZSk7dGhpcy5jb25zdW1lU3BhY2VGb3JSZWNvcmQobSk7bGV0IHk9dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lVGltZSk7cmV0dXJuIHRoaXMuY3VycmVudExpbmUrKyx7c3RhcnRUaW1lOkksc3RvcFRpbWU6eX19cGFyc2VCYW5kV2lkdGgoKXtsZXQgbT1bXTtmb3IoO3RoaXMuY3VycmVudExpbmU8dGhpcy5yZWNvcmRzLmxlbmd0aDspe2xldCBJPXRoaXMuZ2V0Q3VycmVudFJlY29yZCgpO2lmKEkudHlwZSE9PWQuQkFORFdJRFRIKWJyZWFrO3tsZXQgeT10aGlzLmV4dHJhY3RPbmVPck1vcmUoSSxwKTtpZihJLnZhbHVlW0kuY3VyXSE9PVwiOlwiKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYmFuZHdpZHRoIGZpZWxkLlwiKTtJLmN1cisrO2xldCB4PXRoaXMuZXh0cmFjdE9uZU9yTW9yZShJLGwpO20ucHVzaCh7Ynd0eXBlOnksYmFuZHdpZHRoOnh9KSx0aGlzLmN1cnJlbnRMaW5lKys7fX1yZXR1cm4gbX1wYXJzZVZlcnNpb24oKXtsZXQgbT10aGlzLmdldEN1cnJlbnRSZWNvcmQoKTtpZihtLnR5cGUhPT1kLlZFUlNJT04pdGhyb3cgbmV3IEVycm9yKFwiZmlyc3Qgc2RwIHJlY29yZCBtdXN0IGJlIHZlcnNpb25cIik7bGV0IEk9bS52YWx1ZS5zbGljZSgwLHRoaXMuY29uc3VtZU9uZU9yTW9yZShtLnZhbHVlLDAsbCkpO2lmKEkubGVuZ3RoIT09bS52YWx1ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHByb3RvIHZlcnNpb24sIFwidj0nLmNvbmNhdChtLnZhbHVlLCdcIicpKTtyZXR1cm4gdGhpcy5jdXJyZW50TGluZSsrLEl9cGFyc2VPcmlnaW4oKXtsZXQgbT10aGlzLmdldEN1cnJlbnRSZWNvcmQoKTtpZihtLnR5cGUhPT1kLk9SSUdJTil0aHJvdyBuZXcgRXJyb3IoXCJzZWNvbmQgbGluZSBvZiBzZHAgbXVzdCBiZSBvcmlnaW5cIik7bGV0IEk9dGhpcy5leHRyYWN0T25lT3JNb3JlKG0saCk7dGhpcy5jb25zdW1lU3BhY2VGb3JSZWNvcmQobSk7bGV0IHk9dGhpcy5leHRyYWN0T25lT3JNb3JlKG0sbCk7dGhpcy5jb25zdW1lU3BhY2VGb3JSZWNvcmQobSk7bGV0IHg9dGhpcy5leHRyYWN0T25lT3JNb3JlKG0sbCk7dGhpcy5jb25zdW1lU3BhY2VGb3JSZWNvcmQobSk7bGV0IHJ0PXRoaXMuZXh0cmFjdE9uZU9yTW9yZShtLHApO3RoaXMuY29uc3VtZVNwYWNlRm9yUmVjb3JkKG0pO2xldCBidD10aGlzLmV4dHJhY3RPbmVPck1vcmUobSxwKTt0aGlzLmNvbnN1bWVTcGFjZUZvclJlY29yZChtKTtsZXQgUmU9dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lVW5pY2FzdEFkZHJlc3MpO3JldHVybiB0aGlzLmN1cnJlbnRMaW5lKysse3VzZXJuYW1lOkksc2Vzc0lkOnksc2Vzc1ZlcnNpb246eCxuZXR0eXBlOnJ0LGFkZHJ0eXBlOmJ0LHVuaWNhc3RBZGRyZXNzOlJlfX1wYXJzZVNlc3Npb25OYW1lKCl7bGV0IG09dGhpcy5nZXRDdXJyZW50UmVjb3JkKCk7aWYobS50eXBlPT09ZC5TRVNTSU9OX05BTUUpe2xldCBJPXRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVRleHQpO3JldHVybiB0aGlzLmN1cnJlbnRMaW5lKyssSX19cGFyc2VJbmZvcm1hdGlvbigpe2xldCBtPXRoaXMuZ2V0Q3VycmVudFJlY29yZCgpO2lmKG0udHlwZSE9PWQuSU5GT1JNQVRJT04pcmV0dXJuO2xldCBJPXRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVRleHQpO3JldHVybiB0aGlzLmN1cnJlbnRMaW5lKyssSX1wYXJzZVVyaSgpe2xldCBtPXRoaXMuZ2V0Q3VycmVudFJlY29yZCgpO2lmKG0udHlwZT09PWQuVVJJKXJldHVybiB0aGlzLmN1cnJlbnRMaW5lKyssbS52YWx1ZX1wYXJzZUVtYWlsKCl7bGV0IG09W107Zm9yKDs7KXtsZXQgST10aGlzLmdldEN1cnJlbnRSZWNvcmQoKTtpZihJLnR5cGUhPT1kLkVNQUlMKWJyZWFrO20ucHVzaChJLnZhbHVlKSx0aGlzLmN1cnJlbnRMaW5lKys7fXJldHVybiBtfXBhcnNlUGhvbmUoKXtsZXQgbT1bXTtmb3IoOzspe2xldCBJPXRoaXMuZ2V0Q3VycmVudFJlY29yZCgpO2lmKEkudHlwZSE9PWQuUEhPTkUpYnJlYWs7bS5wdXNoKEkudmFsdWUpLHRoaXMuY3VycmVudExpbmUrKzt9cmV0dXJuIG19cGFyc2VDb25uZWN0aW9uKCl7bGV0IG09dGhpcy5nZXRDdXJyZW50UmVjb3JkKCk7aWYobS50eXBlPT09ZC5DT05ORUNUSU9OKXtsZXQgST10aGlzLmV4dHJhY3RPbmVPck1vcmUobSxwKTt0aGlzLmNvbnN1bWVTcGFjZUZvclJlY29yZChtKTtsZXQgeT10aGlzLmV4dHJhY3RPbmVPck1vcmUobSxwKTt0aGlzLmNvbnN1bWVTcGFjZUZvclJlY29yZChtKTtsZXQgeD10aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWVBZGRyZXNzKTtyZXR1cm4gdGhpcy5jdXJyZW50TGluZSsrLHtuZXR0eXBlOkksYWRkcnR5cGU6eSxhZGRyZXNzOnh9fX1wYXJzZU1lZGlhKCl7bGV0IG09dGhpcy5nZXRDdXJyZW50UmVjb3JkKCksST10aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWVUb2tlbik7dGhpcy5jb25zdW1lU3BhY2VGb3JSZWNvcmQobSk7bGV0IHk9dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lUG9ydCk7bS52YWx1ZVttLmN1cl09PT1cIi9cIiYmKG0uY3VyKz0xLHkrPXRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZUludGVnZXIpKSx0aGlzLmNvbnN1bWVTcGFjZUZvclJlY29yZChtKTtsZXQgeD1bXTtmb3IoeC5wdXNoKHRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVRva2VuKSk7bS52YWx1ZVttLmN1cl09PT1cIi9cIjspbS5jdXIrPTEseC5wdXNoKHRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVRva2VuKSk7aWYoeC5sZW5ndGg9PT0wKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcHJvdG9cIik7bGV0IHJ0PXRoaXMucGFyc2VGbXQobSk7cmV0dXJuIHRoaXMuY3VycmVudExpbmUrKyx7bWVkaWFUeXBlOkkscG9ydDp5LHByb3Rvczp4LGZtdHM6cnR9fXBhcnNlVGltZUZpZWxkcygpe2xldCBtPVtdO2Zvcig7dGhpcy5nZXRDdXJyZW50UmVjb3JkKCkudHlwZT09PWQuVElNRTspe2xldCBJPXRoaXMucGFyc2VUaW1lKCkseT10aGlzLnBhcnNlUmVwZWF0KCkseD10aGlzLnBhcnNlWm9uZSgpO20ucHVzaCh7dGltZTpJLHJlcGVhdHM6eSx6b25lczp4fSk7fXJldHVybiBtfXBhcnNlTWVkaWFEZXNjcmlwdGlvbigpe2xldCBtPVtdO2Zvcig7dGhpcy5jdXJyZW50TGluZTx0aGlzLnJlY29yZHMubGVuZ3RoJiZ0aGlzLmdldEN1cnJlbnRSZWNvcmQoKS50eXBlPT09ZC5NRURJQTspe2xldCBJPXRoaXMucGFyc2VNZWRpYSgpLHk9dGhpcy5wYXJzZUluZm9ybWF0aW9uKCkseD10aGlzLnBhcnNlQ29ubmVjdGlvbnMoKSxydD10aGlzLnBhcnNlQmFuZFdpZHRoKCksYnQ9dGhpcy5wYXJzZUtleSgpLFJlPXRoaXMucGFyc2VNZWRpYUF0dHJpYnV0ZXMoSSk7bS5wdXNoKHttZWRpYTpJLGluZm9ybWF0aW9uOnksY29ubmVjdGlvbnM6eCxiYW5kd2lkdGhzOnJ0LGtleTpidCxhdHRyaWJ1dGVzOlJlfSk7fXJldHVybiBtfXBhcnNlQ29ubmVjdGlvbnMoKXtsZXQgbT1bXTtmb3IoO3RoaXMuY3VycmVudExpbmU8dGhpcy5yZWNvcmRzLmxlbmd0aCYmdGhpcy5nZXRDdXJyZW50UmVjb3JkKCkudHlwZT09PWQuQ09OTkVDVElPTjspbS5wdXNoKHRoaXMucGFyc2VDb25uZWN0aW9uKCkpO3JldHVybiBtfXBhcnNlRm10KG0pe2xldCBJPVtdO2Zvcig7Oyl0cnl7dGhpcy5jb25zdW1lU3BhY2VGb3JSZWNvcmQobSksSS5wdXNoKHRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVRva2VuKSk7fWNhdGNoe2JyZWFrfWlmKEkubGVuZ3RoPT09MCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGZtdHNcIik7cmV0dXJuIEl9ZXh0cmFjdChtLEkpe2Zvcih2YXIgeT1hcmd1bWVudHMubGVuZ3RoLHg9bmV3IEFycmF5KHk+Mj95LTI6MCkscnQ9MjtydDx5O3J0KyspeFtydC0yXT1hcmd1bWVudHNbcnRdO2xldCBidD1JLmNhbGwodGhpcyxtLnZhbHVlLG0uY3VyLC4uLngpLFJlPW0udmFsdWUuc2xpY2UobS5jdXIsYnQpO3JldHVybiBtLmN1cj1idCxSZX1leHRyYWN0T25lT3JNb3JlKG0sSSl7bGV0IHk9dGhpcy5jb25zdW1lT25lT3JNb3JlKG0udmFsdWUsbS5jdXIsSSkseD1tLnZhbHVlLnNsaWNlKG0uY3VyLHkpO3JldHVybiBtLmN1cj15LHh9Y29uc3VtZVNwYWNlRm9yUmVjb3JkKG0pe2lmKG0udmFsdWVbbS5jdXJdIT09Yyl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNwYWNlIGF0IFwiLmNvbmNhdChtLmN1cixcIi5cIikpO20uY3VyKz0xO319Y2xhc3MgeiBleHRlbmRzIEJ7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLGsodGhpcyxcImF0dHJpYnV0ZXNcIix2b2lkIDApLGsodGhpcyxcImRpZ2VzdGVkXCIsITEpO31leHRyYWN0T25lT3JNb3JlKG0sSSx5KXtsZXQgeD10aGlzLmNvbnN1bWVPbmVPck1vcmUobS5hdHRWYWx1ZSxtLl9jdXIsSSkscnQ9bS5hdHRWYWx1ZS5zbGljZShtLl9jdXIseCksW2J0LFJlXT15fHxbXTtpZih0eXBlb2YgYnQ9PVwibnVtYmVyXCImJnJ0Lmxlbmd0aDxidCl0aHJvdyBuZXcgRXJyb3IoXCJlcnJvciBpbiBsZW5ndGgsIHNob3VsZCBiZSBtb3JlIG9yIGVxdWFsIHRoYW4gXCIuY29uY2F0KGJ0LFwiIGNoYXJhY3RlcnMuXCIpKTtpZih0eXBlb2YgUmU9PVwibnVtYmVyXCImJnJ0Lmxlbmd0aD5SZSl0aHJvdyBuZXcgRXJyb3IoXCJlcnJvciBpbiBsZW5ndGgsIHNob3VsZCBiZSBsZXNzIG9yIGVxdWFsIHRoYW4gXCIuY29uY2F0KFJlLFwiIGNoYXJhY3RlcnMuXCIpKTtyZXR1cm4gbS5fY3VyPXgscnR9Y29uc3VtZUF0dHJpYnV0ZVNwYWNlKG0pe2lmKG0uYXR0VmFsdWVbbS5fY3VyXSE9PWMpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzcGFjZSBhdCBcIi5jb25jYXQobS5fY3VyLFwiLlwiKSk7bS5fY3VyKz0xO31leHRyYWN0KG0sSSl7aWYoIW0uYXR0VmFsdWUpdGhyb3cgbmV3IEVycm9yKFwiTm90aGluZyB0byBleHRyYWN0IGZyb20gYXR0VmFsdWUuXCIpO2Zvcih2YXIgeT1hcmd1bWVudHMubGVuZ3RoLHg9bmV3IEFycmF5KHk+Mj95LTI6MCkscnQ9MjtydDx5O3J0KyspeFtydC0yXT1hcmd1bWVudHNbcnRdO2xldCBidD1JLmNhbGwodGhpcyxtLmF0dFZhbHVlLG0uX2N1ciwuLi54KSxSZT1tLmF0dFZhbHVlLnNsaWNlKG0uX2N1cixidCk7cmV0dXJuIG0uX2N1cj1idCxSZX1hdEVuZChtKXtpZighbS5hdHRWYWx1ZSl0aHJvdyBuZXcgRXJyb3I7cmV0dXJuIG0uX2N1cj49bS5hdHRWYWx1ZS5sZW5ndGh9cGVla0NoYXIobSl7aWYoIW0uYXR0VmFsdWUpdGhyb3cgbmV3IEVycm9yO3JldHVybiBtLmF0dFZhbHVlW20uX2N1cl19cGVlayhtLEkpe2lmKCFtLmF0dFZhbHVlKXRocm93IG5ldyBFcnJvcjtmb3IobGV0IHk9MDt5PEkubGVuZ3RoO3krKylpZihJW3ldIT09bS5hdHRWYWx1ZVttLl9jdXIreV0pcmV0dXJuICExO3JldHVybiAhMH1wYXJzZUljZVVmcmFnKG0pe2lmKHRoaXMuYXR0cmlidXRlcy5pY2VVZnJhZyl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGljZS11ZnJhZywgc2hvdWxkIGJlIG9ubHkgYSBzaW5nbGUgbGluZSBpZiAnYT1pY2UtdWZyYWcnXCIpO3RoaXMuYXR0cmlidXRlcy5pY2VVZnJhZz10aGlzLmV4dHJhY3RPbmVPck1vcmUobSxDLFs0LDI1Nl0pO31wYXJzZUljZVB3ZChtKXtpZih0aGlzLmF0dHJpYnV0ZXMuaWNlUHdkKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaWNlLXB3ZCwgc2hvdWxkIGJlIG9ubHkgYSBzaW5nbGUgbGluZSBpZiAnYT1pY2UtcHdkJ1wiKTt0aGlzLmF0dHJpYnV0ZXMuaWNlUHdkPXRoaXMuZXh0cmFjdE9uZU9yTW9yZShtLEMsWzIyLDI1Nl0pO31wYXJzZUljZU9wdGlvbnMobSl7aWYodGhpcy5hdHRyaWJ1dGVzLmljZU9wdGlvbnMpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpY2Utb3B0aW9ucywgc2hvdWxkIGJlIG9ubHkgb25lICdpY2Utb3B0aW9ucycgbGluZVwiKTtsZXQgST1bXTtmb3IoOyF0aGlzLmF0RW5kKG0pOyl7SS5wdXNoKHRoaXMuZXh0cmFjdE9uZU9yTW9yZShtLEMpKTt0cnl7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UobSk7fWNhdGNoKHkpe2lmKHRoaXMuYXRFbmQobSkpYnJlYWs7dGhyb3cgeX19dGhpcy5hdHRyaWJ1dGVzLmljZU9wdGlvbnM9STt9cGFyc2VGaW5nZXJwcmludChtKXtsZXQgST10aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWVUb2tlbik7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UobSk7bGV0IHk9dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lVGlsbCk7dGhpcy5hdHRyaWJ1dGVzLmZpbmdlcnByaW50cy5wdXNoKHtoYXNoRnVuY3Rpb246SSxmaW5nZXJwcmludDp5fSk7fXBhcnNlRXh0bWFwKG0pe2xldCBJPXRoaXMuZXh0cmFjdE9uZU9yTW9yZShtLGwpLHk7dGhpcy5wZWVrQ2hhcihtKT09PVwiL1wiJiYodGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lLFwiL1wiKSx5PXRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVRva2VuKSksdGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UobSk7bGV0IHg9dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lVGlsbCxjKSxydD1EKEQoe2VudHJ5OnBhcnNlSW50KEksMTApfSx5JiZ7ZGlyZWN0aW9uOnl9KSx7fSx7ZXh0ZW5zaW9uTmFtZTp4fSk7dGhpcy5wZWVrQ2hhcihtKT09PWMmJih0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShtKSxydC5leHRlbnNpb25BdHRyaWJ1dGVzPXRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVRpbGwpKSx0aGlzLmF0dHJpYnV0ZXMuZXh0bWFwcy5wdXNoKHJ0KTt9cGFyc2VTZXR1cChtKXtpZih0aGlzLmF0dHJpYnV0ZXMuc2V0dXApdGhyb3cgbmV3IEVycm9yKFwibXVzdCBvbmx5IGJlIG9uZSBzaW5nbGUgJ2E9c2V0dXAnIGxpbmUuXCIpO2xldCBJPXRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVRpbGwpO2lmKEkhPT1cImFjdGl2ZVwiJiZJIT09XCJwYXNzaXZlXCImJkkhPT1cImFjdHBhc3NcIiYmSSE9PVwiaG9sZGNvbm5cIil0aHJvdyBuZXcgRXJyb3IoXCJyb2xlIG11c3QgYmUgb25lIG9mICdhY3RpdmUnLCAncGFzc2l2ZScsICdhY3RwYXNzJywgJ2hvbGRjb25uJy5cIik7dGhpcy5hdHRyaWJ1dGVzLnNldHVwPUk7fX1jbGFzcyBsdCBleHRlbmRzIHp7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLGsodGhpcyxcImF0dHJpYnV0ZXNcIix7dW5yZWNvZ25pemVkOltdLGdyb3VwczpbXSxleHRtYXBzOltdLGZpbmdlcnByaW50czpbXSxpZGVudGl0aWVzOltdfSk7fXBhcnNlKG0pe2lmKHRoaXMuZGlnZXN0ZWQpdGhyb3cgbmV3IEVycm9yKFwiYWxyZWFkeSBkaWdlc3RlZFwiKTt0cnl7c3dpdGNoKG0uYXR0RmllbGQpe2Nhc2VcImdyb3VwXCI6dGhpcy5wYXJzZUdyb3VwKG0pO2JyZWFrO2Nhc2VcImljZS1saXRlXCI6dGhpcy5wYXJzZUljZUxpdGUoKTticmVhaztjYXNlXCJpY2UtdWZyYWdcIjp0aGlzLnBhcnNlSWNlVWZyYWcobSk7YnJlYWs7Y2FzZVwiaWNlLXB3ZFwiOnRoaXMucGFyc2VJY2VQd2QobSk7YnJlYWs7Y2FzZVwiaWNlLW9wdGlvbnNcIjp0aGlzLnBhcnNlSWNlT3B0aW9ucyhtKTticmVhaztjYXNlXCJmaW5nZXJwcmludFwiOnRoaXMucGFyc2VGaW5nZXJwcmludChtKTticmVhaztjYXNlXCJzZXR1cFwiOnRoaXMucGFyc2VTZXR1cChtKTticmVhaztjYXNlXCJ0bHMtaWRcIjp0aGlzLnBhcnNlVGxzSWQobSk7YnJlYWs7Y2FzZVwiaWRlbnRpdHlcIjp0aGlzLnBhcnNlSWRlbnRpdHkobSk7YnJlYWs7Y2FzZVwiZXh0bWFwXCI6dGhpcy5wYXJzZUV4dG1hcChtKTticmVhaztjYXNlXCJtc2lkLXNlbWFudGljXCI6dGhpcy5wYXJzZU1zaWRTZW1hbnRpYyhtKTticmVhaztkZWZhdWx0Om0uaWdub3JlZD0hMCx0aGlzLmF0dHJpYnV0ZXMudW5yZWNvZ25pemVkLnB1c2gobSk7fX1jYXRjaChJKXt0aHJvdyBjb25zb2xlLmVycm9yKFwicGFyc2luZyBzZXNzaW9uIGF0dHJpYnV0ZSBcIi5jb25jYXQobS5hdHRGaWVsZCwnIGVycm9yLCBcImE9JykuY29uY2F0KG0uYXR0RmllbGQsXCI6XCIpLmNvbmNhdChtLmF0dFZhbHVlLCdcIicpKSxJfWlmKCFtLmlnbm9yZWQmJm0uYXR0VmFsdWUmJiF0aGlzLmF0RW5kKG0pKXRocm93IG5ldyBFcnJvcihcImF0dHJpYnV0ZSBwYXJzaW5nIGVycm9yXCIpfWRpZ2VzdCgpe3JldHVybiB0aGlzLmRpZ2VzdGVkPSEwLHRoaXMuYXR0cmlidXRlc31wYXJzZUdyb3VwKG0pe2xldCBJPXRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVRva2VuKSx5PVtdO2Zvcig7IXRoaXMuYXRFbmQobSkmJnRoaXMucGVla0NoYXIobSk9PT1jOyl0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShtKSx5LnB1c2godGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lVG9rZW4pKTt0aGlzLmF0dHJpYnV0ZXMuZ3JvdXBzLnB1c2goe3NlbWFudGljOkksaWRlbnRpZmljYXRpb25UYWc6eX0pO31wYXJzZUljZUxpdGUoKXtpZih0aGlzLmF0dHJpYnV0ZXMuaWNlTGl0ZSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGljZS1saXRlLCBzaG91bGQgYmUgb25seSBhIHNpbmdsZSBsaW5lIG9mICdhPWljZS1saXRlJ1wiKTt0aGlzLmF0dHJpYnV0ZXMuaWNlTGl0ZT0hMDt9cGFyc2VUbHNJZChtKXtpZih0aGlzLmF0dHJpYnV0ZXMudGxzSWQpdGhyb3cgbmV3IEVycm9yKFwibXVzdCBiZSBvbmx5IG9uZSB0bGQtaWQgbGluZVwiKTt0aGlzLmF0dHJpYnV0ZXMudGxzSWQ9dGhpcy5leHRyYWN0T25lT3JNb3JlKG0sQSk7fXBhcnNlSWRlbnRpdHkobSl7bGV0IEk9dGhpcy5leHRyYWN0T25lT3JNb3JlKG0sYikseT1bXTtmb3IoOyF0aGlzLmF0RW5kKG0pJiZ0aGlzLnBlZWtDaGFyKG0pPT09Yzspe3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKG0pO2xldCB4PXRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVRva2VuKTt0aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWUsXCI9XCIpO2xldCBydD10aGlzLmV4dHJhY3RPbmVPck1vcmUobSxidD0+YnQhPT1jJiZTKGJ0KSk7eS5wdXNoKHtuYW1lOngsdmFsdWU6cnR9KTt9dGhpcy5hdHRyaWJ1dGVzLmlkZW50aXRpZXMucHVzaCh7YXNzZXJ0aW9uVmFsdWU6SSxleHRlbnNpb25zOnl9KTt9cGFyc2VNc2lkU2VtYW50aWMobSl7dGhpcy5wZWVrQ2hhcihtKT09PWMmJnRoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKG0pO2xldCBJPXtzZW1hbnRpYzp0aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWVUb2tlbiksaWRlbnRpZmllckxpc3Q6W119O2Zvcig7Oyl7dHJ5e3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKG0pO31jYXRjaHticmVha31pZih0aGlzLnBlZWtDaGFyKG0pPT09XCIqXCIpe3RoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZSxcIipcIiksSS5hcHBseUZvckFsbD0hMDticmVha317bGV0IHk9dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lVGlsbCxjKTtJLmlkZW50aWZpZXJMaXN0LnB1c2goeSk7fX10aGlzLmF0dHJpYnV0ZXMubXNpZFNlbWFudGljPUk7fX1jbGFzcyB2dCBleHRlbmRzIHp7Y29uc3RydWN0b3IobSl7c3VwZXIoKSxrKHRoaXMsXCJhdHRyaWJ1dGVzXCIsdm9pZCAwKSxtLnByb3Rvcy5pbmRleE9mKFwiUlRQXCIpIT09LTF8fG0ucHJvdG9zLmluZGV4T2YoXCJydHBcIiksdGhpcy5hdHRyaWJ1dGVzPXt1bnJlY29nbml6ZWQ6W10sY2FuZGlkYXRlczpbXSxleHRtYXBzOltdLGZpbmdlcnByaW50czpbXSxpbWFnZWF0dHI6W10sbXNpZHM6W10scmVtb3RlQ2FuZGlkYXRlc0xpc3Q6W10scmlkczpbXSxzc3JjczpbXSxzc3JjR3JvdXBzOltdLHJ0Y3BGZWVkYmFja1dpbGRjYXJkczpbXSxwYXlsb2FkczpbXX07fXBhcnNlKG0pe2lmKHRoaXMuZGlnZXN0ZWQpdGhyb3cgbmV3IEVycm9yKFwiYWxyZWFkeSBkaWdlc3RlZFwiKTt0cnl7c3dpdGNoKG0uYXR0RmllbGQpe2Nhc2VcImV4dG1hcFwiOnRoaXMucGFyc2VFeHRtYXAobSk7YnJlYWs7Y2FzZVwic2V0dXBcIjp0aGlzLnBhcnNlU2V0dXAobSk7YnJlYWs7Y2FzZVwiaWNlLXVmcmFnXCI6dGhpcy5wYXJzZUljZVVmcmFnKG0pO2JyZWFrO2Nhc2VcImljZS1wd2RcIjp0aGlzLnBhcnNlSWNlUHdkKG0pO2JyZWFrO2Nhc2VcImljZS1vcHRpb25zXCI6dGhpcy5wYXJzZUljZU9wdGlvbnMobSk7YnJlYWs7Y2FzZVwiY2FuZGlkYXRlXCI6dGhpcy5wYXJzZUNhbmRpZGF0ZShtKTticmVhaztjYXNlXCJyZW1vdGUtY2FuZGlkYXRlXCI6dGhpcy5wYXJzZVJlbW90ZUNhbmRpZGF0ZShtKTticmVhaztjYXNlXCJlbmQtb2YtY2FuZGlkYXRlc1wiOnRoaXMucGFyc2VFbmRPZkNhbmRpZGF0ZXMoKTticmVhaztjYXNlXCJmaW5nZXJwcmludFwiOnRoaXMucGFyc2VGaW5nZXJwcmludChtKTticmVhaztjYXNlXCJydHBtYXBcIjp0aGlzLnBhcnNlUnRwbWFwKG0pO2JyZWFrO2Nhc2VcInB0aW1lXCI6dGhpcy5wYXJzZVB0aW1lKG0pO2JyZWFrO2Nhc2VcIm1heHB0aW1lXCI6dGhpcy5wYXJzZU1heFB0aW1lKG0pO2JyZWFrO2Nhc2VcInNlbmRyZWN2XCI6Y2FzZVwicmVjdm9ubHlcIjpjYXNlXCJzZW5kb25seVwiOmNhc2VcImluYWN0aXZlXCI6dGhpcy5wYXJzZURpcmVjdGlvbihtKTticmVhaztjYXNlXCJzc3JjXCI6dGhpcy5wYXJzZVNTUkMobSk7YnJlYWs7Y2FzZVwiZm10cFwiOnRoaXMucGFyc2VGbXRwKG0pO2JyZWFrO2Nhc2VcInJ0Y3AtZmJcIjp0aGlzLnBhcnNlUnRjcEZiKG0pO2JyZWFrO2Nhc2VcInJ0Y3AtbXV4XCI6dGhpcy5wYXJzZVJUQ1BNdXgoKTticmVhaztjYXNlXCJydGNwLW11eC1vbmx5XCI6dGhpcy5wYXJzZVJUQ1BNdXhPbmx5KCk7YnJlYWs7Y2FzZVwicnRjcC1yc2l6ZVwiOnRoaXMucGFyc2VSVENQUnNpemUoKTticmVhaztjYXNlXCJydGNwXCI6dGhpcy5wYXJzZVJUQ1AobSk7YnJlYWs7Y2FzZVwibWlkXCI6dGhpcy5wYXJzZU1pZChtKTticmVhaztjYXNlXCJtc2lkXCI6dGhpcy5wYXJzZU1zaWQobSk7YnJlYWs7Y2FzZVwiaW1hZ2VhdHRyXCI6dGhpcy5wYXJzZUltYWdlQXR0cihtKTticmVhaztjYXNlXCJyaWRcIjp0aGlzLnBhcnNlUmlkKG0pO2JyZWFrO2Nhc2VcInNpbXVsY2FzdFwiOnRoaXMucGFyc2VTaW11bGNhc3QobSk7YnJlYWs7Y2FzZVwic2N0cC1wb3J0XCI6dGhpcy5wYXJzZVNjdHBQb3J0KG0pO2JyZWFrO2Nhc2VcIm1heC1tZXNzYWdlLXNpemVcIjp0aGlzLnBhcnNlTWF4TWVzc2FnZVNpemUobSk7YnJlYWs7Y2FzZVwic3NyYy1ncm91cFwiOnRoaXMucGFyc2VTU1JDR3JvdXAobSk7YnJlYWs7ZGVmYXVsdDptLmlnbm9yZWQ9ITAsdGhpcy5hdHRyaWJ1dGVzLnVucmVjb2duaXplZC5wdXNoKG0pO319Y2F0Y2goSSl7dGhyb3cgY29uc29sZS5lcnJvcihcInBhcnNpbmcgbWVkaWEgYXR0cmlidXRlIFwiLmNvbmNhdChtLmF0dEZpZWxkLCcgZXJyb3IsIFwiYT0nKS5jb25jYXQobS5hdHRGaWVsZCxcIjpcIikuY29uY2F0KG0uYXR0VmFsdWUsJ1wiJykpLEl9aWYoIW0uaWdub3JlZCYmbS5hdHRWYWx1ZSYmIXRoaXMuYXRFbmQobSkpdGhyb3cgbmV3IEVycm9yKFwiYXR0cmlidXRlIHBhcnNpbmcgZXJyb3JcIil9cGFyc2VDYW5kaWRhdGUobSl7bGV0IEk9dGhpcy5leHRyYWN0T25lT3JNb3JlKG0sQyxbMSwzMl0pO3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKG0pO2xldCB5PXRoaXMuZXh0cmFjdE9uZU9yTW9yZShtLGwsWzEsNV0pO3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKG0pO2xldCB4PXRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVRva2VuKTt0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShtKTtsZXQgcnQ9dGhpcy5leHRyYWN0T25lT3JNb3JlKG0sbCxbMSwxMF0pO3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKG0pO2xldCBidD10aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWVBZGRyZXNzKTt0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShtKTtsZXQgUmU9dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lUG9ydCk7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UobSksdGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lLFwidHlwXCIpLHRoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKG0pO2xldCBmbj17Zm91bmRhdGlvbjpJLGNvbXBvbmVudElkOnksdHJhbnNwb3J0OngscHJpb3JpdHk6cnQsY29ubmVjdGlvbkFkZHJlc3M6YnQscG9ydDpSZSx0eXBlOnRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVRva2VuKSxleHRlbnNpb246e319O2Zvcih0aGlzLnBlZWsobSxcIiByYWRkclwiKSYmKHRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZSxcIiByYWRkclwiKSx0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShtKSxmbi5yZWxBZGRyPXRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZUFkZHJlc3MpKSx0aGlzLnBlZWsobSxcIiBycG9ydFwiKSYmKHRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZSxcIiBycG9ydFwiKSx0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShtKSxmbi5yZWxQb3J0PXRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVBvcnQpKTt0aGlzLnBlZWtDaGFyKG0pPT09Yzspe3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKG0pO2xldCBncj10aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWVUb2tlbik7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UobSksZm4uZXh0ZW5zaW9uW2dyXT10aGlzLmV4dHJhY3RPbmVPck1vcmUobSx1KTt9dGhpcy5hdHRyaWJ1dGVzLmNhbmRpZGF0ZXMucHVzaChmbik7fXBhcnNlUmVtb3RlQ2FuZGlkYXRlKG0pe2xldCBJPVtdO2Zvcig7Oyl7bGV0IHk9dGhpcy5leHRyYWN0T25lT3JNb3JlKG0sbCxbMSw1XSk7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UobSk7bGV0IHg9dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lQWRkcmVzcyk7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UobSk7bGV0IHJ0PXRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVBvcnQpO0kucHVzaCh7Y29tcG9uZW50SWQ6eSxjb25uZWN0aW9uQWRkcmVzczp4LHBvcnQ6cnR9KTt0cnl7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UobSk7fWNhdGNoe2JyZWFrfX10aGlzLmF0dHJpYnV0ZXMucmVtb3RlQ2FuZGlkYXRlc0xpc3QucHVzaChJKTt9cGFyc2VFbmRPZkNhbmRpZGF0ZXMoKXtpZih0aGlzLmF0dHJpYnV0ZXMuZW5kT2ZDYW5kaWRhdGVzKXRocm93IG5ldyBFcnJvcihcIm11c3QgYmUgb25seSBvbmUgbGluZSBvZiBlbmQtb2YtY2FuZGlkYXRlc1wiKTt0aGlzLmF0dHJpYnV0ZXMuZW5kT2ZDYW5kaWRhdGVzPSEwO31wYXJzZVJ0cG1hcChtKXtsZXQgST10aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWVUb2tlbik7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UobSk7bGV0IHk9dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lVGlsbCxcIi9cIik7dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lLFwiL1wiKTtsZXQgeD17ZW5jb2RpbmdOYW1lOnksY2xvY2tSYXRlOnRoaXMuZXh0cmFjdE9uZU9yTW9yZShtLGwpfTt0aGlzLmF0RW5kKG0pfHx0aGlzLnBlZWtDaGFyKG0pIT09XCIvXCJ8fCh0aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWUsXCIvXCIpLHguZW5jb2RpbmdQYXJhbWV0ZXJzPXBhcnNlSW50KHRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVRpbGwpLDEwKSk7bGV0IHJ0PXRoaXMuYXR0cmlidXRlcy5wYXlsb2Fkcy5maW5kKGJ0PT5idC5wYXlsb2FkVHlwZT09PXBhcnNlSW50KEksMTApKTtydD9ydC5ydHBNYXA9eDp0aGlzLmF0dHJpYnV0ZXMucGF5bG9hZHMucHVzaCh7cGF5bG9hZFR5cGU6cGFyc2VJbnQoSSwxMCkscnRwTWFwOngscnRjcEZlZWRiYWNrczpbXX0pO31wYXJzZVB0aW1lKG0pe2lmKHRoaXMuYXR0cmlidXRlcy5wdGltZSl0aHJvdyBuZXcgRXJyb3IoXCJtdXN0IGJlIG9ubHkgb25lIGxpbmUgb2YgcHRpbWVcIik7dGhpcy5hdHRyaWJ1dGVzLnB0aW1lPXRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVRpbGwpO31wYXJzZU1heFB0aW1lKG0pe2lmKHRoaXMuYXR0cmlidXRlcy5tYXhQdGltZSl0aHJvdyBuZXcgRXJyb3IoXCJtdXN0IGJlIG9ubHkgb25lIGxpbmUgb2YgcHRpbWVcIik7dGhpcy5hdHRyaWJ1dGVzLm1heFB0aW1lPXRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVRpbGwpO31wYXJzZURpcmVjdGlvbihtKXtpZih0aGlzLmF0dHJpYnV0ZXMuZGlyZWN0aW9uKXRocm93IG5ldyBFcnJvcihcIm11c3QgYmUgb25seSBvbmUgbGluZSBvZiBkaXJlY3Rpb24gaW5mb1wiKTt0aGlzLmF0dHJpYnV0ZXMuZGlyZWN0aW9uPW0uYXR0RmllbGQ7fXBhcnNlU1NSQyhtKXtsZXQgST10aGlzLmV4dHJhY3RPbmVPck1vcmUobSxsKTt0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShtKTtsZXQgeT10aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWVUaWxsLFwiOlwiKSx4O3RoaXMucGVla0NoYXIobSk9PT1cIjpcIiYmKHRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZSxcIjpcIikseD10aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWVUaWxsKSk7bGV0IHJ0PXRoaXMuYXR0cmlidXRlcy5zc3Jjcy5maW5kKGJ0PT5idC5zc3JjSWQ9PT1wYXJzZUludChJLDEwKSk7cnQ/cnQuYXR0cmlidXRlc1t5XT14OnRoaXMuYXR0cmlidXRlcy5zc3Jjcy5wdXNoKHtzc3JjSWQ6cGFyc2VJbnQoSSwxMCksYXR0cmlidXRlczp7W3ldOnh9fSk7fXBhcnNlRm10cChtKXtsZXQgST10aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWVUaWxsLGMpO3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKG0pO2xldCB5PXRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVRpbGwpLHg9e307eS5zcGxpdChcIjtcIikuZm9yRWFjaChidD0+e2xldFtSZSxmbl09YnQuc3BsaXQoXCI9XCIpO1JlPXJuKFJlKS5jYWxsKFJlKTtsZXQgZ3I9dHlwZW9mIGZuPT1cInN0cmluZ1wiP3JuKGZuKS5jYWxsKGZuKTpudWxsO3R5cGVvZiBSZT09XCJzdHJpbmdcIiYmUmUubGVuZ3RoPjAmJih4W1JlXT1ncik7fSk7bGV0IHJ0PXRoaXMuYXR0cmlidXRlcy5wYXlsb2Fkcy5maW5kKGJ0PT5idC5wYXlsb2FkVHlwZT09PXBhcnNlSW50KEksMTApKTtydD9ydC5mbXRwPXtwYXJhbWV0ZXJzOnh9OnRoaXMuYXR0cmlidXRlcy5wYXlsb2Fkcy5wdXNoKHtwYXlsb2FkVHlwZTpwYXJzZUludChJLDEwKSxydGNwRmVlZGJhY2tzOltdLGZtdHA6e3BhcmFtZXRlcnM6eH19KTt9cGFyc2VGbXRQYXJhbWV0ZXJzKG0pe2xldCBJPXt9LHk9dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lVGlsbCxcIj1cIik7bS5fY3VyKys7bGV0IHg9dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lVGlsbCxcIjtcIik7Zm9yKElbeV09eDttLmF0dFZhbHVlW20uX2N1cl09PT1cIjtcIjspe2xldCBydD10aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWVUaWxsLFwiPVwiKTttLl9jdXIrKztsZXQgYnQ9dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lVGlsbCxcIjtcIik7SVtydF09YnQ7fXJldHVybiBJfXBhcnNlUnRjcEZiKG0pe2xldCBJPVwiXCI7ST10aGlzLnBlZWtDaGFyKG0pPT09XCIqXCI/dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lLFwiKlwiKTp0aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWVUaWxsLGMpLHRoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKG0pO2xldCB5PXRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVRpbGwsYykseDtpZih5PT09XCJ0cnItaW50XCIpeD17dHlwZTp5LGludGVydmFsOnRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVRpbGwpfTtlbHNlIHtsZXQgcnQ9e3R5cGU6eX07dGhpcy5wZWVrQ2hhcihtKT09PWMmJih0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShtKSxydC5wYXJhbWV0ZXI9dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lVG9rZW4pLHRoaXMucGVla0NoYXIobSk9PT1jJiYocnQuYWRkaXRpb25hbD10aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWVUaWxsKSkpLHg9cnQ7fWlmKEk9PT1cIipcIil0aGlzLmF0dHJpYnV0ZXMucnRjcEZlZWRiYWNrV2lsZGNhcmRzLnB1c2goeCk7ZWxzZSB7bGV0IHJ0PXRoaXMuYXR0cmlidXRlcy5wYXlsb2Fkcy5maW5kKGJ0PT5idC5wYXlsb2FkVHlwZT09PXBhcnNlSW50KEksMTApKTtydD9ydC5ydGNwRmVlZGJhY2tzLnB1c2goeCk6dGhpcy5hdHRyaWJ1dGVzLnBheWxvYWRzLnB1c2goe3BheWxvYWRUeXBlOnBhcnNlSW50KEksMTApLHJ0Y3BGZWVkYmFja3M6W3hdfSk7fX1wYXJzZVJUQ1BNdXgoKXtpZih0aGlzLmF0dHJpYnV0ZXMucnRjcE11eCl0aHJvdyBuZXcgRXJyb3IoXCJtdXN0IGJlIHNpbmdsZSBsaW5lIG9mIHJ0Y3AtbXV4XCIpO3RoaXMuYXR0cmlidXRlcy5ydGNwTXV4PSEwO31wYXJzZVJUQ1BNdXhPbmx5KCl7aWYodGhpcy5hdHRyaWJ1dGVzLnJ0Y3BNdXhPbmx5KXRocm93IG5ldyBFcnJvcihcIm11c3QgYmUgc2luZ2xlIGxpbmUgb2YgcnRjcC1vbmx5XCIpO3RoaXMuYXR0cmlidXRlcy5ydGNwTXV4T25seT0hMDt9cGFyc2VSVENQUnNpemUoKXtpZih0aGlzLmF0dHJpYnV0ZXMucnRjcFJzaXplKXRocm93IG5ldyBFcnJvcihcIm11c3QgYmUgc2luZ2xlIGxpbmUgb2YgcnRjcC1yc2l6ZVwiKTt0aGlzLmF0dHJpYnV0ZXMucnRjcFJzaXplPSEwO31wYXJzZVJUQ1AobSl7aWYodGhpcy5hdHRyaWJ1dGVzLnJ0Y3ApdGhyb3cgbmV3IEVycm9yKFwibXVzdCBiZSBzaW5nbGUgbGluZSBvZiBydGNwXCIpO2xldCBJPXtwb3J0OnRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVBvcnQpfTt0aGlzLnBlZWtDaGFyKG0pPT09YyYmKHRoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKG0pLEkubmV0VHlwZT10aGlzLmV4dHJhY3RPbmVPck1vcmUobSxwKSx0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShtKSxJLmFkZHJlc3NUeXBlPXRoaXMuZXh0cmFjdE9uZU9yTW9yZShtLHApLHRoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKG0pLEkuYWRkcmVzcz10aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWVBZGRyZXNzKSksdGhpcy5hdHRyaWJ1dGVzLnJ0Y3A9STt9cGFyc2VNc2lkKG0pe2xldCBJPXtpZDp0aGlzLmV4dHJhY3RPbmVPck1vcmUobSxwLFsxLDY0XSl9O3RoaXMucGVla0NoYXIobSk9PT1jJiYodGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UobSksSS5hcHBkYXRhPXRoaXMuZXh0cmFjdE9uZU9yTW9yZShtLHAsWzEsNjRdKSksdGhpcy5hdHRyaWJ1dGVzLm1zaWRzLnB1c2goSSk7fXBhcnNlSW1hZ2VBdHRyKG0pe3RoaXMuYXR0cmlidXRlcy5pbWFnZWF0dHIucHVzaChtLmF0dFZhbHVlKTt9cGFyc2VSaWQobSl7bGV0IEk9dGhpcy5leHRyYWN0T25lT3JNb3JlKG0seD0+RSh4KXx8bCh4KXx8eD09PVwiX1wifHx4PT09XCItXCIpO3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKG0pO2xldCB5PXtpZDpJLGRpcmVjdGlvbjp0aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWVUb2tlbikscGFyYW1zOltdfTtpZih0aGlzLnBlZWtDaGFyKG0pPT09Yyl7aWYodGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UobSksdGhpcy5wZWVrKG0sXCJwdD1cIikpe3RoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZSxcInB0PVwiKTtsZXQgeD1bXTtmb3IoOzspe2xldCBydD10aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWVUb2tlbik7eC5wdXNoKHJ0KTt0cnl7dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lLFwiLFwiKTt9Y2F0Y2h7YnJlYWt9fXkucGF5bG9hZHM9eCx0aGlzLnBlZWtDaGFyKG0pPT09YyYmdGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lLGMpO31mb3IoOzspe2xldCB4PXRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVRva2VuKTtzd2l0Y2goeCl7Y2FzZVwiZGVwZW5kXCI6e2xldCBydD17dHlwZTp4LHJpZHM6dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lLFwiPVwiKS5zcGxpdChcIixcIil9O3kucGFyYW1zLnB1c2gocnQpO2JyZWFrfWRlZmF1bHQ6e2xldCBydD17dHlwZTp4fTt0aGlzLnBlZWtDaGFyKG0pPT09XCI9XCImJih0aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWUsXCI9XCIpLHJ0LnZhbD10aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWVUaWxsLFwiO1wiKSkseS5wYXJhbXMucHVzaChydCk7fX10cnl7dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lLFwiO1wiKTt9Y2F0Y2h7YnJlYWt9fX10aGlzLmF0dHJpYnV0ZXMucmlkcy5wdXNoKHkpO31wYXJzZVNpbXVsY2FzdChtKXtpZih0aGlzLmF0dHJpYnV0ZXMuc2ltdWxjYXN0KXRocm93IG5ldyBFcnJvcihcIm11c3QgYmUgc2luZ2xlIGxpbmUgb2Ygc2ltdWxjYXN0XCIpO3RoaXMuYXR0cmlidXRlcy5zaW11bGNhc3Q9bS5hdHRWYWx1ZSx0aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWVUaWxsKTt9cGFyc2VTY3RwUG9ydChtKXt0aGlzLmF0dHJpYnV0ZXMuc2N0cFBvcnQ9dGhpcy5leHRyYWN0T25lT3JNb3JlKG0sbCxbMSw1XSk7fXBhcnNlTWF4TWVzc2FnZVNpemUobSl7dGhpcy5hdHRyaWJ1dGVzLm1heE1lc3NhZ2VTaXplPXRoaXMuZXh0cmFjdE9uZU9yTW9yZShtLGwsWzEsdm9pZCAwXSk7fWRpZ2VzdCgpe3JldHVybiB0aGlzLmRpZ2VzdGVkPSEwLHRoaXMuYXR0cmlidXRlc31wYXJzZU1pZChtKXt0aGlzLmF0dHJpYnV0ZXMubWlkPXRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVRva2VuKTt9cGFyc2VTU1JDR3JvdXAobSl7bGV0IEk9dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lVG9rZW4pLHk9W107Zm9yKDs7KXRyeXt0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShtKTtsZXQgeD10aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWVJbnRlZ2VyKTt5LnB1c2gocGFyc2VJbnQoeCwxMCkpO31jYXRjaHticmVha310aGlzLmF0dHJpYnV0ZXMuc3NyY0dyb3Vwcy5wdXNoKHtzZW1hbnRpYzpJLHNzcmNJZHM6eX0pO319ZnVuY3Rpb24gRHQoTSxtLEkpe3JldHVybiBtIGluIE0/T2JqZWN0LmRlZmluZVByb3BlcnR5KE0sbSx7dmFsdWU6SSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOk1bbV09SSxNfWNsYXNzIGNle2NvbnN0cnVjdG9yKCl7RHQodGhpcyxcImVvbFwiLGEpO31wcmludChtLEkpe2xldCB5PVwiXCI7cmV0dXJuIEkmJih0aGlzLmVvbD1JKSx5Kz10aGlzLnByaW50VmVyc2lvbihtLnZlcnNpb24pLHkrPXRoaXMucHJpbnRPcmlnaW4obS5vcmlnaW4pLHkrPXRoaXMucHJpbnRTZXNzaW9uTmFtZShtLnNlc3Npb25OYW1lKSx5Kz10aGlzLnByaW50SW5mb3JtYXRpb24obS5pbmZvcm1hdGlvbikseSs9dGhpcy5wcmludFVyaShtLnVyaSkseSs9dGhpcy5wcmludEVtYWlsKG0uZW1haWxzKSx5Kz10aGlzLnByaW50UGhvbmUobS5waG9uZXMpLHkrPXRoaXMucHJpbnRDb25uZWN0aW9uKG0uY29ubmVjdGlvbikseSs9dGhpcy5wcmludEJhbmR3aWR0aChtLmJhbmR3aWR0aHMpLHkrPXRoaXMucHJpbnRUaW1lRmllbGRzKG0udGltZUZpZWxkcykseSs9dGhpcy5wcmludEtleShtLmtleSkseSs9dGhpcy5wcmludFNlc3Npb25BdHRyaWJ1dGVzKG0uYXR0cmlidXRlcykseSs9dGhpcy5wcmludE1lZGlhRGVzY3JpcHRpb24obS5tZWRpYURlc2NyaXB0aW9ucykseX1wcmludFZlcnNpb24obSl7cmV0dXJuIFwidj1cIi5jb25jYXQobSkuY29uY2F0KHRoaXMuZW9sKX1wcmludE9yaWdpbihtKXtyZXR1cm4gXCJvPVwiLmNvbmNhdChtLnVzZXJuYW1lLFwiIFwiKS5jb25jYXQobS5zZXNzSWQsXCIgXCIpLmNvbmNhdChtLnNlc3NWZXJzaW9uLFwiIFwiKS5jb25jYXQobS5uZXR0eXBlLFwiIFwiKS5jb25jYXQobS5hZGRydHlwZSxcIiBcIikuY29uY2F0KG0udW5pY2FzdEFkZHJlc3MpLmNvbmNhdCh0aGlzLmVvbCl9cHJpbnRTZXNzaW9uTmFtZShtKXtyZXR1cm4gbT9cInM9XCIuY29uY2F0KG0pLmNvbmNhdCh0aGlzLmVvbCk6XCJcIn1wcmludEluZm9ybWF0aW9uKG0pe3JldHVybiBtP1wiaT1cIi5jb25jYXQobSkuY29uY2F0KHRoaXMuZW9sKTpcIlwifXByaW50VXJpKG0pe3JldHVybiBtP1widT1cIi5jb25jYXQobSkuY29uY2F0KHRoaXMuZW9sKTpcIlwifXByaW50RW1haWwobSl7bGV0IEk9XCJcIjtmb3IobGV0IHkgb2YgbSlJKz1cImU9XCIuY29uY2F0KHkpLmNvbmNhdCh0aGlzLmVvbCk7cmV0dXJuIEl9cHJpbnRQaG9uZShtKXtsZXQgST1cIlwiO2ZvcihsZXQgeSBvZiBtKUkrPVwiZT1cIi5jb25jYXQoeSkuY29uY2F0KHRoaXMuZW9sKTtyZXR1cm4gSX1wcmludENvbm5lY3Rpb24obSl7cmV0dXJuIG0/XCJjPVwiLmNvbmNhdChtLm5ldHR5cGUsXCIgXCIpLmNvbmNhdChtLmFkZHJ0eXBlLFwiIFwiKS5jb25jYXQobS5hZGRyZXNzKS5jb25jYXQodGhpcy5lb2wpOlwiXCJ9cHJpbnRCYW5kd2lkdGgobSl7bGV0IEk9XCJcIjtmb3IobGV0IHkgb2YgbSlJKz1cImI9XCIuY29uY2F0KHkuYnd0eXBlLFwiOlwiKS5jb25jYXQoeS5iYW5kd2lkdGgpLmNvbmNhdCh0aGlzLmVvbCk7cmV0dXJuIEl9cHJpbnRUaW1lRmllbGRzKG0pe2xldCBJPVwiXCI7Zm9yKGxldCB5IG9mIG0pe0krPVwidD1cIi5jb25jYXQoeS50aW1lLnN0YXJ0VGltZSxcIiBcIikuY29uY2F0KHkudGltZS5zdGFydFRpbWUpLmNvbmNhdCh0aGlzLmVvbCk7Zm9yKGxldCB4IG9mIHkucmVwZWF0cylJKz1cInI9XCIuY29uY2F0KHgucmVwZWF0SW50ZXJ2YWwsXCIgXCIpLmNvbmNhdCh4LnR5cGVkVGltZXMuam9pbihcIiBcIikpLmNvbmNhdCh0aGlzLmVvbCk7eS56b25lQWRqdXN0bWVudHMmJihJKz1cIno9XCIsSSs9XCJ6PVwiLmNvbmNhdCh5LnpvbmVBZGp1c3RtZW50cy5tYXAoeD0+XCJcIi5jb25jYXQoeC50aW1lLFwiIFwiKS5jb25jYXQoeC5iYWNrP1wiLVwiOlwiXCIsXCIgXCIpLmNvbmNhdCh4LnR5cGVkVGltZSkpLmpvaW4oXCIgXCIpKS5jb25jYXQodGhpcy5lb2wpLEkrPXRoaXMuZW9sKTt9cmV0dXJuIEl9cHJpbnRLZXkobSl7cmV0dXJuIG0/XCJrPVwiLmNvbmNhdChtKS5jb25jYXQodGhpcy5lb2wpOlwiXCJ9cHJpbnRBdHRyaWJ1dGVzKG0pe2xldCBJPVwiXCI7Zm9yKGxldCB5IG9mIG0pSSs9XCJhPVwiLmNvbmNhdCh5LmF0dEZpZWxkKS5jb25jYXQoeS5hdHRWYWx1ZT9cIjpcIi5jb25jYXQoeS5hdHRWYWx1ZSk6XCJcIikuY29uY2F0KHRoaXMuZW9sKTtyZXR1cm4gSX1wcmludE1lZGlhRGVzY3JpcHRpb24obSl7bGV0IEk9XCJcIjtmb3IobGV0IHkgb2YgbSlJKz10aGlzLnByaW50TWVkaWEoeS5tZWRpYSksSSs9dGhpcy5wcmludEluZm9ybWF0aW9uKHkuaW5mb3JtYXRpb24pLEkrPXRoaXMucHJpbnRDb25uZWN0aW9ucyh5LmNvbm5lY3Rpb25zKSxJKz10aGlzLnByaW50QmFuZHdpZHRoKHkuYmFuZHdpZHRocyksSSs9dGhpcy5wcmludEtleSh5LmtleSksSSs9dGhpcy5wcmludE1lZGlhQXR0cmlidXRlcyh5KTtyZXR1cm4gSX1wcmludENvbm5lY3Rpb25zKG0pe2xldCBJPVwiXCI7Zm9yKGxldCB5IG9mIG0pSSs9dGhpcy5wcmludENvbm5lY3Rpb24oeSk7cmV0dXJuIEl9cHJpbnRNZWRpYShtKXtyZXR1cm4gXCJtPVwiLmNvbmNhdChtLm1lZGlhVHlwZSxcIiBcIikuY29uY2F0KG0ucG9ydCxcIiBcIikuY29uY2F0KG0ucHJvdG9zLmpvaW4oXCIvXCIpLFwiIFwiKS5jb25jYXQobS5mbXRzLmpvaW4oXCIgXCIpKS5jb25jYXQodGhpcy5lb2wpfXByaW50U2Vzc2lvbkF0dHJpYnV0ZXMobSl7cmV0dXJuIG5ldyBzaSh0aGlzLmVvbCkucHJpbnQobSl9cHJpbnRNZWRpYUF0dHJpYnV0ZXMobSl7cmV0dXJuIG5ldyBMKHRoaXMuZW9sKS5wcmludChtKX19Y2xhc3MgV3R7Y29uc3RydWN0b3IobSl7RHQodGhpcyxcImVvbFwiLHZvaWQgMCksdGhpcy5lb2w9bTt9cHJpbnRJY2VVZnJhZyhtKXtyZXR1cm4gbT09PXZvaWQgMD9cIlwiOlwiYT1pY2UtdWZyYWc6XCIuY29uY2F0KG0pLmNvbmNhdCh0aGlzLmVvbCl9cHJpbnRJY2VQd2QobSl7cmV0dXJuIG09PT12b2lkIDA/XCJcIjpcImE9aWNlLXB3ZDpcIi5jb25jYXQobSkuY29uY2F0KHRoaXMuZW9sKX1wcmludEljZU9wdGlvbnMobSl7cmV0dXJuIG09PT12b2lkIDA/XCJcIjpcImE9aWNlLW9wdGlvbnM6XCIuY29uY2F0KG0uam9pbihjKSkuY29uY2F0KHRoaXMuZW9sKX1wcmludEZpbmdlcnByaW50cyhtKXtyZXR1cm4gbS5sZW5ndGg+MD9tLm1hcChJPT5cImE9ZmluZ2VycHJpbnQ6XCIuY29uY2F0KEkuaGFzaEZ1bmN0aW9uKS5jb25jYXQoYykuY29uY2F0KEkuZmluZ2VycHJpbnQpKS5qb2luKHRoaXMuZW9sKSt0aGlzLmVvbDpcIlwifXByaW50RXh0bWFwKG0pe3JldHVybiBtLm1hcChJPT5cImE9ZXh0bWFwOlwiLmNvbmNhdChJLmVudHJ5KS5jb25jYXQoSS5kaXJlY3Rpb24/XCIvXCIuY29uY2F0KEkuZGlyZWN0aW9uKTpcIlwiKS5jb25jYXQoYykuY29uY2F0KEkuZXh0ZW5zaW9uTmFtZSkuY29uY2F0KEkuZXh0ZW5zaW9uQXR0cmlidXRlcz9cIlwiLmNvbmNhdChjKS5jb25jYXQoSS5leHRlbnNpb25BdHRyaWJ1dGVzKTpcIlwiKS5jb25jYXQodGhpcy5lb2wpKS5qb2luKFwiXCIpfXByaW50U2V0dXAobSl7cmV0dXJuIG09PT12b2lkIDA/XCJcIjpcImE9c2V0dXA6XCIuY29uY2F0KG0pLmNvbmNhdCh0aGlzLmVvbCl9cHJpbnRVbnJlY29nbml6ZWQobSl7cmV0dXJuIG0ubWFwKEk9PlwiYT1cIi5jb25jYXQoSS5hdHRGaWVsZCkuY29uY2F0KEkuYXR0VmFsdWU/XCI6XCIuY29uY2F0KEkuYXR0VmFsdWUpOlwiXCIpLmNvbmNhdCh0aGlzLmVvbCkpLmpvaW4oXCJcIil9fWNsYXNzIHNpIGV4dGVuZHMgV3R7cHJpbnQobSl7bGV0IEk9XCJcIjtyZXR1cm4gSSs9dGhpcy5wcmludEdyb3VwcyhtLmdyb3VwcyksSSs9dGhpcy5wcmludE1zaWRTZW1hbnRpYyhtLm1zaWRTZW1hbnRpYyksSSs9dGhpcy5wcmludEljZUxpdGUobS5pY2VMaXRlKSxJKz10aGlzLnByaW50SWNlVWZyYWcobS5pY2VVZnJhZyksSSs9dGhpcy5wcmludEljZVB3ZChtLmljZVB3ZCksSSs9dGhpcy5wcmludEljZU9wdGlvbnMobS5pY2VPcHRpb25zKSxJKz10aGlzLnByaW50RmluZ2VycHJpbnRzKG0uZmluZ2VycHJpbnRzKSxJKz10aGlzLnByaW50U2V0dXAobS5zZXR1cCksSSs9dGhpcy5wcmludFRsc0lkKG0udGxzSWQpLEkrPXRoaXMucHJpbnRJZGVudGl0eShtLmlkZW50aXRpZXMpLEkrPXRoaXMucHJpbnRFeHRtYXAobS5leHRtYXBzKSxJKz10aGlzLnByaW50VW5yZWNvZ25pemVkKG0udW5yZWNvZ25pemVkKSxJfXByaW50R3JvdXBzKG0pe2xldCBJPVwiXCI7cmV0dXJuIG0ubGVuZ3RoPjAmJihJKz1tLm1hcCh5PT5cImE9Z3JvdXA6XCIuY29uY2F0KHkuc2VtYW50aWMpLmNvbmNhdCh5LmlkZW50aWZpY2F0aW9uVGFnLm1hcCh4PT5cIlwiLmNvbmNhdChjKS5jb25jYXQoeCkpLmpvaW4oXCJcIikpLmNvbmNhdCh0aGlzLmVvbCkpLmpvaW4oXCJcIikpLEl9cHJpbnRJY2VMaXRlKG0pe3JldHVybiBtPT09dm9pZCAwP1wiXCI6XCJhPWljZS1saXRlXCIrdGhpcy5lb2x9cHJpbnRUbHNJZChtKXtyZXR1cm4gbT9cImE9dGxzLWlkOlwiLmNvbmNhdChtKS5jb25jYXQodGhpcy5lb2wpOlwiXCJ9cHJpbnRJZGVudGl0eShtKXtyZXR1cm4gbS5sZW5ndGg9PT0wP1wiXCI6bS5tYXAoST0+XCJhPWlkZW50aXR5OlwiLmNvbmNhdChJLmFzc2VydGlvblZhbHVlKS5jb25jYXQoSS5leHRlbnNpb25zLm1hcCh5PT5cIlwiLmNvbmNhdChjKS5jb25jYXQoeS5uYW1lKS5jb25jYXQoeS52YWx1ZT9cIj1cIi5jb25jYXQoeS52YWx1ZSk6XCJcIikpKSkuam9pbih0aGlzLmVvbCkrdGhpcy5lb2x9cHJpbnRNc2lkU2VtYW50aWMobSl7aWYoIW0pcmV0dXJuIFwiXCI7bGV0IEk9XCJhPW1zaWQtc2VtYW50aWM6XCIuY29uY2F0KG0uc2VtYW50aWMpO3JldHVybiBtLmFwcGx5Rm9yQWxsP0krPVwiXCIuY29uY2F0KGMsXCIqXCIpOm0uaWRlbnRpZmllckxpc3QubGVuZ3RoPjAmJihJKz1tLmlkZW50aWZpZXJMaXN0Lm1hcCh5PT5cIlwiLmNvbmNhdChjKS5jb25jYXQoeSkpKSxJK3RoaXMuZW9sfX1jbGFzcyBMIGV4dGVuZHMgV3R7cHJpbnQobSl7bGV0IEk9bS5hdHRyaWJ1dGVzLHk9XCJcIjtyZXR1cm4geSs9dGhpcy5wcmludFJUQ1AoSS5ydGNwKSx5Kz10aGlzLnByaW50SWNlVWZyYWcoSS5pY2VVZnJhZykseSs9dGhpcy5wcmludEljZVB3ZChJLmljZVB3ZCkseSs9dGhpcy5wcmludEljZU9wdGlvbnMoSS5pY2VPcHRpb25zKSx5Kz10aGlzLnByaW50Q2FuZGlkYXRlcyhJLmNhbmRpZGF0ZXMpLHkrPXRoaXMucHJpbnRSZW1vdGVDYW5kaWRhdGVzTGlzdChJLnJlbW90ZUNhbmRpZGF0ZXNMaXN0KSx5Kz10aGlzLnByaW50RW5kT2ZDYW5kaWRhdGVzKEkuZW5kT2ZDYW5kaWRhdGVzKSx5Kz10aGlzLnByaW50RmluZ2VycHJpbnRzKEkuZmluZ2VycHJpbnRzKSx5Kz10aGlzLnByaW50U2V0dXAoSS5zZXR1cCkseSs9dGhpcy5wcmludE1pZChJLm1pZCkseSs9dGhpcy5wcmludEV4dG1hcChJLmV4dG1hcHMpLHkrPXRoaXMucHJpbnRSVFBSZWxhdGVkKEkpLHkrPXRoaXMucHJpbnRQdGltZShJLnB0aW1lKSx5Kz10aGlzLnByaW50TWF4UHRpbWUoSS5tYXhQdGltZSkseSs9dGhpcy5wcmludERpcmVjdGlvbihJLmRpcmVjdGlvbikseSs9dGhpcy5wcmludFNTUkNHcm91cHMoSS5zc3JjR3JvdXBzKSx5Kz10aGlzLnByaW50U1NSQyhJLnNzcmNzKSx5Kz10aGlzLnByaW50UlRDUE11eChJLnJ0Y3BNdXgpLHkrPXRoaXMucHJpbnRSVENQTXV4T25seShJLnJ0Y3BNdXhPbmx5KSx5Kz10aGlzLnByaW50UlRDUFJzaXplKEkucnRjcFJzaXplKSx5Kz10aGlzLnByaW50TVNJZChJLm1zaWRzKSx5Kz10aGlzLnByaW50SW1hZ2VhdHRyKEkuaW1hZ2VhdHRyKSx5Kz10aGlzLnByaW50UmlkKEkucmlkcykseSs9dGhpcy5wcmludFNpbXVsY2FzdChJLnNpbXVsY2FzdCkseSs9dGhpcy5wcmludFNDVFBQb3J0KEkuc2N0cFBvcnQpLHkrPXRoaXMucHJpbnRNYXhNZXNzYWdlU2l6ZShJLm1heE1lc3NhZ2VTaXplKSx5Kz10aGlzLnByaW50VW5yZWNvZ25pemVkKEkudW5yZWNvZ25pemVkKSx5fXByaW50Q2FuZGlkYXRlcyhtKXtyZXR1cm4gbS5tYXAoST0+XCJhPWNhbmRpZGF0ZTpcIi5jb25jYXQoSS5mb3VuZGF0aW9uKS5jb25jYXQoYykuY29uY2F0KEkuY29tcG9uZW50SWQpLmNvbmNhdChjKS5jb25jYXQoSS50cmFuc3BvcnQpLmNvbmNhdChjKS5jb25jYXQoSS5wcmlvcml0eSkuY29uY2F0KGMpLmNvbmNhdChJLmNvbm5lY3Rpb25BZGRyZXNzKS5jb25jYXQoYykuY29uY2F0KEkucG9ydCkuY29uY2F0KGMsXCJ0eXBcIikuY29uY2F0KGMpLmNvbmNhdChJLnR5cGUpLmNvbmNhdChJLnJlbEFkZHI/XCJcIi5jb25jYXQoYyxcInJhZGRyXCIpLmNvbmNhdChjKS5jb25jYXQoSS5yZWxBZGRyKTpcIlwiKS5jb25jYXQoSS5yZWxQb3J0P1wiXCIuY29uY2F0KGMsXCJycG9ydFwiKS5jb25jYXQoYykuY29uY2F0KEkucmVsUG9ydCk6XCJcIikuY29uY2F0KE9iamVjdC5rZXlzKEkuZXh0ZW5zaW9uKS5tYXAoeT0+XCJcIi5jb25jYXQoYykuY29uY2F0KHkpLmNvbmNhdChjKS5jb25jYXQoSS5leHRlbnNpb25beV0pKS5qb2luKFwiXCIpKS5jb25jYXQodGhpcy5lb2wpKS5qb2luKFwiXCIpfXByaW50UmVtb3RlQ2FuZGlkYXRlc0xpc3QobSl7cmV0dXJuIG0ubWFwKEk9PlwiYT1yZW1vdGUtY2FuZGlkYXRlczpcIi5jb25jYXQoSS5qb2luKGMpKS5jb25jYXQodGhpcy5lb2wpKS5qb2luKFwiXCIpfXByaW50RW5kT2ZDYW5kaWRhdGVzKG0pe3JldHVybiBtPT09dm9pZCAwP1wiXCI6XCJhPWVuZC1vZi1jYW5kaWRhdGVzXCIrdGhpcy5lb2x9cHJpbnRSVFBSZWxhdGVkKG0pe2lmKCFtLnBheWxvYWRzKXJldHVybiBcIlwiO2xldCBJPW0ucGF5bG9hZHMseT1cIlwiO3krPW0ucnRjcEZlZWRiYWNrV2lsZGNhcmRzLm1hcCh4PT50aGlzLnByaW50UlRDUEZlZWRiYWNrKFwiKlwiLHgpKS5qb2luKFwiXCIpO2ZvcihsZXQgeCBvZiBJKXkrPXRoaXMucHJpbnRSdHBNYXAoeC5wYXlsb2FkVHlwZSx4LnJ0cE1hcCkseSs9dGhpcy5wcmludEZtdHAoeC5wYXlsb2FkVHlwZSx4LmZtdHApLHkrPXgucnRjcEZlZWRiYWNrcy5tYXAocnQ9PnRoaXMucHJpbnRSVENQRmVlZGJhY2soeC5wYXlsb2FkVHlwZSxydCkpLmpvaW4oXCJcIik7cmV0dXJuIHl9cHJpbnRGbXRwKG0sSSl7aWYoIUkpcmV0dXJuIFwiXCI7bGV0IHk9T2JqZWN0LmtleXMoSS5wYXJhbWV0ZXJzKTtyZXR1cm4geS5sZW5ndGg9PT0xJiZJLnBhcmFtZXRlcnNbeVswXV09PT1udWxsP1wiYT1mbXRwOlwiLmNvbmNhdChtKS5jb25jYXQoYykuY29uY2F0KHlbMF0pLmNvbmNhdCh0aGlzLmVvbCk6XCJhPWZtdHA6XCIuY29uY2F0KG0pLmNvbmNhdChjKS5jb25jYXQoT2JqZWN0LmtleXMoSS5wYXJhbWV0ZXJzKS5tYXAoeD0+XCJcIi5jb25jYXQoeCxcIj1cIikuY29uY2F0KEkucGFyYW1ldGVyc1t4XSkpLmpvaW4oXCI7XCIpKS5jb25jYXQodGhpcy5lb2wpfXByaW50UnRwTWFwKG0sSSl7cmV0dXJuIEk/XCJhPXJ0cG1hcDpcIi5jb25jYXQobSkuY29uY2F0KGMpLmNvbmNhdChJLmVuY29kaW5nTmFtZSxcIi9cIikuY29uY2F0KEkuY2xvY2tSYXRlKS5jb25jYXQoSS5lbmNvZGluZ1BhcmFtZXRlcnM/XCIvXCIuY29uY2F0KEkuZW5jb2RpbmdQYXJhbWV0ZXJzKTpcIlwiKS5jb25jYXQodGhpcy5lb2wpOlwiXCJ9cHJpbnRSVENQRmVlZGJhY2sobSxJKXtsZXQgeT1cImE9cnRjcC1mYjpcIi5jb25jYXQobSkuY29uY2F0KGMpLHg9STtyZXR1cm4geC50eXBlPT09XCJ0cnItaW50XCI/eSs9XCJ0dHItaW50XCIuY29uY2F0KGMpLmNvbmNhdCh4LmludGVydmFsKTooeSs9XCJcIi5jb25jYXQoeC50eXBlKSx4LnBhcmFtZXRlciYmKHkrPVwiXCIuY29uY2F0KGMpLmNvbmNhdCh4LnBhcmFtZXRlcikseC5hZGRpdGlvbmFsJiYoeSs9XCJcIi5jb25jYXQoYykuY29uY2F0KHguYWRkaXRpb25hbCkpKSkseSt0aGlzLmVvbH1wcmludFB0aW1lKG0pe3JldHVybiBtPT09dm9pZCAwP1wiXCI6XCJhPXB0aW1lOlwiLmNvbmNhdChtKS5jb25jYXQodGhpcy5lb2wpfXByaW50TWF4UHRpbWUobSl7cmV0dXJuIG09PT12b2lkIDA/XCJcIjpcImE9bWF4cHRpbWU6XCIuY29uY2F0KG0pLmNvbmNhdCh0aGlzLmVvbCl9cHJpbnREaXJlY3Rpb24obSl7cmV0dXJuIG09PT12b2lkIDA/XCJcIjpcImE9XCIuY29uY2F0KG0pLmNvbmNhdCh0aGlzLmVvbCl9cHJpbnRTU1JDKG0pe3JldHVybiBtLm1hcChJPT5PYmplY3Qua2V5cyhJLmF0dHJpYnV0ZXMpLm1hcCh5PT5cImE9c3NyYzpcIi5jb25jYXQoSS5zc3JjSWQudG9TdHJpbmcoMTApKS5jb25jYXQoYykuY29uY2F0KHkpLmNvbmNhdChJLmF0dHJpYnV0ZXNbeV0/XCI6XCIuY29uY2F0KEkuYXR0cmlidXRlc1t5XSk6XCJcIikuY29uY2F0KHRoaXMuZW9sKSkuam9pbihcIlwiKSkuam9pbihcIlwiKX1wcmludFJUQ1BNdXgobSl7cmV0dXJuIG09PT12b2lkIDA/XCJcIjpcImE9cnRjcC1tdXhcIi5jb25jYXQodGhpcy5lb2wpfXByaW50UlRDUE11eE9ubHkobSl7cmV0dXJuIG09PT12b2lkIDA/XCJcIjpcImE9cnRjcC1tdXgtb25seVwiLmNvbmNhdCh0aGlzLmVvbCl9cHJpbnRSVENQUnNpemUobSl7cmV0dXJuIG09PT12b2lkIDA/XCJcIjpcImE9cnRjcC1yc2l6ZVwiLmNvbmNhdCh0aGlzLmVvbCl9cHJpbnRSVENQKG0pe2lmKG09PT12b2lkIDApcmV0dXJuIFwiXCI7bGV0IEk9XCJhPXJ0Y3A6XCIuY29uY2F0KG0ucG9ydCk7cmV0dXJuIG0ubmV0VHlwZSYmKEkrPVwiXCIuY29uY2F0KGMpLmNvbmNhdChtLm5ldFR5cGUpKSxtLmFkZHJlc3NUeXBlJiYoSSs9XCJcIi5jb25jYXQoYykuY29uY2F0KG0uYWRkcmVzc1R5cGUpKSxtLmFkZHJlc3MmJihJKz1cIlwiLmNvbmNhdChjKS5jb25jYXQobS5hZGRyZXNzKSksSSt0aGlzLmVvbH1wcmludE1TSWQobSl7cmV0dXJuIG0ubWFwKEk9PlwiYT1tc2lkOlwiLmNvbmNhdChJLmlkKS5jb25jYXQoSS5hcHBkYXRhP1wiXCIuY29uY2F0KGMpLmNvbmNhdChJLmFwcGRhdGEpOlwiXCIpLmNvbmNhdCh0aGlzLmVvbCkpLmpvaW4oXCJcIil9cHJpbnRJbWFnZWF0dHIobSl7cmV0dXJuIG0ubWFwKEk9PlwiYT1pbWFnZWF0dHI6XCIuY29uY2F0KEkpLmNvbmNhdCh0aGlzLmVvbCkpLmpvaW4oXCJcIil9cHJpbnRSaWQobSl7cmV0dXJuIG0ubWFwKEk9PntsZXQgeT1cImE9cmlkOlwiLmNvbmNhdChJLmlkKS5jb25jYXQoYykuY29uY2F0KEkuZGlyZWN0aW9uKTtyZXR1cm4gSS5wYXlsb2FkcyYmKHkrPVwiXCIuY29uY2F0KGMsXCJwdD1cIikuY29uY2F0KEkucGF5bG9hZHMuam9pbihcIixcIikpKSxJLnBhcmFtcy5sZW5ndGg+MCYmKHkrPVwiXCIuY29uY2F0KGMpLmNvbmNhdChJLnBhcmFtcy5tYXAoeD0+eC50eXBlPT09XCJkZXBlbmRcIj9cImRlcGVuZD1cIi5jb25jYXQoeC5yaWRzLmpvaW4oXCIsXCIpKTpcIlwiLmNvbmNhdCh4LnR5cGUsXCI9XCIpLmNvbmNhdCh4LnZhbCkpLmpvaW4oXCI7XCIpKSkseSt0aGlzLmVvbH0pLmpvaW4oXCJcIil9cHJpbnRTaW11bGNhc3QobSl7cmV0dXJuIG09PT12b2lkIDA/XCJcIjpcImE9c2ltdWxjYXN0OlwiLmNvbmNhdChtKS5jb25jYXQodGhpcy5lb2wpfXByaW50U0NUUFBvcnQobSl7cmV0dXJuIG09PT12b2lkIDA/XCJcIjpcImE9c2N0cC1wb3J0OlwiLmNvbmNhdChtKS5jb25jYXQodGhpcy5lb2wpfXByaW50TWF4TWVzc2FnZVNpemUobSl7cmV0dXJuIG09PT12b2lkIDA/XCJcIjpcImE9bWF4LW1lc3NhZ2Utc2l6ZTpcIi5jb25jYXQobSkuY29uY2F0KHRoaXMuZW9sKX1wcmludE1pZChtKXtyZXR1cm4gbT09PXZvaWQgMD9cIlwiOlwiYT1taWQ6XCIuY29uY2F0KG0pLmNvbmNhdCh0aGlzLmVvbCl9cHJpbnRTU1JDR3JvdXBzKG0pe3JldHVybiBtLm1hcChJPT5cImE9c3NyYy1ncm91cDpcIi5jb25jYXQoSS5zZW1hbnRpYykuY29uY2F0KEkuc3NyY0lkcy5tYXAoeT0+XCJcIi5jb25jYXQoYykuY29uY2F0KHkudG9TdHJpbmcoMTApKSkuam9pbihcIlwiKSkuY29uY2F0KHRoaXMuZW9sKSkuam9pbihcIlwiKX19ZnVuY3Rpb24gRihNKXtyZXR1cm4gbmV3IFYoKS5wYXJzZShNKX1mdW5jdGlvbiBZKE0sbSl7cmV0dXJuIG5ldyBjZSgpLnByaW50KE0sbSl9fX0sZT17fTtmdW5jdGlvbiBuKGkpe2lmKGVbaV0pcmV0dXJuIGVbaV0uZXhwb3J0czt2YXIgcj1lW2ldPXtleHBvcnRzOnt9fTtyZXR1cm4gdFtpXShyLHIuZXhwb3J0cyxuKSxyLmV4cG9ydHN9cmV0dXJuIG4uZD0oaSxyKT0+e2Zvcih2YXIgbyBpbiByKW4ubyhyLG8pJiYhbi5vKGksbykmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLG8se2VudW1lcmFibGU6ITAsZ2V0OnJbb119KTt9LG4ubz0oaSxyKT0+T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGksciksbi5yPWk9Pnt0eXBlb2YgU3ltYm9sPFwidVwiJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO30sbig4KX0pKCk7dmFyIExlPWUwLmV4cG9ydHM7ZnVuY3Rpb24gJEUoKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXZvaWQgMD9hcmd1bWVudHNbMF06dihcIlNWQ19NT0RFXCIpO2lmKHYoXCJFTkFCTEVfU1ZDXCIpKXJldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZSBpbiB4RX0odCk/dDp4RS5MMVQzfWZ1bmN0aW9uIEtJKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYoaT1pLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpLmVudW1lcmFibGV9KSksbi5wdXNoLmFwcGx5KG4saSk7fXJldHVybiBufWZ1bmN0aW9uIFlJKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXSE9bnVsbD9hcmd1bWVudHNbZV06e307ZSUyP0tJKE9iamVjdChuKSwhMCkuZm9yRWFjaChmdW5jdGlvbihpKXtUKHQsaSxuW2ldKTt9KTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpLSShPYmplY3QobikpLmZvckVhY2goZnVuY3Rpb24oaSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsaSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4saSkpO30pO31yZXR1cm4gdH1mdW5jdGlvbiBMYyh0KXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06e30sbj1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXZvaWQgMD9hcmd1bWVudHNbMl06e30saT1hcmd1bWVudHMubGVuZ3RoPjM/YXJndW1lbnRzWzNdOnZvaWQgMCx7ZmlsdGVyUlRYOnIsZmlsdGVyVmlkZW9GZWM6byxmaWx0ZXJBdWRpb0ZlYzpzLGZpbHRlckF1ZGlvQ29kZWM6YSxmaWx0ZXJWaWRlb0NvZGVjOmN9PWUse3VzZVhSOmR9PW4sbD1bXSx1PVtdLGg9W10scD1bXSxnPSExLEU9ITE7aWYoTGUucGFyc2UodCkubWVkaWFEZXNjcmlwdGlvbnMuZm9yRWFjaChTPT57aSYmaSE9PVMuYXR0cmlidXRlcy5kaXJlY3Rpb258fChTLm1lZGlhLm1lZGlhVHlwZSE9PVwidmlkZW9cInx8Z3x8KHU9Uy5hdHRyaWJ1dGVzLnBheWxvYWRzLHA9Uy5hdHRyaWJ1dGVzLmV4dG1hcHMsZz0hMCksUy5tZWRpYS5tZWRpYVR5cGUhPT1cImF1ZGlvXCJ8fEV8fChsPVMuYXR0cmlidXRlcy5wYXlsb2FkcyxoPVMuYXR0cmlidXRlcy5leHRtYXBzLEU9ITApKTt9KSwhcHx8dS5sZW5ndGg9PT0wKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgdmlkZW8gY2FwYWJpbGl0aWVzIGZyb20gU0RQLlwiKTtpZighaHx8bC5sZW5ndGg9PT0wKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgYXVkaW8gY2FwYWJpbGl0aWVzIGZyb20gU0RQLlwiKTtpZih1LmZvckVhY2goUz0+e3ZhciBDOyhDPVMucnRwTWFwKSE9PW51bGwmJkMhPT12b2lkIDAmJkMuY2xvY2tSYXRlJiYoUy5ydHBNYXAuY2xvY2tSYXRlPXBhcnNlSW50KFMucnRwTWFwLmNsb2NrUmF0ZSkpLGQmJlMucnRjcEZlZWRiYWNrcy5wdXNoKHt0eXBlOlwicnJ0clwifSk7fSksbC5mb3JFYWNoKFM9Pnt2YXIgQzsoQz1TLnJ0cE1hcCkhPT1udWxsJiZDIT09dm9pZCAwJiZDLmNsb2NrUmF0ZSYmKFMucnRwTWFwLmNsb2NrUmF0ZT1wYXJzZUludChTLnJ0cE1hcC5jbG9ja1JhdGUpKSxkJiZTLnJ0Y3BGZWVkYmFja3MucHVzaCh7dHlwZTpcInJydHJcIn0pO30pLHImJihsPWwuZmlsdGVyKFM9Pnt2YXIgQztyZXR1cm4gKChDPVMucnRwTWFwKT09PW51bGx8fEM9PT12b2lkIDA/dm9pZCAwOkMuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCkpIT09XCJydHhcIn0pLHU9dS5maWx0ZXIoUz0+e3ZhciBDO3JldHVybiAoKEM9Uy5ydHBNYXApPT09bnVsbHx8Qz09PXZvaWQgMD92b2lkIDA6Qy5lbmNvZGluZ05hbWUudG9Mb3dlckNhc2UoKSkhPT1cInJ0eFwifSkpLG8mJih1PXUuZmlsdGVyKFM9Pnt2YXIgQztyZXR1cm4gIS8ocmVkKXwodWxwZmVjKXwoZmxleGZlYykvaS50ZXN0KCgoQz1TLnJ0cE1hcCk9PT1udWxsfHxDPT09dm9pZCAwP3ZvaWQgMDpDLmVuY29kaW5nTmFtZSl8fFwiXCIpfSkpLHMmJihsPWwuZmlsdGVyKFM9Pnt2YXIgQztyZXR1cm4gIS8ocmVkKXwodWxwZmVjKXwoZmxleGZlYykvaS50ZXN0KCgoQz1TLnJ0cE1hcCk9PT1udWxsfHxDPT09dm9pZCAwP3ZvaWQgMDpDLmVuY29kaW5nTmFtZSl8fFwiXCIpfSkpLGEmJmE/Lmxlbmd0aD4wJiYobD1sLmZpbHRlcihTPT57dmFyIEM7cmV0dXJuIFcoYSkuY2FsbChhLCgoQz1TLnJ0cE1hcCk9PT1udWxsfHxDPT09dm9pZCAwP3ZvaWQgMDpDLmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpKXx8XCJcIil9KSksYyYmYz8ubGVuZ3RoPjApe2xldCBTPXUuZmlsdGVyKEM9Pnt2YXIgQTtyZXR1cm4gVyhjKS5jYWxsKGMsKChBPUMucnRwTWFwKT09PW51bGx8fEE9PT12b2lkIDA/dm9pZCAwOkEuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCkpfHxcIlwiKX0pO3U9Uy5jb25jYXQocj9bXTp5ZihTLHUpKTt9bGV0IGY9dihcIlVOU1VQUE9SVEVEX1ZJREVPX0NPREVDXCIpO3JldHVybiBmJiZmLmxlbmd0aD4wJiYodT11LmZpbHRlcihTPT4hKFMucnRwTWFwJiZXKGYpLmNhbGwoZixTLnJ0cE1hcC5lbmNvZGluZ05hbWUudG9Mb3dlckNhc2UoKSkpKSkse2F1ZGlvQ29kZWNzOmwsdmlkZW9Db2RlY3M6dSxhdWRpb0V4dGVuc2lvbnM6aCx2aWRlb0V4dGVuc2lvbnM6cH19ZnVuY3Rpb24gaW8odCl7bGV0IGU9TGUucGFyc2UodCksbixpO2ZvcihsZXQgciBvZiBlLm1lZGlhRGVzY3JpcHRpb25zKXtpZighbil7bGV0IG89ci5hdHRyaWJ1dGVzLmljZVVmcmFnLHM9ci5hdHRyaWJ1dGVzLmljZVB3ZDtpZighb3x8IXMpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCBpY2VVZnJhZyBvciBpY2VQd2QgZnJvbSBTRFAuXCIpO249e2ljZVVmcmFnOm8saWNlUHdkOnN9O31pZighaSl7bGV0IG89ci5hdHRyaWJ1dGVzLmZpbmdlcnByaW50cztvLmxlbmd0aD4wJiYoaT17ZmluZ2VycHJpbnRzOm99KTt9fWlmKCFpJiZlLmF0dHJpYnV0ZXMuZmluZ2VycHJpbnRzLmxlbmd0aD4wJiYoaT17ZmluZ2VycHJpbnRzOmUuYXR0cmlidXRlcy5maW5nZXJwcmludHN9KSwhaXx8IW4pdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCBpY2VQYXJhbWV0ZXJzIG9yIGR0bHNQYXJhbWV0ZXJzIGZyb20gU0RQLlwiKTtyZXR1cm4ge2ljZVBhcmFtZXRlcnM6bixkdGxzUGFyYW1ldGVyczppfX1mdW5jdGlvbiBuMCh0LGUpe2xldCBuPVtdLGk9dC5hdHRyaWJ1dGVzLnNzcmNHcm91cHMuZmlsdGVyKHM9PnMuc2VtYW50aWM9PT1cIkZJRFwiKSxyPXQuYXR0cmlidXRlcy5zc3JjR3JvdXBzLmZpbmQocz0+cy5zZW1hbnRpYz09PVwiU0lNXCIpLG89dC5hdHRyaWJ1dGVzLnNzcmNzO2lmKHIpci5zc3JjSWRzLmZvckVhY2gocz0+e3ZhciBhO2xldCBjPShhPWkuZmluZChkPT5kLnNzcmNJZHNbMF09PT1zKSk9PT1udWxsfHxhPT09dm9pZCAwP3ZvaWQgMDphLnNzcmNJZHNbMV07bi5wdXNoKHtzc3JjSWQ6cyxydHg6ZT9jOnZvaWQgMH0pO30pO2Vsc2UgaWYoaS5sZW5ndGg+MCl7bGV0IHM9aVswXS5zc3JjSWRzWzBdLGE9aVswXS5zc3JjSWRzWzFdO24ucHVzaCh7c3NyY0lkOnMscnR4OmU/YTp2b2lkIDB9KTt9ZWxzZSB7aWYoby5sZW5ndGg9PT0wKXRocm93IG5ldyBFcnJvcihcIk5vIHNzcmNzIGZvdW5kIG9uIGxvY2FsIG1lZGlhIGRlc2NyaXB0aW9uLlwiKTtuLnB1c2goe3NzcmNJZDpvWzBdLnNzcmNJZH0pO31yZXR1cm4gbn1mdW5jdGlvbiBxSSh0LGUsbil7bGV0e2NuYW1lOml9PXQscjtlP3I9aTAoZSk6KHI9dC5pY2VQYXJhbWV0ZXJzLmNhbmRpZGF0ZXMubWFwKGw9Pih7Zm91bmRhdGlvbjpsLmZvdW5kYXRpb24sY29tcG9uZW50SWQ6XCIxXCIsdHJhbnNwb3J0OmwucHJvdG9jb2wscHJpb3JpdHk6bC5wcmlvcml0eS50b1N0cmluZygpLGNvbm5lY3Rpb25BZGRyZXNzOmwuaXAscG9ydDpsLnBvcnQudG9TdHJpbmcoKSx0eXBlOmwudHlwZSxleHRlbnNpb246e319KSksXy5kZWJ1ZyhcIlVzaW5nIGNhbmRpZGF0ZXMgZnJvbSBnYXRld2F5LlwiKSk7bGV0IG89e2ZpbmdlcnByaW50czp0LmR0bHNQYXJhbWV0ZXJzLmZpbmdlcnByaW50cy5tYXAobD0+KHtoYXNoRnVuY3Rpb246bC5hbGdvcml0aG0sZmluZ2VycHJpbnQ6bC5maW5nZXJwcmludH0pKX0scz17aWNlVWZyYWc6dC5pY2VQYXJhbWV0ZXJzLmljZVVmcmFnLGljZVB3ZDp0LmljZVBhcmFtZXRlcnMuaWNlUHdkfSxhO3N3aXRjaCh0LmR0bHNQYXJhbWV0ZXJzLnJvbGUpe2Nhc2VcInNlcnZlclwiOmE9XCJwYXNzaXZlXCI7YnJlYWs7Y2FzZVwiY2xpZW50XCI6YT1cImFjdGl2ZVwiO2JyZWFrO2Nhc2VcImF1dG9cIjphPVwiYWN0cGFzc1wiO31sZXQgYz11dSh0LnJ0cENhcGFiaWxpdGllcyksZD1bXTtyZXR1cm4gQXJyYXkuaXNBcnJheShuKSYmbi5sZW5ndGg+MCYmbi5mb3JFYWNoKGw9PntkLnB1c2goe2tpbmQ6US5WSURFTyxzc3JjSWQ6bC52LHJ0eDpsLnZfcnR4LG1zbGFiZWw6XCJcIi5jb25jYXQobC52LFwiX1wiKS5jb25jYXQobC5hKX0se2tpbmQ6US5BVURJTyxzc3JjSWQ6bC5hLG1zbGFiZWw6XCJcIi5jb25jYXQobC52LFwiX1wiKS5jb25jYXQobC5hKX0pO30pLHtkdGxzUGFyYW1ldGVyczpvLGljZVBhcmFtZXRlcnM6cyxjYW5kaWRhdGVzOnIscnRwQ2FwYWJpbGl0aWVzOmMsc2V0dXA6YSxjbmFtZTppLHByZVNTUkNzOmR9fWZ1bmN0aW9uIGkwKHQpe2xldCBlPVtdO3JldHVybiB0LmlwJiZ0eXBlb2YgdC5wb3J0PT1cIm51bWJlclwiJiYoZT1be2ZvdW5kYXRpb246XCJ1ZHBjYW5kaWRhdGVcIixjb21wb25lbnRJZDpcIjFcIix0cmFuc3BvcnQ6XCJ1ZHBcIixwcmlvcml0eTpcIjIxMDMyNjYzMjNcIixjb25uZWN0aW9uQWRkcmVzczp0LmlwLHBvcnQ6dC5wb3J0LnRvU3RyaW5nKCksdHlwZTpcImhvc3RcIixleHRlbnNpb246e319XSxfLmRlYnVnKFwiVXNpbmcgcmVtb3RlIGNhbmRpZGF0ZSBmcm9tIEFQIFwiLmNvbmNhdCh0LmlwLFwiOlwiKS5jb25jYXQodC5wb3J0KSksdC5pcDYmJihlLnB1c2goe2ZvdW5kYXRpb246XCJ1ZHBjYW5kaWRhdGVcIixjb21wb25lbnRJZDpcIjFcIix0cmFuc3BvcnQ6XCJ1ZHBcIixwcmlvcml0eTpcIjIxMDMyNjYzMjNcIixjb25uZWN0aW9uQWRkcmVzczp0LmlwNixwb3J0OnQucG9ydC50b1N0cmluZygpLHR5cGU6XCJob3N0XCIsZXh0ZW5zaW9uOnt9fSksXy5kZWJ1ZyhcIlVzaW5nIElQVjYgcmVtb3RlIGNhbmRpZGF0ZSBmcm9tIEFQIFwiLmNvbmNhdCh0LmlwNixcIjpcIikuY29uY2F0KHQucG9ydCkpKSksZX1mdW5jdGlvbiBMbyh0LGUsbil7bGV0IGk9W10scj1bXTtyZXR1cm4gdC5mb3JFYWNoKG89PntsZXR7c3NyY0lkOnMscnR4OmF9PW8sYz1VdCg4LFwidHJhY2stXCIpLGQ9e3NzcmNJZDpzLGF0dHJpYnV0ZXM6WUkoe2xhYmVsOmMsbXNsYWJlbDpuPW58fFV0KDEwLFwiXCIpLG1zaWQ6XCJcIi5jb25jYXQobixcIiBcIikuY29uY2F0KGMpfSxlJiZ7Y25hbWU6ZX0pfTtpZihpLnB1c2goZCksYSE9PXZvaWQgMCl7bGV0IGw9e3NzcmNJZDphLGF0dHJpYnV0ZXM6WUkoe2xhYmVsOmMsbXNsYWJlbDpuLG1zaWQ6XCJcIi5jb25jYXQobixcIiBcIikuY29uY2F0KGMpfSxlJiZ7Y25hbWU6ZX0pfTtpLnB1c2gobCksci5wdXNoKHtzZW1hbnRpYzpcIkZJRFwiLHNzcmNJZHM6W3MsYV19KTt9fSksdC5sZW5ndGg+MSYmci5wdXNoKHtzZW1hbnRpYzpcIlNJTVwiLHNzcmNJZHM6dC5tYXAobz0+e2xldHtzc3JjSWQ6c309bztyZXR1cm4gc30pfSkse3NzcmNzOmksc3NyY0dyb3VwczpyfX1mdW5jdGlvbiByYSh0LGUpe2UgaW5zdGFuY2VvZiBRdCYmdC5hdHRyaWJ1dGVzLnBheWxvYWRzLmZvckVhY2gobj0+e3ZhciBpO2xldCByPShpPW4ucnRwTWFwKT09PW51bGx8fGk9PT12b2lkIDA/dm9pZCAwOmkuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCk7aWYoIXJ8fFtcIm9wdXNcIixcInBjbXVcIixcInBjbWFcIixcImc3MjJcIl0uaW5kZXhPZihyKT09PS0xKXJldHVybjtuLmZtdHB8fChuLmZtdHA9e3BhcmFtZXRlcnM6e319KSxuLmZtdHAucGFyYW1ldGVycy5taW5wdGltZT1cIjEwXCIsbi5mbXRwLnBhcmFtZXRlcnMudXNlaW5iYW5kZmVjPVwiMVwiO2xldCBvPWUuX2VuY29kZXJDb25maWc7byYmciE9PVwicGNtdVwiJiZyIT09XCJwY21hXCImJnIhPT1cImc3MjJcIiYmKG8uYml0cmF0ZSYmISR0KCkmJihuLmZtdHAucGFyYW1ldGVycy5tYXhhdmVyYWdlYml0cmF0ZT1cIlwiLmNvbmNhdChNYXRoLmZsb29yKDFlMypvLmJpdHJhdGUpKSksby5zYW1wbGVSYXRlJiYobi5mbXRwLnBhcmFtZXRlcnMubWF4cGxheWJhY2tyYXRlPVwiXCIuY29uY2F0KG8uc2FtcGxlUmF0ZSksbi5mbXRwLnBhcmFtZXRlcnNbXCJzcHJvcC1tYXhjYXB0dXJlcmF0ZVwiXT1cIlwiLmNvbmNhdChvLnNhbXBsZVJhdGUpKSxvLnN0ZXJlbyYmKG4uZm10cC5wYXJhbWV0ZXJzLnN0ZXJlbz1cIjFcIixuLmZtdHAucGFyYW1ldGVyc1tcInNwcm9wLXN0ZXJlb1wiXT1cIjFcIikpO30pO31mdW5jdGlvbiBJZih0KXtsZXQgZT10LmF0dHJpYnV0ZXMudW5yZWNvZ25pemVkLmZpbmRJbmRleChuPT5uLmF0dEZpZWxkPT09XCJ4LWdvb2dsZS1mbGFnXCImJm4uYXR0VmFsdWU9PT1cImNvbmZlcmVuY2VcIik7ZSE9PS0xJiZ0LmF0dHJpYnV0ZXMudW5yZWNvZ25pemVkLnNwbGljZShlLDEpO31mdW5jdGlvbiB2Zih0LGUpe3ZhciBuO2lmKCEoZSBpbnN0YW5jZW9mIEZ0JiZlLl9lbmNvZGVyQ29uZmlnJiZlLl9oaW50cy5pbmRleE9mKEd0LlNDUkVFTl9UUkFDSyk9PT0tMSkpcmV0dXJuO2xldCBpPWUuX2VuY29kZXJDb25maWc7ZnQoKS5zdXBwb3J0TWluQml0cmF0ZSYmaS5iaXRyYXRlTWluJiZ0LmF0dHJpYnV0ZXMucGF5bG9hZHMuZm9yRWFjaChyPT57dmFyIG8scztXKG89W1wiaDI2NFwiLFwiaDI2NVwiLFwidnA4XCIsXCJ2cDlcIixcImF2MVwiXSkuY2FsbChvLCgocz1yLnJ0cE1hcCk9PT1udWxsfHxzPT09dm9pZCAwP3ZvaWQgMDpzLmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpKXx8XCJcIikmJihyLmZtdHB8fChyLmZtdHA9e3BhcmFtZXRlcnM6e319KSxyLmZtdHAucGFyYW1ldGVyc1tcIngtZ29vZ2xlLW1pbi1iaXRyYXRlXCJdPVwiXCIuY29uY2F0KGkuYml0cmF0ZU1pbikpO30pLGZ0KCkuc3VwcG9ydE1pbkJpdHJhdGUmJiFXKG49ZS5faGludHMpLmNhbGwobixHdC5MT1dfU1RSRUFNKSYmaS5iaXRyYXRlTWF4JiZ0LmF0dHJpYnV0ZXMucGF5bG9hZHMuZm9yRWFjaChyPT57dmFyIG8scztXKG89W1wiaDI2NFwiLFwiaDI2NVwiLFwidnA4XCIsXCJ2cDlcIixcImF2MVwiXSkuY2FsbChvLCgocz1yLnJ0cE1hcCk9PT1udWxsfHxzPT09dm9pZCAwP3ZvaWQgMDpzLmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpKXx8XCJcIikmJihyLmZtdHB8fChyLmZtdHA9e3BhcmFtZXRlcnM6e319KSxyLmZtdHAucGFyYW1ldGVyc1tcIngtZ29vZ2xlLXN0YXJ0LWJpdHJhdGVcIl09XCJcIi5jb25jYXQodihcIlhfR09PR0xFX1NUQVJUX0JJVFJBVEVcIil8fE1hdGguZmxvb3IoaS5iaXRyYXRlTWF4KSkpO30pO31mdW5jdGlvbiByMCh0KXtpZih0Lm1lZGlhLm1lZGlhVHlwZSE9PVwidmlkZW9cIilyZXR1cm47bGV0IGU9bXQoKTtpZihlLm5hbWUhPT1JdC5TQUZBUkkmJmUub3MhPT15ZS5JT1MpcmV0dXJuO2xldCBuPXQuYXR0cmlidXRlcy5leHRtYXBzLmZpbmRJbmRleChpPT4vdmlkZW8tb3JpZW50YXRpb24vZy50ZXN0KGkuZXh0ZW5zaW9uTmFtZSkpO24hPT0tMSYmdC5hdHRyaWJ1dGVzLmV4dG1hcHMuc3BsaWNlKG4sMSk7fWZ1bmN0aW9uIGx1KHQsZSxuKXtpZighZSlyZXR1cm47bGV0IGkscjtpZih0Lm1lZGlhLm1lZGlhVHlwZT09PVwidmlkZW9cIj8oaT1uLnZpZGVvRXh0ZW5zaW9ucyxyPW4udmlkZW9Db2RlY3MpOihpPW4uYXVkaW9FeHRlbnNpb25zLHI9bi5hdWRpb0NvZGVjcyksZS50d2NjPT09ITApe2xldCBvPWkuZmluZChzPT5zLmV4dGVuc2lvbk5hbWU9PT1cImh0dHA6Ly93d3cuaWV0Zi5vcmcvaWQvZHJhZnQtaG9sbWVyLXJtY2F0LXRyYW5zcG9ydC13aWRlLWNjLWV4dGVuc2lvbnMtMDFcIik7byYmKHQuYXR0cmlidXRlcy5leHRtYXBzLmZpbmQoYT0+YS5leHRlbnNpb25OYW1lPT09XCJodHRwOi8vd3d3LmlldGYub3JnL2lkL2RyYWZ0LWhvbG1lci1ybWNhdC10cmFuc3BvcnQtd2lkZS1jYy1leHRlbnNpb25zLTAxXCIpfHx0LmF0dHJpYnV0ZXMuZXh0bWFwcy5wdXNoKHtlbnRyeTpvLmVudHJ5LGV4dGVuc2lvbk5hbWU6XCJodHRwOi8vd3d3LmlldGYub3JnL2lkL2RyYWZ0LWhvbG1lci1ybWNhdC10cmFuc3BvcnQtd2lkZS1jYy1leHRlbnNpb25zLTAxXCJ9KSxmdW5jdGlvbihhLGMpe3JldHVybiBjLmZpbHRlcihkPT4hIWEuZmluZChsPT5sLnBheWxvYWRUeXBlPT09ZC5wYXlsb2FkVHlwZSYmISFsLnJ0Y3BGZWVkYmFja3MuZmluZCh1PT51LnR5cGU9PT1cInRyYW5zcG9ydC1jY1wiKSkpfShyLHQuYXR0cmlidXRlcy5wYXlsb2FkcykuZm9yRWFjaChhPT57YS5ydGNwRmVlZGJhY2tzLmZpbmQoYz0+Yy50eXBlPT09XCJ0cmFuc3BvcnQtY2NcIil8fGEucnRjcEZlZWRiYWNrcy5wdXNoKHt0eXBlOlwidHJhbnNwb3J0LWNjXCJ9KTt9KSk7fWVsc2UgaWYoZS50d2NjPT09ITEpe2xldCBvPXQuYXR0cmlidXRlcy5leHRtYXBzLmZpbmRJbmRleChzPT5zLmV4dGVuc2lvbk5hbWU9PT1cImh0dHA6Ly93d3cuaWV0Zi5vcmcvaWQvZHJhZnQtaG9sbWVyLXJtY2F0LXRyYW5zcG9ydC13aWRlLWNjLWV4dGVuc2lvbnMtMDFcIik7byE9PS0xJiZ0LmF0dHJpYnV0ZXMuZXh0bWFwcy5zcGxpY2UobywxKSx0LmF0dHJpYnV0ZXMucGF5bG9hZHMuZm9yRWFjaChzPT57bGV0IGE9cy5ydGNwRmVlZGJhY2tzLmZpbmRJbmRleChjPT5jLnR5cGU9PT1cInRyYW5zcG9ydC1jY1wiKTthIT09LTEmJnMucnRjcEZlZWRiYWNrcy5zcGxpY2UoYSwxKTt9KTt9aWYoZS5yZW1iPT09ITApe2xldCBvPWkuZmluZChzPT5zLmV4dGVuc2lvbk5hbWU9PT1cImh0dHA6Ly93d3cud2VicnRjLm9yZy9leHBlcmltZW50cy9ydHAtaGRyZXh0L2Ficy1zZW5kLXRpbWVcIik7byYmKHQuYXR0cmlidXRlcy5leHRtYXBzLmZpbmQoYT0+YS5leHRlbnNpb25OYW1lPT09XCJodHRwOi8vd3d3LndlYnJ0Yy5vcmcvZXhwZXJpbWVudHMvcnRwLWhkcmV4dC9hYnMtc2VuZC10aW1lXCIpfHx0LmF0dHJpYnV0ZXMuZXh0bWFwcy5wdXNoKHtlbnRyeTpvLmVudHJ5LGV4dGVuc2lvbk5hbWU6XCJodHRwOi8vd3d3LndlYnJ0Yy5vcmcvZXhwZXJpbWVudHMvcnRwLWhkcmV4dC9hYnMtc2VuZC10aW1lXCJ9KSxmdW5jdGlvbihhLGMpe3JldHVybiBjLmZpbHRlcihkPT4hIWEuZmluZChsPT5sLnBheWxvYWRUeXBlPT09ZC5wYXlsb2FkVHlwZSYmISFsLnJ0Y3BGZWVkYmFja3MuZmluZCh1PT51LnR5cGU9PT1cImdvb2ctcmVtYlwiKSkpfShyLHQuYXR0cmlidXRlcy5wYXlsb2FkcykuZm9yRWFjaChhPT57YS5ydGNwRmVlZGJhY2tzLmZpbmQoYz0+Yy50eXBlPT09XCJnb29nLXJlbWJcIil8fGEucnRjcEZlZWRiYWNrcy5wdXNoKHt0eXBlOlwiZ29vZy1yZW1iXCJ9KTt9KSk7fWVsc2UgaWYoZS5yZW1iPT09ITEpe2xldCBvPXQuYXR0cmlidXRlcy5leHRtYXBzLmZpbmRJbmRleChzPT5zLmV4dGVuc2lvbk5hbWU9PT1cImh0dHA6Ly93d3cud2VicnRjLm9yZy9leHBlcmltZW50cy9ydHAtaGRyZXh0L2Ficy1zZW5kLXRpbWVcIik7byE9PS0xJiZ0LmF0dHJpYnV0ZXMuZXh0bWFwcy5zcGxpY2UobywxKSx0LmF0dHJpYnV0ZXMucGF5bG9hZHMuZm9yRWFjaChzPT57bGV0IGE9cy5ydGNwRmVlZGJhY2tzLmZpbmRJbmRleChjPT5jLnR5cGU9PT1cImdvb2ctcmVtYlwiKTthIT09LTEmJnMucnRjcEZlZWRiYWNrcy5zcGxpY2UoYSwxKTt9KTt9fWZ1bmN0aW9uIG8wKHQsZSxuKXtpZigkdCgpfHx0Lm1lZGlhLm1lZGlhVHlwZSE9PVwidmlkZW9cInx8IShlIGluc3RhbmNlb2YgRnQpfHxuIT09XCJ2cDlcIiYmbiE9PVwidnA4XCJ8fG49PT1cInZwOFwiJiYhdihcIlNJTVVMQ0FTVFwiKXx8bj09PVwidnA5XCImJnYoXCJFTkFCTEVfU1ZDXCIpfHxlLl9zY2FsYWJpbGl0eU1vZGU9PT12b2lkIDB8fGUuX3NjYWxhYmlsaXR5TW9kZS5udW1TcGF0aWFsTGF5ZXJzPD0xKXJldHVybjtsZXQgaT1uPT09XCJ2cDhcIj8yOmUuX3NjYWxhYmlsaXR5TW9kZS5udW1TcGF0aWFsTGF5ZXJzLHI9dC5hdHRyaWJ1dGVzLnNzcmNzWzBdLG89dC5hdHRyaWJ1dGVzLnNzcmNHcm91cHMuZmluZChhPT5hLnNlbWFudGljPT09XCJGSURcIiYmYS5zc3JjSWRzWzBdPT09ci5zc3JjSWQpLHM9e3NlbWFudGljOlwiU0lNXCIsc3NyY0lkczpbci5zc3JjSWRdfTtmb3IobGV0IGE9MTthPGk7YSsrKXQuYXR0cmlidXRlcy5zc3Jjcy5wdXNoKHtzc3JjSWQ6ci5zc3JjSWQrYSxhdHRyaWJ1dGVzOmxlKHIuYXR0cmlidXRlcyl9KSxzLnNzcmNJZHMucHVzaChyLnNzcmNJZCthKSxvJiYodC5hdHRyaWJ1dGVzLnNzcmNzLnB1c2goe3NzcmNJZDpvLnNzcmNJZHNbMV0rYSxhdHRyaWJ1dGVzOmxlKHIuYXR0cmlidXRlcyl9KSx0LmF0dHJpYnV0ZXMuc3NyY0dyb3Vwcy5wdXNoKHtzZW1hbnRpYzpcIkZJRFwiLHNzcmNJZHM6W3Iuc3NyY0lkK2Esby5zc3JjSWRzWzFdK2FdfSkpO3QuYXR0cmlidXRlcy5zc3JjR3JvdXBzLnVuc2hpZnQocyk7fWFzeW5jIGZ1bmN0aW9uIHMwKCl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT12b2lkIDA/YXJndW1lbnRzWzBdOnt9LGU9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOnt9LG49bmV3IFJUQ1BlZXJDb25uZWN0aW9uO24uYWRkVHJhbnNjZWl2ZXIoXCJ2aWRlb1wiLHtkaXJlY3Rpb246XCJzZW5kb25seVwifSksbi5hZGRUcmFuc2NlaXZlcihcImF1ZGlvXCIse2RpcmVjdGlvbjpcInNlbmRvbmx5XCJ9KSxuLmFkZFRyYW5zY2VpdmVyKFwidmlkZW9cIix7ZGlyZWN0aW9uOlwicmVjdm9ubHlcIn0pLG4uYWRkVHJhbnNjZWl2ZXIoXCJhdWRpb1wiLHtkaXJlY3Rpb246XCJyZWN2b25seVwifSk7bGV0IGk9KGF3YWl0IG4uY3JlYXRlT2ZmZXIoKSkuc2RwLHtzZW5kOnIscmVjdjpvLHNlbmRyZWN2OnN9PWZ1bmN0aW9uKCl7bGV0IGE9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT12b2lkIDA/YXJndW1lbnRzWzBdOnt9LGM9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOnt9LGQ9YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDAsbD1MYyhkLGEsYyxcInNlbmRvbmx5XCIpLHU9TGMoZCxhLGMsXCJyZWN2b25seVwiKSxoPXthdWRpb0NvZGVjczpbXSxhdWRpb0V4dGVuc2lvbnM6W10sdmlkZW9Db2RlY3M6W10sdmlkZW9FeHRlbnNpb25zOltdfSxwPXthdWRpb0NvZGVjczpbXSxhdWRpb0V4dGVuc2lvbnM6W10sdmlkZW9Db2RlY3M6W10sdmlkZW9FeHRlbnNpb25zOltdfSxnPXthdWRpb0NvZGVjczpbXSxhdWRpb0V4dGVuc2lvbnM6W10sdmlkZW9Db2RlY3M6W10sdmlkZW9FeHRlbnNpb25zOltdfTtpZihJaShsLHUsXCJ2aWRlb0V4dGVuc2lvbnNcIixoLHAsZyksSWkobCx1LFwidmlkZW9Db2RlY3NcIixoLHAsZyksSWkobCx1LFwiYXVkaW9FeHRlbnNpb25zXCIsaCxwLGcpLElpKGwsdSxcImF1ZGlvQ29kZWNzXCIsaCxwLGcpLHYoXCJSQUlTRV9IMjY0X0JBU0VMSU5FX1BSSU9SSVRZXCIpKXtsZXQgRT1nLnZpZGVvQ29kZWNzLmZpbmRJbmRleChmPT57dmFyIFMsQztyZXR1cm4gKChTPWYucnRwTWFwKT09PW51bGx8fFM9PT12b2lkIDA/dm9pZCAwOlMuZW5jb2RpbmdOYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCkpPT09XCJoMjY0XCImJigoQz1mLmZtdHApPT09bnVsbHx8Qz09PXZvaWQgMD92b2lkIDA6Qy5wYXJhbWV0ZXJzW1wicHJvZmlsZS1sZXZlbC1pZFwiXSk9PT1cIjQyMDAxZlwifSk7aWYoRSE9PS0xKXtsZXQgZj1nLnZpZGVvQ29kZWNzLmZpbmRJbmRleChTPT57dmFyIEM7cmV0dXJuICgoQz1TLnJ0cE1hcCk9PT1udWxsfHxDPT09dm9pZCAwP3ZvaWQgMDpDLmVuY29kaW5nTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpKT09PVwiaDI2NFwifSk7aWYoZjxFKXtfLmRlYnVnKFwicmFpc2luZyBIMjY0IGJhc2VsaW5lIHByb2ZpbGUgcHJpb3JpdHlcIik7bGV0IFM9Zy52aWRlb0NvZGVjc1tFXTtnLnZpZGVvQ29kZWNzLnNwbGljZShFLDEpLGcudmlkZW9Db2RlY3Muc3BsaWNlKGYsMCxTKTt9ZiE9PS0xJiYocC52aWRlb0NvZGVjcz1wLnZpZGVvQ29kZWNzLmZpbHRlcihTPT57dmFyIEMsQTtyZXR1cm4gISgoKEM9Uy5ydHBNYXApPT09bnVsbHx8Qz09PXZvaWQgMD92b2lkIDA6Qy5lbmNvZGluZ05hbWUudG9Mb2NhbGVMb3dlckNhc2UoKSk9PT1cImgyNjRcIiYmKChBPVMuZm10cCk9PT1udWxsfHxBPT09dm9pZCAwP3ZvaWQgMDpBLnBhcmFtZXRlcnNbXCJwcm9maWxlLWxldmVsLWlkXCJdKSE9PVwiNDIwMDFmXCIpfSkpLGYhPT0tMSYmdihcIkZJTFRFUl9TRU5EX0gyNjRfQkFTRUxJTkVcIikmJihoLnZpZGVvQ29kZWNzPWgudmlkZW9Db2RlY3MuZmlsdGVyKFM9Pnt2YXIgQyxBO3JldHVybiAhKCgoQz1TLnJ0cE1hcCk9PT1udWxsfHxDPT09dm9pZCAwP3ZvaWQgMDpDLmVuY29kaW5nTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpKT09PVwiaDI2NFwiJiYoKEE9Uy5mbXRwKT09PW51bGx8fEE9PT12b2lkIDA/dm9pZCAwOkEucGFyYW1ldGVyc1tcInByb2ZpbGUtbGV2ZWwtaWRcIl0pIT09XCI0MjAwMWZcIil9KSk7fX1yZXR1cm4ge3NlbmQ6aCxyZWN2OnAsc2VuZHJlY3Y6Z319KHQsZSxpKTt0cnl7bi5jbG9zZSgpO31jYXRjaHt9cmV0dXJuIHtzZW5kOnIscmVjdjpvLHNlbmRyZWN2OnN9fWZ1bmN0aW9uIHpJKCl7bGV0IHQ9e2F1ZGlvQ29kZWNzOltdLHZpZGVvQ29kZWNzOltdLGF1ZGlvRXh0ZW5zaW9uczpbXSx2aWRlb0V4dGVuc2lvbnM6W119LGU9TGMoYXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDAsYXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT12b2lkIDA/YXJndW1lbnRzWzBdOnt9LGFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTp7fSxcInJlY3Zvbmx5XCIpLG49e2F1ZGlvQ29kZWNzOltdLGF1ZGlvRXh0ZW5zaW9uczpbXSx2aWRlb0NvZGVjczpbXSx2aWRlb0V4dGVuc2lvbnM6W119LGk9e2F1ZGlvQ29kZWNzOltdLGF1ZGlvRXh0ZW5zaW9uczpbXSx2aWRlb0NvZGVjczpbXSx2aWRlb0V4dGVuc2lvbnM6W119LHI9e2F1ZGlvQ29kZWNzOltdLGF1ZGlvRXh0ZW5zaW9uczpbXSx2aWRlb0NvZGVjczpbXSx2aWRlb0V4dGVuc2lvbnM6W119O2lmKElpKHQsZSxcInZpZGVvRXh0ZW5zaW9uc1wiLG4saSxyKSxJaSh0LGUsXCJ2aWRlb0NvZGVjc1wiLG4saSxyKSxJaSh0LGUsXCJhdWRpb0V4dGVuc2lvbnNcIixuLGksciksSWkodCxlLFwiYXVkaW9Db2RlY3NcIixuLGksciksdihcIlJBSVNFX0gyNjRfQkFTRUxJTkVfUFJJT1JJVFlcIikpe2xldCBvPXIudmlkZW9Db2RlY3MuZmluZEluZGV4KHM9PnMucnRwTWFwJiZzLnJ0cE1hcC5lbmNvZGluZ05hbWUudG9Mb2NhbGVMb3dlckNhc2UoKT09PVwiaDI2NFwiJiZzLmZtdHAmJnMuZm10cC5wYXJhbWV0ZXJzW1wicHJvZmlsZS1sZXZlbC1pZFwiXT09PVwiNDIwMDFmXCIpO2lmKG8hPT0tMSl7bGV0IHM9ci52aWRlb0NvZGVjcy5maW5kSW5kZXgoYT0+YS5ydHBNYXAmJmEucnRwTWFwLmVuY29kaW5nTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpPT09XCJoMjY0XCIpO2lmKHM8byl7Xy5kZWJ1ZyhcInJhaXNpbmcgSDI2NCBiYXNlbGluZSBwcm9maWxlIHByaW9yaXR5XCIpO2xldCBhPXIudmlkZW9Db2RlY3Nbb107ci52aWRlb0NvZGVjcy5zcGxpY2UobywxKSxyLnZpZGVvQ29kZWNzLnNwbGljZShzLDAsYSk7fXMhPT0tMSYmKGkudmlkZW9Db2RlY3M9aS52aWRlb0NvZGVjcy5maWx0ZXIoYT0+IShhLnJ0cE1hcCYmYS5ydHBNYXAuZW5jb2RpbmdOYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCk9PT1cImgyNjRcIiYmYS5mbXRwJiZhLmZtdHAucGFyYW1ldGVyc1tcInByb2ZpbGUtbGV2ZWwtaWRcIl0hPT1cIjQyMDAxZlwiKSkpO319cmV0dXJuIHtzZW5kOm4scmVjdjppLHNlbmRyZWN2OnJ9fWZ1bmN0aW9uIElpKHQsZSxuLGkscixvKXtpZihuPT09XCJ2aWRlb0V4dGVuc2lvbnNcInx8bj09PVwiYXVkaW9FeHRlbnNpb25zXCIpe2xldCBzPVtdO3JldHVybiB0W25dLmZvckVhY2goYT0+e2Vbbl0uc29tZSgoYyxkKT0+e2lmKGEuZW50cnk9PT1jLmVudHJ5JiZhLmV4dGVuc2lvbk5hbWU9PT1jLmV4dGVuc2lvbk5hbWUpcmV0dXJuIHMucHVzaChkKSwhMH0pP29bbl0ucHVzaChhKTppW25dLnB1c2goYSk7fSksdm9pZCBlW25dLmZvckVhY2goKGEsYyk9PntzLmluZGV4T2YoYyk9PT0tMSYmcltuXS5wdXNoKGEpO30pfWlmKG49PT1cInZpZGVvQ29kZWNzXCJ8fG49PT1cImF1ZGlvQ29kZWNzXCIpe2xldCBzPVtdO3JldHVybiB0W25dLmZvckVhY2goYT0+e2Vbbl0uc29tZSgoYyxkKT0+e2lmKGEucGF5bG9hZFR5cGU9PT1jLnBheWxvYWRUeXBlJiZKU09OLnN0cmluZ2lmeShhKT09PUpTT04uc3RyaW5naWZ5KGMpKXJldHVybiBzLnB1c2goZCksITB9KT9vW25dLnB1c2goYSk6aVtuXS5wdXNoKGEpO30pLHZvaWQgZVtuXS5mb3JFYWNoKChhLGMpPT57cy5pbmRleE9mKGMpPT09LTEmJnJbbl0ucHVzaChhKTt9KX19ZnVuY3Rpb24gdXUodCl7bGV0e3NlbmQ6ZSxyZWN2Om4sc2VuZHJlY3Y6aX09dDtpZighaSl7aWYoIWV8fCFuKXRocm93IG5ldyBFcnJvcihcImNhbm5vdCBtZXJnZSBydHAgY2FwYWJpbGl0aWVzIGJlY2F1c2Ugb25lIG9mIHNlbmQgb3IgcmVjdiBpcyBlbXB0eSFcIik7cmV0dXJuIHtzZW5kOmUscmVjdjpufX1sZXQgcixvO3JldHVybiBlPyhyPXthdWRpb0NvZGVjczpbXSxhdWRpb0V4dGVuc2lvbnM6W10sdmlkZW9Db2RlY3M6W10sdmlkZW9FeHRlbnNpb25zOltdfSxyLmF1ZGlvQ29kZWNzPVsuLi5lLmF1ZGlvQ29kZWNzLC4uLmkuYXVkaW9Db2RlY3NdLHIudmlkZW9Db2RlY3M9Wy4uLmUudmlkZW9Db2RlY3MsLi4uaS52aWRlb0NvZGVjc10sci5hdWRpb0V4dGVuc2lvbnM9Wy4uLmUuYXVkaW9FeHRlbnNpb25zLC4uLmkuYXVkaW9FeHRlbnNpb25zXSxyLnZpZGVvRXh0ZW5zaW9ucz1bLi4uZS52aWRlb0V4dGVuc2lvbnMsLi4uaS52aWRlb0V4dGVuc2lvbnNdKTpyPWksbj8obz17YXVkaW9Db2RlY3M6W10sYXVkaW9FeHRlbnNpb25zOltdLHZpZGVvQ29kZWNzOltdLHZpZGVvRXh0ZW5zaW9uczpbXX0sby5hdWRpb0NvZGVjcz1bLi4ubi5hdWRpb0NvZGVjcywuLi5pLmF1ZGlvQ29kZWNzXSxvLnZpZGVvQ29kZWNzPVsuLi5uLnZpZGVvQ29kZWNzLC4uLmkudmlkZW9Db2RlY3NdLG8uYXVkaW9FeHRlbnNpb25zPVsuLi5uLmF1ZGlvRXh0ZW5zaW9ucywuLi5pLmF1ZGlvRXh0ZW5zaW9uc10sby52aWRlb0V4dGVuc2lvbnM9Wy4uLm4udmlkZW9FeHRlbnNpb25zLC4uLmkudmlkZW9FeHRlbnNpb25zXSk6bz1pLHtzZW5kOnIscmVjdjpvfX1mdW5jdGlvbiBvYSh0KXt0Lm1lZGlhLm1lZGlhVHlwZT09PVwiYXVkaW9cIiYmdC5hdHRyaWJ1dGVzLnBheWxvYWRzLmZpbHRlcihlPT57dmFyIG47cmV0dXJuICgobj1lLnJ0cE1hcCk9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpKT09PVwib3B1c1wifSkuZm9yRWFjaChlPT57ZS5mbXRwfHwoZS5mbXRwPXtwYXJhbWV0ZXJzOnt9fSksZS5mbXRwLnBhcmFtZXRlcnMuc3RlcmVvPVwiMVwiLGUuZm10cC5wYXJhbWV0ZXJzW1wic3Byb3Atc3RlcmVvXCJdPVwiMVwiO30pO31mdW5jdGlvbiBhYyh0LGUsbixpKXtsZXQgcj1bXTtpZih0PT09US5WSURFTyl7aWYodihcIkgyNjRfUFJPRklMRV9MRVZFTF9JRFwiKSYmaT09PVwiaDI2NFwiJiYocj1lLnZpZGVvQ29kZWNzLmZpbHRlcihvPT57dmFyIHM7cmV0dXJuIFcocz1vLnJ0cE1hcCYmby5ydHBNYXAuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCl8fFwiXCIpLmNhbGwocyxpKSYmbyYmby5mbXRwJiZvLmZtdHAucGFyYW1ldGVyc1tcInByb2ZpbGUtbGV2ZWwtaWRcIl09PT12KFwiSDI2NF9QUk9GSUxFX0xFVkVMX0lEXCIpfSkpLCFBcnJheS5pc0FycmF5KHIpfHxyLmxlbmd0aD09PTApe2xldCBvPVtdLHM9W10sYT1bXSxjPVtdO2lmKG4udmlkZW9Db2RlY3MuZm9yRWFjaChkPT57bGV0IGw9ZC5ydHBNYXAmJmQucnRwTWFwLmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpfHxcIlwiO1cobCkuY2FsbChsLGkpP28ucHVzaChkKTpXKGwpLmNhbGwobCxcInZwOVwiKT9zLnB1c2goZCk6VyhsKS5jYWxsKGwsXCJ2cDhcIik/YS5wdXNoKGQpOlcobCkuY2FsbChsLFwiaDI2NFwiKSYmYy5wdXNoKGQpO30pLG8ubGVuZ3RoPT09MCl7bGV0IGQ9XCJcIjtzLmxlbmd0aCE9PTA/KG89cyxkPVwidnA5XCIpOmEubGVuZ3RoIT09MD8obz1hLGQ9XCJ2cDhcIik6Yy5sZW5ndGghPT0wJiYobz1jLGQ9XCJoMjY0XCIpLF8ud2FybmluZyhcImNvZGVjIFwiLmNvbmNhdChpLFwiIG5vdCBpbmNsdWRlZCBpbiBydHBDYXBhYmlsaXRpZXMsIGZhbGxiYWNrIHRvIGRlZmF1bHQgcGF5bG9hZHM6IFwiKS5jb25jYXQoZCkpO31vLmxlbmd0aCE9PTAmJihyPWUudmlkZW9Db2RlY3MuZmlsdGVyKGQ9Pm8uc29tZShsPT5sLnBheWxvYWRUeXBlPT09ZC5wYXlsb2FkVHlwZSkpKTt9aWYoci5sZW5ndGg9PT0wJiYoXy53YXJuaW5nKFwiY29kZWMgXCIuY29uY2F0KGksXCIgbm90IGluY2x1ZGVkIGluIHJ0cENhcGFiaWxpdGllcywgZmFsbGJhY2sgdG8gZGVmYXVsdCBwYXlsb2FkczogXCIpLmNvbmNhdChlLnZpZGVvQ29kZWNzWzBdLnJ0cE1hcCYmZS52aWRlb0NvZGVjc1swXS5ydHBNYXAuZW5jb2RpbmdOYW1lKSkscj1lLnZpZGVvQ29kZWNzKSx2KFwiVVNFX1BVQl9SVFhcIil8fHYoXCJVU0VfU1VCX1JUWFwiKSl7bGV0IG89eWYocixlLnZpZGVvQ29kZWNzKTtyPVsuLi5yLC4uLm9dO319ZWxzZSByPWUuYXVkaW9Db2RlY3MuZmlsdGVyKG89Pnt2YXIgcztyZXR1cm4gVyhzPW8ucnRwTWFwJiZvLnJ0cE1hcC5lbmNvZGluZ05hbWUudG9Mb3dlckNhc2UoKXx8XCJcIikuY2FsbChzLGkpfSksci5sZW5ndGg9PT0wJiYoXy53YXJuaW5nKFwiY29kZWMgXCIuY29uY2F0KGksXCIgbm90IGluY2x1ZGVkIGluIHJ0cENhcGFiaWxpdGllcywgZmFsbGJhY2sgdG8gb3B1c1wiKSkscj1lLmF1ZGlvQ29kZWNzLmZpbHRlcihvPT57dmFyIHM7cmV0dXJuIFcocz1vLnJ0cE1hcCYmby5ydHBNYXAuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCl8fFwiXCIpLmNhbGwocyxcIm9wdXNcIil9KSk7cmV0dXJuIHJ9ZnVuY3Rpb24geWYodCxlKXtsZXQgbj10Lm1hcChpPT5pLnBheWxvYWRUeXBlLnRvU3RyaW5nKCkpO3JldHVybiBlLmZpbHRlcihpPT5pLnJ0cE1hcCYmaS5ydHBNYXAuZW5jb2RpbmdOYW1lPT09XCJydHhcIiYmaS5mbXRwJiZpLmZtdHAucGFyYW1ldGVycy5hcHQmJlcobikuY2FsbChuLGkuZm10cCYmaS5mbXRwLnBhcmFtZXRlcnMuYXB0KSl9YXN5bmMgZnVuY3Rpb24gV2QodCxlLG4pe2xldCBpPWUudG9TdHJpbmcoKSxyPWMwKGksXCJvZmZlclwiLFwicmVtb3RlXCIsXCJleGNoYW5nZVNEUFwiKTthd2FpdCB0LnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6aX0pO2xldCBvPWF3YWl0IHQuY3JlYXRlQW5zd2VyKCk7aWYoIW8uc2RwKXRocm93IG5ldyBFcnJvcihcImNhbm5vdCBnZXQgYW5zd2VyIHNkcFwiKTtsZXQgcz1vLnNkcDtzPWEwKHMsbnx8e30pLHI/LihzfHxcIlwiKSxhd2FpdCB0LnNldExvY2FsRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6c30pO31mdW5jdGlvbiBhMCh0LGUsbil7bGV0IGk9TGUucGFyc2UodCkse3VzZVhSOnJ9PWU7cmV0dXJuIGkubWVkaWFEZXNjcmlwdGlvbnMuZm9yRWFjaChvPT57dmFyIHM7by5hdHRyaWJ1dGVzLm1pZCYmKEFycmF5LmlzQXJyYXkobikmJiFXKG4pLmNhbGwobixvLmF0dHJpYnV0ZXMubWlkKXx8KG8ubWVkaWEubWVkaWFUeXBlPT09XCJhdWRpb1wiJiZvYShvKSxyJiZXKHM9W1wiYXVkaW9cIixcInZpZGVvXCJdKS5jYWxsKHMsby5tZWRpYS5tZWRpYVR5cGUpJiZvLmF0dHJpYnV0ZXMucGF5bG9hZHMuZm9yRWFjaChhPT57YS5ydGNwRmVlZGJhY2tzLmZpbmRJbmRleChjPT5jLnR5cGU9PT1cInJydHJcIik9PT0tMSYmYS5ydGNwRmVlZGJhY2tzLnB1c2goe3R5cGU6XCJycnRyXCJ9KTt9KSkpO30pLExlLnByaW50KGkpfWZ1bmN0aW9uIGMwKHQsZSxuLGkpe2lmKHYoXCJTRFBfTE9HR0lOR1wiKSlyZXR1cm4gXy51cGxvYWQoXCJleGNoYW5naW5nIFwiLmNvbmNhdChuLFwiIFwiKS5jb25jYXQoZSxcIiBTRFAgZHVyaW5nIFAyUENvbm5lY3Rpb24uXCIpLmNvbmNhdChpLGBcbmApLHQpLGU9PT1cIm9mZmVyXCI/cj0+e2MwKHIsXCJhbnN3ZXJcIixuPT09XCJsb2NhbFwiP1wicmVtb3RlXCI6XCJsb2NhbFwiLGkpO306dm9pZCAwfWZ1bmN0aW9uIFhpKHQsZSl7cmV0dXJuIHR5cGVvZiB2KHQpPT09ZT92KHQpOnZvaWQgMH1mdW5jdGlvbiBKSSh0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKGk9aS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKS5lbnVtZXJhYmxlfSkpLG4ucHVzaC5hcHBseShuLGkpO31yZXR1cm4gbn1mdW5jdGlvbiBqcih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV0hPW51bGw/YXJndW1lbnRzW2VdOnt9O2UlMj9KSShPYmplY3QobiksITApLmZvckVhY2goZnVuY3Rpb24oaSl7VCh0LGksbltpXSk7fSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6SkkoT2JqZWN0KG4pKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGksT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGkpKTt9KTt9cmV0dXJuIHR9dmFyIGRfPW5ldyBNYXAsdG09Y2xhc3MgZXh0ZW5kcyBYdHtnZXQgc3RhdGUoKXtyZXR1cm4gdGhpcy5fc3RhdGV9c2V0IHN0YXRlKGUpe2lmKGU9PT10aGlzLl9zdGF0ZSlyZXR1cm47bGV0IG49dGhpcy5fc3RhdGU7dGhpcy5fc3RhdGU9ZSxlPT09XCJESVNDT05ORUNURURcIiYmdGhpcy5fZGlzY29ubmVjdGVkUmVhc29uP3RoaXMuZW1pdCh4ZS5DT05ORUNUSU9OX1NUQVRFX0NIQU5HRSxlLG4sdGhpcy5fZGlzY29ubmVjdGVkUmVhc29uKTp0aGlzLmVtaXQoeGUuQ09OTkVDVElPTl9TVEFURV9DSEFOR0UsZSxuKTt9Z2V0IGpvaW5HYXRld2F5U3RhcnRUaW1lKCl7cmV0dXJuIHRoaXMuX2pvaW5HYXRld2F5U3RhcnRUaW1lfXNldCBqb2luR2F0ZXdheVN0YXJ0VGltZShlKXtfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBzZXQgam9pbkdhdGV3YXlTdGFydFRpbWUgYXQgXCIpLmNvbmNhdChlKSksdGhpcy5fam9pbkdhdGV3YXlTdGFydFRpbWU9ZTt9Y29uc3RydWN0b3IoZSxuKXtzdXBlcigpLFQodGhpcyxcInN0b3JlXCIsdm9pZCAwKSxUKHRoaXMsXCJqb2luSW5mb1wiLHZvaWQgMCksVCh0aGlzLFwia2V5XCIsdm9pZCAwKSxUKHRoaXMsXCJudHBPZmZzZXRcIiwwKSxUKHRoaXMsXCJzaWduYWxcIix2b2lkIDApLFQodGhpcyxcInJvbGVcIix2b2lkIDApLFQodGhpcyxcImluQ2hhbm5lbEluZm9cIix7am9pbkF0Om51bGwsZHVyYXRpb246MH0pLFQodGhpcyxcInNwZWNcIix2b2lkIDApLFQodGhpcyxcIl9zdGF0ZVwiLFwiRElTQ09OTkVDVEVEXCIpLFQodGhpcyxcIl9zdGF0c0NvbGxlY3RvclwiLHZvaWQgMCksVCh0aGlzLFwiX2Rpc2Nvbm5lY3RlZFJlYXNvblwiLHZvaWQgMCksVCh0aGlzLFwiaXNTaWduYWxSZWNvdmVyXCIsITEpLFQodGhpcyxcImhhc0NoYW5nZUJHUEFkZHJlc3NcIiwhMSksVCh0aGlzLFwidHJhZmZpY1N0YXRzSW50ZXJ2YWxcIix2b2lkIDApLFQodGhpcyxcIm5ldHdvcmtRdWFsaXR5SW50ZXJ2YWxcIix2b2lkIDApLFQodGhpcyxcIl9qb2luR2F0ZXdheVN0YXJ0VGltZVwiLDApLFQodGhpcyxcIl9zaWduYWxUaW1lb3V0XCIsITEpLFQodGhpcyxcIl9jbGllbnRSb2xlT3B0aW9uc1wiLHZvaWQgMCksVCh0aGlzLFwiX2lzUHJvYWN0aXZlSm9pblwiLCExKSx0aGlzLnN0b3JlPWUsdGhpcy5zcGVjPW4sdGhpcy5zaWduYWw9dGhpcy5zdG9yZS51c2VQMlA/bmV3IGR1KGpyKGpyKHt9LG4pLHt9LHtyZXRyeUNvbmZpZzpuLndlYnNvY2tldFJldHJ5Q29uZmlnfSksZSk6bmV3IGpFKGpyKGpyKHt9LG4pLHt9LHtyZXRyeUNvbmZpZzpuLndlYnNvY2tldFJldHJ5Q29uZmlnfSksZSksdGhpcy5fc3RhdHNDb2xsZWN0b3I9bi5zdGF0c0NvbGxlY3Rvcix0aGlzLnJvbGU9bi5yb2xlfHxcImF1ZGllbmNlXCIsdGhpcy5fY2xpZW50Um9sZU9wdGlvbnM9bi5jbGllbnRSb2xlT3B0aW9ucyx0aGlzLmhhbmRsZVNpZ25hbEV2ZW50cygpO31hc3luYyBqb2luKGUsbixpKXt0aGlzLnN0b3JlLmpvaW5HYXRld2F5U3RhcnQoKSxlLmNsb3VkUHJveHlTZXJ2ZXIhPT1cImRpc2FibGVkXCImJih0aGlzLmhhc0NoYW5nZUJHUEFkZHJlc3M9ITApO2xldCByPURhdGUubm93KCksbz1kXy5nZXQoZS5jbmFtZSk7aWYob3x8KG89bmV3IE1hcCxkXy5zZXQoZS5jbmFtZSxvKSksdGhpcy5faXNQcm9hY3RpdmVKb2luPSEwLG8uaGFzKGUudWlkKSl7bGV0IGQ9bmV3IE8oUi5VSURfQ09ORkxJQ1QpO3Rocm93IFguam9pbkdhdGV3YXkoZS5zaWQse2x0czpyLHN1Y2M6ITEsZWM6ZC5jb2RlLGFkZHI6bnVsbCx1aWQ6ZS51aWQsY2lkOmUuY2lkLGZpcnN0U3VjY2Vzczp0aGlzLl9pc1Byb2FjdGl2ZUpvaW4sYXZvaWRKb2luU3RhcnRUaW1lOnRoaXMuc3RvcmUuYXZvaWRKb2luU3RhcnQsaXNQcm94eTohIWUucHJveHlTZXJ2ZXIsc2lnbmFsQ2hhbm5lbDpcIjBcIixwcmVsb2FkOmUucHJlbG9hZH0pLHRoaXMuX2lzUHJvYWN0aXZlSm9pbj0hMSxkfW8uc2V0KGUudWlkLCEwKSx0aGlzLmpvaW5JbmZvPWUsdGhpcy5rZXk9bjtsZXQgcz0wO3RoaXMuam9pbkdhdGV3YXlTdGFydFRpbWU9cjtsZXQgYT1lLnByb3h5U2VydmVyO3RyeXtfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSB1c2Ugd2Vic29ja2V0IGpvaW4gdWlkIFwiKS5jb25jYXQocykpO2xldCBkPWUuZ2F0ZXdheUFkZHJzLm1hcChsPT57bGV0e2FkZHJlc3M6dX09bCxbaCxwXT11LnNwbGl0KFwiOlwiKSxnPXtob3N0OmgscG9ydDpwfTtyZXR1cm4gZS5wcm94eVNlcnZlciYmKGcucHJveHk9ZS5wcm94eVNlcnZlciksZ30pO3M9KGF3YWl0IHRoaXMuc2lnbmFsLmluaXQoZCxpKSkudWlkLF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIHdlYnNvY2tldCBqb2luIHVpZCBcIikuY29uY2F0KHMsXCIgY29zdCBcIikuY29uY2F0KERhdGUubm93KCktdGhpcy5qb2luR2F0ZXdheVN0YXJ0VGltZSkpO31jYXRjaChkKXt2YXIgYzt0aHJvdyBfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBVc2VyIGpvaW4gZmFpbGVkXCIpLGQudG9TdHJpbmcoKSksWC5qb2luR2F0ZXdheShlLnNpZCx7bHRzOnIsc3VjYzohMSxlYzooKGM9ZC5kYXRhKT09PW51bGx8fGM9PT12b2lkIDA/dm9pZCAwOmMuZGVzYyl8fGQuY29kZSxlcnJvck1zZzpkLm1lc3NhZ2UsYWRkcjp0aGlzLnNpZ25hbC51cmwsdWlkOmUudWlkLGNpZDplLmNpZCxmaXJzdFN1Y2Nlc3M6dGhpcy5faXNQcm9hY3RpdmVKb2luLGF2b2lkSm9pblN0YXJ0VGltZTp0aGlzLnN0b3JlLmF2b2lkSm9pblN0YXJ0LGlzUHJveHk6ISFhLHNpZ25hbENoYW5uZWw6XCIwXCIscHJlbG9hZDplLnByZWxvYWR9KSx0aGlzLl9pc1Byb2FjdGl2ZUpvaW49ITEsby5kZWxldGUoZS51aWQpLHRoaXMuc2lnbmFsLmNsb3NlKCksZH1yZXR1cm4gdGhpcy5zdGF0ZT1cIkNPTk5FQ1RFRFwiLHRoaXMuaW5DaGFubmVsSW5mby5qb2luQXQ9RGF0ZS5ub3coKSxfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBDb25uZWN0ZWQgdG8gZ2F0ZXdheSBzZXJ2ZXJcIikpLHRoaXMudHJhZmZpY1N0YXRzSW50ZXJ2YWw9d2luZG93LnNldEludGVydmFsKCgpPT57dGhpcy51cGRhdGVUcmFmZmljU3RhdHMoKS5jYXRjaChkPT57Xy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBnZXQgdHJhZmZpYyBzdGF0cyBlcnJvclwiKSxkLnRvU3RyaW5nKCkpO30pO30sM2UzKSx0aGlzLm5ldHdvcmtRdWFsaXR5SW50ZXJ2YWw9d2luZG93LnNldEludGVydmFsKCgpPT57bmF2aWdhdG9yJiZuYXZpZ2F0b3Iub25MaW5lIT09dm9pZCAwJiYhbmF2aWdhdG9yLm9uTGluZT90aGlzLmVtaXQoeGUuTkVUV09SS19RVUFMSVRZLHtkb3dubGlua05ldHdvcmtRdWFsaXR5OjYsdXBsaW5rTmV0d29ya1F1YWxpdHk6Nn0pOnRoaXMuX3NpZ25hbFRpbWVvdXQ/dGhpcy5lbWl0KHhlLk5FVFdPUktfUVVBTElUWSx7ZG93bmxpbmtOZXR3b3JrUXVhbGl0eTo1LHVwbGlua05ldHdvcmtRdWFsaXR5OjV9KTp0aGlzLnN0YXRlPT09XCJDT05ORUNURURcIiYmdGhpcy5fc3RhdHNDb2xsZWN0b3IudHJhZmZpY1N0YXRzP3RoaXMuZW1pdCh4ZS5ORVRXT1JLX1FVQUxJVFkse3VwbGlua05ldHdvcmtRdWFsaXR5OldSKHRoaXMuX3N0YXRzQ29sbGVjdG9yLnRyYWZmaWNTdGF0cy5CX3VucSksZG93bmxpbmtOZXR3b3JrUXVhbGl0eTpXUih0aGlzLl9zdGF0c0NvbGxlY3Rvci50cmFmZmljU3RhdHMuQl9kbnEpfSk6dGhpcy5lbWl0KHhlLk5FVFdPUktfUVVBTElUWSx7dXBsaW5rTmV0d29ya1F1YWxpdHk6MCxkb3dubGlua05ldHdvcmtRdWFsaXR5OjB9KTt9LDJlMyksdGhpcy5zdG9yZS5qb2luR2F0ZXdheUVuZCgpLHN9YXN5bmMgbGVhdmUoKXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXZvaWQgMCYmYXJndW1lbnRzWzBdLG49YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDA7aWYodGhpcy5zdGF0ZSE9PVwiRElTQ09OTkVDVEVEXCIpe24hPT1BdC5GQUxMQkFDSyYmKHRoaXMuc3RhdGU9XCJESVNDT05ORUNUSU5HXCIpO3RyeXtlfHx0aGlzLnNpZ25hbC5jb25uZWN0aW9uU3RhdGUhPT1MdC5DT05ORUNURUR8fGF3YWl0IGZ1bmN0aW9uKGkscil7cmV0dXJuIHI9PT0xLzA/aTpqLnJhY2UoW2ksbUIocildKX0odGhpcy5zaWduYWwucmVxdWVzdChldC5MRUFWRSx2b2lkIDAsITApLDNlMyk7fWNhdGNoKGkpe18ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gbGVhdmUgcmVxdWVzdCBmYWlsZWQsIGlnbm9yZVwiKSxpKTt9dGhpcy5zaWduYWwuY2xvc2UobiksbiE9PUF0LkZBTExCQUNLJiYodGhpcy5zdGF0ZT1cIkRJU0NPTk5FQ1RFRFwiKSx0aGlzLnJlc2V0KCk7fX1hc3luYyBwdWJsaXNoKGUsbixpKXtpZih0aGlzLnN0YXRlIT09XCJDT05ORUNURURcIiYmdGhpcy5zdGF0ZSE9PVwiUkVDT05ORUNUSU5HXCIpdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3QgcHVibGlzaCB3aGVuIGNvbm5lY3Rpb24gc3RhdGUgaXMgXCIuY29uY2F0KHRoaXMuc3RhdGUpKTtsZXQgcj17c3RhdGU6XCJvZmZlclwiLHAycF9pZDp0aGlzLnN0b3JlLnAycElkLG9ydGM6bixtb2RlOnRoaXMuc3BlYy5tb2RlLGV4dGVuZDp2KFwiUFVCX0VYVEVORFwiKSx0d2NjOiEhdihcIlBVQkxJU0hfVFdDQ1wiKSxydHg6ISF2KFwiVVNFX1BVQl9SVFhcIil9O3RyeXtyZXR1cm4gKGF3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoZXQuUFVCTElTSCxyLCEwKSkuX21lc3NhZ2V9Y2F0Y2gobyl7aWYoaSYmby5kYXRhJiZvLmRhdGEuY29kZT09PVouRVJSX1BVQkxJU0hfUkVRVUVTVF9JTlZBTElEKXJldHVybiBfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIHJlY2VpdmUgcHVibGlzaCBlcnJvciBjb2RlLCByZXRyeVwiKSxvLnRvU3RyaW5nKCkpLGF3YWl0IHRoaXMudHJ5VW5wdWJCZWZvcmVSZXB1YihlLG4pLHRoaXMucHVibGlzaChlLG4sITEpO3Rocm93IG99fWFzeW5jIHB1Ymxpc2hEYXRhQ2hhbm5lbChlLG4saSl7dmFyIHI7aWYodGhpcy5zdGF0ZSE9PVwiQ09OTkVDVEVEXCImJnRoaXMuc3RhdGUhPT1cIlJFQ09OTkVDVElOR1wiKXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IHB1Ymxpc2ggd2hlbiBjb25uZWN0aW9uIHN0YXRlIGlzIFwiLmNvbmNhdCh0aGlzLnN0YXRlKSk7bGV0IG89e3N0cmVhbV9pZDpuLnN0cmVhbUlkLG9yZGVyZWQ6bi5vcmRlcmVkPzE6MCxtYXhfcmV0cmFuc190aW1lczoocj1uLm1heFJldHJhbnNtaXRzKSE9PW51bGwmJnIhPT12b2lkIDA/cjoxMCxjaGFubmVsX2lkOm4uY2hhbm5lbElkLG1ldGFkYXRhOm4ubWV0YWRhdGF9O3RyeXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KGV0LlBVQkxJU0hfREFUQVNUUkVBTSxvLCEwKTt9Y2F0Y2gocyl7aWYoaSYmcy5kYXRhJiZzLmRhdGEuY29kZT09PVouRVJSX1BVQkxJU0hfUkVRVUVTVF9JTlZBTElEKXJldHVybiBfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIHJlY2VpdmUgcHVibGlzaCBkYXRhY2hhbm5lbHMgZXJyb3IgY29kZSwgcmV0cnlcIikscy50b1N0cmluZygpKSxhd2FpdCB0aGlzLnRyeVVucHViRGF0YUNoYW5uZWxCZWZvcmVSZXB1YihlLG4pLHRoaXMucHVibGlzaERhdGFDaGFubmVsKGUsbiwhMSk7dGhyb3cgc319YXN5bmMgdW5wdWJsaXNoKGUsbil7dHJ5e2lmKHRoaXMuc3RhdGUhPT1cIkNPTk5FQ1RFRFwiJiZ0aGlzLnN0YXRlIT09XCJSRUNPTk5FQ1RJTkdcIil0aHJvdyBuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OLFwiY2FuIG5vdCBwdWJsaXNoIHdoZW4gY29ubmVjdGlvbiBzdGF0ZSBpcyBcIi5jb25jYXQodGhpcy5zdGF0ZSkpO2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoZXQuVU5QVUJMSVNILHtzdHJlYW1faWQ6bixvcnRjOmV9LCEwKTt9Y2F0Y2goaSl7Xy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSB1bnB1Ymxpc2ggd2FybmluZzogXCIpLGkpO319YXN5bmMgdW5wdWJsaXNoRGF0YUNoYW5uZWwoZSl7dHJ5e2lmKHRoaXMuc3RhdGUhPT1cIkNPTk5FQ1RFRFwiJiZ0aGlzLnN0YXRlIT09XCJSRUNPTk5FQ1RJTkdcIil0aHJvdyBuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OLFwiY2FuIG5vdCBwdWJsaXNoIHdoZW4gY29ubmVjdGlvbiBzdGF0ZSBpcyBcIi5jb25jYXQodGhpcy5zdGF0ZSkpO2F3YWl0IGouYWxsKGUubWFwKG49PnRoaXMuc2lnbmFsLnJlcXVlc3QoZXQuVU5QVUJMSVNIX0RBVEFTVFJFQU0se2NoYW5uZWxfaWQ6bn0sITApKSk7fWNhdGNoKG4pe18ud2FybmluZyhcInVucHVibGlzaCBkYXRhY2hhbm5lbHMgd2FybmluZzogXCIsbik7fX1hc3luYyBwcmVzdWJzY3JpYmUoZSxuLGkpe2lmKHRoaXMuc3RhdGUhPT1cIkNPTk5FQ1RFRFwiJiZ0aGlzLnN0YXRlIT09XCJSRUNPTk5FQ1RJTkdcIil0aHJvdyBuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OLFwiY2FuIG5vdCBwcmVzdWJzY3JpYmUgd2hlbiBjb25uZWN0aW9uIHN0YXRlIGlzIFwiLmNvbmNhdCh0aGlzLnN0YXRlKSk7bGV0IHI9e3N0cmVhbV9pZDplLHN0cmVhbV90eXBlOm4sbW9kZTp0aGlzLnNwZWMubW9kZSxjb2RlYzp0aGlzLnNwZWMuY29kZWMscDJwX2lkOnRoaXMuc3RvcmUucDJwSWQsdHdjYzohIXYoXCJTVUJTQ1JJQkVfVFdDQ1wiKSxydHg6ISF2KFwiVVNFX1NVQl9SVFhcIil8fHZvaWQgMCxleHRlbmQ6dihcIlNVQl9FWFRFTkRcIiksc3ZjOkFycmF5LmlzQXJyYXkodihcIlNWQ1wiKSkmJnYoXCJTVkNcIikubGVuZ3RoIT09MD92KFwiU1ZDXCIpOnZvaWQgMH07dHJ5e3JldHVybiBhd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KGV0LlBSRV9TVUJTQ1JJQkUsciwhMCl9Y2F0Y2gobyl7aWYoaSYmby5kYXRhJiZvLmRhdGEuY29kZT09PVouRVJSX1NVQlNDUklCRV9SRVFVRVNUX0lOVkFMSUQpcmV0dXJuIF8ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gcHJlLXN1YnNjcmliZSBlcnJvciwgcmV0cnlcIiksby50b1N0cmluZygpKSx0aGlzLnByZXN1YnNjcmliZShlLG4sITEpO3Rocm93IG99fWFzeW5jIHN1YnNjcmliZShlLG4saSl7aWYodGhpcy5zdGF0ZSE9PVwiQ09OTkVDVEVEXCImJnRoaXMuc3RhdGUhPT1cIlJFQ09OTkVDVElOR1wiKXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IHN1YnNjcmliZSB3aGVuIGNvbm5lY3Rpb24gc3RhdGUgaXMgXCIuY29uY2F0KHRoaXMuc3RhdGUpKTtsZXQgcj17c3RyZWFtX2lkOmUsc3RyZWFtX3R5cGU6bi5zdHJlYW1fdHlwZSxtb2RlOnRoaXMuc3BlYy5tb2RlLGNvZGVjOnRoaXMuc3BlYy5jb2RlYyxwMnBfaWQ6dGhpcy5zdG9yZS5wMnBJZCx0d2NjOiEhdihcIlNVQlNDUklCRV9UV0NDXCIpLHJ0eDohIXYoXCJVU0VfU1VCX1JUWFwiKSxleHRlbmQ6dihcIlNVQl9FWFRFTkRcIiksc3NyY0lkOm4uc3NyY0lkLHN2YzpBcnJheS5pc0FycmF5KHYoXCJTVkNcIikpJiZ2KFwiU1ZDXCIpLmxlbmd0aCE9PTA/dihcIlNWQ1wiKTp2b2lkIDB9O3RyeXtyZXR1cm4gKGF3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoZXQuU1VCU0NSSUJFLHIsITApKS5fbWVzc2FnZX1jYXRjaChvKXtpZihpJiZvLmRhdGEmJm8uZGF0YS5jb2RlPT09Wi5FUlJfU1VCU0NSSUJFX1JFUVVFU1RfSU5WQUxJRClyZXR1cm4gXy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSByZWNlaXZlciBzdWJzY3JpYmUgZXJyb3IgY29kZSwgcmV0cnlcIiksby50b1N0cmluZygpKSxhd2FpdCB0aGlzLnRyeVVuc3ViQmVmb3JlUmVzdWIoZSxuKSxhd2FpdCB0aGlzLnN1YnNjcmliZShlLG4sITEpO3Rocm93IG99fWFzeW5jIHN1YnNjcmliZURhdGFDaGFubmVsKGUsbixpKXtpZih0aGlzLnN0YXRlIT09XCJDT05ORUNURURcIiYmdGhpcy5zdGF0ZSE9PVwiUkVDT05ORUNUSU5HXCIpdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3Qgc3Vic2NyaWJlIGRhdGFjaGFubmVsIHdoZW4gY29ubmVjdGlvbiBzdGF0ZSBpcyBcIi5jb25jYXQodGhpcy5zdGF0ZSkpO2xldCByPXt1aWQ6ZSxzdHJlYW1faWQ6bi5pZCxjaGFubmVsX2lkOm4uZGF0YWNoYW5uZWxJZH07dHJ5e3JldHVybiB2b2lkIGF3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoZXQuU1VCU0NSSUJFX0RBVEFTVFJFQU0sciwhMCl9Y2F0Y2gobyl7aWYoaSYmby5kYXRhJiZvLmRhdGEuY29kZT09PVouRVJSX1NVQlNDUklCRV9SRVFVRVNUX0lOVkFMSUQpcmV0dXJuIF8ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gcmVjZWl2ZXIgc3Vic2NyaWJlIGRhdGFjaGFubmVsIGVycm9yIGNvZGUsIHJldHJ5XCIpLG8udG9TdHJpbmcoKSksYXdhaXQgdGhpcy50cnlVbnN1YkRhdGFDaGFubmVsQmVmb3JlUmVzdWIoZSxuKSxhd2FpdCB0aGlzLnN1YnNjcmliZURhdGFDaGFubmVsKGUsbiwhMSk7dGhyb3cgb319YXN5bmMgc3Vic2NyaWJlQWxsKGUsbil7aWYodGhpcy5zdGF0ZSE9PVwiQ09OTkVDVEVEXCImJnRoaXMuc3RhdGUhPT1cIlJFQ09OTkVDVElOR1wiKXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IG1hc3NTdWJzY3JpYmUgd2hlbiBjb25uZWN0aW9uIHN0YXRlIGlzIFwiLmNvbmNhdCh0aGlzLnN0YXRlKSk7bGV0IGk9e3AycF9pZDp0aGlzLnN0b3JlLnAycElkLHVzZXJzOmUsZHR4OiExLHJ0eDohIXYoXCJVU0VfU1VCX1JUWFwiKSx0d2NjOiEhdihcIlNVQlNDUklCRV9UV0NDXCIpLHN2YzpBcnJheS5pc0FycmF5KHYoXCJTVkNcIikpJiZ2KFwiU1ZDXCIpLmxlbmd0aCE9PTA/dihcIlNWQ1wiKTp2b2lkIDB9O3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChldC5TVUJTQ1JJQkVfU1RSRUFNUyxpLCEwKX1jYXRjaChyKXtpZihuJiZyLmRhdGEmJnIuZGF0YS5jb2RlPT09Wi5FUlJfU1VCU0NSSUJFX1JFUVVFU1RfSU5WQUxJRClyZXR1cm4gXy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSByZWNlaXZlciBtYXNzU3Vic2NyaWJlIGVycm9yIGNvZGUsIHJldHJ5XCIpLHIudG9TdHJpbmcoKSksYXdhaXQgdGhpcy50cnlNYXNzVW5zdWJCZWZvcmVSZXN1YihlKSxhd2FpdCB0aGlzLnN1YnNjcmliZUFsbChlLCExKTt0aHJvdyByfX1hc3luYyBzZXRWaWRlb1Byb2ZpbGUoZSl7bGV0IG49ZnVuY3Rpb24oaSl7aWYoIShpLmJpdHJhdGVNYXgmJmkuYml0cmF0ZU1pbiYmaS5mcmFtZVJhdGUmJmkuaGVpZ2h0JiZpLndpZHRoKSlyZXR1cm47bGV0IHI9aS5mcmFtZVJhdGUsbz1pLndpZHRoLHM9aS5oZWlnaHQsYT0hMDtyZXR1cm4gdHlwZW9mIHIhPVwibnVtYmVyXCImJihyPXIuZXhhY3R8fHIuaWRlYWx8fHIubWF4fHxyLm1pbnx8MCxyfHwoYT0hMSkpLHR5cGVvZiBvIT1cIm51bWJlclwiJiYobz1vLmV4YWN0fHxvLmlkZWFsfHxvLm1heHx8by5taW58fDAsb3x8KGE9ITEpKSx0eXBlb2YgcyE9XCJudW1iZXJcIiYmKHM9cy5leGFjdHx8cy5pZGVhbHx8cy5tYXh8fHMubWlufHwwLHJ8fChhPSExKSksYT97c3RyZWFtX3R5cGU6MCx3aWR0aDpvLGhlaWdodDpzLGZwczpyLHN0YXJ0X2JwczoxZTMqaS5iaXRyYXRlTWF4LG1pbl9icHM6MWUzKmkuYml0cmF0ZU1pbix0YXJnZXRfYnBzOjFlMyppLmJpdHJhdGVNYXh9OnZvaWQgMH0oZSk7aWYobilyZXR1cm4gdGhpcy5zaWduYWwucmVxdWVzdChldC5TRVRfVklERU9fUFJPRklMRSxuKTtfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBlbmNvZGVyIGNvbmZpZyBpcyBub3QgY29tcGxldGUsIGRvIG5vdCByZXBvcnQgdG8gZ2F0ZXdheVwiKSk7fWFzeW5jIHVuc3Vic2NyaWJlKGUsbil7dHJ5e2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoZXQuVU5TVUJTQ1JJQkUse3AycF9pZDp0aGlzLnN0b3JlLnAycElkLG9ydGM6ZSxzdHJlYW1faWQ6bn0sITApO31jYXRjaChpKXtfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIHVuc3Vic2NyaWJlIHdhcm5pbmc6IFwiKSxpKTt9fWFzeW5jIHVuc3Vic2NyaWJlRGF0YUNoYW5uZWwoZSxuKXt0cnl7aWYodGhpcy5zdGF0ZSE9PVwiQ09OTkVDVEVEXCImJnRoaXMuc3RhdGUhPT1cIlJFQ09OTkVDVElOR1wiKXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IHB1Ymxpc2ggd2hlbiBjb25uZWN0aW9uIHN0YXRlIGlzIFwiLmNvbmNhdCh0aGlzLnN0YXRlKSk7YXdhaXQgai5hbGwoZS5tYXAoaT0+dGhpcy5zaWduYWwucmVxdWVzdChldC5VTlNVQlNDUklCRV9EQVRBU1RSRUFNLHtzdHJlYW1faWQ6aSx1aWQ6bn0sITApKSk7fWNhdGNoKGkpe18ud2FybmluZyhcInVuc3Vic2NyaWJlRGF0YUNoYW5uZWwgd2FybmluZzogXCIsaSk7fX1hc3luYyBtYXNzVW5zdWJzY3JpYmUoZSl7dHJ5e2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoZXQuVU5TVUJTQ1JJQkVfU1RSRUFNUyxlLCEwKTt9Y2F0Y2gobil7Xy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBtYXNzVW5zdWJzY3JpYmVBbGwgd2FybmluZzogXCIpLG4pO319YXN5bmMgcmVjb25uZWN0UEMoZSl7bGV0e2ljZVBhcmFtZXRlcnM6bixkdGxzUGFyYW1ldGVyczppLHJ0cENhcGFiaWxpdGllczpyfT1lO3JldHVybiB7Z2F0ZXdheUVzdGFibGlzaFBhcmFtczphd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KGV0LkNPTk5FQ1RfUEMse3AycF9pZDp0aGlzLnN0b3JlLnAycElkLHN0cmVhbV9pZDp0aGlzLnN0b3JlLnVpZCxvcnRjOntpY2VQYXJhbWV0ZXJzOm4sZHRsc1BhcmFtZXRlcnM6aSxydHBDYXBhYmlsaXRpZXM6cn19LCEwKSxnYXRld2F5QWRkcmVzczp0aGlzLmdldEN1cnJlbnRHYXRld2F5QWRkcmVzcygpfX1nZXRHYXRld2F5SW5mbygpe3JldHVybiB0aGlzLnNpZ25hbC5yZXF1ZXN0KGV0LkdBVEVXQVlfSU5GTyl9YXN5bmMgcmVuZXdUb2tlbihlKXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KGV0LlJFTkVXX1RPS0VOLGUpLHRoaXMua2V5PWUudG9rZW47fWFzeW5jIHNldENsaWVudFJvbGUoZSxuKXtpZihuJiYodGhpcy5fY2xpZW50Um9sZU9wdGlvbnM9T2JqZWN0LmFzc2lnbih7fSxuKSksdGhpcy5zdGF0ZSE9PVwiQ09OTkVDVEVEXCIpcmV0dXJuIHZvaWQodGhpcy5yb2xlPWUpO2xldCBpLHI9MDtlPT09XCJhdWRpZW5jZVwiP3RoaXMuX2NsaWVudFJvbGVPcHRpb25zJiZ0aGlzLl9jbGllbnRSb2xlT3B0aW9ucy5kZWxheT8oaT10aGlzLl9jbGllbnRSb2xlT3B0aW9ucy5kZWxheSxyPTEpOnI9dGhpcy5fY2xpZW50Um9sZU9wdGlvbnMmJnRoaXMuX2NsaWVudFJvbGVPcHRpb25zLmxldmVsP3RoaXMuX2NsaWVudFJvbGVPcHRpb25zLmxldmVsOjI6cj0wLGF3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoZXQuU0VUX0NMSUVOVF9ST0xFLHtyb2xlOmUsbGV2ZWw6cixkZWxheTppLGNsaWVudF90czpEYXRlLm5vdygpfSksdGhpcy5yb2xlPWU7fWFzeW5jIHNldFJlbW90ZVZpZGVvU3RyZWFtVHlwZShlLG4pe2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoZXQuU1dJVENIX1ZJREVPX1NUUkVBTSx7c3RyZWFtX2lkOmUsc3RyZWFtX3R5cGU6bn0pO31hc3luYyBzZXREZWZhdWx0UmVtb3RlVmlkZW9TdHJlYW1UeXBlKGUpe2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoZXQuREVGQVVMVF9WSURFT19TVFJFQU0se3N0cmVhbV90eXBlOmV9KTt9YXN5bmMgc2V0U3RyZWFtRmFsbGJhY2tPcHRpb24oZSxuKXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KGV0LlNFVF9GQUxMQkFDS19PUFRJT04se3N0cmVhbV9pZDplLGZhbGxiYWNrX3R5cGU6bn0pO31hc3luYyBwaWNrU1ZDTGF5ZXIoZSxuKXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KGV0LlBJQ0tfU1ZDX0xBWUVSLHtzdHJlYW1faWQ6ZSxzcGF0aWFsX2xheWVyOm4uc3BhdGlhbExheWVyLHRlbXBvcmFsX2xheWVyOm4udGVtcG9yYWxMYXllcn0pO31hc3luYyBzZXRSVE0yRmxhZyhlKXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KGV0LlNFVF9SVE0yX0ZMQUcse3J0bTJfZmxhZzplfSk7fWFzeW5jIHNlbmRFeHRlbnNpb25NZXNzYWdlKGUsbixpKXtpZih0aGlzLnNpZ25hbCBpbnN0YW5jZW9mIGR1KXJldHVybiB0aGlzLnNpZ25hbC5zZW5kRXh0ZW5zaW9uTWVzc2FnZShlLG4saSl9Z2V0SW5DaGFubmVsSW5mbygpe3JldHVybiB0aGlzLmluQ2hhbm5lbEluZm8uam9pbkF0JiYodGhpcy5pbkNoYW5uZWxJbmZvLmR1cmF0aW9uPURhdGUubm93KCktdGhpcy5pbkNoYW5uZWxJbmZvLmpvaW5BdCksanIoe30sdGhpcy5pbkNoYW5uZWxJbmZvKX1hc3luYyBnZXRHYXRld2F5VmVyc2lvbigpe3JldHVybiAoYXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChldC5HQVRFV0FZX0lORk8pKS52ZXJzaW9ufXJlc2V0KCl7aWYodGhpcy5pbkNoYW5uZWxJbmZvLmpvaW5BdCYmKHRoaXMuaW5DaGFubmVsSW5mby5kdXJhdGlvbj1EYXRlLm5vdygpLXRoaXMuaW5DaGFubmVsSW5mby5qb2luQXQsdGhpcy5pbkNoYW5uZWxJbmZvLmpvaW5BdD1udWxsKSx0aGlzLnRyYWZmaWNTdGF0c0ludGVydmFsJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy50cmFmZmljU3RhdHNJbnRlcnZhbCksdGhpcy50cmFmZmljU3RhdHNJbnRlcnZhbD12b2lkIDApLHRoaXMuam9pbkluZm8pe2xldCBlPWRfLmdldCh0aGlzLmpvaW5JbmZvLmNuYW1lKTtlJiZlLmRlbGV0ZSh0aGlzLmpvaW5JbmZvLnVpZCk7fXRoaXMuam9pbkluZm89dm9pZCAwLHRoaXMua2V5PXZvaWQgMCx0aGlzLm5ldHdvcmtRdWFsaXR5SW50ZXJ2YWwmJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLm5ldHdvcmtRdWFsaXR5SW50ZXJ2YWwpLHRoaXMubmV0d29ya1F1YWxpdHlJbnRlcnZhbD12b2lkIDApO311cGRhdGVUdXJuQ29uZmlnRnJvbVNpZ25hbCgpe2lmKCF0aGlzLmpvaW5JbmZvKXJldHVybjtsZXQgZT1mdW5jdGlvbihuKXtsZXQgaTtyZXR1cm4gaT1uLnN0YXJ0c1dpdGgoXCJkY1wiKT9uLm1hdGNoKC8oZGNcXDpcXC9cXC8pPyhbXjpdKyk6KFxcZCspLyk6bi5tYXRjaCgvKHdzc1xcOlxcL1xcLyk/KFteOl0rKTooXFxkKykvKSxpP3t1c2VybmFtZTpWZS51c2VybmFtZSxwYXNzd29yZDpWZS5wYXNzd29yZCx0dXJuU2VydmVyVVJMOmlbMl0sdGNwcG9ydDpwYXJzZUludChpWzNdKSszMCx1ZHBwb3J0OnBhcnNlSW50KGlbM10pKzMwLGZvcmNldHVybjohMX06bnVsbH0oKHRoaXMuam9pbkluZm8uY2xvdWRQcm94eVNlcnZlcj09PVwiZGlzYWJsZWRcIj90aGlzLnNpZ25hbC51cmw6dGhpcy5qb2luSW5mby5nYXRld2F5QWRkcnNbdGhpcy5zaWduYWwuY3VycmVudFVSTEluZGV4XS5hZGRyZXNzKXx8XCJcIik7dGhpcy5qb2luSW5mby50dXJuU2VydmVyLnNlcnZlcnNGcm9tR2F0ZXdheT1bXSxlJiZ0aGlzLmpvaW5JbmZvLnR1cm5TZXJ2ZXIubW9kZSE9PVwib2ZmXCImJnRoaXMuam9pbkluZm8uY2xvdWRQcm94eVNlcnZlcj09PVwiZGlzYWJsZWRcIiYmdGhpcy5qb2luSW5mby50dXJuU2VydmVyLnNlcnZlcnNGcm9tR2F0ZXdheS5wdXNoKGpyKGpyKHt9LFZlKSx7fSx7dHVyblNlcnZlclVSTDplLnR1cm5TZXJ2ZXJVUkwsdGNwcG9ydDplLnRjcHBvcnQsdWRwcG9ydDplLnVkcHBvcnQsdXNlcm5hbWU6dGhpcy5qb2luSW5mby51aWQudG9TdHJpbmcoKSxwYXNzd29yZDp0aGlzLmpvaW5JbmZvLnRva2VufSkpO31hc3luYyB1cGRhdGVUcmFmZmljU3RhdHMoKXtpZih0aGlzLnN0YXRlIT09XCJDT05ORUNURURcIilyZXR1cm47bGV0IGU9YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChldC5UUkFGRklDX1NUQVRTLHZvaWQgMCwhMCk7ZS50aW1lc3RhbXA9RGF0ZS5ub3coKSxlLm50cF9vZmZzZXQhPW51bGwmJih0aGlzLm50cE9mZnNldD1lLm50cF9vZmZzZXQpLGUucGVlcl9kZWxheS5mb3JFYWNoKG49PntsZXQgaT10aGlzLl9zdGF0c0NvbGxlY3Rvci50cmFmZmljU3RhdHMmJnRoaXMuX3N0YXRzQ29sbGVjdG9yLnRyYWZmaWNTdGF0cy5wZWVyX2RlbGF5LmZpbmQocj0+ci5wZWVyX3VpZD09PW4ucGVlcl91aWQpO2kmJmkuQl9zdCE9PW4uQl9zdCYmcXUoKCk9Pnt0aGlzLmVtaXQoeGUuU1RSRUFNX1RZUEVfQ0hBTkdFLG4ucGVlcl91aWQsbi5CX3N0KTt9KTt9KSx0aGlzLl9zdGF0c0NvbGxlY3Rvci51cGRhdGVUcmFmZmljU3RhdHMoZSk7fWdldEpvaW5NZXNzYWdlKGUpe2lmKCF0aGlzLmpvaW5JbmZvfHwhdGhpcy5rZXkpdGhyb3cgbmV3IE8oUi5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBnZW5lcmF0ZSBqb2luIG1lc3NhZ2UsIG5vIGpvaW4gaW5mb1wiKTtsZXQgbj1PYmplY3QuYXNzaWduKHt9LHRoaXMuam9pbkluZm8uYXBSZXNwb25zZSksaT12KFwiUkVQT1JUX0FQUF9TQ0VOQVJJT1wiKTtpZih0eXBlb2YgaSE9XCJzdHJpbmdcIil0cnl7aT1KU09OLnN0cmluZ2lmeShpKTt9Y2F0Y2h7aT12b2lkIDA7fWkmJmkubGVuZ3RoPjEyOCYmKGk9dm9pZCAwKTtsZXQgcj0hKCR0KCl8fEVPKDg3KXx8cEMoKSkmJnR5cGVvZiB2KFwiRU5BQkxFX1BSRV9TVUJcIik9PVwiYm9vbGVhblwiJiZ2KFwiRU5BQkxFX1BSRV9TVUJcIiksbz0hcEMoKSYmWGkoXCJFTkFCTEVfUFJFQUxMT0NfUENcIixcImJvb2xlYW5cIikscz1qcih7bGljZW5zZTp0aGlzLmpvaW5JbmZvLmxpY2Vuc2UscDJwX2lkOnRoaXMuc3RvcmUucDJwSWQsc2Vzc2lvbl9pZDp0aGlzLmpvaW5JbmZvLnNpZCxhcHBfaWQ6dGhpcy5qb2luSW5mby5hcHBJZCxjaGFubmVsX2tleTp0aGlzLmtleSxjaGFubmVsX25hbWU6dGhpcy5qb2luSW5mby5jbmFtZSxzZGtfdmVyc2lvbjppaSxicm93c2VyOm5hdmlnYXRvci51c2VyQWdlbnQscHJvY2Vzc19pZDp2KFwiUFJPQ0VTU19JRFwiKSxtb2RlOnRoaXMuc3RvcmUudXNlUDJQP1wicDJwXCI6dGhpcy5zcGVjLm1vZGUsY29kZWM6dGhpcy5zcGVjLmNvZGVjLHJvbGU6dGhpcy5yb2xlLGhhc19jaGFuZ2VkX2dhdGV3YXk6dGhpcy5oYXNDaGFuZ2VCR1BBZGRyZXNzLGFwX3Jlc3BvbnNlOm4sZXh0ZW5kOnYoXCJKT0lOX0VYVEVORFwiKSxkZXRhaWxzOns2OnRoaXMuam9pbkluZm8uc3RyaW5nVWlkLGNzZXJ2aWNlX21hcDp0aGlzLmpvaW5JbmZvLmNsb3VkUHJveHlTZXJ2ZXI9PT1cInByb3h5M1wiP1wiMVwiOnRoaXMuam9pbkluZm8uY2xvdWRQcm94eVNlcnZlcj09PVwicHJveHk1XCI/XCIyXCI6dm9pZCAwfSxmZWF0dXJlczp7cmVqb2luOiEwfSxvcHRpb25hbEluZm86dGhpcy5qb2luSW5mby5vcHRpb25hbEluZm8sYXBwU2NlbmFyaW86aSxhdHRyaWJ1dGVzOnt1c2VyQXR0cmlidXRlczp7ZW5hYmxlUHVibGlzaGVkVXNlckxpc3Q6dihcIkVOQUJMRV9QVUJMSVNIRURfVVNFUl9MSVNUXCIpLG1heFN1YnNjcmlwdGlvbjp2KFwiTUFYX1NVQlNDUklQVElPTlwiKSxzdWJzY3JpYmVBdWRpb0ZpbHRlclRvcE46dHlwZW9mIHYoXCJTVUJTQ1JJQkVfQVVESU9fRklMVEVSX1RPUE5cIik9PVwibnVtYmVyXCI/dihcIlNVQlNDUklCRV9BVURJT19GSUxURVJfVE9QTlwiKTp2b2lkIDAsZW5hYmxlUHVibGlzaEF1ZGlvRmlsdGVyOnR5cGVvZiB2KFwiRU5BQkxFX1BVQkxJU0hfQVVESU9fRklMVEVSXCIpPT1cImJvb2xlYW5cIj92KFwiRU5BQkxFX1BVQkxJU0hfQVVESU9fRklMVEVSXCIpOnZvaWQgMCxlbmFibGVVc2VyTGljZW5zZUNoZWNrOnR5cGVvZiB2KFwiRU5BQkxFX1VTRVJfTElDRU5TRV9DSEVDS1wiKT09XCJib29sZWFuXCI/dihcIkVOQUJMRV9VU0VSX0xJQ0VOU0VfQ0hFQ0tcIik6dm9pZCAwLGVuYWJsZVJUWDp2KFwiVVNFX1BVQl9SVFhcIik9PT0hMHx8dihcIlVTRV9TVUJfUlRYXCIpPT09ITB8fHZvaWQgMCxkaXNhYmxlRkVDOnYoXCJESVNBQkxFX0ZFQ1wiKSxlbmFibGVOVFBSZXBvcnQ6ISF2KFwiRU5BQkxFX05UUF9SRVBPUlRcIil8fHZvaWQgMCxlbmFibGVJbnN0YW50VmlkZW86ISF2KFwiRU5BQkxFX0lOU1RBTlRfVklERU9cIil8fHZvaWQgMCxlbmFibGVGdWxsbGlua0F2U3luYzohIXYoXCJFTkFCTEVfRlVMTF9MSU5LX0FWX1NZTkNcIil8fHZvaWQgMCxlbmFibGVEYXRhU3RyZWFtMjpYaShcIkVOQUJMRV9EQVRBU1RSRUFNXzJcIixcImJvb2xlYW5cIiksZW5hYmxlQXV0RmVlZGJhY2s6ISF2KFwiRU5BQkxFX0FVVF9GRUVEQkFDS1wiKXx8dm9pZCAwLHJ0bTJGbGFnOnR5cGVvZiB0aGlzLmpvaW5JbmZvLnJ0bUZsYWc9PVwibnVtYmVyXCI/dGhpcy5qb2luSW5mby5ydG1GbGFnOnZvaWQgMCxlbmFibGVVc2VyQXV0b1JlYmFsYW5jZUNoZWNrOiEhdihcIkVOQUJMRV9VU0VSX0FVVE9fUkVCQUxBTkNFX0NIRUNLXCIpLGVuYWJsZVhSOlhpKFwiVVNFX1hSXCIsXCJib29sZWFuXCIpLGVuYWJsZUxvc3NiYXNlZEJ3ZTpYaShcIkVOQUJMRV9MT1NTQkFTRURfQldFXCIsXCJib29sZWFuXCIpLGVuYWJsZUF1dENDOiEhdihcIkVOQUJMRV9BVVRfQ0NcIil8fHZvaWQgMCxlbmFibGVDQ0ZhbGxiYWNrOlhpKFwiRU5BQkxFX0NDX0ZBTExCQUNLXCIsXCJib29sZWFuXCIpLGVuYWJsZVByZWFsbG9jUEM6byxwcmVTdWJOdW06cj9YaShcIlBSRV9TVUJfTlVNXCIsXCJudW1iZXJcIik6dm9pZCAwLGVuYWJsZVB1YlRXQ0M6WGkoXCJQVUJMSVNIX1RXQ0NcIixcImJvb2xlYW5cIiksZW5hYmxlU3ViVFdDQzpYaShcIlNVQlNDUklCRV9UV0NDXCIsXCJib29sZWFuXCIpLGVuYWJsZVB1YlJUWDpYaShcIlVTRV9QVUJfUlRYXCIsXCJib29sZWFuXCIpLGVuYWJsZVN1YlJUWDpYaShcIlVTRV9TVUJfUlRYXCIsXCJib29sZWFuXCIpLGVuYWJsZVN1YlNWQzp2KFwiRU5BQkxFX1NWQ1wiKT92KFwiRU5BQkxFX1NWQ19ERUZBVUxUX0NPREVDU1wiKTpBcnJheS5pc0FycmF5KHYoXCJTVkNcIikpJiZ2KFwiU1ZDXCIpLmxlbmd0aCE9PTA/dihcIlNWQ1wiKTp2b2lkIDB9fSxqb2luX3RzOnRoaXMuam9pbkdhdGV3YXlTdGFydFRpbWV9LGUpO3JldHVybiB0aGlzLmpvaW5JbmZvLnN0cmluZ1VpZCYmKHMuc3RyaW5nX3VpZD10aGlzLmpvaW5JbmZvLnN0cmluZ1VpZCksdGhpcy5qb2luSW5mby5hZXNtb2RlJiZ0aGlzLmpvaW5JbmZvLmFlc3Bhc3N3b3JkJiYocy5hZXNfbW9kZT10aGlzLmpvaW5JbmZvLmFlc21vZGUsdihcIkVOQ1JZUFRfQUVTXCIpPyhzLmFlc19zZWNyZXQ9dGhpcy5qb2luSW5mby5hZXNwYXNzd29yZCxzLmFlc19lbmNyeXB0PSEwKTpzLmFlc19zZWNyZXQ9dGhpcy5qb2luSW5mby5hZXNwYXNzd29yZCx0aGlzLmpvaW5JbmZvLmFlc3NhbHQmJihzLmFlc19zYWx0PXRoaXMuam9pbkluZm8uYWVzc2FsdCkpLG4uYWRkcmVzc2VzW3RoaXMuc2lnbmFsLndlYnNvY2tldC5jdXJyZW50VVJMSW5kZXhdJiYocy5hcF9yZXNwb25zZS50aWNrZXQ9bi5hZGRyZXNzZXNbdGhpcy5zaWduYWwud2Vic29ja2V0LmN1cnJlbnRVUkxJbmRleF0udGlja2V0LGRlbGV0ZSBuLmFkZHJlc3NlcyksdGhpcy5qb2luSW5mby5kZWZhdWx0VmlkZW9TdHJlYW0hPT12b2lkIDAmJihzLmRlZmF1bHRfdmlkZW9fc3RyZWFtPXRoaXMuam9pbkluZm8uZGVmYXVsdFZpZGVvU3RyZWFtKSxzfWdldFJlam9pbk1lc3NhZ2UoKXtpZighdGhpcy5qb2luSW5mbyl0aHJvdyBuZXcgTyhSLlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IGdlbmVyYXRlIHJlam9pbiBtZXNzYWdlLCBubyBqb2luIGluZm9cIik7cmV0dXJuIHtzZXNzaW9uX2lkOnRoaXMuam9pbkluZm8uc2lkLGNoYW5uZWxfbmFtZTp0aGlzLmpvaW5JbmZvLmNuYW1lLGNpZDp0aGlzLmpvaW5JbmZvLmNpZCx1aWQ6dGhpcy5qb2luSW5mby51aWQsdmlkOk51bWJlcih0aGlzLmpvaW5JbmZvLnZpZCl9fWhhbmRsZVNpZ25hbEV2ZW50cygpe3RoaXMuc2lnbmFsLm9uKG50LldTX1JFQ09OTkVDVF9XQUlUVElOR19GSU5JU0gsZT0+e3ZhciBuO1cobj1bXCJ0cnlOZXh0XCIsXCJyZWNvdmVyXCJdKS5jYWxsKG4sZSkmJnRoaXMuam9pbkluZm8mJlguYWRqdXN0U2Vzc2lvblN0YXJ0VGltZSh0aGlzLmpvaW5JbmZvLnNpZCk7fSksdGhpcy5zaWduYWwub24obnQuV1NfUkVDT05ORUNUX0NSRUFURV9DT05ORUNUSU9OLGU9Pnt0aGlzLmpvaW5HYXRld2F5U3RhcnRUaW1lPURhdGUubm93KCk7fSksdGhpcy5zaWduYWwub24obnQuV1NfUkVDT05ORUNUSU5HLGU9Pnt0aGlzLmpvaW5JbmZvJiZYLldlYlNvY2tldFF1aXQodGhpcy5qb2luSW5mby5zaWQse2x0czpEYXRlLm5vdygpLHN1Y2M6LTEsY25hbWU6dGhpcy5qb2luSW5mby5jbmFtZSx1aWQ6dGhpcy5qb2luSW5mby51aWQsY2lkOnRoaXMuam9pbkluZm8uY2lkLGVycm9yQ29kZTplfHxCZS5ORVRXT1JLX0VSUk9SfSksdGhpcy5qb2luSW5mbyYmKHRoaXMuc3RhdGU9XCJSRUNPTk5FQ1RJTkdcIixYLnNlc3Npb25Jbml0KHRoaXMuam9pbkluZm8uc2lkLHtsdHM6bmV3IERhdGUoKS5nZXRUaW1lKCksZXh0ZW5kOnRoaXMuaXNTaWduYWxSZWNvdmVyP3tyZWNvdmVyOiEwfTp7cmVqb2luOiEwfSxjbmFtZTp0aGlzLmpvaW5JbmZvLmNuYW1lLGFwcGlkOnRoaXMuam9pbkluZm8uYXBwSWQsbW9kZTp0aGlzLnNwZWMubW9kZSxzdHJpbmdVaWQ6dGhpcy5qb2luSW5mby5zdHJpbmdVaWQsY2hhbm5lbFByb2ZpbGU6dGhpcy5zcGVjLm1vZGU9PT1cImxpdmVcIj8xOjAsY2hhbm5lbE1vZGU6MCxsc2lkOnRoaXMuam9pbkluZm8uc2lkLGNsaWVudFJvbGU6dGhpcy5yb2xlPT09XCJhdWRpZW5jZVwiPzI6MSxidWlsZEZvcm1hdDoyfSksdGhpcy5pc1NpZ25hbFJlY292ZXI9ITEsdGhpcy5qb2luR2F0ZXdheVN0YXJ0VGltZT1EYXRlLm5vdygpKTt9KSx0aGlzLnNpZ25hbC5vbihudC5XU19DTE9TRUQsZT0+e2xldCBuO3N3aXRjaChlKXtjYXNlIEF0LkxFQVZFOm49QmUuTEVBVkU7YnJlYWs7Y2FzZSBBdC5VSURfQkFOTkVEOmNhc2UgQXQuSVBfQkFOTkVEOmNhc2UgQXQuQ0hBTk5FTF9CQU5ORUQ6Y2FzZSBBdC5TRVJWRVJfRVJST1I6bj1CZS5TRVJWRVJfRVJST1I7YnJlYWs7Y2FzZSBBdC5GQUxMQkFDSzpuPUJlLkZBTExCQUNLO2JyZWFrO2Nhc2UgQXQuTElDRU5TRV9NSVNTSU5HOmNhc2UgQXQuTElDRU5TRV9FWFBJUkVEOmNhc2UgQXQuTElDRU5TRV9NSU5VVEVTX0VYQ0VFREVEOmNhc2UgQXQuTElDRU5TRV9QRVJJT0RfSU5WQUxJRDpjYXNlIEF0LkxJQ0VOU0VfTVVMVElQTEVfU0RLX1NFUlZJQ0U6Y2FzZSBBdC5MSUNFTlNFX0lMTEVHQUw6Y2FzZSBBdC5UT0tFTl9FWFBJUkU6bj1lO2JyZWFrO2RlZmF1bHQ6bj1CZS5ORVRXT1JLX0VSUk9SO31fLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbc2lnbmFsXSB3ZWJzb2NrZXQgY2xvc2VkLCByZWFzb246IFwiKS5jb25jYXQobnx8XCJ1bmRlZmluZWQgLT4gXCIrQmUuTkVUV09SS19FUlJPUikpLHRoaXMuam9pbkluZm8mJlguV2ViU29ja2V0UXVpdCh0aGlzLmpvaW5JbmZvLnNpZCx7bHRzOkRhdGUubm93KCksc3VjYzplPT09QXQuTEVBVkU/MTotMSxjbmFtZTp0aGlzLmpvaW5JbmZvLmNuYW1lLHVpZDp0aGlzLmpvaW5JbmZvLnVpZCxjaWQ6dGhpcy5qb2luSW5mby5jaWQsZXJyb3JDb2RlOm59KSx0aGlzLl9kaXNjb25uZWN0ZWRSZWFzb249ZSxlIT09QXQuRkFMTEJBQ0smJih0aGlzLnN0YXRlPVwiRElTQ09OTkVDVEVEXCIpLHRoaXMucmVzZXQoKTt9KSx0aGlzLnNpZ25hbC5vbihudC5XU19DT05ORUNURUQsKCk9PntpZih0aGlzLnVwZGF0ZVR1cm5Db25maWdGcm9tU2lnbmFsKCksdGhpcy5zdGF0ZT1cIkNPTk5FQ1RFRFwiLHRoaXMuam9pbkluZm8mJih0aGlzLnJvbGU9PT1cImF1ZGllbmNlXCImJnRoaXMuX2NsaWVudFJvbGVPcHRpb25zJiYodGhpcy5fY2xpZW50Um9sZU9wdGlvbnMubGV2ZWx8fHRoaXMuX2NsaWVudFJvbGVPcHRpb25zLmRlbGF5KSYmKF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIHBhdGNoIHRvIHNlbmQgc2V0IGNsaWVudCByb2xlLCByb2xlOiBcIikuY29uY2F0KHRoaXMucm9sZSxcIiwgbW9kZTogXCIpLmNvbmNhdCh0aGlzLnNwZWMubW9kZSxcIiwgbGV2ZWw6IFwiKS5jb25jYXQodGhpcy5fY2xpZW50Um9sZU9wdGlvbnMubGV2ZWwsXCIsIGRlbGF5OiBcIikuY29uY2F0KHRoaXMuX2NsaWVudFJvbGVPcHRpb25zLmRlbGF5KSksdGhpcy5zZXRDbGllbnRSb2xlKHRoaXMucm9sZSx0aGlzLl9jbGllbnRSb2xlT3B0aW9ucykpLFguam9pbkdhdGV3YXkodGhpcy5qb2luSW5mby5zaWQse2x0czp0aGlzLmpvaW5HYXRld2F5U3RhcnRUaW1lLHN1Y2M6ITAsZWM6bnVsbCx2aWQ6dGhpcy5qb2luSW5mby52aWQsYWRkcjp0aGlzLnNpZ25hbC51cmwsdWlkOnRoaXMuam9pbkluZm8udWlkLGNpZDp0aGlzLmpvaW5JbmZvLmNpZCxmaXJzdFN1Y2Nlc3M6dGhpcy5faXNQcm9hY3RpdmVKb2luLGF2b2lkSm9pblN0YXJ0VGltZTp0aGlzLnN0b3JlLmF2b2lkSm9pblN0YXJ0LGlzUHJveHk6ISF0aGlzLmpvaW5JbmZvLnByb3h5U2VydmVyLHNpZ25hbENoYW5uZWw6XCIwXCIscHJlbG9hZDp0aGlzLmpvaW5JbmZvLnByZWxvYWR9KSx0aGlzLl9pc1Byb2FjdGl2ZUpvaW49ITEsdGhpcy5qb2luSW5mby51c2VMb2NhbEFjY2Vzc1BvaW50JiZ0aGlzLmpvaW5JbmZvLnNldExvY2FsQVBWZXJzaW9uPT09MSkpe2xldCBlPXRoaXMuc2lnbmFsLnVybCYmdGhpcy5zaWduYWwudXJsLm1hdGNoKC93c3NcXDpcXC9cXC8oW146XSspOihcXGQrKS8pO2lmKCFlKXJldHVybiB2b2lkIF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIHNldCBsb2NhbCBhY2Nlc3MgcG9pbnQgYWZ0ZXIgam9pbmVkIGZhaWxlZDogXCIpLmNvbmNhdChlKSk7T3QoXCJFVkVOVF9SRVBPUlRfRE9NQUlOXCIsZVsxXSksT3QoXCJFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTlwiLGVbMV0pLE90KFwiTE9HX1VQTE9BRF9TRVJWRVJcIixcIlwiLmNvbmNhdChlWzFdLFwiOjY0NDRcIikpO319KSx0aGlzLnNpZ25hbC5vbihkdC5PTl9VUExJTktfU1RBVFMsZT0+e3RoaXMuX3N0YXRzQ29sbGVjdG9yLnVwZGF0ZVVwbGlua1N0YXRzKGUpO30pLHRoaXMuc2lnbmFsLm9uKG50LlJFUVVFU1RfUkVDT1ZFUiwoZSxuLGkpPT57aWYoIXRoaXMuam9pbkluZm8pcmV0dXJuIGkobmV3IE8oUi5VTkVYUEVDVEVEX0VSUk9SLFwiZ2F0ZXdheTogY2FuIG5vdCByZWNvdmVyLCBubyBqb2luIGluZm9cIikpO2UmJih0aGlzLmpvaW5JbmZvLm11bHRpSVA9ZSx0aGlzLmhhc0NoYW5nZUJHUEFkZHJlc3M9ITApLHRoaXMuaXNTaWduYWxSZWNvdmVyPSEwLEdlKHRoaXMseGUuUkVRVUVTVF9ORVdfR0FURVdBWV9MSVNUKS50aGVuKG4pLmNhdGNoKGkpO30pLHRoaXMuc2lnbmFsLm9uKG50LlJFUVVFU1RfSk9JTl9JTkZPLGFzeW5jIGU9Pnt2YXIgbjtpZih0aGlzLnVwZGF0ZVR1cm5Db25maWdGcm9tU2lnbmFsKCksdGhpcy5zdG9yZS51c2VQMlApcmV0dXJuIHZvaWQgZSh0aGlzLmdldEpvaW5NZXNzYWdlKHtvcnRjOnt9fSkpO2xldHtpY2VQYXJhbWV0ZXJzOmksZHRsc1BhcmFtZXRlcnM6cixydHBDYXBhYmlsaXRpZXM6b309YXdhaXQgR2UodGhpcyx4ZS5SRVFVRVNUX1AyUF9DT05ORUNUSU9OX1BBUkFNUyx7dHVyblNlcnZlcjoobj10aGlzLmpvaW5JbmZvKT09PW51bGx8fG49PT12b2lkIDA/dm9pZCAwOm4udHVyblNlcnZlcn0pO2UodGhpcy5nZXRKb2luTWVzc2FnZSh7b3J0Yzp7aWNlUGFyYW1ldGVyczppLGR0bHNQYXJhbWV0ZXJzOnIscnRwQ2FwYWJpbGl0aWVzOm8sdmVyc2lvbjpcIjJcIn19KSk7fSksdGhpcy5zaWduYWwub24obnQuUkVRVUVTVF9SRUpPSU5fSU5GTyxlPT57ZSh0aGlzLmdldFJlam9pbk1lc3NhZ2UoKSk7fSksdGhpcy5zaWduYWwub24obnQuUkVQT1JUX0pPSU5fR0FURVdBWSwoZSxuKT0+e2lmKCF0aGlzLmpvaW5JbmZvKXJldHVybjtsZXQgaSxyPVwiXCI7dmFyIG87ZSBpbnN0YW5jZW9mIE8/KGk9KChvPWUuZGF0YSk9PT1udWxsfHxvPT09dm9pZCAwP3ZvaWQgMDpvLmRlc2MpfHxlLmNvZGUscj1lLm1lc3NhZ2UpOmk9ZSxYLmpvaW5HYXRld2F5KHRoaXMuam9pbkluZm8uc2lkLHtsdHM6dGhpcy5qb2luR2F0ZXdheVN0YXJ0VGltZSxzdWNjOiExLGVjOmksZXJyb3JNc2c6cixhZGRyOm4sdWlkOnRoaXMuam9pbkluZm8udWlkLGNpZDp0aGlzLmpvaW5JbmZvLmNpZCxmaXJzdFN1Y2Nlc3M6dGhpcy5faXNQcm9hY3RpdmVKb2luLGF2b2lkSm9pblN0YXJ0VGltZTp0aGlzLnN0b3JlLmF2b2lkSm9pblN0YXJ0LGlzUHJveHk6ISF0aGlzLmpvaW5JbmZvLnByb3h5U2VydmVyLHNpZ25hbENoYW5uZWw6XCIwXCIscHJlbG9hZDp0aGlzLmpvaW5JbmZvLnByZWxvYWR9KSx0aGlzLl9pc1Byb2FjdGl2ZUpvaW49ITE7fSksdGhpcy5zaWduYWwub24obnQuSVNfUDJQX0RJU0NPTk5FQ1RFRCxlPT57ZShBYyh0aGlzLHhlLklTX1AyUF9ESVNDT05ORUNURUQpKTt9KSx0aGlzLnNpZ25hbC5vbihudC5ESVNDT05ORUNUX1AyUCwoKT0+e3RoaXMuZW1pdCh4ZS5ESVNDT05ORUNUX1AyUCk7fSksdGhpcy5zaWduYWwub24obnQuUkVRVUVTVF9TVUNDRVNTLCgpPT57dGhpcy5fc2lnbmFsVGltZW91dD0hMTt9KSx0aGlzLnNpZ25hbC5vbihudC5SRVFVRVNUX1RJTUVPVVQsKCk9Pnt0aGlzLl9zaWduYWxUaW1lb3V0PSEwO30pLHRoaXMuc2lnbmFsLm9uKG50LkpPSU5fUkVTUE9OU0UsZT0+e2xldCBuPXRoaXMuZ2V0Q3VycmVudEdhdGV3YXlBZGRyZXNzKCk7dGhpcy5lbWl0KHhlLkpPSU5fUkVTUE9OU0UsZSxuKTt9KSx0aGlzLnNpZ25hbC5vbihudC5QUkVfQ09OTkVDVF9QQyxhc3luYygpPT57aWYodGhpcy5qb2luSW5mbyl7dGhpcy51cGRhdGVUdXJuQ29uZmlnRnJvbVNpZ25hbCgpO2xldCBlPXRoaXMuZ2V0Q3VycmVudEdhdGV3YXlBZGRyZXNzKCksbj12KFwiRklOR0VSUFJJTlRcIil8fHRoaXMuam9pbkluZm8uYXBSZXNwb25zZS5hZGRyZXNzZXNbdGhpcy5zaWduYWwuY3VycmVudFVSTEluZGV4XS5maW5nZXJwcmludDtpZihlJiZuKXtsZXQgaT1pMChlKTt0aGlzLmVtaXQoeGUuUFJFX0NPTk5FQ1RfUEMse2NhbmRpZGF0ZXM6aSxmaW5nZXJwcmludDpufSk7fX19KTt9YXN5bmMgdHJ5VW5zdWJCZWZvcmVSZXN1YihlLG4pe3RyeXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KGV0LlVOU1VCU0NSSUJFLHtwMnBfaWQ6dGhpcy5zdG9yZS5wMnBJZCxzdHJlYW1faWQ6ZSxvcnRjOltuXX0sITApO31jYXRjaChpKXt0aHJvdyBfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIHRyeVVuc3ViQmVmb3JlUmVzdWIgd2FybmluZ1wiKSxpKSxpfX1hc3luYyB0cnlVbnN1YkRhdGFDaGFubmVsQmVmb3JlUmVzdWIoZSxuKXt0cnl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChldC5VTlNVQlNDUklCRSx7c3RyZWFtX2lkOm4uaWR9LCEwKTt9Y2F0Y2goaSl7dGhyb3cgXy53YXJuaW5nKFwidW5zdWJzY3JpYmUgZGF0YWNoYW5uZWwgd2FybmluZ1wiLGkpLGl9fWFzeW5jIHRyeVVucHViQmVmb3JlUmVwdWIoZSxuKXt0cnl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChldC5VTlBVQkxJU0gse3N0cmVhbV9pZDplLG9ydGM6bn0sITApO31jYXRjaChpKXt0aHJvdyBfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIHRyeVVucHViQmVmb3JlUmVwdWIgd2FybmluZzogXCIpLGkpLGl9fWFzeW5jIHRyeVVucHViRGF0YUNoYW5uZWxCZWZvcmVSZXB1YihlLG4pe3RyeXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KGV0LlVOUFVCTElTSF9EQVRBU1RSRUFNLHtjaGFubm5lbF9pZDpuLmNoYW5uZWxJZH0sITApO31jYXRjaChpKXt0aHJvdyBfLndhcm5pbmcoXCJ1bnB1Ymxpc2ggZGF0YXN0cmVhbSB3YXJuaW5nOiBcIixpKSxpfX1hc3luYyB0cnlNYXNzVW5zdWJCZWZvcmVSZXN1YihlKXtsZXQgbj17dXNlcnM6ZS5tYXAoaT0+KHtzdHJlYW1faWQ6aS5zdHJlYW1faWQsc3RyZWFtX3R5cGU6aS5zdHJlYW1fdHlwZX0pKX07dHJ5e2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoZXQuVU5TVUJTQ1JJQkVfU1RSRUFNUyxuLCEwKTt9Y2F0Y2goaSl7dGhyb3cgXy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSB0cnlNYXNzVW5zdWJCZWZvcmVSZXN1YiB3YXJuaW5nXCIpLGkpLGl9fWFzeW5jIG11dGVMb2NhbChlLG4pe2xldCBpPXthY3Rpb246ZS5maW5kKHI9PnIuc3RyZWFtX3R5cGU9PT1DdC5BdWRpbyk/XCJtdXRlX2xvY2FsX2F1ZGlvXCI6XCJtdXRlX2xvY2FsX3ZpZGVvXCIscDJwX2lkOnRoaXMuc3RvcmUucDJwSWQsb3J0YzplLHN0cmVhbV9pZDpufTt0cnl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChldC5DT05UUk9MLGksITAsITApO31jYXRjaChyKXt0aHJvdyBfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIGdhdGV3YXkgbXV0ZUxvY2FsIHdhcm5pbmc6IFwiKSxyKSxyfX1hc3luYyB1bm11dGVMb2NhbChlLG4pe2xldCBpPXthY3Rpb246ZS5maW5kKHI9PnIuc3RyZWFtX3R5cGU9PT1DdC5BdWRpbyk/XCJ1bm11dGVfbG9jYWxfYXVkaW9cIjpcInVubXV0ZV9sb2NhbF92aWRlb1wiLHAycF9pZDp0aGlzLnN0b3JlLnAycElkLG9ydGM6ZSxzdHJlYW1faWQ6bn07dHJ5e2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoZXQuQ09OVFJPTCxpLCEwLCEwKTt9Y2F0Y2gocil7dGhyb3cgXy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBnYXRld2F5IHVubXV0ZUxvY2FsIHdhcm5pbmc6IFwiKSxyKSxyfX1hc3luYyBtdXRlUmVtb3RlKGUsbil7bGV0IGk9e2FjdGlvbjplPT09US5BVURJTz9cIm11dGVfcmVtb3RlX2F1ZGlvXCI6XCJtdXRlX3JlbW90ZV92aWRlb1wiLHAycF9pZDp0aGlzLnN0b3JlLnAycElkLHN0cmVhbV9pZDpufTt0cnl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChldC5DT05UUk9MLGksITAsITApO31jYXRjaChyKXt0aHJvdyBfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIGdhdGV3YXkgbXV0ZVJlbW90ZSB3YXJuaW5nOiBcIikscikscn19YXN5bmMgdW5tdXRlUmVtb3RlKGUsbil7bGV0IGk9e2FjdGlvbjplPT09US5BVURJTz9cInVubXV0ZV9yZW1vdGVfYXVkaW9cIjpcInVubXV0ZV9yZW1vdGVfdmlkZW9cIixwMnBfaWQ6dGhpcy5zdG9yZS5wMnBJZCxzdHJlYW1faWQ6bn07dHJ5e2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoZXQuQ09OVFJPTCxpLCEwLCEwKTt9Y2F0Y2gocil7dGhyb3cgXy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBnYXRld2F5IHVubXV0ZVJlbW90ZSB3YXJuaW5nOiBcIikscikscn19dXBsb2FkV1JUQ1N0YXRzKGUpe3RoaXMuc2lnbmFsLnVwbG9hZFdSVENTdGF0cyhlKTt9dXBsb2FkKGUsbil7dGhpcy5zaWduYWwudXBsb2FkKGUsbik7fWdldFNpZ25hbFJUVCgpe3JldHVybiB0aGlzLnNpZ25hbC5ydHR9YXN5bmMgcmVzdGFydElDRShlKXtsZXQgbj17cDJwX2lkOnRoaXMuc3RvcmUucDJwSWQsc3RyZWFtX2lkOnRoaXMuc3RvcmUudWlkLG9ydGM6ZX07dHJ5e3JldHVybiBhd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KGV0LlJFU1RBUlRfSUNFLG4sITApfWNhdGNoKGkpe3Rocm93IF8ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ2hhbm5lbC5yZXN0YXJ0SUNFIHdhcm5pbmc6IFwiKSxpKSxpfX1yZWNvbm5lY3QoKXt0aGlzLnN0YXRlPT09XCJDT05ORUNURURcIiYmdGhpcy5zaWduYWwucmVjb25uZWN0KHZvaWQgMCxCZS5QMlBfRkFJTEVEKTt9Z2V0Q3VycmVudEdhdGV3YXlBZGRyZXNzKCl7dmFyIGUsbjtpZighdihcIkdBVEVXQVlfV1NTX0FERFJFU1NcIikpcmV0dXJuIHYoXCJVU0VfQ0FORElEQVRFX0ZST01fQVBfREVUQUlMXCIpJiYoZT10aGlzLmpvaW5JbmZvKSE9PW51bGwmJmUhPT12b2lkIDAmJmUuYXBHYXRld2F5QWRkcmVzcz8oXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gdXNlIGNhbmRpZGF0ZSBmcm9tIGFwIGRldGFpbCwgXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeSh0aGlzLmpvaW5JbmZvLmFwR2F0ZXdheUFkZHJlc3MpKSksdGhpcy5qb2luSW5mby5hcEdhdGV3YXlBZGRyZXNzKToobj10aGlzLmpvaW5JbmZvKSE9PW51bGwmJm4hPT12b2lkIDAmJm4uZ2F0ZXdheUFkZHJzP3RoaXMuam9pbkluZm8uZ2F0ZXdheUFkZHJzW3RoaXMuc2lnbmFsLmN1cnJlbnRVUkxJbmRleF06dm9pZCAwfWFzeW5jIHNldFB1Ymxpc2hBdWRpb0ZpbHRlckVuYWJsZWQoZSl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChldC5TRVRfUEFSQU1FVEVSLHtlbmFibGVQdWJsaXNoQXVkaW9GaWx0ZXI6ZX0pO319LEhkPTAsbF89MDtmdW5jdGlvbiBIaSh0LGUsbixpKXtyZXR1cm4gbmV3IGooKHIsbyk9PntlLnRpbWVvdXQ9ZS50aW1lb3V0fHx2KFwiSFRUUF9DT05ORUNUX1RJTUVPVVRcIiksZS5yZXNwb25zZVR5cGU9ZS5yZXNwb25zZVR5cGV8fFwianNvblwiLGUuZGF0YSYmIW4/KGUuZGF0YT1KU09OLnN0cmluZ2lmeShlLmRhdGEpLEhkKz1hcihlLmRhdGEpKTpuJiYoZS5kYXRhLnNpemU/SGQrPWUuZGF0YS5zaXplOmUuZGF0YSBpbnN0YW5jZW9mIEZvcm1EYXRhP0hkKz1BTyhlLmRhdGEpOkhkKz1hcihKU09OLnN0cmluZ2lmeShlLmRhdGEpKSksZS5oZWFkZXJzPWUuaGVhZGVyc3x8e30sZS5oZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdPWUuaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXXx8XCJhcHBsaWNhdGlvbi9qc29uXCIsZS5tZXRob2Q9XCJQT1NUXCIsZS51cmw9dCxtbi5yZXF1ZXN0KGUpLnRoZW4ocz0+e3R5cGVvZiBzLmRhdGE9PVwic3RyaW5nXCI/bF8rPWFyKHMuZGF0YSk6cy5kYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fHMuZGF0YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk/bF8rPXMuZGF0YS5ieXRlTGVuZ3RoOmxfKz1hcihKU09OLnN0cmluZ2lmeShzLmRhdGEpKSxpJiZyKHtkYXRhOnMuZGF0YSxoZWFkZXJzOnMuaGVhZGVyc30pLHIocy5kYXRhKTt9KS5jYXRjaChzPT57bW4uaXNDYW5jZWwocyk/byhuZXcgTyhSLk9QRVJBVElPTl9BQk9SVEVELFwiY2FuY2VsIHRva2VuIGNhbmNlbGVkXCIpKTpzLmNvZGU9PT1cIkVDT05OQUJPUlRFRFwiP28obmV3IE8oUi5ORVRXT1JLX1RJTUVPVVQscy5tZXNzYWdlKSk6cy5yZXNwb25zZT9vKG5ldyBPKFIuTkVUV09SS19SRVNQT05TRV9FUlJPUixzLnJlc3BvbnNlLnN0YXR1cykpOm8obmV3IE8oUi5ORVRXT1JLX0VSUk9SLHMubWVzc2FnZSkpO30pO30pfShmdW5jdGlvbigpe3ZhciB0O2Z1bmN0aW9uIGUoTCl7dmFyIEY9MDtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gRjxMLmxlbmd0aD97ZG9uZTohMSx2YWx1ZTpMW0YrK119Ontkb25lOiEwfX19dmFyIG49dHlwZW9mIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzPT1cImZ1bmN0aW9uXCI/T2JqZWN0LmRlZmluZVByb3BlcnR5OmZ1bmN0aW9uKEwsRixZKXtyZXR1cm4gTD09QXJyYXkucHJvdG90eXBlfHxMPT1PYmplY3QucHJvdG90eXBlfHwoTFtGXT1ZLnZhbHVlKSxMfSxpLHI9ZnVuY3Rpb24oTCl7TD1bdHlwZW9mIGdsb2JhbFRoaXM9PVwib2JqZWN0XCImJmdsb2JhbFRoaXMsTCx0eXBlb2Ygd2luZG93PT1cIm9iamVjdFwiJiZ3aW5kb3csdHlwZW9mIHNlbGY9PVwib2JqZWN0XCImJnNlbGYsdHlwZW9mIFZzPT1cIm9iamVjdFwiJiZWc107Zm9yKHZhciBGPTA7RjxMLmxlbmd0aDsrK0Ype3ZhciBZPUxbRl07aWYoWSYmWS5NYXRoPT1NYXRoKXJldHVybiBZfXRocm93IEVycm9yKFwiQ2Fubm90IGZpbmQgZ2xvYmFsIG9iamVjdFwiKX0odGhpcyk7ZnVuY3Rpb24gbyhMLEYpe2lmKEYpdDp7dmFyIFk9cjtMPUwuc3BsaXQoXCIuXCIpO2Zvcih2YXIgTT0wO008TC5sZW5ndGgtMTtNKyspe3ZhciBtPUxbTV07aWYoIShtIGluIFkpKWJyZWFrIHQ7WT1ZW21dO30oRj1GKE09WVtMPUxbTC5sZW5ndGgtMV1dKSkhPU0mJkYhPW51bGwmJm4oWSxMLHtjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6Rn0pO319ZnVuY3Rpb24gcyhMKXtyZXR1cm4gKEw9e25leHQ6TH0pW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sTH1mdW5jdGlvbiBhKEwpe3ZhciBGPXR5cGVvZiBTeW1ib2w8XCJ1XCImJlN5bWJvbC5pdGVyYXRvciYmTFtTeW1ib2wuaXRlcmF0b3JdO3JldHVybiBGP0YuY2FsbChMKTp7bmV4dDplKEwpfX1pZihvKFwiU3ltYm9sXCIsZnVuY3Rpb24oTCl7ZnVuY3Rpb24gRihtLEkpe3RoaXMuQT1tLG4odGhpcyxcImRlc2NyaXB0aW9uXCIse2NvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpJfSk7fWlmKEwpcmV0dXJuIEw7Ri5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5BfTt2YXIgWT1cImpzY29tcF9zeW1ib2xfXCIrKDFlOSpNYXRoLnJhbmRvbSgpPj4+MCkrXCJfXCIsTT0wO3JldHVybiBmdW5jdGlvbiBtKEkpe2lmKHRoaXMgaW5zdGFuY2VvZiBtKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3JcIik7cmV0dXJuIG5ldyBGKFkrKEl8fFwiXCIpK1wiX1wiK00rKyxJKX19KSxvKFwiU3ltYm9sLml0ZXJhdG9yXCIsZnVuY3Rpb24oTCl7aWYoTClyZXR1cm4gTDtMPVN5bWJvbChcIlN5bWJvbC5pdGVyYXRvclwiKTtmb3IodmFyIEY9XCJBcnJheSBJbnQ4QXJyYXkgVWludDhBcnJheSBVaW50OENsYW1wZWRBcnJheSBJbnQxNkFycmF5IFVpbnQxNkFycmF5IEludDMyQXJyYXkgVWludDMyQXJyYXkgRmxvYXQzMkFycmF5IEZsb2F0NjRBcnJheVwiLnNwbGl0KFwiIFwiKSxZPTA7WTxGLmxlbmd0aDtZKyspe3ZhciBNPXJbRltZXV07dHlwZW9mIE09PVwiZnVuY3Rpb25cIiYmdHlwZW9mIE0ucHJvdG90eXBlW0xdIT1cImZ1bmN0aW9uXCImJm4oTS5wcm90b3R5cGUsTCx7Y29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHMoZSh0aGlzKSl9fSk7fXJldHVybiBMfSksdHlwZW9mIE9iamVjdC5zZXRQcm90b3R5cGVPZj09XCJmdW5jdGlvblwiKWk9T2JqZWN0LnNldFByb3RvdHlwZU9mO2Vsc2Uge3ZhciBjO3Q6e3ZhciBkPXt9O3RyeXtkLl9fcHJvdG9fXz17YTohMH0sYz1kLmE7YnJlYWsgdH1jYXRjaHt9Yz0hMTt9aT1jP2Z1bmN0aW9uKEwsRil7aWYoTC5fX3Byb3RvX189RixMLl9fcHJvdG9fXyE9PUYpdGhyb3cgbmV3IFR5cGVFcnJvcihMK1wiIGlzIG5vdCBleHRlbnNpYmxlXCIpO3JldHVybiBMfTpudWxsO312YXIgbD1pO2Z1bmN0aW9uIHUoKXt0aGlzLm09ITEsdGhpcy5qPW51bGwsdGhpcy52PXZvaWQgMCx0aGlzLmg9MSx0aGlzLnU9dGhpcy5DPTAsdGhpcy5sPW51bGw7fWZ1bmN0aW9uIGgoTCl7aWYoTC5tKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO0wubT0hMDt9ZnVuY3Rpb24gcChMLEYpe3JldHVybiBMLmg9Myx7dmFsdWU6Rn19ZnVuY3Rpb24gZyhMKXt0aGlzLmc9bmV3IHUsdGhpcy5HPUw7fWZ1bmN0aW9uIEUoTCxGLFksTSl7dHJ5e3ZhciBtPUYuY2FsbChMLmcuaixZKTtpZighKG0gaW5zdGFuY2VvZiBPYmplY3QpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJJdGVyYXRvciByZXN1bHQgXCIrbStcIiBpcyBub3QgYW4gb2JqZWN0XCIpO2lmKCFtLmRvbmUpcmV0dXJuIEwuZy5tPSExLG07dmFyIEk9bS52YWx1ZTt9Y2F0Y2goeSl7cmV0dXJuIEwuZy5qPW51bGwsTC5nLnMoeSksZihMKX1yZXR1cm4gTC5nLmo9bnVsbCxNLmNhbGwoTC5nLEkpLGYoTCl9ZnVuY3Rpb24gZihMKXtmb3IoO0wuZy5oOyl0cnl7dmFyIEY9TC5HKEwuZyk7aWYoRilyZXR1cm4gTC5nLm09ITEse3ZhbHVlOkYudmFsdWUsZG9uZTohMX19Y2F0Y2goWSl7TC5nLnY9dm9pZCAwLEwuZy5zKFkpO31pZihMLmcubT0hMSxMLmcubCl7aWYoRj1MLmcubCxMLmcubD1udWxsLEYuRil0aHJvdyBGLkQ7cmV0dXJuIHt2YWx1ZTpGLnJldHVybixkb25lOiEwfX1yZXR1cm4ge3ZhbHVlOnZvaWQgMCxkb25lOiEwfX1mdW5jdGlvbiBTKEwpe3RoaXMubmV4dD1mdW5jdGlvbihGKXtyZXR1cm4gTC5vKEYpfSx0aGlzLnRocm93PWZ1bmN0aW9uKEYpe3JldHVybiBMLnMoRil9LHRoaXMucmV0dXJuPWZ1bmN0aW9uKEYpe3JldHVybiBmdW5jdGlvbihZLE0pe2goWS5nKTt2YXIgbT1ZLmcuajtyZXR1cm4gbT9FKFksXCJyZXR1cm5cImluIG0/bS5yZXR1cm46ZnVuY3Rpb24oSSl7cmV0dXJuIHt2YWx1ZTpJLGRvbmU6ITB9fSxNLFkuZy5yZXR1cm4pOihZLmcucmV0dXJuKE0pLGYoWSkpfShMLEYpfSx0aGlzW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307fWZ1bmN0aW9uIEMoTCxGKXtyZXR1cm4gRj1uZXcgUyhuZXcgZyhGKSksbCYmTC5wcm90b3R5cGUmJmwoRixMLnByb3RvdHlwZSksRn1pZih1LnByb3RvdHlwZS5vPWZ1bmN0aW9uKEwpe3RoaXMudj1MO30sdS5wcm90b3R5cGUucz1mdW5jdGlvbihMKXt0aGlzLmw9e0Q6TCxGOiEwfSx0aGlzLmg9dGhpcy5DfHx0aGlzLnU7fSx1LnByb3RvdHlwZS5yZXR1cm49ZnVuY3Rpb24oTCl7dGhpcy5sPXtyZXR1cm46TH0sdGhpcy5oPXRoaXMudTt9LGcucHJvdG90eXBlLm89ZnVuY3Rpb24oTCl7cmV0dXJuIGgodGhpcy5nKSx0aGlzLmcuaj9FKHRoaXMsdGhpcy5nLmoubmV4dCxMLHRoaXMuZy5vKToodGhpcy5nLm8oTCksZih0aGlzKSl9LGcucHJvdG90eXBlLnM9ZnVuY3Rpb24oTCl7cmV0dXJuIGgodGhpcy5nKSx0aGlzLmcuaj9FKHRoaXMsdGhpcy5nLmoudGhyb3csTCx0aGlzLmcubyk6KHRoaXMuZy5zKEwpLGYodGhpcykpfSxvKFwiQXJyYXkucHJvdG90eXBlLmVudHJpZXNcIixmdW5jdGlvbihMKXtyZXR1cm4gTHx8ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oRixZKXtGIGluc3RhbmNlb2YgU3RyaW5nJiYoRis9XCJcIik7dmFyIE09MCxtPSExLEk9e25leHQ6ZnVuY3Rpb24oKXtpZighbSYmTTxGLmxlbmd0aCl7dmFyIHk9TSsrO3JldHVybiB7dmFsdWU6WSh5LEZbeV0pLGRvbmU6ITF9fXJldHVybiBtPSEwLHtkb25lOiEwLHZhbHVlOnZvaWQgMH19fTtyZXR1cm4gSVtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIEl9LEl9KHRoaXMsZnVuY3Rpb24oRixZKXtyZXR1cm4gW0YsWV19KX19KSx0eXBlb2YgQmxvYjxcInVcIiYmKHR5cGVvZiBGb3JtRGF0YT5cInVcInx8IUZvcm1EYXRhLnByb3RvdHlwZS5rZXlzKSl7dmFyIEE9ZnVuY3Rpb24oTCxGKXtmb3IodmFyIFk9MDtZPEwubGVuZ3RoO1krKylGKExbWV0pO30sYj1mdW5jdGlvbihMKXtyZXR1cm4gTC5yZXBsYWNlKC9cXHI/XFxufFxcci9nLGBcXHJcbmApfSx3PWZ1bmN0aW9uKEwsRixZKXtyZXR1cm4gRiBpbnN0YW5jZW9mIEJsb2I/KFk9WSE9PXZvaWQgMD9ZK1wiXCI6dHlwZW9mIEYubmFtZT09XCJzdHJpbmdcIj9GLm5hbWU6XCJibG9iXCIsRi5uYW1lPT09WSYmT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKEYpIT09XCJbb2JqZWN0IEJsb2JdXCJ8fChGPW5ldyBGaWxlKFtGXSxZKSksW1N0cmluZyhMKSxGXSk6W1N0cmluZyhMKSxTdHJpbmcoRildfSxEPWZ1bmN0aW9uKEwsRil7aWYoTC5sZW5ndGg8Ril0aHJvdyBuZXcgVHlwZUVycm9yKEYrXCIgYXJndW1lbnQgcmVxdWlyZWQsIGJ1dCBvbmx5IFwiK0wubGVuZ3RoK1wiIHByZXNlbnQuXCIpfSxrPXR5cGVvZiBnbG9iYWxUaGlzPT1cIm9iamVjdFwiP2dsb2JhbFRoaXM6dHlwZW9mIHdpbmRvdz09XCJvYmplY3RcIj93aW5kb3c6dHlwZW9mIHNlbGY9PVwib2JqZWN0XCI/c2VsZjp0aGlzLEI9ay5Gb3JtRGF0YSxWPWsuWE1MSHR0cFJlcXVlc3QmJmsuWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLnNlbmQsej1rLlJlcXVlc3QmJmsuZmV0Y2gsbHQ9ay5uYXZpZ2F0b3ImJmsubmF2aWdhdG9yLnNlbmRCZWFjb24sdnQ9ay5FbGVtZW50JiZrLkVsZW1lbnQucHJvdG90eXBlLER0PWsuU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWc7RHQmJihCbG9iLnByb3RvdHlwZVtEdF18fChCbG9iLnByb3RvdHlwZVtEdF09XCJCbG9iXCIpLFwiRmlsZVwiaW4gayYmIUZpbGUucHJvdG90eXBlW0R0XSYmKEZpbGUucHJvdG90eXBlW0R0XT1cIkZpbGVcIikpO3RyeXtuZXcgRmlsZShbXSxcIlwiKTt9Y2F0Y2h7ay5GaWxlPWZ1bmN0aW9uKEYsWSxNKXtyZXR1cm4gRj1uZXcgQmxvYihGLE18fHt9KSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhGLHtuYW1lOnt2YWx1ZTpZfSxsYXN0TW9kaWZpZWQ6e3ZhbHVlOisoTSYmTS5sYXN0TW9kaWZpZWQhPT12b2lkIDA/bmV3IERhdGUoTS5sYXN0TW9kaWZpZWQpOm5ldyBEYXRlKX0sdG9TdHJpbmc6e3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIFwiW29iamVjdCBGaWxlXVwifX19KSxEdCYmT2JqZWN0LmRlZmluZVByb3BlcnR5KEYsRHQse3ZhbHVlOlwiRmlsZVwifSksRn07fXZhciBjZT1mdW5jdGlvbihMKXtyZXR1cm4gTC5yZXBsYWNlKC9cXG4vZyxcIiUwQVwiKS5yZXBsYWNlKC9cXHIvZyxcIiUwRFwiKS5yZXBsYWNlKC9cIi9nLFwiJTIyXCIpfSxXdD1mdW5jdGlvbihMKXt0aGlzLmk9W107dmFyIEY9dGhpcztMJiZBKEwuZWxlbWVudHMsZnVuY3Rpb24oWSl7aWYoWS5uYW1lJiYhWS5kaXNhYmxlZCYmWS50eXBlIT09XCJzdWJtaXRcIiYmWS50eXBlIT09XCJidXR0b25cIiYmIVkubWF0Y2hlcyhcImZvcm0gZmllbGRzZXRbZGlzYWJsZWRdICpcIikpaWYoWS50eXBlPT09XCJmaWxlXCIpe3ZhciBNPVkuZmlsZXMmJlkuZmlsZXMubGVuZ3RoP1kuZmlsZXM6W25ldyBGaWxlKFtdLFwiXCIse3R5cGU6XCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIn0pXTtBKE0sZnVuY3Rpb24obSl7Ri5hcHBlbmQoWS5uYW1lLG0pO30pO31lbHNlIFkudHlwZT09PVwic2VsZWN0LW11bHRpcGxlXCJ8fFkudHlwZT09PVwic2VsZWN0LW9uZVwiP0EoWS5vcHRpb25zLGZ1bmN0aW9uKG0peyFtLmRpc2FibGVkJiZtLnNlbGVjdGVkJiZGLmFwcGVuZChZLm5hbWUsbS52YWx1ZSk7fSk6WS50eXBlPT09XCJjaGVja2JveFwifHxZLnR5cGU9PT1cInJhZGlvXCI/WS5jaGVja2VkJiZGLmFwcGVuZChZLm5hbWUsWS52YWx1ZSk6KE09WS50eXBlPT09XCJ0ZXh0YXJlYVwiP2IoWS52YWx1ZSk6WS52YWx1ZSxGLmFwcGVuZChZLm5hbWUsTSkpO30pO307aWYoKHQ9V3QucHJvdG90eXBlKS5hcHBlbmQ9ZnVuY3Rpb24oTCxGLFkpe0QoYXJndW1lbnRzLDIpLHRoaXMuaS5wdXNoKHcoTCxGLFkpKTt9LHQuZGVsZXRlPWZ1bmN0aW9uKEwpe0QoYXJndW1lbnRzLDEpO3ZhciBGPVtdO0w9U3RyaW5nKEwpLEEodGhpcy5pLGZ1bmN0aW9uKFkpe1lbMF0hPT1MJiZGLnB1c2goWSk7fSksdGhpcy5pPUY7fSx0LmVudHJpZXM9ZnVuY3Rpb24gTCgpe3ZhciBGLFk9dGhpcztyZXR1cm4gQyhMLGZ1bmN0aW9uKE0pe2lmKE0uaD09MSYmKEY9MCksTS5oIT0zKXJldHVybiBGPFkuaS5sZW5ndGg/TT1wKE0sWS5pW0ZdKTooTS5oPTAsTT12b2lkIDApLE07RisrLE0uaD0yO30pfSx0LmZvckVhY2g9ZnVuY3Rpb24oTCxGKXtEKGFyZ3VtZW50cywxKTtmb3IodmFyIFk9YSh0aGlzKSxNPVkubmV4dCgpOyFNLmRvbmU7TT1ZLm5leHQoKSl7dmFyIG09YShNLnZhbHVlKTtNPW0ubmV4dCgpLnZhbHVlLG09bS5uZXh0KCkudmFsdWUsTC5jYWxsKEYsbSxNLHRoaXMpO319LHQuZ2V0PWZ1bmN0aW9uKEwpe0QoYXJndW1lbnRzLDEpO3ZhciBGPXRoaXMuaTtMPVN0cmluZyhMKTtmb3IodmFyIFk9MDtZPEYubGVuZ3RoO1krKylpZihGW1ldWzBdPT09TClyZXR1cm4gRltZXVsxXTtyZXR1cm4gbnVsbH0sdC5nZXRBbGw9ZnVuY3Rpb24oTCl7RChhcmd1bWVudHMsMSk7dmFyIEY9W107cmV0dXJuIEw9U3RyaW5nKEwpLEEodGhpcy5pLGZ1bmN0aW9uKFkpe1lbMF09PT1MJiZGLnB1c2goWVsxXSk7fSksRn0sdC5oYXM9ZnVuY3Rpb24oTCl7RChhcmd1bWVudHMsMSksTD1TdHJpbmcoTCk7Zm9yKHZhciBGPTA7Rjx0aGlzLmkubGVuZ3RoO0YrKylpZih0aGlzLmlbRl1bMF09PT1MKXJldHVybiAhMDtyZXR1cm4gITF9LHQua2V5cz1mdW5jdGlvbiBMKCl7dmFyIEYsWSxNLG0sST10aGlzO3JldHVybiBDKEwsZnVuY3Rpb24oeSl7aWYoeS5oPT0xJiYoRj1hKEkpLFk9Ri5uZXh0KCkpLHkuaCE9MylyZXR1cm4gWS5kb25lP3ZvaWQoeS5oPTApOihNPVkudmFsdWUsbT1hKE0pLHAoeSxtLm5leHQoKS52YWx1ZSkpO1k9Ri5uZXh0KCkseS5oPTI7fSl9LHQuc2V0PWZ1bmN0aW9uKEwsRixZKXtEKGFyZ3VtZW50cywyKSxMPVN0cmluZyhMKTt2YXIgTT1bXSxtPXcoTCxGLFkpLEk9ITA7QSh0aGlzLmksZnVuY3Rpb24oeSl7eVswXT09PUw/SSYmKEk9IU0ucHVzaChtKSk6TS5wdXNoKHkpO30pLEkmJk0ucHVzaChtKSx0aGlzLmk9TTt9LHQudmFsdWVzPWZ1bmN0aW9uIEwoKXt2YXIgRixZLE0sbSxJPXRoaXM7cmV0dXJuIEMoTCxmdW5jdGlvbih5KXtpZih5Lmg9PTEmJihGPWEoSSksWT1GLm5leHQoKSkseS5oIT0zKXJldHVybiBZLmRvbmU/dm9pZCh5Lmg9MCk6KE09WS52YWx1ZSwobT1hKE0pKS5uZXh0KCkscCh5LG0ubmV4dCgpLnZhbHVlKSk7WT1GLm5leHQoKSx5Lmg9Mjt9KX0sV3QucHJvdG90eXBlLl9hc05hdGl2ZT1mdW5jdGlvbigpe2Zvcih2YXIgTD1uZXcgQixGPWEodGhpcyksWT1GLm5leHQoKTshWS5kb25lO1k9Ri5uZXh0KCkpe3ZhciBNPWEoWS52YWx1ZSk7WT1NLm5leHQoKS52YWx1ZSxNPU0ubmV4dCgpLnZhbHVlLEwuYXBwZW5kKFksTSk7fXJldHVybiBMfSxXdC5wcm90b3R5cGUuX2Jsb2I9ZnVuY3Rpb24oKXt2YXIgTD1cIi0tLS1mb3JtZGF0YS1wb2x5ZmlsbC1cIitNYXRoLnJhbmRvbSgpLEY9W10sWT1cIi0tXCIrTCtgXFxyXG5Db250ZW50LURpc3Bvc2l0aW9uOiBmb3JtLWRhdGE7IG5hbWU9XCJgO3JldHVybiB0aGlzLmZvckVhY2goZnVuY3Rpb24oTSxtKXtyZXR1cm4gdHlwZW9mIE09PVwic3RyaW5nXCI/Ri5wdXNoKFkrY2UoYihtKSkrYFwiXFxyXG5cXHJcbmArYihNKStgXFxyXG5gKTpGLnB1c2goWStjZShiKG0pKSsnXCI7IGZpbGVuYW1lPVwiJytjZShNLm5hbWUpK2BcIlxcclxuQ29udGVudC1UeXBlOiBgKyhNLnR5cGV8fFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCIpK2BcXHJcblxcclxuYCxNLGBcXHJcbmApfSksRi5wdXNoKFwiLS1cIitMK1wiLS1cIiksbmV3IEJsb2IoRix7dHlwZTpcIm11bHRpcGFydC9mb3JtLWRhdGE7IGJvdW5kYXJ5PVwiK0x9KX0sV3QucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbnRyaWVzKCl9LFd0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBcIltvYmplY3QgRm9ybURhdGFdXCJ9LHZ0JiYhdnQubWF0Y2hlcyYmKHZ0Lm1hdGNoZXM9dnQubWF0Y2hlc1NlbGVjdG9yfHx2dC5tb3pNYXRjaGVzU2VsZWN0b3J8fHZ0Lm1zTWF0Y2hlc1NlbGVjdG9yfHx2dC5vTWF0Y2hlc1NlbGVjdG9yfHx2dC53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fGZ1bmN0aW9uKEwpe2Zvcih2YXIgRj0oTD0odGhpcy5kb2N1bWVudHx8dGhpcy5vd25lckRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKEwpKS5sZW5ndGg7MDw9LS1GJiZMLml0ZW0oRikhPT10aGlzOyk7cmV0dXJuIC0xPEZ9KSxEdCYmKFd0LnByb3RvdHlwZVtEdF09XCJGb3JtRGF0YVwiKSxWKXt2YXIgc2k9ay5YTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUuc2V0UmVxdWVzdEhlYWRlcjtrLlhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5zZXRSZXF1ZXN0SGVhZGVyPWZ1bmN0aW9uKEwsRil7c2kuY2FsbCh0aGlzLEwsRiksTC50b0xvd2VyQ2FzZSgpPT09XCJjb250ZW50LXR5cGVcIiYmKHRoaXMuQj0hMCk7fSxrLlhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKEwpe0wgaW5zdGFuY2VvZiBXdD8oTD1MLl9ibG9iKCksdGhpcy5CfHx0aGlzLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIixMLnR5cGUpLFYuY2FsbCh0aGlzLEwpKTpWLmNhbGwodGhpcyxMKTt9O316JiYoay5mZXRjaD1mdW5jdGlvbihMLEYpe3JldHVybiBGJiZGLmJvZHkmJkYuYm9keSBpbnN0YW5jZW9mIFd0JiYoRi5ib2R5PUYuYm9keS5fYmxvYigpKSx6LmNhbGwodGhpcyxMLEYpfSksbHQmJihrLm5hdmlnYXRvci5zZW5kQmVhY29uPWZ1bmN0aW9uKEwsRil7cmV0dXJuIEYgaW5zdGFuY2VvZiBXdCYmKEY9Ri5fYXNOYXRpdmUoKSksbHQuY2FsbCh0aGlzLEwsRil9KSxrLkZvcm1EYXRhPVd0O319KSgpO3ZhciBNYz0oKT0+e2xldCB0PXYoXCJBUkVBU1wiKTtyZXR1cm4gdC5sZW5ndGg9PT0wJiZ0LnB1c2goU3QuR0xPQkFMKSxqaSh0KS5jYWxsKHQsKGUsbixpKT0+e2xldCByPWQwKG4pO3JldHVybiByP2k9PT0wP3I6XCJcIi5jb25jYXQoZSxcIixcIikuY29uY2F0KHIpOmV9LFwiXCIpfSxkMD10PT50PT09U3QuT1ZFUlNFQT9cIlwiLmNvbmNhdChZZS5BU0lBLFwiLFwiKS5jb25jYXQoWWUuRVVST1BFLFwiLFwiKS5jb25jYXQoWWUuQUZSSUNBLFwiLFwiKS5jb25jYXQoWWUuTk9SVEhfQU1FUklDQSxcIixcIikuY29uY2F0KFllLlNPVVRIX0FNRVJJQ0EsXCIsXCIpLmNvbmNhdChZZS5PQ0VBTklBKTpZZVt0XSxqRz10PT57bGV0IGU9e0NPREU6XCJcIixXRUJDU19ET01BSU46W10sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltdLFBST1hZX0NTOltdLENEU19BUDpbXSxBQ0NPVU5UX1JFR0lTVEVSOltdLFVBUF9BUDpbXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltdLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltdLExPR19VUExPQURfU0VSVkVSOltdLFBST1hZX1NFUlZFUl9UWVBFMzpbXX07cmV0dXJuIHQubWFwKG49PntsZXQgaT1adVtuXSxyPU9iamVjdC5rZXlzKGkpO3ImJnIubWFwKG89PntvIT09XCJDT0RFXCImJihlW29dPWVbb10uY29uY2F0KGlbb10pKTt9KTt9KSxlfSx5bD17R0xPQkFMOntBU0lBOltTdC5DSElOQSxTdC5KQVBBTixTdC5JTkRJQSxTdC5LT1JFQSxTdC5IS01DXSxFVVJPUEU6W10sTk9SVEhfQU1FUklDQTpbU3QuVVNdLFNPVVRIX0FNRVJJQ0E6W10sT0NFQU5JQTpbXSxBRlJJQ0E6W119fSxLZD1PYmplY3Qua2V5cyh5bFtTdC5HTE9CQUxdKSx1Xz1bU3QuQ0hJTkEsU3QuTk9SVEhfQU1FUklDQSxTdC5FVVJPUEUsU3QuQVNJQSxTdC5KQVBBTixTdC5JTkRJQSxTdC5PQ0VBTklBLFN0LlNPVVRIX0FNRVJJQ0EsU3QuQUZSSUNBLFN0LktPUkVBLFN0LkhLTUMsU3QuVVNdLEdHPWZ1bmN0aW9uKHQsZSl7bGV0IG49W107aWYoVyh0KS5jYWxsKHQsU3QuR0xPQkFMKSl7bGV0IG89W1N0LkdMT0JBTCxTdC5PVkVSU0VBXSxzPU9iamVjdC5rZXlzKFp1KTtpZihlPT09U3QuR0xPQkFMKXRocm93IG5ldyBPKFIuSU5WQUxJRF9QQVJBTVMsXCJHTE9CQUwgaXMgYW4gaW52YWxpZCBleGNsdWRlZEFyZWEgdmFsdWVcIik7aWYoZT09PVN0LkNISU5BKW49W1N0Lk9WRVJTRUFdO2Vsc2UgaWYocj1lLFcoS2QpLmNhbGwoS2Qscikpe2xldCBhPShpPWUseWxbU3QuR0xPQkFMXVtpXXx8W10pLGM9Wy4uLm8sZSwuLi5hXTtuPXMuZmlsdGVyKGQ9PiFXKGMpLmNhbGwoYyxkKSk7fWVsc2UgaWYoZnVuY3Rpb24oYSl7bGV0IGM9ITE7cmV0dXJuIEtkLmZvckVhY2goZD0+e3ZhciBsO1cobD15bFtTdC5HTE9CQUxdW2RdKS5jYWxsKGwsYSkmJihjPSEwKTt9KSxjfShlKSl7bGV0IGE9ZnVuY3Rpb24oZCl7bGV0IGw7cmV0dXJuIEtkLmZvckVhY2godT0+e3ZhciBoO1coaD15bFtTdC5HTE9CQUxdW3VdKS5jYWxsKGgsZCkmJihsPXUpO30pLGx9KGUpLGM9Wy4uLm8sYSxlXTtuPXMuZmlsdGVyKGQ9PiFXKGMpLmNhbGwoYyxkKSk7fWVsc2Ugbj10O249ZnVuY3Rpb24oYSl7bGV0IGM9W107cmV0dXJuIHVfLmZvckVhY2goZD0+e1coYSkuY2FsbChhLGQpJiZjLnB1c2goZCk7fSksYy5jb25jYXQoYS5maWx0ZXIoZD0+IVcodV8pLmNhbGwodV8sZCkpKX0obik7fWVsc2Ugbj10O3ZhciBpLHI7cmV0dXJuIG59O2Z1bmN0aW9uIFhJKHQpe3ZhciBlLG47aWYoIXQmJlcoZT12KFwiQVJFQVNcIikpLmNhbGwoZSxTdC5FWFRFTlNJT05TKSlyZXR1cm4gXy5kZWJ1ZyhcInVwZGF0ZSBhcmVhIGZyb20gYXAgOiByZXNldFwiKSx2b2lkIEFmKHZCLCEwKTtpZighVyhuPXYoXCJBUkVBU1wiKSkuY2FsbChuLFN0LkdMT0JBTCl8fCF0KXJldHVybjtsZXQgaT1adS5FWFRFTlNJT05TO2kmJihpPXtDT0RFOmQwKFN0LkVYVEVOU0lPTlMpLFdFQkNTX0RPTUFJTjpbXCJhcC13ZWItMS1cIi5jb25jYXQodCxcIi5hZ29yYS5pb1wiKV0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcImFwLXdlYi0yLVwiLmNvbmNhdCh0LFwiLmFwLnNkLXJ0bi5jb21cIildLFBST1hZX0NTOltcInByb3h5LWFwLXdlYi1cIi5jb25jYXQodCxcIi5hZ29yYS5pb1wiKV0sQ0RTX0FQOltcImNkcy1hcC13ZWItMS1cIi5jb25jYXQodCxcIi5hZ29yYS5pb1wiKSxcImNkcy1hcC13ZWItMi1cIi5jb25jYXQodCxcIi5hcC5zZC1ydG4uY29tXCIpXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItMS1cIi5jb25jYXQodCxcIi5hZ29yYS5pb1wiKSxcInN1YS1hcC13ZWItMi1cIi5jb25jYXQodCxcIi5hcC5zZC1ydG4uY29tXCIpXSxVQVBfQVA6W1widWFwLWFwLXdlYi0xLVwiLmNvbmNhdCh0LFwiLmFnb3JhLmlvXCIpLFwidWFwLWFwLXdlYi0yLVwiLmNvbmNhdCh0LFwiLmFwLnNkLXJ0bi5jb21cIildLEVWRU5UX1JFUE9SVF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMS1cIi5jb25jYXQodCxcIi5hZ29yYS5pb1wiKV0sRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMi1cIi5jb25jYXQodCxcIi5hZ29yYS5pb1wiKV0sTE9HX1VQTE9BRF9TRVJWRVI6W1wibG9nc2VydmljZS1cIi5jb25jYXQodCxcIi5hZ29yYS5pb1wiKV0sUFJPWFlfU0VSVkVSX1RZUEUzOltcIndlYnJ0Yy1jbG91ZC1wcm94eS1cIi5jb25jYXQodCxcIi5hZ29yYS5pb1wiKV19LF8uZGVidWcoXCJ1cGRhdGUgYXJlYSBmcm9tIGFwIHN1Y2Nlc3M6IFwiLmNvbmNhdCh0LFwiLGNvbmZpZyBpcyBcIiksaSksT3QoXCJBUkVBU1wiLFtTdC5FWFRFTlNJT05TXSwhMCksT2JqZWN0LmtleXMoaSkubWFwKHI9PntyPT09XCJMT0dfVVBMT0FEX1NFUlZFUlwifHxyPT09XCJFVkVOVF9SRVBPUlRfRE9NQUlOXCJ8fHI9PT1cIkVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOXCJ8fHI9PT1cIlBST1hZX1NFUlZFUl9UWVBFM1wiP090KHIsaVtyXVswXSk6T3QocixpW3JdKTt9KSk7fWZ1bmN0aW9uIEFmKHQpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwJiZhcmd1bWVudHNbMV0sbj1YLnJlcG9ydEFwaUludm9rZShudWxsLHtuYW1lOlRlLlNFVF9BUkVBLG9wdGlvbnM6dCx0YWc6WnQuVFJBQ0VSfSk7dHJ5e2xldCBpPVtdO2lmKHR5cGVvZiB0PT1cInN0cmluZ1wiJiYoaT1bdF0pLEFycmF5LmlzQXJyYXkodCkmJih0LmZvckVhY2gobz0+e2lmKCFXKFVSKS5jYWxsKFVSLG8pKXRocm93IG5ldyBPKFIuSU5WQUxJRF9QQVJBTVMsXCJpbnZhbGlkIGFyZWEgY29kZVwiKX0pLGk9dCksT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpPT09XCJbb2JqZWN0IE9iamVjdF1cIil7bGV0e2FyZWFDb2RlOm8sZXhjbHVkZWRBcmVhOnN9PXQ7aWYoIW8pdGhyb3cgbmV3IE8oUi5JTlZBTElEX1BBUkFNUyxcImFyZWEgY29kZSBpcyBuZWVkZWRcIik7bGV0IGE9bzt0eXBlb2Ygbz09XCJzdHJpbmdcIiYmKGE9W29dKSxpPXM/R0coYSxzKTphO31pZighZSl7aWYoJHIuQVJFQVMpe2xldCBvPW5ldyBPKFIuUFJPSElCSVRFRF9PUEVSQVRJT04sXCJzZXRBcmVhIGlzIHByb2hpYml0ZWQgYmVjYXVzZSBvZiBjb25maWctZGlzdHJpYnV0ZVwiKTtyZXR1cm4gbi5vbkVycm9yKG8pLHZvaWQgXy53YXJuaW5nKFwic2V0QXJlYSBpcyBwcm9oaWJpdGVkIGJlY2F1c2Ugb2YgY29uZmlnLWRpc3RyaWJ1dGVcIil9aWYoVyhpKS5jYWxsKGksU3QuR0xPQkFMKSYmdihcIkFSRUFTXCIpPT09U3QuRVhURU5TSU9OUyl7bGV0IG89bmV3IE8oUi5QUk9ISUJJVEVEX09QRVJBVElPTixcInNldEFyZWEgaXMgcHJvaGliaXRlZCBiZWNhdXNlIG9mIGFwIGV4dGVuc2lvbnNcIik7cmV0dXJuIG4ub25FcnJvcihvKSx2b2lkIF8ud2FybmluZyhcInNldEFyZWEgaXMgcHJvaGliaXRlZCBiZWNhdXNlIG9mIGFwIGV4dGVuc2lvbnNcIil9fU90KFwiQVJFQVNcIixpLGUpO2xldCByPWpHKGkpO09iamVjdC5rZXlzKHIpLm1hcChvPT57bz09PVwiTE9HX1VQTE9BRF9TRVJWRVJcInx8bz09PVwiRVZFTlRfUkVQT1JUX0RPTUFJTlwifHxvPT09XCJFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTlwifHxvPT09XCJQUk9YWV9TRVJWRVJfVFlQRTNcIj9PdChvLHJbb11bMF0pOk90KG8scltvXSk7fSksXy5kZWJ1ZyhcInNldCBhcmVhIHN1Y2Nlc3M6XCIsaS5qb2luKFwiLFwiKSk7fWNhdGNoKGkpe3Rocm93IG4ub25FcnJvcihpKSxpfW4ub25TdWNjZXNzKCk7fWZ1bmN0aW9uIFFJKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYoaT1pLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpLmVudW1lcmFibGV9KSksbi5wdXNoLmFwcGx5KG4saSk7fXJldHVybiBufWZ1bmN0aW9uIGVtKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXSE9bnVsbD9hcmd1bWVudHNbZV06e307ZSUyP1FJKE9iamVjdChuKSwhMCkuZm9yRWFjaChmdW5jdGlvbihpKXtUKHQsaSxuW2ldKTt9KTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpRSShPYmplY3QobikpLmZvckVhY2goZnVuY3Rpb24oaSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsaSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4saSkpO30pO31yZXR1cm4gdH12YXIgaF89MTtmdW5jdGlvbiBXRyh0LGUsbixpLHIpe2hfKz0xO2xldCBvPXtzaWQ6bi5zaWQsY29tbWFuZDpcImNvbnZlcmdlQWxsb2NhdGVFZGdlXCIsdWlkOlwiNjY2XCIsYXBwSWQ6bi5hcHBJZCx0czpNYXRoLmZsb29yKERhdGUubm93KCkvMWUzKSxzZXE6aF8scmVxdWVzdElkOmhfLHZlcnNpb246aWksY25hbWU6bi5jbmFtZX0scz17c2VydmljZV9uYW1lOmUsanNvbl9ib2R5OkpTT04uc3RyaW5naWZ5KG8pfSxhLGMsZD10WzBdO3JldHVybiBXaShhc3luYygpPT57YT1EYXRlLm5vdygpO2xldCBsPWF3YWl0IEhpKGQse2RhdGE6cyxjYW5jZWxUb2tlbjppLGhlYWRlcnM6e1wiWC1QYWNrZXQtU2VydmljZS1UeXBlXCI6XCIwXCIsXCJYLVBhY2tldC1VUklcIjpcIjYxXCJ9fSk7aWYoYz1EYXRlLm5vdygpLWEsbC5jb2RlIT09MCl7bGV0IHA9bmV3IE8oUi5VTkVYUEVDVEVEX1JFU1BPTlNFLFwibGl2ZSBzdHJlYW1pbmcgYXAgZXJyb3IsIGNvZGVcIitsLmNvZGUse3JldHJ5OiEwLHJlc3BvbnNlVGltZTpjfSk7dGhyb3cgXy5lcnJvcihwLnRvU3RyaW5nKCkpLHB9bGV0IHU9SlNPTi5wYXJzZShsLmpzb25fYm9keSk7aWYodS5jb2RlIT09MjAwKXtsZXQgcD1uZXcgTyhSLlVORVhQRUNURURfUkVTUE9OU0UsXCJsaXZlIHN0cmVhbWluZyBhcHAgY2VudGVyIGVycm9yLCBjb2RlOiBcIi5jb25jYXQodS5jb2RlLFwiLCByZWFzb246IFwiKS5jb25jYXQodS5yZWFzb24pLHtjb2RlOnUuY29kZSxyZXNwb25zZVRpbWU6Y30pO3Rocm93IF8uZXJyb3IocC50b1N0cmluZygpKSxwfWlmKCF1LnNlcnZlcnN8fHUuc2VydmVycy5sZW5ndGg9PT0wKXtsZXQgcD1uZXcgTyhSLlVORVhQRUNURURfUkVTUE9OU0UsXCJsaXZlIHN0cmVhbWluZyBhcHAgY2VudGVyIGVtcHR5IHNlcnZlclwiLHtjb2RlOnUuY29kZSxyZXNwb25zZVRpbWU6Y30pO3Rocm93IF8uZXJyb3IocC50b1N0cmluZygpKSxwfWxldCBoPWZ1bmN0aW9uKHAsZyl7cmV0dXJuIHthZGRyZXNzTGlzdDpwLnNlcnZlcnMubWFwKEU9Plwid3NzOi8vXCIuY29uY2F0KEUuYWRkcmVzcy5yZXBsYWNlKC9cXC4vZyxcIi1cIiksXCIuXCIpLmNvbmNhdCh2KFwiV09SS0VSX0RPTUFJTlwiKSxcIjpcIikuY29uY2F0KEUud3NzLFwiP3NlcnZpY2VOYW1lPVwiKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGcpKSksd29ya2VyVG9rZW46cC53b3JrZXJUb2tlbix2aWQ6cC52aWR9fSh1LGUpO3JldHVybiB2KFwiTElWRV9TVFJFQU1JTkdfQUREUkVTU1wiKSYmKGguYWRkcmVzc0xpc3Q9dihcIkxJVkVfU1RSRUFNSU5HX0FERFJFU1NcIilpbnN0YW5jZW9mIEFycmF5P3YoXCJMSVZFX1NUUkVBTUlOR19BRERSRVNTXCIpOlt2KFwiTElWRV9TVFJFQU1JTkdfQUREUkVTU1wiKV0pLGVtKGVtKHt9LGgpLHt9LHtyZXNwb25zZVRpbWU6Y30pfSwobCx1KT0+KFguYXB3b3JrZXJFdmVudChuLnNpZCx7c3VjY2VzczohMCxzYzoyMDAsc2VydmljZU5hbWU6ZSxyZXNwb25zZURldGFpbDpKU09OLnN0cmluZ2lmeShsLmFkZHJlc3NMaXN0KSxmaXJzdFN1Y2Nlc3M6dT09PTAscmVzcG9uc2VUaW1lOmMsc2VydmVySXA6dFt1JXQubGVuZ3RoXX0pLCExKSwobCx1KT0+KFguYXB3b3JrZXJFdmVudChuLnNpZCx7c3VjY2VzczohMSxzYzpsLmRhdGEmJmwuZGF0YS5jb2RlfHwyMDAsc2VydmljZU5hbWU6ZSxyZXNwb25zZVRpbWU6YyxzZXJ2ZXJJcDp0W3UldC5sZW5ndGhdfSksISEobC5jb2RlIT09Ui5PUEVSQVRJT05fQUJPUlRFRCYmbC5jb2RlIT09Ui5VTkVYUEVDVEVEX1JFU1BPTlNFfHxsLmRhdGEmJmwuZGF0YS5yZXRyeSkmJihkPXRbKHUrMSkldC5sZW5ndGhdLCEwKSkscil9dmFyIHBfPTE7ZnVuY3Rpb24gWkkodCxlLG4saSl7bGV0e3VybDpyLGFyZWFDb2RlOm99PXQse2NsaWVudElkOnMsc2lkOmF9PWUsYz1EYXRlLm5vdygpLGQsW2wsdV09d2YoZSxvLFt1ZS5DSE9PU0VfU0VSVkVSXSksaD1oZS5uZXR3b3JrU3RhdGU7cmV0dXJuIFdpKGFzeW5jKCk9PntoJiZoZS5uZXR3b3JrU3RhdGU9PT13bi5PRkZMSU5FJiZoZS5vbmxpbmVXYWl0ZXImJmF3YWl0IGoucmFjZShbaGUub25saW5lV2FpdGVyLE1lKGkmJmkubWF4UmV0cnlUaW1lb3V0fHxFZS5tYXhSZXRyeVRpbWVvdXQpXSksaD1oZS5uZXR3b3JrU3RhdGU7bGV0e2RhdGE6cCxoZWFkZXJzOmd9PWF3YWl0IEhpKHIse2RhdGE6bCxjYW5jZWxUb2tlbjpuLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJtdWx0aXBhcnQvZm9ybS1kYXRhO1wifX0sITAsITApO2Q9Zy5odHRwMz09PVwiMVwiPzE6LTEsWC5yZXBvcnRSZXNvdXJjZVRpbWluZyhyLGEpLGwwKHAscixlLGMsW3VlLkNIT09TRV9TRVJWRVJdLGQpO2xldCBFPURjKHAsdWUuQ0hPT1NFX1NFUlZFUik7cmV0dXJuIGJmKEUpLG1mKEUscil9LHA9PihwJiZYLmpvaW5DaG9vc2VTZXJ2ZXIoYSx7bHRzOmMsc3VjYzohMCxjc0FkZHI6cixvcGlkOnUsc2VydmVyTGlzdDpwLmdhdGV3YXlBZGRycy5tYXAoZz0+Zy5hZGRyZXNzKSxlYzpudWxsLGNpZDpwLmNpZC50b1N0cmluZygpLHVpZDpwLnVpZC50b1N0cmluZygpLGNzSXA6cC5jc0lwLHVuaWxic1NlcnZlcklkczpbdWUuQ0hPT1NFX1NFUlZFUl0udG9TdHJpbmcoKSxpc0h0dHAzOmR9KSwhMSkscD0+cC5jb2RlIT09Ui5PUEVSQVRJT05fQUJPUlRFRCYmKHAuY29kZT09PVIuQ0FOX05PVF9HRVRfR0FURVdBWV9TRVJWRVI/cC5kYXRhLnJldHJ5OihYLmpvaW5DaG9vc2VTZXJ2ZXIoYSx7bHRzOmMsc3VjYzohMSxjc0FkZHI6cixzZXJ2ZXJMaXN0Om51bGwsb3BpZDp1LGVjOnAuY29kZSxjc0lwOnAuZGF0YSYmcC5kYXRhLmNzSXAsdW5pbGJzU2VydmVySWRzOlt1ZS5DSE9PU0VfU0VSVkVSXS50b1N0cmluZygpLGV4dGVuZDpKU09OLnN0cmluZ2lmeSh7bmV0d29ya1N0YXRlOmh9KSxpc0h0dHAzOmR9KSxfLndhcm5pbmcoXCJbXCIuY29uY2F0KHN8fFwic2lkLVwiLmNvbmNhdChhLnNsaWNlKDAsNikpLFwiXSBDaG9vc2Ugc2VydmVyIG5ldHdvcmsgZXJyb3IsIHJldHJ5XCIpLHApLCEwKSksaSl9ZnVuY3Rpb24gJEkodCxlLG4saSl7bGV0IHIse3VybDpvLGFyZWFDb2RlOnMsc2VydmljZUlkczphfT10LGM9RGF0ZS5ub3coKSxbZCxsXT13ZihlLHMsYSksdTtyZXR1cm4gV2koYXN5bmMoKT0+e3UmJmhlLm5ldHdvcmtTdGF0ZT09PXduLk9GRkxJTkUmJmhlLm9ubGluZVdhaXRlciYmYXdhaXQgai5yYWNlKFtoZS5vbmxpbmVXYWl0ZXIsTWUoaSYmaS5tYXhSZXRyeVRpbWVvdXR8fEVlLm1heFJldHJ5VGltZW91dCldKSx1PWhlLm5ldHdvcmtTdGF0ZTtsZXR7ZGF0YTpoLGhlYWRlcnM6cH09YXdhaXQgSGkobyx7ZGF0YTpkLGNhbmNlbFRva2VuOm4saGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcIm11bHRpcGFydC9mb3JtLWRhdGE7XCJ9fSwhMCwhMCk7cj1wLmh0dHAzPT09XCIxXCI/MTotMSxYLnJlcG9ydFJlc291cmNlVGltaW5nKG8sZS5zaWQpLGwwKGgsbyxlLGMsYSxyKTtsZXQgZz1EYyhoLHVlLkNIT09TRV9TRVJWRVIpLEU9RGMoaCxlLmNsb3VkUHJveHlTZXJ2ZXI9PT1cInByb3h5NVwiP3VlLkNMT1VEX1BST1hZXzU6ZS5jbG91ZFByb3h5U2VydmVyPT09XCJwcm94eTNcInx8ZS5jbG91ZFByb3h5U2VydmVyPT09XCJwcm94eTRcIj91ZS5DTE9VRF9QUk9YWTp1ZS5DTE9VRF9QUk9YWV9GQUxMQkFDSyk7cmV0dXJuIGJmKGcpLHtnYXRld2F5SW5mbzptZihnLG8pLHByb3h5SW5mbzpFLHVybDpvfX0saD0+KGguZ2F0ZXdheUluZm8mJlguam9pbkNob29zZVNlcnZlcihlLnNpZCx7bHRzOmMsc3VjYzohMCxjc0FkZHI6byxzZXJ2ZXJMaXN0OmguZ2F0ZXdheUluZm8uZ2F0ZXdheUFkZHJzLm1hcChwPT5wLmFkZHJlc3MpLGVjOm51bGwsb3BpZDpsLGNpZDpoLmdhdGV3YXlJbmZvLmNpZC50b1N0cmluZygpLHVpZDpoLmdhdGV3YXlJbmZvLnVpZC50b1N0cmluZygpLGNzSXA6aC5nYXRld2F5SW5mby5jc0lwLHVuaWxic1NlcnZlcklkczphLnRvU3RyaW5nKCksaXNIdHRwMzpyfSksaC5wcm94eUluZm8mJlguam9pbldlYlByb3h5QVAoZS5zaWQse2x0czpjLHN1Y2VzczoxLGFwU2VydmVyQWRkcjpvLHR1cm5TZXJ2ZXJBZGRyTGlzdDpoLnByb3h5SW5mby5hZGRyZXNzZXMubWFwKHA9PnAuaXApLmpvaW4oXCIsXCIpLGVycm9yQ29kZTpudWxsLGV2ZW50VHlwZTplLmNsb3VkUHJveHlTZXJ2ZXIsdW5pbGJzU2VydmVySWRzOmEudG9TdHJpbmcoKX0pLCExKSxoPT5oLmNvZGUhPT1SLk9QRVJBVElPTl9BQk9SVEVEJiYoaC5jb2RlPT09Ui5DQU5fTk9UX0dFVF9HQVRFV0FZX1NFUlZFUj9oLmRhdGEucmV0cnk6KFguam9pbldlYlByb3h5QVAoZS5zaWQse2x0czpjLHN1Y2VzczowLGFwU2VydmVyQWRkcjpvLHR1cm5TZXJ2ZXJBZGRyTGlzdDpudWxsLGVycm9yQ29kZTpoLmNvZGUsZXZlbnRUeXBlOmUuY2xvdWRQcm94eVNlcnZlcix1bmlsYnNTZXJ2ZXJJZHM6YS50b1N0cmluZygpLGV4dGVuZDpKU09OLnN0cmluZ2lmeSh7bmV0d29ya1N0YXRlOnV9KX0pLF8ud2FybmluZyhcIltcIi5jb25jYXQoZS5jbGllbnRJZCxcIl0gbXVsdGkgdW5pbGJzIG5ldHdvcmsgZXJyb3IsIHJldHJ5XCIpLGgpLCEwKSksaSl9dmFyIGwwPSh0LGUsbixpLHIsbyk9PntsZXR7c2lkOnMsY2xpZW50SWQ6YSxjbG91ZFByb3h5U2VydmVyOmN9PW4sZD1bXSxsPXU9Pnt1LmZsYWc9PT00MDk2P1guam9pbkNob29zZVNlcnZlcihzLHtsdHM6aSxzdWNjOiExLGNzQWRkcjplLG9waWQ6dC5vcGlkLHNlcnZlckxpc3Q6bnVsbCxlYzp1LmVycm9yLm1lc3NhZ2UsY3NJcDp1LmVycm9yLmRhdGEmJnUuZXJyb3IuZGF0YS5jc0lwLHVuaWxic1NlcnZlcklkczpyLnRvU3RyaW5nKCksaXNIdHRwMzpvfSk6dS5mbGFnIT09MTA0ODU3NiYmdS5mbGFnIT09NDE5NDMwNCYmdS5mbGFnIT09NDE5NDMxMHx8WC5qb2luV2ViUHJveHlBUChzLHtsdHM6aSxzdWNlc3M6MCxhcFNlcnZlckFkZHI6ZSx0dXJuU2VydmVyQWRkckxpc3Q6bnVsbCxlcnJvckNvZGU6dS5lcnJvci5jb2RlLGV2ZW50VHlwZTpjLHVuaWxic1NlcnZlcklkczpyLnRvU3RyaW5nKCl9KTt9O2lmKHQucmVzcG9uc2VfYm9keS5mb3JFYWNoKHU9PntsZXQgaD11LmJ1ZmZlci5jb2RlO2lmKHUudXJpPT09MjMmJmg9PT0wJiYhdS5idWZmZXIuZWRnZXNfc2VydmljZXMpaWYodS5idWZmZXIuZmxhZz09PTQxOTQzMTApXy53YXJuaW5nKFwibm8gZWRnZSBzZXJ2aWNlcyBpbiBhcCByZXNwb25zZSBvZiBwcm94eSBmYWxsYmFjaywgd2lsbCBub3Qgc2V0IHByb3h5IGluIGljZVNlcnZlcnNcIiksdS5idWZmZXIuZWRnZXNfc2VydmljZXM9W107ZWxzZSB7bGV0IHA9e2Vycm9yOm5ldyBPKFIuQ0FOX05PVF9HRVRfR0FURVdBWV9TRVJWRVIsXCJubyBlZGdlIHNlcnZpY2VzIGluIGFwIHJlc3BvbnNlXCIse3JldHJ5OiEwLGNzSXA6dC5kZXRhaWxbNTAyXX0pLGZsYWc6dS5idWZmZXIuZmxhZ307ZC5wdXNoKHApLGwocCk7fWlmKGghPT0wKXtsZXQgcD10YShoKSxnPXtlcnJvcjpuZXcgTyhSLkNBTl9OT1RfR0VUX0dBVEVXQVlfU0VSVkVSLHAuZGVzYyx7ZGVzYzpwLmRlc2MscmV0cnk6cC5yZXRyeSxjc0lwOnQuZGV0YWlsWzUwMl19KSxmbGFnOnUuYnVmZmVyLmZsYWd9O3UuYnVmZmVyLmZsYWc9PT00MTk0MzEwP18ud2FybmluZyhnLmVycm9yLnRvU3RyaW5nKCkpOmQucHVzaChnKSxsKGcpO319KSxkLmxlbmd0aCl0aHJvdyBfLndhcm5pbmcoXCJbXCIuY29uY2F0KGF8fFwic2lkLVwiLmNvbmNhdChzLnNsaWNlKDAsNikpLFwiXSBtdWx0aSB1bmlsYnMgXCIpLmNvbmNhdChlLFwiIGZhaWxlZCwgXCIpLmNvbmNhdChkLm1hcCh1PT5cImZsYWc6IFwiLmNvbmNhdCh1LmZsYWcsXCIsIG1lc3NhZ2U6IFwiKS5jb25jYXQodS5lcnJvci5tZXNzYWdlLFwiLCByZXRyeTogXCIpLmNvbmNhdCh1LmVycm9yLmRhdGEucmV0cnkpKS5qb2luKFwiIHwgXCIpKSksbmV3IE8oUi5DQU5fTk9UX0dFVF9HQVRFV0FZX1NFUlZFUixkLm1hcCh1PT5cImZsYWc6IFwiLmNvbmNhdCh1LmZsYWcsXCIsIG1lc3NhZ2U6IFwiKS5jb25jYXQodS5lcnJvci5tZXNzYWdlKSkuam9pbihcIiB8IFwiKSx7cmV0cnk6ISFkLmZpbmQodT0+dS5lcnJvci5kYXRhLnJldHJ5KSxjc0lwOnQuZGV0YWlsWzUwMl0sZGVzYzpbLi4ubmV3IFNldChkLm1hcCh1PT57dmFyIGg7cmV0dXJuIHU9PW51bGx8fChoPXUuZXJyb3IpPT09bnVsbHx8aD09PXZvaWQgMHx8KGg9aC5kYXRhKT09PW51bGx8fGg9PT12b2lkIDA/dm9pZCAwOmguZGVzY30pLmZpbHRlcih1PT4hIXUpKV19KX0sYmY9dD0+e3ZhciBlLG4saSxyO2lmKHQuYWRkcmVzc2VzJiZ0LmFkZHJlc3Nlcy5sZW5ndGg9PT0wJiZ0LmNvZGU9PT0wKXRocm93IG5ldyBPKFIuQ0FOX05PVF9HRVRfR0FURVdBWV9TRVJWRVIsXCJ2b2lkIGdhdGV3YXkgYWRkcmVzc1wiLHtyZXRyeTohMCxjc0lwOnQuZGV0YWlsJiZ0LmRldGFpbFs1MDJdfSk7aWYodihcIkFQX0FSRUFcIikmJigoaT10LmRldGFpbCkhPT1udWxsJiZpIT09dm9pZCAwJiZpWzIzXSYmdHlwZW9mKChyPXQuZGV0YWlsKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnJbMjNdKT09XCJzdHJpbmdcIj9YSSh0LmRldGFpbFsyM10udG9Mb3dlckNhc2UoKSk6WEkoKSksKGU9dC5kZXRhaWwpIT09bnVsbCYmZSE9PXZvaWQgMCYmZVsxOV0mJnR5cGVvZigobj10LmRldGFpbCk9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuWzE5XSk9PVwic3RyaW5nXCIpe2xldCBzPXQuZGV0YWlsWzE5XSxhPXM/LnNwbGl0KFwiO1wiKTtmb3IobGV0IGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIG87bGV0IGQ9cm4obz1hW2NdKS5jYWxsKG8pO3QuYWRkcmVzc2VzW2NdJiZhJiYodC5hZGRyZXNzZXNbY10uZmluZ2VycHJpbnQ9ZCk7fX1pZih2KFwiR0FURVdBWV9BRERSRVNTXCIpJiZ2KFwiR0FURVdBWV9BRERSRVNTXCIpLmxlbmd0aD4wKXtfLmRlYnVnKFwiYXNzaWduIGdhdGV3YXkgYWRkcmVzcyB0b1wiLHYoXCJHQVRFV0FZX0FERFJFU1NcIikpO2xldCBzPXYoXCJHQVRFV0FZX0FERFJFU1NcIikubWFwKGE9Pnt2YXIgYyxkO2xldCBsPShjPShkPXQuYWRkcmVzc2VzLmZpbmQodT0+dS5pcD09PWEuaXAmJnUucG9ydD09PWEucG9ydCkpPT09bnVsbHx8ZD09PXZvaWQgMD92b2lkIDA6ZC5maW5nZXJwcmludCkhPT1udWxsJiZjIT09dm9pZCAwP2M6XCJcIjtyZXR1cm4ge2lwOmEuaXAscG9ydDphLnBvcnQsdGlja2V0OnQuYWRkcmVzc2VzWzBdJiZ0LmFkZHJlc3Nlc1swXS50aWNrZXQsZmluZ2VycHJpbnQ6bH19KTt0LmFkZHJlc3Nlcz1zO319LEhHPSh0LGUpPT57aWYodC5yZXNwb25zZV9ib2R5JiZ0LnJlc3BvbnNlX2JvZHkubGVuZ3RoKXtsZXQgbj10LnJlc3BvbnNlX2JvZHlbMF07aWYobi5idWZmZXIuY29kZSE9PTApe2xldCBpPXRhKG4uYnVmZmVyLmNvZGUpO3Rocm93IG5ldyBPKFIuVVBEQVRFX1RJQ0tFVF9GQUlMRUQsXCJbXCIuY29uY2F0KG4uYnVmZmVyLmNvZGUsXCJdOiBcIikuY29uY2F0KGkuZGVzYykse3JldHJ5OmkucmV0cnl9KX1yZXR1cm4gbi5idWZmZXIudGlja2V0fXRocm93IF8uZGVidWcoXCJ1cGRhdGUgdGlja2V0IHJlcXVlc3QgcmVjZWl2ZWQgYXAgcmVzcG9uc2Ugd2l0aG91dCByZXNwb25zZSBib2R5OlwiLGUpLG5ldyBPKFIuVVBEQVRFX1RJQ0tFVF9GQUlMRUQsXCJjYW5ub3QgZmluZCByZXNwb25zZSBib2R5IGZyb20gYXAgcmVzcG9uc2VcIix7cmV0cnk6ITF9KX0sd2Y9KHQsZSxuKT0+e2xldCBpPU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxZTEyKSxyPXthcHBpZDp0LmFwcElkLGNsaWVudF90czpEYXRlLm5vdygpLG9waWQ6aSxzaWQ6dC5zaWQscmVxdWVzdF9ib2RpZXM6W3t1cmk6MjIsYnVmZmVyOntjbmFtZTp0LmNuYW1lLGRldGFpbDplbSh7Njp0LnN0cmluZ1VpZCwxMTplLDEyOnYoXCJVU0VfTkVXX1RPS0VOXCIpP1wiMVwiOnZvaWQgMCwyMjplfSx0LmFwUlRNP3syNjpcIlJUTTJcIn06e30pLGtleTp0LnRva2VuLHNlcnZpY2VfaWRzOm4sdWlkOnQudWlkfHwwfX1dfTtyLnJlcXVlc3RfYm9kaWVzLmZvckVhY2gocz0+e3QubXVsdGlJUCYmdC5tdWx0aUlQLmdhdGV3YXlfaXAmJihzLmJ1ZmZlci5kZXRhaWxbNV09SlNPTi5zdHJpbmdpZnkoe3ZvY3NfaXA6W3QubXVsdGlJUC51bmlfbGJzX2lwXSx2b3NfaXA6W3QubXVsdGlJUC5nYXRld2F5X2lwXX0pKTt9KTtsZXQgbz1uZXcgRm9ybURhdGE7cmV0dXJuIG8uYXBwZW5kKFwicmVxdWVzdFwiLEpTT04uc3RyaW5naWZ5KHIpKSxbbyxpXX0sS0c9KHQsZSk9PntsZXQgbj1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMWUxMiksaT17YXBwaWQ6dC5hcHBJZCxjbGllbnRfdHM6RGF0ZS5ub3coKSxvcGlkOm4sc2lkOnQuc2lkLHJlcXVlc3RfYm9kaWVzOlt7dXJpOjI4LGJ1ZmZlcjp7Y25hbWU6dC5jbmFtZSxkZXRhaWw6ezE6XCJcIiw2OnQuc3RyaW5nVWlkLDEyOlwiMVwifSx0b2tlbjp0LnRva2VuLHNlcnZpY2VfaWRzOmUsdWlkOnQudWlkfHwwLGVkZ2VzX3NlcnZpY2VzOnQuYXBSZXNwb25zZS5hZGRyZXNzZXMubWFwKG89Pih7aXA6by5pcCxwb3J0Om8ucG9ydH0pKX19XX0scj1uZXcgRm9ybURhdGE7cmV0dXJuIHIuYXBwZW5kKFwicmVxdWVzdFwiLEpTT04uc3RyaW5naWZ5KGkpKSxbcixuXX0sWXM9MDtmdW5jdGlvbiBUYSh0KXtyZXR1cm4gai5hbGwodC5tYXAoZT0+ZS50aGVuKG49Pnt0aHJvdyBufSxuPT5uKSkpLnRoZW4oZT0+e3Rocm93IGV9LGU9PmUpfXZhciBVYz1hc3luYyB0PT57bGV0e2ZyYWdlbWVudExlbmd0aDplLHJlZmVyZW5jZUxpc3Q6bixhc3luY01hcEhhbmRsZXI6aSxhbGxGYWlsZWRoYW5kbGVyOnIscHJvbWlzZXNDb2xsZWN0b3I6b309dCxzPTAsYT1lLGMsZD0wLGw9YXN5bmMoKT0+e2xldCB1PSgoKT0+e2xldCBoPXMqYSxwPWgrYTtyZXR1cm4gbi5zbGljZShoLHApLm1hcChpKX0pKCk7byYmby5wdXNoKC4uLnUpO3RyeXtjPWF3YWl0IFRhKHUpO31jYXRjaChoKXtpZihkKz1hLHMrKywhKGQ+PW4ubGVuZ3RoKSlyZXR1cm4gdm9pZCBhd2FpdCBsKCk7cihoKTt9dS5mb3JFYWNoKGg9PmguY2FuY2VsKCkpO307cmV0dXJuIGF3YWl0IGwoKSxjfSx1MD1hc3luYyB0PT57bGV0e3JlZmVyZW5jZUxpc3Q6ZSxhc3luY01hcEhhbmRsZXI6bixjbG9zZUZuOml9PXQscj1lLmxlbmd0aCxvPTAscz1hc3luYygpPT57bGV0IGE9bihlLnNoaWZ0KCkpO3RyeXtyZXR1cm4gYXdhaXQgYX1jYXRjaChjKXtpZihvKyssbz49cnx8aSE9bnVsbCYmaShjKSl0aHJvdyBjO3JldHVybiBzKCl9fTtyZXR1cm4gcygpfTthc3luYyBmdW5jdGlvbiBubSh0LGUsbixpKXtyZXR1cm4ge2dhdGV3YXlJbmZvOmF3YWl0IGFzeW5jIGZ1bmN0aW9uKG8scyxhLGMpe2xldCBkPW51bGwsbD1bXSx1PWFzeW5jKCk9PntsZXQgcD12KFwiV0VCQ1NfRE9NQUlOXCIpLnNsaWNlKDAsdihcIkFKQVhfUkVRVUVTVF9DT05DVVJSRU5UXCIpKS5tYXAoZj0+KHt1cmw6by5wcm94eVNlcnZlcj9cImh0dHBzOi8vXCIuY29uY2F0KG8ucHJveHlTZXJ2ZXIsXCIvYXAvP3VybD1cIikuY29uY2F0KGYrXCIvYXBpL3YyL3RyYW5zcG9uZC93ZWJydGM/dj0yXCIpOlwiaHR0cHM6Ly9cIi5jb25jYXQoZixcIi9hcGkvdjIvdHJhbnNwb25kL3dlYnJ0Yz92PTJcIiksYXJlYUNvZGU6TWMoKX0pKSxnPWMucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtzdGFydFRzOkRhdGUubm93KCksc3RhdHVzOlwicGVuZGluZ1wiLHNlcnZpY2U6XCJjaG9vc2VTZXJ2ZXJcIix1cmxzOnAubWFwKGY9PmYudXJsKX0pLEU9YXdhaXQgVWMoe2ZyYWdlbWVudExlbmd0aDp2KFwiRlJBR0VNRU5UX0xFTkdUSFwiKSxyZWZlcmVuY2VMaXN0OnAsYXN5bmNNYXBIYW5kbGVyOmY9PihfLmRlYnVnKFwiW1wiLmNvbmNhdChvLmNsaWVudElkLFwiXSBDb25uZWN0IHRvIGNob29zZV9zZXJ2ZXI6XCIpLGYudXJsKSxaSShmLG8scyxhKSksYWxsRmFpbGVkaGFuZGxlcjpmPT57dGhyb3cgYy5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe2VuZFRzOkRhdGUubm93KCksc3RhdHVzOlwiZXJyb3JcIixlcnJvcnM6Zn0sZyksZlswXX0scHJvbWlzZXNDb2xsZWN0b3I6bH0pO3JldHVybiBjLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7ZW5kVHM6RGF0ZS5ub3coKSxzdGF0dXM6XCJzdWNjZXNzXCJ9LGcpLEV9LGg9YXN5bmMoKT0+e2lmKGF3YWl0IE1lKDFlMyksZCE9PW51bGwpcmV0dXJuIGQ7bGV0IHA9dihcIldFQkNTX0RPTUFJTl9CQUNLVVBfTElTVFwiKS5tYXAoZj0+KHt1cmw6by5wcm94eVNlcnZlcj9cImh0dHBzOi8vXCIuY29uY2F0KG8ucHJveHlTZXJ2ZXIsXCIvYXAvP3VybD1cIikuY29uY2F0KGYrXCIvYXBpL3YyL3RyYW5zcG9uZC93ZWJydGM/dj0yXCIpOlwiaHR0cHM6Ly9cIi5jb25jYXQoZixcIi9hcGkvdjIvdHJhbnNwb25kL3dlYnJ0Yz92PTJcIiksYXJlYUNvZGU6TWMoKX0pKSxnPWMucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtlbmRUczp2b2lkIDAsc3RhcnRUczpEYXRlLm5vdygpLHN0YXR1czpcInBlbmRpbmdcIixzZXJ2aWNlOlwiY2hvb3NlU2VydmVyXCIsdXJsczpwLm1hcChmPT5mLnVybCl9KSxFPWF3YWl0IFVjKHtmcmFnZW1lbnRMZW5ndGg6dihcIkZSQUdFTUVOVF9MRU5HVEhcIikscmVmZXJlbmNlTGlzdDpwLGFzeW5jTWFwSGFuZGxlcjpmPT4oXy5kZWJ1ZyhcIltcIi5jb25jYXQoby5jbGllbnRJZCxcIl0gQ29ubmVjdCB0byBiYWNrdXAgY2hvb3NlX3NlcnZlcjpcIiksZi51cmwpLFpJKGYsbyxzLGEpKSxhbGxGYWlsZWRoYW5kbGVyOmY9Pnt0aHJvdyBjLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7ZW5kVHM6RGF0ZS5ub3coKSxzdGF0dXM6XCJlcnJvclwiLGVycm9yczpmfSxnKSxmWzBdfSxwcm9taXNlc0NvbGxlY3RvcjpsfSk7cmV0dXJuIGMucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtlbmRUczpEYXRlLm5vdygpLHN0YXR1czpcInN1Y2Nlc3NcIn0sZyksRX07dHJ5e3JldHVybiBkPWF3YWl0IFRhKFt1KCksaCgpXSksbC5sZW5ndGgmJmwuZm9yRWFjaChwPT5wLmNhbmNlbCYmdHlwZW9mIHAuY2FuY2VsPT1cImZ1bmN0aW9uXCImJnAuY2FuY2VsKCkpLGR9Y2F0Y2gocCl7dGhyb3cgcFswXX19KHQsZSxuLGkpfX1hc3luYyBmdW5jdGlvbiB0dih0LGUsbixpLHIpe2xldCBvPXQuY2xvdWRQcm94eVNlcnZlcjtpZihvPT09XCJkaXNhYmxlZFwiKXtpZih0LnVzZUxvY2FsQWNjZXNzUG9pbnQpcmV0dXJuIGF3YWl0IG5tKHQsZSxuLHIpO2lmKHYoXCJKT0lOX1dJVEhfRkFMTEJBQ0tfTUVESUFfUFJPWFlcIikpe2xldHtnYXRld2F5SW5mbzpoLHByb3h5SW5mbzpwfT1hd2FpdCBudih0LGUsbixyKTtpZih0LnR1cm5TZXJ2ZXImJnQudHVyblNlcnZlci5tb2RlIT09XCJhdXRvXCIpcmV0dXJuIHtnYXRld2F5SW5mbzpofTtsZXQgZz1wLm1hcChFPT4oe3R1cm5TZXJ2ZXJVUkw6RS5hZGRyZXNzLHRjcHBvcnQ6RS50Y3Bwb3J0fHxWZS50Y3Bwb3J0LHVkcHBvcnQ6RS51ZHBwb3J0fHxWZS51ZHBwb3J0LHVzZXJuYW1lOkUudXNlcm5hbWV8fFZlLnVzZXJuYW1lLHBhc3N3b3JkOkUucGFzc3dvcmR8fFZlLnBhc3N3b3JkLGZvcmNldHVybjohMSxzZWN1cml0eTohMH0pKTtpZihyLnVzZVAyUCl7dmFyIHM7bGV0IEU9KHM9dC51aWQpIT09bnVsbCYmcyE9PXZvaWQgMD9zOmgudWlkLGY9XCJnbGI6XCIuY29uY2F0KEUudG9TdHJpbmcoKSksUz1hd2FpdCBQRShmKSxDPXAubWFwKEE9Pih7dHVyblNlcnZlclVSTDpBLmFkZHJlc3MsdGNwcG9ydDpBLnRjcHBvcnR8fFZlLnRjcHBvcnQsdWRwcG9ydDpBLnVkcHBvcnR8fFZlLnVkcHBvcnQsdXNlcm5hbWU6ZixwYXNzd29yZDpTLGZvcmNldHVybjohMSxzZWN1cml0eTohMH0pKTtnLnB1c2goLi4uQyk7fXJldHVybiB0LnR1cm5TZXJ2ZXI9e21vZGU6XCJtYW51YWxcIixzZXJ2ZXJzOmd9LHtnYXRld2F5SW5mbzpofX1yZXR1cm4gYXdhaXQgbm0odCxlLG4scil9bGV0e3Byb3h5SW5mbzphLGdhdGV3YXlJbmZvOmN9PWF3YWl0IG52KHQsZSxuLHIpLGQ9e2dhdGV3YXlJbmZvOmN9LGw9YS5tYXAoaD0+KHt0dXJuU2VydmVyVVJMOmguYWRkcmVzcyx0Y3Bwb3J0Om89PT1cInByb3h5M1wiP3ZvaWQgMDpoLnRjcHBvcnQ/aC50Y3Bwb3J0OlZlLnRjcHBvcnQsdWRwcG9ydDpvPT09XCJwcm94eTRcIj92b2lkIDA6aC51ZHBwb3J0P2gudWRwcG9ydDpWZS51ZHBwb3J0LHVzZXJuYW1lOmgudXNlcm5hbWV8fFZlLnVzZXJuYW1lLHBhc3N3b3JkOmgucGFzc3dvcmR8fFZlLnBhc3N3b3JkLGZvcmNldHVybjpvIT09XCJwcm94eTRcIixzZWN1cml0eTpvPT09XCJwcm94eTVcIn0pKTtpZihyLnVzZVAyUCl7dmFyIHU7bGV0IGg9KHU9dC51aWQpIT09bnVsbCYmdSE9PXZvaWQgMD91OmMudWlkLHA9XCJnbGI6XCIuY29uY2F0KGgudG9TdHJpbmcoKSksZz1hd2FpdCBQRShwKSxFPWEubWFwKGY9Pih7dHVyblNlcnZlclVSTDpmLmFkZHJlc3MsdGNwcG9ydDpvPT09XCJwcm94eTNcIj92b2lkIDA6Zi50Y3Bwb3J0fHxWZS50Y3Bwb3J0LHVkcHBvcnQ6bz09PVwicHJveHk0XCI/dm9pZCAwOmYudWRwcG9ydHx8VmUudWRwcG9ydCx1c2VybmFtZTpwLHBhc3N3b3JkOmcsZm9yY2V0dXJuOm8hPT1cInByb3h5NFwiLHNlY3VyaXR5Om89PT1cInByb3h5NVwifSkpO2wucHVzaCguLi5FKTt9cmV0dXJuIHQudHVyblNlcnZlcj17bW9kZTpcIm1hbnVhbFwiLHNlcnZlcnM6bH0sXy5kZWJ1ZyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gc2V0IHByb3h5IHNlcnZlcjogXCIpLmNvbmNhdCh0LnByb3h5U2VydmVyLFwiLCBtb2RlOiBcIikuY29uY2F0KG8pKSxkfWFzeW5jIGZ1bmN0aW9uIGgwKHQsZSxuLGkscil7bGV0IG89dihcIkFDQ09VTlRfUkVHSVNURVJcIikuc2xpY2UoMCx2KFwiQUpBWF9SRVFVRVNUX0NPTkNVUlJFTlRcIikpLHM9W107cz1lLnByb3h5U2VydmVyP28ubWFwKGM9PlwiaHR0cHM6Ly9cIi5jb25jYXQoZS5wcm94eVNlcnZlcixcIi9hcC8/dXJsPVwiKS5jb25jYXQoYytcIi9hcGkvdjFcIikpOm8ubWFwKGM9PlwiaHR0cHM6Ly9cIi5jb25jYXQoYyxcIi9hcGkvdjFcIikpO2xldCBhPXI/LnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7c3RhcnRUczpEYXRlLm5vdygpLHN0YXR1czpcInBlbmRpbmdcIixzZXJ2aWNlOlwic3RyaW5nVUlEXCIsdXJsczpzfSk7dHJ5e2xldCBjPWF3YWl0IGFzeW5jIGZ1bmN0aW9uKGQsbCx1LGgscCl7bGV0IGc9RGF0ZS5ub3coKSxFPXtzaWQ6dS5zaWQsb3BpZDoxMCxhcHBpZDp1LmFwcElkLHN0cmluZ191aWQ6bH0sZj1kWzBdLFM9YXdhaXQgV2koKCk9PkhpKGYrXCJcIi5jb25jYXQoZi5pbmRleE9mKFwiP1wiKT09PS0xP1wiP1wiOlwiJlwiLFwiYWN0aW9uPXN0cmluZ3VpZFwiKSx7ZGF0YTpFLGNhbmNlbFRva2VuOmgsaGVhZGVyczp7XCJYLVBhY2tldC1TZXJ2aWNlLVR5cGVcIjowLFwiWC1QYWNrZXQtVVJJXCI6NzJ9fSksKEMsQSk9PntpZihDLmNvZGU9PT0wKXtpZihDLnVpZDw9MHx8Qy51aWQ+PU1hdGgucG93KDIsMzIpKXRocm93IF8uZXJyb3IoXCJJbnZhbGlkIFVpbnQgVWlkIFwiLmNvbmNhdChsLFwiID0+IFwiKS5jb25jYXQoQy51aWQpLEMpLFgucmVxVXNlckFjY291bnQoRS5zaWQse2x0czpnLHN1Y2Nlc3M6ITEsc2VydmVyQWRkcjpmLHN0cmluZ1VpZDpFLnN0cmluZ191aWQsdWlkOkMudWlkLGVycm9yQ29kZTpSLklOVkFMSURfVUlOVF9VSURfRlJPTV9TVFJJTkdfVUlELGV4dGVuZDpFfSksbmV3IE8oUi5JTlZBTElEX1VJTlRfVUlEX0ZST01fU1RSSU5HX1VJRCk7cmV0dXJuIFgucmVxVXNlckFjY291bnQoRS5zaWQse2x0czpnLHN1Y2Nlc3M6ITAsc2VydmVyQWRkcjpmLHN0cmluZ1VpZDpFLnN0cmluZ191aWQsdWlkOkMudWlkLGVycm9yQ29kZTpudWxsLGV4dGVuZDpFfSksITF9bGV0IGI9dGEoQy5jb2RlKTtyZXR1cm4gYi5yZXRyeSYmKGY9ZFsoQSsxKSVkLmxlbmd0aF0pLFgucmVxVXNlckFjY291bnQoRS5zaWQse2x0czpnLHN1Y2Nlc3M6ITEsc2VydmVyQWRkcjpmLHN0cmluZ1VpZDpFLnN0cmluZ191aWQsdWlkOkMudWlkLGVycm9yQ29kZTpiLmRlc2MsZXh0ZW5kOkV9KSxiLnJldHJ5fSwoQyxBKT0+Qy5jb2RlIT09Ui5PUEVSQVRJT05fQUJPUlRFRCYmKFgucmVxVXNlckFjY291bnQoRS5zaWQse2x0czpnLHN1Y2Nlc3M6ITEsc2VydmVyQWRkcjpmLHN0cmluZ1VpZDpFLnN0cmluZ191aWQsdWlkOm51bGwsZXJyb3JDb2RlOkMuY29kZSxleHRlbmQ6RX0pLGY9ZFsoQSsxKSVkLmxlbmd0aF0sITApLHApO2lmKFMuY29kZSE9PTApe2xldCBDPXRhKFMuY29kZSk7dGhyb3cgbmV3IE8oUi5VTkVYUEVDVEVEX1JFU1BPTlNFLEMuZGVzYyl9cmV0dXJuIFN9KHMsdCxlLG4saSk7cmV0dXJuIHI/LnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7c3RhdHVzOlwic3VjY2Vzc1wiLGVuZFRzOkRhdGUubm93KCl9LGEpLGMudWlkfWNhdGNoKGMpe3Rocm93IHI/LnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7c3RhdHVzOlwiZXJyb3JcIixlbmRUczpEYXRlLm5vdygpLGVycm9yczpbY119LGEpLGN9fWFzeW5jIGZ1bmN0aW9uIFlHKHQsZSxuKXtsZXQgaT12KFwiQUNDT1VOVF9SRUdJU1RFUlwiKSxyPVtdO3I9ZS5wcm94eVNlcnZlcj9pLm1hcChvPT5cImh0dHBzOi8vXCIuY29uY2F0KGUucHJveHlTZXJ2ZXIsXCIvYXAvP3VybD1cIikuY29uY2F0KG8rXCIvYXBpL3YxXCIpKTppLm1hcChvPT5cImh0dHBzOi8vXCIuY29uY2F0KG8sXCIvYXBpL3YxXCIpKTt0cnl7cmV0dXJuIGF3YWl0IHUwKHtyZWZlcmVuY2VMaXN0OnIsYXN5bmNNYXBIYW5kbGVyOnM9PmFzeW5jIGZ1bmN0aW9uKGEsYyxkLGwpe2xldCB1PURhdGUubm93KCksaD17c2lkOmQuc2lkLG9waWQ6MTAsYXBwaWQ6ZC5hcHBJZCxzdHJpbmdfdWlkOmN9O3RyeXtsZXQgcD1hd2FpdCBIaShhK1wiXCIuY29uY2F0KGEuaW5kZXhPZihcIj9cIik9PT0tMT9cIj9cIjpcIiZcIixcImFjdGlvbj1zdHJpbmd1aWRcIikse2RhdGE6aCxjYW5jZWxUb2tlbjpsLGhlYWRlcnM6e1wiWC1QYWNrZXQtU2VydmljZS1UeXBlXCI6MCxcIlgtUGFja2V0LVVSSVwiOjcyfX0pO2lmKHAuY29kZSE9PTApe2xldCBnPXRhKHAuY29kZSk7dGhyb3cgbmV3IE8oUi5VTkVYUEVDVEVEX1JFU1BPTlNFLFwicHJlbG9hZCBzdWEgZXJyb3I6XCIuY29uY2F0KGcuZGVzYyksZyl9aWYocC51aWQ8PTB8fHAudWlkPj1NYXRoLnBvdygyLDMyKSl0aHJvdyBuZXcgTyhSLklOVkFMSURfVUlOVF9VSURfRlJPTV9TVFJJTkdfVUlEKTtyZXR1cm4ge3JlcXVlc3RUaW1lOnUsdXJsOmEscmVxOmgsdWlkOnAudWlkLGVsYXBzZTpEYXRlLm5vdygpLXV9fWNhdGNoKHApe3Rocm93IHB9fShzLHQsZSxuKSxjbG9zZUZuOnM9PnMuY29kZT09PVIuT1BFUkFUSU9OX0FCT1JURUR8fHMuY29kZT09PVIuVU5FWFBFQ1RFRF9SRVNQT05TRSYmIXMuZGF0YS5yZXRyeX0pfWNhdGNoKG8pe3Rocm93IG99fWFzeW5jIGZ1bmN0aW9uIHFHKHQsZSxuKXtsZXQgaT12KFwiQ0RTX0FQXCIpLnNsaWNlKDAsdihcIkFKQVhfUkVRVUVTVF9DT05DVVJSRU5UXCIpKS5tYXAoYz0+dC5wcm94eVNlcnZlcj9cImh0dHBzOi8vXCIuY29uY2F0KHQucHJveHlTZXJ2ZXIsXCIvYXAvP3VybD1cIikuY29uY2F0KGMrXCIvYXBpL3YxXCIpOlwiaHR0cHM6Ly9cIi5jb25jYXQoYyxcIi9hcGkvdjE/YWN0aW9uPWNvbmZpZ1wiKSkscj1pLm1hcChjPT5mdW5jdGlvbihkLGwsdSxoKXtsZXQgcD1tdCgpLGc9e2ZsYWc6NjQsY2lwaGVyX21ldGhvZDowLGZlYXR1cmVzOntkZXZpY2U6cC5uYW1lLHN5c3RlbTpwLm9zLHN5c3RlbV9nZW5lcmFsOm5hdmlnYXRvci51c2VyQWdlbnQsdmVuZG9yOmwuYXBwSWQsdmVyc2lvbjppaSxjbmFtZTpsLmNuYW1lLHNpZDpsLnNpZCxzZXNzaW9uX2lkOmwuc2lkLGRldGFpbDpcIlwiLHByb3h5U2VydmVyOmwucHJveHlTZXJ2ZXJ9fTtyZXR1cm4gV2koKCk9PkhpKGQse2RhdGE6Zyx0aW1lb3V0OjFlMyxjYW5jZWxUb2tlbjp1LGhlYWRlcnM6e1wiWC1QYWNrZXQtU2VydmljZS1UeXBlXCI6MCxcIlgtUGFja2V0LVVSSVwiOjU0fX0pLHZvaWQgMCxFPT5FLmNvZGUhPT1SLk9QRVJBVElPTl9BQk9SVEVELGgpfShjLHQsZSxuKSksbz1udWxsLHM9bnVsbCxhPXt9O3RyeXtvPWF3YWl0IFRhKHIpO31jYXRjaChjKXtpZihjLmNvZGU9PT1SLk9QRVJBVElPTl9BQk9SVEVEKXRocm93IGM7cz1jO31pZihyLmZvckVhY2goYz0+Yy5jYW5jZWwoKSksWC5yZXBvcnRBcGlJbnZva2UodC5zaWQse25hbWU6VGUuUkVRVUVTVF9DT05GSUdfRElTVFJJQlVURSxvcHRpb25zOntlcnJvcjpzLHJlczpvfX0pLm9uU3VjY2VzcygpLG8mJm8udGVzdF90YWdzKXRyeXthPWZ1bmN0aW9uKGMpe2lmKCFjLnRlc3RfdGFncylyZXR1cm4ge307bGV0IGQ9Yy50ZXN0X3RhZ3MsbD1PYmplY3Qua2V5cyhkKSx1PXt9O3JldHVybiBsLmZvckVhY2goaD0+e3ZhciBwO2xldCBnPXJuKHA9aC5zbGljZSg0KSkuY2FsbChwKSxFPUpTT04ucGFyc2UoZFtoXSlbMV07dVtnXT1FO30pLHV9KG8pO31jYXRjaHt9cmV0dXJuIGF9YXN5bmMgZnVuY3Rpb24gZXYodCxlKXtsZXQgbj12KFwiV0VCQ1NfRE9NQUlOXCIpLmNvbmNhdCh2KFwiV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUXCIpKS5tYXAoaT0+KHt1cmw6XCJodHRwczovL1wiLmNvbmNhdChpLFwiL2FwaS92Mi90cmFuc3BvbmQvd2VicnRjP3Y9MlwiKSxhcmVhQ29kZTpNYygpLHNlcnZpY2VJZHM6W3VlLkNIT09TRV9TRVJWRVIsdWUuQ0xPVURfUFJPWFlfRkFMTEJBQ0tdfSkpO3RyeXtyZXR1cm4gYXdhaXQgdTAoe3JlZmVyZW5jZUxpc3Q6bixhc3luY01hcEhhbmRsZXI6cj0+YXN5bmMgZnVuY3Rpb24obyxzLGEpe2xldCBjLHt1cmw6ZCxhcmVhQ29kZTpsLHNlcnZpY2VJZHM6dX09byxoPURhdGUubm93KCksW3AsZ109d2YocyxsLHUpLEU9aGUubmV0d29ya1N0YXRlO3RyeXtFJiZoZS5uZXR3b3JrU3RhdGU9PT13bi5PRkZMSU5FJiZoZS5vbmxpbmVXYWl0ZXImJmF3YWl0IGoucmFjZShbaGUub25saW5lV2FpdGVyLE1lKEVlLm1heFJldHJ5VGltZW91dCldKSxFPWhlLm5ldHdvcmtTdGF0ZTtsZXR7ZGF0YTpmLGhlYWRlcnM6U309YXdhaXQgSGkoZCx7ZGF0YTpwLGNhbmNlbFRva2VuOmEsaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcIm11bHRpcGFydC9mb3JtLWRhdGE7XCJ9fSwhMCwhMCk7Yz1TLmh0dHAzPT09XCIxXCI/MTotMSwodz0+e2xldCBEPVtdO2lmKHcucmVzcG9uc2VfYm9keS5mb3JFYWNoKGs9PntsZXQgQj1rLmJ1ZmZlci5jb2RlO2lmKGsudXJpPT09MjMmJkI9PT0wJiYhay5idWZmZXIuZWRnZXNfc2VydmljZXMpaWYoay5idWZmZXIuZmxhZz09PTQxOTQzMTApay5idWZmZXIuZWRnZXNfc2VydmljZXM9W107ZWxzZSB7bGV0IFY9e2Vycm9yOm5ldyBPKFIuQ0FOX05PVF9HRVRfR0FURVdBWV9TRVJWRVIsXCJubyBlZGdlIHNlcnZpY2VzIGluIGFwIHJlc3BvbnNlXCIse3JldHJ5OiEwLGNzSXA6dy5kZXRhaWxbNTAyXX0pLGZsYWc6ay5idWZmZXIuZmxhZ307RC5wdXNoKFYpO31pZihCIT09MCl7bGV0IFY9dGEoQiksej17ZXJyb3I6bmV3IE8oUi5DQU5fTk9UX0dFVF9HQVRFV0FZX1NFUlZFUixWLmRlc2Mse2Rlc2M6Vi5kZXNjLHJldHJ5OlYucmV0cnksY3NJcDp3LmRldGFpbFs1MDJdfSksZmxhZzprLmJ1ZmZlci5mbGFnfTtrLmJ1ZmZlci5mbGFnPT09NDE5NDMxMD9fLndhcm5pbmcoei5lcnJvci50b1N0cmluZygpKTpELnB1c2goeik7fX0pLEQubGVuZ3RoKXRocm93IG5ldyBPKFIuQ0FOX05PVF9HRVRfR0FURVdBWV9TRVJWRVIsRC5tYXAoaz0+XCJmbGFnOiBcIi5jb25jYXQoay5mbGFnLFwiLCBtZXNzYWdlOiBcIikuY29uY2F0KGsuZXJyb3IubWVzc2FnZSkpLmpvaW4oXCIgfCBcIikse3JldHJ5OiEhRC5maW5kKGs9PmsuZXJyb3IuZGF0YS5yZXRyeSksY3NJcDp3LmRldGFpbFs1MDJdLGRlc2M6Wy4uLm5ldyBTZXQoRC5tYXAoaz0+e3ZhciBCO3JldHVybiBrPT1udWxsfHwoQj1rLmVycm9yKT09PW51bGx8fEI9PT12b2lkIDB8fChCPUIuZGF0YSk9PT1udWxsfHxCPT09dm9pZCAwP3ZvaWQgMDpCLmRlc2N9KS5maWx0ZXIoaz0+ISFrKSldfSl9KShmKTtsZXQgQT1EYyhmLHVlLkNIT09TRV9TRVJWRVIpLGI9RGMoZix1ZS5DTE9VRF9QUk9YWV9GQUxMQkFDSyk7cmV0dXJuIGJmKEEpLHtnYXRld2F5SW5mbzptZihBLGQpLHByb3h5SW5mbzpiLG9waWQ6ZyxyZXF1ZXN0VGltZTpoLHVybDpkLGlzSHR0cDM6YyxlbGFwc2U6RGF0ZS5ub3coKS1ofX1jYXRjaChmKXt0aHJvdyBmfX0ocix0LGUpLGNsb3NlRm46cj0+ci5jb2RlPT09Ui5PUEVSQVRJT05fQUJPUlRFRHx8ci5jb2RlPT09Ui5DQU5fTk9UX0dFVF9HQVRFV0FZX1NFUlZFUiYmIXIuZGF0YS5yZXRyeX0pfWNhdGNoKGkpe3Rocm93IGl9fWFzeW5jIGZ1bmN0aW9uIG52KHQsZSxuLGkpe2xldCByPXYoXCJQUk9YWV9TRVJWRVJfVFlQRTNcIiksbz0ocCxnLEUpPT57bGV0IGY9RXx8cjtyZXR1cm4gQXJyYXkuaXNBcnJheShmKSYmKGY9ZyUyPT0wP3JbMV06clswXSksXCJodHRwczovL1wiLmNvbmNhdChmLFwiL2FwLz91cmw9XCIpLmNvbmNhdChwKX0scz1udWxsLGE9W10sYz1hc3luYygpPT57bGV0IHA9dihcIldFQkNTX0RPTUFJTlwiKS5zbGljZSgwLHYoXCJBSkFYX1JFUVVFU1RfQ09OQ1VSUkVOVFwiKSkubWFwKChmLFMpPT57bGV0IEM7cmV0dXJuIEM9dC5jbG91ZFByb3h5U2VydmVyPT09XCJkaXNhYmxlZFwiJiZ0LnByb3h5U2VydmVyP28oXCJcIi5jb25jYXQoZixcIi9hcGkvdjIvdHJhbnNwb25kL3dlYnJ0Yz92PTJcIiksUyx0LnByb3h5U2VydmVyKTp0LmNsb3VkUHJveHlTZXJ2ZXI9PT1cImRpc2FibGVkXCJ8fHQuY2xvdWRQcm94eVNlcnZlcj09PVwiZmFsbGJhY2tcIj9cImh0dHBzOi8vXCIuY29uY2F0KGYsXCIvYXBpL3YyL3RyYW5zcG9uZC93ZWJydGM/dj0yXCIpOm8oXCJcIi5jb25jYXQoZixcIi9hcGkvdjIvdHJhbnNwb25kL3dlYnJ0Yz92PTJcIiksUykse3VybDpDLGFyZWFDb2RlOk1jKCksc2VydmljZUlkczpbdWUuQ0hPT1NFX1NFUlZFUix0LmNsb3VkUHJveHlTZXJ2ZXI9PT1cInByb3h5NVwiP3VlLkNMT1VEX1BST1hZXzU6dC5jbG91ZFByb3h5U2VydmVyPT09XCJwcm94eTNcInx8dC5jbG91ZFByb3h5U2VydmVyPT09XCJwcm94eTRcIj91ZS5DTE9VRF9QUk9YWTp1ZS5DTE9VRF9QUk9YWV9GQUxMQkFDS119fSksZz1pLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7c3RhcnRUczpEYXRlLm5vdygpLHN0YXR1czpcInBlbmRpbmdcIixzZXJ2aWNlOlwiY2hvb3NlU2VydmVyXCIsdXJsczpwLm1hcChmPT5mLnVybCl9KSxFPWF3YWl0IFVjKHtmcmFnZW1lbnRMZW5ndGg6dihcIkZSQUdFTUVOVF9MRU5HVEhcIikscmVmZXJlbmNlTGlzdDpwLGFzeW5jTWFwSGFuZGxlcjpmPT4oXy5kZWJ1ZyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gQ29ubmVjdCB0byBjaG9vc2Vfc2VydmVyOlwiKSxmLnVybCksJEkoZix0LGUsbikpLGFsbEZhaWxlZGhhbmRsZXI6Zj0+e3Rocm93IGkucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtlbmRUczpEYXRlLm5vdygpLHN0YXR1czpcImVycm9yXCIsZXJyb3JzOmZ9LGcpLGZbMF19LHByb21pc2VzQ29sbGVjdG9yOmF9KTtyZXR1cm4gaS5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe2VuZFRzOkRhdGUubm93KCksc3RhdHVzOlwic3VjY2Vzc1wifSxnKSxFfSxkPWFzeW5jKCk9PntpZihhd2FpdCBNZSgxZTMpLHMhPT1udWxsKXJldHVybiBzO2xldCBwPXYoXCJXRUJDU19ET01BSU5fQkFDS1VQX0xJU1RcIikubWFwKChmLFMpPT57bGV0IEM7cmV0dXJuIEM9dC5jbG91ZFByb3h5U2VydmVyPT09XCJkaXNhYmxlZFwiJiZ0LnByb3h5U2VydmVyP28oXCJcIi5jb25jYXQoZixcIi9hcGkvdjIvdHJhbnNwb25kL3dlYnJ0Yz92PTJcIiksUyx0LnByb3h5U2VydmVyKTp0LmNsb3VkUHJveHlTZXJ2ZXI9PT1cImRpc2FibGVkXCJ8fHQuY2xvdWRQcm94eVNlcnZlcj09PVwiZmFsbGJhY2tcIj9cImh0dHBzOi8vXCIuY29uY2F0KGYsXCIvYXBpL3YyL3RyYW5zcG9uZC93ZWJydGM/dj0yXCIpOm8oXCJcIi5jb25jYXQoZixcIi9hcGkvdjIvdHJhbnNwb25kL3dlYnJ0Yz92PTJcIiksUykse3VybDpDLGFyZWFDb2RlOk1jKCksc2VydmljZUlkczpbdWUuQ0hPT1NFX1NFUlZFUix0LmNsb3VkUHJveHlTZXJ2ZXI9PT1cInByb3h5NVwiP3VlLkNMT1VEX1BST1hZXzU6dC5jbG91ZFByb3h5U2VydmVyPT09XCJwcm94eTNcInx8dC5jbG91ZFByb3h5U2VydmVyPT09XCJwcm94eTRcIj91ZS5DTE9VRF9QUk9YWTp1ZS5DTE9VRF9QUk9YWV9GQUxMQkFDS119fSksZz1pLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7c3RhcnRUczpEYXRlLm5vdygpLHN0YXR1czpcInBlbmRpbmdcIixzZXJ2aWNlOlwiY2hvb3NlU2VydmVyXCIsdXJsczpwLm1hcChmPT5mLnVybCl9KSxFPWF3YWl0IFVjKHtmcmFnZW1lbnRMZW5ndGg6dihcIkZSQUdFTUVOVF9MRU5HVEhcIikscmVmZXJlbmNlTGlzdDpwLGFzeW5jTWFwSGFuZGxlcjpmPT4oXy5kZWJ1ZyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gQ29ubmVjdCB0byBiYWNrdXAgY2hvb3NlX3NlcnZlcjpcIiksZi51cmwpLCRJKGYsdCxlLG4pKSxhbGxGYWlsZWRoYW5kbGVyOmY9Pnt0aHJvdyBpLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7ZW5kVHM6RGF0ZS5ub3coKSxzdGF0dXM6XCJlcnJvclwiLGVycm9yczpmfSxnKSxmWzBdfSxwcm9taXNlc0NvbGxlY3RvcjphfSk7cmV0dXJuIGkucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtlbmRUczpEYXRlLm5vdygpLHN0YXR1czpcInN1Y2Nlc3NcIn0sZyksRX0sbCx1LGg7dHJ5eyh7Z2F0ZXdheUluZm86bCxwcm94eUluZm86dSx1cmw6aH09YXdhaXQgVGEoW2MoKSxkKCldKSk7fWNhdGNoKHApe3Rocm93IHBbMF19aWYoYS5sZW5ndGgmJmEuZm9yRWFjaChwPT5wLmNhbmNlbCYmdHlwZW9mIHAuY2FuY2VsPT1cImZ1bmN0aW9uXCImJnAuY2FuY2VsKCkpLCFsfHwhdSl0aHJvdyBuZXcgTyhSLlVORVhQRUNURURfRVJST1IsXCJtaXNzaW5nIGdhdGV3YXkgb3IgcHJveHkgcmVzcG9uc2VcIikucHJpbnQoKTtpZih0LmFwVXJsPWgsdC5jbG91ZFByb3h5U2VydmVyIT09XCJkaXNhYmxlZFwiJiZBcnJheS5pc0FycmF5KHIpJiZoKXtsZXQgcD0vXmh0dHBzPzpcXC9cXC8oLis/KShcXC8uKik/JC8uZXhlYyhoKVsxXTtXKHIpLmNhbGwocixwKSYmKHQucHJveHlTZXJ2ZXI9cCxfLnNldFByb3h5U2VydmVyKHApLFguc2V0UHJveHlTZXJ2ZXIocCkpO31yZXR1cm4gcz17Z2F0ZXdheUluZm86bCxwcm94eUluZm86YXdhaXQga08odSxsLnVpZCl9LHN9YXN5bmMgZnVuY3Rpb24gekcodCxlLG4pe2xldCBpPXYoXCJVQVBfQVBcIikuc2xpY2UoMCx2KFwiQUpBWF9SRVFVRVNUX0NPTkNVUlJFTlRcIikpLm1hcChvPT50LnByb3h5U2VydmVyP1wiaHR0cHM6Ly9cIi5jb25jYXQodC5wcm94eVNlcnZlcixcIi9hcC8/dXJsPVwiKS5jb25jYXQobytcIi9hcGkvdjE/YWN0aW9uPXVhcFwiKTpcImh0dHBzOi8vXCIuY29uY2F0KG8sXCIvYXBpL3YxP2FjdGlvbj11YXBcIikpLHI9aS5tYXAobz0+ZnVuY3Rpb24ocyxhLGMsZCl7bGV0IGw9e2NvbW1hbmQ6XCJjb252ZXJnZUFsbG9jYXRlRWRnZVwiLHNpZDphLnNpZCxhcHBJZDphLmFwcElkLHRva2VuOmEudG9rZW4sdHM6RGF0ZS5ub3coKSx2ZXJzaW9uOmlpLGNuYW1lOmEuY25hbWUsdWlkOmEudWlkLnRvU3RyaW5nKCkscmVxdWVzdElkOnBfLHNlcTpwX307cF8rPTE7bGV0IHU9e3NlcnZpY2VfbmFtZTpcInRlbGVfY2hhbm5lbFwiLGpzb25fYm9keTpKU09OLnN0cmluZ2lmeShsKX07cmV0dXJuIFdpKGFzeW5jKCk9PntsZXQgaD1hd2FpdCBIaShzLHtkYXRhOnUsY2FuY2VsVG9rZW46YyxoZWFkZXJzOntcIlgtUGFja2V0LVNlcnZpY2UtVHlwZVwiOjAsXCJYLVBhY2tldC1VUklcIjo2MX19KTtpZihoLmNvZGUhPT0wKXtsZXQgZz1uZXcgTyhSLlVORVhQRUNURURfUkVTUE9OU0UsXCJjcm9zcyBjaGFubmVsIGFwIGVycm9yLCBjb2RlXCIraC5jb2RlLHtyZXRyeTohMH0pO3Rocm93IF8uZXJyb3IoZy50b1N0cmluZygpKSxnfWxldCBwPUpTT04ucGFyc2UoaC5qc29uX2JvZHkpO2lmKHAuY29kZSE9PTIwMCl7bGV0IGc9bmV3IE8oUi5VTkVYUEVDVEVEX1JFU1BPTlNFLFwiY3Jvc3MgY2hhbm5lbCBhcHAgY2VudGVyIGVycm9yLCBjb2RlOiBcIi5jb25jYXQocC5jb2RlLFwiLCByZWFzb246IFwiKS5jb25jYXQocC5yZWFzb24pKTt0aHJvdyBfLmVycm9yKGcudG9TdHJpbmcoKSksZ31pZighcC5zZXJ2ZXJzfHxwLnNlcnZlcnMubGVuZ3RoPT09MCl7bGV0IGc9bmV3IE8oUi5VTkVYUEVDVEVEX1JFU1BPTlNFLFwiY3Jvc3MgY2hhbm5lbCBhcHAgY2VudGVyIGVtcHR5IHNlcnZlclwiKTt0aHJvdyBfLmVycm9yKGcudG9TdHJpbmcoKSksZ31yZXR1cm4ge3ZpZDpwLnZpZCx3b3JrZXJUb2tlbjpwLndvcmtlclRva2VuLGFkZHJlc3NMaXN0Oih2KFwiQ0hBTk5FTF9NRURJQV9SRUxBWV9TRVJWRVJTXCIpfHxwLnNlcnZlcnMpLm1hcChnPT5cIndzczovL1wiLmNvbmNhdChnLmFkZHJlc3MucmVwbGFjZSgvXFwuL2csXCItXCIpLFwiLlwiKS5jb25jYXQodihcIldPUktFUl9ET01BSU5cIiksXCI6XCIpLmNvbmNhdChnLndzcykpfX0sdm9pZCAwLGg9PiEhKGguY29kZSE9PVIuT1BFUkFUSU9OX0FCT1JURUQmJmguY29kZSE9PVIuVU5FWFBFQ1RFRF9SRVNQT05TRXx8aC5kYXRhJiZoLmRhdGEucmV0cnkpLGQpfShvLHQsZSxuKSk7dHJ5e2xldCBvPWF3YWl0IFRhKHIpO3JldHVybiByLmZvckVhY2gocz0+cy5jYW5jZWwoKSksb31jYXRjaChvKXt0aHJvdyBvWzBdfX1hc3luYyBmdW5jdGlvbiBKRyh0LGUsbil7bGV0IGk9bnVsbCxyPVtdLG89YXN5bmMgcz0+e2xldCBhPXYocz9cIldFQkNTX0RPTUFJTl9CQUNLVVBfTElTVFwiOlwiV0VCQ1NfRE9NQUlOXCIpLm1hcChjPT50LnByb3h5U2VydmVyP1wiaHR0cHM6Ly9cIi5jb25jYXQodC5wcm94eVNlcnZlcixcIi9hcC8/dXJsPVwiKS5jb25jYXQoYytcIi9hcGkvdjIvdHJhbnNwb25kL3dlYnJ0Yz92PTJcIik6XCJodHRwczovL1wiLmNvbmNhdChjLFwiL2FwaS92Mi90cmFuc3BvbmQvd2VicnRjP3Y9MlwiKSk7cmV0dXJuIHMmJihhd2FpdCBNZSgxZTMpLGkhPT1udWxsKT9pOmF3YWl0IFVjKHtmcmFnZW1lbnRMZW5ndGg6dihcIkZSQUdFTUVOVF9MRU5HVEhcIikscmVmZXJlbmNlTGlzdDphLGFzeW5jTWFwSGFuZGxlcjpjPT4oXy5kZWJ1ZyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gdXBkYXRlIHRpY2tldCwgQ29ubmVjdCB0byBcIikuY29uY2F0KHM/XCJiYWNrdXBcIjpcIlwiLFwiIGNob29zZV9zZXJ2ZXI6XCIpLGMpLGZ1bmN0aW9uKGQsbCx1LGgpe2xldFtwXT1LRyhsLFt1ZS5DSE9PU0VfU0VSVkVSXSksZz1oZS5uZXR3b3JrU3RhdGU7cmV0dXJuIFdpKGFzeW5jKCk9PntnJiZoZS5uZXR3b3JrU3RhdGU9PT13bi5PRkZMSU5FJiZoZS5vbmxpbmVXYWl0ZXImJmF3YWl0IGoucmFjZShbaGUub25saW5lV2FpdGVyLE1lKGgmJmgubWF4UmV0cnlUaW1lb3V0fHxFZS5tYXhSZXRyeVRpbWVvdXQpXSksZz1oZS5uZXR3b3JrU3RhdGU7bGV0IEU9YXdhaXQgSGkoZCx7ZGF0YTpwLGNhbmNlbFRva2VuOnUsaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcIm11bHRpcGFydC9mb3JtLWRhdGE7XCJ9fSwhMCk7cmV0dXJuIEhHKEUsZCl9LCgpPT4hMSxFPT5FLmNvZGUhPT1SLk9QRVJBVElPTl9BQk9SVEVEJiYoRS5jb2RlPT09Ui5VUERBVEVfVElDS0VUX0ZBSUxFRD9FLmRhdGEucmV0cnk6KF8ud2FybmluZyhcIltcIi5jb25jYXQobC5jbGllbnRJZCxcIl0gdXBkYXRlIHRpY2tldCBuZXR3b3JrIGVycm9yLCByZXRyeVwiKSxFKSwhMCkpLGgpfShjLHQsZSxuKSksYWxsRmFpbGVkaGFuZGxlcjpjPT57dGhyb3cgY1swXX0scHJvbWlzZXNDb2xsZWN0b3I6cn0pfTt0cnl7cmV0dXJuIGk9YXdhaXQgVGEoW28oITEpLG8oITApXSksci5sZW5ndGgmJnIuZm9yRWFjaChzPT5zLmNhbmNlbCYmdHlwZW9mIHMuY2FuY2VsPT1cImZ1bmN0aW9uXCImJnMuY2FuY2VsKCkpLGl9Y2F0Y2gocyl7dGhyb3cgc1swXX19ZnVuY3Rpb24gaXYodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihpPWkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscikuZW51bWVyYWJsZX0pKSxuLnB1c2guYXBwbHkobixpKTt9cmV0dXJuIG59ZnVuY3Rpb24gcnYodCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdIT1udWxsP2FyZ3VtZW50c1tlXTp7fTtlJTI/aXYoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe1QodCxpLG5baV0pO30pOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOml2KE9iamVjdChuKSkuZm9yRWFjaChmdW5jdGlvbihpKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxpLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixpKSk7fSk7fXJldHVybiB0fXZhciBpbT1jbGFzcyBleHRlbmRzIFh0e2dldCBpc1N1Y2Nlc3MoKXtyZXR1cm4gISF0aGlzLmNvbmZpZ3N9Y29uc3RydWN0b3IoKXtzdXBlcigpLFQodGhpcyxcImNvbmZpZ3NcIix2b2lkIDApLFQodGhpcyxcImpvaW5JbmZvXCIsdm9pZCAwKSxUKHRoaXMsXCJjYW5jZWxUb2tlblwiLHZvaWQgMCksVCh0aGlzLFwicmV0cnlDb25maWdcIix7dGltZW91dDozZTMsdGltZW91dEZhY3RvcjoxLjUsbWF4UmV0cnlDb3VudDoxLG1heFJldHJ5VGltZW91dDoxZTR9KSxUKHRoaXMsXCJpbnRlcnZhbFwiLHZvaWQgMCksVCh0aGlzLFwibXV0ZXhcIixuZXcgemUoXCJjb25maWctZGlzdHJpYnV0ZVwiKSksVCh0aGlzLFwibXV0YWJsZVBhcmFtc1JlYWRcIiwhMSk7fXN0YXJ0R2V0Q29uZmlnRGlzdHJpYnV0ZShlLG4pe3RoaXMuam9pbkluZm89ZSx0aGlzLmNhbmNlbFRva2VuPW4sdGhpcy5pbnRlcnZhbCYmdGhpcy5zdG9wR2V0Q29uZmlnRGlzdHJpYnV0ZSgpLHYoXCJFTkFCTEVfQ09ORklHX0RJU1RSSUJVVEVcIikmJih0aGlzLnVwZGF0ZUNvbmZpZ0Rpc3RyaWJ1dGUoKSx0aGlzLmludGVydmFsPXdpbmRvdy5zZXRJbnRlcnZhbCgoKT0+e3RoaXMudXBkYXRlQ29uZmlnRGlzdHJpYnV0ZSgpO30sdihcIkNPTkZJR19ESVNUUklCVVRFX0lOVEVSVkFMXCIpKSk7fXN0b3BHZXRDb25maWdEaXN0cmlidXRlKCl7dGhpcy5pbnRlcnZhbCYmY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKSx0aGlzLmludGVydmFsPXZvaWQgMCx0aGlzLmpvaW5JbmZvPXZvaWQgMCx0aGlzLmNhbmNlbFRva2VuPXZvaWQgMDt9YXN5bmMgYXdhaXRDb25maWdEaXN0cmlidXRlQ29tcGxldGUoKXt0aGlzLm11dGV4LmlzTG9ja2VkJiYoYXdhaXQgdGhpcy5tdXRleC5sb2NrKCkpKCk7fWFzeW5jIHVwZGF0ZUNvbmZpZ0Rpc3RyaWJ1dGUoKXtpZih0aGlzLm11dGFibGVQYXJhbXNSZWFkfHwodGhpcy5tdXRhYmxlUGFyYW1zUmVhZD0hMCxYLnJlcG9ydEFwaUludm9rZShudWxsLHtvcHRpb25zOnZvaWQgMCxuYW1lOlRlLkxPQURfQ09ORklHX0ZST01fTE9DQUxTVE9SQUdFLHRhZzpadC5UUkFDRVJ9KS5vblN1Y2Nlc3MoSlNPTi5zdHJpbmdpZnkoJHIpKSksIXRoaXMuam9pbkluZm98fCF0aGlzLmNhbmNlbFRva2VufHwhdGhpcy5yZXRyeUNvbmZpZylyZXR1cm4gdm9pZCBfLmRlYnVnKFwiW2NvbmZpZy1kaXN0cmlidXRlXSBnZXQgY29uZmlnIGRpc3RyaWJ1dGUgaW50ZXJydXB0ZWQgaGF2ZSBubyBqb2luaW5mb1wiKTtsZXQgZSxuPWF3YWl0IHRoaXMubXV0ZXgubG9jaygpO3RyeXtlPWF3YWl0IHFHKHRoaXMuam9pbkluZm8sdGhpcy5jYW5jZWxUb2tlbix0aGlzLnJldHJ5Q29uZmlnKSxfLmRlYnVnKFwiW2NvbmZpZy1kaXN0cmlidXRlXSBnZXQgY29uZmlnIGRpc3RyaWJ1dGVcIixKU09OLnN0cmluZ2lmeShlKSksZS5saW1pdF9iaXRyYXRlJiZ0aGlzLmhhbmRsZUJpdHJhdGVMaW1pdChlLmxpbWl0X2JpdHJhdGUpLHRoaXMuY2FjaGVHbG9iYWxQYXJhbWV0ZXJDb25maWcoZSksdGhpcy5jb25maWdzPWU7fWNhdGNoKGkpe2xldCByPW5ldyBPKFIuTkVUV09SS19SRVNQT05TRV9FUlJPUixpKTtfLndhcm5pbmcoXCJbY29uZmlnLWRpc3RyaWJ1dGVdIFwiLmNvbmNhdChyLnRvU3RyaW5nKCkpKTt9ZmluYWxseXtuKCk7fX1nZXRCaXRyYXRlTGltaXQoKXtyZXR1cm4gdGhpcy5jb25maWdzP3RoaXMuY29uZmlncy5saW1pdF9iaXRyYXRlOnZvaWQgMH1oYW5kbGVCaXRyYXRlTGltaXQoZSl7dmFyIG47KG49ZSkmJm4udXBsaW5rJiZuLmlkJiZuLnVwbGluay5tYXhfYml0cmF0ZSE9PXZvaWQgMCYmbi51cGxpbmsubWluX2JpdHJhdGUhPT12b2lkIDAmJih0aGlzLmNvbmZpZ3MmJnRoaXMuY29uZmlncy5saW1pdF9iaXRyYXRlP3RoaXMuY29uZmlncyYmdGhpcy5jb25maWdzLmxpbWl0X2JpdHJhdGUmJnRoaXMuY29uZmlncy5saW1pdF9iaXRyYXRlLmlkIT09ZS5pZCYmdGhpcy5lbWl0KEZFLlVQREFURV9CSVRSQVRFX0xJTUlULGUpOnRoaXMuZW1pdChGRS5VUERBVEVfQklUUkFURV9MSU1JVCxlKSk7fWdldExvd1N0cmVhbUNvbmZpZ0Rpc3RyaWJ1dGUoKXtyZXR1cm4gdGhpcy5jb25maWdzJiZ0aGlzLmNvbmZpZ3MubGltaXRfYml0cmF0ZSYmcnYoe30sdGhpcy5jb25maWdzLmxpbWl0X2JpdHJhdGUubG93X3N0cmVhbV91cGxpbmspfWNhY2hlR2xvYmFsUGFyYW1ldGVyQ29uZmlnKGUpe3ZhciBuO2xldCBpPWVkKG49T2JqZWN0LmtleXMoZSkuZmlsdGVyKG89Pi9ed2VicnRjX25nX2dsb2JhbF9wYXJhbWV0ZXIvLnRlc3QobykpKS5jYWxsKG4pO2ZvcihsZXQgbz0wO288aS5sZW5ndGg7bysrKWZvcihsZXQgcz1pLmxlbmd0aC0xO3M+bztzLS0pe2xldCBhPWlbc107aWYodHlwZW9mIGVbYV0uX19wcmlvcml0eT09XCJudW1iZXJcIil7bGV0IGM9ZVthXS5fX3ByaW9yaXR5LGQ9aVtzLTFdO2lmKHR5cGVvZiBlW2RdLl9fcHJpb3JpdHk9PVwibnVtYmVyXCIpe2lmKCEoYz5lW2RdLl9fcHJpb3JpdHkpKWNvbnRpbnVlO3tsZXQgbD1hO2lbc109aVtzLTFdLGlbcy0xXT1sO319ZWxzZSB7bGV0IGw9YTtpW3NdPWlbcy0xXSxpW3MtMV09bDt9fX1sZXQgcj17fTtpLmZvckVhY2gobz0+e2xldCBzPWVbb10sYT1zLl9fZXhwaXJlcztPYmplY3Qua2V5cyhzKS5mb3JFYWNoKGM9PntjPT09XCJfX3ByaW9yaXR5XCJ8fGM9PT1cIl9fZXhwaXJlc1wifHxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixjKXx8KHJbY109cnYoe3ZhbHVlOnNbY119LGEmJntleHBpcmVzOmF9KSk7fSk7fSk7dHJ5eyhmdW5jdGlvbihhKXt0cnl7bGV0IGM9RGF0ZS5ub3coKTtPYmplY3Qua2V5cyhhKS5mb3JFYWNoKGQ9Pntzd2l0Y2goZCl7Y2FzZVwiRU5BQkxFX0VWRU5UX1JFUE9SVFwiOmNhc2VcIlVQTE9BRF9MT0dcIjpjYXNlXCJFTkFCTEVfQUdfQURBUFRBVElPTlwiOmNhc2VcIkZPUkNFX0FHX0hJR0hfRlJBTUVSQVRFXCI6Y2FzZVwiRk9SQ0VfU1VQUE9SVF9BR19BREFQVEFUSU9OXCI6Y2FzZVwiRU5DT0RFUl9DT05GSUdfTElNSVRcIjpjYXNlXCJDQU1FUkFfQ0FQVFVSRV9DT05GSUdcIjpjYXNlXCJFTkFCTEVfUFJFTE9BRFwiOmlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvZSxkKSl7bGV0e3ZhbHVlOmwsZXhwaXJlczp1fT1hW2RdO2lmKHUmJnU8PWMpcmV0dXJuOyRyW2RdPWwsb2VbZF09bCxfLmRlYnVnKFwiVXBkYXRlIGdsb2JhbCBwYXJhbWV0ZXJzIGZyb20gY29uZmlnIGRpc3RyaWJ1dGVcIixkLGwpO319fSk7fWNhdGNoKGMpe18uZXJyb3IoXCJFcnJvciB1cGRhdGUgY29uZmlnIGltbWVkaWF0ZWx5OiBcIi5jb25jYXQoYSksYy5tZXNzYWdlKTt9fSkocik7bGV0IG89SlNPTi5zdHJpbmdpZnkocikscz13aW5kb3cuYnRvYShvKTt3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ3ZWJzZGtfbmdfZ2xvYmFsX3BhcmFtZXRlclwiLHMpLF8uZGVidWcoXCJDYWNoaW5nIGdsb2JhbCBwYXJhbWV0ZXJzIFwiLmNvbmNhdChvKSk7fWNhdGNoKG8pe18uZXJyb3IoXCJFcnJvciBjYWNoaW5nIGdsb2JhbCBwYXJhbWV0ZXJzOlwiLG8ubWVzc2FnZSk7fX19LHJtPWNsYXNzIGV4dGVuZHMgWHR7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLFQodGhpcyxcInJlc3VsdFN0b3JhZ2VcIixuZXcgTWFwKTt9c2V0TG9jYWxBdWRpb1N0YXRzKGUsbixpKXt0aGlzLnJlY29yZChcIkFVRElPX0lOUFVUX0xFVkVMX1RPT19MT1dcIixlLHRoaXMuY2hlY2tBdWRpb0lucHV0TGV2ZWwoaSxuKSksdGhpcy5yZWNvcmQoXCJTRU5EX0FVRElPX0JJVFJBVEVfVE9PX0xPV1wiLGUsdGhpcy5jaGVja1NlbmRBdWRpb0JpdHJhdGUoaSxuKSk7fXNldExvY2FsVmlkZW9TdGF0cyhlLG4saSl7dGhpcy5yZWNvcmQoXCJTRU5EX1ZJREVPX0JJVFJBVEVfVE9PX0xPV1wiLGUsdGhpcy5jaGVja1NlbmRWaWRlb0JpdHJhdGUoaSxuKSksdGhpcy5yZWNvcmQoXCJGUkFNRVJBVEVfSU5QVVRfVE9PX0xPV1wiLGUsdGhpcy5jaGVja0ZyYW1lcmF0ZUlucHV0KGksbikpLHRoaXMucmVjb3JkKFwiRlJBTUVSQVRFX1NFTlRfVE9PX0xPV1wiLGUsdGhpcy5jaGVja0ZyYW1lcmF0ZVNlbnQoaSkpO31zZXRSZW1vdGVBdWRpb1N0YXRzKGUsbil7bGV0IGk9ZS5nZXRVc2VySWQoKTt0aGlzLnJlY29yZChcIkFVRElPX09VVFBVVF9MRVZFTF9UT09fTE9XXCIsaSx0aGlzLmNoZWNrQXVkaW9PdXRwdXRMZXZlbChuKSk7fXNldFJlbW90ZVZpZGVvU3RhdHMoZSxuKXtsZXQgaT1lLmdldFVzZXJJZCgpO3RoaXMucmVjb3JkKFwiUkVDVl9WSURFT19ERUNPREVfRkFJTEVEXCIsaSx0aGlzLmNoZWNrVmlkZW9EZWNvZGUobikpO31yZWNvcmQoZSxuLGkpe2lmKHYoXCJTVEFUU19VUERBVEVfSU5URVJWQUxcIik+NTAwKXJldHVybjt0aGlzLnJlc3VsdFN0b3JhZ2UuaGFzKGUpfHx0aGlzLnJlc3VsdFN0b3JhZ2Uuc2V0KGUse3Jlc3VsdDpbXSxpc1ByZXZOb3JtYWw6ITB9KTtsZXQgcj10aGlzLnJlc3VsdFN0b3JhZ2UuZ2V0KGUpO2lmKHImJihyLnJlc3VsdC5wdXNoKGkpLHIucmVzdWx0Lmxlbmd0aD49NSkpe3ZhciBvO2xldCBzPVcobz1yLnJlc3VsdCkuY2FsbChvLCEwKTtyLmlzUHJldk5vcm1hbCYmIXMmJnRoaXMuZW1pdChcImV4Y2VwdGlvblwiLG92W2VdLGUsbiksIXIuaXNQcmV2Tm9ybWFsJiZzJiZ0aGlzLmVtaXQoXCJleGNlcHRpb25cIixvdltlXSsyZTMsZStcIl9SRUNPVkVSXCIsbiksci5pc1ByZXZOb3JtYWw9cyxyLnJlc3VsdD1bXTt9fWNoZWNrQXVkaW9PdXRwdXRMZXZlbChlKXtyZXR1cm4gIShlLnJlY2VpdmVCaXRyYXRlPjAmJmUucmVjZWl2ZUxldmVsPT09MCl9Y2hlY2tBdWRpb0lucHV0TGV2ZWwoZSxuKXtyZXR1cm4gbiBpbnN0YW5jZW9mIGdlJiYhbi5pc0FjdGl2ZXx8ISFuLm11dGVkfHxlLnNlbmRWb2x1bWVMZXZlbCE9PTB9Y2hlY2tGcmFtZXJhdGVJbnB1dChlLG4pe2xldCBpPW51bGw7bi5fZW5jb2RlckNvbmZpZyYmbi5fZW5jb2RlckNvbmZpZy5mcmFtZVJhdGUmJihpPU5uKG4uX2VuY29kZXJDb25maWcuZnJhbWVSYXRlKSk7bGV0IHI9ZS5jYXB0dXJlRnJhbWVSYXRlO3JldHVybiAhaXx8IXJ8fCEoaT4xMCYmcjw1fHxpPDEwJiZpPj01JiZyPD0xKX1jaGVja0ZyYW1lcmF0ZVNlbnQoZSl7cmV0dXJuICEoZS5jYXB0dXJlRnJhbWVSYXRlJiZlLnNlbmRGcmFtZVJhdGUmJmUuY2FwdHVyZUZyYW1lUmF0ZT41JiZlLnNlbmRGcmFtZVJhdGU8PTEpfWNoZWNrU2VuZFZpZGVvQml0cmF0ZShlLG4pe3JldHVybiAhIW4ubXV0ZWR8fGUuc2VuZEJpdHJhdGUhPT0wfWNoZWNrU2VuZEF1ZGlvQml0cmF0ZShlLG4pe3JldHVybiBuIGluc3RhbmNlb2YgZ2UmJiFuLmlzQWN0aXZlfHwhIW4ubXV0ZWR8fGUuc2VuZEJpdHJhdGUhPT0wfWNoZWNrVmlkZW9EZWNvZGUoZSl7cmV0dXJuIGUucmVjZWl2ZUJpdHJhdGU9PT0wfHxlLmRlY29kZUZyYW1lUmF0ZSE9PTB9fSxvdj17RlJBTUVSQVRFX0lOUFVUX1RPT19MT1c6MTAwMSxGUkFNRVJBVEVfU0VOVF9UT09fTE9XOjEwMDIsU0VORF9WSURFT19CSVRSQVRFX1RPT19MT1c6MTAwMyxSRUNWX1ZJREVPX0RFQ09ERV9GQUlMRUQ6MTAwNSxBVURJT19JTlBVVF9MRVZFTF9UT09fTE9XOjIwMDEsQVVESU9fT1VUUFVUX0xFVkVMX1RPT19MT1c6MjAwMixTRU5EX0FVRElPX0JJVFJBVEVfVE9PX0xPVzoyMDAzfSxxZT1uZXcgY2xhc3N7bWFya1N1YnNjcmliZVN0YXJ0KHQsZSl7cGVyZm9ybWFuY2UubWFyayhcImFnb3JhLXdlYi1zZGsvXCIuY29uY2F0KHQsXCIvc3Vic2NyaWJlLVwiKS5jb25jYXQoZSkpO31tYXJrUHVibGlzaFN0YXJ0KHQsZSl7cGVyZm9ybWFuY2UubWFyayhcImFnb3JhLXdlYi1zZGsvXCIuY29uY2F0KHQsXCIvcHVibGlzaC1cIikuY29uY2F0KGUpKTt9bWVhc3VyZUZyb21TdWJzY3JpYmVTdGFydCh0LGUpe2xldCBuPXBlcmZvcm1hbmNlLmdldEVudHJpZXNCeU5hbWUoXCJhZ29yYS13ZWItc2RrL1wiLmNvbmNhdCh0LFwiL3N1YnNjcmliZS1cIikuY29uY2F0KGUpKTtpZihuLmxlbmd0aD4wKXtsZXQgaT1uW24ubGVuZ3RoLTFdO3JldHVybiBNYXRoLnJvdW5kKHBlcmZvcm1hbmNlLm5vdygpLWkuc3RhcnRUaW1lKX1yZXR1cm4gMH1tZWFzdXJlRnJvbVB1Ymxpc2hTdGFydCh0LGUpe2xldCBuPXBlcmZvcm1hbmNlLmdldEVudHJpZXNCeU5hbWUoXCJhZ29yYS13ZWItc2RrL1wiLmNvbmNhdCh0LFwiL3B1Ymxpc2gtXCIpLmNvbmNhdChlKSk7aWYobi5sZW5ndGg+MCl7bGV0IGk9bltuLmxlbmd0aC0xXTtyZXR1cm4gTWF0aC5yb3VuZChwZXJmb3JtYW5jZS5ub3coKS1pLnN0YXJ0VGltZSl9cmV0dXJuIDB9fTtmdW5jdGlvbiBPZih0LGUpe3RoaXMudj10LHRoaXMuaz1lO31mdW5jdGlvbiBUdCh0KXtyZXR1cm4gbmV3IE9mKHQsMCl9dmFyIFhHPUxiLFFHPW1yO3h0KHt0YXJnZXQ6XCJQcm9taXNlXCIsc3RhdDohMCxmb3JjZWQ6ITB9LHt3aXRoUmVzb2x2ZXJzOmZ1bmN0aW9uKCl7dmFyIHQ9UUcuZih0aGlzKTtyZXR1cm4ge3Byb21pc2U6dC5wcm9taXNlLHJlc29sdmU6dC5yZXNvbHZlLHJlamVjdDp0LnJlamVjdH19fSk7dmFyIFpHPW1yLCRHPV9hO3h0KHt0YXJnZXQ6XCJQcm9taXNlXCIsc3RhdDohMCxmb3JjZWQ6ITB9LHt0cnk6ZnVuY3Rpb24odCl7dmFyIGU9WkcuZih0aGlzKSxuPSRHKHQpO3JldHVybiAobi5lcnJvcj9lLnJlamVjdDplLnJlc29sdmUpKG4udmFsdWUpLGUucHJvbWlzZX19KTt2YXIgb209YWUoWEcpLHAwPUVhLmYoXCJhc3luY0l0ZXJhdG9yXCIpLHRXPWFlKHAwKTtmdW5jdGlvbiBKYSh0KXt2YXIgZSxuO2Z1bmN0aW9uIGkobyxzKXt0cnl7dmFyIGE9dFtvXShzKSxjPWEudmFsdWUsZD1jIGluc3RhbmNlb2YgT2Y7b20ucmVzb2x2ZShkP2MudjpjKS50aGVuKGZ1bmN0aW9uKGwpe2lmKGQpe3ZhciB1PW89PT1cInJldHVyblwiP1wicmV0dXJuXCI6XCJuZXh0XCI7aWYoIWMua3x8bC5kb25lKXJldHVybiBpKHUsbCk7bD10W3VdKGwpLnZhbHVlO31yKGEuZG9uZT9cInJldHVyblwiOlwibm9ybWFsXCIsbCk7fSxmdW5jdGlvbihsKXtpKFwidGhyb3dcIixsKTt9KTt9Y2F0Y2gobCl7cihcInRocm93XCIsbCk7fX1mdW5jdGlvbiByKG8scyl7c3dpdGNoKG8pe2Nhc2VcInJldHVyblwiOmUucmVzb2x2ZSh7dmFsdWU6cyxkb25lOiEwfSk7YnJlYWs7Y2FzZVwidGhyb3dcIjplLnJlamVjdChzKTticmVhaztkZWZhdWx0OmUucmVzb2x2ZSh7dmFsdWU6cyxkb25lOiExfSk7fShlPWUubmV4dCk/aShlLmtleSxlLmFyZyk6bj1udWxsO310aGlzLl9pbnZva2U9ZnVuY3Rpb24obyxzKXtyZXR1cm4gbmV3IG9tKGZ1bmN0aW9uKGEsYyl7dmFyIGQ9e2tleTpvLGFyZzpzLHJlc29sdmU6YSxyZWplY3Q6YyxuZXh0Om51bGx9O24/bj1uLm5leHQ9ZDooZT1uPWQsaShvLHMpKTt9KX0sdHlwZW9mIHQucmV0dXJuIT1cImZ1bmN0aW9uXCImJih0aGlzLnJldHVybj12b2lkIDApO31mdW5jdGlvbiBCaSh0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEphKHQuYXBwbHkodGhpcyxhcmd1bWVudHMpKX19SmEucHJvdG90eXBlW3R5cGVvZiBEcz09XCJmdW5jdGlvblwiJiZ0V3x8XCJAQGFzeW5jSXRlcmF0b3JcIl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sSmEucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2ludm9rZShcIm5leHRcIix0KX0sSmEucHJvdG90eXBlLnRocm93PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9pbnZva2UoXCJ0aHJvd1wiLHQpfSxKYS5wcm90b3R5cGUucmV0dXJuPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9pbnZva2UoXCJyZXR1cm5cIix0KX07dmFyIHN2PWFlKEdpLk9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpLGVXPXh0LG5XPU5tLmluZGV4T2YsaVc9TnUsc209Z2MoW10uaW5kZXhPZiksYXY9ISFzbSYmMS9zbShbMV0sMSwtMCk8MDtlVyh7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6YXZ8fCFpVyhcImluZGV4T2ZcIil9LHtpbmRleE9mOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwO3JldHVybiBhdj9zbSh0aGlzLHQsZSl8fDA6blcodGhpcyx0LGUpfX0pO3ZhciByVz1iaShcIkFycmF5XCIpLmluZGV4T2Ysb1c9aG4sc1c9clcsX189QXJyYXkucHJvdG90eXBlLGFXPWZ1bmN0aW9uKHQpe3ZhciBlPXQuaW5kZXhPZjtyZXR1cm4gdD09PV9ffHxvVyhfXyx0KSYmZT09PV9fLmluZGV4T2Y/c1c6ZX0sY3Y9YWUoYVcpO2Z1bmN0aW9uIGNXKHQsZSl7aWYodD09bnVsbClyZXR1cm4ge307dmFyIG4saSxyPWZ1bmN0aW9uKHMsYSl7aWYocz09bnVsbClyZXR1cm4ge307dmFyIGMsZCxsPXt9LHU9Tk8ocyk7Zm9yKGQ9MDtkPHUubGVuZ3RoO2QrKyljPXVbZF0sY3YoYSkuY2FsbChhLGMpPj0wfHwobFtjXT1zW2NdKTtyZXR1cm4gbH0odCxlKTtpZihzdil7dmFyIG89c3YodCk7Zm9yKGk9MDtpPG8ubGVuZ3RoO2krKyluPW9baV0sY3YoZSkuY2FsbChlLG4pPj0wfHxPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodCxuKSYmKHJbbl09dFtuXSk7fXJldHVybiByfWZ1bmN0aW9uIFNpKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHQubWFwKG49Pm4pO2lmKCFkdih0KSlyZXR1cm4gdDtsZXQgZT17fTtmb3IobGV0IG4gaW4gdCl7bGV0IGk9dFtuXTtkdihpKXx8QXJyYXkuaXNBcnJheShpKT9lW25dPVNpKGkpOmVbbl09aTt9cmV0dXJuIGV9ZnVuY3Rpb24gZHYodCl7cmV0dXJuICEodHlwZW9mIHQhPVwib2JqZWN0XCJ8fEFycmF5LmlzQXJyYXkodCl8fCF0KX12YXIgY2M9Y2xhc3N7Y29uc3RydWN0b3IoZSl7VCh0aGlzLFwiaW5wdXRcIixbXSksVCh0aGlzLFwic2l6ZVwiLHZvaWQgMCksdGhpcy5zaXplPWU7fWFkZChlKXt0aGlzLmlucHV0LnB1c2goZSksdGhpcy5pbnB1dC5sZW5ndGg+dGhpcy5zaXplJiZ0aGlzLmlucHV0LnNwbGljZSgwLDEpO31kaWZmTWVhbigpe3JldHVybiB0aGlzLmlucHV0Lmxlbmd0aD09PTA/MDoodGhpcy5pbnB1dFt0aGlzLmlucHV0Lmxlbmd0aC0xXS10aGlzLmlucHV0WzBdKS90aGlzLmlucHV0Lmxlbmd0aH19LGhyPXthZGRyZXNzOlwidW5rbm93blwiLGNhbmRpZGF0ZVR5cGU6XCJ1bmtub3duXCIsaWQ6XCJ1bmtub3duXCIscG9ydDowLHByaW9yaXR5OjAscHJvdG9jb2w6XCJ1bmtub3duXCIsdHlwZTpcInVua25vd25cIn0seGM9e3RpbWVzdGFtcDowLGJpdHJhdGU6e2FjdHVhbEVuY29kZWQ6MCx0cmFuc21pdDowfSxzZW5kUGFja2V0TG9zc1JhdGU6MCxyZWN2UGFja2V0TG9zc1JhdGU6MCx2aWRlb1JlY3Y6W10sdmlkZW9TZW5kOltdLGF1ZGlvUmVjdjpbXSxhdWRpb1NlbmQ6W10sc2VsZWN0ZWRDYW5kaWRhdGVQYWlyOntpZDpcInVua25vd25cIixsb2NhbENhbmRpZGF0ZTpocixyZW1vdGVDYW5kaWRhdGU6aHJ9fSxfMD17Zmlyc0NvdW50OjAsbmFja3NDb3VudDowLHBsaXNDb3VudDowLGZyYW1lc0RlY29kZUNvdW50OjAsZnJhbWVzRGVjb2RlSW50ZXJ2YWw6MCxmcmFtZXNEZWNvZGVGcmVlemVUaW1lOjAsZGVjb2RlRnJhbWVSYXRlOjAsYnl0ZXM6MCxwYWNrZXRzTG9zdDowLHBhY2tldExvc3RSYXRlOjAscGFja2V0czowLHNzcmM6MCxxcFN1bVBlckZyYW1lOjAsZnJhbWVzRHJvcHBlZENvdW50OjAsb3V0cHV0RnJhbWVSYXRlOjB9LEUwPXtmaXJzQ291bnQ6MCxuYWNrc0NvdW50OjAscGxpc0NvdW50OjAsZnJhbWVDb3VudDowLGJ5dGVzOjAscGFja2V0czowLHBhY2tldHNMb3N0OjAscGFja2V0TG9zdFJhdGU6MCxzc3JjOjAscnR0TXM6MCxqaXR0ZXJNczowLHFwU3VtUGVyRnJhbWU6MH0sbTA9e2J5dGVzOjAscGFja2V0czowLHBhY2tldHNMb3N0OjAscGFja2V0TG9zdFJhdGU6MCxzc3JjOjAscnR0TXM6MCxqaXR0ZXJNczowfSxmMD17aml0dGVyQnVmZmVyTXM6MCxqaXR0ZXJNczowLGJ5dGVzOjAscGFja2V0c0xvc3Q6MCxwYWNrZXRMb3N0UmF0ZTowLHBhY2tldHNEaXNjYXJkZWQ6MCxwYWNrZXRzOjAsc3NyYzowLHJlY2VpdmVkRnJhbWVzOjAsZHJvcHBlZEZyYW1lczowLGNvbmNlYWxlZFNhbXBsZXM6MH07ZnVuY3Rpb24gbHYodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihpPWkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscikuZW51bWVyYWJsZX0pKSxuLnB1c2guYXBwbHkobixpKTt9cmV0dXJuIG59ZnVuY3Rpb24gdXYodCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdIT1udWxsP2FyZ3VtZW50c1tlXTp7fTtlJTI/bHYoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe1QodCxpLG5baV0pO30pOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOmx2KE9iamVjdChuKSkuZm9yRWFjaChmdW5jdGlvbihpKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxpLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixpKSk7fSk7fXJldHVybiB0fXZhciBWYz1jbGFzc3tjb25zdHJ1Y3RvcihlLG4pe1QodGhpcyxcIm9uRmlyc3RWaWRlb1JlY2VpdmVkXCIsdm9pZCAwKSxUKHRoaXMsXCJvbkZpcnN0VmlkZW9EZWNvZGVkXCIsdm9pZCAwKSxUKHRoaXMsXCJvbkZpcnN0QXVkaW9SZWNlaXZlZFwiLHZvaWQgMCksVCh0aGlzLFwib25GaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXRcIix2b2lkIDApLFQodGhpcyxcIm9uRmlyc3RBdWRpb0RlY29kZWRcIix2b2lkIDApLFQodGhpcyxcIm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWRcIix2b2lkIDApLFQodGhpcyxcIm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkXCIsdm9pZCAwKSxUKHRoaXMsXCJ2aWRlb0lzUmVhZHlcIiwhMSksVCh0aGlzLFwidmlkZW9Jc1JlYWR5MlwiLHt9KSxUKHRoaXMsXCJwY1wiLHZvaWQgMCksVCh0aGlzLFwib3B0aW9uc1wiLHZvaWQgMCksVCh0aGlzLFwiaW50ZXJ2YWxUaW1lclwiLHZvaWQgMCksVCh0aGlzLFwic3RhdHNcIixTaSh4YykpLFQodGhpcyxcImlzRmlyc3RWaWRlb1JlY2VpdmVkXCIse30pLFQodGhpcyxcImlzRmlyc3RWaWRlb0RlY29kZWRcIix7fSksVCh0aGlzLFwiaXNGaXJzdEF1ZGlvUmVjZWl2ZWRcIix7fSksVCh0aGlzLFwiaXNGaXJzdEF1ZGlvRGVjb2RlZFwiLHt9KSxUKHRoaXMsXCJpc0ZpcnN0VmlkZW9EZWNvZGVkVGltZW91dFwiLHt9KSxUKHRoaXMsXCJsb3NzUmF0ZVdpbmRvd1N0YXRzXCIsW10pLHRoaXMucGM9ZSx0aGlzLm9wdGlvbnM9bix0aGlzLmludGVydmFsVGltZXI9d2luZG93LnNldEludGVydmFsKGFzeW5jKCk9Pnt0aGlzLnVwZGF0ZVN0YXRzKCk7fSx0aGlzLm9wdGlvbnMudXBkYXRlSW50ZXJ2YWwpO31nZXRTdGF0cygpe3JldHVybiB0aGlzLnN0YXRzfWdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpe3JldHVybiBuZXcgaihlPT57ZSh7bG9jYWw6dXYoe30saHIpLHJlbW90ZTp1dih7fSxocil9KTt9KX1zZXRWaWRlb0lzUmVhZHkoZSl7dGhpcy52aWRlb0lzUmVhZHk9ZTt9c2V0VmlkZW9Jc1JlYWR5MihlLG4pe3RoaXMudmlkZW9Jc1JlYWR5MltlXT1uO31nZXRWaWRlb0lzUmVhZHkoZSl7cmV0dXJuIHRoaXMudmlkZW9Jc1JlYWR5MltlXXx8ITF9c2V0SXNGaXJzdEF1ZGlvRGVjb2RlZChlKXt9ZGVzdHJveSgpe3dpbmRvdy5jbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxUaW1lciksdGhpcy5wYz12b2lkIDA7fWNhbGNMb3NzUmF0ZShlKXt0aGlzLmxvc3NSYXRlV2luZG93U3RhdHMucHVzaChlKSx0aGlzLmxvc3NSYXRlV2luZG93U3RhdHMubGVuZ3RoPnRoaXMub3B0aW9ucy5sb3NzUmF0ZUludGVydmFsJiZ0aGlzLmxvc3NSYXRlV2luZG93U3RhdHMuc3BsaWNlKDAsMSk7bGV0IG49dGhpcy5sb3NzUmF0ZVdpbmRvd1N0YXRzLmxlbmd0aCxpPVtcInZpZGVvU2VuZFwiLFwiYXVkaW9TZW5kXCIsXCJ2aWRlb1JlY3ZcIixcImF1ZGlvUmVjdlwiXSxyPTAsbz0wLHM9MCxhPTA7Zm9yKGxldCBjIG9mIGkpZVtjXS5mb3JFYWNoKChkLGwpPT57aWYoIXRoaXMubG9zc1JhdGVXaW5kb3dTdGF0c1tuLTFdW2NdW2xdfHwhdGhpcy5sb3NzUmF0ZVdpbmRvd1N0YXRzWzBdW2NdW2xdKXJldHVybjtsZXQgdT10aGlzLmxvc3NSYXRlV2luZG93U3RhdHNbbi0xXVtjXVtsXS5wYWNrZXRzLXRoaXMubG9zc1JhdGVXaW5kb3dTdGF0c1swXVtjXVtsXS5wYWNrZXRzLGg9dGhpcy5sb3NzUmF0ZVdpbmRvd1N0YXRzW24tMV1bY11bbF0ucGFja2V0c0xvc3QtdGhpcy5sb3NzUmF0ZVdpbmRvd1N0YXRzWzBdW2NdW2xdLnBhY2tldHNMb3N0O2M9PT1cInZpZGVvU2VuZFwifHxjPT09XCJhdWRpb1NlbmRcIj8ocis9dSxzKz1oKToobys9dSxhKz1oKSxOdW1iZXIuaXNOYU4odSl8fE51bWJlci5pc05hTih1KT9kLnBhY2tldExvc3RSYXRlPTA6ZC5wYWNrZXRMb3N0UmF0ZT11PD0wfHxoPD0wPzA6aC8odStoKTt9KTtlLnNlbmRQYWNrZXRMb3NzUmF0ZT1yPD0wfHxzPD0wPzA6cy8ocitzKSxlLnJlY3ZQYWNrZXRMb3NzUmF0ZT1vPD0wfHxhPD0wPzA6YS8obythKTt9fTtmdW5jdGlvbiBodih0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKGk9aS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKS5lbnVtZXJhYmxlfSkpLG4ucHVzaC5hcHBseShuLGkpO31yZXR1cm4gbn1mdW5jdGlvbiBkVyh0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV0hPW51bGw/YXJndW1lbnRzW2VdOnt9O2UlMj9odihPYmplY3QobiksITApLmZvckVhY2goZnVuY3Rpb24oaSl7VCh0LGksbltpXSk7fSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6aHYoT2JqZWN0KG4pKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGksT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGkpKTt9KTt9cmV0dXJuIHR9dmFyIGFtPWNsYXNzIGV4dGVuZHMgVmN7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLFQodGhpcyxcIl9zdGF0c1wiLHhjKSxUKHRoaXMsXCJsYXN0RGVjb2RlVmlkZW9SZWNlaXZlclN0YXRzXCIsbmV3IE1hcCk7fWFzeW5jIHVwZGF0ZVN0YXRzKCl7bGV0IGU9YXdhaXQgdGhpcy5fZ2V0U3RhdHMoKSxuPXRoaXMuc3RhdHNSZXNwb25zZXNUb09iamVjdHMoZSk7dGhpcy5fc3RhdHM9U2koeGMpO2xldCBpPW4uZmlsdGVyKG89Pm8udHlwZT09PVwic3NyY1wiKTt0aGlzLnByb2Nlc3NTU1JDU3RhdHMoaSk7bGV0IHI9bi5maW5kKG89Pm8udHlwZT09PVwiVmlkZW9Cd2VcIik7ciYmdGhpcy5wcm9jZXNzQmFuZHdpZHRoU3RhdHMociksdGhpcy5fc3RhdHMudGltZXN0YW1wPURhdGUubm93KCksdGhpcy5jYWxjTG9zc1JhdGUodGhpcy5fc3RhdHMpLHRoaXMuc3RhdHM9dGhpcy5fc3RhdHM7fXByb2Nlc3NCYW5kd2lkdGhTdGF0cyhlKXt0aGlzLl9zdGF0cy5iaXRyYXRlPXthY3R1YWxFbmNvZGVkOk51bWJlcihlLmdvb2dBY3R1YWxFbmNCaXRyYXRlKSx0YXJnZXRFbmNvZGVkOk51bWJlcihlLmdvb2dUYXJnZXRFbmNCaXRyYXRlKSxyZXRyYW5zbWl0Ok51bWJlcihlLmdvb2dSZXRyYW5zbWl0Qml0cmF0ZSksdHJhbnNtaXQ6TnVtYmVyKGUuZ29vZ1RyYW5zbWl0Qml0cmF0ZSl9LHRoaXMuX3N0YXRzLnNlbmRCYW5kd2lkdGg9TnVtYmVyKGUuZ29vZ0F2YWlsYWJsZVNlbmRCYW5kd2lkdGgpO31wcm9jZXNzU1NSQ1N0YXRzKGUpe2UuZm9yRWFjaChuPT57dmFyIGk7bGV0IHI9VyhpPW4uaWQpLmNhbGwoaSxcInNlbmRcIik7c3dpdGNoKFwiXCIuY29uY2F0KG4ubWVkaWFUeXBlLFwiX1wiKS5jb25jYXQocj9cInNlbmRcIjpcInJlY3ZcIikpe2Nhc2VcInZpZGVvX3NlbmRcIjp7bGV0IG89U2koRTApO28uY29kZWM9bi5nb29nQ29kZWNOYW1lLG8uYWRhcHRpb25DaGFuZ2VSZWFzb249XCJub25lXCIsbi5nb29nQ3B1TGltaXRlZFJlc29sdXRpb24mJihvLmFkYXB0aW9uQ2hhbmdlUmVhc29uPVwiY3B1XCIpLG4uZ29vZ0JhbmR3aWR0aExpbWl0ZWRSZXNvbHV0aW9uJiYoby5hZGFwdGlvbkNoYW5nZVJlYXNvbj1cImJhbmR3aWR0aFwiKSxvLmF2Z0VuY29kZU1zPU51bWJlcihuLmdvb2dBdmdFbmNvZGVNcyksby5pbnB1dEZyYW1lPXt3aWR0aDpOdW1iZXIobi5nb29nRnJhbWVXaWR0aElucHV0KXx8TnVtYmVyKG4uZ29vZ0ZyYW1lV2lkdGhTZW50KSxoZWlnaHQ6TnVtYmVyKG4uZ29vZ0ZyYW1lSGVpZ2h0SW5wdXQpfHxOdW1iZXIobi5nb29nRnJhbWVIZWlnaHRTZW50KSxmcmFtZVJhdGU6TnVtYmVyKG4uZ29vZ0ZyYW1lUmF0ZUlucHV0KX0sby5zZW50RnJhbWU9e3dpZHRoOk51bWJlcihuLmdvb2dGcmFtZVdpZHRoU2VudCksaGVpZ2h0Ok51bWJlcihuLmdvb2dGcmFtZUhlaWdodFNlbnQpLGZyYW1lUmF0ZTpOdW1iZXIobi5nb29nRnJhbWVSYXRlSW5wdXQpfSxvLmZpcnNDb3VudD1OdW1iZXIobi5nb29nRmlyUmVjZWl2ZWQpLG8ubmFja3NDb3VudD1OdW1iZXIobi5nb29nTmFja3NSZWNlaXZlZCksby5wbGlzQ291bnQ9TnVtYmVyKG4uZ29vZ1BsaXNSZWNlaXZlZCksby5mcmFtZUNvdW50PU51bWJlcihuLmZyYW1lc0VuY29kZWQpLG8uYnl0ZXM9TnVtYmVyKG4uYnl0ZXNTZW50KSxvLnBhY2tldHM9TnVtYmVyKG4ucGFja2V0c1NlbnQpLG8ucGFja2V0c0xvc3Q9TnVtYmVyKG4ucGFja2V0c0xvc3QpLG8uc3NyYz1OdW1iZXIobi5zc3JjKSxvLnJ0dE1zPU51bWJlcihuLmdvb2dSdHR8fDApLHRoaXMuX3N0YXRzLnZpZGVvU2VuZC5wdXNoKG8pLHRoaXMuX3N0YXRzLnJ0dD1vLnJ0dE1zO2JyZWFrfWNhc2VcInZpZGVvX3JlY3ZcIjp7bGV0IG89U2koXzApLHM9dGhpcy5sYXN0RGVjb2RlVmlkZW9SZWNlaXZlclN0YXRzLmdldChOdW1iZXIobi5zc3JjKSk7aWYoby5jb2RlYz1uLmdvb2dDb2RlY05hbWUsby50YXJnZXREZWxheU1zPU51bWJlcihuLmdvb2dUYXJnZXREZWxheU1zKSxvLnJlbmRlckRlbGF5TXM9TnVtYmVyKG4uZ29vZ1JlbmRlckRlbGF5TXMpLG8uY3VycmVudERlbGF5TXM9TnVtYmVyKG4uZ29vZ0N1cnJlbnREZWxheU1zKSxvLm1pblBsYXlvdXREZWxheU1zPU51bWJlcihuLmdvb2dNaW5QbGF5b3V0RGVsYXlNcyksby5kZWNvZGVNcz1OdW1iZXIobi5nb29nRGVjb2RlTXMpLG8ubWF4RGVjb2RlTXM9TnVtYmVyKG4uZ29vZ01heERlY29kZU1zKSxvLnJlY2VpdmVkRnJhbWU9e3dpZHRoOk51bWJlcihuLmdvb2dGcmFtZVdpZHRoUmVjZWl2ZWQpLGhlaWdodDpOdW1iZXIobi5nb29nRnJhbWVIZWlnaHRSZWNlaXZlZCksZnJhbWVSYXRlOk51bWJlcihuLmdvb2dGcmFtZVJhdGVSZWNlaXZlZCl9LG8uZGVjb2RlZEZyYW1lPXt3aWR0aDpOdW1iZXIobi5nb29nRnJhbWVXaWR0aFJlY2VpdmVkKSxoZWlnaHQ6TnVtYmVyKG4uZ29vZ0ZyYW1lSGVpZ2h0UmVjZWl2ZWQpLGZyYW1lUmF0ZTpOdW1iZXIobi5nb29nRnJhbWVSYXRlRGVjb2RlZCl9LG8uZGVjb2RlRnJhbWVSYXRlPU51bWJlcihuLmdvb2dGcmFtZVJhdGVEZWNvZGVkKSxvLm91dHB1dEZyYW1lPXt3aWR0aDpOdW1iZXIobi5nb29nRnJhbWVXaWR0aFJlY2VpdmVkKSxoZWlnaHQ6TnVtYmVyKG4uZ29vZ0ZyYW1lSGVpZ2h0UmVjZWl2ZWQpLGZyYW1lUmF0ZTpOdW1iZXIobi5nb29nRnJhbWVSYXRlT3V0cHV0KX0sby5qaXR0ZXJCdWZmZXJNcz1OdW1iZXIobi5nb29nSml0dGVyQnVmZmVyTXMpLG8uZmlyc0NvdW50PU51bWJlcihuLmdvb2dGaXJzU2VudCksby5uYWNrc0NvdW50PU51bWJlcihuLmdvb2dOYWNrc1NlbnQpLG8ucGxpc0NvdW50PU51bWJlcihuLmdvb2dQbGlzU2VudCksby5mcmFtZXNEZWNvZGVDb3VudD1OdW1iZXIobi5mcmFtZXNEZWNvZGVkKSxvLmJ5dGVzPU51bWJlcihuLmJ5dGVzUmVjZWl2ZWQpLG8ucGFja2V0cz1OdW1iZXIobi5wYWNrZXRzUmVjZWl2ZWQpLG8ucGFja2V0c0xvc3Q9TnVtYmVyKG4ucGFja2V0c0xvc3QpLG8uc3NyYz1OdW1iZXIobi5zc3JjKSxvLnBhY2tldHM+MCYmIXRoaXMuaXNGaXJzdFZpZGVvUmVjZWl2ZWRbby5zc3JjXSYmKHRoaXMub25GaXJzdFZpZGVvUmVjZWl2ZWQmJnRoaXMub25GaXJzdFZpZGVvUmVjZWl2ZWQoby5zc3JjKSx0aGlzLmlzRmlyc3RWaWRlb1JlY2VpdmVkW28uc3NyY109ITApLG8uZnJhbWVzRGVjb2RlQ291bnQ+MCYmIXRoaXMuaXNGaXJzdFZpZGVvRGVjb2RlZFtvLnNzcmNdJiYodGhpcy5vbkZpcnN0VmlkZW9EZWNvZGVkJiZ0aGlzLm9uRmlyc3RWaWRlb0RlY29kZWQoby5zc3JjLG8uZGVjb2RlZEZyYW1lLndpZHRoLG8uZGVjb2RlZEZyYW1lLmhlaWdodCksdGhpcy5pc0ZpcnN0VmlkZW9EZWNvZGVkW28uc3NyY109ITApLHMpe2xldCBhPXMuc3RhdHMsYz1EYXRlLm5vdygpLXMubHRzO28uZnJhbWVzRGVjb2RlRnJlZXplVGltZT1hLmZyYW1lc0RlY29kZUZyZWV6ZVRpbWUsby5mcmFtZXNEZWNvZGVJbnRlcnZhbD1hLmZyYW1lc0RlY29kZUludGVydmFsLG8uZnJhbWVzRGVjb2RlQ291bnQ+YS5mcmFtZXNEZWNvZGVDb3VudCYmdGhpcy5pc0ZpcnN0VmlkZW9EZWNvZGVkW28uc3NyY10/KHMubHRzPURhdGUubm93KCksby5mcmFtZXNEZWNvZGVJbnRlcnZhbD1jLG8uZnJhbWVzRGVjb2RlSW50ZXJ2YWw+PXRoaXMub3B0aW9ucy5mcmVlemVSYXRlTGltaXQmJih0aGlzLmdldFZpZGVvSXNSZWFkeShwYXJzZUludChuLnNzcmMsMTApKT9vLmZyYW1lc0RlY29kZUZyZWV6ZVRpbWUrPW8uZnJhbWVzRGVjb2RlSW50ZXJ2YWw6dGhpcy5zZXRWaWRlb0lzUmVhZHkyKHBhcnNlSW50KG4uc3NyYywxMCksITApKSk6by5mcmFtZXNEZWNvZGVDb3VudDxzLnN0YXRzLmZyYW1lc0RlY29kZUNvdW50JiYoby5mcmFtZXNEZWNvZGVJbnRlcnZhbD0wKTt9dGhpcy5sYXN0RGVjb2RlVmlkZW9SZWNlaXZlclN0YXRzLnNldChvLnNzcmMse3N0YXRzOmRXKHt9LG8pLGx0czpEYXRlLm5vdygpfSksdGhpcy5fc3RhdHMudmlkZW9SZWN2LnB1c2gobyk7YnJlYWt9Y2FzZVwiYXVkaW9fcmVjdlwiOntsZXQgbz1TaShmMCk7by5jb2RlYz1uLmdvb2dDb2RlY05hbWUsby5vdXRwdXRMZXZlbD1NYXRoLmFicyhOdW1iZXIobi5hdWRpb091dHB1dExldmVsKSkvMzI3Njcsby5kZWNvZGluZ0NORz1OdW1iZXIobi5nb29nRGVjb2RpbmdDTkcpLG8uZGVjb2RpbmdDVE49TnVtYmVyKG4uZ29vZ0RlY29kaW5nQ1ROKSxvLmRlY29kaW5nQ1RTRz1OdW1iZXIobi5nb29nRGVjb2RpbmdDVFNHKSxvLmRlY29kaW5nTm9ybWFsPU51bWJlcihuLmdvb2dEZWNvZGluZ05vcm1hbCksby5kZWNvZGluZ1BMQz1OdW1iZXIobi5nb29nRGVjb2RpbmdQTEMpLG8uZGVjb2RpbmdQTENDTkc9TnVtYmVyKG4uZ29vZ0RlY29kaW5nUExDQ05HKSxvLmV4cGFuZFJhdGU9TnVtYmVyKG4uZ29vZ0V4cGFuZFJhdGUpLG8uYWNjZWxlcmF0ZVJhdGU9TnVtYmVyKG4uZ29vZ0FjY2VsZXJhdGVSYXRlKSxvLnByZWVtcHRpdmVFeHBhbmRSYXRlPU51bWJlcihuLmdvb2dQcmVlbXB0aXZlRXhwYW5kUmF0ZSksby5zZWNvbmRhcnlEZWNvZGVkUmF0ZT1OdW1iZXIobi5nb29nU2Vjb25kYXJ5RGVjb2RlZFJhdGUpLG8uc3BlZWNoRXhwYW5kUmF0ZT1OdW1iZXIobi5nb29nU3BlZWNoRXhwYW5kUmF0ZSksby5wcmVmZXJyZWRKaXR0ZXJCdWZmZXJNcz1OdW1iZXIobi5nb29nUHJlZmVycmVkSml0dGVyQnVmZmVyTXMpLG8uaml0dGVyQnVmZmVyTXM9TnVtYmVyKG4uZ29vZ0ppdHRlckJ1ZmZlck1zKSxvLmppdHRlck1zPU51bWJlcihuLmdvb2dKaXR0ZXJSZWNlaXZlZCksby5ieXRlcz1OdW1iZXIobi5ieXRlc1JlY2VpdmVkKSxvLnBhY2tldHM9TnVtYmVyKG4ucGFja2V0c1JlY2VpdmVkKSxvLnBhY2tldHNMb3N0PU51bWJlcihuLnBhY2tldHNMb3N0KSxvLnNzcmM9TnVtYmVyKG4uc3NyYyksby5yZWNlaXZlZEZyYW1lcz1OdW1iZXIobi5nb29nRGVjb2RpbmdDVE4pfHxOdW1iZXIobi5wYWNrZXRzUmVjZWl2ZWQpLG8uZHJvcHBlZEZyYW1lcz1OdW1iZXIobi5nb29nRGVjb2RpbmdQTEMpK051bWJlcihuLmdvb2dEZWNvZGluZ1BMQ0NORyl8fE51bWJlcihuLnBhY2tldHNMb3N0KSxvLnJlY2VpdmVkRnJhbWVzPjAmJiF0aGlzLmlzRmlyc3RBdWRpb1JlY2VpdmVkW28uc3NyY10mJih0aGlzLm9uRmlyc3RBdWRpb1JlY2VpdmVkJiZ0aGlzLm9uRmlyc3RBdWRpb1JlY2VpdmVkKG8uc3NyYyksdGhpcy5pc0ZpcnN0QXVkaW9SZWNlaXZlZFtvLnNzcmNdPSEwKSxvLmRlY29kaW5nTm9ybWFsPjAmJiF0aGlzLmlzRmlyc3RBdWRpb0RlY29kZWRbby5zc3JjXSYmKHRoaXMub25GaXJzdEF1ZGlvRGVjb2RlZCYmdGhpcy5vbkZpcnN0QXVkaW9EZWNvZGVkKG8uc3NyYyksdGhpcy5pc0ZpcnN0QXVkaW9EZWNvZGVkW28uc3NyY109ITApLHRoaXMuX3N0YXRzLmF1ZGlvUmVjdi5wdXNoKG8pO2JyZWFrfWNhc2VcImF1ZGlvX3NlbmRcIjp7bGV0IG89U2kobTApO28uY29kZWM9bi5nb29nQ29kZWNOYW1lLG8uaW5wdXRMZXZlbD1NYXRoLmFicyhOdW1iZXIobi5hdWRpb0lucHV0TGV2ZWwpKS8zMjc2NyxvLmFlY1JldHVybkxvc3M9TnVtYmVyKG4uZ29vZ0VjaG9DYW5jZWxsYXRpb25SZXR1cm5Mb3NzfHwwKSxvLmFlY1JldHVybkxvc3NFbmhhbmNlbWVudD1OdW1iZXIobi5nb29nRWNob0NhbmNlbGxhdGlvblJldHVybkxvc3NFbmhhbmNlbWVudHx8MCksby5yZXNpZHVhbEVjaG9MaWtlbGlob29kPU51bWJlcihuLmdvb2dSZXNpZHVhbEVjaG9MaWtlbGlob29kfHwwKSxvLnJlc2lkdWFsRWNob0xpa2VsaWhvb2RSZWNlbnRNYXg9TnVtYmVyKG4uZ29vZ1Jlc2lkdWFsRWNob0xpa2VsaWhvb2RSZWNlbnRNYXh8fDApLG8uYnl0ZXM9TnVtYmVyKG4uYnl0ZXNTZW50KSxvLnBhY2tldHM9TnVtYmVyKG4ucGFja2V0c1NlbnQpLG8ucGFja2V0c0xvc3Q9TnVtYmVyKG4ucGFja2V0c0xvc3QpLG8uc3NyYz1OdW1iZXIobi5zc3JjKSxvLnJ0dE1zPU51bWJlcihuLmdvb2dSdHR8fDApLHRoaXMuX3N0YXRzLnJ0dD1vLnJ0dE1zLHRoaXMuX3N0YXRzLmF1ZGlvU2VuZC5wdXNoKG8pO2JyZWFrfX19KTt9X2dldFN0YXRzKCl7cmV0dXJuIG5ldyBqKChlLG4pPT57dGhpcy5wYy5nZXRTdGF0cyhlLG4pO30pfXN0YXRzUmVzcG9uc2VzVG9PYmplY3RzKGUpe2xldCBuPVtdO3JldHVybiBlLnJlc3VsdCgpLmZvckVhY2goaT0+e2xldCByPXtpZDppLmlkLHRpbWVzdGFtcDppLnRpbWVzdGFtcC52YWx1ZU9mKCkudG9TdHJpbmcoKSx0eXBlOmkudHlwZX07aS5uYW1lcygpLmZvckVhY2gobz0+e3Jbb109aS5zdGF0KG8pO30pLG4ucHVzaChyKTt9KSxufX07ZnVuY3Rpb24gcHYodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihpPWkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscikuZW51bWVyYWJsZX0pKSxuLnB1c2guYXBwbHkobixpKTt9cmV0dXJuIG59ZnVuY3Rpb24gQW8odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdIT1udWxsP2FyZ3VtZW50c1tlXTp7fTtlJTI/cHYoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe1QodCxpLG5baV0pO30pOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOnB2KE9iamVjdChuKSkuZm9yRWFjaChmdW5jdGlvbihpKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxpLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixpKSk7fSk7fXJldHVybiB0fXZhciBodT1jbGFzcyBleHRlbmRzIFZje2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSxUKHRoaXMsXCJfc3RhdHNcIix4YyksVCh0aGlzLFwicmVwb3J0XCIsdm9pZCAwKSxUKHRoaXMsXCJsYXN0RGVjb2RlVmlkZW9SZWNlaXZlclN0YXRzXCIsbmV3IE1hcCksVCh0aGlzLFwibGFzdFZpZGVvRnJhbWVzUmVjdlwiLG5ldyBNYXApLFQodGhpcyxcImxhc3RWaWRlb0ZyYW1lc1NlbnRcIixuZXcgTWFwKSxUKHRoaXMsXCJsYXN0VmlkZW9GcmFtZXNEZWNvZGVcIixuZXcgTWFwKSxUKHRoaXMsXCJsYXN0VmlkZW9GcmFtZXNPdXRwdXRcIixuZXcgTWFwKSxUKHRoaXMsXCJsYXN0VmlkZW9KQkRlbGF5XCIsbmV3IE1hcCksVCh0aGlzLFwibGFzdEF1ZGlvSkJEZWxheVwiLG5ldyBNYXApLFQodGhpcyxcIm1lZGlhQnl0ZXNTZW50XCIsbmV3IE1hcCksVCh0aGlzLFwibWVkaWFCeXRlc1JldHJhbnNtaXRcIixuZXcgTWFwKSxUKHRoaXMsXCJtZWRpYUJ5dGVzVGFyZ2V0RW5jb2RlXCIsbmV3IE1hcCksVCh0aGlzLFwibGFzdEVuY29kZXJNc1wiLG5ldyBNYXApO31hc3luYyB1cGRhdGVTdGF0cygpe3RoaXMucmVwb3J0PWF3YWl0IHRoaXMucGMuZ2V0U3RhdHMoKSx0aGlzLl9zdGF0cz1TaSh4YyksdGhpcy5yZXBvcnQuZm9yRWFjaChlPT57c3dpdGNoKGUudHlwZSl7Y2FzZSBrbi5PVVRCT1VORDpjYXNlIGtuLklOQk9VTkQ6e2xldCBuPWUubWVkaWFUeXBlfHxlLmtpbmQsaT0hbiYmXCJmcmFtZVdpZHRoXCJpbiBlLHI9IW4mJiEoXCJmcmFtZVdpZHRoXCJpbiBlKTtlLnR5cGU9PT1rbi5PVVRCT1VORD9uPT09XCJhdWRpb1wifHxyP3RoaXMucHJvY2Vzc0F1ZGlvT3V0Ym91bmRTdGF0cyhlKToobj09PVwidmlkZW9cInx8aSkmJnRoaXMucHJvY2Vzc1ZpZGVvT3V0Ym91bmRTdGF0cyhlKTplLnR5cGU9PT1rbi5JTkJPVU5EJiYobj09PVwiYXVkaW9cInx8cj90aGlzLnByb2Nlc3NBdWRpb0luYm91bmRTdGF0cyhlKToobj09PVwidmlkZW9cInx8aSkmJnRoaXMucHJvY2Vzc1ZpZGVvSW5ib3VuZFN0YXRzKGUpKTticmVha31jYXNlIGtuLlRSQU5TUE9SVDp7bGV0IG49dGhpcy5yZXBvcnQuZ2V0KGUuc2VsZWN0ZWRDYW5kaWRhdGVQYWlySWQpO24mJnRoaXMucHJvY2Vzc0NhbmRpZGF0ZVBhaXJTdGF0cyhuKTticmVha31jYXNlIGtuLkNBTkRJREFURV9QQUlSOmUuc2VsZWN0ZWQmJnRoaXMucHJvY2Vzc0NhbmRpZGF0ZVBhaXJTdGF0cyhlKTt9fSksdGhpcy51cGRhdGVTZW5kQml0cmF0ZSgpLHRoaXMuX3N0YXRzLnRpbWVzdGFtcD1EYXRlLm5vdygpLHRoaXMuY2FsY0xvc3NSYXRlKHRoaXMuX3N0YXRzKSx0aGlzLnN0YXRzPXRoaXMuX3N0YXRzO31hc3luYyBnZXRTZWxlY3RlZENhbmRpZGF0ZVBhaXIoKXtsZXQgZT1hd2FpdCB0aGlzLnBjLmdldFN0YXRzKCksbj17bG9jYWw6QW8oe30saHIpLHJlbW90ZTpBbyh7fSxocil9O3JldHVybiBlLmZvckVhY2goaT0+e2xldCByO2lmKGkudHlwZT09PWtuLlRSQU5TUE9SVCYmKHI9ZS5nZXQoaS5zZWxlY3RlZENhbmRpZGF0ZVBhaXJJZCkpLGkudHlwZT09PWtuLkNBTkRJREFURV9QQUlSJiZpLnNlbGVjdGVkJiYocj1pKSxyKXtsZXQgbz0ocyxhKT0+e3MudHlwZT1hLnR5cGUscy5pZD1hLmlkLGEuYWRkcmVzcyYmKHMuYWRkcmVzcz1hLmFkZHJlc3MpLGEuY2FuZGlkYXRlVHlwZSYmKHMuY2FuZGlkYXRlVHlwZT1hLmNhbmRpZGF0ZVR5cGUpLGEucG9ydCYmKHMucG9ydD1hLnBvcnQpLGEucHJpb3JpdHkmJihzLnByaW9yaXR5PWEucHJpb3JpdHkpLGEucHJvdG9jb2wmJihzLnByb3RvY29sPWEucHJvdG9jb2wpLGEucmVsYXlQcm90b2NvbCYmKHMucmVsYXlQcm90b2NvbD1hLnJlbGF5UHJvdG9jb2wpO307aWYoci5sb2NhbENhbmRpZGF0ZUlkKXtsZXQgcz1lLmdldChyLmxvY2FsQ2FuZGlkYXRlSWQpO3MmJm8obi5sb2NhbCxzKTt9aWYoci5yZW1vdGVDYW5kaWRhdGVJZCl7bGV0IHM9ZS5nZXQoci5yZW1vdGVDYW5kaWRhdGVJZCk7cyYmbyhuLnJlbW90ZSxzKTt9fX0pLG59cHJvY2Vzc0NhbmRpZGF0ZVBhaXJTdGF0cyhlKXtpZih0aGlzLl9zdGF0cy5zZW5kQmFuZHdpZHRoPWUuYXZhaWxhYmxlT3V0Z29pbmdCaXRyYXRlfHwwLGUuY3VycmVudFJvdW5kVHJpcFRpbWUmJih0aGlzLl9zdGF0cy5ydHQ9MWUzKmUuY3VycmVudFJvdW5kVHJpcFRpbWUpLHRoaXMuX3N0YXRzLnZpZGVvU2VuZC5mb3JFYWNoKG49PntlLmN1cnJlbnRSb3VuZFRyaXBUaW1lJiYobi5ydHRNcz0xZTMqZS5jdXJyZW50Um91bmRUcmlwVGltZSk7fSksdGhpcy5fc3RhdHMuYXVkaW9TZW5kLmZvckVhY2gobj0+e2UuY3VycmVudFJvdW5kVHJpcFRpbWUmJihuLnJ0dE1zPTFlMyplLmN1cnJlbnRSb3VuZFRyaXBUaW1lKTt9KSx0aGlzLl9zdGF0cy5zZWxlY3RlZENhbmRpZGF0ZVBhaXIuaWQ9ZS5pZCxlLmxvY2FsQ2FuZGlkYXRlSWQpe2xldCBuPXRoaXMucmVwb3J0LmdldChlLmxvY2FsQ2FuZGlkYXRlSWQpO24mJnRoaXMucHJvY2Vzc0NhbmRpZGF0ZVN0YXRzKG4pO31pZihlLnJlbW90ZUNhbmRpZGF0ZUlkKXtsZXQgbj10aGlzLnJlcG9ydC5nZXQoZS5yZW1vdGVDYW5kaWRhdGVJZCk7biYmdGhpcy5wcm9jZXNzQ2FuZGlkYXRlU3RhdHMobik7fX1wcm9jZXNzQ2FuZGlkYXRlU3RhdHMoZSl7bGV0IG47ZS50eXBlPT09a24uTE9DQUxfQ0FORElEQVRFJiYobj10aGlzLl9zdGF0cy5zZWxlY3RlZENhbmRpZGF0ZVBhaXIubG9jYWxDYW5kaWRhdGUpLGUudHlwZT09PWtuLlJFTU9URV9DQU5ESURBVEUmJihuPXRoaXMuX3N0YXRzLnNlbGVjdGVkQ2FuZGlkYXRlUGFpci5yZW1vdGVDYW5kaWRhdGUpLG4mJihuLnR5cGU9ZS50eXBlLG4uaWQ9ZS5pZCxlLmFkZHJlc3MmJihuLmFkZHJlc3M9ZS5hZGRyZXNzKSxlLmNhbmRpZGF0ZVR5cGUmJihuLmNhbmRpZGF0ZVR5cGU9ZS5jYW5kaWRhdGVUeXBlKSxlLnBvcnQmJihuLnBvcnQ9ZS5wb3J0KSxlLnByaW9yaXR5JiYobi5wcmlvcml0eT1lLnByaW9yaXR5KSxlLnByb3RvY29sJiYobi5wcm90b2NvbD1lLnByb3RvY29sKSxlLnJlbGF5UHJvdG9jb2wmJihuLnJlbGF5UHJvdG9jb2w9ZS5yZWxheVByb3RvY29sKSxlLnR5cGU9PT1rbi5MT0NBTF9DQU5ESURBVEUmJnRoaXMuc3RhdHMuc2VsZWN0ZWRDYW5kaWRhdGVQYWlyLmxvY2FsQ2FuZGlkYXRlLmlkIT09bi5pZCYmdGhpcy5vblNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkJiZ0aGlzLm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQoQW8oe30sbiksQW8oe30sdGhpcy5zdGF0cy5zZWxlY3RlZENhbmRpZGF0ZVBhaXIubG9jYWxDYW5kaWRhdGUpKSxlLnR5cGU9PT1rbi5SRU1PVEVfQ0FORElEQVRFJiZ0aGlzLnN0YXRzLnNlbGVjdGVkQ2FuZGlkYXRlUGFpci5yZW1vdGVDYW5kaWRhdGUuaWQhPT1uLmlkJiZ0aGlzLm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkJiZ0aGlzLm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkKEFvKHt9LG4pLEFvKHt9LHRoaXMuc3RhdHMuc2VsZWN0ZWRDYW5kaWRhdGVQYWlyLnJlbW90ZUNhbmRpZGF0ZSkpKTt9cHJvY2Vzc0F1ZGlvSW5ib3VuZFN0YXRzKGUpe2xldCBuPXRoaXMuX3N0YXRzLmF1ZGlvUmVjdi5maW5kKGk9Pmkuc3NyYz09PWUuc3NyYyk7bnx8KG49U2koZjApLHRoaXMuX3N0YXRzLmF1ZGlvUmVjdi5wdXNoKG4pKSxuLnNzcmM9ZS5zc3JjLG4ucGFja2V0cz1lLnBhY2tldHNSZWNlaXZlZCxuLnBhY2tldHNMb3N0PWUucGFja2V0c0xvc3Qsbi5wYWNrZXRzRGlzY2FyZGVkPWUucGFja2V0c0Rpc2NhcmRlZCxuLmJ5dGVzPWUuYnl0ZXNSZWNlaXZlZCxuLmppdHRlck1zPTFlMyplLmppdHRlcix0aGlzLnByb2Nlc3NBdWRpb1RyYWNrUmVjZWl2ZXJTdGF0cyhlLGUudHJhY2tJZCxuKSxlLmNvZGVjSWQmJihuLmNvZGVjPXRoaXMuZ2V0Q29kZWNGcm9tQ29kZWNTdGF0cyhlLmNvZGVjSWQpKSxuLnJlY2VpdmVkRnJhbWVzfHwobi5yZWNlaXZlZEZyYW1lcz1lLnBhY2tldHNSZWNlaXZlZCksbi5kcm9wcGVkRnJhbWVzfHwobi5kcm9wcGVkRnJhbWVzPWUucGFja2V0c0xvc3QpLG4ucmVjZWl2ZWRGcmFtZXM+MCYmIXRoaXMuaXNGaXJzdEF1ZGlvUmVjZWl2ZWRbbi5zc3JjXSYmKHRoaXMub25GaXJzdEF1ZGlvUmVjZWl2ZWQmJnRoaXMub25GaXJzdEF1ZGlvUmVjZWl2ZWQobi5zc3JjKSx0aGlzLmlzRmlyc3RBdWRpb1JlY2VpdmVkW24uc3NyY109ITApLG4ub3V0cHV0TGV2ZWwmJm4ub3V0cHV0TGV2ZWw+MCYmIXRoaXMuaXNGaXJzdEF1ZGlvRGVjb2RlZFtuLnNzcmNdJiYodGhpcy5vbkZpcnN0QXVkaW9EZWNvZGVkJiZ0aGlzLm9uRmlyc3RBdWRpb0RlY29kZWQobi5zc3JjKSx0aGlzLmlzRmlyc3RBdWRpb0RlY29kZWRbbi5zc3JjXT0hMCksdHlwZW9mIGUuY29uY2VhbGVkU2FtcGxlcz09XCJudW1iZXJcIiYmKG4uY29uY2VhbGVkU2FtcGxlcz1lLmNvbmNlYWxlZFNhbXBsZXMpO31wcm9jZXNzVmlkZW9JbmJvdW5kU3RhdHMoZSl7bGV0IG49dGhpcy5fc3RhdHMudmlkZW9SZWN2LmZpbmQoYT0+YS5zc3JjPT09ZS5zc3JjKTtufHwobj1TaShfMCksdGhpcy5fc3RhdHMudmlkZW9SZWN2LnB1c2gobikpLG4uc3NyYz1lLnNzcmMsbi5wYWNrZXRzPWUucGFja2V0c1JlY2VpdmVkLG4ucGFja2V0c0xvc3Q9ZS5wYWNrZXRzTG9zdCxuLmJ5dGVzPWUuYnl0ZXNSZWNlaXZlZCxuLmZpcnNDb3VudD1lLmZpckNvdW50LG4ubmFja3NDb3VudD1lLm5hY2tDb3VudCxuLnBsaXNDb3VudD1lLnBsaUNvdW50LG4uZnJhbWVzRGVjb2RlQ291bnQ9ZS5mcmFtZXNEZWNvZGVkLG4uZnJhbWVzRHJvcHBlZENvdW50PWUuZnJhbWVzRHJvcHBlZCxuLnRvdGFsSW50ZXJGcmFtZURlbGF5PWUudG90YWxJbnRlckZyYW1lRGVsYXksbi50b3RhbFNxdWFyZWRJbnRlckZyYW1lRGVsYXk9ZS50b3RhbFNxdWFyZWRJbnRlckZyYW1lRGVsYXksbi50b3RhbEZyZWV6ZXNEdXJhdGlvbj1lLnRvdGFsRnJlZXplc0R1cmF0aW9uO2xldCBpPXRoaXMubGFzdERlY29kZVZpZGVvUmVjZWl2ZXJTdGF0cy5nZXQobi5zc3JjKSxyPXRoaXMubGFzdFZpZGVvRnJhbWVzRGVjb2RlLmdldChuLnNzcmMpLG89dGhpcy5sYXN0VmlkZW9GcmFtZXNPdXRwdXQuZ2V0KG4uc3NyYykscz1EYXRlLm5vdygpO2lmKG4uZnJhbWVzRGVjb2RlQ291bnQ+MCYmIXRoaXMuaXNGaXJzdFZpZGVvRGVjb2RlZFtuLnNzcmNdKXtsZXQgYT1uLmRlY29kZWRGcmFtZT9uLmRlY29kZWRGcmFtZS53aWR0aDowLGM9bi5kZWNvZGVkRnJhbWU/bi5kZWNvZGVkRnJhbWUuaGVpZ2h0OjA7dGhpcy5vbkZpcnN0VmlkZW9EZWNvZGVkJiZ0aGlzLm9uRmlyc3RWaWRlb0RlY29kZWQobi5zc3JjLGEsYyksdGhpcy5pc0ZpcnN0VmlkZW9EZWNvZGVkW24uc3NyY109ITA7fWlmKGkpe2xldCBhPWkuc3RhdHMsYz1zLWkubHRzO24uZnJhbWVzRGVjb2RlRnJlZXplVGltZT1hLmZyYW1lc0RlY29kZUZyZWV6ZVRpbWUsbi5mcmFtZXNEZWNvZGVJbnRlcnZhbD1hLmZyYW1lc0RlY29kZUludGVydmFsLCF0aGlzLmlzRmlyc3RWaWRlb0RlY29kZWRbbi5zc3JjXSYmYz50aGlzLm9wdGlvbnMuZmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0JiYhdGhpcy5pc0ZpcnN0VmlkZW9EZWNvZGVkVGltZW91dFtuLnNzcmNdJiYodGhpcy5vbkZpcnN0VmlkZW9EZWNvZGVkVGltZW91dCYmdGhpcy5vbkZpcnN0VmlkZW9EZWNvZGVkVGltZW91dChuLnNzcmMpLHRoaXMuaXNGaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXRbbi5zc3JjXT0hMCksbi5mcmFtZXNEZWNvZGVDb3VudD5hLmZyYW1lc0RlY29kZUNvdW50JiZ0aGlzLmlzRmlyc3RWaWRlb0RlY29kZWRbbi5zc3JjXT8oaS5sdHM9RGF0ZS5ub3coKSxuLmZyYW1lc0RlY29kZUludGVydmFsPWMsbi5mcmFtZXNEZWNvZGVJbnRlcnZhbD49dGhpcy5vcHRpb25zLmZyZWV6ZVJhdGVMaW1pdCYmKHRoaXMuZ2V0VmlkZW9Jc1JlYWR5KHBhcnNlSW50KGUuc3NyYykpP24uZnJhbWVzRGVjb2RlRnJlZXplVGltZSs9bi5mcmFtZXNEZWNvZGVJbnRlcnZhbDp0aGlzLnNldFZpZGVvSXNSZWFkeTIocGFyc2VJbnQoZS5zc3JjLDEwKSwhMCkpKTpuLmZyYW1lc0RlY29kZUNvdW50PGEuZnJhbWVzRGVjb2RlQ291bnQmJihuLmZyYW1lc0RlY29kZUludGVydmFsPTApLGUuZnJhbWVzRGVjb2RlZCYmZS5xcFN1bSYmKGkuc3RhdHMuZnJhbWVzRGVjb2RlQ291bnQ+ZS5mcmFtZXNEZWNvZGVkP24ucXBTdW1QZXJGcmFtZT1lLnFwU3VtL2UuZnJhbWVzRGVjb2RlZDpuLnFwU3VtUGVyRnJhbWU9KGUucXBTdW0taS5xcFN1bSkvKGUuZnJhbWVzRGVjb2RlZC1pLnN0YXRzLmZyYW1lc0RlY29kZUNvdW50KSk7fXImJnMtci5sdHM+PTgwMD8obi5kZWNvZGVGcmFtZVJhdGU9TWF0aC5yb3VuZCgobi5mcmFtZXNEZWNvZGVDb3VudC1yLmNvdW50KS8oKHMtci5sdHMpLzFlMykpLHRoaXMubGFzdFZpZGVvRnJhbWVzRGVjb2RlLnNldChuLnNzcmMse2NvdW50Om4uZnJhbWVzRGVjb2RlQ291bnQsbHRzOnMscmF0ZTpuLmRlY29kZUZyYW1lUmF0ZX0pKTpyP24uZGVjb2RlRnJhbWVSYXRlPXIucmF0ZTp0aGlzLmxhc3RWaWRlb0ZyYW1lc0RlY29kZS5zZXQobi5zc3JjLHtjb3VudDpuLmZyYW1lc0RlY29kZUNvdW50LGx0czpzLHJhdGU6MH0pLG4uZnJhbWVzRHJvcHBlZENvdW50JiZlLmZyYW1lc1JlY2VpdmVkJiYobyYmcy1vLmx0cz49ODAwPyhuLm91dHB1dEZyYW1lUmF0ZT1NYXRoLnJvdW5kKChlLmZyYW1lc1JlY2VpdmVkLW4uZnJhbWVzRHJvcHBlZENvdW50LW8uY291bnQpLygocy1vLmx0cykvMWUzKSksdGhpcy5sYXN0VmlkZW9GcmFtZXNPdXRwdXQuc2V0KG4uc3NyYyx7Y291bnQ6ZS5mcmFtZXNSZWNlaXZlZC1uLmZyYW1lc0Ryb3BwZWRDb3VudCxsdHM6cyxyYXRlOk1hdGgubWF4KG4ub3V0cHV0RnJhbWVSYXRlLDApfSkpOm8/bi5vdXRwdXRGcmFtZVJhdGU9by5yYXRlOnRoaXMubGFzdFZpZGVvRnJhbWVzT3V0cHV0LnNldChuLnNzcmMse2NvdW50OmUuZnJhbWVzUmVjZWl2ZWQtbi5mcmFtZXNEcm9wcGVkQ291bnQsbHRzOnMscmF0ZTowfSkpLGUudG90YWxEZWNvZGVUaW1lJiYobi5kZWNvZGVNcz0xZTMqZS50b3RhbERlY29kZVRpbWUpLHRoaXMucHJvY2Vzc1ZpZGVvVHJhY2tSZWNlaXZlclN0YXRzKGUsZS50cmFja0lkLG4pLGUuY29kZWNJZCYmKG4uY29kZWM9dGhpcy5nZXRDb2RlY0Zyb21Db2RlY1N0YXRzKGUuY29kZWNJZCkpLGUuZnJhbWVyYXRlTWVhbiYmKG4uZnJhbWVzUmF0ZUZpcmVmb3g9ZS5mcmFtZXJhdGVNZWFuKSxuLnBhY2tldHM+MCYmIXRoaXMuaXNGaXJzdFZpZGVvUmVjZWl2ZWRbbi5zc3JjXSYmKHRoaXMub25GaXJzdFZpZGVvUmVjZWl2ZWQmJnRoaXMub25GaXJzdFZpZGVvUmVjZWl2ZWQobi5zc3JjKSx0aGlzLmlzRmlyc3RWaWRlb1JlY2VpdmVkW24uc3NyY109ITApLHRoaXMubGFzdERlY29kZVZpZGVvUmVjZWl2ZXJTdGF0cy5zZXQobi5zc3JjLHtzdGF0czpBbyh7fSxuKSxsdHM6aT9pLmx0czpEYXRlLm5vdygpLHFwU3VtOmUucXBTdW19KTt9cHJvY2Vzc1ZpZGVvT3V0Ym91bmRTdGF0cyhlKXtsZXQgbj10aGlzLl9zdGF0cy52aWRlb1NlbmQuZmluZChyPT5yLnNzcmM9PT1lLnNzcmMpO258fChuPVNpKEUwKSx0aGlzLl9zdGF0cy52aWRlb1NlbmQucHVzaChuKSk7bGV0IGk9dGhpcy5tZWRpYUJ5dGVzU2VudC5nZXQoZS5zc3JjKTtpZihpKWkuYWRkKGUuYnl0ZXNTZW50KTtlbHNlIHtsZXQgcj1uZXcgY2MoMTApO3IuYWRkKGUuYnl0ZXNTZW50KSx0aGlzLm1lZGlhQnl0ZXNTZW50LnNldChlLnNzcmMscik7fWlmKGUucmV0cmFuc21pdHRlZEJ5dGVzU2VudCE9PXZvaWQgMCl7bGV0IHI9dGhpcy5tZWRpYUJ5dGVzUmV0cmFuc21pdC5nZXQoZS5zc3JjKTtpZihyKXIuYWRkKGUucmV0cmFuc21pdHRlZEJ5dGVzU2VudCk7ZWxzZSB7bGV0IG89bmV3IGNjKDEwKTtvLmFkZChlLnJldHJhbnNtaXR0ZWRCeXRlc1NlbnQpLHRoaXMubWVkaWFCeXRlc1JldHJhbnNtaXQuc2V0KGUuc3NyYyxvKTt9fWlmKGUudG90YWxFbmNvZGVkQnl0ZXNUYXJnZXQpe2xldCByPXRoaXMubWVkaWFCeXRlc1RhcmdldEVuY29kZS5nZXQoZS5zc3JjKTtpZihyKXIuYWRkKGUudG90YWxFbmNvZGVkQnl0ZXNUYXJnZXQpO2Vsc2Uge2xldCBvPW5ldyBjYygxMCk7by5hZGQoZS50b3RhbEVuY29kZWRCeXRlc1RhcmdldCksdGhpcy5tZWRpYUJ5dGVzVGFyZ2V0RW5jb2RlLnNldChlLnNzcmMsbyk7fX1pZihuLnNzcmM9ZS5zc3JjLG4uYnl0ZXM9ZS5ieXRlc1NlbnQsbi5wYWNrZXRzPWUucGFja2V0c1NlbnQsbi5maXJzQ291bnQ9ZS5maXJDb3VudCxuLm5hY2tzQ291bnQ9ZS5uYWNrQ291bnQsbi5wbGlzQ291bnQ9ZS5wbGlDb3VudCxuLmZyYW1lQ291bnQ9ZS5mcmFtZXNFbmNvZGVkLG4uYWRhcHRpb25DaGFuZ2VSZWFzb249ZS5xdWFsaXR5TGltaXRhdGlvblJlYXNvbixuLnNjYWxhYmlsaXR5TW9kZT1lLnNjYWxhYmlsaXR5TW9kZSxlLnRvdGFsRW5jb2RlVGltZSYmZS5mcmFtZXNFbmNvZGVkKXtsZXQgcj10aGlzLmxhc3RFbmNvZGVyTXMuZ2V0KGUuc3NyYyk7aWYoIXJ8fHIubGFzdEZyYW1lQ291bnQ+ZS5mcmFtZXNFbmNvZGVkKW4uYXZnRW5jb2RlTXM9MWUzKmUudG90YWxFbmNvZGVUaW1lL2UuZnJhbWVzRW5jb2RlZDtlbHNlIHtsZXQgbz1lLmZyYW1lc0VuY29kZWQtci5sYXN0RnJhbWVDb3VudCxzPWUudG90YWxFbmNvZGVUaW1lLXIubGFzdEVuY29kZXJUaW1lO24uYXZnRW5jb2RlTXM9MWUzKnMvbzt9fWlmKGUuZnJhbWVzRW5jb2RlZCYmZS5xcFN1bSl7bGV0IHI9dGhpcy5sYXN0RW5jb2Rlck1zLmdldChlLnNzcmMpOyFyfHxyLmxhc3RGcmFtZUNvdW50PmUuZnJhbWVzRW5jb2RlZD9uLnFwU3VtUGVyRnJhbWU9ZS5xcFN1bS9lLmZyYW1lc0VuY29kZWQ6bi5xcFN1bVBlckZyYW1lPShlLnFwU3VtLXIubGFzdFFwU3VtKS8oZS5mcmFtZXNFbmNvZGVkLXIubGFzdEZyYW1lQ291bnQpO31pZih0aGlzLmxhc3RFbmNvZGVyTXMuc2V0KGUuc3NyYyx7bGFzdEZyYW1lQ291bnQ6ZS5mcmFtZXNFbmNvZGVkLGxhc3RFbmNvZGVyVGltZTplLnRvdGFsRW5jb2RlVGltZSxsYXN0UXBTdW06ZS5xcFN1bSxsdHM6RGF0ZS5ub3coKX0pLGUuY29kZWNJZCYmKG4uY29kZWM9dGhpcy5nZXRDb2RlY0Zyb21Db2RlY1N0YXRzKGUuY29kZWNJZCkpLGUubWVkaWFTb3VyY2VJZCYmdGhpcy5wcm9jZXNzVmlkZW9NZWRpYVNvdXJjZShlLm1lZGlhU291cmNlSWQsbiksdGhpcy5wcm9jZXNzVmlkZW9UcmFja1NlbmRlclN0YXRzKGUsZS50cmFja0lkLG4pLGUucmVtb3RlSWQpdGhpcy5wcm9jZXNzUmVtb3RlSW5ib3VuZFN0YXRzKGUucmVtb3RlSWQsbik7ZWxzZSB7bGV0IHI9dGhpcy5maW5kUmVtb3RlU3RhdHNJZChlLnNzcmMsa24uUkVNT1RFX0lOQk9VTkQpO3ImJnRoaXMucHJvY2Vzc1JlbW90ZUluYm91bmRTdGF0cyhyLG4pO319cHJvY2Vzc0F1ZGlvT3V0Ym91bmRTdGF0cyhlKXtsZXQgbj10aGlzLl9zdGF0cy5hdWRpb1NlbmQuZmluZChpPT5pLnNzcmM9PT1lLnNzcmMpO2lmKG58fChuPVNpKG0wKSx0aGlzLl9zdGF0cy5hdWRpb1NlbmQucHVzaChuKSksbi5zc3JjPWUuc3NyYyxuLnBhY2tldHM9ZS5wYWNrZXRzU2VudCxuLmJ5dGVzPWUuYnl0ZXNTZW50LGUubWVkaWFTb3VyY2VJZCYmdGhpcy5wcm9jZXNzQXVkaW9NZWRpYVNvdXJjZShlLm1lZGlhU291cmNlSWQsbiksZS5jb2RlY0lkJiYobi5jb2RlYz10aGlzLmdldENvZGVjRnJvbUNvZGVjU3RhdHMoZS5jb2RlY0lkKSksdGhpcy5wcm9jZXNzQXVkaW9UcmFja1NlbmRlclN0YXRzKGUsZS50cmFja0lkLG4pLGUucmVtb3RlSWQpdGhpcy5wcm9jZXNzUmVtb3RlSW5ib3VuZFN0YXRzKGUucmVtb3RlSWQsbik7ZWxzZSB7bGV0IGk9dGhpcy5maW5kUmVtb3RlU3RhdHNJZChlLnNzcmMsa24uUkVNT1RFX0lOQk9VTkQpO2kmJnRoaXMucHJvY2Vzc1JlbW90ZUluYm91bmRTdGF0cyhpLG4pO319ZmluZFJlbW90ZVN0YXRzSWQoZSxuKXt2YXIgaTtsZXQgcj1BcnJheS5mcm9tKFByKGk9dGhpcy5yZXBvcnQpLmNhbGwoaSkpLmZpbmQobz0+by50eXBlPT09biYmby5zc3JjPT09ZSk7cmV0dXJuIHI/ci5pZDpudWxsfXByb2Nlc3NWaWRlb01lZGlhU291cmNlKGUsbil7bGV0IGk9dGhpcy5yZXBvcnQuZ2V0KGUpO2kmJmkud2lkdGgmJmkuaGVpZ2h0JiZpLmZyYW1lc1BlclNlY29uZCYmKG4uaW5wdXRGcmFtZT17d2lkdGg6aS53aWR0aCxoZWlnaHQ6aS5oZWlnaHQsZnJhbWVSYXRlOmkuZnJhbWVzUGVyU2Vjb25kfSk7fXByb2Nlc3NBdWRpb01lZGlhU291cmNlKGUsbil7bGV0IGk9dGhpcy5yZXBvcnQuZ2V0KGUpO2kmJihuLmlucHV0TGV2ZWw9aS5hdWRpb0xldmVsKTt9cHJvY2Vzc1ZpZGVvVHJhY2tTZW5kZXJTdGF0cyhlLG4saSl7dmFyIHIsbyxzLGE7bGV0IGM9bj90aGlzLnJlcG9ydC5nZXQobik6dm9pZCAwLGQ9KHI9Yz8uZnJhbWVzU2VudCkhPT1udWxsJiZyIT09dm9pZCAwP3I6ZS5mcmFtZXNTZW50O2lmKHR5cGVvZiBkIT1cIm51bWJlclwiKXJldHVybjtsZXQgbD0obz1jPy5mcmFtZVdpZHRoKSE9PW51bGwmJm8hPT12b2lkIDA/bzplLmZyYW1lV2lkdGgsdT0ocz1jPy5mcmFtZUhlaWdodCkhPT1udWxsJiZzIT09dm9pZCAwP3M6ZS5mcmFtZUhlaWdodCxoPShhPWM/LmZyYW1lc1BlclNlY29uZCkhPT1udWxsJiZhIT09dm9pZCAwP2E6ZS5mcmFtZXNQZXJTZWNvbmQ7aWYodHlwZW9mIGw9PVwibnVtYmVyXCImJnR5cGVvZiB1PT1cIm51bWJlclwifHwobD0wLHU9MCksaD09bnVsbCl7bGV0IHA9RGF0ZS5ub3coKSxnPXRoaXMubGFzdFZpZGVvRnJhbWVzU2VudC5nZXQoaS5zc3JjKTtnJiZwLWcubHRzPj04MDA/KGg9TWF0aC5yb3VuZCgoZC1nLmNvdW50KS8oKHAtZy5sdHMpLzFlMykpLHRoaXMubGFzdFZpZGVvRnJhbWVzU2VudC5zZXQoaS5zc3JjLHtjb3VudDpkLGx0czpwLHJhdGU6aH0pKTpnP2g9Zy5yYXRlOnRoaXMubGFzdFZpZGVvRnJhbWVzU2VudC5zZXQoaS5zc3JjLHtjb3VudDpkLGx0czpwLHJhdGU6MH0pO31pLnNlbnRGcmFtZT17d2lkdGg6bCxoZWlnaHQ6dSxmcmFtZVJhdGU6TWF0aC5tYXgoMCxoKX07fXByb2Nlc3NWaWRlb1RyYWNrUmVjZWl2ZXJTdGF0cyhlLG4saSl7dmFyIHIsbyxzLGEsYztsZXQgZD1uP3RoaXMucmVwb3J0LmdldChuKTp2b2lkIDAsbD0ocj1kPy5mcmFtZXNSZWNlaXZlZCkhPT1udWxsJiZyIT09dm9pZCAwP3I6ZS5mcmFtZXNSZWNlaXZlZCx1PShvPWQ/LmZyYW1lV2lkdGgpIT09bnVsbCYmbyE9PXZvaWQgMD9vOmUuZnJhbWVXaWR0aCxoPShzPWQ/LmZyYW1lSGVpZ2h0KSE9PW51bGwmJnMhPT12b2lkIDA/czplLmZyYW1lSGVpZ2h0LHA9KGE9ZD8uaml0dGVyQnVmZmVyRGVsYXkpIT09bnVsbCYmYSE9PXZvaWQgMD9hOmUuaml0dGVyQnVmZmVyRGVsYXksZz0oYz1kPy5qaXR0ZXJCdWZmZXJFbWl0dGVkQ291bnQpIT09bnVsbCYmYyE9PXZvaWQgMD9jOmUuaml0dGVyQnVmZmVyRW1pdHRlZENvdW50O2lmKHR5cGVvZiBsPT1cIm51bWJlclwiKXtsZXQgRT10aGlzLmxhc3RWaWRlb0ZyYW1lc1JlY3YuZ2V0KGkuc3NyYyksZj1EYXRlLm5vdygpO2kuZnJhbWVzUmVjZWl2ZWRDb3VudD1sO2xldCBTPTA7RSYmZi1FLmx0cz49ODAwPyhTPU1hdGgucm91bmQoKGwtRS5jb3VudCkvKChmLUUubHRzKS8xZTMpKSx0aGlzLmxhc3RWaWRlb0ZyYW1lc1JlY3Yuc2V0KGkuc3NyYyx7Y291bnQ6bCxsdHM6ZixyYXRlOlN9KSk6RT9TPUUucmF0ZTp0aGlzLmxhc3RWaWRlb0ZyYW1lc1JlY3Yuc2V0KGkuc3NyYyx7Y291bnQ6bCxsdHM6ZixyYXRlOjB9KSxpLnJlY2VpdmVkRnJhbWU9e3dpZHRoOnV8fDAsaGVpZ2h0Omh8fDAsZnJhbWVSYXRlOlN8fDB9LGkuZGVjb2RlZEZyYW1lPXt3aWR0aDp1fHwwLGhlaWdodDpofHwwLGZyYW1lUmF0ZTppLmRlY29kZUZyYW1lUmF0ZXx8MH0saS5vdXRwdXRGcmFtZT17d2lkdGg6dXx8MCxoZWlnaHQ6aHx8MCxmcmFtZVJhdGU6aS5vdXRwdXRGcmFtZVJhdGV8fGkuZGVjb2RlRnJhbWVSYXRlfHwwfTt9aWYocCYmZyl7bGV0IEU9dGhpcy5sYXN0VmlkZW9KQkRlbGF5LmdldChpLnNzcmMpfHx7aml0dGVyQnVmZmVyRGVsYXk6MCxqaXR0ZXJCdWZmZXJFbWl0dGVkQ291bnQ6MCxqaXR0ZXJCdWZmZXJNczowfSxmPUUuaml0dGVyQnVmZmVyTXMsUz1nLUUuaml0dGVyQnVmZmVyRW1pdHRlZENvdW50O1M+MCYmKGY9MWUzKihwLUUuaml0dGVyQnVmZmVyRGVsYXkpL1MpLGkuaml0dGVyQnVmZmVyTXM9ZixpLmN1cnJlbnREZWxheU1zPU1hdGgucm91bmQoZiksdGhpcy5sYXN0VmlkZW9KQkRlbGF5LnNldChpLnNzcmMse2ppdHRlckJ1ZmZlckRlbGF5OnAsaml0dGVyQnVmZmVyRW1pdHRlZENvdW50Omcsaml0dGVyQnVmZmVyTXM6aS5jdXJyZW50RGVsYXlNc30pO319cHJvY2Vzc0F1ZGlvVHJhY2tTZW5kZXJTdGF0cyhlLG4saSl7dmFyIHIsbyxzLGE7bGV0IGM9bj90aGlzLnJlcG9ydC5nZXQobik6dm9pZCAwLGQ9KHI9KG89Yz8uZWNob1JldHVybkxvc3MpIT09bnVsbCYmbyE9PXZvaWQgMD9vOmUuZWNob1JldHVybkxvc3MpIT09bnVsbCYmciE9PXZvaWQgMD9yOjAsbD0ocz0oYT1jPy5lY2hvUmV0dXJuTG9zc0VuaGFuY2VtZW50KSE9PW51bGwmJmEhPT12b2lkIDA/YTplLmVjaG9SZXR1cm5Mb3NzRW5oYW5jZW1lbnQpIT09bnVsbCYmcyE9PXZvaWQgMD9zOjA7aS5hZWNSZXR1cm5Mb3NzPWQsaS5hZWNSZXR1cm5Mb3NzRW5oYW5jZW1lbnQ9bDt9cHJvY2Vzc0F1ZGlvVHJhY2tSZWNlaXZlclN0YXRzKGUsbixpKXt2YXIgcixvLHMsYSxjLGQsbDtsZXQgdT1uP3RoaXMucmVwb3J0LmdldChuKTp2b2lkIDAsaD0ocj11Py5yZW1vdmVkU2FtcGxlc0ZvckFjY2VsZXJhdGlvbikhPT1udWxsJiZyIT09dm9pZCAwP3I6ZS5yZW1vdmVkU2FtcGxlc0ZvckFjY2VsZXJhdGlvbixwPShvPXU/LnRvdGFsU2FtcGxlc1JlY2VpdmVkKSE9PW51bGwmJm8hPT12b2lkIDA/bzplLnRvdGFsU2FtcGxlc1JlY2VpdmVkLGc9KHM9dT8uaml0dGVyQnVmZmVyRGVsYXkpIT09bnVsbCYmcyE9PXZvaWQgMD9zOmUuaml0dGVyQnVmZmVyRGVsYXksRT0oYT11Py5qaXR0ZXJCdWZmZXJFbWl0dGVkQ291bnQpIT09bnVsbCYmYSE9PXZvaWQgMD9hOmUuaml0dGVyQnVmZmVyRW1pdHRlZENvdW50LGY9KGM9dT8uYXVkaW9MZXZlbCkhPT1udWxsJiZjIT09dm9pZCAwP2M6ZT8uYXVkaW9MZXZlbCxTPShkPXU/LnRvdGFsU2FtcGxlc0R1cmF0aW9uKSE9PW51bGwmJmQhPT12b2lkIDA/ZDplPy50b3RhbFNhbXBsZXNEdXJhdGlvbixDPShsPXU/LmNvbmNlYWxlZFNhbXBsZXMpIT09bnVsbCYmbCE9PXZvaWQgMD9sOmUuY29uY2VhbGVkU2FtcGxlcztpZihoJiZwJiYoaS5hY2NlbGVyYXRlUmF0ZT1oL3ApLGcmJkUpe2xldCBiPXRoaXMubGFzdEF1ZGlvSkJEZWxheS5nZXQoaS5zc3JjKXx8e2ppdHRlckJ1ZmZlckRlbGF5OjAsaml0dGVyQnVmZmVyRW1pdHRlZENvdW50OjAsaml0dGVyQnVmZmVyTXM6MH0sdz1iLmppdHRlckJ1ZmZlck1zLEQ9RS1iLmppdHRlckJ1ZmZlckVtaXR0ZWRDb3VudDtEPjAmJih3PTFlMyooZy1iLmppdHRlckJ1ZmZlckRlbGF5KS9EKSxpLmppdHRlckJ1ZmZlck1zPU1hdGgucm91bmQodyksdGhpcy5sYXN0QXVkaW9KQkRlbGF5LnNldChpLnNzcmMse2ppdHRlckJ1ZmZlckRlbGF5Omcsaml0dGVyQnVmZmVyRW1pdHRlZENvdW50OkUsaml0dGVyQnVmZmVyTXM6aS5qaXR0ZXJCdWZmZXJNc30pO31pLm91dHB1dExldmVsPWY7bGV0IEE9MTkyMDtTJiZwJiYoQT1wL1MvNTAsaS5yZWNlaXZlZEZyYW1lcz1NYXRoLnJvdW5kKHAvQSkpLEMmJihpLmRyb3BwZWRGcmFtZXM9TWF0aC5yb3VuZChDL0EpKTt9cHJvY2Vzc1JlbW90ZUluYm91bmRTdGF0cyhlLG4pe2xldCBpPXRoaXMucmVwb3J0LmdldChlKTtpJiYobi5wYWNrZXRzTG9zdD1pLnBhY2tldHNMb3N0LGkucm91bmRUcmlwVGltZSYmKG4ucnR0TXM9MWUzKmkucm91bmRUcmlwVGltZSksaS5qaXR0ZXImJihuLmppdHRlck1zPTFlMyppLmppdHRlciksaS50aW1lc3RhbXAmJihuLnRpbWVzdGFtcD1pLnRpbWVzdGFtcCkpO31nZXRDb2RlY0Zyb21Db2RlY1N0YXRzKGUpe2xldCBuPXRoaXMucmVwb3J0LmdldChlKTtpZighbilyZXR1cm4gXCJcIjtsZXQgaT1uLm1pbWVUeXBlLm1hdGNoKC9cXC8oLiopJC8pO3JldHVybiBpJiZpWzFdP2lbMV06XCJcIn11cGRhdGVTZW5kQml0cmF0ZSgpe2xldCBlPTAsbj1udWxsLGk9bnVsbDt0aGlzLm1lZGlhQnl0ZXNTZW50LmZvckVhY2gobz0+e2UrPW8uZGlmZk1lYW4oKTt9KSx0aGlzLm1lZGlhQnl0ZXNSZXRyYW5zbWl0LmZvckVhY2gobz0+e249bj09PW51bGw/by5kaWZmTWVhbigpOm4rby5kaWZmTWVhbigpO30pLHRoaXMubWVkaWFCeXRlc1RhcmdldEVuY29kZS5mb3JFYWNoKG89PntpPWk9PT1udWxsP28uZGlmZk1lYW4oKTppK28uZGlmZk1lYW4oKTt9KTtsZXQgcj1uIT09bnVsbD9lLW46ZTt0aGlzLl9zdGF0cy5iaXRyYXRlPXthY3R1YWxFbmNvZGVkOjgqci8odGhpcy5vcHRpb25zLnVwZGF0ZUludGVydmFsLzFlMyksdHJhbnNtaXQ6OCplLyh0aGlzLm9wdGlvbnMudXBkYXRlSW50ZXJ2YWwvMWUzKX0sbiE9PW51bGwmJih0aGlzLl9zdGF0cy5iaXRyYXRlLnJldHJhbnNtaXQ9OCpuLyh0aGlzLm9wdGlvbnMudXBkYXRlSW50ZXJ2YWwvMWUzKSksaSE9PW51bGwmJih0aGlzLl9zdGF0cy5iaXRyYXRlLnRhcmdldEVuY29kZWQ9OCppLyh0aGlzLm9wdGlvbnMudXBkYXRlSW50ZXJ2YWwvMWUzKSk7fX0sY209Y2xhc3MgZXh0ZW5kcyBWY3t1cGRhdGVTdGF0cygpe3JldHVybiBqLnJlc29sdmUoKX19O2Z1bmN0aW9uIE5mKHQpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXToyNTAsbj1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXZvaWQgMD9hcmd1bWVudHNbMl06OCxpPWFyZ3VtZW50cy5sZW5ndGg+MyYmYXJndW1lbnRzWzNdIT09dm9pZCAwP2FyZ3VtZW50c1szXTo1MDAscj1hcmd1bWVudHMubGVuZ3RoPjQmJmFyZ3VtZW50c1s0XSE9PXZvaWQgMD9hcmd1bWVudHNbNF06MWU0LG89ZnVuY3Rpb24oKXtsZXQgcz1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG9jYWxlTG93ZXJDYXNlKCkubWF0Y2goL2Nocm9tZVxcL1tcXGRdKi9pKTtyZXR1cm4gcyYmc1swXT9OdW1iZXIoc1swXS5zcGxpdChcIi9cIilbMV0pOm51bGx9KCk7cmV0dXJuIG8/bzw3Nj9uZXcgYW0odCx7dXBkYXRlSW50ZXJ2YWw6ZSxsb3NzUmF0ZUludGVydmFsOm4sZnJlZXplUmF0ZUxpbWl0OmksZmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0OnJ9KTpuZXcgaHUodCx7dXBkYXRlSW50ZXJ2YWw6ZSxsb3NzUmF0ZUludGVydmFsOm4sZnJlZXplUmF0ZUxpbWl0OmksZmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0OnJ9KTpmdW5jdGlvbihzKXtpZighd2luZG93LlJUQ1N0YXRzUmVwb3J0KXJldHVybiAhMTtsZXQgYT1zLmdldFN0YXRzKCk7cmV0dXJuICEhKGEgaW5zdGFuY2VvZiBqfHxmdW5jdGlvbihjKXtyZXR1cm4gISFjJiYodHlwZW9mIGM9PVwib2JqZWN0XCJ8fHR5cGVvZiBjPT1cImZ1bmN0aW9uXCIpJiZ0eXBlb2YgYy50aGVuPT1cImZ1bmN0aW9uXCJ9KGEpKX0odCk/bmV3IGh1KHQse3VwZGF0ZUludGVydmFsOmUsbG9zc1JhdGVJbnRlcnZhbDpuLGZyZWV6ZVJhdGVMaW1pdDppLGZpcnN0VmlkZW9EZWNvZGVkVGltZW91dDpyfSk6bmV3IGNtKHQse3VwZGF0ZUludGVydmFsOmUsbG9zc1JhdGVJbnRlcnZhbDpuLGZyZWV6ZVJhdGVMaW1pdDppLGZpcnN0VmlkZW9EZWNvZGVkVGltZW91dDpyfSl9dmFyIF92PWNsYXNze2dldCBsb2NhbENhcGFiaWxpdGllcygpe3JldHVybiBsZSh0aGlzLl9sb2NhbENhcGFiaWxpdGllcyl9Z2V0IHJ0cENhcGFiaWxpdGllcygpe3JldHVybiBsZSh0aGlzLl9ydHBDYXBhYmlsaXRpZXMpfWdldCBjYW5kaWRhdGVzKCl7cmV0dXJuIGxlKHRoaXMuX2NhbmRpZGF0ZXMpfWdldCBpY2VQYXJhbWV0ZXJzKCl7cmV0dXJuIGxlKHRoaXMuX2ljZVBhcmFtZXRlcnMpfWdldCBkdGxzUGFyYW1ldGVycygpe3JldHVybiBsZSh0aGlzLl9kdGxzUGFyYW1ldGVycyl9Y29uc3RydWN0b3IodCl7VCh0aGlzLFwic2Vzc2lvbkRlc2NcIix2b2lkIDApLFQodGhpcyxcIl9sb2NhbENhcGFiaWxpdGllc1wiLHZvaWQgMCksVCh0aGlzLFwiX3J0cENhcGFiaWxpdGllc1wiLHZvaWQgMCksVCh0aGlzLFwiX2NhbmRpZGF0ZXNcIix2b2lkIDApLFQodGhpcyxcIl9pY2VQYXJhbWV0ZXJzXCIsdm9pZCAwKSxUKHRoaXMsXCJfZHRsc1BhcmFtZXRlcnNcIix2b2lkIDApLFQodGhpcyxcInNldHVwXCIsdm9pZCAwKSxUKHRoaXMsXCJjdXJyZW50TWlkSW5kZXhcIix2b2lkIDApLFQodGhpcyxcImNuYW1lXCIsXCJvL2kxNHU5cEpyeFJLQXN1XCIpLFQodGhpcyxcImZpcmVmb3hTc3JjTWlkTWFwXCIsbmV3IE1hcCksdD1sZSh0KTtsZXR7cmVtb3RlSWNlUGFyYW1ldGVyczplLHJlbW90ZUR0bHNQYXJhbWV0ZXJzOm4sY2FuZGlkYXRlczppLHJlbW90ZVJUUENhcGFiaWxpdGllczpyLGxvY2FsQ2FwYWJpbGl0aWVzOm8sZGlyZWN0aW9uOnMsc2V0dXA6YSx2aWRlb0NvZGVjOmMsYXVkaW9Db2RlYzpkfT10LGw7dGhpcy5zZXR1cD1hLGw9cz09PWNuLlJFQ0VJVkVfT05MWT9MZS5wYXJzZShgdj0wXG5vPS0gMCAwIElOIElQNCAxMjcuMC4wLjFcbnM9QWdvcmFHYXRld2F5XG50PTAgMFxuYT1ncm91cDpCVU5ETEUgMCAxXG5hPW1zaWQtc2VtYW50aWM6IFdNU1xuYT1leHRtYXAtYWxsb3ctbWl4ZWRcbm09dmlkZW8gOSBVRFAvVExTL1JUUC9TQVZQRiAwXG5jPUlOIElQNCAxMjcuMC4wLjFcbmE9cnRjcDo5IElOIElQNCAwLjAuMC4wXG5hPXNlbmRvbmx5XG5hPXJ0Y3AtbXV4XG5hPXJ0Y3AtcnNpemVcbmE9bWlkOjBcbm09YXVkaW8gOSBVRFAvVExTL1JUUC9TQVZQRiAwXG5jPUlOIElQNCAxMjcuMC4wLjFcbmE9cnRjcDo5IElOIElQNCAwLjAuMC4wXG5hPXNlbmRvbmx5XG5hPXJ0Y3AtbXV4XG5hPXJ0Y3AtcnNpemVcbmE9bWlkOjFcbmApOkxlLnBhcnNlKGB2PTBcbm89LSAwIDAgSU4gSVA0IDEyNy4wLjAuMVxucz1BZ29yYUdhdGV3YXlcbnQ9MCAwXG5hPWdyb3VwOkJVTkRMRSAwIDFcbmE9bXNpZC1zZW1hbnRpYzogV01TXG5hPWV4dG1hcC1hbGxvdy1taXhlZFxubT12aWRlbyA5IFVEUC9UTFMvUlRQL1NBVlBGIDBcbmM9SU4gSVA0IDEyNy4wLjAuMVxuYT1ydGNwOjkgSU4gSVA0IDAuMC4wLjBcbmE9cmVjdm9ubHlcbmE9cnRjcC1tdXhcbmE9cnRjcC1yc2l6ZVxuYT1taWQ6MFxubT1hdWRpbyA5IFVEUC9UTFMvUlRQL1NBVlBGIDBcbmM9SU4gSVA0IDEyNy4wLjAuMVxuYT1ydGNwOjkgSU4gSVA0IDAuMC4wLjBcbmE9cmVjdm9ubHlcbmE9cnRjcC1tdXhcbmE9cnRjcC1yc2l6ZVxuYT1taWQ6MVxuYCksdGhpcy5fcnRwQ2FwYWJpbGl0aWVzPXIsdGhpcy5fY2FuZGlkYXRlcz1pLHRoaXMuX2ljZVBhcmFtZXRlcnM9ZSx0aGlzLl9kdGxzUGFyYW1ldGVycz1uLHRoaXMuX2xvY2FsQ2FwYWJpbGl0aWVzPW87bGV0IHU9cz09PWNuLlJFQ0VJVkVfT05MWT90aGlzLnJ0cENhcGFiaWxpdGllcy5zZW5kOnRoaXMucnRwQ2FwYWJpbGl0aWVzLnJlY3YsaD1zPT09Y24uUkVDRUlWRV9PTkxZP3RoaXMuX2xvY2FsQ2FwYWJpbGl0aWVzLnJlY3Y6dGhpcy5fbG9jYWxDYXBhYmlsaXRpZXMuc2VuZCxwPXM9PT1jbi5SRUNFSVZFX09OTFk/ci5zZW5kLnZpZGVvQ29kZWNzOmFjKFEuVklERU8sdSxoLGMpLGc9cz09PWNuLlJFQ0VJVkVfT05MWT9yLnNlbmQuYXVkaW9Db2RlY3M6YWMoUS5BVURJTyx1LGgsZCk7Zm9yKGxldCBFIG9mIGwubWVkaWFEZXNjcmlwdGlvbnMpRS5hdHRyaWJ1dGVzLmljZVVmcmFnPWUuaWNlVWZyYWcsRS5hdHRyaWJ1dGVzLmljZVB3ZD1lLmljZVB3ZCxFLmF0dHJpYnV0ZXMuZmluZ2VycHJpbnRzPW4uZmluZ2VycHJpbnRzLEUuYXR0cmlidXRlcy5jYW5kaWRhdGVzPWksRS5hdHRyaWJ1dGVzLnNldHVwPXRoaXMuc2V0dXAsRS5tZWRpYS5tZWRpYVR5cGU9PT1cImFwcGxpY2F0aW9uXCImJihFLmF0dHJpYnV0ZXMuc2N0cFBvcnQ9XCI1MDAwXCIpLEUubWVkaWEubWVkaWFUeXBlPT09XCJ2aWRlb1wiJiYoRS5tZWRpYS5mbXRzPXAubWFwKGY9PmYucGF5bG9hZFR5cGUudG9TdHJpbmcoMTApKSxFLmF0dHJpYnV0ZXMucGF5bG9hZHM9cCxFLmF0dHJpYnV0ZXMuZXh0bWFwcz11LnZpZGVvRXh0ZW5zaW9ucyksRS5tZWRpYS5tZWRpYVR5cGU9PT1cImF1ZGlvXCImJihFLm1lZGlhLmZtdHM9Zy5tYXAoZj0+Zi5wYXlsb2FkVHlwZS50b1N0cmluZygxMCkpLEUuYXR0cmlidXRlcy5wYXlsb2Fkcz1nLEUuYXR0cmlidXRlcy5leHRtYXBzPXUuYXVkaW9FeHRlbnNpb25zLG9hKEUpKTt0aGlzLnNlc3Npb25EZXNjPWwsdGhpcy5jdXJyZW50TWlkSW5kZXg9bC5tZWRpYURlc2NyaXB0aW9ucy5sZW5ndGgtMTt9dG9TdHJpbmcoKXtyZXR1cm4gTGUucHJpbnQodGhpcy5zZXNzaW9uRGVzYyl9aGFzTWlkKHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpP3QuZXZlcnkoZT0+dGhpcy5oYXNNaWQoZSkpOnRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuc29tZShlPT5lLmF0dHJpYnV0ZXMubWlkPT09dCl9c2VuZCh0LGUsbixpLHIpe249bi5yZXBsYWNlKC8gL2csXCItXCIpO2xldHtzc3JjczpvLHNzcmNHcm91cHM6c309TG8oZSx0aGlzLmNuYW1lLHYoXCJTWU5DX0dST1VQXCIpP246dm9pZCAwKSxhPXRoaXMuZmluZFByZWxvYWRNZWRpYURlc2Mobyk7aWYoYSl7aWYoJHQoKSYmdGhpcy5maXJlZm94U3NyY01pZE1hcC5zZXQob1swXS5zc3JjSWQsYS5hdHRyaWJ1dGVzLm1pZCksciYmKHIudHdjY3x8ci5yZW1iKSl7bGV0IGM9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5pbmRleE9mKGEpO3JldHVybiB0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zW2NdPXRoaXMubXVuZ1NlbmRNZWRpYURlc2MoYSxyKSx7bWlkOmEuYXR0cmlidXRlcy5taWQsbmVlZEV4Y2hhbmdlU0RQOiEwfX1yZXR1cm4ge21pZDphLmF0dHJpYnV0ZXMubWlkLG5lZWRFeGNoYW5nZVNEUDohMX19e2xldCBjPXRoaXMuZmluZEF2YWlsYWJsZU1lZGlhSW5kZXgodCxvLGkpLGQ7cmV0dXJuIGM9PT0tMT8oZD10aGlzLmNyZWF0ZU9yUmVjeWNsZVNlbmRNZWRpYSh0LG8scyxcInNlbmRvbmx5XCIsaSxyKSx0aGlzLnVwZGF0ZUJ1bmRsZU1pZHMoKSk6KGQ9bGUodGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9uc1tjXSksZC5hdHRyaWJ1dGVzLmRpcmVjdGlvbj1cInNlbmRvbmx5XCIsZC5hdHRyaWJ1dGVzLnNzcmNzPW8sZC5hdHRyaWJ1dGVzLnNzcmNHcm91cHM9cyx0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zW2NdPXRoaXMubXVuZ1NlbmRNZWRpYURlc2MoZCxyKSksJHQoKSYmdGhpcy5maXJlZm94U3NyY01pZE1hcC5zZXQob1swXS5zc3JjSWQsZC5hdHRyaWJ1dGVzLm1pZCkse25lZWRFeGNoYW5nZVNEUDohMCxtaWQ6ZC5hdHRyaWJ1dGVzLm1pZH19fXN0b3BTZW5kaW5nKHQpe2xldCBlPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmlsdGVyKG49Pm4uYXR0cmlidXRlcy5taWQmJnQuaW5kZXhPZihuLmF0dHJpYnV0ZXMubWlkKSE9PS0xKTtpZihlLmxlbmd0aCE9PXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIm1lZGlhRGVzY3JpcHRpb25zJyBsZW5ndGggZG9lc24ndCBtYXRjaCBtaWRzJyBsZW5ndGggd2hlbiBjYWxsaW5nIFJlbW90ZVNEUC5zdG9wU2VuZGluZy5cIik7ZS5mb3JFYWNoKG49PntuLmF0dHJpYnV0ZXMuc3NyY3M9W107fSksdGhpcy51cGRhdGVCdW5kbGVNaWRzKCk7fXJlY2VpdmUodCxlLG4pe2xldCBpPVtdO3JldHVybiB0LmZvckVhY2gocj0+e2xldCBvPXIuX21lZGlhU3RyZWFtVHJhY2sua2luZCxzPXRoaXMuZmluZEF2YWlsYWJsZVJlY3ZNZWRpYUluZGV4KG8pLGEsYz0hMTtzPT09LTE/KGM9ITAsYT10aGlzLmNyZWF0ZU9yUmVjeWNsZVJlY3ZNZWRpYShyLFtdLFwicmVjdm9ubHlcIixlLG4pLHRoaXMudXBkYXRlQnVuZGxlTWlkcygpKTooYT1sZSh0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zW3NdKSxhLmF0dHJpYnV0ZXMuZGlyZWN0aW9uPVwicmVjdm9ubHlcIiksaS5wdXNoKHttaWQ6YS5hdHRyaWJ1dGVzLm1pZCxuZWVkQ3JlYXRlVHJhbnNjZWl2ZXI6Y30pO30pLGl9c3RvcFJlY2VpdmluZyh0KXtsZXQgZT10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbHRlcihuPT50LmluZGV4T2Yobi5hdHRyaWJ1dGVzLm1pZCkhPT0tMSk7aWYoZS5sZW5ndGghPT10Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJNZWRpYURlc2NyaXB0aW9ucycgbGVuZ3RoIGRvZXNuJ3QgbWF0Y2ggbWlkcydzIGxlbmd0aCB3aGVuIGNhbGxpbmcgUmVtb3RlU0RQLnJlY2VpdmUuXCIpO2UuZm9yRWFjaChuPT57bi5tZWRpYS5wb3J0PVwiMFwiLG4uYXR0cmlidXRlcy5kaXJlY3Rpb249XCJpbmFjdGl2ZVwiO30pLHRoaXMudXBkYXRlQnVuZGxlTWlkcygpO31hZGRSZW1vdGVDYW5kaWRhdGUodCl7bGV0e2ZvdW5kYXRpb246ZSxwcm90b2NvbDpuLGFkZHJlc3M6aSxwb3J0OnIsdHlwZTpvLHJlbGF0ZWRBZGRyZXNzOnMscmVsYXRlZFBvcnQ6YSxwcmlvcml0eTpjfT1uZXcgUlRDSWNlQ2FuZGlkYXRlKHQpLGQ9e2ZvdW5kYXRpb246ZT8/XCJcIixjb21wb25lbnRJZDpcIjFcIix0cmFuc3BvcnQ6bj8/XCJcIixwcmlvcml0eTpjP2MrXCJcIjpcIlwiLGNvbm5lY3Rpb25BZGRyZXNzOmk/P1wiXCIscG9ydDpyP3IrXCJcIjpcIlwiLHR5cGU6bz9vK1wiXCI6XCJcIixyZWxBZGRyOnM/P1wiXCIscmVsUG9ydDphP2ErXCJcIjpcIlwiLGV4dGVuc2lvbjp7fX07dGhpcy5jYW5kaWRhdGVzLnNvbWUobD0+bC5wcmlvcml0eT09PWQucHJpb3JpdHkmJmwuY29ubmVjdGlvbkFkZHJlc3M9PT1kLmNvbm5lY3Rpb25BZGRyZXNzJiZsLnBvcnQ9PT1kLnBvcnQpfHwodGhpcy5fY2FuZGlkYXRlcy5wdXNoKGQpLHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZm9yRWFjaChsPT57bC5hdHRyaWJ1dGVzLmNhbmRpZGF0ZXM9dGhpcy5jYW5kaWRhdGVzO30pKTt9Y2xlYXJSZW1vdGVDYW5kaWRhdGUoKXt0aGlzLl9jYW5kaWRhdGVzPVtdLHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbMF0uYXR0cmlidXRlcy5jYW5kaWRhdGVzPXRoaXMuX2NhbmRpZGF0ZXM7fWNyZWF0ZU9yUmVjeWNsZVJlY3ZNZWRpYSh0LGUsbixpLHIpe2xldCBvPXQuX21lZGlhU3RyZWFtVHJhY2sua2luZCxzPXRoaXMucnRwQ2FwYWJpbGl0aWVzLnJlY3YsYT1hYyhvLHMsdGhpcy5sb2NhbENhcGFiaWxpdGllcy5zZW5kLG89PT1RLkFVRElPP3I6aSksYz1vPT09US5WSURFTz9zLnZpZGVvRXh0ZW5zaW9uczpzLmF1ZGlvRXh0ZW5zaW9ucyxkPVwiXCIuY29uY2F0KCsrdGhpcy5jdXJyZW50TWlkSW5kZXgpLGw9e21lZGlhOnttZWRpYVR5cGU6byxwb3J0OlwiOVwiLHByb3RvczpbXCJVRFBcIixcIlRMU1wiLFwiUlRQXCIsXCJTQVZQRlwiXSxmbXRzOmEubWFwKGg9PmgucGF5bG9hZFR5cGUudG9TdHJpbmcoMTApKX0sY29ubmVjdGlvbnM6W3tuZXR0eXBlOlwiSU5cIixhZGRydHlwZTpcIklQNFwiLGFkZHJlc3M6XCIxMjcuMC4wLjFcIn1dLGJhbmR3aWR0aHM6W10sYXR0cmlidXRlczp7aWNlVWZyYWc6dGhpcy5pY2VQYXJhbWV0ZXJzLmljZVVmcmFnLGljZVB3ZDp0aGlzLmljZVBhcmFtZXRlcnMuaWNlUHdkLHVucmVjb2duaXplZDpbXSxjYW5kaWRhdGVzOltdLGV4dG1hcHM6YyxmaW5nZXJwcmludHM6dGhpcy5kdGxzUGFyYW1ldGVycy5maW5nZXJwcmludHMsaW1hZ2VhdHRyOltdLG1zaWRzOltdLHJlbW90ZUNhbmRpZGF0ZXNMaXN0OltdLHJpZHM6W10sc3NyY3M6ZSxzc3JjR3JvdXBzOltdLHJ0Y3BGZWVkYmFja1dpbGRjYXJkczpbXSxwYXlsb2FkczphLHJ0Y3A6e3BvcnQ6XCI5XCIsbmV0VHlwZTpcIklOXCIsYWRkcmVzc1R5cGU6XCJJUDRcIixhZGRyZXNzOlwiMC4wLjAuMFwifSxzZXR1cDp0aGlzLnNldHVwLGRpcmVjdGlvbjpuLHJ0Y3BNdXg6ITAscnRjcFJzaXplOiEwLG1pZDpcIlwiLmNvbmNhdChkKX19O2w9dGhpcy5tdW5nUmVjdk1lZGlhRHNlYyhsLHQpO2xldCB1PXRoaXMuZmluZEZpcnN0Q2xvc2VkTWVkaWEobyk7aWYodSl7bGV0IGg9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5pbmRleE9mKHUpO3RoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbaF09bDt9ZWxzZSB0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLnB1c2gobCk7cmV0dXJuIGx9bXV0ZVJlbW90ZSh0KXtsZXQgZT10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbHRlcihuPT5XKHQpLmNhbGwodCxuLmF0dHJpYnV0ZXMubWlkfHxcIlwiKSk7aWYoZS5sZW5ndGghPT10Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJtZWRpYURlc2NyaXB0aW9ucycgbGVuZ3RoIGRvZXNuJ3QgbWF0Y2ggbWlkcycgbGVuZ3RoIHdoZW4gY2FsbGluZyBSZW1vdGVTRFAubXV0ZVJlbW90ZS5cIik7ZS5mb3JFYWNoKG49PntuLmF0dHJpYnV0ZXMuZGlyZWN0aW9uPVwiaW5hY3RpdmVcIjt9KTt9dW5tdXRlUmVtb3RlKHQpe2xldCBlPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmlsdGVyKG49PlcodCkuY2FsbCh0LG4uYXR0cmlidXRlcy5taWR8fFwiXCIpKTtpZihlLmxlbmd0aCE9PXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIm1lZGlhRGVzY3JpcHRpb25zJyBsZW5ndGggZG9lc24ndCBtYXRjaCBtaWRzJyBsZW5ndGggd2hlbiBjYWxsaW5nIFJlbW90ZVNEUC5tdXRlUmVtb3RlLlwiKTtlLmZvckVhY2gobj0+e24uYXR0cmlidXRlcy5kaXJlY3Rpb249XCJyZWN2b25seVwiO30pO31maW5kQXZhaWxhYmxlTWVkaWFJbmRleCh0LGUsbil7cmV0dXJuIHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmluZEluZGV4KGk9PntsZXQgcj1pLm1lZGlhLm1lZGlhVHlwZT09PXQmJmkubWVkaWEucG9ydCE9PVwiMFwiJiYoaS5hdHRyaWJ1dGVzLmRpcmVjdGlvbj09PVwic2VuZG9ubHlcInx8aS5hdHRyaWJ1dGVzLmRpcmVjdGlvbj09PVwic2VuZHJlY3ZcIikmJmkuYXR0cmlidXRlcy5zc3Jjcy5sZW5ndGg9PT0wO2lmKCR0KCkpe2lmKHIpe2xldCBvPXRoaXMuZmlyZWZveFNzcmNNaWRNYXAuZ2V0KGVbMF0uc3NyY0lkKTtyZXR1cm4gIShvfHxpLmF0dHJpYnV0ZXMubWlkIT09XCIwXCImJmkuYXR0cmlidXRlcy5taWQhPT1cIjFcIil8fCEoIW98fG8hPT1pLmF0dHJpYnV0ZXMubWlkKX1yZXR1cm4gITF9cmV0dXJuIHImJmkuYXR0cmlidXRlcy5taWQ9PT1ufSl9ZmluZEF2YWlsYWJsZVJlY3ZNZWRpYUluZGV4KHQpe3JldHVybiB0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmRJbmRleChlPT57bGV0IG49ZS5tZWRpYS5tZWRpYVR5cGU9PT10JiZlLm1lZGlhLnBvcnQhPT1cIjBcIiYmKGUuYXR0cmlidXRlcy5kaXJlY3Rpb249PT1cInJlY3Zvbmx5XCJ8fGUuYXR0cmlidXRlcy5kaXJlY3Rpb249PT1cInNlbmRyZWN2XCIpO3JldHVybiBlLmF0dHJpYnV0ZXMubWlkIT09XCIwXCImJmUuYXR0cmlidXRlcy5taWQhPT1cIjFcIiYmbn0pfXByZWRpY3RSZWNlaXZpbmdNaWRzKHQpe2xldCBlPVtdO2ZvcihsZXQgbj0wO248dDtuKyspZS5wdXNoKCh0aGlzLmN1cnJlbnRNaWRJbmRleCtuKzEpLnRvU3RyaW5nKDEwKSk7cmV0dXJuIGV9cmVzdGFydElDRSh0KXt0PWxlKHQpLHRoaXMuX2ljZVBhcmFtZXRlcnM9dCx0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZvckVhY2goZT0+e2UuYXR0cmlidXRlcy5pY2VVZnJhZz10LmljZVVmcmFnLGUuYXR0cmlidXRlcy5pY2VQd2Q9dC5pY2VQd2Q7fSk7fWNyZWF0ZU9yUmVjeWNsZVNlbmRNZWRpYSh0LGUsbixpLHIsbyl7bGV0IHM9dGhpcy5ydHBDYXBhYmlsaXRpZXMuc2VuZCxhPXQ9PT1RLlZJREVPP3MudmlkZW9Db2RlY3M6cy5hdWRpb0NvZGVjcyxjPXQ9PT1RLlZJREVPP3MudmlkZW9FeHRlbnNpb25zOnMuYXVkaW9FeHRlbnNpb25zOyR0KCkmJihyPVwiXCIuY29uY2F0KCsrdGhpcy5jdXJyZW50TWlkSW5kZXgpKTtsZXQgZD17bWVkaWE6e21lZGlhVHlwZTp0LHBvcnQ6XCI5XCIscHJvdG9zOltcIlVEUFwiLFwiVExTXCIsXCJSVFBcIixcIlNBVlBGXCJdLGZtdHM6YS5tYXAodT0+dS5wYXlsb2FkVHlwZS50b1N0cmluZygxMCkpfSxjb25uZWN0aW9uczpbe25ldHR5cGU6XCJJTlwiLGFkZHJ0eXBlOlwiSVA0XCIsYWRkcmVzczpcIjEyNy4wLjAuMVwifV0sYmFuZHdpZHRoczpbXSxhdHRyaWJ1dGVzOntpY2VVZnJhZzp0aGlzLmljZVBhcmFtZXRlcnMuaWNlVWZyYWcsaWNlUHdkOnRoaXMuaWNlUGFyYW1ldGVycy5pY2VQd2QsdW5yZWNvZ25pemVkOltdLGNhbmRpZGF0ZXM6W10sZXh0bWFwczpjLGZpbmdlcnByaW50czp0aGlzLmR0bHNQYXJhbWV0ZXJzLmZpbmdlcnByaW50cyxpbWFnZWF0dHI6W10sbXNpZHM6W10scmVtb3RlQ2FuZGlkYXRlc0xpc3Q6W10scmlkczpbXSxzc3JjczplLHNzcmNHcm91cHM6bixydGNwRmVlZGJhY2tXaWxkY2FyZHM6W10scGF5bG9hZHM6YSxydGNwOntwb3J0OlwiOVwiLG5ldFR5cGU6XCJJTlwiLGFkZHJlc3NUeXBlOlwiSVA0XCIsYWRkcmVzczpcIjAuMC4wLjBcIn0sc2V0dXA6dGhpcy5zZXR1cCxkaXJlY3Rpb246aSxydGNwTXV4OiEwLHJ0Y3BSc2l6ZTohMCxtaWQ6cn19O2Q9dGhpcy5tdW5nU2VuZE1lZGlhRGVzYyhkLG8pO2xldCBsPXRoaXMuZmluZEZpcnN0Q2xvc2VkTWVkaWEodCk7aWYobCl7bGV0IHU9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5pbmRleE9mKGwpO3RoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbdV09ZDt9ZWxzZSB0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLnB1c2goZCk7cmV0dXJuIGR9bXVuZ1JlY3ZNZWRpYURzZWModCxlLG4pe2xldCBpPWxlKHQpO3JldHVybiBJZihpKSxyYShpLGUpLHZmKGksZSkscjAoaSksbHUoaSxuLHRoaXMubG9jYWxDYXBhYmlsaXRpZXMuc2VuZCksaX1tdW5nU2VuZE1lZGlhRGVzYyh0LGUpe2xldCBuPWxlKHQpO3JldHVybiBsdShuLGUsdGhpcy5sb2NhbENhcGFiaWxpdGllcy5yZWN2KSxvYShuKSxufXVwZGF0ZVJlY3ZNZWRpYSh0LGUpe2xldCBuPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmluZEluZGV4KGk9PmkuYXR0cmlidXRlcy5taWQ9PT10KTtpZihuIT09LTEpe2xldCBpPXRoaXMubXVuZ1JlY3ZNZWRpYURzZWModGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9uc1tuXSxlKTt0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zW25dPWk7fX11cGRhdGVCdW5kbGVNaWRzKCl7dGhpcy5zZXNzaW9uRGVzYy5hdHRyaWJ1dGVzLmdyb3Vwc1swXS5pZGVudGlmaWNhdGlvblRhZz10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbHRlcih0PT50Lm1lZGlhLnBvcnQhPT1cIjBcIikubWFwKHQ9PnQuYXR0cmlidXRlcy5taWQpO31maW5kUHJlbG9hZE1lZGlhRGVzYyh0KXtyZXR1cm4gdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kKGU9Pnt2YXIgbjtyZXR1cm4gKChuPWUuYXR0cmlidXRlcyk9PT1udWxsfHxuPT09dm9pZCAwfHwobj1uLnNzcmNzWzBdKT09PW51bGx8fG49PT12b2lkIDA/dm9pZCAwOm4uc3NyY0lkKT09PXRbMF0uc3NyY0lkfSl9ZmluZEZpcnN0Q2xvc2VkTWVkaWEodCl7cmV0dXJuIHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmluZChlPT4kdCgpP2UubWVkaWEucG9ydD09PVwiMFwiJiZlLm1lZGlhLm1lZGlhVHlwZT09PXQ6ZS5tZWRpYS5wb3J0PT09XCIwXCIpfX0sbFc9W1wic2RwXCJdLFZ0O2Z1bmN0aW9uIEV2KHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYoaT1pLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpLmVudW1lcmFibGV9KSksbi5wdXNoLmFwcGx5KG4saSk7fXJldHVybiBufWZ1bmN0aW9uIEdyKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXSE9bnVsbD9hcmd1bWVudHNbZV06e307ZSUyP0V2KE9iamVjdChuKSwhMCkuZm9yRWFjaChmdW5jdGlvbihpKXtUKHQsaSxuW2ldKTt9KTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpFdihPYmplY3QobikpLmZvckVhY2goZnVuY3Rpb24oaSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsaSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4saSkpO30pO31yZXR1cm4gdH12YXIgbXY9KFZ0PWNsYXNzIGJzIGV4dGVuZHMgS2x7Z2V0IGN1cnJlbnRMb2NhbERlc2NyaXB0aW9uKCl7cmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb24uY3VycmVudExvY2FsRGVzY3JpcHRpb259Z2V0IGN1cnJlbnRSZW1vdGVEZXNjcmlwdGlvbigpe3JldHVybiB0aGlzLnBlZXJDb25uZWN0aW9uLmN1cnJlbnRSZW1vdGVEZXNjcmlwdGlvbn1nZXQgcGVlckNvbm5lY3Rpb25TdGF0ZSgpe3JldHVybiB0aGlzLnBlZXJDb25uZWN0aW9uLmNvbm5lY3Rpb25TdGF0ZX1nZXQgaWNlQ29ubmVjdGlvblN0YXRlKCl7cmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb24uaWNlQ29ubmVjdGlvblN0YXRlfWdldCBkdGxzVHJhbnNwb3J0U3RhdGUoKXt2YXIgZSxuO3JldHVybiAoZT0obj10aGlzLnBlZXJDb25uZWN0aW9uLmdldFJlY2VpdmVycygpWzBdKT09PW51bGx8fG49PT12b2lkIDB8fChuPW4udHJhbnNwb3J0KT09PW51bGx8fG49PT12b2lkIDA/dm9pZCAwOm4uc3RhdGUpIT09bnVsbCYmZSE9PXZvaWQgMD9lOm51bGx9Z2V0IGxvY2FsQ29kZWNzKCl7cmV0dXJuIFtdfXNldCBpc0luUmVzdGFydEljZShlKXt0aGlzLl9pc0luUmVzdGFydEljZT1lO31nZXQgaXNJblJlc3RhcnRJY2UoKXtyZXR1cm4gdGhpcy5faXNJblJlc3RhcnRJY2V9Y29uc3RydWN0b3IoZSxuLGkpe3N1cGVyKGUsbiksVCh0aGlzLFwiZGlyZWN0aW9uXCIsdm9pZCAwKSxUKHRoaXMsXCJuYW1lXCIsdm9pZCAwKSxUKHRoaXMsXCJzdG9yZVwiLHZvaWQgMCksVCh0aGlzLFwic3BlY1wiLHZvaWQgMCksVCh0aGlzLFwicGVlckNvbm5lY3Rpb25cIix2b2lkIDApLFQodGhpcyxcImluaXRpYWxPZmZlclwiLHZvaWQgMCksVCh0aGlzLFwidHJhbnNwb3J0XCIsdm9pZCAwKSxUKHRoaXMsXCJzdGF0c0ZpbHRlclwiLHZvaWQgMCksVCh0aGlzLFwibG9jYWxDYW5kaWRhdGVDb3VudFwiLDApLFQodGhpcyxcIl9pc0luUmVzdGFydEljZVwiLCExKSxUKHRoaXMsXCJtdXRleFwiLG5ldyB6ZShcIlAyUENvbm5lY3Rpb24tbXV0ZXhcIikpLFQodGhpcyxcIm9uTG9jYWxDYW5kaWRhdGVcIix2b2lkIDApLFQodGhpcyxcInJlbW90ZVNEUFwiLHZvaWQgMCksVCh0aGlzLFwicGVuZGluZ0NhbmRpZGF0ZXNcIixbXSksVCh0aGlzLFwibG9jYWxDYXBhYmlsaXRpZXNcIix2b2lkIDApLFQodGhpcyxcImlzUmVhZHlcIiwhMSksVCh0aGlzLFwicmVzdGFydENudFwiLDApLFQodGhpcyxcImN1clR1cm5TZXJ2ZXJJbmRleFwiLDApLHRoaXMuc3RvcmU9bix0aGlzLnNwZWM9ZSx0aGlzLnBlZXJDb25uZWN0aW9uPW5ldyBSVENQZWVyQ29ubmVjdGlvbihicy5yZXNvbHZlUENDb25maWd1cmF0aW9uKGUsbi5wMnBUcmFuc3BvcnQpLHtvcHRpb25hbDpbe2dvb2dEc2NwOiEwfV19KSx0aGlzLmRpcmVjdGlvbj1pPz9jbi5TRU5EX09OTFksdGhpcy5uYW1lPXRoaXMuZGlyZWN0aW9uPT09Y24uU0VORF9PTkxZP1wic2VuZFAyUENvbm5lY3Rpb25cIjpcInJlY3ZQMlBDb25uZWN0aW9uXCIsdGhpcy5zdGF0c0ZpbHRlcj1OZih0aGlzLnBlZXJDb25uZWN0aW9uLHYoXCJTVEFUU19VUERBVEVfSU5URVJWQUxcIiksdm9pZCAwLCR0KCk/MTIwMDp2b2lkIDApLHRoaXMuYmluZFBDRXZlbnRzKCksdGhpcy5iaW5kU3RhdHNFdmVudHMoKSx0aGlzLnN0b3JlLnAycElkPXRoaXMuc3RvcmUucDJwSWQrMTt9YXN5bmMgZXN0YWJsaXNoKGUpe3RyeXtsZXQgbj1hd2FpdCBzMCgpO2lmKHRoaXMubG9jYWxDYXBhYmlsaXRpZXM9dXUobiksZSl7bGV0e3NkcDppfT1lLHI9Y1coZSxsVyksbz1mdW5jdGlvbigpe2xldCBsPXthdWRpb0NvZGVjczpbXSx2aWRlb0NvZGVjczpbXSxhdWRpb0V4dGVuc2lvbnM6W10sdmlkZW9FeHRlbnNpb25zOltdfSx1PUxjKGFyZ3VtZW50cy5sZW5ndGg+Mj9hcmd1bWVudHNbMl06dm9pZCAwLGFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dm9pZCAwP2FyZ3VtZW50c1swXTp7fSxhcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06e30sXCJzZW5kb25seVwiKSxoPXthdWRpb0NvZGVjczpbXSxhdWRpb0V4dGVuc2lvbnM6W10sdmlkZW9Db2RlY3M6W10sdmlkZW9FeHRlbnNpb25zOltdfSxwPXthdWRpb0NvZGVjczpbXSxhdWRpb0V4dGVuc2lvbnM6W10sdmlkZW9Db2RlY3M6W10sdmlkZW9FeHRlbnNpb25zOltdfSxnPXthdWRpb0NvZGVjczpbXSxhdWRpb0V4dGVuc2lvbnM6W10sdmlkZW9Db2RlY3M6W10sdmlkZW9FeHRlbnNpb25zOltdfTtpZihJaSh1LGwsXCJ2aWRlb0V4dGVuc2lvbnNcIixoLHAsZyksSWkodSxsLFwidmlkZW9Db2RlY3NcIixoLHAsZyksSWkodSxsLFwiYXVkaW9FeHRlbnNpb25zXCIsaCxwLGcpLElpKHUsbCxcImF1ZGlvQ29kZWNzXCIsaCxwLGcpLHYoXCJSQUlTRV9IMjY0X0JBU0VMSU5FX1BSSU9SSVRZXCIpKXtsZXQgRT1nLnZpZGVvQ29kZWNzLmZpbmRJbmRleChmPT5mLnJ0cE1hcCYmZi5ydHBNYXAuZW5jb2RpbmdOYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCk9PT1cImgyNjRcIiYmZi5mbXRwJiZmLmZtdHAucGFyYW1ldGVyc1tcInByb2ZpbGUtbGV2ZWwtaWRcIl09PT1cIjQyMDAxZlwiKTtpZihFIT09LTEpe2xldCBmPWcudmlkZW9Db2RlY3MuZmluZEluZGV4KFM9PlMucnRwTWFwJiZTLnJ0cE1hcC5lbmNvZGluZ05hbWUudG9Mb2NhbGVMb3dlckNhc2UoKT09PVwiaDI2NFwiKTtpZihmPEUpe18uZGVidWcoXCJyYWlzaW5nIEgyNjQgYmFzZWxpbmUgcHJvZmlsZSBwcmlvcml0eVwiKTtsZXQgUz1nLnZpZGVvQ29kZWNzW0VdO2cudmlkZW9Db2RlY3Muc3BsaWNlKEUsMSksZy52aWRlb0NvZGVjcy5zcGxpY2UoZiwwLFMpO31mIT09LTEmJnYoXCJGSUxURVJfU0VORF9IMjY0X0JBU0VMSU5FXCIpJiYoaC52aWRlb0NvZGVjcz1oLnZpZGVvQ29kZWNzLmZpbHRlcihTPT4hKFMucnRwTWFwJiZTLnJ0cE1hcC5lbmNvZGluZ05hbWUudG9Mb2NhbGVMb3dlckNhc2UoKT09PVwiaDI2NFwiJiZTLmZtdHAmJlMuZm10cC5wYXJhbWV0ZXJzW1wicHJvZmlsZS1sZXZlbC1pZFwiXSE9PVwiNDIwMDFmXCIpKSk7fX1yZXR1cm4ge3NlbmQ6aCxyZWN2OnAsc2VuZHJlY3Y6Z319KHt9LHt9LGkpO3RoaXMucmVtb3RlU0RQPW5ldyBfdih7cmVtb3RlSWNlUGFyYW1ldGVyczpyLmljZVBhcmFtZXRlcnMscmVtb3RlRHRsc1BhcmFtZXRlcnM6ci5kdGxzUGFyYW1ldGVycyxjYW5kaWRhdGVzOltdLHJlbW90ZVJUUENhcGFiaWxpdGllczpvLGxvY2FsQ2FwYWJpbGl0aWVzOnRoaXMubG9jYWxDYXBhYmlsaXRpZXMsZGlyZWN0aW9uOnRoaXMuZGlyZWN0aW9uLHNldHVwOlwiYWN0cGFzc1wiLHZpZGVvQ29kZWM6dGhpcy5zdG9yZS5jb2RlYyxhdWRpb0NvZGVjOnRoaXMuc3RvcmUuYXVkaW9Db2RlY30pLGF3YWl0IHRoaXMuc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDp0aGlzLnJlbW90ZVNEUC50b1N0cmluZygpfSksdGhpcy5pc1JlYWR5PSEwO2xldCBzPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCk7aWYoIXMuc2RwKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgYW5zd2VyIHNkcCB3aGVuIHRyeWluZyB0byBlc3RhYmxpc2ggUGVlckNvbm5lY3Rpb24uXCIpO2xldCBhPWlvKHMuc2RwKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24ocyk7bGV0IGM9YXdhaXQgekkoe30se30scy5zZHApO3RoaXMubG9jYWxDYXBhYmlsaXRpZXM9dXUoYyk7bGV0IGQ9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKVswXTtyZXR1cm4gZCE9bnVsbCYmZC5yZWNlaXZlciYmZC5yZWNlaXZlci50cmFuc3BvcnQmJnRoaXMudHJ5QmluZFRyYW5zcG9ydEV2ZW50cyhkLnJlY2VpdmVyLnRyYW5zcG9ydCksR3IoR3Ioe30sYSkse30se3NkcDpzLnNkcH0pfXt0aGlzLnBlZXJDb25uZWN0aW9uLmFkZFRyYW5zY2VpdmVyKFwidmlkZW9cIix7ZGlyZWN0aW9uOlwic2VuZG9ubHlcIn0pLHRoaXMucGVlckNvbm5lY3Rpb24uYWRkVHJhbnNjZWl2ZXIoXCJhdWRpb1wiLHtkaXJlY3Rpb246XCJzZW5kb25seVwifSk7bGV0IGk9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpO2lmKCFpLnNkcCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IGluaXRpYWxPZmZlci5zZHAgd2hlbiB0cnlpbmcgdG8gZXN0YWJsaXNoIFBlZXJDb25uZWN0aW9uLlwiKTtsZXQgcj1pbyhpLnNkcCk7cmV0dXJuIHRoaXMuaW5pdGlhbE9mZmVyPWksR3IoR3Ioe30scikse30se3NkcDppLnNkcH0pfX1jYXRjaChuKXt0aHJvdyBuZXcgTihSLkdFVF9MT0NBTF9DT05ORUNUSU9OX1BBUkFNU19GQUlMRUQsbi50b1N0cmluZygpKX19YXN5bmMgY29ubmVjdChlKXt0cnl7aWYoIXRoaXMuaW5pdGlhbE9mZmVyKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBlc3RhYmxpc2ggUDJQQ29ubmVjdGlvbiB3aXRob3V0IGluaXRpYWwgb2ZmZXIuXCIpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbih0aGlzLmluaXRpYWxPZmZlcik7bGV0e3NkcDpuLGljZVBhcmFtZXRlcnM6aSxkdGxzUGFyYW1ldGVyczpyfT1lLG89YXdhaXQgekkoe30se30sbik7dGhpcy5yZW1vdGVTRFA9bmV3IF92KHtyZW1vdGVJY2VQYXJhbWV0ZXJzOmkscmVtb3RlRHRsc1BhcmFtZXRlcnM6cixjYW5kaWRhdGVzOltdLHJlbW90ZVJUUENhcGFiaWxpdGllczpvLGxvY2FsQ2FwYWJpbGl0aWVzOnRoaXMubG9jYWxDYXBhYmlsaXRpZXMsZGlyZWN0aW9uOnRoaXMuZGlyZWN0aW9uLHNldHVwOlwiYWN0aXZlXCIsdmlkZW9Db2RlYzp0aGlzLnN0b3JlLmNvZGVjLGF1ZGlvQ29kZWM6dGhpcy5zdG9yZS5hdWRpb0NvZGVjfSksYXdhaXQgdGhpcy5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDp0aGlzLnJlbW90ZVNEUC50b1N0cmluZygpfSk7bGV0IHM9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKVswXTtzIT1udWxsJiZzLnNlbmRlciYmcy5zZW5kZXIudHJhbnNwb3J0JiZ0aGlzLnRyeUJpbmRUcmFuc3BvcnRFdmVudHMocy5zZW5kZXIudHJhbnNwb3J0KTt9Y2F0Y2gobil7dGhyb3cgbmV3IE4oUi5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5jb25uZWN0IGZhaWxlZDsgXCIuY29uY2F0KG4udG9TdHJpbmcoKSkpfX1hc3luYyBhZGRSZW1vdGVDYW5kaWRhdGUoZSl7dHJ5e2UmJnRoaXMucGVuZGluZ0NhbmRpZGF0ZXMucHVzaChlKSx0aGlzLnBlZXJDb25uZWN0aW9uLnJlbW90ZURlc2NyaXB0aW9uJiZ0aGlzLmlzUmVhZHkmJih0aGlzLnBlbmRpbmdDYW5kaWRhdGVzLmZvckVhY2gobj0+e3RoaXMucGVlckNvbm5lY3Rpb24uYWRkSWNlQ2FuZGlkYXRlKG4pO30pLHRoaXMucGVuZGluZ0NhbmRpZGF0ZXM9W10pO31jYXRjaChuKXt0aHJvdyBuZXcgTihSLkFERF9DQU5ESURBVEVfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5hZGRSZW1vdGVDYW5kaWRhdGUgZmFpbGVkOyBcIi5jb25jYXQobi50b1N0cmluZygpKSl9fXNlbmQoZSxuLGkpe3ZhciByPXRoaXM7cmV0dXJuIEJpKGZ1bmN0aW9uKigpe2xldCBvPXlpZWxkIFR0KHIubXV0ZXgubG9jayhcIkZyb20gUDJQQ29ubmVjdGlvbi5zZW5kXCIpKTt0cnl7aWYoIXIucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24uc2VuZCBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkXCIpO2xldCBzPVtdLGE9ci5yZW1vdGVTRFAucmVjZWl2ZShlLG4saSk7ZS5mb3JFYWNoKChmLFMpPT57aWYoYVtTXS5uZWVkQ3JlYXRlVHJhbnNjZWl2ZXIpe2xldCBDPXIucGVlckNvbm5lY3Rpb24uYWRkVHJhbnNjZWl2ZXIoZi5fbWVkaWFTdHJlYW1UcmFjayx7ZGlyZWN0aW9uOlwic2VuZG9ubHlcIn0pO3MucHVzaChDKSxmLl91cGRhdGVSdHBUcmFuc2NlaXZlcihDKTt9ZWxzZSB7bGV0IEM9ci5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maW5kKEE9PkEubWlkPT09YVtTXS5taWQpO2lmKCFDKXRocm93IG5ldyBFcnJvcihcImNhbm5vdCBmaW5kIHRyYW5zY2VpdmVyIHdoZW4gc2VuZFBlZXJjb25uZWN0aW9uIHNlbmQsIG1pZCBpcyBcIi5jb25jYXQoYVtTXS5taWQpKTtzLnB1c2goQyksZi5fdXBkYXRlUnRwVHJhbnNjZWl2ZXIoQyk7fX0pLCR0KCkmJnYoXCJTSU1VTENBU1RcIik9PT0hMCYmKHlpZWxkIFR0KHIuYXBwbHlTaW11bGNhc3RGb3JGaXJlZm94KHMsZSkpKTtsZXQgYz1hLm1hcChmPT5mLm1pZCksZD15aWVsZCBUdChyLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCkpLGw9ci5tdW5nU2VuZE9mZmVyU0RQKGQuc2RwLGUsYyksdT1MZS5wYXJzZShsKSxoPWMubWFwKGY9PntsZXQgUz11Lm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoQz0+Qy5hdHRyaWJ1dGVzLm1pZD09PWYpO2lmKCFTKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBleHRyYWN0IHNzcmMgZnJvbSBtZWRpYURlc2NyaXB0aW9uLlwiKTtyZXR1cm4gbjAoUyx2KFwiVVNFX1BVQl9SVFhcIikpfSkscD1zLm1hcCgoZixTKT0+e2xldCBDPWNbU107cmV0dXJuIHtsb2NhbFNTUkM6aFtTXSxpZDpDfX0pO3lpZWxkIFR0KHIucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOmx9KSk7dHJ5e3lpZWxkIHA7fWNhdGNoKGYpe2xldCBTPXIucmVtb3RlU0RQLnRvU3RyaW5nKCk7dGhyb3cgeWllbGQgVHQoci5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6bH0pKSx5aWVsZCBUdChyLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOlN9KSkseWllbGQgVHQoci5zdG9wU2VuZGluZyhjLCEwKSksZn15aWVsZCBUdChyLmFwcGx5U2ltdWxjYXN0RW5jb2RpbmdzKHMsZSkpLHlpZWxkIFR0KHIuYXBwbHlTZW5kRW5jb2RpbmdzKHMsZSkpO2xldCBnPXIucmVtb3RlU0RQLnRvU3RyaW5nKCksRT1yLmxvZ1NEUEV4Y2hhbmdlKGwsXCJvZmZlclwiLFwibG9jYWxcIixcInNlbmRcIik7cmV0dXJuIEU/LihnKSx5aWVsZCBUdChyLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOmd9KSkscy5tYXAoKGYsUyk9PntsZXQgQz1jW1NdO3JldHVybiB7bG9jYWxTU1JDOmhbU10saWQ6Q319KX1jYXRjaChzKXt0aHJvdyBzIGluc3RhbmNlb2YgTj9zOm5ldyBOKFIuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24uc2VuZCBmYWlsZWQ7IFwiLmNvbmNhdChzLnRvU3RyaW5nKCkpKX1maW5hbGx5e28oKTt9fSkoKX1hc3luYyBzdG9wU2VuZGluZyhlLG4pe2xldCBpPW4/dm9pZCAwOmF3YWl0IHRoaXMubXV0ZXgubG9jayhcIkZyb20gUDJQQ29ubmVjdGlvbi5zdG9wU2VuZGluZ1wiKTt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24uc3RvcFNlbmRpbmcgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZFwiKTtsZXQgcj10aGlzLnBlZXJDb25uZWN0aW9uLmdldFRyYW5zY2VpdmVycygpLmZpbHRlcihjPT5lLmluZGV4T2YoYy5taWQpIT09LTEpO2lmKHIubGVuZ3RoIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNjZWl2ZXJzJyBsZW5ndGggKFwiLmNvbmNhdChyLmxlbmd0aCxcIikgZG9lc24ndCBtYXRjaCBtaWRzJyBsZW5ndGggKFwiKS5jb25jYXQoZS5sZW5ndGgsXCIpIHdoZW4gdHJ5aW5nIHRvIGNhbGwgUDJQQ29ubmVjdGlvbi5zdG9wU2VuZGluZy5cIikpO3IubWFwKGM9Pnt2YXIgZDtjLmRpcmVjdGlvbj1cImluYWN0aXZlXCIsKGQ9Yy5zdG9wKT09PW51bGx8fGQ9PT12b2lkIDB8fGQuY2FsbChjKTt9KTtsZXQgbz1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCkscz10aGlzLmxvZ1NEUEV4Y2hhbmdlKG8uc2RwfHxcIlwiLFwib2ZmZXJcIixcImxvY2FsXCIsXCJzdG9wU2VuZGluZ1wiKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24obyksdGhpcy5yZW1vdGVTRFAuc3RvcFJlY2VpdmluZyhlKTtsZXQgYT10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpO3M/LihhKSxhd2FpdCB0aGlzLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOmF9KTt9Y2F0Y2gocil7dGhyb3cgbmV3IE4oUi5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5zdG9wU2VuZGluZyBmYWlsZWQ7IFwiLmNvbmNhdChyLnRvU3RyaW5nKCkpKX1maW5hbGx5e2kmJmkoKTt9fWFzeW5jIHJlY2VpdmUoZSxuLGkscil7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnJlY2VpdmUgXCIuY29uY2F0KGUsXCIgYmVmb3JlIHJlbW90ZVNEUCBjcmVhdGVkLlwiKSk7bGV0e21pZDpvLG5lZWRFeGNoYW5nZVNEUDpzfT10aGlzLnJlbW90ZVNEUC5zZW5kKGUsbixpLHIpO2lmKHMpe2xldCBjPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCksZD10aGlzLmxvZ1NEUEV4Y2hhbmdlKGMsXCJvZmZlclwiLFwicmVtb3RlXCIsXCJyZWNlaXZlXCIpO2F3YWl0IHRoaXMuc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDpjfSk7bGV0IGw9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKSx1PXRoaXMubXVuZ1JlY2VpdmVBbnN3ZXJTRFAobC5zZHAsbyxlKTtkPy4odXx8XCJcIiksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOnV9KSxfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbUDJQQ29ubmVjdGlvbl0gcmVjZWl2ZSBcIikuY29uY2F0KGUsXCIgYnkgZXhjaGFuZ2luZyBTRFAuXCIpKTt9ZWxzZSBfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbUDJQQ29ubmVjdGlvbl0gcmVjZWl2ZSBcIikuY29uY2F0KGUsXCIgbm8gbmVlZCB0byBleGNoYW5nZSBTRFAuXCIpKTtsZXQgYT10aGlzLnBlZXJDb25uZWN0aW9uLmdldFRyYW5zY2VpdmVycygpLmZpbmQoYz0+Yy5taWQ9PT1vKTtpZighYXx8YS5taWQ9PT1udWxsKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgdHJhbnNjZWl2ZXIgYWZ0ZXIgc2V0TG9jYWxEZXNjcmlwdGlvbi5cIik7cmV0dXJuIHt0cmFjazphLnJlY2VpdmVyLnRyYWNrLG1pZDphLm1pZCx0cmFuc2NlaXZlcjphfX1jYXRjaChvKXt0aHJvdyBuZXcgTihSLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLnJlY2VpdmUgZmFpbGVkOyBcIi5jb25jYXQoby50b1N0cmluZygpKSl9fWFzeW5jIG1vY2tSZWNlaXZlKGUsbixpLHIpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi5yZWNlaXZlIFwiLmNvbmNhdChlLFwiIGJlZm9yZSByZW1vdGVTRFAgY3JlYXRlZC5cIikpO2xldHttaWQ6byxuZWVkRXhjaGFuZ2VTRFA6c309dGhpcy5yZW1vdGVTRFAuc2VuZChlLG4saSxyKTtpZihzKXtsZXQgYT10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpLGM9dGhpcy5sb2dTRFBFeGNoYW5nZShhLFwib2ZmZXJcIixcInJlbW90ZVwiLFwicmVjZWl2ZVwiKTthd2FpdCB0aGlzLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6YX0pO2xldCBkPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCksbD10aGlzLm11bmdSZWNlaXZlQW5zd2VyU0RQKGQuc2RwLG8sZSk7Yz8uKGx8fFwiXCIpLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpsfSksXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1AyUENvbm5lY3Rpb25dIHJlY2VpdmUgXCIpLmNvbmNhdChlLFwiIGJ5IGV4Y2hhbmdpbmcgU0RQLlwiKSk7fWVsc2UgXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1AyUENvbm5lY3Rpb25dIHJlY2VpdmUgXCIpLmNvbmNhdChlLFwiIG5vIG5lZWQgdG8gZXhjaGFuZ2UgU0RQLlwiKSk7fWNhdGNoKG8pe3Rocm93IG5ldyBOKFIuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24ucmVjZWl2ZSBmYWlsZWQ7IFwiLmNvbmNhdChvLnRvU3RyaW5nKCkpKX19YXN5bmMgc3RvcFJlY2VpdmluZyhlKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24uc3RvcFJlY2VpdmluZyBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkLlwiKTt0aGlzLnJlbW90ZVNEUC5zdG9wU2VuZGluZyhlKTtsZXQgbj10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpLGk9dGhpcy5sb2dTRFBFeGNoYW5nZShuLFwib2ZmZXJcIixcInJlbW90ZVwiLFwic3RvcFJlY2VpdmluZ1wiKTthd2FpdCB0aGlzLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6bn0pO2xldCByPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCk7aT8uKHIuc2RwfHxcIlwiKSxhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24ocik7fWNhdGNoKG4pe3Rocm93IG5ldyBOKFIuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24gc3RvcFJlY2VpdmluZyBmYWlsZWQ7IFwiLmNvbmNhdChuLnRvU3RyaW5nKCkpKX19YXN5bmMgcmVzdGFydElDRShlKXt0cnl7aWYodGhpcy5zdG9yZS5wMnBUcmFuc3BvcnQ9PT1Pby5BdXRvJiYodGhpcy5zdG9yZS5wMnBUcmFuc3BvcnQ9T28uU2RSdG4sZnQoKS5zdXBwb3J0UENTZXRDb25maWd1cmF0aW9uJiZ0aGlzLnBlZXJDb25uZWN0aW9uLnNldENvbmZpZ3VyYXRpb24oYnMucmVzb2x2ZVBDQ29uZmlndXJhdGlvbih0aGlzLnNwZWMsdGhpcy5zdG9yZS5wMnBUcmFuc3BvcnQpKSksdGhpcy5yZXN0YXJ0Q250PjMmJih0aGlzLnJlc3RhcnRDbnQ9MCxmdCgpLnN1cHBvcnRQQ1NldENvbmZpZ3VyYXRpb24mJnRoaXMucGVlckNvbm5lY3Rpb24uc2V0Q29uZmlndXJhdGlvbihicy5yZXNvbHZlUENDb25maWd1cmF0aW9uKHRoaXMuc3BlYyx0aGlzLnN0b3JlLnAycFRyYW5zcG9ydCwrK3RoaXMuY3VyVHVyblNlcnZlckluZGV4KSkpLCFlKXt0aGlzLnJlc3RhcnRDbnQrKyx0aGlzLmlzUmVhZHk9ITE7bGV0IG49YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcih7aWNlUmVzdGFydDohMH0pO2lmKCFuLnNkcCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcmVzdGFydElDRSBiZWNhdXNlIHJlc3RhcnQgb2ZmZXIgU0RQIGRvZXMgbm90IGV4aXN0LlwiKTtsZXR7aWNlUGFyYW1ldGVyczppfT1pbyhuLnNkcCk7cmV0dXJuIHRoaXMuc3RvcmUuZGVzY3JpcHRpb25TdGFydCgpLHRoaXMuZGlyZWN0aW9uPT09Y24uU0VORF9PTkxZJiZhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24obiksaX1pZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi5zdG9wUmVjZWl2aW5nIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQuXCIpO2lmKHRoaXMucmVtb3RlU0RQLnJlc3RhcnRJQ0UoZSksdGhpcy5zdG9yZS5kZXNjcmlwdGlvblN0YXJ0KCksdGhpcy5kaXJlY3Rpb249PT1jbi5SRUNFSVZFX09OTFkpe3RoaXMucmVzdGFydENudCsrLGF3YWl0IHRoaXMuc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDp0aGlzLnJlbW90ZVNEUC50b1N0cmluZygpfSk7bGV0IG49YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKTtpZighbi5zZHApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCBhbnN3ZXIgc2RwIHdoZW4gdHJ5aW5nIHRvIGljZVJlc3RhcnQuXCIpO2xldHtpY2VQYXJhbWV0ZXJzOml9PWlvKG4uc2RwKTtyZXR1cm4gYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKG4pLGl9YXdhaXQgdGhpcy5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDp0aGlzLnJlbW90ZVNEUC50b1N0cmluZygpfSksdGhpcy5pc1JlYWR5PSEwO31jYXRjaChuKXt0aHJvdyBuZXcgTihSLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uIHN0b3BSZWNlaXZpbmcgZmFpbGVkOyBcIi5jb25jYXQobi50b1N0cmluZygpKSl9fWNsb3NlKCl7dmFyIGU7dGhpcy5wZWVyQ29ubmVjdGlvbi5jbG9zZSgpLHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGU9bnVsbCwoZT10aGlzLm9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlKT09PW51bGx8fGU9PT12b2lkIDB8fGUuY2FsbCh0aGlzLFwiY2xvc2VkXCIpLHRoaXMudHJ5VW5iaW5kVHJhbnNwb3J0RXZlbnRzKCksdGhpcy51bmJpbmRQQ0V2ZW50cygpLHRoaXMudW5iaW5kU3RhdHNFdmVudHMoKSx0aGlzLnRyYW5zcG9ydD12b2lkIDAsdGhpcy5zdGF0c0ZpbHRlci5kZXN0cm95KCk7fWdldFN0YXRzKCl7cmV0dXJuIHRoaXMuc3RhdHNGaWx0ZXIuZ2V0U3RhdHMoKX1nZXRSZW1vdGVWaWRlb0lzUmVhZHkoZSl7cmV0dXJuIHRoaXMuc3RhdHNGaWx0ZXIuZ2V0VmlkZW9Jc1JlYWR5KGUpfWFzeW5jIHVwZGF0ZUVuY29kZXJDb25maWcoZSxuKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24udXBkYXRlRW5jb2RlckNvbmZpZyBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkLlwiKTtsZXQgaT1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCkscj10aGlzLm11bmdTZW5kT2ZmZXJTRFAoaS5zZHAsW25dLFtlXSk7dGhpcy5yZW1vdGVTRFAudXBkYXRlUmVjdk1lZGlhKGUsbik7bGV0IG89dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKSxzPXRoaXMubG9nU0RQRXhjaGFuZ2UocixcIm9mZmVyXCIsXCJsb2NhbFwiLFwidXBkYXRlRW5jb2RlckNvbmZpZ1wiKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDpyfSkscz8uKG8pLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6b30pO31jYXRjaChpKXt0aHJvdyBuZXcgTihSLkVYQ0hBTkdFX1NEUF9GQUlMRUQsaS50b1N0cmluZygpKX19YXN5bmMgdXBkYXRlU2VuZFBhcmFtZXRlcnMoZSxuKXtsZXQgaT10aGlzLnBlZXJDb25uZWN0aW9uLmdldFRyYW5zY2VpdmVycygpLmZpbHRlcihyPT5yLm1pZD09PWUpO2kubGVuZ3RoPT09MSYmKHRoaXMuaXNWUDhTaW11bGNhc3Qobik/JHQoKXx8YXdhaXQgdGhpcy5hcHBseVNpbXVsY2FzdEVuY29kaW5ncyhpLFtuXSk6YXdhaXQgdGhpcy5hcHBseVNlbmRFbmNvZGluZ3MoaSxbbl0pKTt9c2V0U3RhdHNSZW1vdGVWaWRlb0lzUmVhZHkoZSxuKXt0aGlzLnN0YXRzRmlsdGVyLnNldFZpZGVvSXNSZWFkeTIoZSxuKTt9YXN5bmMgcmVwbGFjZVRyYWNrKGUsbil7bGV0IGk9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maW5kKHI9PnIubWlkPT09bik7aSYmYXdhaXQgaS5zZW5kZXIucmVwbGFjZVRyYWNrKGUuX21lZGlhU3RyZWFtVHJhY2spO31hc3luYyBnZXRTZWxlY3RlZENhbmRpZGF0ZVBhaXIoKXtsZXQgZT10aGlzLnBlZXJDb25uZWN0aW9uLmdldFJlY2VpdmVycygpO2lmKGUubGVuZ3RoPjAmJmVbMF0udHJhbnNwb3J0JiZlWzBdLnRyYW5zcG9ydC5pY2VUcmFuc3BvcnQmJmVbMF0udHJhbnNwb3J0LmljZVRyYW5zcG9ydC5nZXRTZWxlY3RlZENhbmRpZGF0ZVBhaXImJmVbMF0udHJhbnNwb3J0LmljZVRyYW5zcG9ydC5nZXRTZWxlY3RlZENhbmRpZGF0ZVBhaXIoKSl7bGV0IG49ZVswXS50cmFuc3BvcnQuaWNlVHJhbnNwb3J0LHtsb2NhbDppLHJlbW90ZTpyfT1uLmdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpO3JldHVybiB7bG9jYWw6R3IoR3Ioe30saHIpLHt9LHtjYW5kaWRhdGVUeXBlOmkudHlwZSxwcm90b2NvbDppLnByb3RvY29sLGFkZHJlc3M6aS5hZGRyZXNzLHBvcnQ6aS5wb3J0fSkscmVtb3RlOkdyKEdyKHt9LGhyKSx7fSx7Y2FuZGlkYXRlVHlwZTpyLnR5cGUscHJvdG9jb2w6ci5wcm90b2NvbCxhZGRyZXNzOnIuYWRkcmVzcyxwb3J0OnIucG9ydH0pfX1yZXR1cm4gdGhpcy5zdGF0c0ZpbHRlci5nZXRTZWxlY3RlZENhbmRpZGF0ZVBhaXIoKX1iaW5kUENFdmVudHMoKXt0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlPSgpPT57dmFyIGUsbjtXKGU9W1wiY29ubmVjdGVkXCIsXCJjb21wbGV0ZWRcIl0pLmNhbGwoZSx0aGlzLnBlZXJDb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZSkmJih0aGlzLmlzUmVhZHk9ITEpLChuPXRoaXMub25JQ0VDb25uZWN0aW9uU3RhdGVDaGFuZ2UpPT09bnVsbHx8bj09PXZvaWQgMHx8bi5jYWxsKHRoaXMsdGhpcy5wZWVyQ29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGUpO30sdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZT0oKT0+e3ZhciBlO3RoaXMucGVlckNvbm5lY3Rpb24uY29ubmVjdGlvblN0YXRlPT09XCJjb25uZWN0ZWRcIiYmKHRoaXMucmVzdGFydENudD0wKSwoZT10aGlzLm9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlKT09PW51bGx8fGU9PT12b2lkIDB8fGUuY2FsbCh0aGlzLHRoaXMucGVlckNvbm5lY3Rpb24uY29ubmVjdGlvblN0YXRlKTt9LHRoaXMuc3RhcnRJQ0VDYW5kaWRhdGUoKTt9c3RhcnRJQ0VDYW5kaWRhdGUoKXt0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY2FuZGlkYXRlfHwodGhpcy5sb2NhbENhbmRpZGF0ZUNvdW50PTAsdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZT1lPT57aWYoZS5jYW5kaWRhdGUpe3ZhciBuO2UuY2FuZGlkYXRlLmNhbmRpZGF0ZSYmKChuPXRoaXMub25Mb2NhbENhbmRpZGF0ZSk9PT1udWxsfHxuPT09dm9pZCAwfHxuLmNhbGwodGhpcyxlLmNhbmRpZGF0ZS50b0pTT04oKSkpLHRoaXMubG9jYWxDYW5kaWRhdGVDb3VudCs9MTt9ZWxzZSBfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcGMtXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXSBsb2NhbCBjYW5kaWRhdGUgY291bnRcIiksdGhpcy5sb2NhbENhbmRpZGF0ZUNvdW50KTt9KTt9dW5iaW5kUENFdmVudHMoKXt0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlPW51bGwsdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub25zaWduYWxpbmdzdGF0ZWNoYW5nZT1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGVlcnJvcj1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGU9bnVsbCx0aGlzLnBlZXJDb25uZWN0aW9uLm9udHJhY2s9bnVsbDt9c3RhdGljIHJlc29sdmVQQ0NvbmZpZ3VyYXRpb24oZSxuKXtsZXQgaT1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXZvaWQgMD9hcmd1bWVudHNbMl06MCxyPXtpY2VTZXJ2ZXJzOltdfTt2YXIgbztyZXR1cm4gZS5pY2VTZXJ2ZXJzP3IuaWNlU2VydmVycz1lLmljZVNlcnZlcnM6ZS50dXJuU2VydmVyJiZlLnR1cm5TZXJ2ZXIubW9kZSE9PVwib2ZmXCImJihZdShlLnR1cm5TZXJ2ZXIuc2VydmVycyk/ci5pY2VTZXJ2ZXJzPWUudHVyblNlcnZlci5zZXJ2ZXJzOihyLmljZVNlcnZlcnMmJnIuaWNlU2VydmVycy5wdXNoKC4uLmJzLnR1cm5TZXJ2ZXJDb25maWdUb0ljZVNlcnZlcnMoZS50dXJuU2VydmVyLnNlcnZlcnMsbixpKSksdihcIlVTRV9UVVJOX1NFUlZFUl9PRl9HQVRFV0FZXCIpJiZyLmljZVNlcnZlcnMmJmUudHVyblNlcnZlci5zZXJ2ZXJzRnJvbUdhdGV3YXkmJnIuaWNlU2VydmVycy5wdXNoKC4uLmJzLnR1cm5TZXJ2ZXJDb25maWdUb0ljZVNlcnZlcnMoZS50dXJuU2VydmVyLnNlcnZlcnNGcm9tR2F0ZXdheSxuLGkpKSxXKG89W09vLlJlbGF5LE9vLlNkUnRuXSkuY2FsbChvLG4pJiYoci5pY2VUcmFuc3BvcnRQb2xpY3k9XCJyZWxheVwiKSx2KFwiRk9SQ0VfVFVSTl9UQ1BcIik/ci5pY2VUcmFuc3BvcnRQb2xpY3k9XCJyZWxheVwiOmUudHVyblNlcnZlci5zZXJ2ZXJzLmNvbmNhdChlLnR1cm5TZXJ2ZXIuc2VydmVyc0Zyb21HYXRld2F5fHxbXSkuZm9yRWFjaChzPT57cy5mb3JjZXR1cm4mJihyLmljZVRyYW5zcG9ydFBvbGljeT1cInJlbGF5XCIpO30pKSksdihcIkVOQUJMRV9FTkNPREVEX1RSQU5TRk9STVwiKSYmZnQoKS5zdXBwb3J0V2ViUlRDRW5jb2RlZFRyYW5zZm9ybSYmKHIuZW5jb2RlZEluc2VydGFibGVTdHJlYW1zPSEwKSxfLmRlYnVnKFwiUDJQQ29ubmVjdGlvbiBwMnBUcmFuc3BvcnQgaXMgXCIuY29uY2F0KG4pKSxyfXN0YXRpYyB0dXJuU2VydmVyQ29uZmlnVG9JY2VTZXJ2ZXJzKGUsbil7bGV0IGk9YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl0hPT12b2lkIDA/YXJndW1lbnRzWzJdOjAscj1bXSxvPWUuZmlsdGVyKGE9PmEudGNwcG9ydCk7Xy5kZWJ1ZyhcIlAyUENvbm5lY3Rpb24gdHVyblNlcnZlcnMgaXMgXCIuY29uY2F0KG8sXCIsIGN1cnJlbnQgaW5kZXggaXMgXCIpLmNvbmNhdChpKSk7bGV0IHM9by5sZW5ndGg+aT9vW2ldOm9bMF07c3dpdGNoKG4pe2Nhc2UgT28uU2RSdG46bGV0IGE9ZS5maWx0ZXIoZD0+e3ZhciBsO3JldHVybiBXKGw9ZC51c2VybmFtZSkuY2FsbChsLFwiZ2xiOlwiKSYmZC50dXJuU2VydmVyVVJMPT1kLnR1cm5TZXJ2ZXJVUkx9KSxjPWEubGVuZ3RoPmk/YVtpXTphWzBdO2MmJihyLnB1c2goe3VzZXJuYW1lOmMudXNlcm5hbWUsY3JlZGVudGlhbDpjLnBhc3N3b3JkLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwidHVybjpcIi5jb25jYXQoVXMoYy50dXJuU2VydmVyVVJMKSxcIjpcIikuY29uY2F0KGMudGNwcG9ydCxcIj90cmFuc3BvcnQ9dWRwXCIpfSksci5wdXNoKHt1c2VybmFtZTpjLnVzZXJuYW1lLGNyZWRlbnRpYWw6Yy5wYXNzd29yZCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInR1cm5zOlwiLmNvbmNhdChVcyhjLnR1cm5TZXJ2ZXJVUkwpLFwiOlwiKS5jb25jYXQoYy50Y3Bwb3J0LFwiP3RyYW5zcG9ydD10Y3BcIil9KSk7YnJlYWs7Y2FzZSBPby5SZWxheTpzJiYoci5wdXNoKHt1c2VybmFtZTpzLnVzZXJuYW1lLGNyZWRlbnRpYWw6cy5wYXNzd29yZCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInR1cm46XCIuY29uY2F0KHMudHVyblNlcnZlclVSTCxcIjpcIikuY29uY2F0KHMudGNwcG9ydCxcIj90cmFuc3BvcnQ9dWRwXCIpfSksci5wdXNoKHt1c2VybmFtZTpzLnVzZXJuYW1lLGNyZWRlbnRpYWw6cy5wYXNzd29yZCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInR1cm5zOlwiLmNvbmNhdChVcyhzLnR1cm5TZXJ2ZXJVUkwpLFwiOlwiKS5jb25jYXQocy50Y3Bwb3J0LFwiP3RyYW5zcG9ydD10Y3BcIil9KSk7YnJlYWs7ZGVmYXVsdDpzJiYoci5wdXNoKHt1c2VybmFtZTpzLnVzZXJuYW1lLGNyZWRlbnRpYWw6cy5wYXNzd29yZCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInR1cm46XCIuY29uY2F0KHMudHVyblNlcnZlclVSTCxcIjpcIikuY29uY2F0KHMudGNwcG9ydCxcIj90cmFuc3BvcnQ9dWRwXCIpfSksci5wdXNoKHt1c2VybmFtZTpzLnVzZXJuYW1lLGNyZWRlbnRpYWw6cy5wYXNzd29yZCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInR1cm5zOlwiLmNvbmNhdChVcyhzLnR1cm5TZXJ2ZXJVUkwpLFwiOlwiKS5jb25jYXQocy50Y3Bwb3J0LFwiP3RyYW5zcG9ydD10Y3BcIil9KSxyLnB1c2goe3VzZXJuYW1lOnMudXNlcm5hbWUsY3JlZGVudGlhbDpzLnBhc3N3b3JkLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwic3R1bjpcIi5jb25jYXQocy50dXJuU2VydmVyVVJMLFwiOlwiKS5jb25jYXQocy50Y3Bwb3J0KX0pKTt9cmV0dXJuIHJ9dHJ5QmluZFRyYW5zcG9ydEV2ZW50cyhlKXtpZihlKXt0aGlzLnRyYW5zcG9ydD1lLGUub25zdGF0ZWNoYW5nZT0oKT0+e3ZhciBpO2UhPW51bGwmJmUuc3RhdGUmJigoaT10aGlzLm9uRFRMU1RyYW5zcG9ydFN0YXRlQ2hhbmdlKT09PW51bGx8fGk9PT12b2lkIDB8fGkuY2FsbCh0aGlzLGUuc3RhdGUpKTt9LGUub25lcnJvcj1pPT57dmFyIHI7KHI9dGhpcy5vbkRUTFNUcmFuc3BvcnRFcnJvcik9PT1udWxsfHxyPT09dm9pZCAwfHxyLmNhbGwodGhpcyxcImVycm9yXCJpbiBpP2kuZXJyb3I6aSk7fTtsZXQgbj1lLmljZVRyYW5zcG9ydDtuJiYobi5vbnN0YXRlY2hhbmdlPSgpPT57bGV0IGk9ZT8uaWNlVHJhbnNwb3J0LnN0YXRlO3ZhciByO2kmJigocj10aGlzLm9uSUNFVHJhbnNwb3J0U3RhdGVDaGFuZ2UpPT09bnVsbHx8cj09PXZvaWQgMHx8ci5jYWxsKHRoaXMsaSkpO30sbi5nZXRTZWxlY3RlZENhbmRpZGF0ZVBhaXImJihuLm9uc2VsZWN0ZWRjYW5kaWRhdGVwYWlyY2hhbmdlPSgpPT57aWYobi5nZXRTZWxlY3RlZENhbmRpZGF0ZVBhaXIoKSl7bGV0e2xvY2FsOmkscmVtb3RlOnJ9PW4uZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyKCk7Xy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcGMtXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXSBzZWxlY3RlZGNhbmRpZGF0ZXBhaXJjaGFuZ2U6IGxvY2FsIFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoe2NhbmRpZGF0ZVR5cGU6aS50eXBlLHByb3RvY29sOmkucHJvdG9jb2x9KSxcIiwgcmVtb3RlIFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoe2NhbmRpZGF0ZVR5cGU6ci50eXBlLHByb3RvY29sOnIucHJvdG9jb2wsYWRkcmVzczpyLmFkZHJlc3MscG9ydDpyLnBvcnR9KSxcIiApXCIpKTt9fSkpO319dHJ5VW5iaW5kVHJhbnNwb3J0RXZlbnRzKCl7dGhpcy50cmFuc3BvcnQmJih0aGlzLnRyYW5zcG9ydC5vbnN0YXRlY2hhbmdlPW51bGwsdGhpcy50cmFuc3BvcnQub25lcnJvcj1udWxsLHRoaXMudHJhbnNwb3J0LmljZVRyYW5zcG9ydCYmKHRoaXMudHJhbnNwb3J0LmljZVRyYW5zcG9ydC5vbnN0YXRlY2hhbmdlPW51bGwpKTt9YXN5bmMgdXBkYXRlUnRwU2VuZGVyRW5jb2RpbmdzKGUsbil7dmFyIGk7aWYobnx8KG49dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKCkuZmluZChsPT5sLnRyYWNrPT09ZS5fbWVkaWFTdHJlYW1UcmFjaykpLCFuKXJldHVybiBfLndhcm4oXCJbXCIuY29uY2F0KGUuZ2V0VHJhY2tJZCgpLFwiXSBubyBydHBTZW5kZXIgZm91bmR9XCIpKTtpZih0aGlzLmlzVlA4U2ltdWxjYXN0KGUpKXJldHVybiBfLndhcm4oXCJbdXBkYXRlUnRwU2VuZGVyRW5jb2RpbmdzXSBUcmFjayBpcyBWUDggc2ltdWxjYXN0LCBwbGVhc2UgYXBwbHkgc2ltdWxjYXN0IGVuY29kaW5nc1wiKTtpZighZnQoKS5zdXBwb3J0U2V0UnRwU2VuZGVyUGFyYW1ldGVycylyZXR1cm4gXy53YXJuKFwiW3VwZGF0ZVJ0cFNlbmRlckVuY29kaW5nc10gQnJvd3NlciBub3Qgc3VwcG9ydCBzZXQgcnRwLXNlbmRlciBwYXJhbWV0ZXJzXCIpO2xldCByPXt9LG89e307c3dpdGNoKGUuX29wdGltaXphdGlvbk1vZGUpe2Nhc2VcIm1vdGlvblwiOnIuZGVncmFkYXRpb25QcmVmZXJlbmNlPVwibWFpbnRhaW4tZnJhbWVyYXRlXCI7YnJlYWs7Y2FzZVwiZGV0YWlsXCI6ci5kZWdyYWRhdGlvblByZWZlcmVuY2U9XCJtYWludGFpbi1yZXNvbHV0aW9uXCI7YnJlYWs7ZGVmYXVsdDpyLmRlZ3JhZGF0aW9uUHJlZmVyZW5jZT1cImJhbGFuY2VkXCI7fWlmKGUuX2VuY29kZXJDb25maWcpe3ZhciBzO2xldHtiaXRyYXRlTWF4OmwsZnJhbWVSYXRlOnUsc2NhbGVSZXNvbHV0aW9uRG93bkJ5Omh9PWUuX2VuY29kZXJDb25maWc7bCYmKG8ubWF4Qml0cmF0ZT0xZTMqbCksVyhzPWUuX2hpbnRzKS5jYWxsKHMsR3QuTE9XX1NUUkVBTSkmJih1JiYoby5tYXhGcmFtZXJhdGU9Tm4odSkpLGgmJmg+PTEmJihvLnNjYWxlUmVzb2x1dGlvbkRvd25CeT1oKSk7fWlmKHYoXCJEU0NQX1RZUEVcIikmJmhvKCkpe3ZhciBhO2xldCBsPXYoXCJEU0NQX1RZUEVcIik7VyhhPVtcInZlcnktbG93XCIsXCJsb3dcIixcIm1lZGl1bVwiLFwiaGlnaFwiXSkuY2FsbChhLGwpJiYoby5uZXR3b3JrUHJpb3JpdHk9bCk7fWxldCBjPW4uZ2V0UGFyYW1ldGVycygpLGQ9KGk9Yy5lbmNvZGluZ3MpPT09bnVsbHx8aT09PXZvaWQgMD92b2lkIDA6aVswXTskdCgpJiYhZCYmKHIuZW5jb2RpbmdzPVtvXSksZCYmT2JqZWN0LmFzc2lnbihkLG8pLE9iamVjdC5hc3NpZ24oYyxyKSxfLmRlYnVnKFwiW1wiLmNvbmNhdChlLmdldFRyYWNrSWQoKSxcIl0gdXBkYXRlUnRwU2VuZGVyRW5jb2RpbmdzOiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KGMuZW5jb2RpbmdzKSkpLGF3YWl0IG4uc2V0UGFyYW1ldGVycyhjKTt9YXN5bmMgYXBwbHlTZW5kRW5jb2RpbmdzKGUsbil7dHJ5e2lmKCFmdCgpLnN1cHBvcnRTZXRSdHBTZW5kZXJQYXJhbWV0ZXJzfHxlLmxlbmd0aCE9PW4ubGVuZ3RoKXJldHVybjtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyl7bGV0IHI9ZVtpXSxvPW5baV07byBpbnN0YW5jZW9mIEZ0JiYhdGhpcy5pc1ZQOFNpbXVsY2FzdChvKSYmYXdhaXQgdGhpcy51cGRhdGVSdHBTZW5kZXJFbmNvZGluZ3MobyxyLnNlbmRlcik7fX1jYXRjaHtfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBBcHBseSBSVFBTZW5kRW5jb2RpbmdzIGZhaWxlZC5cIikpO319bXVuZ1NlbmRPZmZlclNEUChlLG4saSl7bGV0IHI9TGUucGFyc2UoZSk7cmV0dXJuIG4uZm9yRWFjaCgobyxzKT0+e2xldCBhPWlbc10sYz1yLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoZD0+ZC5hdHRyaWJ1dGVzLm1pZD09PWEpO2MmJihyYShjLG8pLG8wKGMsbyx0aGlzLnN0b3JlLmNvZGVjKSk7fSksTGUucHJpbnQocil9YmluZFN0YXRzRXZlbnRzKCl7dGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0QXVkaW9SZWNlaXZlZD1lPT57dmFyIG47KG49dGhpcy5vbkZpcnN0QXVkaW9SZWNlaXZlZCk9PT1udWxsfHxuPT09dm9pZCAwfHxuLmNhbGwodGhpcyxlKTt9LHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvUmVjZWl2ZWQ9ZT0+e3ZhciBuOyhuPXRoaXMub25GaXJzdFZpZGVvUmVjZWl2ZWQpPT09bnVsbHx8bj09PXZvaWQgMHx8bi5jYWxsKHRoaXMsZSk7fSx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RBdWRpb0RlY29kZWQ9ZT0+e3ZhciBuOyhuPXRoaXMub25GaXJzdEF1ZGlvRGVjb2RlZCk9PT1udWxsfHxuPT09dm9pZCAwfHxuLmNhbGwodGhpcyxlKTt9LHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvRGVjb2RlZD0oZSxuLGkpPT57dmFyIHI7KHI9dGhpcy5vbkZpcnN0VmlkZW9EZWNvZGVkKT09PW51bGx8fHI9PT12b2lkIDB8fHIuY2FsbCh0aGlzLGUsbixpKTt9LHRoaXMuc3RhdHNGaWx0ZXIub25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZD0oZSxuKT0+e3ZhciBpOyhpPXRoaXMub25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZCk9PT1udWxsfHxpPT09dm9pZCAwfHxpLmNhbGwodGhpcyxlLG4pO30sdGhpcy5zdGF0c0ZpbHRlci5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZD0oZSxuKT0+e3ZhciBpOyhpPXRoaXMub25TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQpPT09bnVsbHx8aT09PXZvaWQgMHx8aS5jYWxsKHRoaXMsZSxuKTt9LHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXQ9ZT0+e3ZhciBuOyhuPXRoaXMub25GaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXQpPT09bnVsbHx8bj09PXZvaWQgMHx8bi5jYWxsKHRoaXMsZSk7fTt9dW5iaW5kU3RhdHNFdmVudHMoKXt0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RBdWRpb1JlY2VpdmVkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb1JlY2VpdmVkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RBdWRpb0RlY29kZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvRGVjb2RlZD12b2lkIDAsdGhpcy5zdGF0c0ZpbHRlci5vblNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0PXZvaWQgMDt9YXN5bmMgYXBwbHlTaW11bGNhc3RGb3JGaXJlZm94KGUsbil7aWYoZS5sZW5ndGg9PT1uLmxlbmd0aClmb3IobGV0IGM9MDtjPGUubGVuZ3RoO2MrKyl7dmFyIGkscixvLHMsYTtsZXQgZD1lW2NdLGw9bltjXTtpZihsIGluc3RhbmNlb2YgRnQmJiFXKGk9bC5faGludHMpLmNhbGwoaSxHdC5MT1dfU1RSRUFNKSYmKHI9bC5fZW5jb2RlckNvbmZpZykhPT1udWxsJiZyIT09dm9pZCAwJiZyLmJpdHJhdGVNYXgmJigobz1sLl9lbmNvZGVyQ29uZmlnKT09PW51bGx8fG89PT12b2lkIDA/dm9pZCAwOm8uYml0cmF0ZU1heCk+MjAwJiYocz1sLl9zY2FsYWJpbGl0eU1vZGUpIT09bnVsbCYmcyE9PXZvaWQgMCYmcy5udW1TcGF0aWFsTGF5ZXJzJiYoKGE9bC5fc2NhbGFiaWxpdHlNb2RlKT09PW51bGx8fGE9PT12b2lkIDA/dm9pZCAwOmEubnVtU3BhdGlhbExheWVycyk+MSYmdGhpcy5zdG9yZS5jb2RlYz09PVwidnA4XCIpe2xldCB1PXt9LGg9e2hpZ2g6MWUzKihsLl9lbmNvZGVyQ29uZmlnLmJpdHJhdGVNYXgtNTApLG1lZGl1bTo1ZTR9O3UuZW5jb2RpbmdzPVt7cmlkOlwibVwiLGFjdGl2ZTohMCxtYXhCaXRyYXRlOmgubWVkaXVtLHNjYWxlUmVzb2x1dGlvbkRvd25CeTo0fSx7cmlkOlwiaFwiLGFjdGl2ZTohMCxtYXhCaXRyYXRlOmguaGlnaH1dO2xldCBwPWQuc2VuZGVyLmdldFBhcmFtZXRlcnMoKTthd2FpdCBkLnNlbmRlci5zZXRQYXJhbWV0ZXJzKE9iamVjdC5hc3NpZ24ocCx1KSk7fX19YXN5bmMgYXBwbHlTaW11bGNhc3RFbmNvZGluZ3MoZSxuKXtpZighJHQoKSYmZS5sZW5ndGg9PT1uLmxlbmd0aClmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyl7bGV0IHI9bltpXTtpZihyIGluc3RhbmNlb2YgRnQmJnRoaXMuaXNWUDhTaW11bGNhc3Qocikpe2xldCBvPWVbaV0scz17fSxhPXtoaWdoOjFlMyooci5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWF4LTUwKSxtZWRpdW06NWU0fTtzLmVuY29kaW5ncz1be2FjdGl2ZTohMCxhZGFwdGl2ZVB0aW1lOiExLG5ldHdvcmtQcmlvcml0eTpcImhpZ2hcIixwcmlvcml0eTpcImhpZ2hcIixtYXhCaXRyYXRlOmEuaGlnaH0se2FjdGl2ZTohMCxhZGFwdGl2ZVB0aW1lOiExLG5ldHdvcmtQcmlvcml0eTpcImxvd1wiLHByaW9yaXR5OlwibG93XCIsbWF4Qml0cmF0ZTphLm1lZGl1bSxzY2FsZVJlc29sdXRpb25Eb3duQnk6NH1dO2xldCBjPW8uc2VuZGVyLmdldFBhcmFtZXRlcnMoKTthd2FpdCBvLnNlbmRlci5zZXRQYXJhbWV0ZXJzKE9iamVjdC5hc3NpZ24oYyxzKSk7fX19aXNWUDhTaW11bGNhc3QoZSl7dmFyIG4saSxyLG8scztyZXR1cm4gISEoZSBpbnN0YW5jZW9mIEZ0JiZ2KFwiU0lNVUxDQVNUXCIpJiZ0aGlzLnN0b3JlLmNvZGVjPT09XCJ2cDhcIiYmIVcobj1lLl9oaW50cykuY2FsbChuLEd0LkxPV19TVFJFQU0pJiYoaT1lLl9lbmNvZGVyQ29uZmlnKSE9PW51bGwmJmkhPT12b2lkIDAmJmkuYml0cmF0ZU1heCYmKChyPWUuX2VuY29kZXJDb25maWcpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5iaXRyYXRlTWF4KT4yMDAmJihvPWUuX3NjYWxhYmlsaXR5TW9kZSkhPT1udWxsJiZvIT09dm9pZCAwJiZvLm51bVNwYXRpYWxMYXllcnMmJigocz1lLl9zY2FsYWJpbGl0eU1vZGUpPT09bnVsbHx8cz09PXZvaWQgMD92b2lkIDA6cy5udW1TcGF0aWFsTGF5ZXJzKT4xKX1sb2dTRFBFeGNoYW5nZShlLG4saSxyKXtpZih2KFwiU0RQX0xPR0dJTkdcIikpcmV0dXJuIF8udXBsb2FkKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBleGNoYW5naW5nIFwiKS5jb25jYXQoaSxcIiBcIikuY29uY2F0KG4sXCIgU0RQIGR1cmluZyBQMlBDb25uZWN0aW9uLlwiKS5jb25jYXQocixgXG5gKSxlKSxuPT09XCJvZmZlclwiP289Pnt0aGlzLmxvZ1NEUEV4Y2hhbmdlKG8sXCJhbnN3ZXJcIixpPT09XCJsb2NhbFwiP1wicmVtb3RlXCI6XCJsb2NhbFwiLHIpO306dm9pZCAwfWFzeW5jIG11dGVMb2NhbChlKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24ubXV0ZUxvY2FsIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQuXCIpO2xldCBuPXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0VHJhbnNjZWl2ZXJzKCkuZmlsdGVyKHM9PnMubWlkJiZlLmluZGV4T2Yocy5taWQpIT09LTEpO2lmKG4ubGVuZ3RoIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNjZWl2ZXJzJyBsZW5ndGggZG9lc24ndCBtYXRjaCBtaWRzJyBsZW5ndGguXCIpO24ubWFwKHM9PntzLmRpcmVjdGlvbj1cImluYWN0aXZlXCI7fSk7bGV0IGk9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpLHI9dGhpcy5sb2dTRFBFeGNoYW5nZShpLnNkcHx8XCJcIixcIm9mZmVyXCIsXCJsb2NhbFwiLFwibXV0ZUxvY2FsXCIpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihpKSx0aGlzLnJlbW90ZVNEUC5tdXRlUmVtb3RlKGUpO2xldCBvPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCk7cj8uKG8pLGF3YWl0IHRoaXMuc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6b30pO31jYXRjaChuKXt0aHJvdyBuZXcgTihSLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLm11dGVMb2NhbCBmYWlsZWQ7IFwiLmNvbmNhdChuLnRvU3RyaW5nKCkpKX19YXN5bmMgdW5tdXRlTG9jYWwoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnVubXV0ZUxvY2FsIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQuXCIpO2xldCBuPXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0VHJhbnNjZWl2ZXJzKCkuZmlsdGVyKHM9PnMubWlkJiZlLmluZGV4T2Yocy5taWQpIT09LTEpO2lmKG4ubGVuZ3RoIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNjZWl2ZXJzJyBsZW5ndGggZG9lc24ndCBtYXRjaCBtaWRzJyBsZW5ndGguXCIpO24ubWFwKGFzeW5jIHM9PntzLmRpcmVjdGlvbj1cInNlbmRvbmx5XCI7fSk7bGV0IGk9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpLHI9dGhpcy5sb2dTRFBFeGNoYW5nZShpLnNkcHx8XCJcIixcIm9mZmVyXCIsXCJsb2NhbFwiLFwidW5tdXRlTG9jYWxcIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGkpLHRoaXMucmVtb3RlU0RQLnVubXV0ZVJlbW90ZShlKTtsZXQgbz10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpO3I/LihvKSxhd2FpdCB0aGlzLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOm99KTt9Y2F0Y2gobil7dGhyb3cgbmV3IE4oUi5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi51bm11dGVMb2NhbCBmYWlsZWQ7IFwiLmNvbmNhdChuLnRvU3RyaW5nKCkpKX19YXN5bmMgZ2V0UmVtb3RlU1NSQyhlLG4pe3ZhciBpLHI7aWYobj0oaT1uKSE9PW51bGwmJmkhPT12b2lkIDA/aToocj10aGlzLmN1cnJlbnRSZW1vdGVEZXNjcmlwdGlvbik9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyLnNkcCl7dmFyIG87bGV0IHM9KG89TGUucGFyc2UobikubWVkaWFEZXNjcmlwdGlvbnMuZmluZChhPT5hLmF0dHJpYnV0ZXMubWlkPT09ZSkpPT09bnVsbHx8bz09PXZvaWQgMD92b2lkIDA6by5hdHRyaWJ1dGVzLnNzcmNzO3JldHVybiBzPy5bMF0uc3NyY0lkfX1hc3luYyBzZXRSZW1vdGVEZXNjcmlwdGlvbihlKXt2YXIgbjthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKGUpLFcobj1bXCJjb25uZWN0ZWRcIixcImNvbXBsZXRlZFwiXSkuY2FsbChuLHRoaXMucGVlckNvbm5lY3Rpb24uaWNlQ29ubmVjdGlvblN0YXRlKXx8KHRoaXMuaXNSZWFkeT0hMCx0aGlzLmFkZFJlbW90ZUNhbmRpZGF0ZSgpKTt9bXVuZ1JlY2VpdmVBbnN3ZXJTRFAoZSxuLGkpe2xldCByPUxlLnBhcnNlKGUpLG89ci5tZWRpYURlc2NyaXB0aW9ucy5maW5kKHM9PnMuYXR0cmlidXRlcy5taWQ9PT1uKTtyZXR1cm4gbyYmaT09PVEuQVVESU8mJm8ubWVkaWEubWVkaWFUeXBlPT09XCJhdWRpb1wiJiZvYShvKSxMZS5wcmludChyKX19LHEoVnQucHJvdG90eXBlLFwiZXN0YWJsaXNoXCIsW19pXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFZ0LnByb3RvdHlwZSxcImVzdGFibGlzaFwiKSxWdC5wcm90b3R5cGUpLHEoVnQucHJvdG90eXBlLFwiY29ubmVjdFwiLFtfaV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihWdC5wcm90b3R5cGUsXCJjb25uZWN0XCIpLFZ0LnByb3RvdHlwZSkscShWdC5wcm90b3R5cGUsXCJyZWNlaXZlXCIsW19pXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFZ0LnByb3RvdHlwZSxcInJlY2VpdmVcIiksVnQucHJvdG90eXBlKSxxKFZ0LnByb3RvdHlwZSxcIm1vY2tSZWNlaXZlXCIsW19pXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFZ0LnByb3RvdHlwZSxcIm1vY2tSZWNlaXZlXCIpLFZ0LnByb3RvdHlwZSkscShWdC5wcm90b3R5cGUsXCJzdG9wUmVjZWl2aW5nXCIsW19pXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFZ0LnByb3RvdHlwZSxcInN0b3BSZWNlaXZpbmdcIiksVnQucHJvdG90eXBlKSxxKFZ0LnByb3RvdHlwZSxcInJlc3RhcnRJQ0VcIixbX2ldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoVnQucHJvdG90eXBlLFwicmVzdGFydElDRVwiKSxWdC5wcm90b3R5cGUpLHEoVnQucHJvdG90eXBlLFwiY2xvc2VcIixbX2ldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoVnQucHJvdG90eXBlLFwiY2xvc2VcIiksVnQucHJvdG90eXBlKSxxKFZ0LnByb3RvdHlwZSxcInVwZGF0ZUVuY29kZXJDb25maWdcIixbX2ldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoVnQucHJvdG90eXBlLFwidXBkYXRlRW5jb2RlckNvbmZpZ1wiKSxWdC5wcm90b3R5cGUpLHEoVnQucHJvdG90eXBlLFwidXBkYXRlU2VuZFBhcmFtZXRlcnNcIixbX2ldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoVnQucHJvdG90eXBlLFwidXBkYXRlU2VuZFBhcmFtZXRlcnNcIiksVnQucHJvdG90eXBlKSxxKFZ0LnByb3RvdHlwZSxcInJlcGxhY2VUcmFja1wiLFtfaV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihWdC5wcm90b3R5cGUsXCJyZXBsYWNlVHJhY2tcIiksVnQucHJvdG90eXBlKSxxKFZ0LnByb3RvdHlwZSxcIm11dGVMb2NhbFwiLFtfaV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihWdC5wcm90b3R5cGUsXCJtdXRlTG9jYWxcIiksVnQucHJvdG90eXBlKSxxKFZ0LnByb3RvdHlwZSxcInVubXV0ZUxvY2FsXCIsW19pXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFZ0LnByb3RvdHlwZSxcInVubXV0ZUxvY2FsXCIpLFZ0LnByb3RvdHlwZSksVnQpO2Z1bmN0aW9uIF9pKHQsZSxuKXtsZXQgaT10W2VdO2lmKHR5cGVvZiBpIT1cImZ1bmN0aW9uXCIpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHVzZSBtdXRleCBvbiBvYmplY3QgcHJvcGVydHkuXCIpO3JldHVybiBuLnZhbHVlPWFzeW5jIGZ1bmN0aW9uKCl7bGV0IHI9dGhpcy5tdXRleCxvPWF3YWl0IHIubG9jayhcIkZyb20gUDJQQ29ubmVjdGlvbi5cIi5jb25jYXQoZSkpO3RyeXtmb3IodmFyIHM9YXJndW1lbnRzLmxlbmd0aCxhPW5ldyBBcnJheShzKSxjPTA7YzxzO2MrKylhW2NdPWFyZ3VtZW50c1tjXTtyZXR1cm4gYXdhaXQgaS5hcHBseSh0aGlzLGEpfWZpbmFsbHl7bygpO319LG59ZnVuY3Rpb24gZG0odCxlKXtsZXQgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIiksaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO24uc2V0QXR0cmlidXRlKFwic3R5bGVcIixcImRpc3BsYXk6bm9uZVwiKSxpLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJkaXNwbGF5Om5vbmVcIiksbi5zZXRBdHRyaWJ1dGUoXCJtdXRlZFwiLFwiXCIpLG4ubXV0ZWQ9ITAsbi5zZXRBdHRyaWJ1dGUoXCJhdXRvcGxheVwiLFwiXCIpLG4uYXV0b3BsYXk9ITAsbi5zZXRBdHRyaWJ1dGUoXCJwbGF5c2lubGluZVwiLFwiXCIpLGkud2lkdGg9Tm4oZS53aWR0aCksaS5oZWlnaHQ9Tm4oZS5oZWlnaHQpO2xldCByPU5uKGUuZnJhbWVyYXRlfHwxNSk7ZG9jdW1lbnQuYm9keS5hcHBlbmQobiksZG9jdW1lbnQuYm9keS5hcHBlbmQoaSk7bGV0IG89dC5fbWVkaWFTdHJlYW1UcmFjaztuLnNyY09iamVjdD1uZXcgTWVkaWFTdHJlYW0oW29dKSxuLnBsYXkoKTtsZXQgcz1pLmdldENvbnRleHQoXCIyZFwiKTtpZighcyl0aHJvdyBuZXcgTyhSLlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IGdldCBjYW52YXMgY29udGV4dFwiKTtsZXQgYT1mdCgpLGM9aS5jYXB0dXJlU3RyZWFtKGEuc3VwcG9ydFJlcXVlc3RGcmFtZT8wOnIpLmdldFZpZGVvVHJhY2tzKClbMF07Yy5jYW52YXN8fChjLmNhbnZhcz1pKSxpLnN0YXJ0Q2FwdHVyZT0oKT0+e2lmKCFuKXJldHVybiBpLnN0b3BDYXB0dXJlJiZpLnN0b3BDYXB0dXJlKCk7aWYobi5wYXVzZWQmJm4ucGxheSgpLG4udmlkZW9IZWlnaHQ+MiYmbi52aWRlb1dpZHRoPjIpe2xldCBsPW4udmlkZW9XaWR0aCx1PW4udmlkZW9IZWlnaHQvbCxoPWkud2lkdGgqdTtNYXRoLmFicyhoLWkuaGVpZ2h0KT49MiYmKF8uZGVidWcoXCJhZGp1c3QgbG93IHN0cmVhbSByZXNvbHV0aW9uXCIsXCJcIi5jb25jYXQoaS53aWR0aCxcInhcIikuY29uY2F0KGkuaGVpZ2h0LFwiIC0+IFwiKS5jb25jYXQoaS53aWR0aCxcInhcIikuY29uY2F0KGgpKSxpLmhlaWdodD1oKTt9cy5kcmF3SW1hZ2UobiwwLDAsaS53aWR0aCxpLmhlaWdodCksYy5yZXF1ZXN0RnJhbWUmJmMucmVxdWVzdEZyYW1lKCksbyE9PXQuX21lZGlhU3RyZWFtVHJhY2smJihvPXQuX21lZGlhU3RyZWFtVHJhY2ssbi5zcmNPYmplY3Q9bmV3IE1lZGlhU3RyZWFtKFtvXSkpO30saS5zdG9wQ2FwdHVyZT1SZigoKT0+aS5zdGFydENhcHR1cmUmJmkuc3RhcnRDYXB0dXJlKCkscik7bGV0IGQ9Yy5zdG9wO3JldHVybiBjLnN0b3A9KCk9PntkLmNhbGwoYyksbiYmKG4ucmVtb3ZlKCksbi5zcmNPYmplY3Q9bnVsbCxuPW51bGwpLGkmJihpLndpZHRoPTAsaS5yZW1vdmUoKSxpLnN0b3BDYXB0dXJlJiZpLnN0b3BDYXB0dXJlKCksaS5zdGFydENhcHR1cmU9dm9pZCAwLGkuc3RvcENhcHR1cmU9dm9pZCAwLGk9bnVsbCksXy5kZWJ1ZyhcImNsZWFuIGxvdyBzdHJlYW0gcmVuZGVyZXJcIik7fSxjfXZhciBBbD1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkhFSUdIVD0yMDMzXT1cIkhFSUdIVFwiLHRbdC5GUkFNRV9SQVRFPTIwMzRdPVwiRlJBTUVfUkFURVwiLHRbdC5XSURUSD0yMDM1XT1cIldJRFRIXCIsdH0oQWx8fHt9KSxJZT1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkZSQU1FX1JBVEU9MjAwMl09XCJGUkFNRV9SQVRFXCIsdFt0LldJRFRIPTIwMDNdPVwiV0lEVEhcIix0W3QuSEVJR0hUPTIwMDRdPVwiSEVJR0hUXCIsdFt0LlBBQ0tBR0VfTE9TVD0yMDA1XT1cIlBBQ0tBR0VfTE9TVFwiLHRbdC5BVkdfRU5DT0RFPTIwMDddPVwiQVZHX0VOQ09ERVwiLHRbdC5OQUNLUz0yMDA5XT1cIk5BQ0tTXCIsdFt0LlBMSVM9MjAxMF09XCJQTElTXCIsdFt0LkZJUlM9MjAxMV09XCJGSVJTXCIsdFt0LkJJVFJBVEU9MjAxMl09XCJCSVRSQVRFXCIsdFt0LlBBQ0tBR0VfUkFURT0yMDMxXT1cIlBBQ0tBR0VfUkFURVwiLHRbdC5BREFQVEFUSU9OPTIwMzJdPVwiQURBUFRBVElPTlwiLHRbdC5BQ1RVQUxfRU5DT0RFRD0yMDYwXT1cIkFDVFVBTF9FTkNPREVEXCIsdFt0LkJBTkRXSURUSD0yMDYxXT1cIkJBTkRXSURUSFwiLHRbdC5SRVRSQU5TTUlUPTIwNjJdPVwiUkVUUkFOU01JVFwiLHRbdC5UQVJHRVRfRU5DT0RFRD0yMDY0XT1cIlRBUkdFVF9FTkNPREVEXCIsdFt0LlRSQU5TTUlUPTIwNjZdPVwiVFJBTlNNSVRcIix0W3QuRlJFRVpFPTIwODJdPVwiRlJFRVpFXCIsdFt0LkRJU0FCTEVEPTIwOTVdPVwiRElTQUJMRURcIix0W3QuUExBWUVSX1NUQVRVUz0yMTI4XT1cIlBMQVlFUl9TVEFUVVNcIix0W3QuUVBfU1VNPTIxNDNdPVwiUVBfU1VNXCIsdH0oSWV8fHt9KSxEbz1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkJJVFJBVEU9MjA2OV09XCJCSVRSQVRFXCIsdFt0LlBBQ0tBR0VfTE9TVD0yMDcwXT1cIlBBQ0tBR0VfTE9TVFwiLHRbdC5QQUNLQUdFX1JBVEU9MjA3MV09XCJQQUNLQUdFX1JBVEVcIix0W3QuSEVJR0hUPTIwNzNdPVwiSEVJR0hUXCIsdFt0LkZSQU1FX1JBVEU9MjA3NV09XCJGUkFNRV9SQVRFXCIsdFt0LldJRFRIPTIwNzddPVwiV0lEVEhcIix0fShEb3x8e30pLFFlPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuSklUVEVSPS0xXT1cIkpJVFRFUlwiLHRbdC5QQUNLQUdFX0xPU1Q9MjAxNF09XCJQQUNLQUdFX0xPU1RcIix0W3QuV0lEVEg9MjAxOF09XCJXSURUSFwiLHRbdC5IRUlHSFQ9MjAxOV09XCJIRUlHSFRcIix0W3QuRlJBTUVfUkFURT0yMDIwXT1cIkZSQU1FX1JBVEVcIix0W3QuSklUVEVSX0JVRkZFUj0yMDIzXT1cIkpJVFRFUl9CVUZGRVJcIix0W3QuQ1VSUkVOVF9ERUxBWT0yMDI0XT1cIkNVUlJFTlRfREVMQVlcIix0W3QuTkFDS1M9MjAyNl09XCJOQUNLU1wiLHRbdC5QTElTPTIwMjddPVwiUExJU1wiLHRbdC5GSVJTPTIwMjhdPVwiRklSU1wiLHRbdC5CSVRSQVRFPTIwMjldPVwiQklUUkFURVwiLHRbdC5QQUNLQUdFX1JBVEU9MjA3OF09XCJQQUNLQUdFX1JBVEVcIix0W3QuRlJFRVpFPTIwODRdPVwiRlJFRVpFXCIsdFt0LkRJU0FCTEVEPTIxMDFdPVwiRElTQUJMRURcIix0W3QuUExBWUVSX1NUQVRVUz0yMTI5XT1cIlBMQVlFUl9TVEFUVVNcIix0W3QuUVBfU1VNPTIxNDRdPVwiUVBfU1VNXCIsdFt0LklfRlJBTUVfREVMQVk9MjE0OV09XCJJX0ZSQU1FX0RFTEFZXCIsdH0oUWV8fHt9KSxQbz1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkZSQU1FX1JBVEVfREVDT0RFPTIwMjFdPVwiRlJBTUVfUkFURV9ERUNPREVcIix0W3QuRlJBTUVfUkFURV9SRU5ERVI9MjAyMl09XCJGUkFNRV9SQVRFX1JFTkRFUlwiLHRbdC5GUkFNRV9SQVRFX09VVFBVVD0yMTU1XT1cIkZSQU1FX1JBVEVfT1VUUFVUXCIsdFt0LkZSRUVaRV9USU1FPTIxMDldPVwiRlJFRVpFX1RJTUVcIix0W3QuRlJFRVpFX1RJTUVfUkVOREVSPTIxNDddPVwiRlJFRVpFX1RJTUVfUkVOREVSXCIsdFt0LkZSRUVaRV9EVVJBVElPTj0yMTU2XT1cIkZSRUVaRV9EVVJBVElPTlwiLHR9KFBvfHx7fSksZzA9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5QQ01fTEVWRUw9MjEwNF09XCJQQ01fTEVWRUxcIix0fShnMHx8e30pLHpyPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuUEFDS0FHRV9MT1NUPS0xXT1cIlBBQ0tBR0VfTE9TVFwiLHRbdC5MRVZFTD0yMDM4XT1cIkxFVkVMXCIsdFt0LkJJVFJBVEU9MjAzOV09XCJCSVRSQVRFXCIsdFt0LlBBQ0tBR0VfUkFURT0yMDQwXT1cIlBBQ0tBR0VfUkFURVwiLHRbdC5BRUNfUkVUVVJOX0xPU1M9MjA0MV09XCJBRUNfUkVUVVJOX0xPU1NcIix0W3QuQUVDX1JFVFVSTl9MT1NTX0VOSD0yMDQyXT1cIkFFQ19SRVRVUk5fTE9TU19FTkhcIix0W3QuRlJFRVpFPTIwODFdPVwiRlJFRVpFXCIsdFt0LkRJU0FCTEVEPTIwOTZdPVwiRElTQUJMRURcIix0fSh6cnx8e30pLG1pPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuQklUUkFURT0yMDQ0XT1cIkJJVFJBVEVcIix0W3QuUEFDS0FHRV9MT1NUPTIwNDVdPVwiUEFDS0FHRV9MT1NUXCIsdFt0LlBBQ0tBR0VfUkFURT0yMDQ2XT1cIlBBQ0tBR0VfUkFURVwiLHRbdC5DVVJSRU5UX0RFTEFZPTIwNDddPVwiQ1VSUkVOVF9ERUxBWVwiLHRbdC5KSVRURVJfQlVGRkVSPTIwNTRdPVwiSklUVEVSX0JVRkZFUlwiLHRbdC5KSVRURVI9MjA1NV09XCJKSVRURVJcIix0W3QuRlJFRVpFPTIwODNdPVwiRlJFRVpFXCIsdFt0LkRJU0FCTEVEPTIxMDJdPVwiRElTQUJMRURcIix0W3QuUENNX0xFVkVMPTIxMDVdPVwiUENNX0xFVkVMXCIsdFt0LlBMQVlFUl9TVEFUVVM9MjEzMF09XCJQTEFZRVJfU1RBVFVTXCIsdFt0LkNPTkNFQUxFRF9TQU1QTEVTPTIxNDhdPVwiQ09OQ0VBTEVEX1NBTVBMRVNcIix0fShtaXx8e30pLFQwPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuRlJFRVpFX1RJTUU9LTFdPVwiRlJFRVpFX1RJTUVcIix0W3QuTEVWRUw9MjA0M109XCJMRVZFTFwiLHR9KFQwfHx7fSksJG49ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5SVFQ9MjAwNl09XCJSVFRcIix0W3QuQ09OTl9UWVBFPTgwMV09XCJDT05OX1RZUEVcIix0fSgkbnx8e30pLFJyPTFlMyxibz0zO2Z1bmN0aW9uIHN0KHQsZSxuKXtuIT1udWxsJiZOdW1iZXIuaXNGaW5pdGUobikmJih0W2VdPU1hdGgucm91bmQoTWF0aC5tYXgoMCxuKSkpO31mdW5jdGlvbiBmdih0KXtsZXQgZT17WyRuLkNPTk5fVFlQRV06MCxbJG4uUlRUXTp0LnJ0dH07c3dpdGNoKHQuc2VsZWN0ZWRDYW5kaWRhdGVQYWlyLmxvY2FsQ2FuZGlkYXRlLmNhbmRpZGF0ZVR5cGUpe2Nhc2VcInJlbGF5XCI6e2xldCBuPXQuc2VsZWN0ZWRDYW5kaWRhdGVQYWlyLmxvY2FsQ2FuZGlkYXRlLnJlbGF5UHJvdG9jb2w7bj09PVwidWRwXCImJihlWyRuLkNPTk5fVFlQRV09MSksbj09PVwidGNwXCImJihlWyRuLkNPTk5fVFlQRV09Myksbj09PVwidGxzXCImJihlWyRuLkNPTk5fVFlQRV09NCk7YnJlYWt9Y2FzZVwic3JmbHhcIjplWyRuLkNPTk5fVFlQRV09Mjt9cmV0dXJuIGV9ZnVuY3Rpb24gZ3YodCl7bGV0IGU9MDtzd2l0Y2godCl7Y2FzZVwibm9uZVwiOmU9MDticmVhaztjYXNlXCJjcHVcIjplPTE7YnJlYWs7Y2FzZVwiYmFuZHdpZHRoXCI6ZT0yO2JyZWFrO2Nhc2VcIm90aGVyXCI6ZT0zO31yZXR1cm4gZX12YXIgcHU9Y2xhc3MgZXh0ZW5kcyBYdHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLFQodGhpcyxcInN0b3JlXCIsdm9pZCAwKSxUKHRoaXMsXCJ1cGxvYWRXUlRDU3RhdHNUaW1lclwiLHZvaWQgMCksVCh0aGlzLFwidXBsb2FkT3V0Ym91bmREZW5vaXNlclN0YXRzVGltZXJcIix2b2lkIDApLFQodGhpcyxcInVwbG9hZEV4dFN0YXRzVGltZXJcIix2b2lkIDApLFQodGhpcyxcInVwbG9hZEV4dFVzYWdlU3RhdHNUaW1lclwiLHZvaWQgMCksVCh0aGlzLFwidXBsb2FkSW5ib3VuZEV4dFN0YXRzVGltZXJcIix2b2lkIDApLFQodGhpcyxcInJlcXVlc3RTdGF0c1wiLHZvaWQgMCksVCh0aGlzLFwicmVxdWVzdFRyYW5zcG9ydFN0YXRzXCIsdm9pZCAwKSxUKHRoaXMsXCJyZXF1ZXN0TG9jYWxNZWRpYVwiLHZvaWQgMCksVCh0aGlzLFwicmVxdWVzdFJlbW90ZU1lZGlhXCIsdm9pZCAwKSxUKHRoaXMsXCJyZXF1ZXN0QWxsVHJhY2tzXCIsdm9pZCAwKSxUKHRoaXMsXCJyZXF1ZXN0VmlkZW9Jc1JlYWR5XCIsdm9pZCAwKSxUKHRoaXMsXCJyZXF1ZXN0VXBsb2FkU3RhdHNcIix2b2lkIDApLFQodGhpcyxcInJlcXVlc3RVcGxvYWRcIix2b2lkIDApLFQodGhpcyxcInVwbG9hZE91dGJvdW5kU3RhcnRlZFwiLCExKSxUKHRoaXMsXCJ1cGxvYWRJbmJvdW5kU3RhcnRlZFwiLCExKSxUKHRoaXMsXCJ1cGxvYWRUcmFuc3BvcnRTdGFydGVkXCIsITEpLFQodGhpcyxcInVwbG9hZEV4dGVuc2lvblVzYWdlU3RhcnRlZFwiLCExKSxUKHRoaXMsXCJsYXN0UmVjdlN0YXRzXCIsdm9pZCAwKSxUKHRoaXMsXCJsYXN0U2VuZFN0YXRzXCIsdm9pZCAwKSxUKHRoaXMsXCJsYXN0RnVsbFJlY3ZTdGF0c1wiLHZvaWQgMCksVCh0aGlzLFwibGFzdEZ1bGxTZW5kU3RhdHNcIix2b2lkIDApLFQodGhpcyxcIm5lZWRVcGxvYWRSZW5kZXJGcmVlemVUaW1lXCIsITApLHRoaXMuc3RvcmU9ZTt9dXBsb2FkV1JUQ1N0YXRzKGUpe2lmKCF0aGlzLnJlcXVlc3RTdGF0c3x8IXRoaXMucmVxdWVzdFVwbG9hZFN0YXRzKXJldHVybjtsZXQgbixpO2lmKHRoaXMudXBsb2FkVHJhbnNwb3J0U3RhcnRlZCYmKG49dGhpcy5yZXF1ZXN0U3RhdHMoKSx0aGlzLnN0b3JlLnVzZVAyUCYmKGk9dGhpcy5yZXF1ZXN0U3RhdHMoITApKSksIW4mJnRoaXMudXBsb2FkT3V0Ym91bmRTdGFydGVkJiYobj10aGlzLnJlcXVlc3RTdGF0cygpKSwhaSYmdGhpcy51cGxvYWRJbmJvdW5kU3RhcnRlZCYmKGk9dGhpcy5yZXF1ZXN0U3RhdHMoITApKSxufHxpKXtsZXQgcj17fTtpZih0aGlzLnVwbG9hZFRyYW5zcG9ydFN0YXJ0ZWQmJm4pe2xldCBvPXRoaXMuZ2V0VHJhbnNwb3J0U3RhdHMobixpLGUpO28mJihyLm1pc2M9W29dKTt9aWYodGhpcy51cGxvYWRPdXRib3VuZFN0YXJ0ZWQmJm4pe2xldCBvPXRoaXMuZ2V0T3V0Ym91bmRTdGF0cyhuLGU/dGhpcy5sYXN0U2VuZFN0YXRzOnRoaXMubGFzdEZ1bGxTZW5kU3RhdHMsZSk7byYmKHIub3V0Ym91bmQ9W29dKTt9aWYodGhpcy51cGxvYWRJbmJvdW5kU3RhcnRlZCYmaSl7bGV0IG89dGhpcy5nZXRJbmJvdW5kU3RhdHMoaSxlP3RoaXMubGFzdFJlY3ZTdGF0czp0aGlzLmxhc3RGdWxsUmVjdlN0YXRzLGUpO28mJihyLmluYm91bmQ9byk7fXRoaXMucmVxdWVzdFVwbG9hZFN0YXRzKHIpO310aGlzLmxhc3RSZWN2U3RhdHM9aSx0aGlzLmxhc3RTZW5kU3RhdHM9bixlfHwodGhpcy5sYXN0RnVsbFJlY3ZTdGF0cz1pLHRoaXMubGFzdEZ1bGxTZW5kU3RhdHM9bik7fXN0YXJ0VXBsb2FkV1JUQ1N0YXRzKCl7aWYodGhpcy51cGxvYWRXUlRDU3RhdHNUaW1lcilyZXR1cm47bGV0IGU9MTt0aGlzLnVwbG9hZFdSVENTdGF0c1RpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCgoKT0+e2lmKCF0aGlzLnVwbG9hZFRyYW5zcG9ydFN0YXJ0ZWQmJiF0aGlzLnVwbG9hZEluYm91bmRTdGFydGVkJiYhdGhpcy51cGxvYWRPdXRib3VuZFN0YXJ0ZWQpcmV0dXJuIHRoaXMuc3RvcFVwbG9hZFdSVENTdGF0cygpO3RoaXMudXBsb2FkV1JUQ1N0YXRzKGUhPT1ibyksKytlPT09Ym8rMSYmKGU9MSk7fSxScik7fXN0b3BVcGxvYWRXUlRDU3RhdHMoKXt3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnVwbG9hZFdSVENTdGF0c1RpbWVyKSx0aGlzLnVwbG9hZFdSVENTdGF0c1RpbWVyPXZvaWQgMCx0aGlzLmxhc3RTZW5kU3RhdHMmJih0aGlzLmxhc3RTZW5kU3RhdHMudmlkZW9TZW5kPVtdLHRoaXMubGFzdFNlbmRTdGF0cy5hdWRpb1NlbmQ9W10sdGhpcy5sYXN0U2VuZFN0YXRzPXZvaWQgMCksdGhpcy5sYXN0UmVjdlN0YXRzJiYodGhpcy5sYXN0UmVjdlN0YXRzLnZpZGVvUmVjdj1bXSx0aGlzLmxhc3RSZWN2U3RhdHMuYXVkaW9SZWN2PVtdLHRoaXMubGFzdFJlY3ZTdGF0cz12b2lkIDApO31nZXRUcmFuc3BvcnRTdGF0cyhlLG4saSl7aWYoIXRoaXMucmVxdWVzdFN0YXRzKXJldHVybjtpZihpKXJldHVybiBlLnJ0dD09bnVsbD92b2lkIDA6e2FkZGl0aW9uOntbJG4uUlRUXTplLnJ0dCxbJG4uQ09OTl9UWVBFXTp2b2lkIDB9fTtsZXQgcj1mdihlKTtpZih0aGlzLnN0b3JlLnVzZVAyUCl7aWYobil7bGV0IG89ZnYobik7clskbi5DT05OX1RZUEVdKz1vWyRuLkNPTk5fVFlQRV08PDM7fXJbJG4uQ09OTl9UWVBFXSs9MTEwO31lbHNlIHJbJG4uQ09OTl9UWVBFXSs9MTAwO3JldHVybiB7YWRkaXRpb246cn19Z2V0T3V0Ym91bmRTdGF0cyhlLG4saSl7aWYoIXRoaXMucmVxdWVzdFVwbG9hZFN0YXRzfHwhdGhpcy5yZXF1ZXN0TG9jYWxNZWRpYSlyZXR1cm47bGV0IHI9dGhpcy5yZXF1ZXN0TG9jYWxNZWRpYSgpO2lmKCFyfHxyLmxlbmd0aD09PTApcmV0dXJuO2xldCBvLHMsYTtyZXR1cm4gci5mb3JFYWNoKGM9PntsZXRbZCx7dHJhY2s6bCxzc3Jjczp1fV09Yztzd2l0Y2goZCl7Y2FzZSBVLkxvY2FsVmlkZW9Mb3dUcmFjazpjYXNlIFUuTG9jYWxWaWRlb1RyYWNrOmlmKGQ9PT1VLkxvY2FsVmlkZW9UcmFjayl7bGV0IGg9ZnVuY3Rpb24oRSxmLFMsQyxBKXtsZXQgYj1mLnZpZGVvU2VuZC5maW5kKHo9Pnouc3NyYz09PUUpO2lmKCFiKXJldHVybjtsZXQgdz17fSx7c2VudEZyYW1lOkQsaW5wdXRGcmFtZTprfT1iO2lmKGsmJkQpe2xldCB6PWsuZnJhbWVSYXRlLGx0PUQuZnJhbWVSYXRlO3dbSWUuRlJFRVpFXT1mdW5jdGlvbih2dCxEdCl7bGV0IGNlPSEwO3JldHVybiBjZT0hKHZ0PD01KSYmKHZ0PD0xMD9EdDwzOnZ0PD0yMD9EdDw0OkR0PDUpLGNlfSh6LGx0KT8xOjA7fWlmKHN0KHcsSWUuUVBfU1VNLGIucXBTdW1QZXJGcmFtZSksQSlyZXR1cm4gdztzd2l0Y2goRCYmKHN0KHcsSWUuSEVJR0hULEQuaGVpZ2h0KSxzdCh3LEllLldJRFRILEQud2lkdGgpLHN0KHcsSWUuRlJBTUVfUkFURSxELmZyYW1lUmF0ZSkpLHdbSWUuRElTQUJMRURdPUMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2smJiFDLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWR8fEMuX21lZGlhU3RyZWFtVHJhY2smJiFDLl9tZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWQ/MTowLGIuYWRhcHRpb25DaGFuZ2VSZWFzb24pe2Nhc2VcIm5vbmVcIjp3W0llLkFEQVBUQVRJT05dPTA7YnJlYWs7Y2FzZVwiY3B1XCI6d1tJZS5BREFQVEFUSU9OXT0xO2JyZWFrO2Nhc2VcImJhbmR3aWR0aFwiOndbSWUuQURBUFRBVElPTl09MjticmVhaztjYXNlXCJvdGhlclwiOndbSWUuQURBUFRBVElPTl09Mzt9bGV0IEI9MDtiLmFkYXB0aW9uQ2hhbmdlUmVhc29uJiYoQis9Z3YoYi5hZGFwdGlvbkNoYW5nZVJlYXNvbikpLGYucXVhbGl0eUxpbWl0YXRpb25SZWFzb24mJihCKz1ndihmLnF1YWxpdHlMaW1pdGF0aW9uUmVhc29uKTw8Myksd1tJZS5BREFQVEFUSU9OXT1CLHdbSWUuUExBWUVSX1NUQVRVU109b19bQy5fcGxheWVyP0MuX3BsYXllci52aWRlb0VsZW1lbnRTdGF0dXM6XCJ1bmluaXRcIl0sc3QodyxJZS5OQUNLUyxiLm5hY2tzQ291bnQpLHN0KHcsSWUuUExJUyxiLnBsaXNDb3VudCksc3QodyxJZS5GSVJTLGIuZmlyc0NvdW50KSxzdCh3LEllLkFWR19FTkNPREUsYi5hdmdFbmNvZGVNcyk7bGV0IFY9UyYmUy52aWRlb1NlbmQuZmluZCh6PT56LnNzcmM9PT1FKTtpZihWKXtsZXQgej1BP1JyOlJyKmJvO1YudGltZXN0YW1wJiZiLnRpbWVzdGFtcCYmKHo9Yi50aW1lc3RhbXAtVi50aW1lc3RhbXApLFYucGFja2V0cyE9bnVsbCYmYi5wYWNrZXRzIT1udWxsJiZzdCh3LEllLlBBQ0tBR0VfUkFURSwxZTMqKGIucGFja2V0cy1WLnBhY2tldHMpL3opLGIucGFja2V0c0xvc3QhPW51bGwmJlYucGFja2V0c0xvc3QhPW51bGwmJnN0KHcsSWUuUEFDS0FHRV9MT1NULGIucGFja2V0c0xvc3QtVi5wYWNrZXRzTG9zdCksVi5ieXRlcyE9bnVsbCYmYi5ieXRlcyE9bnVsbCYmc3QodyxJZS5CSVRSQVRFLDgqKGIuYnl0ZXMtVi5ieXRlcykveik7fXJldHVybiB3fSh1WzBdLnNzcmNJZCxlLG4sbCxpKSxwPWk/bnVsbDpmdW5jdGlvbihFLGYsUyl7bGV0IEM9Zi52aWRlb1NlbmQuZmluZChCPT5CLnNzcmM9PT1FKTtpZighQylyZXR1cm4gbnVsbDtsZXQgQT17fSxiPUMuaW5wdXRGcmFtZSx3PWImJmIuaGVpZ2h0fHxTJiZTLnZpZGVvSGVpZ2h0fHwwLEQ9YiYmYi53aWR0aHx8UyYmUy52aWRlb1dpZHRofHwwLGs9YiYmYi5mcmFtZVJhdGV8fDA7cmV0dXJuIHN0KEEsQWwuSEVJR0hULHcpLHN0KEEsQWwuV0lEVEgsRCksc3QoQSxBbC5GUkFNRV9SQVRFLGspLEF9KHVbMF0uc3NyY0lkLGUsbCksZz1pP251bGw6ZnVuY3Rpb24oRSl7bGV0IGY9e307cmV0dXJuIHN0KGYsSWUuUkVUUkFOU01JVCxFLmJpdHJhdGUucmV0cmFuc21pdCksc3QoZixJZS5UQVJHRVRfRU5DT0RFRCxFLmJpdHJhdGUudGFyZ2V0RW5jb2RlZCksc3QoZixJZS5BQ1RVQUxfRU5DT0RFRCxFLmJpdHJhdGUuYWN0dWFsRW5jb2RlZCksc3QoZixJZS5UUkFOU01JVCxFLmJpdHJhdGUudHJhbnNtaXQpLHN0KGYsSWUuQkFORFdJRFRILEUuc2VuZEJhbmR3aWR0aCksZn0oZSk7cz1PYmplY3QuYXNzaWduKHt9LGgscCxnKTt9ZWxzZSBhPWk/dm9pZCAwOmZ1bmN0aW9uKGgscCxnKXtsZXQgRT1wLnZpZGVvU2VuZC5maW5kKEM9PkMuc3NyYz09PWgpO2lmKCFFKXJldHVybjtsZXQgZj17fSxTPUUuc2VudEZyYW1lO2lmKFMmJihzdChmLERvLkhFSUdIVCxTLmhlaWdodCksc3QoZixEby5XSURUSCxTLndpZHRoKSxzdChmLERvLkZSQU1FX1JBVEUsUy5mcmFtZVJhdGUpKSxnKXtsZXQgQz1nLnZpZGVvU2VuZC5maW5kKEE9PkEuc3NyYz09PWgpO2lmKEMpe2xldCBBPVJyKmJvO0MudGltZXN0YW1wJiZFLnRpbWVzdGFtcCYmKEE9RS50aW1lc3RhbXAtQy50aW1lc3RhbXApLEMucGFja2V0cyE9bnVsbCYmRS5wYWNrZXRzIT1udWxsJiZzdChmLERvLlBBQ0tBR0VfUkFURSwxZTMqKEUucGFja2V0cy1DLnBhY2tldHMpL0EpLEUucGFja2V0c0xvc3QhPW51bGwmJkMucGFja2V0c0xvc3QhPW51bGwmJnN0KGYsRG8uUEFDS0FHRV9MT1NULEUucGFja2V0c0xvc3QtQy5wYWNrZXRzTG9zdCksQy5ieXRlcyE9bnVsbCYmRS5ieXRlcyE9bnVsbCYmc3QoZixEby5CSVRSQVRFLDgqKEUuYnl0ZXMtQy5ieXRlcykvQSk7fX1yZXR1cm4gZn0odVswXS5zc3JjSWQsZSxuKTticmVhaztjYXNlIFUuTG9jYWxBdWRpb1RyYWNrOm89aT92b2lkIDA6ZnVuY3Rpb24oaCxwLGcsRSl7bGV0IGY9cC5hdWRpb1NlbmQuZmluZCh3PT53LnNzcmM9PT1oKTtpZighZilyZXR1cm47bGV0IFM9e307U1t6ci5ESVNBQkxFRF09RS5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayYmIUUuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suZW5hYmxlZHx8RS5fbWVkaWFTdHJlYW1UcmFjayYmIUUuX21lZGlhU3RyZWFtVHJhY2suZW5hYmxlZD8xOjA7bGV0IEM9MTAwKkUuX3NvdXJjZS5nZXRBY2N1cmF0ZVZvbHVtZUxldmVsKCksQT1mLmlucHV0TGV2ZWw7aWYoQSE9bnVsbCl7bGV0IHc9TWF0aC5jZWlsKDUwKk1hdGgubG9nMTAoMTAwKkErMSkpO3N0KFMsenIuTEVWRUwsdyk7fXN0KFMsZzAuUENNX0xFVkVMLEMpLHN0KFMsenIuQUVDX1JFVFVSTl9MT1NTLGYuYWVjUmV0dXJuTG9zcyksc3QoUyx6ci5BRUNfUkVUVVJOX0xPU1NfRU5ILGYuYWVjUmV0dXJuTG9zc0VuaGFuY2VtZW50KSxTW3pyLkZSRUVaRV09MDtsZXQgYj1nJiZnLmF1ZGlvU2VuZC5maW5kKHc9Pncuc3NyYz09PWgpO2lmKGIpe2xldCB3PVJyKmJvO2IudGltZXN0YW1wJiZmLnRpbWVzdGFtcCYmKHc9Zi50aW1lc3RhbXAtYi50aW1lc3RhbXApLGIuYnl0ZXMhPW51bGwmJmYuYnl0ZXMhPW51bGwmJnN0KFMsenIuQklUUkFURSw4KihmLmJ5dGVzLWIuYnl0ZXMpL3cpLGIucGFja2V0cyE9bnVsbCYmZi5wYWNrZXRzIT1udWxsJiZzdChTLHpyLlBBQ0tBR0VfUkFURSwxZTMqKGYucGFja2V0cy1iLnBhY2tldHMpL3cpO31yZXR1cm4gU30odVswXS5zc3JjSWQsZSxuLGwpO319KSx7aGlnaDpzLGxvdzphLGF1ZGlvOm99fWdldEluYm91bmRTdGF0cyhlLG4saSl7aWYoIXRoaXMucmVxdWVzdFJlbW90ZU1lZGlhKXJldHVybjtsZXQgcj10aGlzLnJlcXVlc3RSZW1vdGVNZWRpYSgpfHxbXSxvPVtdO3JldHVybiByLmZvckVhY2gocz0+e2xldFthLGNdPXMsZD17cGVlcjphLnVpZH07aWYoYy5oYXMoUS5WSURFTykmJmEudmlkZW9UcmFjayl7bGV0IGw9YS5fdmlkZW9TU1JDJiZ0aGlzLnJlcXVlc3RWaWRlb0lzUmVhZHkmJnRoaXMucmVxdWVzdFZpZGVvSXNSZWFkeShhLl92aWRlb1NTUkMpfHwhMSx1PWEudmlkZW9UcmFjaz9mdW5jdGlvbihoLHAsZyxFLGYsUyxDKXt2YXIgQTtsZXQgYj1wLnZpZGVvUmVjdi5maW5kKGx0PT5sdC5zc3JjPT09aCk7aWYoIWIpcmV0dXJuO2xldCB3PXt9LHtyZWNlaXZlZEZyYW1lOkQsb3V0cHV0RnJhbWU6ayxkZWNvZGVGcmFtZVJhdGU6Qn09YixWPWcmJmcudmlkZW9SZWN2LmZpbmQobHQ9Pmx0LnNzcmM9PT1oKTtpZih3W1FlLkZSRUVaRV09ZiYmX3UuaXNSZW1vdGVWaWRlb0ZyZWV6ZShFLGIsVik/MTowLHN0KHcsUG8uRlJBTUVfUkFURV9ERUNPREUsQiksc3QodyxRZS5RUF9TVU0sYi5xcFN1bVBlckZyYW1lKSxiLmZyYW1lc1JhdGVGaXJlZm94JiZzdCh3LFFlLkZSQU1FX1JBVEUsYi5mcmFtZXNSYXRlRmlyZWZveCksRCYmc3QodyxRZS5GUkFNRV9SQVRFLEQuZnJhbWVSYXRlKSxWKXtsZXQgbHQ9cC50aW1lc3RhbXAtZy50aW1lc3RhbXB8fChDP1JyOmJvKlJyKTtiLnBhY2tldHNMb3N0IT1udWxsJiZWLnBhY2tldHNMb3N0IT1udWxsJiZzdCh3LFFlLlBBQ0tBR0VfTE9TVCxiLnBhY2tldHNMb3N0LVYucGFja2V0c0xvc3QpLFYuYnl0ZXMhPW51bGwmJmIuYnl0ZXMhPW51bGwmJnN0KHcsUWUuQklUUkFURSw4KihiLmJ5dGVzLVYuYnl0ZXMpL2x0KSxWLnBhY2tldHMhPW51bGwmJmIucGFja2V0cyE9bnVsbCYmc3QodyxRZS5QQUNLQUdFX1JBVEUsMWUzKihiLnBhY2tldHMtVi5wYWNrZXRzKS9sdCk7fWlmKEMpcmV0dXJuIHc7RD8oc3QodyxRZS5IRUlHSFQsRC5oZWlnaHQpLHN0KHcsUWUuV0lEVEgsRC53aWR0aCkpOkUmJihzdCh3LFFlLkhFSUdIVCxFLl92aWRlb0hlaWdodHx8MCksc3QodyxRZS5XSURUSCxFLl92aWRlb1dpZHRofHwwKSksayYmc3QodyxQby5GUkFNRV9SQVRFX09VVFBVVCxrLmZyYW1lUmF0ZSk7bGV0IHo9KEE9RS5fcGxheWVyKT09PW51bGx8fEE9PT12b2lkIDA/dm9pZCAwOkEucmVuZEZyYW1lUmF0ZS50b0ZpeGVkKDApO2lmKHomJnN0KHcsUG8uRlJBTUVfUkFURV9SRU5ERVIsK3opLHN0KHcsUWUuSklUVEVSX0JVRkZFUixiLmppdHRlckJ1ZmZlck1zKSxzdCh3LFFlLkNVUlJFTlRfREVMQVksYi5jdXJyZW50RGVsYXlNcyksc3QodyxRZS5GSVJTLGIuZmlyc0NvdW50KSxzdCh3LFFlLk5BQ0tTLGIubmFja3NDb3VudCksc3QodyxRZS5QTElTLGIucGxpc0NvdW50KSxFKXt3W1FlLkRJU0FCTEVEXT1FLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWQmJkUuX21lZGlhU3RyZWFtVHJhY2suZW5hYmxlZD8wOjE7bGV0IGx0PUUuX3BsYXllcjtpZihsdCl7bGV0e2ZyZWV6ZVRpbWVDb3VudGVyTGlzdDp2dCxyZW5kZXJGcmVlemVBY2NUaW1lOkR0LHZpZGVvRWxlbWVudFN0YXR1czpjZX09bHQ7aWYodnQmJnZ0Lmxlbmd0aD4wJiZzdCh3LFBvLkZSRUVaRV9USU1FLHZ0LnNwbGljZSgwLDEpWzBdKSxTJiZ5ci52aXNpYmlsaXR5PT09XCJ2aXNpYmxlXCImJmNlPT09bm4uUExBWUlORyYmZnQoKS5zdXBwb3J0UmVxdWVzdFZpZGVvRnJhbWVDYWxsYmFjayl7bGV0IFd0PU1hdGgubWluKDZlMyxEdCk7bHQucmVuZGVyRnJlZXplQWNjVGltZT1NYXRoLm1heCgwLER0LVd0KSxzdCh3LFBvLkZSRUVaRV9USU1FX1JFTkRFUixXdCk7fWlmKHR5cGVvZiBiLnRvdGFsRnJlZXplc0R1cmF0aW9uPT1cIm51bWJlclwiKXtsZXQgV3Q9ViYmVi50b3RhbEZyZWV6ZXNEdXJhdGlvbj9iLnRvdGFsRnJlZXplc0R1cmF0aW9uLVYudG90YWxGcmVlemVzRHVyYXRpb246Yi50b3RhbEZyZWV6ZXNEdXJhdGlvbjtzdCh3LFBvLkZSRUVaRV9EVVJBVElPTiwxZTMqV3QpO319fWlmKHdbUWUuUExBWUVSX1NUQVRVU109b19bRS5fcGxheWVyP0UuX3BsYXllci52aWRlb0VsZW1lbnRTdGF0dXM6XCJ1bmluaXRcIl0sViYmYi50b3RhbEludGVyRnJhbWVEZWxheSE9PXZvaWQgMCYmYi50b3RhbFNxdWFyZWRJbnRlckZyYW1lRGVsYXkhPT12b2lkIDAmJlYudG90YWxJbnRlckZyYW1lRGVsYXkhPT12b2lkIDAmJlYudG90YWxTcXVhcmVkSW50ZXJGcmFtZURlbGF5IT09dm9pZCAwKXtsZXQgbHQ9Yi50b3RhbEludGVyRnJhbWVEZWxheS1WLnRvdGFsSW50ZXJGcmFtZURlbGF5LHZ0PWIudG90YWxTcXVhcmVkSW50ZXJGcmFtZURlbGF5LVYudG90YWxTcXVhcmVkSW50ZXJGcmFtZURlbGF5LER0PWIuZnJhbWVzRGVjb2RlQ291bnQtVi5mcmFtZXNEZWNvZGVDb3VudCxjZT1sdC9EdCoxZTMsV3Q9TWF0aC5yb3VuZCgxZTMqTWF0aC5zcXJ0KCh2dC1NYXRoLnBvdyhsdCwyKS9EdCkvRHQpKTshaXNOYU4oV3QpJiZjZStXdD5NYXRoLm1heCgzKmNlLGNlKzE1MCkmJih3W1FlLklfRlJBTUVfREVMQVldPVd0KTt9cmV0dXJuIHd9KGEuX3ZpZGVvU1NSQyxlLG4sYS52aWRlb1RyYWNrLGw9PT0hMCx0aGlzLm5lZWRVcGxvYWRSZW5kZXJGcmVlemVUaW1lLGkpOnZvaWQgMDt1JiYoZC52aWRlbz11KTt9aWYoYy5oYXMoUS5BVURJTykmJmEuYXVkaW9UcmFjayl7bGV0IGw9YS5hdWRpb1RyYWNrP2Z1bmN0aW9uKHUsaCxwLGcsRSl7bGV0IGY9aC5hdWRpb1JlY3YuZmluZChWPT5WLnNzcmM9PT11KTtpZighZilyZXR1cm47bGV0IFM9e30sQz1wJiZwLmF1ZGlvUmVjdi5maW5kKFY9PlYuc3NyYz09PXUpLHtyZWNlaXZlZEZyYW1lczpBLGRyb3BwZWRGcmFtZXM6Yn09Zjt2YXIgdyxEO2lmKHN0KFMsbWkuSklUVEVSLGYuaml0dGVyTXMpLEEhPW51bGwmJmIhPW51bGwmJihTW21pLkZSRUVaRV09KEQ9Yiwodz1BKT09PTB8fDEwMCpEL3c+MjA/MTowKSksQyl7bGV0IFY9aC50aW1lc3RhbXAtcC50aW1lc3RhbXB8fChFP1JyOlJyKmJvKTtmLnBhY2tldHMhPW51bGwmJkMucGFja2V0cyE9bnVsbCYmc3QoUyxtaS5QQUNLQUdFX1JBVEUsMWUzKihmLnBhY2tldHMtQy5wYWNrZXRzKS9WKSxDLmJ5dGVzIT1udWxsJiZmLmJ5dGVzIT1udWxsJiZzdChTLG1pLkJJVFJBVEUsOCooZi5ieXRlcy1DLmJ5dGVzKS9WKSxmLnBhY2tldHNMb3N0IT1udWxsJiZDLnBhY2tldHNMb3N0IT1udWxsJiZzdChTLG1pLlBBQ0tBR0VfTE9TVCxmLnBhY2tldHNMb3N0LUMucGFja2V0c0xvc3QpO31pZihFKXJldHVybiBTO2xldCBrPTEwMCpnLl9zb3VyY2UuZ2V0QWNjdXJhdGVWb2x1bWVMZXZlbCgpLEI9Zi5vdXRwdXRMZXZlbDtpZihCIT1udWxsKXtsZXQgVj1NYXRoLmNlaWwoNTAqTWF0aC5sb2cxMCgxMDAqQisxKSk7c3QoUyxUMC5MRVZFTCxWKTt9aWYoc3QoUyxtaS5QQ01fTEVWRUwsayksZyYmKFNbbWkuRElTQUJMRURdPWcuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suZW5hYmxlZCYmZy5fbWVkaWFTdHJlYW1UcmFjay5lbmFibGVkPzA6MSksc3QoUyxtaS5KSVRURVJfQlVGRkVSLGYuaml0dGVyQnVmZmVyTXMpLHN0KFMsbWkuQ1VSUkVOVF9ERUxBWSxmLmppdHRlckJ1ZmZlck1zKSxTW21pLlBMQVlFUl9TVEFUVVNdPW9fW0VuLmdldFBsYXllclN0YXRlKGcuZ2V0VHJhY2tJZCgpKV0sQyl7bGV0IFY9Zi5jb25jZWFsZWRTYW1wbGVzLUMuY29uY2VhbGVkU2FtcGxlcztWPjAmJnN0KFMsbWkuQ09OQ0VBTEVEX1NBTVBMRVMsVik7fXJldHVybiBTfShhLl9hdWRpb1NTUkMsZSxuLGEuYXVkaW9UcmFjayxpKTp2b2lkIDA7bCYmKGQuYXVkaW89bCk7fShkLnZpZGVvfHxkLmF1ZGlvKSYmby5wdXNoKGQpO30pLHRoaXMubmVlZFVwbG9hZFJlbmRlckZyZWV6ZVRpbWU9IXRoaXMubmVlZFVwbG9hZFJlbmRlckZyZWV6ZVRpbWUsb31zdGFydFVwbG9hZFRyYW5zcG9ydFN0YXRzKCl7dGhpcy51cGxvYWRUcmFuc3BvcnRTdGFydGVkPSEwLHRoaXMudXBsb2FkV1JUQ1N0YXRzVGltZXJ8fHRoaXMuc3RhcnRVcGxvYWRXUlRDU3RhdHMoKTt9c3RvcFVwbG9hZFRyYW5zcG9ydFN0YXRzKCl7dGhpcy51cGxvYWRUcmFuc3BvcnRTdGFydGVkPSExO31zdGFydFVwbG9hZE91dGJvdW5kU3RhdHMoKXt0aGlzLnVwbG9hZE91dGJvdW5kU3RhcnRlZHx8KHRoaXMudXBsb2FkT3V0Ym91bmRTdGFydGVkPSEwLHRoaXMudXBsb2FkV1JUQ1N0YXRzVGltZXJ8fHRoaXMuc3RhcnRVcGxvYWRXUlRDU3RhdHMoKSx0aGlzLnVwbG9hZE91dGJvdW5kRGVub2lzZXJTdGF0c1RpbWVyJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnVwbG9hZE91dGJvdW5kRGVub2lzZXJTdGF0c1RpbWVyKSx0aGlzLnVwbG9hZE91dGJvdW5kRGVub2lzZXJTdGF0c1RpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCgoKT0+e2lmKCF0aGlzLnJlcXVlc3RBbGxUcmFja3N8fCF0aGlzLnJlcXVlc3RVcGxvYWQpcmV0dXJuO2xldCBlPSh0aGlzLnJlcXVlc3RBbGxUcmFja3MoKXx8W10pLmZpbmQobj0+biBpbnN0YW5jZW9mIG91KTtpZihlJiZlLl9leHRlcm5hbC5nZXREZW5vaXNlclN0YXRzKXtsZXQgbj1lLl9leHRlcm5hbC5nZXREZW5vaXNlclN0YXRzKCk7biYmdGhpcy5yZXF1ZXN0VXBsb2FkKHdjLkRFTk9JU0VSX1NUQVRTLG4pO319LDJlMyksdGhpcy51cGxvYWRFeHRTdGF0c1RpbWVyJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnVwbG9hZEV4dFN0YXRzVGltZXIpLHRoaXMudXBsb2FkRXh0U3RhdHNUaW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwoKCk9PnshdGhpcy5yZXF1ZXN0QWxsVHJhY2tzfHwhdGhpcy5yZXF1ZXN0VXBsb2FkfHx0aGlzLnJlcXVlc3RBbGxUcmFja3MoKS5mb3JFYWNoKGU9PntlLmdldFByb2Nlc3NvclN0YXRzKCkuZm9yRWFjaChuPT57dGhpcy5yZXF1ZXN0VXBsb2FkJiZ0aGlzLnJlcXVlc3RVcGxvYWQobi50eXBlLG4uc3RhdHMpO30pO30pO30sMmUzKSk7fXN0b3BVcGxvYWRPdXRib3VuZFN0YXRzKCl7dGhpcy51cGxvYWRPdXRib3VuZFN0YXJ0ZWQmJih0aGlzLnVwbG9hZE91dGJvdW5kU3RhcnRlZD0hMSx0aGlzLmxhc3RTZW5kU3RhdHMmJih0aGlzLmxhc3RTZW5kU3RhdHMudmlkZW9TZW5kPVtdLHRoaXMubGFzdFNlbmRTdGF0cy5hdWRpb1NlbmQ9W10sdGhpcy5sYXN0U2VuZFN0YXRzPXZvaWQgMCksdGhpcy51cGxvYWRPdXRib3VuZERlbm9pc2VyU3RhdHNUaW1lciYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy51cGxvYWRPdXRib3VuZERlbm9pc2VyU3RhdHNUaW1lciksdGhpcy51cGxvYWRPdXRib3VuZERlbm9pc2VyU3RhdHNUaW1lcj12b2lkIDApO31zdGFydFVwbG9hZEluYm91bmRTdGF0cygpe3RoaXMudXBsb2FkSW5ib3VuZFN0YXJ0ZWR8fCh0aGlzLnVwbG9hZEluYm91bmRTdGFydGVkPSEwLHRoaXMudXBsb2FkV1JUQ1N0YXRzVGltZXJ8fHRoaXMuc3RhcnRVcGxvYWRXUlRDU3RhdHMoKSx0aGlzLnVwbG9hZEluYm91bmRFeHRTdGF0c1RpbWVyJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnVwbG9hZEluYm91bmRFeHRTdGF0c1RpbWVyKSx0aGlzLnVwbG9hZEluYm91bmRFeHRTdGF0c1RpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCgoKT0+eyF0aGlzLnJlcXVlc3RVcGxvYWR8fCF0aGlzLnJlcXVlc3RSZW1vdGVNZWRpYXx8KHRoaXMucmVxdWVzdFJlbW90ZU1lZGlhKCl8fFtdKS5mb3JFYWNoKGU9PntsZXRbbixpXT1lO2kuaGFzKFEuVklERU8pJiZuLnZpZGVvVHJhY2smJm4udmlkZW9UcmFjay5nZXRQcm9jZXNzb3JTdGF0cygpLmZvckVhY2gocj0+e3RoaXMucmVxdWVzdFVwbG9hZCYmdGhpcy5yZXF1ZXN0VXBsb2FkKHIudHlwZSxyLnN0YXRzKTt9KSxpLmhhcyhRLkFVRElPKSYmbi5hdWRpb1RyYWNrJiZuLmF1ZGlvVHJhY2suZ2V0UHJvY2Vzc29yU3RhdHMoKS5mb3JFYWNoKHI9Pnt0aGlzLnJlcXVlc3RVcGxvYWQmJnRoaXMucmVxdWVzdFVwbG9hZChyLnR5cGUsci5zdGF0cyk7fSk7fSk7fSwyZTMpKTt9c3RvcFVwbG9hZEluYm91bmRTdGF0cygpe3RoaXMudXBsb2FkSW5ib3VuZFN0YXJ0ZWQmJih0aGlzLnVwbG9hZEluYm91bmRTdGFydGVkPSExLHRoaXMubGFzdFJlY3ZTdGF0cyYmKHRoaXMubGFzdFJlY3ZTdGF0cy52aWRlb1JlY3Y9W10sdGhpcy5sYXN0UmVjdlN0YXRzLmF1ZGlvUmVjdj1bXSx0aGlzLmxhc3RSZWN2U3RhdHM9dm9pZCAwKSk7fXN0YXJ0VXBsb2FkRXh0ZW5zaW9uVXNhZ2VTdGF0cygpe2lmKHRoaXMudXBsb2FkRXh0ZW5zaW9uVXNhZ2VTdGFydGVkKXJldHVybjt0aGlzLnVwbG9hZEV4dGVuc2lvblVzYWdlU3RhcnRlZD0hMCx0aGlzLnVwbG9hZEV4dFVzYWdlU3RhdHNUaW1lciYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy51cGxvYWRFeHRVc2FnZVN0YXRzVGltZXIpO2xldCBlPW5ldyBNYXA7dGhpcy51cGxvYWRFeHRVc2FnZVN0YXRzVGltZXI9d2luZG93LnNldEludGVydmFsKGFzeW5jKCk9PntsZXQgbj1EYXRlLm5vdygpLGk9e2Nvbm5lY3Rpb25JbnRlcnZhbDp2KFwiRVhURU5TSU9OX1VTQUdFX1VQTE9BRF9JTlRFUlZBTFwiKS8xZTMsZGV0YWlsczpbXSxsdHM6bn0scj1bXSxvPXRoaXMucmVxdWVzdEFsbFRyYWNrcyYmdGhpcy5yZXF1ZXN0QWxsVHJhY2tzKCl8fFtdO2ZvcihsZXQgZCBvZiBvKSFkLm11dGVkJiZkLmVuYWJsZWQmJihyPXIuY29uY2F0KGF3YWl0IGQuZ2V0UHJvY2Vzc29yVXNhZ2UoKSkpO2xldCBzPXRoaXMucmVxdWVzdFJlbW90ZU1lZGlhJiZ0aGlzLnJlcXVlc3RSZW1vdGVNZWRpYSgpfHxbXTtmb3IobGV0W2QsbF1vZiBzKWwuaGFzKFEuVklERU8pJiZkLnZpZGVvVHJhY2smJihyPXIuY29uY2F0KGF3YWl0IGQudmlkZW9UcmFjay5nZXRQcm9jZXNzb3JVc2FnZSgpKSksbC5oYXMoUS5BVURJTykmJmQuYXVkaW9UcmFjayYmKHI9ci5jb25jYXQoYXdhaXQgZC5hdWRpb1RyYWNrLmdldFByb2Nlc3NvclVzYWdlKCkpKTtpZihyLmxlbmd0aD09PTApcmV0dXJuO2kuZGV0YWlscz1mdW5jdGlvbihkLGwpe2xldCB1PXt9O2ZvcihsZXR7aWQ6RSx2YWx1ZTpmLGxldmVsOlMsZGlyZWN0aW9uOkN9b2YgZCl7dmFyIGg7bGV0IEE9KGg9bC5nZXQoRSkpIT09bnVsbCYmaCE9PXZvaWQgMD9oOjAsYj1mPT09Mj9BK3YoXCJFWFRFTlNJT05fVVNBR0VfVVBMT0FEX0lOVEVSVkFMXCIpLzFlMzpBO3ZhciBwLGc7bC5zZXQoRSxiKSx1W0VdPyhmPT09MiYmKHVbRV0udmFsdWU9ZiksUz51W0VdLmxldmVsJiYodVtFXS5sZXZlbD1TKSxDPT09XCJyZW1vdGVcIiYmKHVbRV0ucmVtb3RlVWlkQ291bnQrPTEpLHVbRV0udG90YWxUcz0ocD1sLmdldChFKSkhPT1udWxsJiZwIT09dm9pZCAwP3A6MCk6dVtFXT17dmFsdWU6ZixsZXZlbDpTLHJlbW90ZVVpZENvdW50OkM9PT1cImxvY2FsXCI/MDoxLHRvdGFsVHM6KGc9bC5nZXQoRSkpIT09bnVsbCYmZyE9PXZvaWQgMD9nOjB9O31yZXR1cm4gT2JqZWN0LmtleXModSkubWFwKEU9PntsZXR7bGV2ZWw6Zix2YWx1ZTpTLHRvdGFsVHM6Q309dVtFXTtyZXR1cm4ge2lkOkUsbGV2ZWw6Zix2YWx1ZTpTLHRvdGFsVHM6Q319KX0ocixlKTtsZXQgYT1EYXRlLm5vdygpLGM9YT5uP2E6bisxO3RoaXMucmVxdWVzdFVwbG9hZCYmdGhpcy5yZXF1ZXN0VXBsb2FkKHdjLkVYVEVOU0lPTl9VU0FHRV9TVEFUUyx7dXNhZ2VTdGF0czppLHNlbmRUczpjfSk7fSx2KFwiRVhURU5TSU9OX1VTQUdFX1VQTE9BRF9JTlRFUlZBTFwiKSk7fXN0b3BVcGxvYWRFeHRlbnNpb25Vc2FnZVN0YXRzKCl7dGhpcy51cGxvYWRFeHRlbnNpb25Vc2FnZVN0YXJ0ZWQmJih0aGlzLnVwbG9hZEV4dGVuc2lvblVzYWdlU3RhcnRlZD0hMSx0aGlzLnVwbG9hZEV4dFVzYWdlU3RhdHNUaW1lciYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy51cGxvYWRFeHRVc2FnZVN0YXRzVGltZXIpLHRoaXMudXBsb2FkRXh0VXNhZ2VTdGF0c1RpbWVyPXZvaWQgMCk7fX0saXI9Y2xhc3N7Z2V0IGhhc1ZpZGVvKCl7cmV0dXJuIHRoaXMuX3ZpZGVvX2VuYWJsZWRfJiYhdGhpcy5fdmlkZW9fbXV0ZWRfJiZ0aGlzLl92aWRlb19hZGRlZF99Z2V0IGhhc0F1ZGlvKCl7cmV0dXJuIHRoaXMuX2F1ZGlvX2VuYWJsZWRfJiYhdGhpcy5fYXVkaW9fbXV0ZWRfJiZ0aGlzLl9hdWRpb19hZGRlZF99Z2V0IGF1ZGlvVHJhY2soKXtpZih0aGlzLmhhc0F1ZGlvfHx0aGlzLl9hdWRpb19wcmVfc3Vic2NyaWJlZClyZXR1cm4gdGhpcy5fYXVkaW9UcmFja31nZXQgdmlkZW9UcmFjaygpe2lmKHRoaXMuaGFzVmlkZW98fHRoaXMuX3ZpZGVvX3ByZV9zdWJzY3JpYmVkKXJldHVybiB0aGlzLl92aWRlb1RyYWNrfWdldCBkYXRhQ2hhbm5lbHMoKXtyZXR1cm4gdGhpcy5fZGF0YUNoYW5uZWxzfWNvbnN0cnVjdG9yKGUsbil7VCh0aGlzLFwidWlkXCIsdm9pZCAwKSxUKHRoaXMsXCJfdWludGlkXCIsdm9pZCAwKSxUKHRoaXMsXCJfdHJ1c3RfaW5fcm9vbV9cIiwhMCksVCh0aGlzLFwiX3RydXN0X2F1ZGlvX2VuYWJsZWRfc3RhdGVfXCIsITApLFQodGhpcyxcIl90cnVzdF92aWRlb19lbmFibGVkX3N0YXRlX1wiLCEwKSxUKHRoaXMsXCJfdHJ1c3RfYXVkaW9fbXV0ZV9zdGF0ZV9cIiwhMCksVCh0aGlzLFwiX3RydXN0X3ZpZGVvX211dGVfc3RhdGVfXCIsITApLFQodGhpcyxcIl9hdWRpb19tdXRlZF9cIiwhMSksVCh0aGlzLFwiX3ZpZGVvX211dGVkX1wiLCExKSxUKHRoaXMsXCJfYXVkaW9fZW5hYmxlZF9cIiwhMCksVCh0aGlzLFwiX3ZpZGVvX2VuYWJsZWRfXCIsITApLFQodGhpcyxcIl9hdWRpb19hZGRlZF9cIiwhMSksVCh0aGlzLFwiX3ZpZGVvX2FkZGVkX1wiLCExKSxUKHRoaXMsXCJfaXNfcHJlX2NyZWF0ZWRcIiwhMSksVCh0aGlzLFwiX3ZpZGVvX3ByZV9zdWJzY3JpYmVkXCIsITEpLFQodGhpcyxcIl9hdWRpb19wcmVfc3Vic2NyaWJlZFwiLCExKSxUKHRoaXMsXCJfdHJ1c3RfdmlkZW9fc3RyZWFtX2FkZGVkX3N0YXRlX1wiLCEwKSxUKHRoaXMsXCJfdHJ1c3RfYXVkaW9fc3RyZWFtX2FkZGVkX3N0YXRlX1wiLCEwKSxUKHRoaXMsXCJfYXVkaW9UcmFja1wiLHZvaWQgMCksVCh0aGlzLFwiX3ZpZGVvVHJhY2tcIix2b2lkIDApLFQodGhpcyxcIl9kYXRhQ2hhbm5lbHNcIixbXSksVCh0aGlzLFwiX2F1ZGlvU1NSQ1wiLHZvaWQgMCksVCh0aGlzLFwiX3ZpZGVvU1NSQ1wiLHZvaWQgMCksVCh0aGlzLFwiX2F1ZGlvT3J0Y1wiLHZvaWQgMCksVCh0aGlzLFwiX3ZpZGVvT3J0Y1wiLHZvaWQgMCksVCh0aGlzLFwiX2NuYW1lXCIsdm9pZCAwKSxUKHRoaXMsXCJfcnR4U3NyY0lkXCIsdm9pZCAwKSxUKHRoaXMsXCJfdmlkZW9NaWRcIix2b2lkIDApLFQodGhpcyxcIl9hdWRpb01pZFwiLHZvaWQgMCksdGhpcy51aWQ9ZSx0aGlzLl91aW50aWQ9bjt9fSxVaT1mdW5jdGlvbih0KXtyZXR1cm4gdC5TRU5EX09OTFk9XCJTRU5EX09OTFlcIix0LlJFQ0VJVkVfT05MWT1cIlJFQ0VJVkVfT05MWVwiLHR9KHt9KTtmdW5jdGlvbiB1Vyh0LGUpe3ZhciBuO2xldCBpO3N3aXRjaChlKXtjYXNlIFUuTG9jYWxBdWRpb1RyYWNrOmk9Q3QuQXVkaW87YnJlYWs7Y2FzZSBVLkxvY2FsVmlkZW9UcmFjazppPVcobj10Ll9oaW50cykuY2FsbChuLEd0LlNDUkVFTl9UUkFDSyk/Q3QuU2NyZWVuOkN0LkhpZ2g7YnJlYWs7Y2FzZSBVLkxvY2FsVmlkZW9Mb3dUcmFjazppPUN0Lkxvdzt9cmV0dXJuIGl9ZnVuY3Rpb24gbG0odCl7bGV0IGU9ZnQoKTtpZih0LnNvbWUobj0+bi5fYnlwYXNzV2ViQXVkaW8pKXRocm93IG5ldyBOKFIuTk9UX1NVUFBPUlRFRCxcImNhbm5vdCBwdWJsaXNoIG11bHRpcGxlIHRyYWNrcyB3aGljaCBvbmUgb2YgdGhlbSBjb25maWd1cmVkIHdpdGggYnlwYXNzV2ViQXVkaW9cIik7aWYoIWUud2ViQXVkaW9NZWRpYVN0cmVhbURlc3QpdGhyb3cgbmV3IE4oUi5OT1RfU1VQUE9SVEVELFwiY2Fubm90IHB1Ymxpc2ggbXVsdGlwbGUgdHJhY2tzIGJlY2F1c2UgeW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgYXVkaW8gbWl4aW5nXCIpfWZ1bmN0aW9uIEVfKHQsZSl7bG0odCk7bGV0IG49bmV3IGdlO3JldHVybiB0LmZvckVhY2goaT0+bi5hZGRBdWRpb1RyYWNrKGkpKSxufXZhciBUdixTdixSdixDdixJdix2dix5dixBdixidix3dixPdixIdDtmdW5jdGlvbiBOdih0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKGk9aS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKS5lbnVtZXJhYmxlfSkpLG4ucHVzaC5hcHBseShuLGkpO31yZXR1cm4gbn1mdW5jdGlvbiBZZCh0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV0hPW51bGw/YXJndW1lbnRzW2VdOnt9O2UlMj9OdihPYmplY3QobiksITApLmZvckVhY2goZnVuY3Rpb24oaSl7VCh0LGksbltpXSk7fSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6TnYoT2JqZWN0KG4pKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGksT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGkpKTt9KTt9cmV0dXJuIHR9dmFyIEFuPShUdj1QaShVaS5TRU5EX09OTFkpLFN2PVBpKFVpLlNFTkRfT05MWSksUnY9UGkoKSxDdj1QaShVaS5SRUNFSVZFX09OTFkpLEl2PVBpKFVpLlJFQ0VJVkVfT05MWSksdnY9UGkoVWkuUkVDRUlWRV9PTkxZKSx5dj1QaShVaS5SRUNFSVZFX09OTFkpLEF2PVBpKFVpLlJFQ0VJVkVfT05MWSksYnY9UGkoVWkuUkVDRUlWRV9PTkxZKSx3dj1QaSgpLE92PVBpKFVpLlJFQ0VJVkVfT05MWSksSHQ9Y2xhc3MgZXh0ZW5kcyBYdHtnZXQgc3RhdGUoKXtyZXR1cm4gdGhpcy5fc3RhdGV9c2V0IHN0YXRlKHQpe2xldCBlPXRoaXMuX3N0YXRlO3RoaXMuX3N0YXRlPXQsdGhpcy5lbWl0KHR0LlN0YXRlQ2hhbmdlLGUsdGhpcy5fc3RhdGUpO31jb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKCksVCh0aGlzLFwiaXNQbGFuQlwiLCExKSxUKHRoaXMsXCJzdG9yZVwiLHZvaWQgMCksVCh0aGlzLFwic3RhdHNVcGxvYWRlclwiLHZvaWQgMCksVCh0aGlzLFwic2VuZENvbm5lY3Rpb25cIix2b2lkIDApLFQodGhpcyxcInJlY3ZDb25uZWN0aW9uXCIsdm9pZCAwKSxUKHRoaXMsXCJsb2NhbFRyYWNrTWFwXCIsbmV3IE1hcCksVCh0aGlzLFwicmVtb3RlVXNlck1hcFwiLG5ldyBNYXApLFQodGhpcyxcImxvY2FsRGF0YUNoYW5uZWxzXCIsW10pLFQodGhpcyxcInBlbmRpbmdMb2NhbFRyYWNrc1wiLFtdKSxUKHRoaXMsXCJwZW5kaW5nUmVtb3RlVHJhY2tzXCIsW10pLFQodGhpcyxcInN0YXRzQ29sbGVjdG9yXCIsdm9pZCAwKSxUKHRoaXMsXCJkdGxzRmFpbGVkQ291bnRcIiwwKSxUKHRoaXMsXCJzZW5kTXV0ZXhcIixuZXcgemUoXCJQMlBDaGFubmVsMi1zZW5kLW11dGV4XCIpKSxUKHRoaXMsXCJyZWN2TXV0ZXhcIixuZXcgemUoXCJQMlBDaGFubmVsMi1yZWN2LW11dGV4XCIpKSxUKHRoaXMsXCJfc3RhdGVcIixSdC5EaXNjb25uZWN0ZWQpLFQodGhpcyxcIl9yZXN0YXJ0U3RhdGVzXCIsW1wiZGlzY29ubmVjdGVkXCIsXCJmYWlsZWRcIl0pLFQodGhpcyxcInJlY29ubmVjdEludGVydmFsXCIsdm9pZCAwKSxUKHRoaXMsXCJ1cGxvYWRVbnBsaW5rU3RhcnRlZFwiLCExKSxUKHRoaXMsXCJ1cGxvYWREb3dubGlua1N0YXJ0ZWRcIiwhMSksVCh0aGlzLFwidXBsaW5rU3RhdGVVcGxvYWRJbnRlcnZhbFwiLHZvaWQgMCksVCh0aGlzLFwiZG93bmxpbmtTdGF0c1VwbG9hZEludGVydmFsXCIsdm9pZCAwKSxUKHRoaXMsXCJoYW5kbGVNdXRlTG9jYWxUcmFja1wiLGFzeW5jKG4saSxyKT0+e2xldCBvPWF3YWl0IHRoaXMuc2VuZE11dGV4LmxvY2soXCJMb2NraW5nIGZyb20gUDJQQ2hhbm5lbDIuaGFuZGxlTXV0ZUxvY2FsVHJhY2tcIik7dHJ5e2lmKCF0aGlzLnNlbmRDb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09UnQuQ29ubmVjdGVkKXJldHVybiB2b2lkIHIobmV3IE4oUi5JTlZBTElEX09QRVJBVElPTixcIkNhbm5vdCBjYWxsIFAyUENoYW5uZWwyLmhhbmRsZU11dGVMb2NhbFRyYWNrIGJlZm9yZSBzZW5kQ29ubmVjdGlvbiBlc3RhYmxpc2hlZC5cIikpO2xldCBjPXRoaXMuZmlsdGVyVG9iZU11dGVkVHJhY2tzKG4pO2lmKGMubGVuZ3RoPT09MClyZXR1cm4gdm9pZCBpKCk7bGV0IGQ9Yy5maW5kKHA9PnBbMF09PT1cInZpZGVvTG93VHJhY2tcIik7ZCYmZFsxXS50cmFjay5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5zdG9wKCksYXdhaXQgdGhpcy5zZW5kQ29ubmVjdGlvbi5tdXRlTG9jYWwoYy5tYXAocD0+e2xldFsse2lkOmd9XT1wO3JldHVybiBnfSkpO2xldCBsPSExO3ZhciBzLGE7bi50cmFja01lZGlhVHlwZT09PVwidmlkZW9cIj9sPSEoKHM9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChVLkxvY2FsQXVkaW9UcmFjaykpPT09bnVsbHx8cz09PXZvaWQgMHx8IXMudHJhY2suX211dGVkKTpsPSgoYT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxWaWRlb1RyYWNrKSk9PT1udWxsfHxhPT09dm9pZCAwP3ZvaWQgMDphLmlkKT09PXZvaWQgMDtsZXQgdT10aGlzLmNyZWF0ZU11dGVNZXNzYWdlKGMpO2F3YWl0IGt0KHRoaXMsdHQuUmVxdWVzdE11dGVMb2NhbCx1KTtsZXQgaD1uLnRyYWNrTWVkaWFUeXBlPT09XCJ2aWRlb1wiP3RvLk1VVEVfTE9DQUxfVklERU86dG8uTVVURV9MT0NBTF9BVURJTzthd2FpdCBrdCh0aGlzLHR0LlJlcXVlc3RQMlBNdXRlTG9jYWwse2FjdGlvbjpoLG1lc3NhZ2U6dSxpc011dGVBbGw6bH0pLGkoKTt9Y2F0Y2goYyl7cihjKTt9ZmluYWxseXtvKCk7fX0pLFQodGhpcyxcImhhbmRsZVVubXV0ZUxvY2FsVHJhY2tcIixhc3luYyhuLGkscik9PntsZXQgbz1hd2FpdCB0aGlzLnNlbmRNdXRleC5sb2NrKFwiTG9ja2luZyBmcm9tIFAyUENoYW5uZWwyLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2tcIik7dHJ5e2lmKCF0aGlzLnNlbmRDb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09UnQuQ29ubmVjdGVkKXJldHVybiB2b2lkIHIobmV3IE4oUi5JTlZBTElEX09QRVJBVElPTixcIkNhbm5vdCBjYWxsIFAyUENoYW5uZWwyLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2sgYmVmb3JlIHNlbmRDb25uZWN0aW9uIGVzdGFibGlzaGVkLlwiKSk7bGV0IHM9dGhpcy5maWx0ZXJUb2JlVW5tdXRlZFRyYWNrcyhuKTtpZihzLmxlbmd0aD09PTApcmV0dXJuIHZvaWQgaSgpO2F3YWl0IHRoaXMuc2VuZENvbm5lY3Rpb24udW5tdXRlTG9jYWwocy5tYXAoZD0+e2xldFsse2lkOmx9XT1kO3JldHVybiBsfSkpO2xldCBhPXRoaXMuY3JlYXRlVW5tdXRlTWVzc2FnZShzKSxjPW4udHJhY2tNZWRpYVR5cGU9PT1cInZpZGVvXCI/dG8uVU5NVVRFX0xPQ0FMX1ZJREVPOnRvLlVOTVVURV9MT0NBTF9BVURJTzthd2FpdCBrdCh0aGlzLHR0LlJlcXVlc3RQMlBNdXRlTG9jYWwse2FjdGlvbjpjLG1lc3NhZ2U6YX0pLGkoKTt9Y2F0Y2gocyl7cihzKTt9ZmluYWxseXtvKCk7fX0pLFQodGhpcyxcImhhbmRsZVVwZGF0ZVZpZGVvRW5jb2RlclwiLGFzeW5jKG4saSxyKT0+e2xldCBvPWF3YWl0IHRoaXMuc2VuZE11dGV4LmxvY2soXCJMb2NraW5nIGZyb20gUDJQQ2hhbm5lbDIuaGFuZGxlU2V0VmlkZW9FbmNvZGVyXCIpO3RyeXtsZXQgcz10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxWaWRlb1RyYWNrKTtpZighdGhpcy5zZW5kQ29ubmVjdGlvbnx8IXN8fHMudHJhY2shPT1ufHx0aGlzLnN0YXRlIT09UnQuQ29ubmVjdGVkKXJldHVybiB2b2lkIGkoKTtsZXR7aWQ6YSx0cmFjazpjfT1zO2EmJihhd2FpdCB0aGlzLnNlbmRDb25uZWN0aW9uLnVwZGF0ZVNlbmRQYXJhbWV0ZXJzKGEsYyksYXdhaXQgdGhpcy5zZW5kQ29ubmVjdGlvbi51cGRhdGVFbmNvZGVyQ29uZmlnKGEsYyksdGhpcy5lbWl0KHR0LlVwZGF0ZVZpZGVvRW5jb2RlcixjKSksaSgpO31jYXRjaChzKXtyKHMpO31maW5hbGx5e28oKTt9fSksVCh0aGlzLFwiaGFuZGxlVXBkYXRlVmlkZW9TZW5kUGFyYW1ldGVyc1wiLGFzeW5jKG4saSxyKT0+e2xldCBvPWF3YWl0IHRoaXMuc2VuZE11dGV4LmxvY2soXCJMb2NraW5nIGZyb20gUDJQQ2hhbm5lbDIuaGFuZGxlVXBkYXRlVmlkZW9TZW5kUGFyYW1ldGVyc1wiKTt0cnl7bGV0IHM9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChVLkxvY2FsVmlkZW9UcmFjayk7aWYoIXRoaXMuc2VuZENvbm5lY3Rpb258fCFzfHxzLnRyYWNrIT09bnx8dGhpcy5zdGF0ZSE9PVJ0LkNvbm5lY3RlZClyZXR1cm4gdm9pZCBpKCk7bGV0e2lkOmEsdHJhY2s6Y309czthJiZhd2FpdCB0aGlzLnNlbmRDb25uZWN0aW9uLnVwZGF0ZVNlbmRQYXJhbWV0ZXJzKGEsYyksaSgpO31jYXRjaChzKXtyKHMpO31maW5hbGx5e28oKTt9fSksVCh0aGlzLFwiaGFuZGxlUmVwbGFjZVRyYWNrXCIsYXN5bmMobixpLHIsbyk9PntsZXQgcztfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsMiBoYW5kbGVSZXBsYWNlVHJhY2sgZm9yIFt0cmFjay1pZC1cIikuY29uY2F0KG4uZ2V0VHJhY2tJZCgpLFwiXVwiKSksdHlwZW9mIG89PVwiYm9vbGVhblwiJiZvfHwocz1hd2FpdCB0aGlzLnNlbmRNdXRleC5sb2NrKFwiRnJvbSBQMlBDaGFubmVsMi5oYW5kbGVSZXBsYWNlVHJhY2tcIikpO3RyeXt2YXIgYTtsZXQgZD1BcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLmZpbmQobD0+e2xldFsse3RyYWNrOnV9XT1sO3JldHVybiBuPT09dX0pO2lmKCF0aGlzLnNlbmRDb25uZWN0aW9ufHwhZHx8ZFsxXS5pZD09PXZvaWQgMHx8dGhpcy5zdGF0ZSE9PVJ0LkNvbm5lY3RlZClyZXR1cm4gdm9pZCBpKCk7aWYoYXdhaXQoKGE9dGhpcy5zZW5kQ29ubmVjdGlvbik9PT1udWxsfHxhPT09dm9pZCAwP3ZvaWQgMDphLnJlcGxhY2VUcmFjayhuLGRbMV0uaWQpKSxkWzBdPT09VS5Mb2NhbFZpZGVvVHJhY2smJmZ0KCkuc3VwcG9ydER1YWxTdHJlYW1FbmNvZGluZyl7bGV0IGw9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChVLkxvY2FsVmlkZW9Mb3dUcmFjayk7aWYobCl7bGV0IHU9bi5fbWVkaWFTdHJlYW1UcmFjay5jbG9uZSgpO2wudHJhY2suX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suc3RvcCgpLGwudHJhY2suX21lZGlhU3RyZWFtVHJhY2s9dSxsLnRyYWNrLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrPXUsYXdhaXQgbmV3IGooKGgscCk9Pnt0aGlzLmhhbmRsZVJlcGxhY2VUcmFjayhsLnRyYWNrLGgscCwhMCk7fSk7fX1pKCk7fWNhdGNoKGQpe3IoZCk7fWZpbmFsbHl7dmFyIGM7KGM9cyk9PT1udWxsfHxjPT09dm9pZCAwfHxjKCk7fX0pLFQodGhpcyxcImhhbmRsZUdldExvY2FsVmlkZW9TdGF0c1wiLG49PntuKHRoaXMuc3RhdHNDb2xsZWN0b3IuZ2V0TG9jYWxWaWRlb1RyYWNrU3RhdHMoKSk7fSksVCh0aGlzLFwiaGFuZGxlR2V0TG9jYWxBdWRpb1N0YXRzXCIsbj0+e24odGhpcy5zdGF0c0NvbGxlY3Rvci5nZXRMb2NhbEF1ZGlvVHJhY2tTdGF0cygpKTt9KSxUKHRoaXMsXCJoYW5kbGVHZXRSZW1vdGVWaWRlb1N0YXRzXCIsbj0+dGhpcy5zdGF0c0NvbGxlY3Rvci5nZXRSZW1vdGVWaWRlb1RyYWNrU3RhdHMobi51aWQpW24udWlkXSksVCh0aGlzLFwiaGFuZGxlR2V0UmVtb3RlQXVkaW9TdGF0c1wiLG49PnRoaXMuc3RhdHNDb2xsZWN0b3IuZ2V0UmVtb3RlQXVkaW9UcmFja1N0YXRzKG4udWlkKVtuLnVpZF0pLHRoaXMuc3RvcmU9dCx0aGlzLnN0YXRzQ29sbGVjdG9yPWUsdGhpcy5zdGF0c0NvbGxlY3Rvci5hZGRQMlBDaGFubmVsKHRoaXMpLHRoaXMuc3RhdHNVcGxvYWRlcj1uZXcgcHUodCksdGhpcy5iaW5kU3RhdHNVcGxvYWRlckV2ZW50cygpLHRoaXMucmVjb25uZWN0SW50ZXJ2YWw9d2luZG93LnNldEludGVydmFsKCgpPT57W3RoaXMuc2VuZENvbm5lY3Rpb24sdGhpcy5yZWN2Q29ubmVjdGlvbl0uZm9yRWFjaChuPT57biYmKG4uaWNlQ29ubmVjdGlvblN0YXRlIT09XCJkaXNjb25uZWN0ZWRcIiYmbi5pY2VDb25uZWN0aW9uU3RhdGUhPT1cImZhaWxlZFwifHx0aGlzLmhhbmRsZURpc2Nvbm5lY3Qobi5kaXJlY3Rpb24pKTt9KTt9LHYoXCJJQ0VfUkVTVEFSVF9JTlRFUlZBTFwiKSk7fWFzeW5jIHN0YXJ0UDJQQ29ubmVjdGlvbih0LGUpe3Rocm93IG5ldyBOKFIuTk9UX1NVUFBPUlRFRCxcInAycCBtb2RlIGRvZXMgbm90IHN1cHBvcnQgc3RhcnRQMlBDb25uZWN0aW9uLlwiKX1hc3luYyBjb25uZWN0KHQpe3Rocm93IG5ldyBOKFIuTk9UX1NVUFBPUlRFRCxcInAycCBtb2RlIGRvZXMgbm90IHN1cHBvcnQgY29ubmVjdC5cIil9YXN5bmMgc3RhcnRQMlAodCxlKXtsZXQgbjt0cnl7aWYoZSl7dGhpcy5yZWN2Q29ubmVjdGlvbiYmKF8ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ2hhbm5lbC5zdGFydFAyUCByZXNldCByZWN2Q29ubmVjdGlvbi5cIikpLHRoaXMucmVjdkNvbm5lY3Rpb24uY2xvc2UoKSx0aGlzLnVuYmluZENvbm5lY3Rpb25FdmVudHModGhpcy5yZWN2Q29ubmVjdGlvbikpLG49YXdhaXQgdGhpcy5yZWN2TXV0ZXgubG9jayhcIkZyb20gUDJQQ2hhbm5lbC5zdGFydFAyUFwiKSx0aGlzLnJlY3ZDb25uZWN0aW9uPW5ldyBtdih0LHRoaXMuc3RvcmUsY24uUkVDRUlWRV9PTkxZKSx0aGlzLmJpbmRDb25uZWN0aW9uRXZlbnRzKHRoaXMucmVjdkNvbm5lY3Rpb24pO2xldCBpPWF3YWl0IHRoaXMucmVjdkNvbm5lY3Rpb24uZXN0YWJsaXNoKGUpO3JldHVybiB7aWNlUGFyYW1ldGVyczppLmljZVBhcmFtZXRlcnMsZHRsc1BhcmFtZXRlcnM6aS5kdGxzUGFyYW1ldGVycyxzZHA6aS5zZHB9fXt0aGlzLnN0YXRlPVJ0Lk5ldyx0aGlzLnNlbmRDb25uZWN0aW9uJiYoXy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsLnN0YXJ0UDJQIHJlc2V0IHNlbmRDb25uZWN0aW9uLlwiKSksdGhpcy5zZW5kQ29ubmVjdGlvbi5jbG9zZSgpLHRoaXMudW5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLnNlbmRDb25uZWN0aW9uKSksbj1hd2FpdCB0aGlzLnNlbmRNdXRleC5sb2NrKFwiRnJvbSBQMlBDaGFubmVsLnN0YXJ0UDJQXCIpLHRoaXMuc2VuZENvbm5lY3Rpb249bmV3IG12KHQsdGhpcy5zdG9yZSksdGhpcy5zdG9yZS5wZWVyQ29ubmVjdGlvblN0YXJ0KCksdGhpcy5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLnNlbmRDb25uZWN0aW9uKTtsZXQgaT1hd2FpdCB0aGlzLnNlbmRDb25uZWN0aW9uLmVzdGFibGlzaCgpO3JldHVybiB7aWNlUGFyYW1ldGVyczppLmljZVBhcmFtZXRlcnMsZHRsc1BhcmFtZXRlcnM6aS5kdGxzUGFyYW1ldGVycyxzZHA6aS5zZHB9fX1maW5hbGx5e24mJm4oKTt9fWFzeW5jIHAycENvbm5lY3QodCl7aWYoIXRoaXMuc2VuZENvbm5lY3Rpb24pdGhyb3cgbmV3IE4oUi5VTkVYUEVDVEVEX0VSUk9SLFwiQ2Fubm90IFAyUENoYW5uZWwyLnAycENvbm5lY3QgYmVmb3JlIFAyUENoYW5uZWwyLnN0YXJ0UDJQQ29ubmVjdGlvbiAuXCIpO3RoaXMuc3RvcmUucGVlckNvbm5lY3Rpb25TdGFydCgpLGF3YWl0IHRoaXMuc2VuZENvbm5lY3Rpb24uY29ubmVjdCh0KSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RhcnRVcGxvYWRUcmFuc3BvcnRTdGF0cygpLHRoaXMuc3RhdHNVcGxvYWRlci5zdGFydFVwbG9hZEV4dGVuc2lvblVzYWdlU3RhdHMoKSx0aGlzLnN0YXRlPVJ0LkNvbm5lY3RlZDt9YXN5bmMgYWRkUmVtb3RlQ2FuZGlkYXRlKHQsZSl7aWYoZT09PWNuLlJFQ0VJVkVfT05MWSl7aWYoIXRoaXMuc2VuZENvbm5lY3Rpb24pdGhyb3cgbmV3IE4oUi5VTkVYUEVDVEVEX0VSUk9SLFwiQ2Fubm90IFAyUENoYW5uZWwyLmNvbm5lY3QgYmVmb3JlIFAyUENoYW5uZWwyLmFkZFJlbW90ZUNhbmRpZGF0ZSAuXCIpO2F3YWl0IHRoaXMuc2VuZENvbm5lY3Rpb24uYWRkUmVtb3RlQ2FuZGlkYXRlKHQpO31lbHNlIHtpZighdGhpcy5yZWN2Q29ubmVjdGlvbil0aHJvdyBuZXcgTihSLlVORVhQRUNURURfRVJST1IsXCJDYW5ub3QgUDJQQ2hhbm5lbDIuY29ubmVjdCBiZWZvcmUgUDJQQ2hhbm5lbDIuYWRkUmVtb3RlQ2FuZGlkYXRlIC5cIik7YXdhaXQgdGhpcy5yZWN2Q29ubmVjdGlvbi5hZGRSZW1vdGVDYW5kaWRhdGUodCk7fX1wdWJsaXNoKHQsZSxuKXt2YXIgaT10aGlzO3JldHVybiBCaShmdW5jdGlvbiooKXtsZXQgcj15aWVsZCBUdChpLnNlbmRNdXRleC5sb2NrKFwiRnJvbSBQMlBDaGFubmVsLnB1Ymxpc2hcIikpO3RyeXtpZighaS5zZW5kQ29ubmVjdGlvbnx8aS5zdGF0ZSE9PVJ0LkNvbm5lY3RlZCl7aS50aHJvd0lmVHJhY2tUeXBlTm90TWF0Y2godCk7bGV0IGQ9dC5maWx0ZXIobD0+aS5wZW5kaW5nTG9jYWxUcmFja3MuaW5kZXhPZihsKT09PS0xKTtyZXR1cm4gdm9pZChpLnBlbmRpbmdMb2NhbFRyYWNrcz1pLnBlbmRpbmdMb2NhbFRyYWNrcy5jb25jYXQoZCkpfWkuc3RvcmUucHViSWQ9aS5zdG9yZS5wdWJJZCsxLHFlLm1hcmtQdWJsaXNoU3RhcnQoaS5zdG9yZS5jbGllbnRJZCxpLnN0b3JlLnB1YklkKTtsZXQgbz1pLmZpbHRlclRvYmVQdWJsaXNoZWRUcmFja3ModCxlLG4pO2lmKG8ubGVuZ3RoPT09MClyZXR1cm4gdm9pZCh5aWVsZCBUdChpLnRyeVRvVW5tdXRlQXVkaW8odCkpKTtvLmZvckVhY2goZD0+e2xldHt0cmFjazpsLHR5cGU6dX09ZCxoPURhdGUubm93KCk7aS5zdG9yZS5wdWJsaXNoKGwuZ2V0VHJhY2tJZCgpLHU9PT1VLkxvY2FsQXVkaW9UcmFjaz9cImF1ZGlvXCI6XCJ2aWRlb1wiLGgpO30pLGkuYmluZExvY2FsVHJhY2tFdmVudHMobyk7bGV0IHM9eWllbGQgVHQoaS5zZW5kQ29ubmVjdGlvbi5zZW5kKG8ubWFwKGQ9PntsZXR7dHJhY2s6bH09ZDtyZXR1cm4gbH0pLGkuc3RvcmUuY29kZWMsaS5zdG9yZS5hdWRpb0NvZGVjKSksYT0oeWllbGQgVHQocy5uZXh0KCkpKS52YWx1ZSxjPWkuY3JlYXRlR2F0ZXdheVB1Ymxpc2hNZXNzYWdlKG8sYSk7dHJ5e3lpZWxkIGM7fWNhdGNoKGQpe3Rocm93IHMudGhyb3coZCksZD8uY29kZT09PVIuV1NfQUJPUlQmJm8uZm9yRWFjaChsPT57bGV0e3RyYWNrOnV9PWw7aS5wZW5kaW5nTG9jYWxUcmFja3MuaW5kZXhPZih1KT09PS0xJiZpLnBlbmRpbmdMb2NhbFRyYWNrcy5wdXNoKHUpO30pLGkudW5iaW5kTG9jYWxUcmFja0V2ZW50cyhvKSxkfXlpZWxkIFR0KHMubmV4dCgpKSxvLmZvckVhY2goZD0+e2xldHt0eXBlOmx9PWQ7aS5zdGF0c0NvbGxlY3Rvci5hZGRMb2NhbFN0YXRzKGwpO30pLGkuc3RhdHNVcGxvYWRlci5zdGFydFVwbG9hZE91dGJvdW5kU3RhdHMoKSxpLmFzc2lnbkxvY2FsVHJhY2tzKG8sYSksby5mb3JFYWNoKGQ9PntsZXR7dHJhY2s6bCx0eXBlOnV9PWQsaD1EYXRlLm5vdygpO2kuc3RvcmUucHVibGlzaChsLmdldFRyYWNrSWQoKSx1PT09VS5Mb2NhbEF1ZGlvVHJhY2s/XCJhdWRpb1wiOlwidmlkZW9cIix2b2lkIDAsaCk7fSksaS5zdGFydFVwbG9hZFVwbGlua1N0YXRlKCk7fWZpbmFsbHl7cigpO319KSgpfWFzeW5jIHVucHVibGlzaCh0KXtpZighdGhpcy5zZW5kQ29ubmVjdGlvbnx8dGhpcy5zdGF0ZSE9PVJ0LkNvbm5lY3RlZClyZXR1cm4gdm9pZCh0Lmxlbmd0aD09PTA/dGhpcy5wZW5kaW5nTG9jYWxUcmFja3MubGVuZ3RoPTA6dGhpcy5wZW5kaW5nTG9jYWxUcmFja3M9dGhpcy5wZW5kaW5nTG9jYWxUcmFja3MuZmlsdGVyKHI9PiFXKHQpLmNhbGwodCxyKSkpO2xldCBlPXRoaXMuZmlsdGVyVG9iZVVucHVibGlzaGVkVHJhY2tzKHQpO2lmKGUubGVuZ3RoPT09MClyZXR1cm47bGV0IG49ZS5maW5kKHI9PnJbMF09PT1cInZpZGVvTG93VHJhY2tcIik7biYmblsxXS50cmFjay5jbG9zZSgpO2xldCBpPXRoaXMuY3JlYXRlR2F0ZXdheVVucHVibGlzaE1lc3NhZ2UoZSk7aWYoYXdhaXQgdGhpcy5zZW5kQ29ubmVjdGlvbi5zdG9wU2VuZGluZyhlLm1hcChyPT57bGV0Wyx7aWQ6b31dPXI7cmV0dXJuIG99KSksdGhpcy53aXRoZHJhd0xvY2FsVHJhY2tzKGUpLHRoaXMudW5iaW5kTG9jYWxUcmFja0V2ZW50cyhlLm1hcChyPT57bGV0W28se3RyYWNrOnN9XT1yO3JldHVybiB7dHlwZTpvLHRyYWNrOnN9fSkpLGUuZm9yRWFjaChyPT57bGV0W29dPXI7dGhpcy5zdGF0c0NvbGxlY3Rvci5yZW1vdmVMb2NhbFN0YXRzKG8pO30pLHRoaXMubG9jYWxUcmFja01hcC5zaXplPT09MCYmKHRoaXMuc3RhdHNVcGxvYWRlci5zdG9wVXBsb2FkT3V0Ym91bmRTdGF0cygpLHRoaXMuc3RvcFVwbG9hZFVwbGlua1N0YXRlKCkpLHRoaXMuc2VuZENvbm5lY3Rpb24mJnRoaXMuc3RhdGU9PT1SdC5Db25uZWN0ZWQpcmV0dXJuIG4mJm5bMV0udHJhY2suY2xvc2UoKSxpO3QuZm9yRWFjaChyPT57bGV0IG89dGhpcy5wZW5kaW5nTG9jYWxUcmFja3MuaW5kZXhPZihyKTtvIT09LTEmJnRoaXMucGVuZGluZ0xvY2FsVHJhY2tzLnNwbGljZShvLDEpO30pO31zdGFydFVwbG9hZFVwbGlua1N0YXRlKCl7aWYodGhpcy51cGxvYWRVbnBsaW5rU3RhcnRlZClyZXR1cm47dGhpcy51cGxvYWRVbnBsaW5rU3RhcnRlZD0hMCx0aGlzLnVwbGlua1N0YXRlVXBsb2FkSW50ZXJ2YWwmJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMudXBsaW5rU3RhdGVVcGxvYWRJbnRlcnZhbCk7bGV0IHQ9KCk9PntsZXQgZT1bXSxuPVtdO0FycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZm9yRWFjaChpPT57bGV0W3Ise3RyYWNrOm8sc3NyY3M6c31dPWksYT17c3RyZWFtX3R5cGU6dVcobyxyKSxzc3JjczpzfTtvLl9tdXRlZHx8IW8uX2VuYWJsZWQ/ZS5wdXNoKGEpOm4ucHVzaChhKTt9KSxlLmxlbmd0aD4wJiZlLmZvckVhY2goaT0+e2t0KHRoaXMsdHQuUmVxdWVzdE11dGVMb2NhbCxbaV0pO30pLG4ubGVuZ3RoPjAmJm4uZm9yRWFjaChpPT57a3QodGhpcyx0dC5SZXF1ZXN0VW5tdXRlTG9jYWwsW2ldKTt9KTt9O3QoKSx0aGlzLnVwbGlua1N0YXRlVXBsb2FkSW50ZXJ2YWw9d2luZG93LnNldEludGVydmFsKCgpPT57dCgpO30sM2UzKTt9c3RvcFVwbG9hZFVwbGlua1N0YXRlKCl7dGhpcy51cGxvYWRVbnBsaW5rU3RhcnRlZCYmKHRoaXMudXBsb2FkVW5wbGlua1N0YXJ0ZWQ9ITEsdGhpcy51cGxpbmtTdGF0ZVVwbG9hZEludGVydmFsJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnVwbGlua1N0YXRlVXBsb2FkSW50ZXJ2YWwpKTt9cHVibGlzaExvd1N0cmVhbSh0KXtyZXR1cm4gQmkoZnVuY3Rpb24qKCl7dGhyb3cgbmV3IE4oUi5OT1RfU1VQUE9SVEVELFwicDJwIG1vZGUgZG9lcyBub3Qgc3VwcG9ydCBwdWJsaXNoTG93U3RyZWFtLlwiKX0pKCl9YXN5bmMgcmVwdWJsaXNoKCl7dGhpcy5wZW5kaW5nTG9jYWxUcmFja3MubGVuZ3RoPjAmJihfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBFbWl0IFAyUENoYW5uZWxFdmVudHMuUmVxdWVzdFJlUHVibGlzaCB0byByZXB1Ymxpc2ggdHJhY2tzLlwiKSksYXdhaXQgR2UodGhpcyx0dC5SZXF1ZXN0UmVQdWJsaXNoLHRoaXMucGVuZGluZ0xvY2FsVHJhY2tzKSx0aGlzLmVtaXQodHQuTWVkaWFSZWNvbm5lY3RFbmQsdGhpcy5zdG9yZS51aWQpLHRoaXMucGVuZGluZ0xvY2FsVHJhY2tzPVtdKTt9YXN5bmMgdW5wdWJsaXNoTG93U3RyZWFtKCl7dGhyb3cgbmV3IE4oUi5OT1RfU1VQUE9SVEVELFwicDJwIG1vZGUgZG9lcyBub3Qgc3VwcG9ydCB1bnB1Ymxpc2hMb3dTdHJlYW0uXCIpfWFzeW5jIHN1YnNjcmliZSh0LGUsbixpKXt2YXIgcjtpZighdGhpcy5yZWN2Q29ubmVjdGlvbil0aHJvdyBuZXcgTihSLklOVkFMSURfT1BFUkFUSU9OLFwiQ2Fubm90IHN1YnNjcmliZSByZW1vdGUgdXNlciB3aGVuIHJlY3ZDb25uZWN0aW9uIGRpc2Nvbm5lY3RlZC5cIik7aWYoKHI9dGhpcy5yZW1vdGVVc2VyTWFwLmdldCh0KSkhPT1udWxsJiZyIT09dm9pZCAwJiZyLmhhcyhlKSlyZXR1cm47bGV0e3RyYWNrOm8sbWlkOnMsdHJhbnNjZWl2ZXI6YX09YXdhaXQgdGhpcy5yZWN2Q29ubmVjdGlvbi5yZWNlaXZlKGUsW3tzc3JjSWQ6bn1dLFN0cmluZyh0LnVpZCksaSk7ZT09PVEuQVVESU8/KHQuX2F1ZGlvVHJhY2s/dC5fYXVkaW9UcmFjay5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhvKToodC5fYXVkaW9UcmFjaz1uZXcgS3Mobyx0LnVpZCx0Ll91aW50aWQsdGhpcy5zdG9yZSksXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXSBjcmVhdGUgcmVtb3RlIGF1ZGlvIHRyYWNrOiBcIikuY29uY2F0KHQuX2F1ZGlvVHJhY2suZ2V0VHJhY2tJZCgpKSkpLGEmJnQuX2F1ZGlvVHJhY2suX3VwZGF0ZVJ0cFRyYW5zY2VpdmVyKGEpLHRoaXMuYmluZFJlbW90ZVRyYWNrRXZlbnRzKHQsdC5fYXVkaW9UcmFjaykpOih0Ll92aWRlb1NTUkM9bix0Ll92aWRlb1RyYWNrP3QuX3ZpZGVvVHJhY2suX3VwZGF0ZU9yaWdpbk1lZGlhU3RyZWFtVHJhY2sobyk6KHQuX3ZpZGVvVHJhY2s9bmV3IEhzKG8sdC51aWQsdC5fdWludGlkLHRoaXMuc3RvcmUpLF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1wiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gY3JlYXRlIHJlbW90ZSB2aWRlbyB0cmFjazogXCIpLmNvbmNhdCh0Ll92aWRlb1RyYWNrLmdldFRyYWNrSWQoKSkpKSxhJiZ0Ll92aWRlb1RyYWNrLl91cGRhdGVSdHBUcmFuc2NlaXZlcihhKSx0aGlzLmJpbmRSZW1vdGVUcmFja0V2ZW50cyh0LHQuX3ZpZGVvVHJhY2spKTtsZXQgYz10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KHQpO2M/Yy5zZXQoZSxzKTp0aGlzLnJlbW90ZVVzZXJNYXAuc2V0KHQsbmV3IE1hcChbW2Usc11dKSksdGhpcy5zdGF0c0NvbGxlY3Rvci5hZGRSZW1vdGVTdGF0cyh0LnVpZCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0YXJ0VXBsb2FkSW5ib3VuZFN0YXRzKCksdGhpcy5zdGFydFVwbG9hZERvd25saW5rU3RhdGUoKTtsZXQgZD10aGlzLnBlbmRpbmdSZW1vdGVUcmFja3MuZmluZEluZGV4KGw9PntsZXR7dXNlcjp1LGtpbmQ6aH09bDtyZXR1cm4gdS51aWQ9PT10LnVpZCYmZT09PWh9KTtkIT09LTEmJih0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3Muc3BsaWNlKGQsMSksdGhpcy5lbWl0KHR0Lk1lZGlhUmVjb25uZWN0RW5kLHQudWlkKSk7fWFzeW5jIG1vY2tTdWJzY3JpYmUodCxlLG4saSl7aWYoIXRoaXMucmVjdkNvbm5lY3Rpb24pdGhyb3cgbmV3IE4oUi5JTlZBTElEX09QRVJBVElPTixcIkNhbm5vdCBzdWJzY3JpYmUgcmVtb3RlIHVzZXIgd2hlbiByZWN2Q29ubmVjdGlvbiBkaXNjb25uZWN0ZWQuXCIpO2F3YWl0IHRoaXMucmVjdkNvbm5lY3Rpb24ubW9ja1JlY2VpdmUoZSxbe3NzcmNJZDpufV0sU3RyaW5nKHQudWlkKSxpKTt9YXN5bmMgdW5zdWJzY3JpYmUodCxlLG4pe2xldCBpPXRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5maWx0ZXIobz0+e2xldHt1c2VyOnMsa2luZDphfT1vO3JldHVybiBlIT09dm9pZCAwP3MudWlkPT09dC51aWQmJmU9PT1hOnMudWlkPT09dC51aWR9KTtpZihpLmZvckVhY2gobz0+e2xldCBzPXRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5pbmRleE9mKG8pO3RoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5zcGxpY2UocywxKTt9KSx0aGlzLnJlY3ZDb25uZWN0aW9ufHxufHxpLmZvckVhY2gobz0+e2xldHtraW5kOnN9PW87dmFyIGE7aWYocz09PVEuQVVESU8pKGE9dC5fYXVkaW9UcmFjayk9PT1udWxsfHxhPT09dm9pZCAwfHxhLl9kZXN0cm95KCksdC5fYXVkaW9UcmFjaz12b2lkIDA7ZWxzZSBpZihzPT09US5WSURFTyl7dmFyIGM7KGM9dC5fdmlkZW9UcmFjayk9PT1udWxsfHxjPT09dm9pZCAwfHxjLl9kZXN0cm95KCksdC5fdmlkZW9UcmFjaz12b2lkIDA7fX0pLCF0aGlzLnJlY3ZDb25uZWN0aW9uKXJldHVybjtsZXQgcj10aGlzLmZpbHRlclRvYmVVblN1YnNjcmliZWRUcmFja3ModCxlKTtyLmxlbmd0aCE9PTAmJihhd2FpdCB0aGlzLnJlY3ZDb25uZWN0aW9uLnN0b3BSZWNlaXZpbmcoci5tYXAobz0+e2xldFsse2lkOnN9XT1vO3JldHVybiBzfSkpLHRoaXMud2l0aGRyYXdSZW1vdGVUcmFja3MociksdGhpcy5yZW1vdGVVc2VyTWFwLnNpemU9PT0wJiYodGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRJbmJvdW5kU3RhdHMoKSx0aGlzLnN0b3BVcGxvYWREb3dubGlua1N0YXRlKCkpLHIuZm9yRWFjaChvPT57bGV0W3Mse2tpbmQ6YX1dPW87dmFyIGMsZDtpZihhPT09US5WSURFTyYmcy5fdmlkZW9TU1JDJiYoKGM9dGhpcy5yZWN2Q29ubmVjdGlvbik9PT1udWxsfHxjPT09dm9pZCAwfHxjLnNldFN0YXRzUmVtb3RlVmlkZW9Jc1JlYWR5KHMuX3ZpZGVvU1NSQywhMSkpLGE9PT1RLlZJREVPKXRoaXMudW5iaW5kUmVtb3RlVHJhY2tFdmVudHMocy5fdmlkZW9UcmFjayksbnx8KChkPXMuX3ZpZGVvVHJhY2spPT09bnVsbHx8ZD09PXZvaWQgMHx8ZC5fZGVzdHJveSgpLHMuX3ZpZGVvVHJhY2s9dm9pZCAwKTtlbHNlIGlmKGE9PT1RLkFVRElPKXt2YXIgbDt0aGlzLnVuYmluZFJlbW90ZVRyYWNrRXZlbnRzKHMuX2F1ZGlvVHJhY2spLCFuJiYoKGw9cy5fYXVkaW9UcmFjayk9PT1udWxsfHxsPT09dm9pZCAwfHxsLl9kZXN0cm95KCkscy5fYXVkaW9UcmFjaz12b2lkIDApO319KSxyLmZvckVhY2gobz0+e2xldFsse2tpbmQ6c31dPW87a3QodGhpcyx0dC5SZXF1ZXN0UDJQTXV0ZVJlbW90ZSxzKTt9KSk7fXN0YXJ0VXBsb2FkRG93bmxpbmtTdGF0ZSgpe2lmKHRoaXMudXBsb2FkRG93bmxpbmtTdGFydGVkKXJldHVybjt0aGlzLnVwbG9hZERvd25saW5rU3RhcnRlZD0hMCx0aGlzLmRvd25saW5rU3RhdHNVcGxvYWRJbnRlcnZhbCYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5kb3dubGlua1N0YXRzVXBsb2FkSW50ZXJ2YWwpO2xldCB0PSgpPT5BcnJheS5mcm9tKHRoaXMucmVtb3RlVXNlck1hcC5lbnRyaWVzKCkpLmZvckVhY2goZT0+e2xldFssbl09ZTtbUS5WSURFTyxRLkFVRElPXS5mb3JFYWNoKGk9PntuLmhhcyhpKT9rdCh0aGlzLHR0LlJlcXVlc3RQMlBVbm11dGVSZW1vdGUsaSk6a3QodGhpcyx0dC5SZXF1ZXN0UDJQTXV0ZVJlbW90ZSxpKTt9KTt9KTt0KCksdGhpcy5kb3dubGlua1N0YXRzVXBsb2FkSW50ZXJ2YWw9d2luZG93LnNldEludGVydmFsKCgpPT57dCgpO30sM2UzKTt9c3RvcFVwbG9hZERvd25saW5rU3RhdGUoKXt0aGlzLnVwbG9hZERvd25saW5rU3RhcnRlZCYmKHRoaXMudXBsb2FkRG93bmxpbmtTdGFydGVkPSExLHRoaXMuZG93bmxpbmtTdGF0c1VwbG9hZEludGVydmFsJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmRvd25saW5rU3RhdHNVcGxvYWRJbnRlcnZhbCkpO31nZXRBbGxEYXRhQ2hhbm5lbHMoKXtyZXR1cm4gdGhpcy5sb2NhbERhdGFDaGFubmVsc31hc3luYyBtYXNzU3Vic2NyaWJlKHQpe3Rocm93IG5ldyBOKFIuTk9UX1NVUFBPUlRFRCxcInAycCBtb2RlIGRvZXMgbm90IHN1cHBvcnQgbWFzc1N1YnNjcmliZS5cIil9YXN5bmMgbWFzc1N1YnNjcmliZU5vTG9jayh0KXt0aHJvdyBuZXcgTihSLk5PVF9TVVBQT1JURUQsXCJwMnAgbW9kZSBkb2VzIG5vdCBzdXBwb3J0IG1hc3NTdWJzY3JpYmVOb0xvY2suXCIpfWFzeW5jIG1hc3NVbnN1YnNjcmliZSh0KXt0aHJvdyBuZXcgTihSLk5PVF9TVVBQT1JURUQsXCJwMnAgbW9kZSBkb2VzIG5vdCBzdXBwb3J0IG1hc3NVbnN1YnNjcmliZS5cIil9YXN5bmMgbWFzc1Vuc3Vic2NyaWJlTm9Mb2NrKHQpe3Rocm93IG5ldyBOKFIuTk9UX1NVUFBPUlRFRCxcInAycCBtb2RlIGRvZXMgbm90IHN1cHBvcnQgbWFzc1Vuc3Vic2NyaWJlTm9Mb2NrLlwiKX1hc3luYyBtdXRlUmVtb3RlKHQsZSl7aWYoIXRoaXMucmVjdkNvbm5lY3Rpb24pcmV0dXJuO2xldCBuPXRoaXMucmVtb3RlVXNlck1hcC5nZXQodCk7aWYoIW4pcmV0dXJuIHZvaWQgXy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsMi5tdXRlUmVtb3RlIGhhcyBubyByZW1vdGUgdXNlciBcIikuY29uY2F0KHQudWlkLFwiLlwiKSk7aWYoIW4uZ2V0KGUpKXJldHVybiB2b2lkIF8ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ2hhbm5lbDIubXV0ZVJlbW90ZSBoYXMgbm8gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdCh0LnVpZCxcIiBtZWRpYSB0eXBlIFwiKS5jb25jYXQoZSxcIi5cIikpO2xldCBpPWU9PT1RLlZJREVPP3QuX3ZpZGVvU1NSQzp0Ll9hdWRpb1NTUkM7aSE9PXZvaWQgMCYmdGhpcy5yZWN2Q29ubmVjdGlvbi5zZXRTdGF0c1JlbW90ZVZpZGVvSXNSZWFkeShpLCExKTt9YXN5bmMgdW5tdXRlUmVtb3RlKHQsZSl7cmV0dXJuIHRoaXMudW5tdXRlUmVtb3RlTm9Mb2NrKHQsZSl9YXN5bmMgdW5tdXRlUmVtb3RlTm9Mb2NrKHQsZSl7aWYoIXRoaXMucmVjdkNvbm5lY3Rpb24pcmV0dXJuO2xldCBuPXRoaXMucmVtb3RlVXNlck1hcC5nZXQodCk7aWYoIW4pcmV0dXJuIHZvaWQgXy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsMi51bm11dGVSZW1vdGUgaGFzIG5vIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQodC51aWQsXCIuXCIpKTtuLmdldChlKXx8Xy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsMi51bm11dGVSZW1vdGUgaGFzIG5vIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQodC51aWQsXCIgbWVkaWEgdHlwZSBcIikuY29uY2F0KGUsXCIuXCIpKTt9Z2V0QWxsVHJhY2tzKHQpe2xldCBlPXRoaXMubG9jYWxUcmFja01hcC5nZXQoVS5Mb2NhbEF1ZGlvVHJhY2spO2lmKGU/LnRyYWNrIGluc3RhbmNlb2YgZ2Upe2xldCBuPWUudHJhY2s7cmV0dXJuIEFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZmlsdGVyKGk9PntsZXRbcl09aTtyZXR1cm4gciE9PVUuTG9jYWxBdWRpb1RyYWNrfSkuZmlsdGVyKGk9PntsZXRbcl09aTtyZXR1cm4gISh0JiZyPT09VS5Mb2NhbFZpZGVvTG93VHJhY2spfSkubWFwKGk9PntsZXRbLHt0cmFjazpyfV09aTtyZXR1cm4gcn0pLmNvbmNhdChuLnRyYWNrTGlzdCl9cmV0dXJuIEFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZmlsdGVyKG49PntsZXRbaV09bjtyZXR1cm4gISh0JiZpPT09VS5Mb2NhbFZpZGVvTG93VHJhY2spfSkubWFwKG49PntsZXRbLHt0cmFjazppfV09bjtyZXR1cm4gaX0pfXJlcG9ydFB1Ymxpc2hFdmVudCh0LGUsbixpLHIpe2lmKHQpe2xldCBzPXRoaXMubG9jYWxUcmFja01hcC5nZXQoVS5Mb2NhbEF1ZGlvVHJhY2spLGE9aT90aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxWaWRlb0xvd1RyYWNrKTp0aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxWaWRlb1RyYWNrKTtYLnB1Ymxpc2godGhpcy5zdG9yZS5zZXNzaW9uSWQse2V2ZW50RWxhcHNlOnFlLm1lYXN1cmVGcm9tUHVibGlzaFN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQsdGhpcy5zdG9yZS5wdWJJZCksc3VjYzp0LGVjOmUsYXVkaW9OYW1lOnM/LnRyYWNrLmdldFRyYWNrTGFiZWwoKSx2aWRlb05hbWU6YT8udHJhY2suZ2V0VHJhY2tMYWJlbCgpLHNjcmVlbnNoYXJlOmE/LnRyYWNrLl9oaW50cy5pbmRleE9mKEd0LlNDUkVFTl9UUkFDSykhPT0tMSxhdWRpbzohIXMsdmlkZW86ISFhLHAycGlkOnRoaXMuc3RvcmUucDJwSWQscHVibGlzaFJlcXVlc3RpZDp0aGlzLnN0b3JlLnB1YklkLGV4dGVuZDpyfSk7fWVsc2Uge3ZhciBvO258fChuPVtdKTtsZXQgcz1uLmZpbmQoYz0+YyBpbnN0YW5jZW9mIFF0KSxhPWk/KG89dGhpcy5sb2NhbFRyYWNrTWFwLmdldChVLkxvY2FsVmlkZW9UcmFjaykpPT09bnVsbHx8bz09PXZvaWQgMD92b2lkIDA6by50cmFjazpuLmZpbmQoYz0+YyBpbnN0YW5jZW9mIEZ0KTtYLnB1Ymxpc2godGhpcy5zdG9yZS5zZXNzaW9uSWQse2V2ZW50RWxhcHNlOnFlLm1lYXN1cmVGcm9tUHVibGlzaFN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQsdGhpcy5zdG9yZS5wdWJJZCksc3VjYzp0LGVjOmUsYXVkaW9OYW1lOnM/LmdldFRyYWNrTGFiZWwoKSx2aWRlb05hbWU6YT8uZ2V0VHJhY2tMYWJlbCgpLHNjcmVlbnNoYXJlOmE/Ll9oaW50cy5pbmRleE9mKEd0LlNDUkVFTl9UUkFDSykhPT0tMSxhdWRpbzohIXMsdmlkZW86ISFhLHAycGlkOnRoaXMuc3RvcmUucDJwSWQscHVibGlzaFJlcXVlc3RpZDp0aGlzLnN0b3JlLnB1YklkLGV4dGVuZDpyfSk7fX1yZXBvcnRTdWJzY3JpYmVFdmVudCh0LGUsbixpKXtsZXQgcj1pPT09US5WSURFTz9uLl92aWRlb1NTUkM6bi5fYXVkaW9TU1JDO3ImJlguc3Vic2NyaWJlKHRoaXMuc3RvcmUuc2Vzc2lvbklkLHtzdWNjOnQsZWM6ZSx2aWRlbzppPT09US5WSURFTyxhdWRpbzppPT09US5BVURJTyxwZWVyaWQ6bi51aWQsc3Vic2NyaWJlUmVxdWVzdGlkOmk9PT1RLlZJREVPP24uX3ZpZGVvU1NSQzpuLl9hdWRpb1NTUkMscDJwaWQ6dGhpcy5zdG9yZS5wMnBJZCxldmVudEVsYXBzZTpxZS5tZWFzdXJlRnJvbVN1YnNjcmliZVN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQscil9KTt9cmVzZXQoKXtfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsMi5yZXNldFwiKSksdGhpcy5zZW5kTXV0ZXg9bmV3IHplKFwiUDJQQ2hhbm5lbDItc2VuZC1tdXRleFwiKSx0aGlzLnNlbmRNdXRleD1uZXcgemUoXCJQMlBDaGFubmVsMi1yZWN2LW11dGV4XCIpLHRoaXMuc2VuZENvbm5lY3Rpb24mJih0aGlzLnNlbmRDb25uZWN0aW9uLmNsb3NlKCksdGhpcy51bmJpbmRDb25uZWN0aW9uRXZlbnRzKHRoaXMuc2VuZENvbm5lY3Rpb24pLHRoaXMuc2VuZENvbm5lY3Rpb249dm9pZCAwKSx0aGlzLnJlY3ZDb25uZWN0aW9uJiYodGhpcy5yZWN2Q29ubmVjdGlvbi5jbG9zZSgpLHRoaXMudW5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLnJlY3ZDb25uZWN0aW9uKSx0aGlzLnJlY3ZDb25uZWN0aW9uPXZvaWQgMCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRPdXRib3VuZFN0YXRzKCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRJbmJvdW5kU3RhdHMoKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RvcFVwbG9hZFRyYW5zcG9ydFN0YXRzKCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRFeHRlbnNpb25Vc2FnZVN0YXRzKCksdGhpcy5zdG9wVXBsb2FkVXBsaW5rU3RhdGUoKSx0aGlzLnN0b3BVcGxvYWREb3dubGlua1N0YXRlKCksdGhpcy51bmJpbmRMb2NhbFRyYWNrRXZlbnRzKCksdGhpcy51bmJpbmRBbGxSZW1vdGVUcmFja0V2ZW50cygpLHRoaXMudW5iaW5kUnRwVHJhbnNjZWl2ZXIoKTtsZXQgdD10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxBdWRpb1RyYWNrKTtpZih0Py50cmFjayBpbnN0YW5jZW9mIGdlKXtpZih0LnRyYWNrLnRyYWNrTGlzdC5sZW5ndGg+MCl7bGV0IGU9dC50cmFjazt0LnRyYWNrLnRyYWNrTGlzdC5mb3JFYWNoKG49PntlLnJlbW92ZUF1ZGlvVHJhY2sobik7fSk7fXQudHJhY2suY2xvc2UoKTt9dGhpcy5sb2NhbFRyYWNrTWFwLmNsZWFyKCksdGhpcy5yZW1vdGVVc2VyTWFwLmNsZWFyKCksdGhpcy5zdGF0c0NvbGxlY3Rvci5yZW1vdmVSZW1vdGVTdGF0cygpLHRoaXMuc3RhdHNDb2xsZWN0b3IucmVtb3ZlTG9jYWxTdGF0cygpLHRoaXMuZHRsc0ZhaWxlZENvdW50PTAsdGhpcy5wZW5kaW5nTG9jYWxUcmFja3M9W10sdGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzPVtdLHRoaXMucmVjb25uZWN0SW50ZXJ2YWwmJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnJlY29ubmVjdEludGVydmFsKSx0aGlzLnJlY29ubmVjdEludGVydmFsPXZvaWQgMCksdGhpcy5zdGF0ZT1SdC5EaXNjb25uZWN0ZWQ7fWdldFN0YXRzKHQpe3ZhciBlLG47cmV0dXJuIHQ/KG49dGhpcy5yZWN2Q29ubmVjdGlvbik9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLmdldFN0YXRzKCk6KGU9dGhpcy5zZW5kQ29ubmVjdGlvbik9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLmdldFN0YXRzKCl9Z2V0UmVtb3RlVmlkZW9Jc1JlYWR5KHQpe3ZhciBlO3JldHVybiAoKGU9dGhpcy5yZWN2Q29ubmVjdGlvbik9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLmdldFJlbW90ZVZpZGVvSXNSZWFkeSh0KSl8fCExfWdldExvY2FsQXVkaW9Wb2x1bWUoKXtsZXQgdD10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxBdWRpb1RyYWNrKTtpZih0KXJldHVybiB0LnRyYWNrLmdldFZvbHVtZUxldmVsKCl9Z2V0TG9jYWxWaWRlb1NpemUoKXtsZXQgdD10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxWaWRlb1RyYWNrKTtpZih0KXJldHVybiB7d2lkdGg6dC50cmFjay52aWRlb1dpZHRofHwwLGhlaWdodDp0LnRyYWNrLnZpZGVvSGVpZ2h0fHwwfX1nZXRFbmNvZGVyQ29uZmlnKHQpe2xldCBlPXRoaXMubG9jYWxUcmFja01hcC5nZXQodCk7cmV0dXJuIGUmJmUudHJhY2sgaW5zdGFuY2VvZiBGdHx8ZSYmZS50cmFjayBpbnN0YW5jZW9mIFF0P2UudHJhY2suX2VuY29kZXJDb25maWc6dm9pZCAwfWdldExvY2FsTWVkaWEodCl7cmV0dXJuIHRoaXMubG9jYWxUcmFja01hcC5nZXQodCl9aGFzTG9jYWxNZWRpYSgpe3JldHVybiB0aGlzLmxvY2FsVHJhY2tNYXAuc2l6ZT4wfWhhc1JlbW90ZU1lZGlhKHQsZSl7aWYoIXQpcmV0dXJuIHRoaXMucmVtb3RlVXNlck1hcC5zaXplPjA7bGV0IG49dGhpcy5yZW1vdGVVc2VyTWFwLmdldCh0KTtyZXR1cm4gISFuJiYoIWV8fG4uaGFzKGUpKX1hc3luYyBoYXNSZW1vdGVNZWRpYVdpdGhMb2NrKHQsZSl7aWYoIXQpcmV0dXJuIHRoaXMucmVtb3RlVXNlck1hcC5zaXplPjA7bGV0IG49dGhpcy5yZW1vdGVVc2VyTWFwLmdldCh0KTtyZXR1cm4gISFuJiYoIWV8fG4uaGFzKGUpKX1nZXRSZW1vdGVNZWRpYSh0KXt2YXIgZTtsZXQgbj1BcnJheS5mcm9tKHhuKGU9dGhpcy5yZW1vdGVVc2VyTWFwKS5jYWxsKGUpKS5maW5kKGk9PmkudWlkPT09dCk7cmV0dXJuIG4/e2F1ZGlvVHJhY2s6bi5hdWRpb1RyYWNrLGF1ZGlvU1NSQzpuLl9hdWRpb1NTUkMsdmlkZW9UcmFjazpuLnZpZGVvVHJhY2ssdmlkZW9TU1JDOm4uX3ZpZGVvU1NSQ306e319Z2V0QXVkaW9MZXZlbHMoKXtsZXQgdD1BcnJheS5mcm9tKHRoaXMucmVtb3RlVXNlck1hcC5lbnRyaWVzKCkpLm1hcChuPT57bGV0W2ldPW47cmV0dXJuIHt1aWQ6aS51aWQsbGV2ZWw6aS5hdWRpb1RyYWNrPzEwMCppLmF1ZGlvVHJhY2suX3NvdXJjZS5nZXRBY2N1cmF0ZVZvbHVtZUxldmVsKCk6MH19KSxlPXRoaXMubG9jYWxUcmFja01hcC5nZXQoVS5Mb2NhbEF1ZGlvVHJhY2spO3JldHVybiBlJiZ0LnB1c2goe2xldmVsOjEwMCplLnRyYWNrLl9zb3VyY2UuZ2V0QWNjdXJhdGVWb2x1bWVMZXZlbCgpLHVpZDp0aGlzLnN0b3JlLnVpZH0pLHQ9ZWQodCkuY2FsbCh0LChuLGkpPT5uLmxldmVsLWkubGV2ZWwpLHR9YXN5bmMgZGlzY29ubmVjdEZvclJlY29ubmVjdCgpe3RoaXMuc2VuZENvbm5lY3Rpb24mJnRoaXMucmVjdkNvbm5lY3Rpb24mJihfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsMi5kaXNjb25uZWN0Rm9yUmVjb25uZWN0IGNsb3NpbmcgUDJQQ29ubmVjdGlvblwiKSksdGhpcy5zdGF0ZT1SdC5SZWNvbm5lY3RpbmcsdihcIktFRVBfTEFTVF9GUkFNRVwiKSYmdGhpcy5yZW1vdGVVc2VyTWFwLnNpemUhPT0wJiZBcnJheS5mcm9tKHRoaXMucmVtb3RlVXNlck1hcC5lbnRyaWVzKCkpLmZvckVhY2godD0+e2xldFtlXT10O3ZhciBuO2UuX3ZpZGVvVHJhY2smJmUuX3ZpZGVvVHJhY2suX3BsYXllciYmKChuPWUuX3ZpZGVvVHJhY2suX3BsYXllci5nZXRWaWRlb0VsZW1lbnQoKSk9PT1udWxsfHxuPT09dm9pZCAwfHxuLnBhdXNlKCksZS5fdmlkZW9UcmFjay5fcGxheWVyLmlzS2VlcExhc3RGcmFtZT0hMCxlLl92aWRlb1RyYWNrLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLnN0b3AoKSk7fSksdGhpcy5zZW5kQ29ubmVjdGlvbi5jbG9zZSgpLHRoaXMudW5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLnNlbmRDb25uZWN0aW9uKSx0aGlzLnNlbmRDb25uZWN0aW9uPXZvaWQgMCx0aGlzLnJlY3ZDb25uZWN0aW9uLmNsb3NlKCksdGhpcy51bmJpbmRDb25uZWN0aW9uRXZlbnRzKHRoaXMucmVjdkNvbm5lY3Rpb24pLHRoaXMucmVjdkNvbm5lY3Rpb249dm9pZCAwLHRoaXMubG9jYWxUcmFja01hcC5zaXplIT09MCYmKEFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZm9yRWFjaCh0PT57dmFyIGU7bGV0W24se3RyYWNrOml9XT10O3N3aXRjaChuKXtjYXNlIFUuTG9jYWxWaWRlb1RyYWNrOlcoZT1pLl9oaW50cykuY2FsbChlLEd0LkxPV19TVFJFQU0pP2kuY2xvc2UoKTp0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5wdXNoKGkpO2JyZWFrO2Nhc2UgVS5Mb2NhbEF1ZGlvVHJhY2s6aSBpbnN0YW5jZW9mIGdlP3RoaXMucGVuZGluZ0xvY2FsVHJhY2tzPXRoaXMucGVuZGluZ0xvY2FsVHJhY2tzLmNvbmNhdChpLnRyYWNrTGlzdCk6dGhpcy5wZW5kaW5nTG9jYWxUcmFja3MucHVzaChpKTtjYXNlIFUuTG9jYWxWaWRlb0xvd1RyYWNrOn19KSx0aGlzLmVtaXQodHQuTWVkaWFSZWNvbm5lY3RTdGFydCx0aGlzLnN0b3JlLnVpZCkpLHRoaXMudW5iaW5kTG9jYWxUcmFja0V2ZW50cygpLHRoaXMubG9jYWxUcmFja01hcC5jbGVhcigpLHRoaXMucmVtb3RlVXNlck1hcC5zaXplIT09MCYmQXJyYXkuZnJvbSh0aGlzLnJlbW90ZVVzZXJNYXAuZW50cmllcygpKS5mb3JFYWNoKHQ9PntsZXRbZSxuXT10O0FycmF5LmZyb20oeG4obikuY2FsbChuKSkuZm9yRWFjaChpPT57dGhpcy5zZXRQZW5kaW5nUmVtb3RlTWVkaWEoZSxpKTt9KSx0aGlzLmVtaXQodHQuTWVkaWFSZWNvbm5lY3RTdGFydCxlLnVpZCk7fSksdGhpcy51bmJpbmRBbGxSZW1vdGVUcmFja0V2ZW50cygpLHRoaXMucmVtb3RlVXNlck1hcC5jbGVhcigpLHRoaXMuc3RvcFVwbG9hZFVwbGlua1N0YXRlKCksdGhpcy5zdG9wVXBsb2FkRG93bmxpbmtTdGF0ZSgpLHRoaXMuc3RhdHNVcGxvYWRlci5zdG9wVXBsb2FkT3V0Ym91bmRTdGF0cygpLHRoaXMuc3RhdHNVcGxvYWRlci5zdG9wVXBsb2FkSW5ib3VuZFN0YXRzKCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRUcmFuc3BvcnRTdGF0cygpLF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwyIGRpc2Nvbm5lY3RlZCwgd2FpdGluZyB0byByZWNvbm5lY3QuXCIpKSk7fWhhc1BlbmRpbmdSZW1vdGVNZWRpYSh0LGUpe2ZvcihsZXQgbiBvZiB0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3Mpe2xldHt1c2VyOmksa2luZDpyfT1uO2lmKCh0IGluc3RhbmNlb2YgaXI/dC51aWQ6dCk9PT1pLnVpZCYmZT09PXIpcmV0dXJuICEwfXJldHVybiAhMX1zZXRQZW5kaW5nUmVtb3RlTWVkaWEodCxlKXt0aGlzLmhhc1BlbmRpbmdSZW1vdGVNZWRpYSh0LGUpfHx0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3MucHVzaCh7dXNlcjp0LGtpbmQ6ZX0pO31hc3luYyByZXN0YXJ0SUNFKHQsZSl7bGV0IG4saTtpZih0PT09Y24uU0VORF9PTkxZKXtpZighdGhpcy5zZW5kQ29ubmVjdGlvbil0aHJvdyBuZXcgTihSLklOVkFMSURfT1BFUkFUSU9OLFwiQ2Fubm90IGNhbGwgUDJQQ2hhbm5lbDIuaGFuZGxlTXV0ZUxvY2FsVHJhY2sgYmVmb3JlIHNlbmRDb25uZWN0aW9uIGVzdGFibGlzaGVkLlwiKTtuPWF3YWl0IHRoaXMuc2VuZE11dGV4LmxvY2soXCJGcm9tIFAyUENoYW5uZWwucmVzdGFydElDRVwiKSxpPXRoaXMuc2VuZENvbm5lY3Rpb247fWVsc2Uge2lmKCF0aGlzLnJlY3ZDb25uZWN0aW9uKXRocm93IG5ldyBOKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW5ub3QgY2FsbCBQMlBDaGFubmVsMi5oYW5kbGVNdXRlTG9jYWxUcmFjayBiZWZvcmUgcmVjdkNvbm5lY3Rpb24gZXN0YWJsaXNoZWQuXCIpO249YXdhaXQgdGhpcy5yZWN2TXV0ZXgubG9jayhcIkZyb20gUDJQQ2hhbm5lbC5yZXN0YXJ0SUNFXCIpLGk9dGhpcy5yZWN2Q29ubmVjdGlvbjt9dHJ5e2lmKGUpe2xldCByPWF3YWl0IGkucmVzdGFydElDRShlKTtyZXR1cm4gaS5pc0luUmVzdGFydEljZT0hMSxyfXtsZXQgcj1hd2FpdCBpLnJlc3RhcnRJQ0UoKTtpZihyKXtsZXQgbz1hd2FpdCBHZSh0aGlzLHR0LlJlcXVlc3RQMlBSZXN0YXJ0SUNFLHtkaXJlY3Rpb246Y24uUkVDRUlWRV9PTkxZLGljZVBhcmFtZXRlcjpyfSk7YXdhaXQgaS5yZXN0YXJ0SUNFKG8pLGkuaXNJblJlc3RhcnRJY2U9ITE7fX19ZmluYWxseXtuKCk7fX1nZXRVcGxpbmtOZXR3b3JrUXVhbGl0eSgpe2lmKCF0aGlzLnNlbmRDb25uZWN0aW9uKXJldHVybiAwO2xldCB0PXRoaXMuc2VuZENvbm5lY3Rpb24uZ2V0U3RhdHMoKSxlPXRoaXMubG9jYWxUcmFja01hcC5nZXQoVS5Mb2NhbFZpZGVvVHJhY2spLG49dGhpcy5sb2NhbFRyYWNrTWFwLmdldChVLkxvY2FsQXVkaW9UcmFjayksaT10LnZpZGVvU2VuZC5maW5kKHA9Pnt2YXIgZztyZXR1cm4gcC5zc3JjPT09KGU9PW51bGx8fChnPWUuc3NyY3MpPT09bnVsbHx8Zz09PXZvaWQgMD92b2lkIDA6Z1swXS5zc3JjSWQpfSkscj10LmF1ZGlvU2VuZC5maW5kKHA9Pnt2YXIgZztyZXR1cm4gcC5zc3JjPT09KG49PW51bGx8fChnPW4uc3NyY3MpPT09bnVsbHx8Zz09PXZvaWQgMD92b2lkIDA6Z1swXS5zc3JjSWQpfSk7aWYoIWl8fCFyKXJldHVybiAxO2xldCBvPW5pKHRoaXMsdHQuTmVlZFNpZ25hbFJUVCkscz1pP2kucnR0TXM6dm9pZCAwLGE9cj9yLnJ0dE1zOnZvaWQgMCxjPXMmJmE/KHMrYSkvMjpzfHxhLGQ9KGMmJm8/KGMrbykvMjpjfHxvKXx8MCxsPTEwMCp0LnNlbmRQYWNrZXRMb3NzUmF0ZSouNy81MCsuMypkLzE1MDAsdT1sPC4xNz8xOmw8LjM2PzI6bDwuNTk/MzpsPC4xPzQ6NSxoPWU/LnRyYWNrO2lmKGgmJmguX2VuY29kZXJDb25maWcmJmguX2hpbnRzLmluZGV4T2YoR3QuU0NSRUVOX1RSQUNLKT09PS0xKXtsZXQgcD1oLl9lbmNvZGVyQ29uZmlnLmJpdHJhdGVNYXgsZz10LmJpdHJhdGUuYWN0dWFsRW5jb2RlZDtpZihwJiZnKXtsZXQgRT0oMWUzKnAtZykvKDFlMypwKTtyZXR1cm4gT09bRTwuMTU/MDpFPC4zPzE6RTwuNDU/MjpFPC42PzM6NF1bdV19fXJldHVybiB1fWdldERvd25saW5rTmV0d29ya1F1YWxpdHkoKXtpZighdGhpcy5yZWN2Q29ubmVjdGlvbilyZXR1cm4gMDtsZXQgdD10aGlzLnJlY3ZDb25uZWN0aW9uLmdldFN0YXRzKCksZT0wO3JldHVybiBBcnJheS5mcm9tKHRoaXMucmVtb3RlVXNlck1hcC5lbnRyaWVzKCkpLmZvckVhY2gobj0+e2xldFtpXT1uLHI9aS5fYXVkaW9TU1JDLG89aS5fdmlkZW9TU1JDLHM9dC5hdWRpb1JlY3YuZmluZChnPT5nLnNzcmM9PT1yKSxhPXQudmlkZW9SZWN2LmZpbmQoZz0+Zy5zc3JjPT09byk7aWYoIXMmJiFhKXJldHVybiB2b2lkKGUrPTEpO2xldCBjPW5pKHRoaXMsdHQuTmVlZFNpZ25hbFJUVCksZD10LnJ0dCxsPShkJiZjPyhkK2MpLzI6ZHx8Yyl8fDAsdT1zP3Muaml0dGVyTXM6dm9pZCAwLGg9dC5yZWN2UGFja2V0TG9zc1JhdGUscD0uNypoKjEwMC81MCsuMypsLzE1MDA7dSYmKHA9LjYqaCoxMDAvNTArLjIqbC8xNTAwKy4yKnUvNDAwKSxlKz1wPC4xPzE6cDwuMTc/MjpwPC4zNj8zOnA8LjU5PzQ6NTt9KSx0aGlzLnJlbW90ZVVzZXJNYXAuc2l6ZT4wP01hdGgucm91bmQoZS90aGlzLnJlbW90ZVVzZXJNYXAuc2l6ZSk6ZX1hc3luYyBtdXRlTG9jYWxUcmFjayh0KXtyZXR1cm4gbmV3IGooKGUsbik9Pnt0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKHQsZSxuKTt9KX1maWx0ZXJUb2JlUHVibGlzaGVkVHJhY2tzKHQsZSxuKXtsZXQgaT1bXSxyPWZ0KCksbz10aGlzLmdldEFsbFRyYWNrcygpO3Q9THModD10LmZpbHRlcihjPT5vLmluZGV4T2YoYyk9PT0tMSkpO2xldCBzPSExLGE9ITE7Zm9yKGxldCBjIG9mIHQpe2lmKGMgaW5zdGFuY2VvZiBGdCYmKHRoaXMubG9jYWxUcmFja01hcC5oYXMoVS5Mb2NhbFZpZGVvVHJhY2spfHxzP25ldyBOKFIuQ0FOX05PVF9QVUJMSVNIX01VTFRJUExFX1ZJREVPX1RSQUNLUykudGhyb3coKTooaS5wdXNoKHt0cmFjazpjLHR5cGU6VS5Mb2NhbFZpZGVvVHJhY2t9KSxzPSEwKSxlKSl7bGV0IGQ9dGhpcy5nZXRMb3dWaWRlb1RyYWNrKGMsbik7aS5wdXNoKHt0cmFjazpkLHR5cGU6VS5Mb2NhbFZpZGVvTG93VHJhY2t9KTt9aWYoYyBpbnN0YW5jZW9mIFF0KXtsZXQgZD10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxBdWRpb1RyYWNrKTtpZihkKXtpZighKGQudHJhY2sgaW5zdGFuY2VvZiBnZSkpdGhyb3cgbmV3IE4oUi5OT1RfU1VQUE9SVEVELFwiY2Fubm90IHB1Ymxpc2ggbXVsdGlwbGUgdHJhY2tzIHdoaWNoIG9uZSBvZiB0aGVtIGNvbmZpZ3VyZWQgd2l0aCBieXBhc3NXZWJBdWRpbyBvciB5b3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBhdWRpbyBtaXhpbmdcIik7aWYoYy5fYnlwYXNzV2ViQXVkaW8pdGhyb3cgbmV3IE4oUi5OT1RfU1VQUE9SVEVELFwiY2Fubm90IHB1Ymxpc2ggbXVsdGlwbGUgdHJhY2tzIHdoaWNoIG9uZSBvZiB0aGVtIGNvbmZpZ3VyZWQgd2l0aCBieXBhc3NXZWJBdWRpb1wiKTtkLnRyYWNrLmFkZEF1ZGlvVHJhY2soYyksdGhpcy5iaW5kTG9jYWxBdWRpb1RyYWNrRXZlbnRzKGMsITApO31lbHNlIGlmKGEpe2xldCBsPWkuZmluZCh1PT57bGV0e3R5cGU6aH09dTtyZXR1cm4gaD09PVUuTG9jYWxBdWRpb1RyYWNrfSk7aWYoIShsLnRyYWNrIGluc3RhbmNlb2YgZ2UpKXRocm93IG5ldyBOKFIuTk9UX1NVUFBPUlRFRCxcImNhbm5vdCBwdWJsaXNoIG11bHRpcGxlIHRyYWNrcyB3aGljaCBvbmUgb2YgdGhlbSBjb25maWd1cmVkIHdpdGggYnlwYXNzV2ViQXVkaW8gb3IgeW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgYXVkaW8gbWl4aW5nXCIpO2lmKGMuX2J5cGFzc1dlYkF1ZGlvKXRocm93IG5ldyBOKFIuTk9UX1NVUFBPUlRFRCxcImNhbm5vdCBwdWJsaXNoIG11bHRpcGxlIHRyYWNrcyB3aGljaCBvbmUgb2YgdGhlbSBjb25maWd1cmVkIHdpdGggYnlwYXNzV2ViQXVkaW9cIik7bC50cmFjay5hZGRBdWRpb1RyYWNrKGMpO31lbHNlIHtpZighci53ZWJBdWRpb01lZGlhU3RyZWFtRGVzdHx8YyBpbnN0YW5jZW9mIGdlfHxjLl9ieXBhc3NXZWJBdWRpbylpLnB1c2goe3RyYWNrOmMsdHlwZTpVLkxvY2FsQXVkaW9UcmFja30pO2Vsc2Uge2xldCBsPW5ldyBnZTtsLmFkZEF1ZGlvVHJhY2soYyksaS5wdXNoKHt0cmFjazpsLHR5cGU6VS5Mb2NhbEF1ZGlvVHJhY2t9KTt9YT0hMDt9fX1yZXR1cm4gaX1maWx0ZXJUb2JlVW5wdWJsaXNoZWRUcmFja3ModCl7bGV0IGU9W10sbj10aGlzLmdldEFsbFRyYWNrcygpO3Q9THModD10LmZpbHRlcihpPT5uLmluZGV4T2YoaSkhPT0tMSkpO2ZvcihsZXQgaSBvZiB0KXtpZihpIGluc3RhbmNlb2YgUXQpe2xldCByPXRoaXMubG9jYWxUcmFja01hcC5nZXQoVS5Mb2NhbEF1ZGlvVHJhY2spO2lmKCFyKWNvbnRpbnVlO3IudHJhY2sgaW5zdGFuY2VvZiBnZT8oci50cmFjay5yZW1vdmVBdWRpb1RyYWNrKGkpLHRoaXMudW5iaW5kTG9jYWxBdWRpb1RyYWNrRXZlbnRzKGkpLHIudHJhY2sudHJhY2tMaXN0Lmxlbmd0aD09PTAmJihlLnB1c2goW1UuTG9jYWxBdWRpb1RyYWNrLHJdKSxyLnRyYWNrLmNsb3NlKCkpKTplLnB1c2goW1UuTG9jYWxBdWRpb1RyYWNrLHJdKTt9aWYoaSBpbnN0YW5jZW9mIEZ0KXtsZXQgcj10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxWaWRlb1RyYWNrKTtpZighciljb250aW51ZTtlLnB1c2goW1UuTG9jYWxWaWRlb1RyYWNrLHJdKTtsZXQgbz10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxWaWRlb0xvd1RyYWNrKTtvJiZlLnB1c2goW1UuTG9jYWxWaWRlb0xvd1RyYWNrLG9dKTt9fXJldHVybiBlfWJpbmRMb2NhbFRyYWNrRXZlbnRzKHQpe3QuZm9yRWFjaChlPT57bGV0e3RyYWNrOm4sdHlwZTppfT1lO3N3aXRjaChpKXtjYXNlIFUuTG9jYWxWaWRlb1RyYWNrOm4uYWRkTGlzdGVuZXIoSC5HRVRfU1RBVFMsdGhpcy5oYW5kbGVHZXRMb2NhbFZpZGVvU3RhdHMpLG4uYWRkTGlzdGVuZXIoSC5ORUVEX0RJU0FCTEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksbi5hZGRMaXN0ZW5lcihILk5FRURfRU5BQkxFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayksbi5hZGRMaXN0ZW5lcihILk5FRURfVVBEQVRFX1ZJREVPX0VOQ09ERVIsdGhpcy5oYW5kbGVVcGRhdGVWaWRlb0VuY29kZXIpLG4uYWRkTGlzdGVuZXIoSC5ORUVEX1VQREFURV9WSURFT19TRU5EX1BBUkFNRVRFUlMsdGhpcy5oYW5kbGVVcGRhdGVWaWRlb1NlbmRQYXJhbWV0ZXJzKSxuLmFkZExpc3RlbmVyKEguTkVFRF9SRVBMQUNFX1RSQUNLLHRoaXMuaGFuZGxlUmVwbGFjZVRyYWNrKSxuLmFkZExpc3RlbmVyKEguTkVFRF9NVVRFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLG4uYWRkTGlzdGVuZXIoSC5ORUVEX1VOTVVURV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spO2JyZWFrO2Nhc2UgVS5Mb2NhbEF1ZGlvVHJhY2s6dGhpcy5iaW5kTG9jYWxBdWRpb1RyYWNrRXZlbnRzKG4pO2Nhc2UgVS5Mb2NhbFZpZGVvTG93VHJhY2s6fX0pO31iaW5kTG9jYWxBdWRpb1RyYWNrRXZlbnRzKHQsZSl7dCBpbnN0YW5jZW9mIGdlP3QudHJhY2tMaXN0LmZvckVhY2gobj0+e24uYWRkTGlzdGVuZXIoSC5ORUVEX0RJU0FCTEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksbi5hZGRMaXN0ZW5lcihILk5FRURfRU5BQkxFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayksbi5hZGRMaXN0ZW5lcihILkdFVF9TVEFUUyx0aGlzLmhhbmRsZUdldExvY2FsQXVkaW9TdGF0cyksbi5hZGRMaXN0ZW5lcihILk5FRURfTVVURV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSxuLmFkZExpc3RlbmVyKEguTkVFRF9VTk1VVEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKTt9KToodC5hZGRMaXN0ZW5lcihILkdFVF9TVEFUUyx0aGlzLmhhbmRsZUdldExvY2FsQXVkaW9TdGF0cyksdC5hZGRMaXN0ZW5lcihILk5FRURfRElTQUJMRV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSx0LmFkZExpc3RlbmVyKEguTkVFRF9FTkFCTEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKSx0LmFkZExpc3RlbmVyKEguTkVFRF9NVVRFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLHQuYWRkTGlzdGVuZXIoSC5ORUVEX1VOTVVURV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spLGV8fHQuYWRkTGlzdGVuZXIoSC5ORUVEX1JFUExBQ0VfVFJBQ0ssdGhpcy5oYW5kbGVSZXBsYWNlVHJhY2spKTt9dW5iaW5kTG9jYWxUcmFja0V2ZW50cyh0KXt0fHwodD1BcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLm1hcChlPT57bGV0W24se3RyYWNrOml9XT1lO3JldHVybiB7dHJhY2s6aSx0eXBlOm59fSkpLHQuZm9yRWFjaChlPT57bGV0e3RyYWNrOm4sdHlwZTppfT1lO3N3aXRjaChpKXtjYXNlIFUuTG9jYWxWaWRlb1RyYWNrOm4ub2ZmKEguR0VUX1NUQVRTLHRoaXMuaGFuZGxlR2V0TG9jYWxWaWRlb1N0YXRzKSxuLm9mZihILk5FRURfRElTQUJMRV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSxuLm9mZihILk5FRURfRU5BQkxFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayksbi5vZmYoSC5ORUVEX1VQREFURV9WSURFT19FTkNPREVSLHRoaXMuaGFuZGxlVXBkYXRlVmlkZW9FbmNvZGVyKSxuLm9mZihILk5FRURfVVBEQVRFX1ZJREVPX1NFTkRfUEFSQU1FVEVSUyx0aGlzLmhhbmRsZVVwZGF0ZVZpZGVvU2VuZFBhcmFtZXRlcnMpLG4ub2ZmKEguTkVFRF9SRVBMQUNFX1RSQUNLLHRoaXMuaGFuZGxlUmVwbGFjZVRyYWNrKSxuLm9mZihILk5FRURfTVVURV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSxuLm9mZihILk5FRURfVU5NVVRFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayk7YnJlYWs7Y2FzZSBVLkxvY2FsQXVkaW9UcmFjazp0aGlzLnVuYmluZExvY2FsQXVkaW9UcmFja0V2ZW50cyhuKTtjYXNlIFUuTG9jYWxWaWRlb0xvd1RyYWNrOn19KTt9dW5iaW5kTG9jYWxBdWRpb1RyYWNrRXZlbnRzKHQpe3QgaW5zdGFuY2VvZiBnZT90LnRyYWNrTGlzdC5mb3JFYWNoKGU9PntlLm9mZihILk5FRURfRElTQUJMRV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSxlLm9mZihILk5FRURfRU5BQkxFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayksZS5vZmYoSC5HRVRfU1RBVFMsdGhpcy5oYW5kbGVHZXRMb2NhbEF1ZGlvU3RhdHMpLGUub2ZmKEguTkVFRF9NVVRFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLGUub2ZmKEguTkVFRF9VTk1VVEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKTt9KToodC5vZmYoSC5HRVRfU1RBVFMsdGhpcy5oYW5kbGVHZXRMb2NhbEF1ZGlvU3RhdHMpLHQub2ZmKEguTkVFRF9ESVNBQkxFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLHQub2ZmKEguTkVFRF9FTkFCTEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKSx0Lm9mZihILk5FRURfUkVQTEFDRV9UUkFDSyx0aGlzLmhhbmRsZVJlcGxhY2VUcmFjayksdC5vZmYoSC5ORUVEX01VVEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksdC5vZmYoSC5ORUVEX1VOTVVURV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spKTt9YmluZFJlbW90ZVRyYWNrRXZlbnRzKHQsZSl7ZSBpbnN0YW5jZW9mIEhzJiZlLmFkZExpc3RlbmVyKEguR0VUX1NUQVRTLG49PntuKHRoaXMuaGFuZGxlR2V0UmVtb3RlVmlkZW9TdGF0cyh0KSk7fSksZSBpbnN0YW5jZW9mIEtzJiZlLmFkZExpc3RlbmVyKEguR0VUX1NUQVRTLG49PntuKHRoaXMuaGFuZGxlR2V0UmVtb3RlQXVkaW9TdGF0cyh0KSk7fSk7fXVuYmluZFJlbW90ZVRyYWNrRXZlbnRzKHQpe3QmJnQucmVtb3ZlQWxsTGlzdGVuZXJzKEguR0VUX1NUQVRTKTt9dW5iaW5kQWxsUmVtb3RlVHJhY2tFdmVudHMoKXtBcnJheS5mcm9tKHRoaXMucmVtb3RlVXNlck1hcC5lbnRyaWVzKCkpLmZvckVhY2godD0+e2xldFtlLG5dPXQ7bi5oYXMoUS5BVURJTykmJnRoaXMudW5iaW5kUmVtb3RlVHJhY2tFdmVudHMoZS5fYXVkaW9UcmFjayksbi5oYXMoUS5WSURFTykmJnRoaXMudW5iaW5kUmVtb3RlVHJhY2tFdmVudHMoZS5fdmlkZW9UcmFjayk7fSk7fWNyZWF0ZUdhdGV3YXlQdWJsaXNoTWVzc2FnZSh0LGUpe3JldHVybiB0Lm1hcCgobixpKT0+e3ZhciByO2xldCBvLHt0cmFjazpzLHR5cGU6YX09bjtzd2l0Y2goYSl7Y2FzZSBVLkxvY2FsQXVkaW9UcmFjazpvPUN0LkF1ZGlvO2JyZWFrO2Nhc2UgVS5Mb2NhbFZpZGVvVHJhY2s6bz1XKHI9cy5faGludHMpLmNhbGwocixHdC5TQ1JFRU5fVFJBQ0spP0N0LlNjcmVlbjpDdC5IaWdoO2JyZWFrO2Nhc2UgVS5Mb2NhbFZpZGVvTG93VHJhY2s6bz1DdC5Mb3c7fXJldHVybiB7a2luZDphPT09VS5Mb2NhbEF1ZGlvVHJhY2s/US5BVURJTzpRLlZJREVPLHN0cmVhbV90eXBlOm8sbWlkOmVbaV0uaWQsc3NyY3M6ZVtpXS5sb2NhbFNTUkMsaXNNdXRlZDpzLm11dGVkfHwhcy5lbmFibGVkfX0pfWNyZWF0ZUdhdGV3YXlVbnB1Ymxpc2hNZXNzYWdlKHQpe3JldHVybiB0Lm1hcChlPT57dmFyIG47bGV0IGksW3Ise3RyYWNrOm8sc3NyY3M6cyxpZDphfV09ZTtzd2l0Y2gocil7Y2FzZSBVLkxvY2FsVmlkZW9UcmFjazppPVcobj1vLl9oaW50cykuY2FsbChuLEd0LlNDUkVFTl9UUkFDSyk/Q3QuU2NyZWVuOkN0LkhpZ2g7YnJlYWs7Y2FzZSBVLkxvY2FsQXVkaW9UcmFjazppPUN0LkF1ZGlvO2JyZWFrO2Nhc2UgVS5Mb2NhbFZpZGVvTG93VHJhY2s6aT1DdC5Mb3c7fXJldHVybiB7c3RyZWFtX3R5cGU6aSxzc3JjczpzLG1pZDphfX0pfWFzc2lnbkxvY2FsVHJhY2tzKHQsZSl7dC5mb3JFYWNoKChuLGkpPT57bGV0e3RyYWNrOnIsdHlwZTpvfT1uO3RoaXMubG9jYWxUcmFja01hcC5zZXQobyx7dHJhY2s6cixpZDplW2ldLmlkLHNzcmNzOmVbaV0ubG9jYWxTU1JDfSk7fSk7fXdpdGhkcmF3TG9jYWxUcmFja3ModCl7dC5mb3JFYWNoKGU9PntsZXRbbl09ZTt0aGlzLmxvY2FsVHJhY2tNYXAuZGVsZXRlKG4pO30pO31iaW5kQ29ubmVjdGlvbkV2ZW50cyh0KXt0Lm9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlPWFzeW5jIGU9Pnt2YXIgbjtfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwMnBJZDogXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXTogXCIpLmNvbmNhdCh0Lm5hbWUsXCIub25Db25uZWN0aW9uU3RhdGVDaGFuZ2UoXCIpLmNvbmNhdChlLFwiKVwiKSksdGhpcy5lbWl0KHR0LlBlZXJDb25uZWN0aW9uU3RhdGVDaGFuZ2UsZSksZSE9PVwiY29ubmVjdGVkXCJ8fHRoaXMuc3RvcmUua2V5TWV0cmljcy5wZWVyQ29ubmVjdGlvbkVuZHx8dGhpcy5zdG9yZS5wZWVyQ29ubmVjdGlvbkVuZCgpLGU9PT1cImNvbm5lY3RlZFwiJiYodC5pc0luUmVzdGFydEljZT0hMSksVyhuPXRoaXMuX3Jlc3RhcnRTdGF0ZXMpLmNhbGwobixlKSYmIXQuaXNJblJlc3RhcnRJY2UmJihlPT09XCJkaXNjb25uZWN0ZWRcIiYmYXdhaXQgTWUoODAwKSx0LmljZUNvbm5lY3Rpb25TdGF0ZSE9PVwiZGlzY29ubmVjdGVkXCImJnQuaWNlQ29ubmVjdGlvblN0YXRlIT09XCJmYWlsZWRcInx8dGhpcy5oYW5kbGVEaXNjb25uZWN0KHQuZGlyZWN0aW9uKSk7fSx0Lm9uSUNFQ29ubmVjdGlvblN0YXRlQ2hhbmdlPWU9PntlIT09XCJjb25uZWN0ZWRcInx8dGhpcy5zdG9yZS5rZXlNZXRyaWNzLmljZUNvbm5lY3Rpb25FbmR8fHRoaXMuc3RvcmUuaWNlQ29ubmVjdGlvbkVuZCgpLF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3AycElkOiBcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdOiBQMlBDb25uZWN0aW9uLm9uSUNFQ29ubmVjdGlvblN0YXRlQ2hhbmdlKFwiKS5jb25jYXQoZSxcIilcIikpLFgucmVwb3J0QXBpSW52b2tlKHRoaXMuc3RvcmUuc2Vzc2lvbklkLHtuYW1lOlwiSUNFQ29ubmVjdGlvblN0YXRlQ2hhbmdlXCIsb3B0aW9uczplLHRhZzpadC5UUkFDRVJ9KS5vblN1Y2Nlc3MoKSx0aGlzLmVtaXQodHQuSWNlQ29ubmVjdGlvblN0YXRlQ2hhbmdlLGUpO30sdC5vbklDRVRyYW5zcG9ydFN0YXRlQ2hhbmdlPWU9PntfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwMnBJZDogXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXTogUDJQQ29ubmVjdGlvbi5vbklDRVRyYW5zcG9ydFN0YXRlQ2hhbmdlKFwiKS5jb25jYXQoZSxcIilcIikpO30sdC5vbkRUTFNUcmFuc3BvcnRTdGF0ZUNoYW5nZT1lPT57Xy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24ub25EVExTVHJhbnNwb3J0U3RhdGVDaGFuZ2UoXCIpLmNvbmNhdChlLFwiKVwiKSk7fSx0Lm9uRFRMU1RyYW5zcG9ydEVycm9yPWU9PntfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwMnBJZDogXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXTogUDJQQ29ubmVjdGlvbi5vbkRUTFNUcmFuc3BvcnRFcnJvcihcIikuY29uY2F0KGUsXCIpXCIpKTt9LHQub25GaXJzdEF1ZGlvRGVjb2RlZD1lPT57dmFyIG47bGV0IGk9QXJyYXkuZnJvbSh4bihuPXRoaXMucmVtb3RlVXNlck1hcCkuY2FsbChuKSkuZmluZChvPT5vLl9hdWRpb1NTUkM9PT1lKTt2YXIgcjtpJiYodGhpcy5zdG9yZS5zdWJzY3JpYmUoaS51aWQsXCJhdWRpb1wiLHZvaWQgMCx2b2lkIDAsdm9pZCAwLERhdGUubm93KCkpLChyPWkuYXVkaW9UcmFjayk9PT1udWxsfHxyPT09dm9pZCAwfHxyLmVtaXQoV3MuRklSU1RfRlJBTUVfREVDT0RFRCksWC5maXJzdFJlbW90ZUZyYW1lKHRoaXMuc3RvcmUuc2Vzc2lvbklkLERlLkZJUlNUX0FVRElPX0RFQ09ERSxKdC5GSVJTVF9BVURJT19ERUNPREUse3BlZXI6aS5fdWludGlkLHN1YnNjcmliZUVsYXBzZTpxZS5tZWFzdXJlRnJvbVN1YnNjcmliZVN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQsZSksc3Vic2NyaWJlUmVxdWVzdGlkOmUscDJwaWQ6dGhpcy5zdG9yZS5wMnBJZH0pKTt9LHQub25GaXJzdEF1ZGlvUmVjZWl2ZWQ9ZT0+e3ZhciBuO2xldCBpPUFycmF5LmZyb20oeG4obj10aGlzLnJlbW90ZVVzZXJNYXApLmNhbGwobikpLmZpbmQocj0+ci5fYXVkaW9TU1JDPT09ZSk7aSYmWC5maXJzdFJlbW90ZUZyYW1lKHRoaXMuc3RvcmUuc2Vzc2lvbklkLERlLkZJUlNUX0FVRElPX1JFQ0VJVkVELEp0LkZJUlNUX0FVRElPX1JFQ0VJVkVELHtwZWVyOmkuX3VpbnRpZCxzdWJzY3JpYmVFbGFwc2U6cWUubWVhc3VyZUZyb21TdWJzY3JpYmVTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLGUpLHN1YnNjcmliZVJlcXVlc3RpZDplLHAycGlkOnRoaXMuc3RvcmUucDJwSWR9KTt9LHQub25GaXJzdFZpZGVvRGVjb2RlZD0oZSxuLGkpPT57dGhpcy5yZXBvcnRWaWRlb0ZpcnN0RnJhbWVEZWNvZGVkKGUsbixpKTt9LHQub25GaXJzdFZpZGVvUmVjZWl2ZWQ9ZT0+e3ZhciBuO2xldCBpPUFycmF5LmZyb20oeG4obj10aGlzLnJlbW90ZVVzZXJNYXApLmNhbGwobikpLmZpbmQocj0+ci5fdmlkZW9TU1JDPT09ZSk7aSYmWC5maXJzdFJlbW90ZUZyYW1lKHRoaXMuc3RvcmUuc2Vzc2lvbklkLERlLkZJUlNUX1ZJREVPX1JFQ0VJVkVELEp0LkZJUlNUX1ZJREVPX1JFQ0VJVkVELHtwZWVyOmkuX3VpbnRpZCxzdWJzY3JpYmVFbGFwc2U6cWUubWVhc3VyZUZyb21TdWJzY3JpYmVTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLGUpLHN1YnNjcmliZVJlcXVlc3RpZDplLHAycGlkOnRoaXMuc3RvcmUucDJwSWR9KTt9LHQub25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZD0oZSxuKT0+e2xldCBpPWUuY2FuZGlkYXRlVHlwZT09PVwicmVsYXlcIixyPW4uY2FuZGlkYXRlVHlwZT09PVwicmVsYXlcIjtuLmNhbmRpZGF0ZVR5cGUhPT1cInVua25vd25cIiYmaT09PXJ8fHRoaXMuZW1pdCh0dC5Db25uZWN0aW9uVHlwZUNoYW5nZSxpKSxfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwMnBJZDogXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXTogUDJQQ29ubmVjdGlvbi5TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZChcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KGVvKG4pKSxcIiAtPiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KGVvKGUpKSxcIilcIikpO30sdC5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZD0oZSxuKT0+e18uaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3AycElkOiBcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdOiBQMlBDb25uZWN0aW9uLlNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZChcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KGVvKG4pKSxcIiAtPiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KGVvKGUpKSxcIilcIikpO30sdC5vbkZpcnN0VmlkZW9EZWNvZGVkVGltZW91dD1lPT57dGhpcy5yZXBvcnRWaWRlb0ZpcnN0RnJhbWVEZWNvZGVkKGUsdm9pZCAwLHZvaWQgMCwhMCk7fSx0Lm9uTG9jYWxDYW5kaWRhdGU9ZT0+e3RoaXMuZW1pdCh0dC5Mb2NhbENhbmRpZGF0ZSx7Y2FuZGlkYXRlOmUsZGlyZWN0aW9uOnQuZGlyZWN0aW9ufSk7fTt9dW5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0KXt0Lm9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlPXZvaWQgMCx0Lm9uSUNFQ29ubmVjdGlvblN0YXRlQ2hhbmdlPXZvaWQgMCx0Lm9uSUNFVHJhbnNwb3J0U3RhdGVDaGFuZ2U9dm9pZCAwLHQub25EVExTVHJhbnNwb3J0U3RhdGVDaGFuZ2U9dm9pZCAwLHQub25EVExTVHJhbnNwb3J0RXJyb3I9dm9pZCAwLHQub25GaXJzdEF1ZGlvRGVjb2RlZD12b2lkIDAsdC5vbkZpcnN0QXVkaW9SZWNlaXZlZD12b2lkIDAsdC5vbkZpcnN0VmlkZW9EZWNvZGVkPXZvaWQgMCx0Lm9uRmlyc3RWaWRlb1JlY2VpdmVkPXZvaWQgMCx0Lm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQ9dm9pZCAwLHQub25TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQ9dm9pZCAwLHQub25GaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXQ9dm9pZCAwLHQub25Mb2NhbENhbmRpZGF0ZT12b2lkIDA7fWFzeW5jIGhhbmRsZURpc2Nvbm5lY3QodCl7bGV0IGU9dD09PWNuLlNFTkRfT05MWT90aGlzLnNlbmRDb25uZWN0aW9uOnRoaXMucmVjdkNvbm5lY3Rpb247ZSYmIWUuaXNJblJlc3RhcnRJY2UmJihlLmlzSW5SZXN0YXJ0SWNlPSEwLF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtQMlBDaGFubmVsLVwiKS5jb25jYXQoZS5uYW1lLFwiXSBzdGFydCB1c2UgcmVzdGFydElDRVwiKSksdD09PWNuLlNFTkRfT05MWT90aGlzLnJlc3RhcnRJQ0UodCk6R2UodGhpcyx0dC5SZXF1ZXN0UDJQUmVzdGFydElDRSx7ZGlyZWN0aW9uOmNuLlNFTkRfT05MWX0pKTt9ZmlsdGVyVG9iZU11dGVkVHJhY2tzKHQpe2xldCBlPVtdO2lmKHRoaXMuZ2V0QWxsVHJhY2tzKCkuaW5kZXhPZih0KT09PS0xKXJldHVybiBlO2xldCBuPXRoaXMubG9jYWxUcmFja01hcC5nZXQoVS5Mb2NhbEF1ZGlvVHJhY2spO2lmKHQgaW5zdGFuY2VvZiBRdCYmbj8udHJhY2sgaW5zdGFuY2VvZiBnZSlyZXR1cm4gbi50cmFjay5pc0FjdGl2ZXx8ZS5wdXNoKFtVLkxvY2FsQXVkaW9UcmFjayxuXSksZTtsZXQgaT1BcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLmZpbmQocj0+e2xldFsse3RyYWNrOm99XT1yO3JldHVybiB0PT09b30pO2lmKGkmJihlLnB1c2goaSksaVswXT09PVUuTG9jYWxWaWRlb1RyYWNrKSl7bGV0IHI9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChVLkxvY2FsVmlkZW9Mb3dUcmFjayk7ciYmZS5wdXNoKFtVLkxvY2FsVmlkZW9Mb3dUcmFjayxyXSk7fXJldHVybiBlfWZpbHRlclRvYmVVbm11dGVkVHJhY2tzKHQpe2xldCBlPVtdLG49dGhpcy5sb2NhbFRyYWNrTWFwLmdldChVLkxvY2FsQXVkaW9UcmFjayk7aWYodCBpbnN0YW5jZW9mIFF0JiZuPy50cmFjayBpbnN0YW5jZW9mIGdlKXJldHVybiBuLnRyYWNrLmlzQWN0aXZlJiZlLnB1c2goW1UuTG9jYWxBdWRpb1RyYWNrLG5dKSxlO2xldCBpPUFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZmluZChyPT57bGV0Wyx7dHJhY2s6b31dPXI7cmV0dXJuIHQ9PT1vfSk7aWYoaSlpZihpWzBdPT09VS5Mb2NhbFZpZGVvVHJhY2spe2UucHVzaChpKTtsZXQgcj10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxWaWRlb0xvd1RyYWNrKTtyJiZlLnB1c2goW1UuTG9jYWxWaWRlb0xvd1RyYWNrLHJdKTt9ZWxzZSBlLnB1c2goaSk7cmV0dXJuIGV9Y3JlYXRlTXV0ZU1lc3NhZ2UodCl7cmV0dXJuIHQubWFwKGU9Pnt2YXIgbjtsZXQgaSxbcix7dHJhY2s6byxzc3JjczpzLGlkOmF9XT1lO3N3aXRjaChyKXtjYXNlIFUuTG9jYWxBdWRpb1RyYWNrOmk9Q3QuQXVkaW87YnJlYWs7Y2FzZSBVLkxvY2FsVmlkZW9UcmFjazppPVcobj1vLl9oaW50cykuY2FsbChuLEd0LlNDUkVFTl9UUkFDSyk/Q3QuU2NyZWVuOkN0LkhpZ2g7YnJlYWs7Y2FzZSBVLkxvY2FsVmlkZW9Mb3dUcmFjazppPUN0Lkxvdzt9cmV0dXJuIHtzdHJlYW1fdHlwZTppLHNzcmNzOnMsbWlkOmF9fSl9Y3JlYXRlVW5tdXRlTWVzc2FnZSh0KXtyZXR1cm4gdC5tYXAoZT0+e3ZhciBuO2xldCBpLFtyLHt0cmFjazpvLHNzcmNzOnMsaWQ6YX1dPWU7c3dpdGNoKHIpe2Nhc2UgVS5Mb2NhbEF1ZGlvVHJhY2s6aT1DdC5BdWRpbzticmVhaztjYXNlIFUuTG9jYWxWaWRlb1RyYWNrOmk9VyhuPW8uX2hpbnRzKS5jYWxsKG4sR3QuU0NSRUVOX1RSQUNLKT9DdC5TY3JlZW46Q3QuSGlnaDticmVhaztjYXNlIFUuTG9jYWxWaWRlb0xvd1RyYWNrOmk9Q3QuTG93O31yZXR1cm4ge3N0cmVhbV90eXBlOmksc3NyY3M6cyxtaWQ6YX19KX1maWx0ZXJUb2JlVW5TdWJzY3JpYmVkVHJhY2tzKHQsZSl7bGV0IG49W10saT10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KHQpO2lmKCFpKXJldHVybiBuO2lmKGUpe2xldCByPWkuZ2V0KGUpO2lmKCFyKXJldHVybiBuO24ucHVzaChbdCx7a2luZDplLGlkOnJ9XSk7fWVsc2UgQXJyYXkuZnJvbShpLmVudHJpZXMoKSkuZm9yRWFjaChyPT57bGV0W28sc109cjtuLnB1c2goW3Qse2tpbmQ6byxpZDpzfV0pO30pO3JldHVybiBufWNyZWF0ZVVuc3Vic2NyaWJlTWVzc2FnZSh0KXtsZXQgZT1bXTtyZXR1cm4gdC5mb3JFYWNoKG49PntsZXRbaSx7a2luZDpyLGlkOm99XT1uO3N3aXRjaChyKXtjYXNlIFEuVklERU86cmV0dXJuIHZvaWQoaS5fdmlkZW9TU1JDJiZlLnB1c2goe3N0cmVhbV90eXBlOlEuVklERU8sc3NyY0lkOmkuX3ZpZGVvU1NSQ30pKTtjYXNlIFEuQVVESU86cmV0dXJuIHZvaWQoaS5fYXVkaW9TU1JDJiZlLnB1c2goe3N0cmVhbV90eXBlOlEuQVVESU8sc3NyY0lkOmkuX2F1ZGlvU1NSQ30pKX19KSxlfXdpdGhkcmF3UmVtb3RlVHJhY2tzKHQpe3QuZm9yRWFjaChlPT57bGV0W24se2tpbmQ6aX1dPWUscj10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KG4pO3ImJihyLmRlbGV0ZShpKSxBcnJheS5mcm9tKHIuZW50cmllcygpKS5sZW5ndGg9PT0wJiZ0aGlzLnJlbW90ZVVzZXJNYXAuZGVsZXRlKG4pKTt9KTt9YXN5bmMgdXBkYXRlQml0cmF0ZUxpbWl0KHQpe2xldCBlPXRoaXMubG9jYWxUcmFja01hcC5nZXQoVS5Mb2NhbFZpZGVvVHJhY2spLG49dGhpcy5sb2NhbFRyYWNrTWFwLmdldChVLkxvY2FsVmlkZW9Mb3dUcmFjayk7ZSYmYXdhaXQgZS50cmFjay5zZXRCaXRyYXRlTGltaXQodC51cGxpbmspLG4mJnQubG93X3N0cmVhbV91cGxpbmsmJmF3YWl0IG4udHJhY2suc2V0Qml0cmF0ZUxpbWl0KHttYXhfYml0cmF0ZTp0Lmxvd19zdHJlYW1fdXBsaW5rLmJpdHJhdGUsbWluX2JpdHJhdGU6dC5sb3dfc3RyZWFtX3VwbGluay5iaXRyYXRlfHwwfSk7fWlzUDJQRGlzY29ubmVjdGVkKCl7aWYodGhpcy5zZW5kQ29ubmVjdGlvbiYmdGhpcy5yZWN2Q29ubmVjdGlvbil7bGV0IHQ9dGhpcy5zZW5kQ29ubmVjdGlvbi5wZWVyQ29ubmVjdGlvblN0YXRlLGU9dGhpcy5yZWN2Q29ubmVjdGlvbi5wZWVyQ29ubmVjdGlvblN0YXRlO3JldHVybiB0IT09XCJjb25uZWN0ZWRcIiYmZSE9PVwiY29ubmVjdGVkXCJ9cmV0dXJuICEwfWFzeW5jIHRyeVRvVW5tdXRlQXVkaW8odCl7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspaWYodFtlXWluc3RhbmNlb2YgUXQpe2xldCBuPXRoaXMuZmlsdGVyVG9iZVVubXV0ZWRUcmFja3ModFtlXSk7aWYobi5sZW5ndGg9PT0wKWNvbnRpbnVlO2xldCBpPXRoaXMuY3JlYXRlVW5tdXRlTWVzc2FnZShuKTtyZXR1cm4gdm9pZCBhd2FpdCBrdCh0aGlzLHR0LlJlcXVlc3RVbm11dGVMb2NhbCxpKX19YmluZFN0YXRzVXBsb2FkZXJFdmVudHMoKXt0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdFN0YXRzPXQ9PnRoaXMuZ2V0U3RhdHModCksdGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RMb2NhbE1lZGlhPSgpPT5BcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLmZpbHRlcih0PT57bGV0Wyx7c3NyY3M6ZX1dPXQ7cmV0dXJuICEhZX0pLHRoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0UmVtb3RlTWVkaWE9KCk9PkFycmF5LmZyb20odGhpcy5yZW1vdGVVc2VyTWFwLmVudHJpZXMoKSksdGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RWaWRlb0lzUmVhZHk9dD0+e3ZhciBlO3JldHVybiAhKChlPXRoaXMucmVjdkNvbm5lY3Rpb24pPT09bnVsbHx8ZT09PXZvaWQgMHx8IWUuZ2V0UmVtb3RlVmlkZW9Jc1JlYWR5KHQpKX0sdGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RVcGxvYWQ9KHQsZSk9PnRoaXMuZW1pdCh0dC5SZXF1ZXN0VXBsb2FkLHQsZSksdGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RVcGxvYWRTdGF0cz10PT50aGlzLmVtaXQodHQuUmVxdWVzdFVwbG9hZFN0YXRzLHQpLHRoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0QWxsVHJhY2tzPSgpPT50aGlzLmdldEFsbFRyYWNrcygpO311bmJpbmRTdGF0c1VwbG9hZGVyRXZlbnRzKCl7dGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RTdGF0cz12b2lkIDAsdGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RMb2NhbE1lZGlhPXZvaWQgMCx0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdFJlbW90ZU1lZGlhPXZvaWQgMCx0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdFZpZGVvSXNSZWFkeT12b2lkIDA7fWFzeW5jIHJlcXVlc3RSZWNvbm5lY3QoKXt0aGlzLmR0bHNGYWlsZWRDb3VudCs9MSxhd2FpdCBNZShoZih0aGlzLmR0bHNGYWlsZWRDb3VudCxFZSkpLHRoaXMuZW1pdCh0dC5SZXF1ZXN0UmVjb25uZWN0KTt9YXN5bmMgcmVjb25uZWN0UDJQKCl7fWNhblB1Ymxpc2hMb3dTdHJlYW0oKXtyZXR1cm4gdGhpcy5sb2NhbFRyYWNrTWFwLmhhcyhVLkxvY2FsVmlkZW9UcmFjayl8fHRoaXMucGVuZGluZ0xvY2FsVHJhY2tzLnNvbWUodD0+dCBpbnN0YW5jZW9mIEZ0KX10aHJvd0lmVHJhY2tUeXBlTm90TWF0Y2godCl7aWYodC5maWx0ZXIoZT0+ZSBpbnN0YW5jZW9mIEZ0KS5sZW5ndGg+MSl0aHJvdyBuZXcgTihSLkNBTl9OT1RfUFVCTElTSF9NVUxUSVBMRV9WSURFT19UUkFDS1MpO2lmKHQuZmlsdGVyKGU9PmUgaW5zdGFuY2VvZiBRdCkubGVuZ3RoPjEmJih0LnNvbWUoZT0+ZSBpbnN0YW5jZW9mIFF0JiZlLl9ieXBhc3NXZWJBdWRpbyl8fCFmdCgpLndlYkF1ZGlvTWVkaWFTdHJlYW1EZXN0KSl0aHJvdyBuZXcgTihSLk5PVF9TVVBQT1JURUQsXCJjYW5ub3QgcHVibGlzaCBtdWx0aXBsZSB0cmFja3Mgd2hpY2ggb25lIG9mIHRoZW0gY29uZmlndXJlZCB3aXRoIGJ5cGFzc1dlYkF1ZGlvIG9yIHlvdXIgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgTWVkaWFTdHJlYW1EZXN0Tm9kZVwiKTtmb3IobGV0IGUgb2YgdCl7aWYoZSBpbnN0YW5jZW9mIEZ0JiZ0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5zb21lKG49Pm4gaW5zdGFuY2VvZiBGdCkpdGhyb3cgbmV3IE4oUi5DQU5fTk9UX1BVQkxJU0hfTVVMVElQTEVfVklERU9fVFJBQ0tTKTtpZihlIGluc3RhbmNlb2YgUXQmJnRoaXMucGVuZGluZ0xvY2FsVHJhY2tzLnNvbWUobj0+biBpbnN0YW5jZW9mIFF0KSYmKCFmdCgpLndlYkF1ZGlvTWVkaWFTdHJlYW1EZXN0fHxlLl9ieXBhc3NXZWJBdWRpb3x8dGhpcy5wZW5kaW5nTG9jYWxUcmFja3Muc29tZShuPT5uIGluc3RhbmNlb2YgUXQmJm4uX2J5cGFzc1dlYkF1ZGlvKSkpdGhyb3cgbmV3IE4oUi5OT1RfU1VQUE9SVEVELFwiY2Fubm90IHB1Ymxpc2ggbXVsdGlwbGUgdHJhY2tzIHdoaWNoIG9uZSBvZiB0aGVtIGNvbmZpZ3VyZWQgd2l0aCBieXBhc3NXZWJBdWRpbyBvciB5b3VyIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IE1lZGlhU3RyZWFtRGVzdE5vZGVcIil9fWdldExvd1ZpZGVvVHJhY2sodCxlKXtsZXQgbj0hdihcIkRJU0FCTEVfRFVBTF9TVFJFQU1fVVNFX0VOQ09ESU5HXCIpJiZmdCgpLnN1cHBvcnREdWFsU3RyZWFtRW5jb2RpbmcsaT1ZZChZZCh7fSx7d2lkdGg6MTYwLGhlaWdodDoxMjAsZnJhbWVyYXRlOjE1LGJpdHJhdGU6NTB9KSxlKSxyO3I9bj90Ll9tZWRpYVN0cmVhbVRyYWNrLmNsb25lKCk6ZG0odCxpKTtsZXQgbz1VdCg4LFwidHJhY2stbG93LVwiKSxzPW5ldyBGdChyLFlkKFlkKHt9LG4mJntzY2FsZVJlc29sdXRpb25Eb3duQnk6R0UoaSx0KX0pLHt9LHtmcmFtZVJhdGU6aS5mcmFtZXJhdGUsYml0cmF0ZU1heDppLmJpdHJhdGUsYml0cmF0ZU1pbjppLmJpdHJhdGV9KSx2b2lkIDAsdm9pZCAwLG8pO3JldHVybiBzLm9uKEtvLlRSQU5TQ0VJVkVSX1VQREFURUQsYT0+e3QuX3VwZGF0ZVJ0cFRyYW5zY2VpdmVyKGEsbmEuTE9XX1NUUkVBTSk7fSkscy5faGludHMucHVzaChHdC5MT1dfU1RSRUFNKSx0LmFkZExpc3RlbmVyKEguTkVFRF9DTE9TRSwoKT0+e3MuY2xvc2UoKTt9KSxzfWFzeW5jIGdsb2JhbExvY2soKXtyZXR1cm4gdGhpcy5yZWN2TXV0ZXgubG9jayhcIkZyb20gUDJQQ2hhbm5lbDIuZ2xvYmFsTG9ja1wiKX1yZXBvcnRWaWRlb0ZpcnN0RnJhbWVEZWNvZGVkKHQsZSxuLGkpe3ZhciByO2xldCBvPUFycmF5LmZyb20oeG4ocj10aGlzLnJlbW90ZVVzZXJNYXApLmNhbGwocikpLmZpbmQocz0+cy5fdmlkZW9TU1JDPT09dCk7aWYobyl7aXx8dGhpcy5zdG9yZS5zdWJzY3JpYmUoby51aWQsXCJ2aWRlb1wiLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHZvaWQgMCxEYXRlLm5vdygpKTtsZXQgcz10aGlzLnN0b3JlLmtleU1ldHJpY3MsYT1zLnN1YnNjcmliZS5maW5kKGM9PmMudXNlcklkPT09by51aWQmJmMudHlwZT09PVwidmlkZW9cIik7WC5maXJzdFJlbW90ZVZpZGVvRGVjb2RlKHRoaXMuc3RvcmUuc2Vzc2lvbklkLERlLkZJUlNUX1ZJREVPX0RFQ09ERSxKdC5GSVJTVF9WSURFT19ERUNPREUse3BlZXI6by5fdWludGlkLHZpZGVvd2lkdGg6ZSx2aWRlb2hlaWdodDpuLHN1YnNjcmliZUVsYXBzZTpxZS5tZWFzdXJlRnJvbVN1YnNjcmliZVN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQsdCksc3Vic2NyaWJlUmVxdWVzdGlkOnQscDJwaWQ6dGhpcy5zdG9yZS5wMnBJZCxhcEVuZDpzLnJlcXVlc3RBUEVuZHx8MCxhcFN0YXJ0OnMucmVxdWVzdEFQU3RhcnR8fDAsam9pbkd3RW5kOnMuam9pbkdhdGV3YXlFbmR8fDAsam9pbkd3U3RhcnQ6cy5qb2luR2F0ZXdheVN0YXJ0fHwwLHBjRW5kOnMucGVlckNvbm5lY3Rpb25FbmR8fDAscGNTdGFydDpzLnBlZXJDb25uZWN0aW9uU3RhcnR8fDAsc3Vic2NyaWJlckVuZDphPy5zdWJzY3JpYmVFbmR8fDAsc3Vic2NyaWJlclN0YXJ0OmE/LnN1YnNjcmliZVN0YXJ0fHwwLHZpZGVvQWRkTm90aWZ5OmE/LnN0cmVhbUFkZGVkfHwwLHN0YXRlOmk/MTowfSk7fX1hc3luYyByZW1vdGVNZWRpYVNzcmNDaGFuZ2VkKHQsZSxuKXtpZighdGhpcy5yZWN2Q29ubmVjdGlvbilyZXR1cm4gITE7bGV0IGk9dGhpcy5yZW1vdGVVc2VyTWFwLmdldCh0KTtpZighaSlyZXR1cm4gITE7bGV0IHI9aS5nZXQoZSk7aWYoIXIpcmV0dXJuICExO2xldCBvPWF3YWl0IHRoaXMucmVjdkNvbm5lY3Rpb24uZ2V0UmVtb3RlU1NSQyhyKTtyZXR1cm4gbyE9PXZvaWQgMCYmbyE9PW59aXNQcmVTdWJTY3JpYmUodCl7cmV0dXJuICExfWFzeW5jIHB1Ymxpc2hEYXRhQ2hhbm5lbCh0KXt0aHJvdyBuZXcgTihSLk5PVF9TVVBQT1JURUQpfWFzeW5jIHVucHVibGlzaERhdGFDaGFubmVsKHQpe3Rocm93IG5ldyBOKFIuTk9UX1NVUFBPUlRFRCl9YXN5bmMgc3Vic2NyaWJlRGF0YUNoYW5uZWwodCxlKXt0aHJvdyBuZXcgTihSLk5PVF9TVVBQT1JURUQpfWFzeW5jIHVuc3Vic2NyaWJlRGF0YUNoYW5uZWwodCxlKXt0aHJvdyBuZXcgTihSLk5PVF9TVVBQT1JURUQpfWhhc1BlbmRpbmdSZW1vdGVEYXRhQ2hhbm5lbCh0LGUpe3Rocm93IG5ldyBOKFIuTk9UX1NVUFBPUlRFRCl9c2V0UGVuZGluZ1JlbW90ZURhdGFDaGFubmVsKHQsZSl7dGhyb3cgbmV3IE4oUi5OT1RfU1VQUE9SVEVEKX1hc3luYyBwcmVDb25uZWN0KHQpe3Rocm93IG5ldyBOKFIuTk9UX1NVUFBPUlRFRCl9Z2V0RXN0YWJsaXNoUGFyYW1zKCl7dGhyb3cgbmV3IE4oUi5OT1RfU1VQUE9SVEVEKX1hc3luYyByZVN1YnNjcmliZSh0KXt0aHJvdyBuZXcgTihSLk5PVF9TVVBQT1JURUQpfWFzeW5jIHVwZGF0ZVZpZGVvU3RyZWFtUGFyYW1ldGVyKHQsZSl7dGhyb3cgbmV3IE4oUi5OT1RfU1VQUE9SVEVEKX11bmJpbmRSdHBUcmFuc2NlaXZlcigpe3RoaXMubG9jYWxUcmFja01hcC5zaXplIT09MCYmQXJyYXkuZnJvbSh0aGlzLmxvY2FsVHJhY2tNYXAuZW50cmllcygpKS5mb3JFYWNoKHQ9PntsZXRbZSx7dHJhY2s6bn1dPXQ7ZT09PVUuTG9jYWxWaWRlb0xvd1RyYWNrP24uX3VwZGF0ZVJ0cFRyYW5zY2VpdmVyKHZvaWQgMCxuYS5MT1dfU1RSRUFNKTpuLl91cGRhdGVSdHBUcmFuc2NlaXZlcih2b2lkIDApO30pO319LHEoSHQucHJvdG90eXBlLFwicDJwQ29ubmVjdFwiLFtUdl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihIdC5wcm90b3R5cGUsXCJwMnBDb25uZWN0XCIpLEh0LnByb3RvdHlwZSkscShIdC5wcm90b3R5cGUsXCJ1bnB1Ymxpc2hcIixbU3ZdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoSHQucHJvdG90eXBlLFwidW5wdWJsaXNoXCIpLEh0LnByb3RvdHlwZSkscShIdC5wcm90b3R5cGUsXCJ1bnB1Ymxpc2hMb3dTdHJlYW1cIixbUnZdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoSHQucHJvdG90eXBlLFwidW5wdWJsaXNoTG93U3RyZWFtXCIpLEh0LnByb3RvdHlwZSkscShIdC5wcm90b3R5cGUsXCJzdWJzY3JpYmVcIixbQ3ZdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoSHQucHJvdG90eXBlLFwic3Vic2NyaWJlXCIpLEh0LnByb3RvdHlwZSkscShIdC5wcm90b3R5cGUsXCJtb2NrU3Vic2NyaWJlXCIsW0l2XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEh0LnByb3RvdHlwZSxcIm1vY2tTdWJzY3JpYmVcIiksSHQucHJvdG90eXBlKSxxKEh0LnByb3RvdHlwZSxcInVuc3Vic2NyaWJlXCIsW3Z2XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEh0LnByb3RvdHlwZSxcInVuc3Vic2NyaWJlXCIpLEh0LnByb3RvdHlwZSkscShIdC5wcm90b3R5cGUsXCJtdXRlUmVtb3RlXCIsW3l2XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEh0LnByb3RvdHlwZSxcIm11dGVSZW1vdGVcIiksSHQucHJvdG90eXBlKSxxKEh0LnByb3RvdHlwZSxcInVubXV0ZVJlbW90ZVwiLFtBdl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihIdC5wcm90b3R5cGUsXCJ1bm11dGVSZW1vdGVcIiksSHQucHJvdG90eXBlKSxxKEh0LnByb3RvdHlwZSxcImhhc1JlbW90ZU1lZGlhV2l0aExvY2tcIixbYnZdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoSHQucHJvdG90eXBlLFwiaGFzUmVtb3RlTWVkaWFXaXRoTG9ja1wiKSxIdC5wcm90b3R5cGUpLHEoSHQucHJvdG90eXBlLFwiZGlzY29ubmVjdEZvclJlY29ubmVjdFwiLFt3dl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihIdC5wcm90b3R5cGUsXCJkaXNjb25uZWN0Rm9yUmVjb25uZWN0XCIpLEh0LnByb3RvdHlwZSkscShIdC5wcm90b3R5cGUsXCJyZW1vdGVNZWRpYVNzcmNDaGFuZ2VkXCIsW092XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEh0LnByb3RvdHlwZSxcInJlbW90ZU1lZGlhU3NyY0NoYW5nZWRcIiksSHQucHJvdG90eXBlKSxIdCk7ZnVuY3Rpb24gUGkodCl7cmV0dXJuIGZ1bmN0aW9uKGUsbixpKXtsZXQgcj1lW25dO2lmKHR5cGVvZiByIT1cImZ1bmN0aW9uXCIpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHVzZSBtdXRleCBvbiBvYmplY3QgcHJvcGVydHkuXCIpO3JldHVybiBpLnZhbHVlPWFzeW5jIGZ1bmN0aW9uKCl7Zm9yKHZhciBvPWFyZ3VtZW50cy5sZW5ndGgscz1uZXcgQXJyYXkobyksYT0wO2E8bzthKyspc1thXT1hcmd1bWVudHNbYV07c3dpdGNoKHQpe2Nhc2UgVWkuU0VORF9PTkxZOntsZXQgYz1hd2FpdCB0aGlzLnNlbmRNdXRleC5sb2NrKFwiRnJvbSBQMlBDaGFubmVsMi5cIi5jb25jYXQobikpO3RyeXtyZXR1cm4gYXdhaXQgci5hcHBseSh0aGlzLHMpfWZpbmFsbHl7YygpO319Y2FzZSBVaS5SRUNFSVZFX09OTFk6e2xldCBjPWF3YWl0IHRoaXMucmVjdk11dGV4LmxvY2soXCJGcm9tIFAyUENoYW5uZWwyLlwiLmNvbmNhdChuKSk7dHJ5e3JldHVybiBhd2FpdCByLmFwcGx5KHRoaXMscyl9ZmluYWxseXtjKCk7fX1kZWZhdWx0OntsZXQgYz1hd2FpdCB0aGlzLnNlbmRNdXRleC5sb2NrKFwiRnJvbSBQMlBDaGFubmVsMi5cIi5jb25jYXQobikpLGQ9YXdhaXQgdGhpcy5yZWN2TXV0ZXgubG9jayhcIkZyb20gUDJQQ2hhbm5lbDIuXCIuY29uY2F0KG4pKTt0cnl7cmV0dXJuIGF3YWl0IHIuYXBwbHkodGhpcyxzKX1maW5hbGx5e2MoKSxkKCk7fX19fSxpfX1mdW5jdGlvbiBEdih0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKGk9aS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKS5lbnVtZXJhYmxlfSkpLG4ucHVzaC5hcHBseShuLGkpO31yZXR1cm4gbn1mdW5jdGlvbiB3byh0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV0hPW51bGw/YXJndW1lbnRzW2VdOnt9O2UlMj9EdihPYmplY3QobiksITApLmZvckVhY2goZnVuY3Rpb24oaSl7VCh0LGksbltpXSk7fSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6RHYoT2JqZWN0KG4pKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGksT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGkpKTt9KTt9cmV0dXJuIHR9dmFyIF91PWNsYXNzIHR7Y29uc3RydWN0b3IoZSl7VCh0aGlzLFwic3RvcmVcIix2b2lkIDApLFQodGhpcyxcIm9uU3RhdHNFeGNlcHRpb25cIix2b2lkIDApLFQodGhpcyxcIm9uVXBsb2FkUHVibGlzaER1cmF0aW9uXCIsdm9pZCAwKSxUKHRoaXMsXCJvblN0YXRzQ2hhbmdlZFwiLHZvaWQgMCksVCh0aGlzLFwibG9jYWxTdGF0c1wiLG5ldyBNYXApLFQodGhpcyxcInJlbW90ZVN0YXRzXCIsbmV3IE1hcCksVCh0aGlzLFwidXBkYXRlU3RhdHNJbnRlcnZhbFwiLHZvaWQgMCksVCh0aGlzLFwidHJhZmZpY1N0YXRzXCIsdm9pZCAwKSxUKHRoaXMsXCJ0cmFmZmljU3RhdHNQZWVyTGlzdFwiLFtdKSxUKHRoaXMsXCJ1cGxpbmtTdGF0c1wiLHZvaWQgMCksVCh0aGlzLFwiZXhjZXB0aW9uTW9uaXRvclwiLHZvaWQgMCksVCh0aGlzLFwicDJwQ2hhbm5lbFwiLHZvaWQgMCksVCh0aGlzLFwic2NhbGFiaWxpdHlNb2RlXCIseEUuTDFUMSksVCh0aGlzLFwidXBkYXRlU3RhdHNcIiwoKT0+e3RoaXMucDJwQ2hhbm5lbCYmKHRoaXMudXBkYXRlUmVtb3RlU3RhdHModGhpcy5wMnBDaGFubmVsKSx0aGlzLnVwZGF0ZUxvY2FsU3RhdHModGhpcy5wMnBDaGFubmVsKSk7fSksdGhpcy5zdG9yZT1lLHRoaXMuZXhjZXB0aW9uTW9uaXRvcj1uZXcgcm0sdGhpcy5leGNlcHRpb25Nb25pdG9yLm9uKFwiZXhjZXB0aW9uXCIsKG4saSxyKT0+e3RoaXMub25TdGF0c0V4Y2VwdGlvbiYmdGhpcy5vblN0YXRzRXhjZXB0aW9uKG4saSxyKTt9KTt9c3RhcnRVcGRhdGVTdGF0cygpe3RoaXMudXBkYXRlU3RhdHNJbnRlcnZhbHx8KHRoaXMudXBkYXRlU3RhdHNJbnRlcnZhbD13aW5kb3cuc2V0SW50ZXJ2YWwodGhpcy51cGRhdGVTdGF0cywxZTMpKTt9c3RvcFVwZGF0ZVN0YXRzKCl7dGhpcy51cGRhdGVTdGF0c0ludGVydmFsJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy51cGRhdGVTdGF0c0ludGVydmFsKSx0aGlzLnVwZGF0ZVN0YXRzSW50ZXJ2YWw9dm9pZCAwKTt9cmVzZXQoKXt0aGlzLmxvY2FsU3RhdHM9bmV3IE1hcCx0aGlzLnJlbW90ZVN0YXRzPW5ldyBNYXAsdGhpcy50cmFmZmljU3RhdHM9dm9pZCAwLHRoaXMudHJhZmZpY1N0YXRzUGVlckxpc3Q9W10sdGhpcy51cGxpbmtTdGF0cz12b2lkIDA7fWdldExvY2FsQXVkaW9UcmFja1N0YXRzKCl7cmV0dXJuIHRoaXMubG9jYWxTdGF0cy5nZXQoVS5Mb2NhbEF1ZGlvVHJhY2spfHx3byh7fSxLRSl9Z2V0TG9jYWxWaWRlb1RyYWNrU3RhdHMoKXtyZXR1cm4gdGhpcy5sb2NhbFN0YXRzLmdldChVLkxvY2FsVmlkZW9UcmFjayl8fHdvKHt9LFlFKX1nZXRSZW1vdGVBdWRpb1RyYWNrU3RhdHMoZSl7bGV0IG49KG8scyk9PntpZighdGhpcy50cmFmZmljU3RhdHMpcmV0dXJuIHM7bGV0IGE9dGhpcy50cmFmZmljU3RhdHMucGVlcl9kZWxheS5maW5kKGM9PmMucGVlcl91aWQ9PT1vKTtyZXR1cm4gYSYmKHMucHVibGlzaER1cmF0aW9uPWEuQl9wcGFkKyhEYXRlLm5vdygpLXRoaXMudHJhZmZpY1N0YXRzLnRpbWVzdGFtcCkpLHN9LGk9e307aWYoZSl7dmFyIHI7bGV0IG89KHI9dGhpcy5yZW1vdGVTdGF0cy5nZXQoZSkpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5hdWRpb1N0YXRzO28mJihpW2VdPW4oZSxvKSk7fWVsc2UgQXJyYXkuZnJvbSh0aGlzLnJlbW90ZVN0YXRzLmVudHJpZXMoKSkuZm9yRWFjaChvPT57bGV0W3Mse2F1ZGlvU3RhdHM6YX1dPW87YSYmKGlbc109bihzLGEpKTt9KTtyZXR1cm4gaX1nZXRSZW1vdGVOZXR3b3JrUXVhbGl0eVN0YXRzKGUpe2xldCBuPXt9O2lmKGUpe3ZhciBpO2xldCByPShpPXRoaXMucmVtb3RlU3RhdHMuZ2V0KGUpKT09PW51bGx8fGk9PT12b2lkIDA/dm9pZCAwOmkubmV0d29ya1N0YXRzO3ImJihuW2VdPXIpO31lbHNlIEFycmF5LmZyb20odGhpcy5yZW1vdGVTdGF0cy5lbnRyaWVzKCkpLmZvckVhY2gocj0+e2xldFtvLHtuZXR3b3JrU3RhdHM6c31dPXI7cyYmKG5bb109cyk7fSk7cmV0dXJuIG59Z2V0UmVtb3RlVmlkZW9UcmFja1N0YXRzKGUpe2xldCBuPShvLHMpPT57aWYoIXRoaXMudHJhZmZpY1N0YXRzKXJldHVybiBzO2xldCBhPXRoaXMudHJhZmZpY1N0YXRzLnBlZXJfZGVsYXkuZmluZChjPT5jLnBlZXJfdWlkPT09byk7cmV0dXJuIGEmJihzLnB1Ymxpc2hEdXJhdGlvbj1hLkJfcHB2ZCsoRGF0ZS5ub3coKS10aGlzLnRyYWZmaWNTdGF0cy50aW1lc3RhbXApKSxzfSxpPXt9O2lmKGUpe3ZhciByO2xldCBvPShyPXRoaXMucmVtb3RlU3RhdHMuZ2V0KGUpKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnIudmlkZW9TdGF0cztvJiYoaVtlXT1uKGUsbykpO31lbHNlIEFycmF5LmZyb20odGhpcy5yZW1vdGVTdGF0cy5lbnRyaWVzKCkpLmZvckVhY2gobz0+e2xldFtzLHt2aWRlb1N0YXRzOmF9XT1vO2EmJihpW3NdPW4ocyxhKSk7fSk7cmV0dXJuIGl9Z2V0UlRDU3RhdHMoKXtsZXQgZT0wLG49MCxpPTAscj0wLG89dGhpcy5sb2NhbFN0YXRzLmdldChVLkxvY2FsQXVkaW9UcmFjayk7byYmKGUrPW8uc2VuZEJ5dGVzLG4rPW8uc2VuZEJpdHJhdGUpO2xldCBzPXRoaXMubG9jYWxTdGF0cy5nZXQoVS5Mb2NhbFZpZGVvVHJhY2spO3MmJihlKz1zLnNlbmRCeXRlcyxuKz1zLnNlbmRCaXRyYXRlKTtsZXQgYT10aGlzLmxvY2FsU3RhdHMuZ2V0KFUuTG9jYWxWaWRlb0xvd1RyYWNrKTthJiYoZSs9YS5zZW5kQnl0ZXMsbis9YS5zZW5kQml0cmF0ZSksdGhpcy5yZW1vdGVTdGF0cy5mb3JFYWNoKGQ9PntsZXR7YXVkaW9TdGF0czpsLHZpZGVvU3RhdHM6dX09ZDtsJiYoaSs9bC5yZWNlaXZlQnl0ZXMscis9bC5yZWNlaXZlQml0cmF0ZSksdSYmKGkrPXUucmVjZWl2ZUJ5dGVzLHIrPXUucmVjZWl2ZUJpdHJhdGUpO30pO2xldCBjPTE7cmV0dXJuIHRoaXMudHJhZmZpY1N0YXRzJiYoYys9dGhpcy50cmFmZmljU3RhdHMucGVlcl9kZWxheS5sZW5ndGgpLHtEdXJhdGlvbjowLFVzZXJDb3VudDpjLFNlbmRCaXRyYXRlOm4sU2VuZEJ5dGVzOmUsUmVjdkJ5dGVzOmksUmVjdkJpdHJhdGU6cixPdXRnb2luZ0F2YWlsYWJsZUJhbmR3aWR0aDp0aGlzLnVwbGlua1N0YXRzP3RoaXMudXBsaW5rU3RhdHMuQl91YWIvMWUzOjAsUlRUOnRoaXMudHJhZmZpY1N0YXRzPzIqdGhpcy50cmFmZmljU3RhdHMuQl9hY2Q6MH19YWRkTG9jYWxTdGF0cyhlKXt0aGlzLmxvY2FsU3RhdHMuc2V0KGUsdm9pZCAwKTt9cmVtb3ZlTG9jYWxTdGF0cyhlKXtlP3RoaXMubG9jYWxTdGF0cy5kZWxldGUoZSk6dGhpcy5sb2NhbFN0YXRzLmNsZWFyKCk7fWFkZFJlbW90ZVN0YXRzKGUpe3RoaXMucmVtb3RlU3RhdHMuc2V0KGUse30pO31yZW1vdmVSZW1vdGVTdGF0cyhlKXtlP3RoaXMucmVtb3RlU3RhdHMuZGVsZXRlKGUpOnRoaXMucmVtb3RlU3RhdHMuY2xlYXIoKTt9YWRkUDJQQ2hhbm5lbChlKXt0aGlzLnAycENoYW5uZWw9ZTt9dXBkYXRlVHJhZmZpY1N0YXRzKGUpe2UucGVlcl9kZWxheT1lLnBlZXJfZGVsYXkuZmlsdGVyKG49Pm4uQl9wcGFkIT09dm9pZCAwfHxuLkJfcHB2ZCE9PXZvaWQgMCksZS5wZWVyX2RlbGF5LmZpbHRlcihuPT50aGlzLnRyYWZmaWNTdGF0c1BlZXJMaXN0LmluZGV4T2Yobi5wZWVyX3VpZCk9PT0tMSkuZm9yRWFjaChuPT57dmFyIGk7bGV0IHI9KGk9dGhpcy5wMnBDaGFubmVsKT09PW51bGx8fGk9PT12b2lkIDA/dm9pZCAwOmkuZ2V0UmVtb3RlTWVkaWEobi5wZWVyX3VpZCksbz1yIT1udWxsJiZyLnZpZGVvU1NSQz9xZS5tZWFzdXJlRnJvbVN1YnNjcmliZVN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQsci52aWRlb1NTUkMpOjAscz1yIT1udWxsJiZyLmF1ZGlvU1NSQz9xZS5tZWFzdXJlRnJvbVN1YnNjcmliZVN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQsci5hdWRpb1NTUkMpOjA7bi5CX3BwYWQhPT12b2lkIDAmJm4uQl9wcHZkIT09dm9pZCAwJiYodGhpcy5vblVwbG9hZFB1Ymxpc2hEdXJhdGlvbiYmdGhpcy5vblVwbG9hZFB1Ymxpc2hEdXJhdGlvbihuLnBlZXJfdWlkLG4uQl9wcGFkLG4uQl9wcHZkLG8+cz9vOnMpLHRoaXMudHJhZmZpY1N0YXRzUGVlckxpc3QucHVzaChuLnBlZXJfdWlkKSk7fSksdGhpcy50cmFmZmljU3RhdHM9ZTt9dXBkYXRlVXBsaW5rU3RhdHMoZSl7dGhpcy51cGxpbmtTdGF0cyYmdGhpcy51cGxpbmtTdGF0cy5CX2ZpciE9PWUuQl9maXImJl8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdOiBQZXJpb2QgZmlyIGNoYW5nZXMgdG8gXCIpLmNvbmNhdChlLkJfZmlyKSksdGhpcy51cGxpbmtTdGF0cz1lO31zdGF0aWMgaXNSZW1vdGVWaWRlb0ZyZWV6ZShlLG4saSl7aWYoIWUpcmV0dXJuICExO2xldCByPSEhaSYmbi5mcmFtZXNEZWNvZGVGcmVlemVUaW1lPmkuZnJhbWVzRGVjb2RlRnJlZXplVGltZSxvPSFpfHxuLmZyYW1lc0RlY29kZUNvdW50PmkuZnJhbWVzRGVjb2RlQ291bnQ7cmV0dXJuIHJ8fCFvfXN0YXRpYyBpc1JlbW90ZUF1ZGlvRnJlZXplKGUpe3JldHVybiAhIWUmJmUuX2lzRnJlZXplKCl9aXNMb2NhbFZpZGVvRnJlZXplKGUpe3JldHVybiAhKCFlLmlucHV0RnJhbWV8fCFlLnNlbnRGcmFtZSkmJmUuaW5wdXRGcmFtZS5mcmFtZVJhdGU+NSYmZS5zZW50RnJhbWUuZnJhbWVSYXRlPDN9dXBkYXRlTG9jYWxTdGF0cyhlKXtBcnJheS5mcm9tKHRoaXMubG9jYWxTdGF0cy5lbnRyaWVzKCkpLmZvckVhY2gobj0+e2xldFtpLHJdPW47c3dpdGNoKGkpe2Nhc2UgVS5Mb2NhbFZpZGVvVHJhY2s6Y2FzZSBVLkxvY2FsVmlkZW9Mb3dUcmFjazp7bGV0IHM9cixhPXdvKHt9LFlFKSxjPWUuZ2V0U3RhdHMoKSxkPWUuZ2V0TG9jYWxNZWRpYShpKTtpZihjKXtsZXQgbD1jLnZpZGVvU2VuZC5maW5kKHU9PnUuc3NyYz09PWQ/LnNzcmNzWzBdLnNzcmNJZCk7aWYobCl7bGV0IHU9ZS5nZXRMb2NhbFZpZGVvU2l6ZSgpLGg9ZS5nZXRFbmNvZGVyQ29uZmlnKFUuTG9jYWxWaWRlb1RyYWNrKTtsLmNvZGVjIT09XCJIMjY0XCImJmwuY29kZWMhPT1cIkgyNjVcIiYmbC5jb2RlYyE9PVwiVlA4XCImJmwuY29kZWMhPT1cIlZQOVwiJiZsLmNvZGVjIT09XCJBVjFYXCImJmwuY29kZWMhPT1cIkFWMVwifHwoYS5jb2RlY1R5cGU9bC5jb2RlYyksYS5zZW5kQnl0ZXM9bC5ieXRlcyxhLnNlbmRCaXRyYXRlPXM/OCpNYXRoLm1heCgwLGEuc2VuZEJ5dGVzLXMuc2VuZEJ5dGVzKTowLGwuaW5wdXRGcmFtZT8oYS5jYXB0dXJlRnJhbWVSYXRlPWwuaW5wdXRGcmFtZS5mcmFtZVJhdGUsYS5jYXB0dXJlUmVzb2x1dGlvbkhlaWdodD1sLmlucHV0RnJhbWUuaGVpZ2h0LGEuY2FwdHVyZVJlc29sdXRpb25XaWR0aD1sLmlucHV0RnJhbWUud2lkdGgpOnUmJihhLmNhcHR1cmVSZXNvbHV0aW9uV2lkdGg9dS53aWR0aCxhLmNhcHR1cmVSZXNvbHV0aW9uSGVpZ2h0PXUuaGVpZ2h0KSxsLnNlbnRGcmFtZT8oYS5zZW5kRnJhbWVSYXRlPWwuc2VudEZyYW1lLmZyYW1lUmF0ZSxhLnNlbmRSZXNvbHV0aW9uSGVpZ2h0PWwuc2VudEZyYW1lLmhlaWdodCxhLnNlbmRSZXNvbHV0aW9uV2lkdGg9bC5zZW50RnJhbWUud2lkdGgpOnUmJihhLnNlbmRSZXNvbHV0aW9uV2lkdGg9dS53aWR0aCxhLnNlbmRSZXNvbHV0aW9uSGVpZ2h0PXUuaGVpZ2h0KSxsLmF2Z0VuY29kZU1zJiYoYS5lbmNvZGVEZWxheT1sLmF2Z0VuY29kZU1zKSxoJiZoLmJpdHJhdGVNYXgmJihhLnRhcmdldFNlbmRCaXRyYXRlPTFlMypoLmJpdHJhdGVNYXgpLGEuc2VuZFBhY2tldHM9bC5wYWNrZXRzLGEuc2VuZFBhY2tldHNMb3N0PWwucGFja2V0c0xvc3QsYS5zZW5kSml0dGVyTXM9bC5qaXR0ZXJNcyxhLnNlbmRSdHRNcz1sLnJ0dE1zLGEudG90YWxEdXJhdGlvbj1zP3MudG90YWxEdXJhdGlvbisxOjEsYS50b3RhbEZyZWV6ZVRpbWU9cz9zLnRvdGFsRnJlZXplVGltZTowLHRoaXMuaXNMb2NhbFZpZGVvRnJlZXplKGwpJiYoYS50b3RhbEZyZWV6ZVRpbWUrPTEpLGwuc2NhbGFiaWxpdHlNb2RlJiZ0aGlzLnNjYWxhYmlsaXR5TW9kZSE9PWwuc2NhbGFiaWxpdHlNb2RlJiYoXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl06IFRoZSBzY2FsYWJpbGl0eU1vZGUgb2YgdGhlIHZpZGVvIHNlbmRpbmcgc3RyZWFtIGlzIFwiKS5jb25jYXQobC5zY2FsYWJpbGl0eU1vZGUpKSx0aGlzLnNjYWxhYmlsaXR5TW9kZT1sLnNjYWxhYmlsaXR5TW9kZSk7fXRoaXMudHJhZmZpY1N0YXRzJiYoYS5jdXJyZW50UGFja2V0TG9zc1JhdGU9KHRoaXMudHJhZmZpY1N0YXRzLkJfcHZscjR8fDApLzEwMCk7fXZhciBvO3RoaXMubG9jYWxTdGF0cy5zZXQoaSxhKSwocz8uc2VuZFJlc29sdXRpb25XaWR0aCE9PWEuc2VuZFJlc29sdXRpb25XaWR0aHx8cz8uc2VuZFJlc29sdXRpb25IZWlnaHQhPT1hLnNlbmRSZXNvbHV0aW9uSGVpZ2h0KSYmKChvPXRoaXMub25TdGF0c0NoYW5nZWQpPT09bnVsbHx8bz09PXZvaWQgMHx8by5jYWxsKHRoaXMsXCJyZXNvbHV0aW9uXCIse3dpZHRoOmEuc2VuZFJlc29sdXRpb25XaWR0aCxoZWlnaHQ6YS5zZW5kUmVzb2x1dGlvbkhlaWdodH0pKSxhJiZkJiZ0aGlzLmV4Y2VwdGlvbk1vbml0b3Iuc2V0TG9jYWxWaWRlb1N0YXRzKHRoaXMuc3RvcmUudWlkLGQudHJhY2ssYSk7YnJlYWt9Y2FzZSBVLkxvY2FsQXVkaW9UcmFjazp7bGV0IHM9cixhPXdvKHt9LEtFKSxjPWUuZ2V0U3RhdHMoKSxkPWUuZ2V0TG9jYWxNZWRpYShpKTtpZihjKXtsZXQgbD1jLmF1ZGlvU2VuZC5maW5kKHU9PnUuc3NyYz09PWQ/LnNzcmNzWzBdLnNzcmNJZCk7aWYobCl7aWYobC5jb2RlYyE9PVwib3B1c1wiJiZsLmNvZGVjIT09XCJhYWNcIiYmbC5jb2RlYyE9PVwiUENNVVwiJiZsLmNvZGVjIT09XCJQQ01BXCImJmwuY29kZWMhPT1cIkc3MjJcInx8KGEuY29kZWNUeXBlPWwuY29kZWMpLGwuaW5wdXRMZXZlbClhLnNlbmRWb2x1bWVMZXZlbD1NYXRoLnJvdW5kKDMyNzY3KmwuaW5wdXRMZXZlbCk7ZWxzZSB7bGV0IHU9ZS5nZXRMb2NhbEF1ZGlvVm9sdW1lKCk7dSYmKGEuc2VuZFZvbHVtZUxldmVsPU1hdGgucm91bmQoMzI3NjcqdSkpO31hLnNlbmRCeXRlcz1sLmJ5dGVzLGEuc2VuZFBhY2tldHM9bC5wYWNrZXRzLGEuc2VuZFBhY2tldHNMb3N0PWwucGFja2V0c0xvc3QsYS5zZW5kSml0dGVyTXM9bC5qaXR0ZXJNcyxhLnNlbmRSdHRNcz1sLnJ0dE1zLGEuc2VuZEJpdHJhdGU9cz84Kk1hdGgubWF4KDAsYS5zZW5kQnl0ZXMtcy5zZW5kQnl0ZXMpOjA7fX10aGlzLnRyYWZmaWNTdGF0cyYmKGEuY3VycmVudFBhY2tldExvc3NSYXRlPSh0aGlzLnRyYWZmaWNTdGF0cy5CX3BhbHI0fHwwKS8xMDApLHRoaXMubG9jYWxTdGF0cy5zZXQoVS5Mb2NhbEF1ZGlvVHJhY2ssYSksYSYmZCYmdGhpcy5leGNlcHRpb25Nb25pdG9yLnNldExvY2FsQXVkaW9TdGF0cyh0aGlzLnN0b3JlLnVpZCxkLnRyYWNrLGEpO2JyZWFrfX19KTt9dXBkYXRlUmVtb3RlU3RhdHMoZSl7QXJyYXkuZnJvbSh0aGlzLnJlbW90ZVN0YXRzLmVudHJpZXMoKSkuZm9yRWFjaChuPT57dmFyIGkscjtsZXRbbyx7dmlkZW9TdGF0czpzLGF1ZGlvU3RhdHM6YSx2aWRlb1BjU3RhdHM6Y31dPW4sZD1hLGw9cyx1PWMsaD13byh7fSxHTykscD13byh7fSxXTyksZz13byh7fSxrRykse2F1ZGlvVHJhY2s6RSx2aWRlb1RyYWNrOmYsYXVkaW9TU1JDOlMsdmlkZW9TU1JDOkN9PWUuZ2V0UmVtb3RlTWVkaWEobyksQTtBPWUgaW5zdGFuY2VvZiBBbj9lLmdldFN0YXRzKCEwKTplLmdldFN0YXRzKCk7bGV0IGI9KGk9QSk9PT1udWxsfHxpPT09dm9pZCAwP3ZvaWQgMDppLmF1ZGlvUmVjdi5maW5kKGs9Pmsuc3NyYz09PVMpLHc9KHI9QSk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyLnZpZGVvUmVjdi5maW5kKGs9Pmsuc3NyYz09PUMpLEQ9dGhpcy50cmFmZmljU3RhdHMmJnRoaXMudHJhZmZpY1N0YXRzLnBlZXJfZGVsYXkuZmluZChrPT5rLnBlZXJfdWlkPT09byk7aWYoYiYmKGIuY29kZWMhPT1cIm9wdXNcIiYmYi5jb2RlYyE9PVwiYWFjXCImJmIuY29kZWMhPT1cIlBDTVVcIiYmYi5jb2RlYyE9PVwiUENNQVwiJiZiLmNvZGVjIT09XCJHNzIyXCJ8fChoLmNvZGVjVHlwZT1iLmNvZGVjKSxiLm91dHB1dExldmVsP2gucmVjZWl2ZUxldmVsPU1hdGgucm91bmQoMzI3NjcqYi5vdXRwdXRMZXZlbCk6RSYmKGgucmVjZWl2ZUxldmVsPU1hdGgucm91bmQoMzI3NjcqRS5nZXRWb2x1bWVMZXZlbCgpKSksaC5yZWNlaXZlQnl0ZXM9Yi5ieXRlcyxoLnJlY2VpdmVQYWNrZXRzPWIucGFja2V0cyxoLnJlY2VpdmVQYWNrZXRzTG9zdD1iLnBhY2tldHNMb3N0LGgucmVjZWl2ZVBhY2tldHNEaXNjYXJkZWQ9Yi5wYWNrZXRzRGlzY2FyZGVkLGgucGFja2V0TG9zc1JhdGU9aC5yZWNlaXZlUGFja2V0c0xvc3QvKGgucmVjZWl2ZVBhY2tldHMraC5yZWNlaXZlUGFja2V0c0xvc3QpLGgucmVjZWl2ZUJpdHJhdGU9ZD84Kk1hdGgubWF4KDAsaC5yZWNlaXZlQnl0ZXMtZC5yZWNlaXZlQnl0ZXMpOjAsaC50b3RhbER1cmF0aW9uPWQ/ZC50b3RhbER1cmF0aW9uKzE6MSxoLnRvdGFsRnJlZXplVGltZT1kP2QudG90YWxGcmVlemVUaW1lOjAsaC5mcmVlemVSYXRlPWgudG90YWxGcmVlemVUaW1lL2gudG90YWxEdXJhdGlvbixoLnJlY2VpdmVEZWxheT1iLmppdHRlckJ1ZmZlck1zLGgudG90YWxEdXJhdGlvbj4xMCYmdC5pc1JlbW90ZUF1ZGlvRnJlZXplKEUpJiYoaC50b3RhbEZyZWV6ZVRpbWUrPTEpKSx3KXt3LmNvZGVjIT09XCJIMjY0XCImJncuY29kZWMhPT1cIkgyNjVcIiYmdy5jb2RlYyE9PVwiVlA4XCImJncuY29kZWMhPT1cIlZQOVwiJiZ3LmNvZGVjIT09XCJBVjFYXCImJncuY29kZWMhPT1cIkFWMVwifHwocC5jb2RlY1R5cGU9dy5jb2RlYykscC5yZWNlaXZlQnl0ZXM9dy5ieXRlcyxwLnJlY2VpdmVCaXRyYXRlPWw/OCpNYXRoLm1heCgwLHAucmVjZWl2ZUJ5dGVzLWwucmVjZWl2ZUJ5dGVzKTowLHAuZGVjb2RlRnJhbWVSYXRlPXcuZGVjb2RlRnJhbWVSYXRlPDA/MDp3LmRlY29kZUZyYW1lUmF0ZSxwLnJlbmRlckZyYW1lUmF0ZT13LmRlY29kZUZyYW1lUmF0ZTwwPzA6dy5kZWNvZGVGcmFtZVJhdGUsdy5vdXRwdXRGcmFtZSYmKHAucmVuZGVyRnJhbWVSYXRlPXcub3V0cHV0RnJhbWUuZnJhbWVSYXRlKSx3LnJlY2VpdmVkRnJhbWU/KHAucmVjZWl2ZUZyYW1lUmF0ZT13LnJlY2VpdmVkRnJhbWUuZnJhbWVSYXRlLHAucmVjZWl2ZVJlc29sdXRpb25IZWlnaHQ9dy5yZWNlaXZlZEZyYW1lLmhlaWdodCxwLnJlY2VpdmVSZXNvbHV0aW9uV2lkdGg9dy5yZWNlaXZlZEZyYW1lLndpZHRoKTpmJiYocC5yZWNlaXZlUmVzb2x1dGlvbkhlaWdodD1mLl92aWRlb0hlaWdodHx8MCxwLnJlY2VpdmVSZXNvbHV0aW9uV2lkdGg9Zi5fdmlkZW9XaWR0aHx8MCksdy5mcmFtZXNSYXRlRmlyZWZveCE9PXZvaWQgMCYmKHAucmVjZWl2ZUZyYW1lUmF0ZT1NYXRoLnJvdW5kKHcuZnJhbWVzUmF0ZUZpcmVmb3gpKSxwLnJlY2VpdmVQYWNrZXRzPXcucGFja2V0cyxwLnJlY2VpdmVQYWNrZXRzTG9zdD13LnBhY2tldHNMb3N0LHAucGFja2V0TG9zc1JhdGU9cC5yZWNlaXZlUGFja2V0c0xvc3QvKHAucmVjZWl2ZVBhY2tldHMrcC5yZWNlaXZlUGFja2V0c0xvc3QpLHAudG90YWxEdXJhdGlvbj1sP2wudG90YWxEdXJhdGlvbisxOjEscC50b3RhbEZyZWV6ZVRpbWU9bD9sLnRvdGFsRnJlZXplVGltZTowLHAucmVjZWl2ZURlbGF5PXcuaml0dGVyQnVmZmVyTXN8fDA7bGV0IGs9ISFDJiZlLmdldFJlbW90ZVZpZGVvSXNSZWFkeShDKTtmJiZrJiZ0LmlzUmVtb3RlVmlkZW9GcmVlemUoZix3LHUpJiYocC50b3RhbEZyZWV6ZVRpbWUrPTEpLHAuZnJlZXplUmF0ZT1wLnRvdGFsRnJlZXplVGltZS9wLnRvdGFsRHVyYXRpb247fUQmJihoLmVuZDJFbmREZWxheT1ELkJfYWQscC5lbmQyRW5kRGVsYXk9RC5CX3ZkLGgudHJhbnNwb3J0RGVsYXk9RC5CX2VkLHAudHJhbnNwb3J0RGVsYXk9RC5CX2VkLGguY3VycmVudFBhY2tldExvc3NSYXRlPUQuQl9lYWxyNC8xMDAscC5jdXJyZW50UGFja2V0TG9zc1JhdGU9RC5CX2V2bHI0LzEwMCxnLnVwbGlua05ldHdvcmtRdWFsaXR5PUQuQl9wdW5xP0QuQl9wdW5xOjAsZy5kb3dubGlua05ldHdvcmtRdWFsaXR5PUQuQl9wZG5xP0QuQl9wZG5xOjApLHRoaXMucmVtb3RlU3RhdHMuc2V0KG8se2F1ZGlvU3RhdHM6aCx2aWRlb1N0YXRzOnAsdmlkZW9QY1N0YXRzOncsbmV0d29ya1N0YXRzOmd9KSxFJiZ0aGlzLmV4Y2VwdGlvbk1vbml0b3Iuc2V0UmVtb3RlQXVkaW9TdGF0cyhFLGgpLGYmJnRoaXMuZXhjZXB0aW9uTW9uaXRvci5zZXRSZW1vdGVWaWRlb1N0YXRzKGYscCk7fSk7fX0sRXU9Y2xhc3N7Y29uc3RydWN0b3IoKXtUKHRoaXMsXCJkZXN0Q2hhbm5lbE1lZGlhSW5mb3NcIixuZXcgTWFwKSxUKHRoaXMsXCJzcmNDaGFubmVsTWVkaWFJbmZvXCIsdm9pZCAwKTt9c2V0U3JjQ2hhbm5lbEluZm8oZSl7TVIoZSksdGhpcy5zcmNDaGFubmVsTWVkaWFJbmZvPWU7fWFkZERlc3RDaGFubmVsSW5mbyhlKXtNUihlKSx0aGlzLmRlc3RDaGFubmVsTWVkaWFJbmZvcy5zZXQoZS5jaGFubmVsTmFtZSxlKTt9cmVtb3ZlRGVzdENoYW5uZWxJbmZvKGUpe1h1KGUpLHRoaXMuZGVzdENoYW5uZWxNZWRpYUluZm9zLmRlbGV0ZShlKTt9Z2V0U3JjQ2hhbm5lbE1lZGlhSW5mbygpe3JldHVybiB0aGlzLnNyY0NoYW5uZWxNZWRpYUluZm99Z2V0RGVzdENoYW5uZWxNZWRpYUluZm8oKXtyZXR1cm4gdGhpcy5kZXN0Q2hhbm5lbE1lZGlhSW5mb3N9fTtmdW5jdGlvbiBQdih0KXtpZighKHQgaW5zdGFuY2VvZiBFdSkpcmV0dXJuIG5ldyBPKFIuSU5WQUxJRF9QQVJBTVMsXCJDb25maWcgc2hvdWxkIGJlIGluc3RhbmNlIG9mIFtDaGFubmVsTWVkaWFSZWxheUNvbmZpZ3VyYXRpb25dXCIpLnRocm93KCk7bGV0IGU9dC5nZXRTcmNDaGFubmVsTWVkaWFJbmZvKCksbj10LmdldERlc3RDaGFubmVsTWVkaWFJbmZvKCk7aWYoIWUpcmV0dXJuIG5ldyBPKFIuSU5WQUxJRF9QQVJBTVMsXCJzcmNDaGFubmVsTWVkaWFJbmZvIHNob3VsZCBub3QgYmUgZW1wdHlcIikudGhyb3coKTtpZihuLnNpemU9PT0wKXJldHVybiBuZXcgTyhSLklOVkFMSURfUEFSQU1TLFwiZGVzdENoYW5uZWxNZWRpYUluZm8gc2hvdWxkIG5vdCBiZSBlbXB0eVwiKS50aHJvdygpfWZ1bmN0aW9uIGt2KHQpe3ZhciBlPXt9LG49ITE7ZnVuY3Rpb24gaShyLG8pe3JldHVybiBuPSEwLHtkb25lOiExLHZhbHVlOm5ldyBPZihvPW5ldyBvbShmdW5jdGlvbihzKXtzKHRbcl0obykpO30pLDEpfX1yZXR1cm4gZVtEcyE9PXZvaWQgMCYmend8fFwiQEBpdGVyYXRvclwiXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxlLm5leHQ9ZnVuY3Rpb24ocil7cmV0dXJuIG4/KG49ITEscik6aShcIm5leHRcIixyKX0sdHlwZW9mIHQudGhyb3c9PVwiZnVuY3Rpb25cIiYmKGUudGhyb3c9ZnVuY3Rpb24ocil7aWYobil0aHJvdyBuPSExLHI7cmV0dXJuIGkoXCJ0aHJvd1wiLHIpfSksdHlwZW9mIHQucmV0dXJuPT1cImZ1bmN0aW9uXCImJihlLnJldHVybj1mdW5jdGlvbihyKXtyZXR1cm4gbj8obj0hMSxyKTppKFwicmV0dXJuXCIscil9KSxlfXZhciBoVz1hZShwMCk7ZnVuY3Rpb24gTHYodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihpPWkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscikuZW51bWVyYWJsZX0pKSxuLnB1c2guYXBwbHkobixpKTt9cmV0dXJuIG59ZnVuY3Rpb24gTXYodCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdIT1udWxsP2FyZ3VtZW50c1tlXTp7fTtlJTI/THYoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe1QodCxpLG5baV0pO30pOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOkx2KE9iamVjdChuKSkuZm9yRWFjaChmdW5jdGlvbihpKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxpLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixpKSk7fSk7fXJldHVybiB0fXZhciBQdDtmdW5jdGlvbiBVdih0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKGk9aS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKS5lbnVtZXJhYmxlfSkpLG4ucHVzaC5hcHBseShuLGkpO31yZXR1cm4gbn1mdW5jdGlvbiBxZCh0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV0hPW51bGw/YXJndW1lbnRzW2VdOnt9O2UlMj9VdihPYmplY3QobiksITApLmZvckVhY2goZnVuY3Rpb24oaSl7VCh0LGksbltpXSk7fSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6VXYoT2JqZWN0KG4pKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGksT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGkpKTt9KTt9cmV0dXJuIHR9dmFyIFZhPShQdD1jbGFzcyBYYSBleHRlbmRzIFlse2dldCBwZWVyQ29ubmVjdGlvblN0YXRlKCl7cmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb24uY29ubmVjdGlvblN0YXRlfWdldCBpY2VDb25uZWN0aW9uU3RhdGUoKXtyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGV9Z2V0IGN1cnJlbnRMb2NhbERlc2NyaXB0aW9uKCl7cmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb24uY3VycmVudExvY2FsRGVzY3JpcHRpb259Z2V0IGN1cnJlbnRSZW1vdGVEZXNjcmlwdGlvbigpe3JldHVybiB0aGlzLnBlZXJDb25uZWN0aW9uLmN1cnJlbnRSZW1vdGVEZXNjcmlwdGlvbn1nZXQgbG9jYWxDb2RlY3MoKXtyZXR1cm4gWy4uLm5ldyBTZXQodGhpcy5sb2NhbENhcGFiaWxpdGllcyYmdGhpcy5sb2NhbENhcGFiaWxpdGllcy52aWRlb0NvZGVjcy5tYXAoZT0+ZS5ydHBNYXAmJmUucnRwTWFwLmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpfHxcIlwiKS5maWx0ZXIoZT0+e3ZhciBuO3JldHVybiBXKG49T2JqZWN0LmtleXMoSnUpKS5jYWxsKG4sZSl9KSldfWNvbnN0cnVjdG9yKGUsbil7c3VwZXIoZSxuKSxUKHRoaXMsXCJzdG9yZVwiLHZvaWQgMCksVCh0aGlzLFwicGVlckNvbm5lY3Rpb25cIix2b2lkIDApLFQodGhpcyxcInJlbW90ZVNEUFwiLHZvaWQgMCksVCh0aGlzLFwiaW5pdGlhbE9mZmVyXCIsdm9pZCAwKSxUKHRoaXMsXCJzdGF0c0ZpbHRlclwiLHZvaWQgMCksVCh0aGlzLFwidXNlUlRYXCIsITEpLFQodGhpcyxcImxvY2FsQ2FwYWJpbGl0aWVzXCIsdm9pZCAwKSxUKHRoaXMsXCJsb2NhbENhbmRpZGF0ZUNvdW50XCIsMCksVCh0aGlzLFwiYWxsQ2FuZGlkYXRlc1JlY2VpdmVkXCIsITEpLFQodGhpcyxcImVzdGFibGlzaFByb21pc2VcIix2b2lkIDApLFQodGhpcyxcIm11dGV4XCIsbmV3IHplKFwiUDJQQ29ubmVjdGlvbi1tdXRleFwiKSksdGhpcy5zdG9yZT1uLHRoaXMucGVlckNvbm5lY3Rpb249bmV3IFJUQ1BlZXJDb25uZWN0aW9uKFhhLnJlc29sdmVQQ0NvbmZpZ3VyYXRpb24oZSkse29wdGlvbmFsOlt7Z29vZ0RzY3A6ITB9XX0pLHRoaXMuc3RhdHNGaWx0ZXI9TmYodGhpcy5wZWVyQ29ubmVjdGlvbix2KFwiU1RBVFNfVVBEQVRFX0lOVEVSVkFMXCIpLHZvaWQgMCwkdCgpPzEyMDA6dm9pZCAwKSx0aGlzLmJpbmRQQ0V2ZW50cygpLHRoaXMuYmluZFN0YXRzRXZlbnRzKCksdGhpcy5zdG9yZS5wMnBJZD10aGlzLnN0b3JlLnAycElkKzEsdGhpcy5lc3RhYmxpc2hQcm9taXNlPXRoaXMuZXN0YWJsaXNoKCk7fWFzeW5jIGVzdGFibGlzaCgpe3RyeXtsZXQgZT1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKHtvZmZlclRvUmVjZWl2ZUF1ZGlvOiEwLG9mZmVyVG9SZWNlaXZlVmlkZW86ITB9KTtpZighZS5zZHApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCBpbml0aWFsT2ZmZXIuc2RwIHdoZW4gdHJ5aW5nIHRvIGVzdGFibGlzaCBQZWVyQ29ubmVjdGlvbi5cIik7bGV0IG49aW8oZS5zZHApLGk9TGMoZS5zZHAse2ZpbHRlclJUWDohdGhpcy51c2VSVFgsZmlsdGVyVmlkZW9GZWM6dihcIkZJTFRFUl9WSURFT19GRUNcIiksZmlsdGVyQXVkaW9GZWM6dihcIkZJTFRFUl9BVURJT19GRUNcIiksZmlsdGVyQXVkaW9Db2RlYzpbXCJvcHVzXCJdfSk7cmV0dXJuIHRoaXMubG9jYWxDYXBhYmlsaXRpZXM9aSx0aGlzLmluaXRpYWxPZmZlcj1lLHFkKHFkKHt9LG4pLHt9LHtydHBDYXBhYmlsaXRpZXM6e3NlbmQ6e2F1ZGlvQ29kZWNzOltdLGF1ZGlvRXh0ZW5zaW9uczpbXSx2aWRlb0NvZGVjczpbXSx2aWRlb0V4dGVuc2lvbnM6W119LHJlY3Y6e2F1ZGlvQ29kZWNzOltdLGF1ZGlvRXh0ZW5zaW9uczpbXSx2aWRlb0NvZGVjczpbXSx2aWRlb0V4dGVuc2lvbnM6W119LHNlbmRyZWN2Oml9LG9mZmVyU0RQOmUuc2RwfSl9Y2F0Y2goZSl7dGhyb3cgbmV3IE4oUi5HRVRfTE9DQUxfQ09OTkVDVElPTl9QQVJBTVNfRkFJTEVELGUudG9TdHJpbmcoKSl9fWFzeW5jIHVwZGF0ZVJlbW90ZUNvbm5lY3QoKXt9YXN5bmMgY29ubmVjdChlKXt0cnl7aWYoIXRoaXMuaW5pdGlhbE9mZmVyKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBlc3RhYmxpc2ggUDJQQ29ubmVjdGlvbiB3aXRob3V0IGluaXRpYWwgb2ZmZXIuXCIpO3RoaXMucmVtb3RlU0RQPW5ldyBjbGFzc3tjb25zdHJ1Y3RvcihpKXtUKHRoaXMsXCJzZXNzaW9uRGVzY1wiLHZvaWQgMCksVCh0aGlzLFwibG9jYWxDYXBhYmlsaXRpZXNcIix2b2lkIDApLFQodGhpcyxcInJ0cENhcGFiaWxpdGllc1wiLHZvaWQgMCksVCh0aGlzLFwiY2FuZGlkYXRlc1wiLHZvaWQgMCksVCh0aGlzLFwiaWNlUGFyYW1ldGVyc1wiLHZvaWQgMCksVCh0aGlzLFwiZHRsc1BhcmFtZXRlcnNcIix2b2lkIDApLFQodGhpcyxcInNldHVwXCIsdm9pZCAwKSxUKHRoaXMsXCJjdXJyZW50TWlkSW5kZXhcIix2b2lkIDApLFQodGhpcyxcImNuYW1lXCIsdm9pZCAwKSxpPWxlKGkpO2xldHtpY2VQYXJhbWV0ZXJzOnIsZHRsc1BhcmFtZXRlcnM6byxjYW5kaWRhdGVzOnMscnRwQ2FwYWJpbGl0aWVzOmEsc2V0dXA6Yyxsb2NhbENhcGFiaWxpdGllczpkLHNka0NvZGVjOmwsY25hbWU6dX09aSxoPUxlLnBhcnNlKGB2PTBcbm89LSAwIDAgSU4gSVA0IDEyNy4wLjAuMVxucz1BZ29yYUdhdGV3YXlcbnQ9MCAwXG5hPWdyb3VwOkJVTkRMRSBhdWRpbyB2aWRlb1xuYT1tc2lkLXNlbWFudGljOiBXTVNcbmE9aWNlLWxpdGVcbm09YXVkaW8gOSBVRFAvVExTL1JUUC9TQVZQRiAwXG5jPUlOIElQNCAxMjcuMC4wLjFcbmE9cnRjcDo5IElOIElQNCAwLjAuMC4wXG5hPXNlbmRyZWN2XG5hPXJ0Y3AtbXV4XG5hPXJ0Y3AtcnNpemVcbmE9bWlkOmF1ZGlvXG5tPXZpZGVvIDkgVURQL1RMUy9SVFAvU0FWUEYgMFxuYz1JTiBJUDQgMTI3LjAuMC4xXG5hPXJ0Y3A6OSBJTiBJUDQgMC4wLjAuMFxuYT1zZW5kcmVjdlxuYT1ydGNwLW11eFxuYT1ydGNwLXJzaXplXG5hPW1pZDp2aWRlb1xuYCk7dGhpcy5ydHBDYXBhYmlsaXRpZXM9YSx0aGlzLmNhbmRpZGF0ZXM9cyx0aGlzLmljZVBhcmFtZXRlcnM9cix0aGlzLmR0bHNQYXJhbWV0ZXJzPW8sdGhpcy5zZXR1cD1jLHRoaXMubG9jYWxDYXBhYmlsaXRpZXM9ZCx0aGlzLmNuYW1lPXU7Zm9yKGxldCBwPTA7cDxoLm1lZGlhRGVzY3JpcHRpb25zLmxlbmd0aDtwKyspe2xldCBnPWgubWVkaWFEZXNjcmlwdGlvbnNbcF07aWYoZy5hdHRyaWJ1dGVzLmljZVVmcmFnPXIuaWNlVWZyYWcsZy5hdHRyaWJ1dGVzLmljZVB3ZD1yLmljZVB3ZCxnLmF0dHJpYnV0ZXMuZmluZ2VycHJpbnRzPW8uZmluZ2VycHJpbnRzLGcuYXR0cmlidXRlcy5jYW5kaWRhdGVzPXMsZy5hdHRyaWJ1dGVzLnNldHVwPWMsZy5tZWRpYS5tZWRpYVR5cGU9PT1cInZpZGVvXCIpe2cubWVkaWEuZm10cz1hLnZpZGVvQ29kZWNzLm1hcChmPT5mLnBheWxvYWRUeXBlLnRvU3RyaW5nKDEwKSk7bGV0IEU9YS52aWRlb0NvZGVjcy5maWx0ZXIoZj0+e3ZhciBTLEM7cmV0dXJuIChTPWYucnRwTWFwKT09PW51bGx8fFM9PT12b2lkIDA/dm9pZCAwOlcoQz1TLmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpKS5jYWxsKEMsbCl9KTtFLmxlbmd0aD09PTAmJihFPWEudmlkZW9Db2RlY3MpLGcuYXR0cmlidXRlcy5wYXlsb2Fkcz1FLGcuYXR0cmlidXRlcy5leHRtYXBzPWEudmlkZW9FeHRlbnNpb25zO31nLm1lZGlhLm1lZGlhVHlwZT09PVwiYXVkaW9cIiYmKGcubWVkaWEuZm10cz1hLmF1ZGlvQ29kZWNzLm1hcChFPT5FLnBheWxvYWRUeXBlLnRvU3RyaW5nKDEwKSksZy5hdHRyaWJ1dGVzLnBheWxvYWRzPWEuYXVkaW9Db2RlY3MsZy5hdHRyaWJ1dGVzLmV4dG1hcHM9YS5hdWRpb0V4dGVuc2lvbnMpLGgubWVkaWFEZXNjcmlwdGlvbnNbcF09dGhpcy5tdW5nTWVkaWFEZXNjKGcpO310aGlzLnNlc3Npb25EZXNjPWgsdGhpcy5jdXJyZW50TWlkSW5kZXg9aC5tZWRpYURlc2NyaXB0aW9ucy5sZW5ndGgtMTt9dG9TdHJpbmcoKXtyZXR1cm4gTGUucHJpbnQodGhpcy5zZXNzaW9uRGVzYyl9c2VuZChpLHIsbyl7bGV0e3NzcmNzOnMsc3NyY0dyb3VwczphfT1MbyhyLHRoaXMuY25hbWUpLGM9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kKHU9Pmk9PT1RLlZJREVPP3UubWVkaWEubWVkaWFUeXBlPT09XCJ2aWRlb1wiOnUubWVkaWEubWVkaWFUeXBlPT09XCJhdWRpb1wiKSxkPXNbMF0uYXR0cmlidXRlcy5sYWJlbCxsPXNbMF0uYXR0cmlidXRlcy5tc2xhYmVsO3JldHVybiBjLmF0dHJpYnV0ZXMuc3NyY3M9Yy5hdHRyaWJ1dGVzLnNzcmNzLmNvbmNhdChzKSxjLmF0dHJpYnV0ZXMuc3NyY0dyb3Vwcz1jLmF0dHJpYnV0ZXMuc3NyY0dyb3Vwcy5jb25jYXQoYSkse2lkOmQsbXNsYWJlbDpsfX1iYXRjaFNlbmQoaSl7cmV0dXJuIGkubWFwKHI9PntsZXR7a2luZDpvLHNzcmNNc2c6c309cjtyZXR1cm4gdGhpcy5zZW5kKG8scyx2b2lkIDApfSl9c3RvcFNlbmRpbmcoaSl7dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5mb3JFYWNoKHI9PntsZXQgbz1bXSxzPVtdLGE9W107ci5hdHRyaWJ1dGVzLnNzcmNzLmZvckVhY2goYz0+e1coaSkuY2FsbChpLGMuYXR0cmlidXRlcy5sYWJlbHx8XCJcIik/YS5wdXNoKGMpOm8ucHVzaChjKTt9KSxyLmF0dHJpYnV0ZXMuc3NyY0dyb3Vwcy5mb3JFYWNoKGM9Pnt2YXIgZDtXKGQ9YS5tYXAobD0+bC5zc3JjSWQpKS5jYWxsKGQsYy5zc3JjSWRzWzBdKXx8cy5wdXNoKGMpO30pLHIuYXR0cmlidXRlcy5zc3Jjcz1vLHIuYXR0cmlidXRlcy5zc3JjR3JvdXBzPXM7fSk7fW11dGUoaSl7bGV0IHI9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kKG89Pm8uYXR0cmlidXRlcy5taWQ9PT1pKTtpZighcil0aHJvdyBuZXcgRXJyb3IoXCJtZWRpYURlc2NyaXB0aW9uIG5vdCBmb3VuZCB3aXRoIFwiLmNvbmNhdChpLFwiIGluIHJlbW90ZSBTRFAgd2hlbiBjYWxsaW5nIFJlbW90ZVNEUC5tdXRlLlwiKSk7ci5hdHRyaWJ1dGVzLmRpcmVjdGlvbj1cImluYWN0aXZlXCI7fXVubXV0ZShpKXtsZXQgcj10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQobz0+by5hdHRyaWJ1dGVzLm1pZD09PWkpO2lmKCFyKXRocm93IG5ldyBFcnJvcihcIm1lZGlhRGVzY3JpcHRpb24gbm90IGZvdW5kIHdpdGggXCIuY29uY2F0KGksXCIgaW4gcmVtb3RlIFNEUCB3aGVuIGNhbGxpbmcgUmVtb3RlU0RQLnVubXV0ZS5cIikpO3IuYXR0cmlidXRlcy5kaXJlY3Rpb249XCJzZW5kb25seVwiO31yZWNlaXZlKGkscixvKXtpLmZvckVhY2goKHMsYSk9PntsZXQgYz1zLl9tZWRpYVN0cmVhbVRyYWNrLGQ9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kSW5kZXgodT0+dS5hdHRyaWJ1dGVzLm1pZD09PWMua2luZCksbD10aGlzLm11bmdSZWN2TWVkaWFEc2VjKHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbZF0scyk7dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9uc1tkXT1sO30pO31zdG9wUmVjZWl2aW5nKGkpe311cGRhdGVDYW5kaWRhdGVzKGkpe2k9PT1Pbi5UQ1A/dGhpcy5jYW5kaWRhdGVzLmZvckVhY2gocj0+e3RoaXMuY2FuZGlkYXRlcy5maW5kSW5kZXgobz0+by50cmFuc3BvcnQ9PT1cInRjcFwiJiZvLmNvbm5lY3Rpb25BZGRyZXNzPT09ci5jb25uZWN0aW9uQWRkcmVzcyYmby5wb3J0PT09ci5wb3J0KT09PS0xJiZ0aGlzLmNhbmRpZGF0ZXMucHVzaChNdihNdih7fSxyKSx7fSx7Zm91bmRhdGlvbjpcInRjcGNhbmRpZGF0ZVwiLHByaW9yaXR5Ok51bWJlcihyLnByaW9yaXR5KS0xK1wiXCIsdHJhbnNwb3J0OlwidGNwXCIscG9ydDpOdW1iZXIoci5wb3J0KSs5MCtcIlwifSkpO30pOnRoaXMuY2FuZGlkYXRlcz10aGlzLmNhbmRpZGF0ZXMuZmlsdGVyKHI9PnIudHJhbnNwb3J0IT09XCJ0Y3BcIik7Zm9yKGxldCByIG9mIHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMpci5hdHRyaWJ1dGVzLmNhbmRpZGF0ZXM9dGhpcy5jYW5kaWRhdGVzO31yZXN0YXJ0SUNFKGkpe2k9bGUoaSksdGhpcy5pY2VQYXJhbWV0ZXJzPWksdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5mb3JFYWNoKHI9PntyLmF0dHJpYnV0ZXMuaWNlVWZyYWc9aS5pY2VVZnJhZyxyLmF0dHJpYnV0ZXMuaWNlUHdkPWkuaWNlUHdkO30pO31wcmVkaWN0UmVjZWl2aW5nTWlkcyhpKXtsZXQgcj1bXTtmb3IobGV0IG89MDtvPGk7bysrKXIucHVzaCgodGhpcy5jdXJyZW50TWlkSW5kZXgrbysxKS50b1N0cmluZygxMCkpO3JldHVybiByfW11bmdSZWN2TWVkaWFEc2VjKGkscil7bGV0IG89bGUoaSk7cmV0dXJuIHJhKG8sciksdmYobyxyKSxvfXVwZGF0ZVJlY3ZNZWRpYShpLHIpe2xldCBvPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmluZEluZGV4KHM9PnMuYXR0cmlidXRlcy5taWQ9PT1pKTtpZihvIT09LTEpe2xldCBzPXRoaXMubXVuZ1JlY3ZNZWRpYURzZWModGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9uc1tvXSxyKTt0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zW29dPXM7fX1idW1wTWlkKGkpe3RoaXMuY3VycmVudE1pZEluZGV4Kz1pO311cGRhdGVUcmFja0xhYmVsKGkscixvKXtsZXQgcz10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoYz0+aT09PVEuVklERU8/Yy5hdHRyaWJ1dGVzLm1pZD09PVwidmlkZW9cIjpjLmF0dHJpYnV0ZXMubWlkPT09XCJhdWRpb1wiKTtpZihzKXtsZXQgYz1zLmF0dHJpYnV0ZXMuc3NyY3MuZmluZChkPT5kLmF0dHJpYnV0ZXMubGFiZWw9PT1yKTt2YXIgYTtjJiYoYy5hdHRyaWJ1dGVzLmxhYmVsPW8sKGE9Yy5hdHRyaWJ1dGVzLm1zaWQpPT09bnVsbHx8YT09PXZvaWQgMHx8YS5yZXBsYWNlKHIsbykpO319bXVuZ01lZGlhRGVzYyhpKXtsZXQgcj1sZShpKTtyZXR1cm4gSWYociksZnVuY3Rpb24obyl7bGV0IHM9by5hdHRyaWJ1dGVzLmV4dG1hcHMuZmluZChhPT5hLmV4dGVuc2lvbk5hbWU9PT1cImh0dHA6Ly93d3cuaWV0Zi5vcmcvaWQvZHJhZnQtaG9sbWVyLXJtY2F0LXRyYW5zcG9ydC13aWRlLWNjLWV4dGVuc2lvbnMtMDFcIik7cyYmby5hdHRyaWJ1dGVzLmV4dG1hcHMuc3BsaWNlKG8uYXR0cmlidXRlcy5leHRtYXBzLmluZGV4T2YocyksMSksby5hdHRyaWJ1dGVzLnBheWxvYWRzLmZvckVhY2goYT0+e2xldCBjPWEucnRjcEZlZWRiYWNrcy5maW5kSW5kZXgoZD0+ZC50eXBlPT09XCJ0cmFuc3BvcnQtY2NcIik7YyE9PS0xJiZhLnJ0Y3BGZWVkYmFja3Muc3BsaWNlKGMsMSk7fSk7fShyKSxyfWdldFNTUkMoaSl7Zm9yKGxldCByIG9mIHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMpZm9yKGxldCBvIG9mIHIuYXR0cmlidXRlcy5zc3JjcylpZihvLmF0dHJpYnV0ZXMubGFiZWw9PT1pKXJldHVybiBbb119fShxZChxZCh7fSxlKSx7fSx7cnRwQ2FwYWJpbGl0aWVzOmUucnRwQ2FwYWJpbGl0aWVzLnNlbmQsbG9jYWxDYXBhYmlsaXRpZXM6dGhpcy5sb2NhbENhcGFiaWxpdGllcyxzZGtDb2RlYzp0aGlzLnN0b3JlLmNvZGVjfSkpO2xldCBuPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCk7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHRoaXMuaW5pdGlhbE9mZmVyKSxhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOm59KTt9Y2F0Y2gobil7dGhyb3cgbmV3IE4oUi5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5jb25uZWN0IGZhaWxlZDsgXCIuY29uY2F0KG4udG9TdHJpbmcoKSkpfX1hc3luYyB1cGRhdGVSZW1vdGVSVFBDYXBhYmlsaXRpZXMoZSxuKXt0aHJvdyBuZXcgTihSLk5PVF9TVVBQT1JURUQsXCJQbGFuYiBtb2RlIGRvZXMgbm90IHN1cHBvcnQgY3JlYXRlRGF0YUNoYW5uZWxzLlwiKX1nZXRQcmVNZWRpYShlKXt9c2VuZChlLG4pe3ZhciBpPXRoaXM7cmV0dXJuIEJpKGZ1bmN0aW9uKigpe2xldCByPXlpZWxkIFR0KGkubXV0ZXgubG9jaygpKTt0cnl7aWYoIWkucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24uc2VuZCBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkXCIpO2xldCBvPWUubWFwKGg9PmkucGVlckNvbm5lY3Rpb24uYWRkVHJhY2soaC5fbWVkaWFTdHJlYW1UcmFjaykpLHM9eWllbGQgVHQoaS5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpKSxhPUxlLnBhcnNlKHMuc2RwKSxjPWUubWFwKGg9PntsZXQgcD1oLl9tZWRpYVN0cmVhbVRyYWNrLGc9YS5tZWRpYURlc2NyaXB0aW9ucy5maW5kKEU9PkUuYXR0cmlidXRlcy5taWQ9PT1wLmtpbmQpO2lmKCFnKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBleHRyYWN0IHNzcmMgZnJvbSBtZWRpYURlc2NyaXB0aW9uLlwiKTtyZXR1cm4gZnVuY3Rpb24oRSxmLFMpe2xldCBDPUUuYXR0cmlidXRlcy5zc3Jjcy5maWx0ZXIoYj0+Yi5hdHRyaWJ1dGVzLmxhYmVsPT09ZiksQT1FLmF0dHJpYnV0ZXMuc3NyY0dyb3VwcztpZihDLmxlbmd0aD09PTApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGV4dHJhY3Qgc3NyYyBmcm9tIHBsYW4tYiBTRFAuXCIpO2lmKEEmJkMubGVuZ3RoPjEpe2xldCBiPUEuZmluZCh3PT53LnNzcmNJZHMuaW5kZXhPZihDWzBdLnNzcmNJZCkhPT0tMSk7cmV0dXJuIGI/W3tzc3JjSWQ6Yi5zc3JjSWRzWzBdLHJ0eDpTP2Iuc3NyY0lkc1sxXTp2b2lkIDB9XTpbe3NzcmNJZDpDWzBdLnNzcmNJZH1dfXJldHVybiBbe3NzcmNJZDpDWzBdLnNzcmNJZH1dfShnLHAuaWQsaS51c2VSVFgpfSksZDt0cnl7ZD15aWVsZCBjO31jYXRjaChoKXt0aHJvdyBvLmZvckVhY2gocD0+e2plKCkmJnAucmVwbGFjZVRyYWNrKG51bGwpLGkucGVlckNvbm5lY3Rpb24ucmVtb3ZlVHJhY2socCk7fSksaH1sZXQgbD1pLm11bmdTZW5kT2ZmZXJTRFAocy5zZHAsZSk7aS5yZW1vdGVTRFAucmVjZWl2ZShlLG4sZCk7bGV0IHU9aS5yZW1vdGVTRFAudG9TdHJpbmcoKTtyZXR1cm4geWllbGQgVHQoaS5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6bH0pKSx5aWVsZCBUdChpLmFwcGx5U2VuZEVuY29kaW5ncyhvLGUpKSx5aWVsZCBUdChpLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOnV9KSksZS5tYXAoKGgscCk9PntsZXQgZz1oLl9tZWRpYVN0cmVhbVRyYWNrLmlkO3JldHVybiB7bG9jYWxTU1JDOmNbcF0saWQ6Z319KX1jYXRjaChvKXt0aHJvdyBuZXcgTihSLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLnNlbmQgZmFpbGVkOyBcIi5jb25jYXQoby50b1N0cmluZygpKSl9ZmluYWxseXtyKCk7fX0pKCl9YXN5bmMgc3RvcFNlbmRpbmcoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnN0b3BTZW5kaW5nIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWRcIik7bGV0IG49dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKCkuZmlsdGVyKG89Pnt2YXIgcztyZXR1cm4gZS5pbmRleE9mKCgocz1vLnRyYWNrKT09PW51bGx8fHM9PT12b2lkIDA/dm9pZCAwOnMuaWQpfHxcIlwiKSE9PS0xfSk7aWYobi5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJUcmFuc2NlaXZlcnMnIGxlbmd0aCBkb2Vzbid0IG1hdGNoIG1pZHMnIGxlbmd0aCB3aGVuIHRyeWluZyB0byBjYWxsIFAyUENvbm5lY3Rpb24uc3RvcFNlbmRpbmcuXCIpO24ubWFwKG89PntqZSgpJiZvLnJlcGxhY2VUcmFjayhudWxsKSx0aGlzLnBlZXJDb25uZWN0aW9uLnJlbW92ZVRyYWNrKG8pO30pO2xldCBpPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oaSksdGhpcy5yZW1vdGVTRFAuc3RvcFJlY2VpdmluZyhlKTtsZXQgcj10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6cn0pO31jYXRjaChuKXt0aHJvdyBuZXcgTihSLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLnN0b3BTZW5kaW5nIGZhaWxlZDsgXCIuY29uY2F0KG4udG9TdHJpbmcoKSkpfX1hc3luYyByZWNlaXZlKGUsbixpLHIpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi5yZWNlaXZlIFwiLmNvbmNhdChlLFwiIGJlZm9yZSByZW1vdGVTRFAgY3JlYXRlZC5cIikpO2xldHtpZDpvLG1zbGFiZWw6c309dGhpcy5yZW1vdGVTRFAuc2VuZChlLG4sciksYT1uZXcgaigobCx1KT0+e2xldCBoPXNldFRpbWVvdXQoKCk9Pnt1KG5ldyBFcnJvcihcIkNhbm5vdCByZWNlaXZlIHRyYWNrLCBpZDogXCIuY29uY2F0KG8pKSk7fSwxZTQpLHA9Zz0+e2xldCBFPW10KCk7aWYoKEUubmFtZT09PVwiU2FmYXJpXCImJk51bWJlcihFLnZlcnNpb24pPT09MTF8fGxuKCkpJiZnLnRyYWNrLmlkIT09byYmZy5zdHJlYW1zWzBdLmlkPT09cyl7dmFyIGY7bGV0IFM9Zy5zdHJlYW1zWzBdLmdldFRyYWNrcygpWzBdO3JldHVybiAoZj10aGlzLnJlbW90ZVNEUCk9PT1udWxsfHxmPT09dm9pZCAwfHxmLnVwZGF0ZVRyYWNrTGFiZWwoZSxvLGcudHJhY2suaWQpLHRoaXMucGVlckNvbm5lY3Rpb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRyYWNrXCIscCksY2xlYXJUaW1lb3V0KGgpLHZvaWQgbChTKX1pZihnLnRyYWNrLmlkPT09bylyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwidHJhY2tcIixwKSxjbGVhclRpbWVvdXQoaCksdm9pZCBsKGcudHJhY2spfTt0aGlzLnBlZXJDb25uZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFja1wiLHApO30pLGM9dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6Y30pO2xldCBkPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCk7cmV0dXJuIGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihkKSx7dHJhY2s6YXdhaXQgYSxpZDpvfX1jYXRjaChvKXt0aHJvdyBuZXcgTihSLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLnJlY2VpdmUgZmFpbGVkOyBcIi5jb25jYXQoby50b1N0cmluZygpKSl9fWFzeW5jIHN0b3BSZWNlaXZpbmcoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnN0b3BSZWNlaXZpbmcgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZC5cIik7dGhpcy5yZW1vdGVTRFAuc3RvcFNlbmRpbmcoZSk7bGV0IG49dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6bn0pO2xldCBpPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCk7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGkpO31jYXRjaChuKXt0aHJvdyBuZXcgTihSLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uIHN0b3BSZWNlaXZpbmcgZmFpbGVkOyBcIi5jb25jYXQobi50b1N0cmluZygpKSl9fWFzeW5jIG11dGVSZW1vdGUoZSl7fWFzeW5jIHVubXV0ZVJlbW90ZShlKXt9YXN5bmMgbXV0ZUxvY2FsKGUpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi5tdXRlTG9jYWwgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZC5cIik7bGV0IG49dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKCkuZmlsdGVyKGk9Pnt2YXIgcjtyZXR1cm4gZS5pbmRleE9mKCgocj1pLnRyYWNrKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnIuaWQpfHxcIlwiKSE9PS0xfSk7aWYobi5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJzZW5kZXInIGxlbmd0aCBkb2Vzbid0IG1hdGNoIG1pZHMnIGxlbmd0aC5cIik7bi5tYXAoaT0+e2lmKGplKCkmJmkudHJhY2spaS50cmFjay5lbmFibGVkPSExO2Vsc2Uge2xldCByPWkuZ2V0UGFyYW1ldGVycygpO3IuZW5jb2RpbmdzLmZvckVhY2gobz0+by5hY3RpdmU9ITEpLGkuc2V0UGFyYW1ldGVycyhyKTt9fSk7fWNhdGNoKG4pe3Rocm93IG5ldyBOKFIuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24ubXV0ZUxvY2FsIGZhaWxlZDsgXCIuY29uY2F0KG4udG9TdHJpbmcoKSkpfX1hc3luYyB1bm11dGVMb2NhbChlKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24udW5tdXRlTG9jYWwgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZC5cIik7bGV0IG49dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKCkuZmlsdGVyKG89Pnt2YXIgcztyZXR1cm4gZS5pbmRleE9mKCgocz1vLnRyYWNrKT09PW51bGx8fHM9PT12b2lkIDA/dm9pZCAwOnMuaWQpfHxcIlwiKSE9PS0xfSk7aWYobi5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJTZW5kZXJzJyBsZW5ndGggZG9lc24ndCBtYXRjaCBtaWRzJyBsZW5ndGguXCIpO24ubWFwKGFzeW5jIG89PntpZihqZSgpJiZvLnRyYWNrKW8udHJhY2suZW5hYmxlZD0hMDtlbHNlIHtsZXQgcz1vLmdldFBhcmFtZXRlcnMoKTtzLmVuY29kaW5ncy5mb3JFYWNoKGE9PmEuYWN0aXZlPSEwKSxhd2FpdCBvLnNldFBhcmFtZXRlcnMocyk7fX0pO2xldCBpPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oaSk7bGV0IHI9dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOnJ9KTt9Y2F0Y2gobil7dGhyb3cgbmV3IE4oUi5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi51bm11dGVMb2NhbCBmYWlsZWQ7IFwiLmNvbmNhdChuLnRvU3RyaW5nKCkpKX19cmVzdGFydElDRShlKXt2YXIgbj10aGlzO3JldHVybiBCaShmdW5jdGlvbiooKXtsZXQgaT15aWVsZCBUdChuLm11dGV4LmxvY2soXCJGcm9tIFAyUENvbm5lY3Rpb24ucmVzdGFydElDRVwiKSk7dHJ5e2lmKCFuLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcmVzdGFydElDRSBiZWZvcmUgcmVtb3RlU0RQIGNyZWF0ZWQuXCIpO2lmKGZ0KCkuc3VwcG9ydFBDU2V0Q29uZmlndXJhdGlvbil7bGV0IGM9bi5wZWVyQ29ubmVjdGlvbi5nZXRDb25maWd1cmF0aW9uKCksZD1lPT09T24uUkVMQVk/XCJyZWxheVwiOlwiYWxsXCI7Yy5pY2VUcmFuc3BvcnRQb2xpY3khPT1kJiYoXy5kZWJ1ZyhcIltcIi5jb25jYXQobi5zdG9yZS5jbGllbnRJZCxcIl0gcmVzdGFydElDRSBjaGFuZ2UgaWNlVHJhbnNwb3J0UG9saWN5IGZyb20gW1wiKS5jb25jYXQoYy5pY2VUcmFuc3BvcnRQb2xpY3ksXCJdIHRvIFtcIikuY29uY2F0KGQsXCJdXCIpKSxjLmljZVRyYW5zcG9ydFBvbGljeT1kLG4ucGVlckNvbm5lY3Rpb24uc2V0Q29uZmlndXJhdGlvbihjKSk7fWVsc2UgaWYoZT09PU9uLlJFTEFZKXJldHVybjtlIT09T24uUkVMQVkmJm4ucmVtb3RlU0RQLnVwZGF0ZUNhbmRpZGF0ZXMoZSk7bGV0IHI9eWllbGQgVHQobi5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcih7aWNlUmVzdGFydDohMH0pKTtpZighci5zZHApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHJlc3RhcnRJQ0UgYmVjYXVzZSByZXN0YXJ0IG9mZmVyIFNEUCBkb2VzIG5vdCBleGlzdC5cIik7bGV0IG89aW8oci5zZHApLHtyZW1vdGVJY2VQYXJhbWV0ZXJzOnN9PXlpZWxkIG8uaWNlUGFyYW1ldGVycztuLnJlbW90ZVNEUC5yZXN0YXJ0SUNFKHMpO2xldCBhPW4ucmVtb3RlU0RQLnRvU3RyaW5nKCk7eWllbGQgVHQobi5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHIpKSx5aWVsZCBUdChuLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOmF9KSk7fWNhdGNoKHIpe18ud2FybmluZyhcIltcIi5jb25jYXQobi5zdG9yZS5jbGllbnRJZCxcIl0gcmVzdGFydCBJQ0UgZmFpbGVkLCBhYm9ydCBvcGVyYXRpb25cIikscik7fWZpbmFsbHl7aSgpO319KSgpfWNsb3NlKCl7dmFyIGU7dGhpcy5wZWVyQ29ubmVjdGlvbi5jbG9zZSgpLChlPXRoaXMub25Db25uZWN0aW9uU3RhdGVDaGFuZ2UpPT09bnVsbHx8ZT09PXZvaWQgMHx8ZS5jYWxsKHRoaXMsXCJjbG9zZWRcIiksdGhpcy51bmJpbmRQQ0V2ZW50cygpLHRoaXMudW5iaW5kU3RhdHNFdmVudHMoKSx0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpLHRoaXMuc3RhdHNGaWx0ZXIuZGVzdHJveSgpO31nZXRTdGF0cygpe3JldHVybiB0aGlzLnN0YXRzRmlsdGVyLmdldFN0YXRzKCl9Z2V0UmVtb3RlVmlkZW9Jc1JlYWR5KGUpe3JldHVybiB0aGlzLnN0YXRzRmlsdGVyLmdldFZpZGVvSXNSZWFkeShlKX1hc3luYyB1cGRhdGVFbmNvZGVyQ29uZmlnKGUsbil7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnVwZGF0ZUVuY29kZXJDb25maWcgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZC5cIik7bGV0IGk9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpLHI9dGhpcy5tdW5nU2VuZE9mZmVyU0RQKGkuc2RwLFtuXSk7dGhpcy5yZW1vdGVTRFAudXBkYXRlUmVjdk1lZGlhKG4uX21lZGlhU3RyZWFtVHJhY2sua2luZCxuKTtsZXQgbz10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOnJ9KSxhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOm99KTt9Y2F0Y2goaSl7dGhyb3cgbmV3IE4oUi5FWENIQU5HRV9TRFBfRkFJTEVELGkudG9TdHJpbmcoKSl9fWFzeW5jIHVwZGF0ZVNlbmRQYXJhbWV0ZXJzKGUsbil7bGV0IGk9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKCkuZmlsdGVyKHI9Pnt2YXIgbztyZXR1cm4gKChvPXIudHJhY2spPT09bnVsbHx8bz09PXZvaWQgMD92b2lkIDA6by5pZCk9PT1lfSk7aS5sZW5ndGg9PT0xJiZhd2FpdCB0aGlzLmFwcGx5U2VuZEVuY29kaW5ncyhpLFtuXSk7fXNldFN0YXRzUmVtb3RlVmlkZW9Jc1JlYWR5KGUsbil7dGhpcy5zdGF0c0ZpbHRlci5zZXRWaWRlb0lzUmVhZHkyKGUsbik7fWFzeW5jIHJlcGxhY2VUcmFjayhlLG4pe2xldCBpPXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0U2VuZGVycygpLmZpbmQocj0+e3ZhciBvO3JldHVybiAoKG89ci50cmFjayk9PT1udWxsfHxvPT09dm9pZCAwP3ZvaWQgMDpvLmlkKT09PW59KTtpJiZhd2FpdCBpLnJlcGxhY2VUcmFjayhlLl9tZWRpYVN0cmVhbVRyYWNrKTt9Y3JlYXRlRGF0YUNoYW5uZWxzKGUsbil7dGhyb3cgbmV3IE4oUi5OT1RfU1VQUE9SVEVELFwiUGxhbmIgbW9kZSBkb2VzIG5vdCBzdXBwb3J0IGNyZWF0ZURhdGFDaGFubmVscy5cIil9c3RvcERhdGFDaGFubmVscyhlKXt0aHJvdyBuZXcgTihSLk5PVF9TVVBQT1JURUQsXCJQbGFuYiBtb2RlIGRvZXMgbm90IHN1cHBvcnQgc3RvcERhdGFDaGFubmVscy5cIil9YmluZFBDRXZlbnRzKCl7dGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZT0oKT0+e3ZhciBlOyhlPXRoaXMub25JQ0VDb25uZWN0aW9uU3RhdGVDaGFuZ2UpPT09bnVsbHx8ZT09PXZvaWQgMHx8ZS5jYWxsKHRoaXMsdGhpcy5wZWVyQ29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGUpO30sdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZT0oKT0+e3ZhciBlOyhlPXRoaXMub25Db25uZWN0aW9uU3RhdGVDaGFuZ2UpPT09bnVsbHx8ZT09PXZvaWQgMHx8ZS5jYWxsKHRoaXMsdGhpcy5wZWVyQ29ubmVjdGlvbi5jb25uZWN0aW9uU3RhdGUpO30sdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZT1lPT57ZS5jYW5kaWRhdGU/dGhpcy5sb2NhbENhbmRpZGF0ZUNvdW50Kz0xOih0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY2FuZGlkYXRlPW51bGwsdGhpcy5hbGxDYW5kaWRhdGVzUmVjZWl2ZWQ9ITAsXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3BjLVwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gbG9jYWwgY2FuZGlkYXRlIGNvdW50XCIpLHRoaXMubG9jYWxDYW5kaWRhdGVDb3VudCkpO30sc2V0VGltZW91dCgoKT0+e3RoaXMuYWxsQ2FuZGlkYXRlc1JlY2VpdmVkfHwodGhpcy5hbGxDYW5kaWRhdGVzUmVjZWl2ZWQ9ITAsXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3BjLVwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gb25pY2VjYW5kaWRhdGUgdGltZW91dCwgbG9jYWwgY2FuZGlkYXRlIGNvdW50XCIpLHRoaXMubG9jYWxDYW5kaWRhdGVDb3VudCkpO30sdihcIkNBTkRJREFURV9USU1FT1VUXCIpKTt9dW5iaW5kUENFdmVudHMoKXt0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlPW51bGwsdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub25zaWduYWxpbmdzdGF0ZWNoYW5nZT1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGVlcnJvcj1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGU9bnVsbCx0aGlzLnBlZXJDb25uZWN0aW9uLm9udHJhY2s9bnVsbDt9c3RhdGljIHJlc29sdmVQQ0NvbmZpZ3VyYXRpb24oZSl7bGV0IG49e2ljZVNlcnZlcnM6W10sc2RwU2VtYW50aWNzOlwicGxhbi1iXCJ9O3JldHVybiBlLmljZVNlcnZlcnM/bi5pY2VTZXJ2ZXJzPWUuaWNlU2VydmVyczplLnR1cm5TZXJ2ZXImJmUudHVyblNlcnZlci5tb2RlIT09XCJvZmZcIiYmKFl1KGUudHVyblNlcnZlci5zZXJ2ZXJzKT9uLmljZVNlcnZlcnM9ZS50dXJuU2VydmVyLnNlcnZlcnM6KG4uaWNlU2VydmVycyYmbi5pY2VTZXJ2ZXJzLnB1c2goLi4uWGEudHVyblNlcnZlckNvbmZpZ1RvSWNlU2VydmVycyhlLnR1cm5TZXJ2ZXIuc2VydmVycykpLHYoXCJVU0VfVFVSTl9TRVJWRVJfT0ZfR0FURVdBWVwiKSYmbi5pY2VTZXJ2ZXJzJiZlLnR1cm5TZXJ2ZXIuc2VydmVyc0Zyb21HYXRld2F5JiZuLmljZVNlcnZlcnMucHVzaCguLi5YYS50dXJuU2VydmVyQ29uZmlnVG9JY2VTZXJ2ZXJzKGUudHVyblNlcnZlci5zZXJ2ZXJzRnJvbUdhdGV3YXkpKSxlLnR1cm5TZXJ2ZXIuc2VydmVycy5jb25jYXQoZS50dXJuU2VydmVyLnNlcnZlcnNGcm9tR2F0ZXdheXx8W10pLmZvckVhY2goaT0+e2kuZm9yY2V0dXJuJiYobi5pY2VUcmFuc3BvcnRQb2xpY3k9XCJyZWxheVwiKTt9KSkpLG59c3RhdGljIHR1cm5TZXJ2ZXJDb25maWdUb0ljZVNlcnZlcnMoZSl7bGV0IG49W107cmV0dXJuIGUuZm9yRWFjaChpPT57aS5zZWN1cml0eT9pLnRjcHBvcnQmJm4ucHVzaCh7dXNlcm5hbWU6aS51c2VybmFtZSxjcmVkZW50aWFsOmkucGFzc3dvcmQsY3JlZGVudGlhbFR5cGU6XCJwYXNzd29yZFwiLHVybHM6XCJ0dXJuczpcIi5jb25jYXQoaS50dXJuU2VydmVyVVJMLFwiOlwiKS5jb25jYXQoaS50Y3Bwb3J0LFwiP3RyYW5zcG9ydD10Y3BcIil9KTooaS51ZHBwb3J0JiZuLnB1c2goe3VzZXJuYW1lOmkudXNlcm5hbWUsY3JlZGVudGlhbDppLnBhc3N3b3JkLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwidHVybjpcIi5jb25jYXQoaS50dXJuU2VydmVyVVJMLFwiOlwiKS5jb25jYXQoaS51ZHBwb3J0LFwiP3RyYW5zcG9ydD11ZHBcIil9KSxpLnRjcHBvcnQmJm4ucHVzaCh7dXNlcm5hbWU6aS51c2VybmFtZSxjcmVkZW50aWFsOmkucGFzc3dvcmQsY3JlZGVudGlhbFR5cGU6XCJwYXNzd29yZFwiLHVybHM6XCJ0dXJuOlwiLmNvbmNhdChpLnR1cm5TZXJ2ZXJVUkwsXCI6XCIpLmNvbmNhdChpLnRjcHBvcnQsXCI/dHJhbnNwb3J0PXRjcFwiKX0pKTt9KSxufWFzeW5jIHVwZGF0ZVJ0cFNlbmRlckVuY29kaW5ncyhlLG4pe3ZhciBpO2lmKG58fChuPXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0U2VuZGVycygpLmZpbmQoZD0+e3ZhciBsO3JldHVybiAoKGw9ZC50cmFjayk9PT1udWxsfHxsPT09dm9pZCAwP3ZvaWQgMDpsLmlkKT09PWUuX21lZGlhU3RyZWFtVHJhY2suaWR9KSksIW4pcmV0dXJuIF8ud2FybihcIltcIi5jb25jYXQoZS5nZXRUcmFja0lkKCksXCJdIG5vIHJ0cFNlbmRlciBmb3VuZH1cIikpO2lmKCFmdCgpLnN1cHBvcnRTZXRSdHBTZW5kZXJQYXJhbWV0ZXJzKXJldHVybiBfLndhcm4oXCJCcm93c2VyIG5vdCBzdXBwb3J0IHNldCBydHAtc2VuZGVyIHBhcmFtZXRlcnNcIik7bGV0IHI9e30sbz17fTtpZihlIGluc3RhbmNlb2YgRnQpc3dpdGNoKGUuX29wdGltaXphdGlvbk1vZGUpe2Nhc2VcIm1vdGlvblwiOnIuZGVncmFkYXRpb25QcmVmZXJlbmNlPVwibWFpbnRhaW4tZnJhbWVyYXRlXCI7YnJlYWs7Y2FzZVwiZGV0YWlsXCI6ci5kZWdyYWRhdGlvblByZWZlcmVuY2U9XCJtYWludGFpbi1yZXNvbHV0aW9uXCI7YnJlYWs7ZGVmYXVsdDpyLmRlZ3JhZGF0aW9uUHJlZmVyZW5jZT1cImJhbGFuY2VkXCI7fWlmKHYoXCJEU0NQX1RZUEVcIikmJmhvKCkpe3ZhciBzO2xldCBkPXYoXCJEU0NQX1RZUEVcIik7VyhzPVtcInZlcnktbG93XCIsXCJsb3dcIixcIm1lZGl1bVwiLFwiaGlnaFwiXSkuY2FsbChzLGQpJiYoby5uZXR3b3JrUHJpb3JpdHk9ZCk7fWxldCBhPW4uZ2V0UGFyYW1ldGVycygpLGM9KGk9YS5lbmNvZGluZ3MpPT09bnVsbHx8aT09PXZvaWQgMD92b2lkIDA6aVswXTtjJiZPYmplY3QuYXNzaWduKGMsbyksT2JqZWN0LmFzc2lnbihhLHIpLF8uZGVidWcoXCJbXCIuY29uY2F0KGUuZ2V0VHJhY2tJZCgpLFwiXSB1cGRhdGVSdHBTZW5kZXJFbmNvZGluZ3M6IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoYS5lbmNvZGluZ3MpKSksYXdhaXQgbi5zZXRQYXJhbWV0ZXJzKGEpO31hc3luYyBhcHBseVNlbmRFbmNvZGluZ3MoZSxuKXt0cnl7aWYoIWZ0KCkuc3VwcG9ydFNldFJ0cFNlbmRlclBhcmFtZXRlcnN8fGUubGVuZ3RoIT09bi5sZW5ndGgpcmV0dXJuO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXtsZXQgcj1lW2ldLG89bltpXTtyJiZvJiZhd2FpdCB0aGlzLnVwZGF0ZVJ0cFNlbmRlckVuY29kaW5ncyhvLHIpO319Y2F0Y2h7Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gQXBwbHkgUlRQU2VuZEVuY29kaW5ncyBmYWlsZWQuXCIpKTt9fW11bmdTZW5kT2ZmZXJTRFAoZSxuKXtsZXQgaT1MZS5wYXJzZShlKTtyZXR1cm4gbi5mb3JFYWNoKChyLG8pPT57bGV0IHM9ci5fbWVkaWFTdHJlYW1UcmFjayxhPWkubWVkaWFEZXNjcmlwdGlvbnMuZmluZChjPT5jLmF0dHJpYnV0ZXMubWlkPT09cy5raW5kKTthJiZyYShhLHIpO30pLExlLnByaW50KGkpfWJpbmRTdGF0c0V2ZW50cygpe3RoaXMuc3RhdHNGaWx0ZXIub25GaXJzdEF1ZGlvUmVjZWl2ZWQ9ZT0+e3ZhciBuOyhuPXRoaXMub25GaXJzdEF1ZGlvUmVjZWl2ZWQpPT09bnVsbHx8bj09PXZvaWQgMHx8bi5jYWxsKHRoaXMsZSk7fSx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb1JlY2VpdmVkPWU9Pnt2YXIgbjsobj10aGlzLm9uRmlyc3RWaWRlb1JlY2VpdmVkKT09PW51bGx8fG49PT12b2lkIDB8fG4uY2FsbCh0aGlzLGUpO30sdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0QXVkaW9EZWNvZGVkPWU9Pnt2YXIgbjsobj10aGlzLm9uRmlyc3RBdWRpb0RlY29kZWQpPT09bnVsbHx8bj09PXZvaWQgMHx8bi5jYWxsKHRoaXMsZSk7fSx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb0RlY29kZWQ9KGUsbixpKT0+e3ZhciByOyhyPXRoaXMub25GaXJzdFZpZGVvRGVjb2RlZCk9PT1udWxsfHxyPT09dm9pZCAwfHxyLmNhbGwodGhpcyxlLG4saSk7fSx0aGlzLnN0YXRzRmlsdGVyLm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQ9KGUsbik9Pnt2YXIgaTsoaT10aGlzLm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQpPT09bnVsbHx8aT09PXZvaWQgMHx8aS5jYWxsKHRoaXMsZSxuKTt9LHRoaXMuc3RhdHNGaWx0ZXIub25TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQ9KGUsbik9Pnt2YXIgaTsoaT10aGlzLm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkKT09PW51bGx8fGk9PT12b2lkIDB8fGkuY2FsbCh0aGlzLGUsbik7fTt9dW5iaW5kU3RhdHNFdmVudHMoKXt0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RBdWRpb1JlY2VpdmVkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb1JlY2VpdmVkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RBdWRpb0RlY29kZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvRGVjb2RlZD12b2lkIDAsdGhpcy5zdGF0c0ZpbHRlci5vblNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkPXZvaWQgMDt9YXN5bmMgYmF0Y2hSZWNlaXZlKGUpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi5iYXRjaFJlY2VpdmUgYmVmb3JlIHJlbW90ZVNEUCBjcmVhdGVkLlwiKTtsZXQgbj10aGlzLnJlbW90ZVNEUC5iYXRjaFNlbmQoZSkubWFwKChvLHMpPT57bGV0e2lkOmEsbXNsYWJlbDpjfT1vLHtraW5kOmR9PWVbc107cmV0dXJuIG5ldyBqKChsLHUpPT57bGV0IGg9c2V0VGltZW91dCgoKT0+e3UobmV3IEVycm9yKFwiQ2Fubm90IHJlY2VpdmUgdHJhY2ssIGlkOiBcIi5jb25jYXQoYSkpKTt9LDFlNCkscD1nPT57bGV0IEU9bXQoKTtpZihFLm5hbWU9PT1cIlNhZmFyaVwiJiZOdW1iZXIoRS52ZXJzaW9uKT09PTExJiZnLnRyYWNrLmlkIT09YSYmZy5zdHJlYW1zWzBdLmlkPT09Yyl7dmFyIGY7bGV0IFM9Zy5zdHJlYW1zWzBdLmdldFRyYWNrcygpWzBdO3JldHVybiAoZj10aGlzLnJlbW90ZVNEUCk9PT1udWxsfHxmPT09dm9pZCAwfHxmLnVwZGF0ZVRyYWNrTGFiZWwoZCxhLGcudHJhY2suaWQpLHRoaXMucGVlckNvbm5lY3Rpb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRyYWNrXCIscCksY2xlYXJUaW1lb3V0KGgpLHZvaWQgbCh7dHJhY2s6UyxpZDphfSl9aWYoZy50cmFjay5pZD09PWEpcmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRyYWNrXCIscCksY2xlYXJUaW1lb3V0KGgpLHZvaWQgbCh7dHJhY2s6Zy50cmFjayxpZDphfSl9O3RoaXMucGVlckNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcihcInRyYWNrXCIscCk7fSl9KSxpPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCk7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOml9KTtsZXQgcj1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigpO3JldHVybiBhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24ociksYXdhaXQgai5hbGwobil9Y2F0Y2gobil7dGhyb3cgbmV3IE4oUi5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5yZWNlaXZlIGZhaWxlZDsgXCIuY29uY2F0KG4udG9TdHJpbmcoKSkpfX1hc3luYyBnZXRSZW1vdGVTU1JDKGUpe2lmKCF0aGlzLnJlbW90ZVNEUClyZXR1cm47bGV0IG49dGhpcy5yZW1vdGVTRFAuZ2V0U1NSQyhlKTtyZXR1cm4gbj8uWzBdLnNzcmNJZH1zZXRDb25maWd1cmF0aW9uKGUpe2lmKGZ0KCkuc3VwcG9ydFBDU2V0Q29uZmlndXJhdGlvbil7bGV0IG49WGEucmVzb2x2ZVBDQ29uZmlndXJhdGlvbihlKTt0aGlzLnBlZXJDb25uZWN0aW9uLnNldENvbmZpZ3VyYXRpb24obik7fX19LHEoUHQucHJvdG90eXBlLFwiY29ubmVjdFwiLFtKbl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihQdC5wcm90b3R5cGUsXCJjb25uZWN0XCIpLFB0LnByb3RvdHlwZSkscShQdC5wcm90b3R5cGUsXCJzdG9wU2VuZGluZ1wiLFtKbl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihQdC5wcm90b3R5cGUsXCJzdG9wU2VuZGluZ1wiKSxQdC5wcm90b3R5cGUpLHEoUHQucHJvdG90eXBlLFwicmVjZWl2ZVwiLFtKbl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihQdC5wcm90b3R5cGUsXCJyZWNlaXZlXCIpLFB0LnByb3RvdHlwZSkscShQdC5wcm90b3R5cGUsXCJzdG9wUmVjZWl2aW5nXCIsW0puXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFB0LnByb3RvdHlwZSxcInN0b3BSZWNlaXZpbmdcIiksUHQucHJvdG90eXBlKSxxKFB0LnByb3RvdHlwZSxcIm11dGVSZW1vdGVcIixbSm5dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUHQucHJvdG90eXBlLFwibXV0ZVJlbW90ZVwiKSxQdC5wcm90b3R5cGUpLHEoUHQucHJvdG90eXBlLFwidW5tdXRlUmVtb3RlXCIsW0puXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFB0LnByb3RvdHlwZSxcInVubXV0ZVJlbW90ZVwiKSxQdC5wcm90b3R5cGUpLHEoUHQucHJvdG90eXBlLFwibXV0ZUxvY2FsXCIsW0puXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFB0LnByb3RvdHlwZSxcIm11dGVMb2NhbFwiKSxQdC5wcm90b3R5cGUpLHEoUHQucHJvdG90eXBlLFwidW5tdXRlTG9jYWxcIixbSm5dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUHQucHJvdG90eXBlLFwidW5tdXRlTG9jYWxcIiksUHQucHJvdG90eXBlKSxxKFB0LnByb3RvdHlwZSxcImNsb3NlXCIsW0puXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFB0LnByb3RvdHlwZSxcImNsb3NlXCIpLFB0LnByb3RvdHlwZSkscShQdC5wcm90b3R5cGUsXCJ1cGRhdGVFbmNvZGVyQ29uZmlnXCIsW0puXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFB0LnByb3RvdHlwZSxcInVwZGF0ZUVuY29kZXJDb25maWdcIiksUHQucHJvdG90eXBlKSxxKFB0LnByb3RvdHlwZSxcInVwZGF0ZVNlbmRQYXJhbWV0ZXJzXCIsW0puXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFB0LnByb3RvdHlwZSxcInVwZGF0ZVNlbmRQYXJhbWV0ZXJzXCIpLFB0LnByb3RvdHlwZSkscShQdC5wcm90b3R5cGUsXCJyZXBsYWNlVHJhY2tcIixbSm5dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUHQucHJvdG90eXBlLFwicmVwbGFjZVRyYWNrXCIpLFB0LnByb3RvdHlwZSkscShQdC5wcm90b3R5cGUsXCJnZXRSZW1vdGVTU1JDXCIsW0puXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFB0LnByb3RvdHlwZSxcImdldFJlbW90ZVNTUkNcIiksUHQucHJvdG90eXBlKSxQdCk7ZnVuY3Rpb24gSm4odCxlLG4pe2xldCBpPXRbZV07aWYodHlwZW9mIGkhPVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgdXNlIG11dGV4IG9uIG9iamVjdCBwcm9wZXJ0eS5cIik7cmV0dXJuIG4udmFsdWU9YXN5bmMgZnVuY3Rpb24oKXtsZXQgcj10aGlzLm11dGV4LG89YXdhaXQgci5sb2NrKFwiTG9ja2luZyBmcm9tIFAyUENvbm5lY3Rpb24uXCIuY29uY2F0KGUpKTt0cnl7Zm9yKHZhciBzPWFyZ3VtZW50cy5sZW5ndGgsYT1uZXcgQXJyYXkocyksYz0wO2M8cztjKyspYVtjXT1hcmd1bWVudHNbY107cmV0dXJuIGF3YWl0IGkuYXBwbHkodGhpcyxhKX1maW5hbGx5e28oKTt9fSxufWZ1bmN0aW9uIHh2KHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYoaT1pLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpLmVudW1lcmFibGV9KSksbi5wdXNoLmFwcGx5KG4saSk7fXJldHVybiBufWZ1bmN0aW9uIFdyKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXSE9bnVsbD9hcmd1bWVudHNbZV06e307ZSUyP3h2KE9iamVjdChuKSwhMCkuZm9yRWFjaChmdW5jdGlvbihpKXtUKHQsaSxuW2ldKTt9KTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTp4dihPYmplY3QobikpLmZvckVhY2goZnVuY3Rpb24oaSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsaSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4saSkpO30pO31yZXR1cm4gdH12YXIgRmE9XCI5XCIsVnY9NGU0LHVtPWNsYXNze2dldCBsb2NhbENhcGFiaWxpdGllcygpe3JldHVybiBsZSh0aGlzLl9sb2NhbENhcGFiaWxpdGllcyl9Z2V0IHJ0cENhcGFiaWxpdGllcygpe3JldHVybiBsZSh0aGlzLl9ydHBDYXBhYmlsaXRpZXMpfWdldCBjYW5kaWRhdGVzKCl7cmV0dXJuIGxlKHRoaXMuX2NhbmRpZGF0ZXMpfWdldCBpY2VQYXJhbWV0ZXJzKCl7cmV0dXJuIGxlKHRoaXMuX2ljZVBhcmFtZXRlcnMpfWdldCBkdGxzUGFyYW1ldGVycygpe3JldHVybiBsZSh0aGlzLl9kdGxzUGFyYW1ldGVycyl9Y29uc3RydWN0b3IoZSl7VCh0aGlzLFwic2Vzc2lvbkRlc2NcIix2b2lkIDApLFQodGhpcyxcIl9sb2NhbENhcGFiaWxpdGllc1wiLHZvaWQgMCksVCh0aGlzLFwiX3J0cENhcGFiaWxpdGllc1wiLHZvaWQgMCksVCh0aGlzLFwiX2NhbmRpZGF0ZXNcIix2b2lkIDApLFQodGhpcyxcIl9pY2VQYXJhbWV0ZXJzXCIsdm9pZCAwKSxUKHRoaXMsXCJfZHRsc1BhcmFtZXRlcnNcIix2b2lkIDApLFQodGhpcyxcInNldHVwXCIsdm9pZCAwKSxUKHRoaXMsXCJjdXJyZW50TWlkSW5kZXhcIix2b2lkIDApLFQodGhpcyxcImNuYW1lXCIsdm9pZCAwKSxUKHRoaXMsXCJmaXJlZm94U3NyY01pZE1hcFwiLG5ldyBNYXApLGU9bGUoZSk7bGV0e2ljZVBhcmFtZXRlcnM6bixkdGxzUGFyYW1ldGVyczppLGNhbmRpZGF0ZXM6cixydHBDYXBhYmlsaXRpZXM6byxzZXR1cDpzLGxvY2FsQ2FwYWJpbGl0aWVzOmEsY25hbWU6Y309ZTt0aGlzLl9ydHBDYXBhYmlsaXRpZXM9byx0aGlzLl9jYW5kaWRhdGVzPXIsdGhpcy5faWNlUGFyYW1ldGVycz1uLHRoaXMuX2R0bHNQYXJhbWV0ZXJzPWksdGhpcy5fbG9jYWxDYXBhYmlsaXRpZXM9YSx0aGlzLnNldHVwPXMsdGhpcy5jbmFtZT1jLHRoaXMuc2Vzc2lvbkRlc2M9dGhpcy51cGRhdGVSZW1vdGVSVFBDYXBhYmlsaXRpZXMobyksdGhpcy5jdXJyZW50TWlkSW5kZXg9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5sZW5ndGgtMTt9cHJlbG9hZFJlbW90ZU1lZGlhKGUpe2xldCBuPXRoaXMuY2FuZGlkYXRlcyxpPXRoaXMuZHRsc1BhcmFtZXRlcnMscj10aGlzLmljZVBhcmFtZXRlcnMsbz10aGlzLnJ0cENhcGFiaWxpdGllcy5zZW5kLHM9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5sZW5ndGgtMTtmb3IobGV0IGE9MTthPGU7YSsrKXtsZXQgYz0yKmErMmU0LGQ9MiphK1Z2LHtzc3JjczpsLHNzcmNHcm91cHM6dX09TG8oW3tzc3JjSWQ6Y31dLHRoaXMuY25hbWUpLHtzc3JjczpoLHNzcmNHcm91cHM6cH09TG8oW3tzc3JjSWQ6ZCxydHg6dihcIlVTRV9TVUJfUlRYXCIpP2QrMTp2b2lkIDB9XSx0aGlzLmNuYW1lKTt0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLnB1c2goe21lZGlhOnttZWRpYVR5cGU6XCJ2aWRlb1wiLHBvcnQ6RmEscHJvdG9zOltcIlVEUFwiLFwiVExTXCIsXCJSVFBcIixcIlNBVlBGXCJdLGZtdHM6by52aWRlb0NvZGVjcy5tYXAoZz0+Zy5wYXlsb2FkVHlwZS50b1N0cmluZygxMCkpfSxjb25uZWN0aW9uczpbe25ldHR5cGU6XCJJTlwiLGFkZHJ0eXBlOlwiSVA0XCIsYWRkcmVzczpcIjEyNy4wLjAuMVwifV0sYmFuZHdpZHRoczpbXSxhdHRyaWJ1dGVzOntpY2VVZnJhZzpyLmljZVVmcmFnLGljZVB3ZDpyLmljZVB3ZCx1bnJlY29nbml6ZWQ6W10sY2FuZGlkYXRlczpuLGV4dG1hcHM6by52aWRlb0V4dGVuc2lvbnMsZmluZ2VycHJpbnRzOmkuZmluZ2VycHJpbnRzLGltYWdlYXR0cjpbXSxtc2lkczpbXSxyZW1vdGVDYW5kaWRhdGVzTGlzdDpbXSxyaWRzOltdLHNzcmNzOmgsc3NyY0dyb3VwczpwLHJ0Y3BGZWVkYmFja1dpbGRjYXJkczpbXSxwYXlsb2FkczpvLnZpZGVvQ29kZWNzLHJ0Y3A6e3BvcnQ6XCI5XCIsbmV0VHlwZTpcIklOXCIsYWRkcmVzc1R5cGU6XCJJUDRcIixhZGRyZXNzOlwiMC4wLjAuMFwifSxzZXR1cDp0aGlzLnNldHVwLGRpcmVjdGlvbjpcInNlbmRvbmx5XCIscnRjcE11eDohMCxydGNwUnNpemU6ITAsbWlkOlwiXCIuY29uY2F0KCsrcyl9fSksdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5wdXNoKHttZWRpYTp7bWVkaWFUeXBlOlwiYXVkaW9cIixwb3J0OkZhLHByb3RvczpbXCJVRFBcIixcIlRMU1wiLFwiUlRQXCIsXCJTQVZQRlwiXSxmbXRzOm8uYXVkaW9Db2RlY3MubWFwKGc9PmcucGF5bG9hZFR5cGUudG9TdHJpbmcoMTApKX0sY29ubmVjdGlvbnM6W3tuZXR0eXBlOlwiSU5cIixhZGRydHlwZTpcIklQNFwiLGFkZHJlc3M6XCIxMjcuMC4wLjFcIn1dLGJhbmR3aWR0aHM6W10sYXR0cmlidXRlczp7aWNlVWZyYWc6ci5pY2VVZnJhZyxpY2VQd2Q6ci5pY2VQd2QsdW5yZWNvZ25pemVkOltdLGNhbmRpZGF0ZXM6bixleHRtYXBzOm8uYXVkaW9FeHRlbnNpb25zLGZpbmdlcnByaW50czppLmZpbmdlcnByaW50cyxpbWFnZWF0dHI6W10sbXNpZHM6W10scmVtb3RlQ2FuZGlkYXRlc0xpc3Q6W10scmlkczpbXSxzc3JjczpsLHNzcmNHcm91cHM6dSxydGNwRmVlZGJhY2tXaWxkY2FyZHM6W10scGF5bG9hZHM6by5hdWRpb0NvZGVjcyxydGNwOntwb3J0OlwiOVwiLG5ldFR5cGU6XCJJTlwiLGFkZHJlc3NUeXBlOlwiSVA0XCIsYWRkcmVzczpcIjAuMC4wLjBcIn0sc2V0dXA6dGhpcy5zZXR1cCxkaXJlY3Rpb246XCJzZW5kb25seVwiLHJ0Y3BNdXg6ITAscnRjcFJzaXplOiEwLG1pZDpcIlwiLmNvbmNhdCgrK3MpfX0pLHRoaXMuY3VycmVudE1pZEluZGV4Kz0yO310aGlzLnVwZGF0ZUJ1bmRsZU1pZHMoKTt9dG9TdHJpbmcoKXtyZXR1cm4gTGUucHJpbnQodGhpcy5zZXNzaW9uRGVzYyl9c2VuZChlLG4saSxyKXtsZXR7c3NyY3M6byxzc3JjR3JvdXBzOnN9PUxvKG4sdGhpcy5jbmFtZSx2KFwiU1lOQ19HUk9VUFwiKT9pOnZvaWQgMCksYT10aGlzLmZpbmRQcmVsb2FkTWVkaWFEZXNjKG8pO2lmKGEpe2lmKCR0KCkmJnRoaXMuZmlyZWZveFNzcmNNaWRNYXAuc2V0KG9bMF0uc3NyY0lkLGEuYXR0cmlidXRlcy5taWQpLHImJihyLnR3Y2N8fHIucmVtYikpe2xldCBjPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuaW5kZXhPZihhKTtyZXR1cm4gdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9uc1tjXT10aGlzLm11bmdTZW5kTWVkaWFEZXNjKGEscikse21pZDphLmF0dHJpYnV0ZXMubWlkLG5lZWRFeGNoYW5nZVNEUDohMH19cmV0dXJuIHttaWQ6YS5hdHRyaWJ1dGVzLm1pZCxuZWVkRXhjaGFuZ2VTRFA6ITF9fXtsZXQgYz10aGlzLmZpbmRBdmFpbGFibGVNZWRpYUluZGV4KGUsbyksZDtyZXR1cm4gYz09PS0xfHxjPT09MSYmKGplKCl8fGZ1bmN0aW9uKCl7bGV0IGw9bXQoKTtyZXR1cm4gIShsLm5hbWUhPT1JdC5DSFJPTUV8fCFsLm9zVmVyc2lvbikmJk51bWJlcihsLnZlcnNpb24pPD05MH0oKSl8fGM9PT0wJiZ2KFwiVVNFX1NVQl9SVFhcIil8fGhSKCk/KGQ9dGhpcy5jcmVhdGVPclJlY3ljbGVTZW5kTWVkaWEoZSxvLHMsXCJzZW5kb25seVwiLHIpLHRoaXMudXBkYXRlQnVuZGxlTWlkcygpKTooZD1sZSh0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zW2NdKSxkLmF0dHJpYnV0ZXMuZGlyZWN0aW9uPVwic2VuZG9ubHlcIixkLmF0dHJpYnV0ZXMuc3NyY3M9byxkLmF0dHJpYnV0ZXMuc3NyY0dyb3Vwcz1zLHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbY109dGhpcy5tdW5nU2VuZE1lZGlhRGVzYyhkLHIpKSwkdCgpJiZ0aGlzLmZpcmVmb3hTc3JjTWlkTWFwLnNldChvWzBdLnNzcmNJZCxkLmF0dHJpYnV0ZXMubWlkKSx7bWlkOmQuYXR0cmlidXRlcy5taWQsbmVlZEV4Y2hhbmdlU0RQOiEwfX19c2VuZERhdGFDaGFubmVsKCl7bGV0e21lZGlhRGVzYzplLG5lZWRFeGNoYW5nZVNEUDpufT10aGlzLmNyZWF0ZU9yUmVjeWNsZURhdGFDaGFubmVsKCk7cmV0dXJuIHRoaXMudXBkYXRlQnVuZGxlTWlkcygpLHttaWQ6ZS5hdHRyaWJ1dGVzLm1pZCxuZWVkRXhjaGFuZ2VTRFA6bn19YmF0Y2hTZW5kKGUpe2xldCBuPWUubWFwKG89PntsZXR7a2luZDpzLHNzcmNNc2c6YSxtc2xhYmVsOmN9PW87cmV0dXJuIHRoaXMuc2VuZChzLGEsYyl9KSxpPVtdLHI9ITE7cmV0dXJuIG4uZm9yRWFjaChvPT57bGV0e21pZDpzLG5lZWRFeGNoYW5nZVNEUDphfT1vO2EmJihyPSEwKSxpLnB1c2gocyk7fSkse21pZHM6aSxuZWVkRXhjaGFuZ2VTRFA6cn19c3RvcFNlbmRpbmcoZSl7bGV0IG49dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maWx0ZXIoaT0+aS5hdHRyaWJ1dGVzLm1pZCYmZS5pbmRleE9mKGkuYXR0cmlidXRlcy5taWQpIT09LTEpO2lmKG4ubGVuZ3RoIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwibWVkaWFEZXNjcmlwdGlvbnMnIGxlbmd0aCBkb2Vzbid0IG1hdGNoIG1pZHMnIGxlbmd0aCB3aGVuIGNhbGxpbmcgUmVtb3RlU0RQLnN0b3BTZW5kaW5nLlwiKTtuLmZvckVhY2goaT0+e2kuYXR0cmlidXRlcy5taWQ9PT1cIjBcInx8JHQoKXx8aFIoKT9pLmF0dHJpYnV0ZXMuc3NyY3M9W106KGkuYXR0cmlidXRlcy5zc3Jjcz1bXSxpLmF0dHJpYnV0ZXMuZGlyZWN0aW9uPVwiaW5hY3RpdmVcIixpLm1lZGlhLnBvcnQ9XCIwXCIpO30pLHRoaXMudXBkYXRlQnVuZGxlTWlkcygpO31tdXRlKGUpe2xldCBuPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmluZChpPT5pLmF0dHJpYnV0ZXMubWlkPT09ZSk7aWYoIW4pdGhyb3cgbmV3IEVycm9yKFwibWVkaWFEZXNjcmlwdGlvbiBub3QgZm91bmQgd2l0aCBcIi5jb25jYXQoZSxcIiBpbiByZW1vdGUgU0RQIHdoZW4gY2FsbGluZyBSZW1vdGVTRFAubXV0ZS5cIikpO24uYXR0cmlidXRlcy5kaXJlY3Rpb249XCJpbmFjdGl2ZVwiO311bm11dGUoZSl7bGV0IG49dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kKGk9PmkuYXR0cmlidXRlcy5taWQ9PT1lKTtpZighbil0aHJvdyBuZXcgRXJyb3IoXCJtZWRpYURlc2NyaXB0aW9uIG5vdCBmb3VuZCB3aXRoIFwiLmNvbmNhdChlLFwiIGluIHJlbW90ZSBTRFAgd2hlbiBjYWxsaW5nIFJlbW90ZVNEUC51bm11dGUuXCIpKTtuLmF0dHJpYnV0ZXMuZGlyZWN0aW9uPVwic2VuZG9ubHlcIjt9bXV0ZVJlbW90ZShlKXtsZXQgbj10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbHRlcihpPT5XKGUpLmNhbGwoZSxpLmF0dHJpYnV0ZXMubWlkfHxcIlwiKSk7aWYobi5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJtZWRpYURlc2NyaXB0aW9ucycgbGVuZ3RoIGRvZXNuJ3QgbWF0Y2ggbWlkcycgbGVuZ3RoIHdoZW4gY2FsbGluZyBSZW1vdGVTRFAubXV0ZVJlbW90ZS5cIik7bi5mb3JFYWNoKGk9PntpLmF0dHJpYnV0ZXMuZGlyZWN0aW9uPVwiaW5hY3RpdmVcIjt9KTt9dW5tdXRlUmVtb3RlKGUpe2xldCBuPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmlsdGVyKGk9PlcoZSkuY2FsbChlLGkuYXR0cmlidXRlcy5taWR8fFwiXCIpKTtpZihuLmxlbmd0aCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIm1lZGlhRGVzY3JpcHRpb25zJyBsZW5ndGggZG9lc24ndCBtYXRjaCBtaWRzJyBsZW5ndGggd2hlbiBjYWxsaW5nIFJlbW90ZVNEUC5tdXRlUmVtb3RlLlwiKTtuLmZvckVhY2goaT0+e2kuYXR0cmlidXRlcy5kaXJlY3Rpb249XCJyZWN2b25seVwiO30pO31yZWNlaXZlKGUsbixpLHIpe2UuZm9yRWFjaCgobyxzKT0+e3RoaXMuY3JlYXRlT3JSZWN5Y2xlUmVjdk1lZGlhKG8sW10sXCJyZWN2b25seVwiLG4saSxyW3NdKTt9KSx0aGlzLnVwZGF0ZUJ1bmRsZU1pZHMoKTt9c3RvcFJlY2VpdmluZyhlKXtsZXQgbj10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbHRlcihpPT5lLmluZGV4T2YoaS5hdHRyaWJ1dGVzLm1pZCkhPT0tMSk7aWYobi5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJNZWRpYURlc2NyaXB0aW9ucycgbGVuZ3RoIGRvZXNuJ3QgbWF0Y2ggbWlkcydzIGxlbmd0aCB3aGVuIGNhbGxpbmcgUmVtb3RlU0RQLnJlY2VpdmUuXCIpO24uZm9yRWFjaChpPT57aS5tZWRpYS5wb3J0PVwiMFwiLGkuYXR0cmlidXRlcy5kaXJlY3Rpb249XCJpbmFjdGl2ZVwiO30pLHRoaXMudXBkYXRlQnVuZGxlTWlkcygpO311cGRhdGVSZW1vdGVSVFBDYXBhYmlsaXRpZXMoZSl7bGV0IG49dGhpcy5zZXNzaW9uRGVzY3x8TGUucGFyc2UoYHY9MFxubz0tIDAgMCBJTiBJUDQgMTI3LjAuMC4xXG5zPUFnb3JhR2F0ZXdheVxudD0wIDBcbmE9Z3JvdXA6QlVORExFIDAgMVxuYT1tc2lkLXNlbWFudGljOiBXTVNcbmE9aWNlLWxpdGVcbm09dmlkZW8gOSBVRFAvVExTL1JUUC9TQVZQRiAwXG5jPUlOIElQNCAxMjcuMC4wLjFcbmE9cnRjcDo5IElOIElQNCAwLjAuMC4wXG5hPXNlbmRvbmx5XG5hPXJ0Y3AtbXV4XG5hPXJ0Y3AtcnNpemVcbmE9bWlkOjBcbm09YXVkaW8gOSBVRFAvVExTL1JUUC9TQVZQRiAwXG5jPUlOIElQNCAxMjcuMC4wLjFcbmE9cnRjcDo5IElOIElQNCAwLjAuMC4wXG5hPXNlbmRvbmx5XG5hPXJ0Y3AtbXV4XG5hPXJ0Y3AtcnNpemVcbmE9bWlkOjFcbmApO3RoaXMuX3J0cENhcGFiaWxpdGllcz1lO2xldCBpPXRoaXMucnRwQ2FwYWJpbGl0aWVzLnNlbmQscj10aGlzLmxvY2FsQ2FwYWJpbGl0aWVzLnNlbmQ7Zm9yKGxldCBvIG9mIG4ubWVkaWFEZXNjcmlwdGlvbnMpe2lmKG8uYXR0cmlidXRlcy5pY2VVZnJhZz10aGlzLl9pY2VQYXJhbWV0ZXJzLmljZVVmcmFnLG8uYXR0cmlidXRlcy5pY2VQd2Q9dGhpcy5faWNlUGFyYW1ldGVycy5pY2VQd2Qsby5hdHRyaWJ1dGVzLmZpbmdlcnByaW50cz10aGlzLl9kdGxzUGFyYW1ldGVycy5maW5nZXJwcmludHMsby5hdHRyaWJ1dGVzLmNhbmRpZGF0ZXM9dGhpcy5fY2FuZGlkYXRlcyxvLmF0dHJpYnV0ZXMuc2V0dXA9dGhpcy5zZXR1cCxvLm1lZGlhLm1lZGlhVHlwZT09PVwiYXBwbGljYXRpb25cIiYmKG8uYXR0cmlidXRlcy5zY3RwUG9ydD1cIjUwMDBcIiksby5tZWRpYS5tZWRpYVR5cGU9PT1cInZpZGVvXCIpe2lmKGkudmlkZW9Db2RlY3MubGVuZ3RoPT09MCl7bGV0IHM9ci52aWRlb0NvZGVjcy5maWx0ZXIoYT0+e3ZhciBjLGQ7cmV0dXJuIChjPWEucnRwTWFwKT09PW51bGx8fGM9PT12b2lkIDA/dm9pZCAwOlcoZD1jLmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpKS5jYWxsKGQsXCJ2cDhcIil9KXx8W3IudmlkZW9Db2RlY3NbMF1dO28ubWVkaWEuZm10cz1zLm1hcChhPT5hLnBheWxvYWRUeXBlLnRvU3RyaW5nKDEwKSksby5hdHRyaWJ1dGVzLnBheWxvYWRzPXMsby5hdHRyaWJ1dGVzLmV4dG1hcHM9W107fWVsc2UgaWYoby5tZWRpYS5mbXRzPWkudmlkZW9Db2RlY3MubWFwKHM9PnMucGF5bG9hZFR5cGUudG9TdHJpbmcoMTApKSxvLmF0dHJpYnV0ZXMucGF5bG9hZHM9aS52aWRlb0NvZGVjcyxvLmF0dHJpYnV0ZXMuZXh0bWFwcz1pLnZpZGVvRXh0ZW5zaW9ucyx2KFwiUFJFTE9BRF9NRURJQV9DT1VOVFwiKT4wKXtsZXR7c3NyY3M6cyxzc3JjR3JvdXBzOmF9PUxvKFt7c3NyY0lkOlZ2LHJ0eDp2KFwiVVNFX1NVQl9SVFhcIik/NDAwMDE6dm9pZCAwfV0sdGhpcy5jbmFtZSk7by5hdHRyaWJ1dGVzLnNzcmNzPXMsby5hdHRyaWJ1dGVzLnNzcmNHcm91cHM9YTt9fWlmKG8ubWVkaWEubWVkaWFUeXBlPT09XCJhdWRpb1wiKXtpZihpLmF1ZGlvQ29kZWNzLmxlbmd0aD09PTApe2xldCBzPXIuYXVkaW9Db2RlY3MuZmlsdGVyKGE9Pnt2YXIgYyxkO3JldHVybiAoYz1hLnJ0cE1hcCk9PT1udWxsfHxjPT09dm9pZCAwP3ZvaWQgMDpXKGQ9Yy5lbmNvZGluZ05hbWUudG9Mb3dlckNhc2UoKSkuY2FsbChkLFwib3B1c1wiKX0pfHxbci5hdWRpb0NvZGVjc1swXV07by5tZWRpYS5mbXRzPXMubWFwKGE9PmEucGF5bG9hZFR5cGUudG9TdHJpbmcoMTApKSxvLmF0dHJpYnV0ZXMucGF5bG9hZHM9cyxvLmF0dHJpYnV0ZXMuZXh0bWFwcz1bXTt9ZWxzZSBpZihvLm1lZGlhLmZtdHM9aS5hdWRpb0NvZGVjcy5tYXAocz0+cy5wYXlsb2FkVHlwZS50b1N0cmluZygxMCkpLG8uYXR0cmlidXRlcy5wYXlsb2Fkcz1pLmF1ZGlvQ29kZWNzLG8uYXR0cmlidXRlcy5leHRtYXBzPWkuYXVkaW9FeHRlbnNpb25zLG9hKG8pLHYoXCJQUkVMT0FEX01FRElBX0NPVU5UXCIpPjApe2xldHtzc3JjczpzLHNzcmNHcm91cHM6YX09TG8oW3tzc3JjSWQ6MmU0fV0sdGhpcy5jbmFtZSk7by5hdHRyaWJ1dGVzLnNzcmNzPXMsby5hdHRyaWJ1dGVzLnNzcmNHcm91cHM9YTt9fX1yZXR1cm4gdGhpcy5zZXNzaW9uRGVzYz1uLHRoaXMuY3VycmVudE1pZEluZGV4PW4ubWVkaWFEZXNjcmlwdGlvbnMubGVuZ3RoLTEsdGhpcy5zZXNzaW9uRGVzY311cGRhdGVDYW5kaWRhdGVzKGUpe2xldCBuPXRoaXMuX2NhbmRpZGF0ZXMuZmlsdGVyKGk9PmkudHJhbnNwb3J0PT09XCJ1ZHBcIik7aWYoZT09PU9uLlRDUCl7aWYobi5sZW5ndGg9PT0wKXJldHVybjtpZih2KFwiVENQX0NBTkRJREFURV9PTkxZXCIpKXtsZXQgaT10aGlzLl9jYW5kaWRhdGVzLmZpbHRlcihyPT5yLnRyYW5zcG9ydD09PVwidGNwXCIpO24uZm9yRWFjaChyPT57aS5maW5kSW5kZXgobz0+by5jb25uZWN0aW9uQWRkcmVzcz09PXIuY29ubmVjdGlvbkFkZHJlc3MpPT09LTEmJmkucHVzaChXcihXcih7fSxyKSx7fSx7Zm91bmRhdGlvbjpcInRjcGNhbmRpZGF0ZVwiLHByaW9yaXR5Ok51bWJlcihyLnByaW9yaXR5KS0xK1wiXCIsdHJhbnNwb3J0OlwidGNwXCIscG9ydDpOdW1iZXIoci5wb3J0KSs5MCtcIlwifSkpO30pLHRoaXMuX2NhbmRpZGF0ZXM9aTt9ZWxzZSB7bGV0IGk9W107bi5mb3JFYWNoKHI9PntpLnB1c2goV3IoV3Ioe30scikse30se2ZvdW5kYXRpb246XCJ0Y3BjYW5kaWRhdGVcIixwcmlvcml0eTpOdW1iZXIoci5wcmlvcml0eSktMStcIlwiLHRyYW5zcG9ydDpcInRjcFwiLHBvcnQ6TnVtYmVyKHIucG9ydCkrOTArXCJcIn0pKTt9KSx0aGlzLl9jYW5kaWRhdGVzPVsuLi5uLC4uLmldO319ZWxzZSBpZihlPT09T24uUkVMQVkpe2lmKG4ubGVuZ3RoIT09MClyZXR1cm47e2xldCBpPXRoaXMuX2NhbmRpZGF0ZXMuZmlsdGVyKHI9PnIudHJhbnNwb3J0PT09XCJ0Y3BcIik7aS5mb3JFYWNoKHI9PntuLnB1c2goV3IoV3Ioe30scikse30se2ZvdW5kYXRpb246XCJ1ZHBjYW5kaWRhdGVcIixwcmlvcml0eTpOdW1iZXIoci5wcmlvcml0eSkrMStcIlwiLHRyYW5zcG9ydDpcInVkcFwiLHBvcnQ6TnVtYmVyKHIucG9ydCktOTArXCJcIn0pKTt9KSx0aGlzLl9jYW5kaWRhdGVzPVsuLi5uLC4uLmldO319ZWxzZSBuLmxlbmd0aD09PTA/KHRoaXMuX2NhbmRpZGF0ZXMuZmlsdGVyKGk9PmkudHJhbnNwb3J0PT09XCJ0Y3BcIikuZm9yRWFjaChpPT57bi5wdXNoKFdyKFdyKHt9LGkpLHt9LHtmb3VuZGF0aW9uOlwidWRwY2FuZGlkYXRlXCIscHJpb3JpdHk6TnVtYmVyKGkucHJpb3JpdHkpKzErXCJcIix0cmFuc3BvcnQ6XCJ1ZHBcIixwb3J0Ok51bWJlcihpLnBvcnQpLTkwK1wiXCJ9KSk7fSksdGhpcy5fY2FuZGlkYXRlcz1uKTp0aGlzLl9jYW5kaWRhdGVzPXRoaXMuX2NhbmRpZGF0ZXMuZmlsdGVyKGk9PmkudHJhbnNwb3J0IT09XCJ0Y3BcIik7Zm9yKGxldCBpIG9mIHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMpaS5hdHRyaWJ1dGVzLmNhbmRpZGF0ZXM9dGhpcy5jYW5kaWRhdGVzO31yZXN0YXJ0SUNFKGUpe2U9bGUoZSksdGhpcy5faWNlUGFyYW1ldGVycz1lLHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZm9yRWFjaChuPT57bi5hdHRyaWJ1dGVzLmljZVVmcmFnPWUuaWNlVWZyYWcsbi5hdHRyaWJ1dGVzLmljZVB3ZD1lLmljZVB3ZDt9KTt9cHJlZGljdFJlY2VpdmluZ01pZHMoZSl7bGV0IG49W107Zm9yKGxldCBpPTA7aTxlO2krKyluLnB1c2goKHRoaXMuY3VycmVudE1pZEluZGV4K2krMSkudG9TdHJpbmcoMTApKTtyZXR1cm4gbn1maW5kQXZhaWxhYmxlTWVkaWFJbmRleChlLG4pe3JldHVybiB0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmRJbmRleChpPT57bGV0IHI9aS5tZWRpYS5tZWRpYVR5cGU9PT1lJiZpLm1lZGlhLnBvcnQhPT1cIjBcIiYmKGkuYXR0cmlidXRlcy5kaXJlY3Rpb249PT1cInNlbmRvbmx5XCJ8fGkuYXR0cmlidXRlcy5kaXJlY3Rpb249PT1cInNlbmRyZWN2XCIpJiZpLmF0dHJpYnV0ZXMuc3NyY3MubGVuZ3RoPT09MDtpZigkdCgpKXtpZihyKXtsZXQgbz10aGlzLmZpcmVmb3hTc3JjTWlkTWFwLmdldChuWzBdLnNzcmNJZCk7cmV0dXJuICEob3x8aS5hdHRyaWJ1dGVzLm1pZCE9PVwiMFwiJiZpLmF0dHJpYnV0ZXMubWlkIT09XCIxXCIpfHwhKCFvfHxvIT09aS5hdHRyaWJ1dGVzLm1pZCl9cmV0dXJuICExfXJldHVybiByfSl9Y3JlYXRlT3JSZWN5Y2xlRGF0YUNoYW5uZWwoKXtmb3IobGV0IGkgb2YgdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucylpZihpLm1lZGlhLm1lZGlhVHlwZT09PVwiYXBwbGljYXRpb25cIilyZXR1cm4ge21lZGlhRGVzYzppLG5lZWRFeGNoYW5nZVNEUDohMX07dGhpcy5jdXJyZW50TWlkSW5kZXgrPTE7bGV0IGU9XCJcIi5jb25jYXQodGhpcy5jdXJyZW50TWlkSW5kZXgpLG49e21lZGlhOnttZWRpYVR5cGU6XCJhcHBsaWNhdGlvblwiLHBvcnQ6RmEscHJvdG9zOltcIlVEUFwiLFwiRFRMU1wiLFwiU0NUUFwiXSxmbXRzOltcIndlYnJ0Yy1kYXRhY2hhbm5lbFwiXX0sY29ubmVjdGlvbnM6W3tuZXR0eXBlOlwiSU5cIixhZGRydHlwZTpcIklQNFwiLGFkZHJlc3M6XCIxMjcuMC4wLjFcIn1dLGJhbmR3aWR0aHM6W10sYXR0cmlidXRlczp7aWNlVWZyYWc6dGhpcy5pY2VQYXJhbWV0ZXJzLmljZVVmcmFnLGljZVB3ZDp0aGlzLmljZVBhcmFtZXRlcnMuaWNlUHdkLHVucmVjb2duaXplZDpbXSxjYW5kaWRhdGVzOnRoaXMuY2FuZGlkYXRlcyxleHRtYXBzOltdLGZpbmdlcnByaW50czp0aGlzLmR0bHNQYXJhbWV0ZXJzLmZpbmdlcnByaW50cyxpbWFnZWF0dHI6W10sbXNpZHM6W10scmVtb3RlQ2FuZGlkYXRlc0xpc3Q6W10scmlkczpbXSxzc3JjczpbXSxzc3JjR3JvdXBzOltdLHJ0Y3BGZWVkYmFja1dpbGRjYXJkczpbXSxwYXlsb2FkczpbXSxydGNwOntwb3J0OlwiOVwiLG5ldFR5cGU6XCJJTlwiLGFkZHJlc3NUeXBlOlwiSVA0XCIsYWRkcmVzczpcIjAuMC4wLjBcIn0sc2V0dXA6dGhpcy5zZXR1cCxtaWQ6XCJcIi5jb25jYXQoZSksc2N0cFBvcnQ6XCI1MDAwXCJ9fTtyZXR1cm4gdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5wdXNoKG4pLHttZWRpYURlc2M6bixuZWVkRXhjaGFuZ2VTRFA6ITB9fWNyZWF0ZU9yUmVjeWNsZVJlY3ZNZWRpYShlLG4saSxyLG8scyl7bGV0IGE9ZS5fbWVkaWFTdHJlYW1UcmFjay5raW5kLGM9dGhpcy5ydHBDYXBhYmlsaXRpZXMucmVjdixkPWFjKGEsYyx0aGlzLmxvY2FsQ2FwYWJpbGl0aWVzLnNlbmQsYT09PVEuVklERU8/cjpvKSxsPWE9PT1RLlZJREVPP2MudmlkZW9FeHRlbnNpb25zOmMuYXVkaW9FeHRlbnNpb25zO3RoaXMuY3VycmVudE1pZEluZGV4Kz0xO2xldCB1PVwiXCIuY29uY2F0KHRoaXMuY3VycmVudE1pZEluZGV4KSxoPXttZWRpYTp7bWVkaWFUeXBlOmEscG9ydDpGYSxwcm90b3M6W1wiVURQXCIsXCJUTFNcIixcIlJUUFwiLFwiU0FWUEZcIl0sZm10czpkLm1hcChnPT5nLnBheWxvYWRUeXBlLnRvU3RyaW5nKDEwKSl9LGNvbm5lY3Rpb25zOlt7bmV0dHlwZTpcIklOXCIsYWRkcnR5cGU6XCJJUDRcIixhZGRyZXNzOlwiMTI3LjAuMC4xXCJ9XSxiYW5kd2lkdGhzOltdLGF0dHJpYnV0ZXM6e2ljZVVmcmFnOnRoaXMuaWNlUGFyYW1ldGVycy5pY2VVZnJhZyxpY2VQd2Q6dGhpcy5pY2VQYXJhbWV0ZXJzLmljZVB3ZCx1bnJlY29nbml6ZWQ6W10sY2FuZGlkYXRlczp0aGlzLmNhbmRpZGF0ZXMsZXh0bWFwczpsLGZpbmdlcnByaW50czp0aGlzLmR0bHNQYXJhbWV0ZXJzLmZpbmdlcnByaW50cyxpbWFnZWF0dHI6W10sbXNpZHM6W10scmVtb3RlQ2FuZGlkYXRlc0xpc3Q6W10scmlkczpbXSxzc3JjczpuLHNzcmNHcm91cHM6W10scnRjcEZlZWRiYWNrV2lsZGNhcmRzOltdLHBheWxvYWRzOmQscnRjcDp7cG9ydDpcIjlcIixuZXRUeXBlOlwiSU5cIixhZGRyZXNzVHlwZTpcIklQNFwiLGFkZHJlc3M6XCIwLjAuMC4wXCJ9LHNldHVwOnRoaXMuc2V0dXAsZGlyZWN0aW9uOmkscnRjcE11eDohMCxydGNwUnNpemU6ITAsbWlkOlwiXCIuY29uY2F0KHUpfX07aD10aGlzLm11bmdSZWN2TWVkaWFEc2VjKGgsZSxzKTtsZXQgcD10aGlzLmZpbmRGaXJzdENsb3NlZE1lZGlhKGEpO2lmKHApe2xldCBnPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuaW5kZXhPZihwKTt0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zW2ddPWg7fWVsc2UgdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5wdXNoKGgpO3JldHVybiBofXVwZGF0ZVJlbW90ZUNvZGVjKGUsbixpKXtsZXQgcj1bLi4ubmV3IFNldCh0aGlzLl9ydHBDYXBhYmlsaXRpZXMucmVjdi52aWRlb0NvZGVjcy5tYXAoaD0+aC5ydHBNYXAmJmgucnRwTWFwLmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpfHxcIlwiKS5maWx0ZXIoaD0+e3ZhciBwO3JldHVybiBXKHA9T2JqZWN0LmtleXMoSnUpKS5jYWxsKHAsaCl9KSldLG89bmV3IFNldChuKTtpZihyLmV2ZXJ5KGg9Pm8uaGFzKGgpKSlyZXR1cm4gXy5kZWJ1ZyhcImNvZGVjcyBoYXMgbm90IGNoYW5nZWQsIG5vIG5lZWQgdG8gdXBkYXRlUmVtb3RlQ29kZWMsIGNvZGVjczogXCIuY29uY2F0KG4pKSwhMTtsZXQgcz10aGlzLl9ydHBDYXBhYmlsaXRpZXMucmVjdi52aWRlb0NvZGVjcy5maWx0ZXIoaD0+bi5zb21lKHA9Pnt2YXIgZztyZXR1cm4gVyhnPWgucnRwTWFwJiZoLnJ0cE1hcC5lbmNvZGluZ05hbWUudG9Mb3dlckNhc2UoKXx8XCJcIikuY2FsbChnLHApfSkpO2lmKHMubGVuZ3RoPT09MClyZXR1cm4gXy5kZWJ1ZyhcInVwZGF0ZVJlbW90ZUNvZGVjIGZhaWxlZCwgYmVjYXVzZSBjYW5ub3QgZmluZCBtYXRjaGVkIGNvZGVjLCByZW1vdGVDYXBhYmlsaXRpZXMgY29kZWNzOiBcIi5jb25jYXQocixcIiBjb2RlY3M6IFwiKS5jb25jYXQobikpLCExO2xldCBhPVsuLi5uZXcgU2V0KHMubWFwKGg9PmgucnRwTWFwJiZoLnJ0cE1hcC5lbmNvZGluZ05hbWUudG9Mb3dlckNhc2UoKXx8XCJcIikpXSxjO2lmKF8uZGVidWcoXCJ1cGRhdGVSZW1vdGVDb2RlYywgZnJvbSBcIi5jb25jYXQocixcIiB0byBcIikuY29uY2F0KGEpKSxlLmxlbmd0aD09PTApYz10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbHRlcihoPT5oLm1lZGlhLm1lZGlhVHlwZT09PVwidmlkZW9cIiYmaC5hdHRyaWJ1dGVzLmRpcmVjdGlvbj09PVwicmVjdm9ubHlcIik7ZWxzZSBpZihjPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmlsdGVyKGg9PmguYXR0cmlidXRlcy5taWQmJlcoZSkuY2FsbChlLGguYXR0cmlidXRlcy5taWQpJiZoLmF0dHJpYnV0ZXMuZGlyZWN0aW9uPT09XCJyZWN2b25seVwiKSxjLmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiBfLmRlYnVnKFwidXBkYXRlUmVtb3RlQ29kZWMgZmFpbGVkLCBiZWNhdXNlIGNhbm5vdCBmaW5kIG1pZHMsIG1pZHM6IFwiLmNvbmNhdChlLFwiLCBjb2RlY3M6IFwiKS5jb25jYXQobikpLCExO2lmKHYoXCJVU0VfUFVCX1JUWFwiKXx8dihcIlVTRV9TVUJfUlRYXCIpKXtsZXQgaD15ZihzLHRoaXMucnRwQ2FwYWJpbGl0aWVzLnJlY3YudmlkZW9Db2RlY3MpO3MucHVzaCguLi5oKTt9dGhpcy5fcnRwQ2FwYWJpbGl0aWVzLnJlY3YudmlkZW9Db2RlY3M9cztsZXQgZD10aGlzLmxvY2FsQ2FwYWJpbGl0aWVzLnNlbmQsbD10aGlzLnJ0cENhcGFiaWxpdGllcy5yZWN2LHU9YWMoUS5WSURFTyxsLGQsaSk7cmV0dXJuIGMuZm9yRWFjaChoPT57bGV0IHA9dS5tYXAoZz0+Zy5wYXlsb2FkVHlwZS50b1N0cmluZygxMCkpO18uZGVidWcoXCJ1cGRhdGVSZW1vdGVDb2RlYyBtaWQ6IFwiLmNvbmNhdChoLmF0dHJpYnV0ZXMubWlkLFwiLCBmcm9tIFwiKS5jb25jYXQoaC5hdHRyaWJ1dGVzLnBheWxvYWRzLFwiIHRvIFwiKS5jb25jYXQodSkpLGguYXR0cmlidXRlcy5wYXlsb2Fkcz11LGgubWVkaWEuZm10cz1wO30pLCEwfWNyZWF0ZU9yUmVjeWNsZVNlbmRNZWRpYShlLG4saSxyLG8pe2xldCBzPXRoaXMucnRwQ2FwYWJpbGl0aWVzLnNlbmQsYT1lPT09US5WSURFTz9zLnZpZGVvQ29kZWNzOnMuYXVkaW9Db2RlY3MsYz1lPT09US5WSURFTz9zLnZpZGVvRXh0ZW5zaW9uczpzLmF1ZGlvRXh0ZW5zaW9uczt0aGlzLmN1cnJlbnRNaWRJbmRleCs9MTtsZXQgZD1cIlwiLmNvbmNhdCh0aGlzLmN1cnJlbnRNaWRJbmRleCksbD17bWVkaWE6e21lZGlhVHlwZTplLHBvcnQ6RmEscHJvdG9zOltcIlVEUFwiLFwiVExTXCIsXCJSVFBcIixcIlNBVlBGXCJdLGZtdHM6YS5tYXAoaD0+aC5wYXlsb2FkVHlwZS50b1N0cmluZygxMCkpfSxjb25uZWN0aW9uczpbe25ldHR5cGU6XCJJTlwiLGFkZHJ0eXBlOlwiSVA0XCIsYWRkcmVzczpcIjEyNy4wLjAuMVwifV0sYmFuZHdpZHRoczpbXSxhdHRyaWJ1dGVzOntpY2VVZnJhZzp0aGlzLmljZVBhcmFtZXRlcnMuaWNlVWZyYWcsaWNlUHdkOnRoaXMuaWNlUGFyYW1ldGVycy5pY2VQd2QsdW5yZWNvZ25pemVkOltdLGNhbmRpZGF0ZXM6dGhpcy5jYW5kaWRhdGVzLGV4dG1hcHM6YyxmaW5nZXJwcmludHM6dGhpcy5kdGxzUGFyYW1ldGVycy5maW5nZXJwcmludHMsaW1hZ2VhdHRyOltdLG1zaWRzOltdLHJlbW90ZUNhbmRpZGF0ZXNMaXN0OltdLHJpZHM6W10sc3NyY3M6bixzc3JjR3JvdXBzOmkscnRjcEZlZWRiYWNrV2lsZGNhcmRzOltdLHBheWxvYWRzOmEscnRjcDp7cG9ydDpcIjlcIixuZXRUeXBlOlwiSU5cIixhZGRyZXNzVHlwZTpcIklQNFwiLGFkZHJlc3M6XCIwLjAuMC4wXCJ9LHNldHVwOnRoaXMuc2V0dXAsZGlyZWN0aW9uOnIscnRjcE11eDohMCxydGNwUnNpemU6ITAsbWlkOlwiXCIuY29uY2F0KGQpfX07bD10aGlzLm11bmdTZW5kTWVkaWFEZXNjKGwsbyk7bGV0IHU9dGhpcy5maW5kRmlyc3RDbG9zZWRNZWRpYShlKTtpZih1KXtsZXQgaD10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmluZGV4T2YodSk7dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9uc1toXT1sO31lbHNlIHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMucHVzaChsKTtyZXR1cm4gbH11cGRhdGVCdW5kbGVNaWRzKCl7dGhpcy5zZXNzaW9uRGVzYy5hdHRyaWJ1dGVzLmdyb3Vwc1swXS5pZGVudGlmaWNhdGlvblRhZz10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbHRlcihlPT5lLm1lZGlhLnBvcnQhPT1cIjBcIikubWFwKGU9PmUuYXR0cmlidXRlcy5taWQpO31tdW5nUmVjdk1lZGlhRHNlYyhlLG4saSl7bGV0IHI9bGUoZSk7cmV0dXJuIElmKHIpLHJhKHIsbiksdmYocixuKSxyMChyKSxsdShyLGksdGhpcy5sb2NhbENhcGFiaWxpdGllcy5zZW5kKSxyfW11bmdTZW5kTWVkaWFEZXNjKGUsbil7bGV0IGk9bGUoZSk7cmV0dXJuIGx1KGksbix0aGlzLmxvY2FsQ2FwYWJpbGl0aWVzLnJlY3YpLG9hKGkpLGl9dXBkYXRlUmVjdk1lZGlhKGUsbil7bGV0IGk9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kSW5kZXgocj0+ci5hdHRyaWJ1dGVzLm1pZD09PWUpO2lmKGkhPT0tMSl7bGV0IHI9dGhpcy5tdW5nUmVjdk1lZGlhRHNlYyh0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zW2ldLG4pO3RoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbaV09cjt9fWJ1bXBNaWQoZSl7dGhpcy5jdXJyZW50TWlkSW5kZXgrPWU7fWZpbmRGaXJzdENsb3NlZE1lZGlhKGUpe3JldHVybiB0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQobj0+JHQoKT9uLm1lZGlhLnBvcnQ9PT1cIjBcIiYmbi5tZWRpYS5tZWRpYVR5cGU9PT1lOm4ubWVkaWEucG9ydD09PVwiMFwiKX1maW5kUHJlbG9hZE1lZGlhRGVzYyhlKXtyZXR1cm4gdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kKG49Pnt2YXIgaTtyZXR1cm4gKChpPW4uYXR0cmlidXRlcyk9PT1udWxsfHxpPT09dm9pZCAwfHwoaT1pLnNzcmNzWzBdKT09PW51bGx8fGk9PT12b2lkIDA/dm9pZCAwOmkuc3NyY0lkKT09PWVbMF0uc3NyY0lkfSl9Z2V0U1NSQyhlKXt2YXIgbjtyZXR1cm4gKG49dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kKGk9PmkuYXR0cmlidXRlcy5taWQ9PT1lKSk9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLmF0dHJpYnV0ZXMuc3NyY3N9fTtmdW5jdGlvbiBGdih0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKGk9aS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKS5lbnVtZXJhYmxlfSkpLG4ucHVzaC5hcHBseShuLGkpO31yZXR1cm4gbn1mdW5jdGlvbiBBcih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV0hPW51bGw/YXJndW1lbnRzW2VdOnt9O2UlMj9GdihPYmplY3QobiksITApLmZvckVhY2goZnVuY3Rpb24oaSl7VCh0LGksbltpXSk7fSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6RnYoT2JqZWN0KG4pKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGksT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGkpKTt9KTt9cmV0dXJuIHR9dmFyIGRjPWZ1bmN0aW9uKHQpe3JldHVybiB0LkJBTkRXSURUSD1cImJhbmR3aWR0aFwiLHQuQ1BVPVwiY3B1XCIsdC5OT05FPVwibm9uZVwiLHQuT1RIRVI9XCJvdGhlclwiLHR9KHt9KSxxcz1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkRPV049MF09XCJET1dOXCIsdFt0LlVQPTFdPVwiVVBcIix0fShxc3x8e30pLG11PW5ldyBNYXA7ZnVuY3Rpb24gQnYodCxlLG4saSl7bGV0e3NjYWxlOnJ9PXQ7aWYocj09PTAmJmk9PT1xcy5VUHx8cj49ZS5sZW5ndGgtMSYmaT09PXFzLkRPV04pcmV0dXJuIHQ7bGV0IG89QXIoQXIoe30sdCkse30se3NjYWxlOmk9PT1xcy5ET1dOPysrcjotLXJ9KTtzd2l0Y2gobil7Y2FzZVwibWFpbnRhaW4tZnJhbWVyYXRlXCI6bz1BcihBcih7fSxvKSxlW3JdLm1vdGlvbik7YnJlYWs7Y2FzZVwibWFpbnRhaW4tcmVzb2x1dGlvblwiOm89QXIoQXIoe30sbyksZVtyXS5kZXRhaWwpO2JyZWFrO2Nhc2VcImJhbGFuY2VkXCI6bz1BcihBcih7fSxvKSxlW3JdLmJhbGFuY2VkKTt9cmV0dXJuIG99ZnVuY3Rpb24gUzAodCxlKXtpZihlKXtsZXQgbj17b3ZlclVzZTowLHVuZGVyVXNlOjAsYWRhcHRhdGlvbkxpc3Q6UjAoZSl9O211LnNldCh0LG4pO31lbHNlIG11LmRlbGV0ZSh0KTt9ZnVuY3Rpb24gUjAodCl7bGV0IGU9QXIoe30sdCkse2JpdHJhdGVNYXg6bixmcmFtZVJhdGU6aSxzY2FsZVJlc29sdXRpb25Eb3duQnk6cixiaXRyYXRlTWluOm99PWUse01JTl9GUkFNRV9SQVRFOnMsTUFYX1RIUkVTSE9MRF9GUkFNRVJBVEU6YSxNQVhfU0NBTEU6YyxCSVRSQVRFX01JTl9USFJFU0hPTEQ6ZCxCSVRSQVRFX01BWF9USFJFU0hPTEQ6bCxCV0VfU0NBTEVfVVBfVEhSRVNIT0xEOnUsQldFX1NDQUxFX0RPV05fVEhSRVNIT0xEOmgsUEVSRl9TQ0FMRV9ET1dOX1RIUkVTSE9MRDpwLFBFUkZfU0NBTEVfVVBfVEhSRVNIT0xEOmcsQkFMQU5DRV9CSVRSQVRFX0ZBQ1RPUjpFLEJBTEFOQ0VfRlJBTUVSQVRFX0ZBQ1RPUjpmLEJBTEFOQ0VfUkVTT0xVVElPTl9GQUNUT1I6UyxNT1RJT05fUkVTT0xVVElPTl9GQUNUT1I6QyxNT1RJT05fQklUUkFURV9GQUNUT1I6QSxERVRBSUxfRlJBTUVSQVRFX0ZBQ1RPUjpiLERFVEFJTF9CSVRSQVRFX0ZBQ1RPUjp3fT1fZixEPU1hdGgubWluKGUuZnJhbWVSYXRlLGEpLGs9W3tzY2FsZTowLHRocmVzaG9sZDp7YndlX2Rvd246TWF0aC5yb3VuZChNYXRoLnBvdyhoLDEpKm4pLGJ3ZV91cDpuLGZwc19kb3duOk1hdGgucm91bmQoTWF0aC5wb3cocCwxKSpEKSxmcHNfdXA6aX0sYmFsYW5jZWQ6e3NjYWxlUmVzb2x1dGlvbkRvd25CeToxLGZyYW1lUmF0ZTppLGJpdHJhdGVNYXg6bixiaXRyYXRlTWluOm99LG1vdGlvbjp7c2NhbGVSZXNvbHV0aW9uRG93bkJ5OjEsZnJhbWVSYXRlOmksYml0cmF0ZU1heDpuLGJpdHJhdGVNaW46b30sZGV0YWlsOntzY2FsZVJlc29sdXRpb25Eb3duQnk6MSxmcmFtZVJhdGU6aSxiaXRyYXRlTWF4Om4sYml0cmF0ZU1pbjpvfX1dO2ZvcihsZXQgQj0xO0I8PWM7QisrKXtsZXQgVj17YndlX3VwOk1hdGgucm91bmQoTWF0aC5wb3codSxCKSpuKSxid2VfZG93bjpNYXRoLnJvdW5kKE1hdGgucG93KGgsQisxKSpuKSxmcHNfdXA6TWF0aC5yb3VuZChNYXRoLnBvdyhnLEIpKkQpLGZwc19kb3duOk1hdGgucm91bmQoTWF0aC5wb3cocCxCKzEpKkQpfSx6PXtzY2FsZVJlc29sdXRpb25Eb3duQnk6ci9NYXRoLnBvdyhTLEIpLGZyYW1lUmF0ZTpNYXRoLm1heChNYXRoLnJvdW5kKE1hdGgucG93KGYsQikqaSkscyksYml0cmF0ZU1heDpNYXRoLm1heChNYXRoLnJvdW5kKE1hdGgucG93KEUsQikqbiksbCksYml0cmF0ZU1pbjpNYXRoLm1heChNYXRoLnJvdW5kKE1hdGgucG93KEUsQikqbyksZCl9LGx0PXtzY2FsZVJlc29sdXRpb25Eb3duQnk6ci9NYXRoLnBvdyhDLEIpLGZyYW1lUmF0ZTppLGJpdHJhdGVNYXg6TWF0aC5tYXgoTWF0aC5yb3VuZChNYXRoLnBvdyhBLEIpKm4pLGwpLGJpdHJhdGVNaW46TWF0aC5tYXgoTWF0aC5yb3VuZChNYXRoLnBvdyhBLEIpKm8pLGQpfSx2dD17c2NhbGVSZXNvbHV0aW9uRG93bkJ5OjEsZnJhbWVSYXRlOk1hdGgubWF4KE1hdGgucm91bmQoTWF0aC5wb3coYixCKSppKSxzKSxiaXRyYXRlTWF4Ok1hdGgubWF4KE1hdGgucm91bmQoTWF0aC5wb3codyxCKSpuKSxsKSxiaXRyYXRlTWluOk1hdGgubWF4KE1hdGgucm91bmQoTWF0aC5wb3codyxCKSpvKSxkKX07ay5wdXNoKHtzY2FsZTpCLHRocmVzaG9sZDpWLGJhbGFuY2VkOnosbW90aW9uOmx0LGRldGFpbDp2dH0pO31yZXR1cm4ga31mdW5jdGlvbiBwVyh0LGUsbixpLHIsbyl7bGV0IHM9bXUuZ2V0KHQpfHx7b3ZlclVzZTowLHVuZGVyVXNlOjAsYWRhcHRhdGlvbkxpc3Q6UjAocil9LHthZGFwdGF0aW9uTGlzdDphfT1zO211LnNldCh0LHMpO2xldHtPVkVSVVNFX1RJTUVTX1RIUkVTSE9MRDpjLFVOREVSVVNFX1RJTUVTX1RIUkVTSE9MRDpkfT1fZix7c2NhbGU6bH09aSx1LGg7cmV0dXJuIHR5cGVvZiBlPT1cIm51bWJlclwiJiZlPjAmJmZ1bmN0aW9uKHAsZyxFLGYpe2lmKGc+PUUubGVuZ3RoKXJldHVybiAhMTtsZXR7dGhyZXNob2xkOntmcHNfZG93bjpTfX09RVtnXTtyZXR1cm4gdihcIkZPUkNFX0FHX0hJR0hfRlJBTUVSQVRFXCIpJiZmPT09XCJtYWludGFpbi1mcmFtZXJhdGVcIiYmKFM9RVswXS50aHJlc2hvbGQuZnBzX2Rvd24pLHA8U30oZSxsLGEsbykmJihzLm92ZXJVc2UrKyxoPWRjLkNQVSxzLm92ZXJVc2U+Yyl8fHR5cGVvZiBuPT1cIm51bWJlclwiJiZuPjAmJmZ1bmN0aW9uKHAsZyxFKXtpZihnPj1FLmxlbmd0aClyZXR1cm4gITE7bGV0e3RocmVzaG9sZDp7YndlX2Rvd246Zn19PUVbZ107cmV0dXJuIHA8Zn0obixsLGEpJiYocy5vdmVyVXNlKyssaD1kYy5CQU5EV0lEVEgscy5vdmVyVXNlPmMpPyhzLm92ZXJVc2U9MCxzLnVuZGVyVXNlPTAsdT1CdihpLGEsbyxxcy5ET1dOKSxbdSxoXSk6KHR5cGVvZiBlPT1cIm51bWJlclwiJiZlPjAmJnR5cGVvZiBuPT1cIm51bWJlclwiJiZuPjAmJmZ1bmN0aW9uKHAsZyxFLGYpe2lmKGc9PT0wKXJldHVybjtsZXR7dGhyZXNob2xkOntmcHNfdXA6U319PUVbZ107cmV0dXJuIHYoXCJGT1JDRV9BR19ISUdIX0ZSQU1FUkFURVwiKSYmZj09PVwibWFpbnRhaW4tZnJhbWVyYXRlXCImJihTPUVbMV0udGhyZXNob2xkLmZwc191cCkscD5TfShlLGwsYSxvKSYmZnVuY3Rpb24ocCxnLEUpe2lmKGc9PT0wKXJldHVybjtsZXR7dGhyZXNob2xkOntid2VfdXA6Zn19PUVbZ107cmV0dXJuIHA+Zn0obixsLGEpJiYocy51bmRlclVzZSsrLHMudW5kZXJVc2U+ZCYmKHMub3ZlclVzZT0wLHMudW5kZXJVc2U9MCx1PUJ2KGksYSxvLHFzLlVQKSx1LnNjYWxlPT09MCYmKGg9ZGMuTk9ORSkpKSxbdSxoXSl9ZnVuY3Rpb24ganYodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihpPWkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscikuZW51bWVyYWJsZX0pKSxuLnB1c2guYXBwbHkobixpKTt9cmV0dXJuIG59ZnVuY3Rpb24gbV8odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdIT1udWxsP2FyZ3VtZW50c1tlXTp7fTtlJTI/anYoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe1QodCxpLG5baV0pO30pOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOmp2KE9iamVjdChuKSkuZm9yRWFjaChmdW5jdGlvbihpKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxpLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixpKSk7fSk7fXJldHVybiB0fWZ1bmN0aW9uIF9XKHQpe3ZhciBlO3JldHVybiAhIXYoXCJFTkFCTEVfQUdfQURBUFRBVElPTlwiKSYmISEodCBpbnN0YW5jZW9mIFhFfHxXKGU9dC5faGludHMpLmNhbGwoZSxHdC5DVVNUT01fVFJBQ0spKSYmKCEhdihcIkZPUkNFX1NVUFBPUlRfQUdfQURBUFRBVElPTlwiKXx8ISEoZnVuY3Rpb24obil7bGV0IGk9bXQoKTtpZihpLm9zIT09eWUuSU9TfHwhaS5vc1ZlcnNpb24pcmV0dXJuICExO2xldCByPWkub3NWZXJzaW9uLnNwbGl0KFwiLlwiKTtyZXR1cm4gTnVtYmVyKHJbMF0pPj1ufSgxNCkmJmZPKDE3LDQpfHxtTygxNCkmJmdPKDE3LDQpKSl9dmFyIGZ1PW5ldyBNYXA7ZnVuY3Rpb24gemQodCxlKXtsZXQgbj1mdS5nZXQodCk7aWYobil7bGV0e3RpbWVyOml9PW47d2luZG93LmNsZWFyVGltZW91dChpKSxmdS5kZWxldGUodCk7fWUucXVhbGl0eUxpbWl0YXRpb25SZWFzb249ZGMuTk9ORSxTMCh0KTt9dmFyIHB0O2Z1bmN0aW9uIEd2KHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYoaT1pLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpLmVudW1lcmFibGV9KSksbi5wdXNoLmFwcGx5KG4saSk7fXJldHVybiBufWZ1bmN0aW9uIFFpKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXSE9bnVsbD9hcmd1bWVudHNbZV06e307ZSUyP0d2KE9iamVjdChuKSwhMCkuZm9yRWFjaChmdW5jdGlvbihpKXtUKHQsaSxuW2ldKTt9KTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpHdihPYmplY3QobikpLmZvckVhY2goZnVuY3Rpb24oaSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsaSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4saSkpO30pO31yZXR1cm4gdH12YXIga2k9KHB0PWNsYXNzIFFhIGV4dGVuZHMgWWx7Z2V0IGN1cnJlbnRMb2NhbERlc2NyaXB0aW9uKCl7cmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb24uY3VycmVudExvY2FsRGVzY3JpcHRpb259Z2V0IGN1cnJlbnRSZW1vdGVEZXNjcmlwdGlvbigpe3JldHVybiB0aGlzLnBlZXJDb25uZWN0aW9uLmN1cnJlbnRSZW1vdGVEZXNjcmlwdGlvbn1nZXQgcGVlckNvbm5lY3Rpb25TdGF0ZSgpe3JldHVybiB0aGlzLnBlZXJDb25uZWN0aW9uLmNvbm5lY3Rpb25TdGF0ZX1nZXQgaWNlQ29ubmVjdGlvblN0YXRlKCl7cmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb24uaWNlQ29ubmVjdGlvblN0YXRlfWdldCBkdGxzVHJhbnNwb3J0U3RhdGUoKXt2YXIgZSxuO3JldHVybiAoZT0obj10aGlzLnBlZXJDb25uZWN0aW9uLmdldFJlY2VpdmVycygpWzBdKT09PW51bGx8fG49PT12b2lkIDB8fChuPW4udHJhbnNwb3J0KT09PW51bGx8fG49PT12b2lkIDA/dm9pZCAwOm4uc3RhdGUpIT09bnVsbCYmZSE9PXZvaWQgMD9lOm51bGx9Z2V0IGxvY2FsQ29kZWNzKCl7cmV0dXJuIFsuLi5uZXcgU2V0KHRoaXMubG9jYWxDYXBhYmlsaXRpZXMmJnRoaXMubG9jYWxDYXBhYmlsaXRpZXMuc2VuZC52aWRlb0NvZGVjcy5tYXAoZT0+ZS5ydHBNYXAmJmUucnRwTWFwLmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpfHxcIlwiKS5maWx0ZXIoZT0+e3ZhciBuO3JldHVybiBXKG49T2JqZWN0LmtleXMoSnUpKS5jYWxsKG4sZSl9KSldfWNvbnN0cnVjdG9yKGUsbil7c3VwZXIoZSxuKSxUKHRoaXMsXCJzdG9yZVwiLHZvaWQgMCksVCh0aGlzLFwicGVlckNvbm5lY3Rpb25cIix2b2lkIDApLFQodGhpcyxcImlkXCIsVXQoNSxcImNvbm5lY3Rpb24tXCIpKSxUKHRoaXMsXCJyZW1vdGVTRFBcIix2b2lkIDApLFQodGhpcyxcImluaXRpYWxPZmZlclwiLHZvaWQgMCksVCh0aGlzLFwidHJhbnNwb3J0RXZlbnRSZWNlaXZlclwiLHZvaWQgMCksVCh0aGlzLFwic3RhdHNGaWx0ZXJcIix2b2lkIDApLFQodGhpcyxcImV4dGVuc2lvblwiLHt1c2VYUjp2KFwiVVNFX1hSXCIpfSksVCh0aGlzLFwibG9jYWxDYXBhYmlsaXRpZXNcIix2b2lkIDApLFQodGhpcyxcInJlbW90ZUNvZGVjc1wiLHZvaWQgMCksVCh0aGlzLFwibG9jYWxDYW5kaWRhdGVDb3VudFwiLDApLFQodGhpcyxcImFsbENhbmRpZGF0ZXNSZWNlaXZlZFwiLCExKSxUKHRoaXMsXCJpc1ByZWFsbG9jYXRpb25cIiwhMSksVCh0aGlzLFwicHJlU1NSQ01hcFwiLG5ldyBNYXApLFQodGhpcyxcImRhdGFTdHJlYW1DaGFubmVsTWFwXCIsbmV3IE1hcCksVCh0aGlzLFwiZXN0YWJsaXNoUHJvbWlzZVwiLHZvaWQgMCksVCh0aGlzLFwicmVjb3ZlcmVkRGF0YUNoYW5uZWxJZHNcIixbXSksVCh0aGlzLFwiY3VycmVudERhdGFDaGFubmVsSWRcIiwxKSxUKHRoaXMsXCJtdXRleFwiLG5ldyB6ZShcIlAyUENvbm5lY3Rpb24tbXV0ZXhcIikpLFQodGhpcyxcInF1YWxpdHlMaW1pdGF0aW9uUmVhc29uXCIsZGMuTk9ORSksdGhpcy5zdG9yZT1uLHRoaXMucGVlckNvbm5lY3Rpb249bmV3IFJUQ1BlZXJDb25uZWN0aW9uKFFhLnJlc29sdmVQQ0NvbmZpZ3VyYXRpb24oZSkse29wdGlvbmFsOlt7Z29vZ0RzY3A6ITB9XX0pLHRoaXMuc3RhdHNGaWx0ZXI9TmYodGhpcy5wZWVyQ29ubmVjdGlvbix2KFwiU1RBVFNfVVBEQVRFX0lOVEVSVkFMXCIpLHZvaWQgMCwkdCgpPzEyMDA6dm9pZCAwKSx0aGlzLmJpbmRQQ0V2ZW50cygpLHRoaXMuYmluZFN0YXRzRXZlbnRzKCksdGhpcy5zdG9yZS5wMnBJZD10aGlzLnN0b3JlLnAycElkKzEsdGhpcy5lc3RhYmxpc2hQcm9taXNlPXRoaXMuZXN0YWJsaXNoKCk7fWdldFByZU1lZGlhKGUpe2xldCBuPXRoaXMucHJlU1NSQ01hcC5nZXQoZSk7aWYobiE9PXZvaWQgMCl7bGV0IGk9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maW5kKHI9PnIubWlkPT09bik7aWYoaSlyZXR1cm4ge3RyYW5zY2VpdmVyOmksdHJhY2s6aS5yZWNlaXZlci50cmFjayxpZDpufX19YXN5bmMgdXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzKGUsbil7aWYodGhpcy5yZW1vdGVDb2RlY3M9biwhdGhpcy5yZW1vdGVTRFApcmV0dXJuIHZvaWQgXy5kZWJ1ZyhcIltQMlBDb25uZWN0aW9uXSBjYW5ub3QgdXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQsIGxvY2FsIGNvZGVjczogXCIuY29uY2F0KHRoaXMubG9jYWxDb2RlY3MsXCIsIGNvZGVjczogXCIpLmNvbmNhdChuKSk7aWYodGhpcy5yZW1vdGVTRFAudXBkYXRlUmVtb3RlQ29kZWMoZSxuLHRoaXMuc3RvcmUuY29kZWMpKXtsZXQgaT1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCkscj10aGlzLmxvZ1NEUEV4Y2hhbmdlKGkuc2RwfHxcIlwiLFwib2ZmZXJcIixcImxvY2FsXCIsXCJtdXRlTG9jYWxcIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGkpO2xldCBvPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCk7cj8uKG8pLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6b30pO31lbHNlIF8uZGVidWcoXCJbUDJQQ29ubmVjdGlvbl0gdXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzIG5vIG5lZWQgdG8gZXhjaGFuZ2UgU0RQLlwiKTt9YXN5bmMgZXN0YWJsaXNoKCl7dHJ5e3RoaXMucGVlckNvbm5lY3Rpb24uYWRkVHJhbnNjZWl2ZXIoXCJ2aWRlb1wiLHtkaXJlY3Rpb246XCJyZWN2b25seVwifSksdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRUcmFuc2NlaXZlcihcImF1ZGlvXCIse2RpcmVjdGlvbjpcInJlY3Zvbmx5XCJ9KTtsZXQgZT1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCk7aWYoIWUuc2RwKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgaW5pdGlhbE9mZmVyLnNkcCB3aGVuIHRyeWluZyB0byBlc3RhYmxpc2ggUGVlckNvbm5lY3Rpb24uXCIpO2xldCBuPWlvKGUuc2RwKSxpPWF3YWl0IHMwKHtmaWx0ZXJSVFg6IXYoXCJVU0VfUFVCX1JUWFwiKSYmIXYoXCJVU0VfU1VCX1JUWFwiKSxmaWx0ZXJWaWRlb0ZlYzp2KFwiRklMVEVSX1ZJREVPX0ZFQ1wiKSxmaWx0ZXJBdWRpb0ZlYzp2KFwiRklMVEVSX0FVRElPX0ZFQ1wiKSxmaWx0ZXJWaWRlb0NvZGVjOnYoXCJGSUxURVJfVklERU9fQ09ERUNcIil9LHRoaXMuZXh0ZW5zaW9uKTtyZXR1cm4gdGhpcy5sb2NhbENhcGFiaWxpdGllcz11dShpKSx0aGlzLmluaXRpYWxPZmZlcj1lLFFpKFFpKHt9LG4pLHt9LHtydHBDYXBhYmlsaXRpZXM6aSxvZmZlclNEUDplLnNkcH0pfWNhdGNoKGUpe3Rocm93IG5ldyBOKFIuR0VUX0xPQ0FMX0NPTk5FQ1RJT05fUEFSQU1TX0ZBSUxFRCxlLnRvU3RyaW5nKCkpfX1hc3luYyBjb25uZWN0KGUpe3RyeXtpZighdGhpcy5pbml0aWFsT2ZmZXIpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGVzdGFibGlzaCBQMlBDb25uZWN0aW9uIHdpdGhvdXQgaW5pdGlhbCBvZmZlci5cIik7dGhpcy5yZW1vdGVTRFA9bmV3IHVtKFFpKFFpKHt9LGUpLHt9LHtsb2NhbENhcGFiaWxpdGllczp0aGlzLmxvY2FsQ2FwYWJpbGl0aWVzfSkpLGUucHJlYWxsb2NhdGlvbiYmKHRoaXMuaXNQcmVhbGxvY2F0aW9uPSEwKSxBcnJheS5pc0FycmF5KHRoaXMucmVtb3RlQ29kZWNzKSYmdGhpcy5yZW1vdGVDb2RlY3MubGVuZ3RoPjAmJnRoaXMucmVtb3RlU0RQLnVwZGF0ZVJlbW90ZUNvZGVjKFtdLHRoaXMucmVtb3RlQ29kZWNzLHRoaXMuc3RvcmUuY29kZWMpO2xldCBuPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCksaT1hMCh0aGlzLmluaXRpYWxPZmZlci5zZHAsdGhpcy5leHRlbnNpb24pLHI9dGhpcy5sb2dTRFBFeGNoYW5nZShpfHxcIlwiLFwib2ZmZXJcIixcImxvY2FsXCIsXCJjb25uZWN0XCIpO3RoaXMuc3RvcmUuZGVzY3JpcHRpb25TdGFydCgpLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOml9KSxyPy4obiksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpufSk7bGV0IG89dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKVswXTtpZihvIT1udWxsJiZvLnJlY2VpdmVyJiZ0aGlzLnRyeUJpbmRUcmFuc3BvcnRFdmVudHMoby5yZWNlaXZlciksdihcIlBSRUxPQURfTUVESUFfQ09VTlRcIik+MCl7dGhpcy5yZW1vdGVTRFAucHJlbG9hZFJlbW90ZU1lZGlhKHYoXCJQUkVMT0FEX01FRElBX0NPVU5UXCIpKTtsZXQgYT10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDphfSk7bGV0IGM9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oYyk7fWxldHtwcmVTU1JDczpzfT1lO2lmKEFycmF5LmlzQXJyYXkocykmJnMubGVuZ3RoPjApe2xldHttaWRzOmF9PXRoaXMucmVtb3RlU0RQLmJhdGNoU2VuZChzLm1hcChjPT4oe2tpbmQ6Yy5raW5kLHNzcmNNc2c6W3tzc3JjSWQ6Yy5zc3JjSWQscnR4OmMucnR4fV0sbXNsYWJlbDpjLm1zbGFiZWx9KSkpO2EuZm9yRWFjaCgoYyxkKT0+e3RoaXMucHJlU1NSQ01hcC5zZXQoc1tkXS5zc3JjSWQsYyk7fSksYXdhaXQgV2QodGhpcy5wZWVyQ29ubmVjdGlvbix0aGlzLnJlbW90ZVNEUCx0aGlzLmV4dGVuc2lvbiksXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1AyUENvbm5lY3Rpb25dIHByZS1iYXRjaFJlY2VpdmUgZXhjaGFuZ2UgU0RQLlwiKSk7fX1jYXRjaChuKXt0aHJvdyBuZXcgTihSLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLmNvbm5lY3QgZmFpbGVkOyBcIi5jb25jYXQobi50b1N0cmluZygpKSl9fWFzeW5jIHVwZGF0ZVJlbW90ZUNvbm5lY3QoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnVwZGF0ZVJlbW90ZUNvbm5lY3QgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZFwiKTtsZXR7cnRwQ2FwYWJpbGl0aWVzOm59PWU7dGhpcy5yZW1vdGVTRFAudXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzKG4pLEFycmF5LmlzQXJyYXkodGhpcy5yZW1vdGVDb2RlY3MpJiZ0aGlzLnJlbW90ZUNvZGVjcy5sZW5ndGg+MCYmdGhpcy5yZW1vdGVTRFAudXBkYXRlUmVtb3RlQ29kZWMoW10sdGhpcy5yZW1vdGVDb2RlY3MsdGhpcy5zdG9yZS5jb2RlYyk7bGV0e3ByZVNTUkNzOml9PWU7aWYoQXJyYXkuaXNBcnJheShpKSYmaS5sZW5ndGg+MCl7bGV0e21pZHM6cn09dGhpcy5yZW1vdGVTRFAuYmF0Y2hTZW5kKGkubWFwKG89Pk9iamVjdC5hc3NpZ24oe30se2tpbmQ6by5raW5kLHNzcmNNc2c6W3tzc3JjSWQ6by5zc3JjSWQscnR4Om8ucnR4fV0sbXNsYWJlbDpvLm1zbGFiZWx9KSkpO3IuZm9yRWFjaCgobyxzKT0+e3RoaXMucHJlU1NSQ01hcC5zZXQoaVtzXS5zc3JjSWQsbyk7fSk7fWF3YWl0IFdkKHRoaXMucGVlckNvbm5lY3Rpb24sdGhpcy5yZW1vdGVTRFAsdGhpcy5leHRlbnNpb24pLF8uZGVidWcoXCJbUDJQQ29ubmVjdGlvbl0gdXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzIGJ5IGV4Y2hhbmdpbmcgU0RQLlwiKTt9Y2F0Y2gobil7dGhyb3cgbmV3IE4oUi5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi51cGRhdGVSZW1vdGVDb25uZWN0IGZhaWxlZDsgXCIuY29uY2F0KG4udG9TdHJpbmcoKSkpfX1zZW5kKGUsbixpKXt2YXIgcj10aGlzO3JldHVybiBCaShmdW5jdGlvbiooKXtsZXQgbz15aWVsZCBUdChyLm11dGV4LmxvY2soXCJGcm9tIFAyUENvbm5lY3Rpb24uc2VuZFwiKSk7dHJ5e2lmKCFyLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnNlbmQgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZFwiKTtsZXQgcz1bXTtlLmZvckVhY2goRT0+e2xldCBmPXIucGVlckNvbm5lY3Rpb24uYWRkVHJhbnNjZWl2ZXIoRS5fbWVkaWFTdHJlYW1UcmFjayx7ZGlyZWN0aW9uOlwic2VuZG9ubHlcIn0pO3MucHVzaChmKSxFLl91cGRhdGVSdHBUcmFuc2NlaXZlcihmKTt9KSwkdCgpJiZ2KFwiU0lNVUxDQVNUXCIpPT09ITAmJih5aWVsZCBUdChyLmFwcGx5U2ltdWxjYXN0Rm9yRmlyZWZveChzLGUpKSk7bGV0IGE9eWllbGQgVHQoci5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpKSxjPXIucmVtb3RlU0RQLnByZWRpY3RSZWNlaXZpbmdNaWRzKGUubGVuZ3RoKSxkPXIubXVuZ1NlbmRPZmZlclNEUChhLnNkcCxlLGMpLGw9TGUucGFyc2UoZCksdT1jLm1hcChFPT57bGV0IGY9bC5tZWRpYURlc2NyaXB0aW9ucy5maW5kKFM9PlMuYXR0cmlidXRlcy5taWQ9PT1FKTtpZighZil0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZXh0cmFjdCBzc3JjIGZyb20gbWVkaWFEZXNjcmlwdGlvbi5cIik7cmV0dXJuIG4wKGYsdihcIlVTRV9QVUJfUlRYXCIpKX0pLGg7dHJ5e2g9eWllbGQgdTt9Y2F0Y2goRSl7aD1bXSxyLnJlbW90ZVNEUC5yZWNlaXZlKGUsbixpLGgpO2xldCBmPXIucmVtb3RlU0RQLnRvU3RyaW5nKCk7dGhyb3cgeWllbGQgVHQoci5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6ZH0pKSx5aWVsZCBUdChyLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOmZ9KSkseWllbGQgVHQoci5zdG9wU2VuZGluZyhjLCEwKSksRX1yLnJlbW90ZVNEUC5yZWNlaXZlKGUsbixpLGgpO2xldCBwPXIucmVtb3RlU0RQLnRvU3RyaW5nKCksZz1yLmxvZ1NEUEV4Y2hhbmdlKGQsXCJvZmZlclwiLFwibG9jYWxcIixcInNlbmRcIik7cmV0dXJuIHlpZWxkIFR0KHIucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOmR9KSkseWllbGQgVHQoci5hcHBseVNpbXVsY2FzdEVuY29kaW5ncyhzLGUpKSx5aWVsZCBUdChyLmFwcGx5U2VuZEVuY29kaW5ncyhzLGUpKSxnPy4ocCkseWllbGQgVHQoci5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpwfSkpLHMubWFwKChFLGYpPT57bGV0IFM9Y1tmXTtyZXR1cm4ge2xvY2FsU1NSQzp1W2ZdLGlkOlMsdHJhbnNjZWl2ZXI6RX19KX1jYXRjaChzKXt0aHJvdyBzIGluc3RhbmNlb2YgTj9zOm5ldyBOKFIuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24uc2VuZCBmYWlsZWQ7IFwiLmNvbmNhdChzLnRvU3RyaW5nKCkpKX1maW5hbGx5e28oKTt9fSkoKX1hc3luYyBjcmVhdGVEYXRhQ2hhbm5lbHMoZSxuKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24uY3JlYXRlRGF0YUNoYW5uZWxzIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWRcIik7bGV0IGk9dGhpcy5kYXRhU3RyZWFtQ2hhbm5lbE1hcC5nZXQoZSk7aWYoaSYmaS5yZWFkeVN0YXRlPT09XCJvcGVuXCIpXy5kZWJ1ZyhcIltQMlBDb25uZWN0aW9uXSBDaGFubmVscyBhcmUgYWxyZWFkeSBhdmFpbGFibGUgYW5kIGNhbiBiZSByZXVzZWQgZGlyZWN0bHkuXCIpO2Vsc2Uge2xldCBvPXRoaXMuY3VycmVudERhdGFDaGFubmVsSWQ8MTAyMz90aGlzLmN1cnJlbnREYXRhQ2hhbm5lbElkKys6dGhpcy5yZWNvdmVyZWREYXRhQ2hhbm5lbElkcy5zaGlmdCgpO2lmKHR5cGVvZiBvIT1cIm51bWJlclwiKXRocm93IG5ldyBFcnJvcihcImNyZWF0ZSBEYXRhQ2hhbm5lbCBlcnJvciwgYmVjYXVzZSBjYW5ub3QgZ2V0IGRjIGlkXCIpO2k9dGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVEYXRhQ2hhbm5lbChcImRhdGFzdHJlYW0tY2hhbm5lbFwiLHtpZDpvLG5lZ290aWF0ZWQ6ITAsb3JkZXJlZDohMSxtYXhSZXRyYW5zbWl0czp2KFwiREFUQVNUUkVBTV9NQVhfUkVUUkFOU01JVFNcIil9KSxpLmJpbmFyeVR5cGU9XCJhcnJheWJ1ZmZlclwiLHRoaXMuZGF0YVN0cmVhbUNoYW5uZWxNYXAuc2V0KGUsaSk7fW4uZm9yRWFjaChvPT57by5fdXBkYXRlT3JpZ2luRGF0YUNoYW5uZWwoaSk7fSk7bGV0e25lZWRFeGNoYW5nZVNEUDpyfT10aGlzLnJlbW90ZVNEUC5zZW5kRGF0YUNoYW5uZWwoKTtpZihyKXtsZXQgbz10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDpvfSk7bGV0IHM9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24ocyksXy5kZWJ1ZyhcIltQMlBDb25uZWN0aW9uXSBjcmVhdGVEYXRhQ2hhbm5lbHMgYnkgZXhjaGFuZ2luZyBTRFAuXCIpO31lbHNlIF8uZGVidWcoXCJbUDJQQ29ubmVjdGlvbl0gY3JlYXRlRGF0YUNoYW5uZWxzIG5vIG5lZWQgdG8gZXhjaGFuZ2UgU0RQLlwiKTtyZXR1cm59Y2F0Y2goaSl7dGhyb3cgaSBpbnN0YW5jZW9mIE4/aTpuZXcgTihSLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLmNyZWF0ZURhdGFDaGFubmVscyBmYWlsZWQ7IFwiLmNvbmNhdChpLnRvU3RyaW5nKCkpKX19YXN5bmMgc3RvcERhdGFDaGFubmVscyhlKXt0cnl7bGV0IG49dGhpcy5kYXRhU3RyZWFtQ2hhbm5lbE1hcC5nZXQoZSk7cmV0dXJuIG4mJihuLmlkJiZ0aGlzLnJlY292ZXJlZERhdGFDaGFubmVsSWRzLnB1c2gobi5pZCksbi5jbG9zZSgpKSx2b2lkIHRoaXMuZGF0YVN0cmVhbUNoYW5uZWxNYXAuZGVsZXRlKGUpfWNhdGNoKG4pe3Rocm93IG4gaW5zdGFuY2VvZiBOP246bmV3IE4oUi5EQVRBQ0hBTk5FTF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLnN0b3BEYXRhQ2hhbm5lbHMgZmFpbGVkOyBcIi5jb25jYXQobi50b1N0cmluZygpKSl9fWFzeW5jIHN0b3BTZW5kaW5nKGUsbil7bGV0IGk9bj92b2lkIDA6YXdhaXQgdGhpcy5tdXRleC5sb2NrKFwiRnJvbSBQMlBDb25uZWN0aW9uLnN0b3BTZW5kaW5nXCIpO3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi5zdG9wU2VuZGluZyBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkXCIpO2xldCByPXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0VHJhbnNjZWl2ZXJzKCkuZmlsdGVyKGM9PmUuaW5kZXhPZihjLm1pZCkhPT0tMSk7aWYoci5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJUcmFuc2NlaXZlcnMnIGxlbmd0aCBkb2Vzbid0IG1hdGNoIG1pZHMnIGxlbmd0aCB3aGVuIHRyeWluZyB0byBjYWxsIFAyUENvbm5lY3Rpb24uc3RvcFNlbmRpbmcuXCIpO3IubWFwKGM9Pnt2YXIgZDt6ZCh0aGlzLmlkK2MubWlkLHRoaXMpLGMuZGlyZWN0aW9uPVwiaW5hY3RpdmVcIiwoZD1jLnN0b3ApPT09bnVsbHx8ZD09PXZvaWQgMHx8ZC5jYWxsKGMpO30pO2xldCBvPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKSxzPXRoaXMubG9nU0RQRXhjaGFuZ2Uoby5zZHB8fFwiXCIsXCJvZmZlclwiLFwibG9jYWxcIixcInN0b3BTZW5kaW5nXCIpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihvKSx0aGlzLnJlbW90ZVNEUC5zdG9wUmVjZWl2aW5nKGUpO2xldCBhPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCk7cz8uKGEpLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6YX0pO31jYXRjaChyKXt0aHJvdyBuZXcgTihSLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLnN0b3BTZW5kaW5nIGZhaWxlZDsgXCIuY29uY2F0KHIudG9TdHJpbmcoKSkpfWZpbmFsbHl7aSYmaSgpO319YXN5bmMgcmVjZWl2ZShlLG4saSxyKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24ucmVjZWl2ZSBcIi5jb25jYXQoZSxcIiBiZWZvcmUgcmVtb3RlU0RQIGNyZWF0ZWQuXCIpKTtsZXR7bWlkOm8sbmVlZEV4Y2hhbmdlU0RQOnN9PXRoaXMucmVtb3RlU0RQLnNlbmQoZSxuLGkscik7cyYmKGF3YWl0IFdkKHRoaXMucGVlckNvbm5lY3Rpb24sdGhpcy5yZW1vdGVTRFAsdGhpcy5leHRlbnNpb24pLF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtQMlBDb25uZWN0aW9uXSByZWNlaXZlIFwiKS5jb25jYXQoZSxcIiBieSBleGNoYW5naW5nIFNEUC5cIikpKTtsZXQgYT10aGlzLnBlZXJDb25uZWN0aW9uLmdldFRyYW5zY2VpdmVycygpLmZpbmQoYz0+Yy5taWQ9PT1vKTtpZighYSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IHRyYW5zY2VpdmVyIGFmdGVyIHNldExvY2FsRGVzY3JpcHRpb24uXCIpO3JldHVybiB7dHJhY2s6YS5yZWNlaXZlci50cmFjayxpZDpvLHRyYW5zY2VpdmVyOmF9fWNhdGNoKG8pe3Rocm93IG5ldyBOKFIuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24ucmVjZWl2ZSBmYWlsZWQ7IFwiLmNvbmNhdChvLnRvU3RyaW5nKCkpKX19YXN5bmMgYmF0Y2hSZWNlaXZlKGUpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi5iYXRjaFJlY2VpdmUgYmVmb3JlIHJlbW90ZVNEUCBjcmVhdGVkLlwiKTtsZXR7bWlkczpuLG5lZWRFeGNoYW5nZVNEUDppfT10aGlzLnJlbW90ZVNEUC5iYXRjaFNlbmQoZSk7cmV0dXJuIGkmJihhd2FpdCBXZCh0aGlzLnBlZXJDb25uZWN0aW9uLHRoaXMucmVtb3RlU0RQLHRoaXMuZXh0ZW5zaW9uKSxfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbUDJQQ29ubmVjdGlvbl0gYmF0Y2hSZWNlaXZlIGJ5IGV4Y2hhbmdpbmcgU0RQLlwiKSkpLG4ubWFwKHI9PntsZXQgbz10aGlzLnBlZXJDb25uZWN0aW9uLmdldFRyYW5zY2VpdmVycygpLmZpbmQocz0+cy5taWQ9PT1yKTtpZighbyl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IHRyYW5zY2VpdmVyIGFmdGVyIHNldExvY2FsRGVzY3JpcHRpb24uXCIpO3JldHVybiB7dHJhY2s6by5yZWNlaXZlci50cmFjayxpZDpyLHRyYW5zY2VpdmVyOm99fSl9Y2F0Y2gobil7dGhyb3cgbmV3IE4oUi5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5yZWNlaXZlIGZhaWxlZDsgXCIuY29uY2F0KG4udG9TdHJpbmcoKSkpfX1hc3luYyBzdG9wUmVjZWl2aW5nKGUpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi5zdG9wUmVjZWl2aW5nIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQuXCIpO2UuZm9yRWFjaChvPT57QXJyYXkuZnJvbSh0aGlzLnByZVNTUkNNYXAuZW50cmllcygpKS5zb21lKHM9PntsZXRbYSxjXT1zO2lmKGM9PT1vKXJldHVybiB0aGlzLnByZVNTUkNNYXAuZGVsZXRlKGEpLCEwfSk7fSksdGhpcy5yZW1vdGVTRFAuc3RvcFNlbmRpbmcoZSk7bGV0IG49dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKSxpPXRoaXMubG9nU0RQRXhjaGFuZ2UobixcIm9mZmVyXCIsXCJyZW1vdGVcIixcInN0b3BSZWNlaXZpbmdcIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOm59KTtsZXQgcj1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigpO2k/LihyLnNkcHx8XCJcIiksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHIpO31jYXRjaChuKXt0aHJvdyBuZXcgTihSLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uIHN0b3BSZWNlaXZpbmcgZmFpbGVkOyBcIi5jb25jYXQobi50b1N0cmluZygpKSl9fWFzeW5jIG11dGVSZW1vdGUoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLm11dGVSZW1vdGUgbWlkPVwiLmNvbmNhdChlLFwiIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQuXCIpKTt0aGlzLnJlbW90ZVNEUC5tdXRlKGUpO2xldCBuPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCksaT10aGlzLmxvZ1NEUEV4Y2hhbmdlKG4sXCJvZmZlclwiLFwicmVtb3RlXCIsXCJtdXRlUmVtb3RlXCIpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDpufSk7bGV0IHI9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKTtpPy4oci5zZHB8fFwiXCIpLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihyKTt9Y2F0Y2gobil7dGhyb3cgbmV3IE4oUi5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5tdXRlUmVtb3RlIGZhaWxlZDsgXCIuY29uY2F0KG4udG9TdHJpbmcoKSkpfX1hc3luYyB1bm11dGVSZW1vdGUoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnVubXV0ZVJlbW90ZSBtaWQ9XCIuY29uY2F0KGUsXCIgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZC5cIikpO3RoaXMucmVtb3RlU0RQLnVubXV0ZShlKTtsZXQgbj10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpLGk9dGhpcy5sb2dTRFBFeGNoYW5nZShuLFwib2ZmZXJcIixcInJlbW90ZVwiLFwidW5tdXRlUmVtb3RlXCIpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDpufSk7bGV0IHI9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKTtpPy4oci5zZHB8fFwiXCIpLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihyKTt9Y2F0Y2gobil7dGhyb3cgbmV3IE4oUi5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi51bm11dGVSZW1vdGUgZmFpbGVkOyBcIi5jb25jYXQobi50b1N0cmluZygpKSl9fWFzeW5jIG11dGVMb2NhbChlKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24ubXV0ZUxvY2FsIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQuXCIpO2xldCBuPXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0VHJhbnNjZWl2ZXJzKCkuZmlsdGVyKHM9PnMubWlkJiZlLmluZGV4T2Yocy5taWQpIT09LTEpO2lmKG4ubGVuZ3RoIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNjZWl2ZXJzJyBsZW5ndGggZG9lc24ndCBtYXRjaCBtaWRzJyBsZW5ndGguXCIpO24ubWFwKHM9PntzLmRpcmVjdGlvbj1cImluYWN0aXZlXCI7fSk7bGV0IGk9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpLHI9dGhpcy5sb2dTRFBFeGNoYW5nZShpLnNkcHx8XCJcIixcIm9mZmVyXCIsXCJsb2NhbFwiLFwibXV0ZUxvY2FsXCIpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihpKSx0aGlzLnJlbW90ZVNEUC5tdXRlUmVtb3RlKGUpO2xldCBvPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCk7cj8uKG8pLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6b30pO31jYXRjaChuKXt0aHJvdyBuZXcgTihSLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLm11dGVMb2NhbCBmYWlsZWQ7IFwiLmNvbmNhdChuLnRvU3RyaW5nKCkpKX19YXN5bmMgdW5tdXRlTG9jYWwoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnVubXV0ZUxvY2FsIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQuXCIpO2xldCBuPXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0VHJhbnNjZWl2ZXJzKCkuZmlsdGVyKHM9PnMubWlkJiZlLmluZGV4T2Yocy5taWQpIT09LTEpO2lmKG4ubGVuZ3RoIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNjZWl2ZXJzJyBsZW5ndGggZG9lc24ndCBtYXRjaCBtaWRzJyBsZW5ndGguXCIpO24ubWFwKGFzeW5jKHMsYSk9PntzLmRpcmVjdGlvbj1cInNlbmRvbmx5XCI7fSk7bGV0IGk9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpLHI9dGhpcy5sb2dTRFBFeGNoYW5nZShpLnNkcHx8XCJcIixcIm9mZmVyXCIsXCJsb2NhbFwiLFwidW5tdXRlTG9jYWxcIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGkpLHRoaXMucmVtb3RlU0RQLnVubXV0ZVJlbW90ZShlKTtsZXQgbz10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpO3I/LihvKSxhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOm99KTt9Y2F0Y2gobil7dGhyb3cgbmV3IE4oUi5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi51bm11dGVMb2NhbCBmYWlsZWQ7IFwiLmNvbmNhdChuLnRvU3RyaW5nKCkpKX19cmVzdGFydElDRShlKXt2YXIgbj10aGlzO3JldHVybiBCaShmdW5jdGlvbiooKXtsZXQgaT15aWVsZCBUdChuLm11dGV4LmxvY2soXCJGcm9tIFAyUENvbm5lY3Rpb24ucmVzdGFydElDRVwiKSk7dHJ5e2lmKCFuLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcmVzdGFydElDRSBiZWZvcmUgcmVtb3RlU0RQIGNyZWF0ZWQuXCIpO2lmKGZ0KCkuc3VwcG9ydFBDU2V0Q29uZmlndXJhdGlvbil7bGV0IGQ9bi5wZWVyQ29ubmVjdGlvbi5nZXRDb25maWd1cmF0aW9uKCksbD1lPT09T24uUkVMQVk/XCJyZWxheVwiOlwiYWxsXCI7ZC5pY2VUcmFuc3BvcnRQb2xpY3khPT1sJiYoXy5kZWJ1ZyhcIltcIi5jb25jYXQobi5zdG9yZS5jbGllbnRJZCxcIl0gcmVzdGFydElDRSBjaGFuZ2UgaWNlVHJhbnNwb3J0UG9saWN5IGZyb20gW1wiKS5jb25jYXQoZC5pY2VUcmFuc3BvcnRQb2xpY3ksXCJdIHRvIFtcIikuY29uY2F0KGwsXCJdXCIpKSxkLmljZVRyYW5zcG9ydFBvbGljeT1sLG4ucGVlckNvbm5lY3Rpb24uc2V0Q29uZmlndXJhdGlvbihkKSk7fWVsc2UgaWYoZT09PU9uLlJFTEFZKXJldHVybjtuLnJlbW90ZVNEUC51cGRhdGVDYW5kaWRhdGVzKGUpO2xldCByPXlpZWxkIFR0KG4ucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoe2ljZVJlc3RhcnQ6ITB9KSk7aWYoIXIuc2RwKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCByZXN0YXJ0SUNFIGJlY2F1c2UgcmVzdGFydCBvZmZlciBTRFAgZG9lcyBub3QgZXhpc3QuXCIpO2xldCBvPWlvKHIuc2RwKSx7cmVtb3RlSWNlUGFyYW1ldGVyczpzfT15aWVsZCBvLmljZVBhcmFtZXRlcnM7bi5yZW1vdGVTRFAucmVzdGFydElDRShzKTtsZXQgYT1uLnJlbW90ZVNEUC50b1N0cmluZygpLGM9bi5sb2dTRFBFeGNoYW5nZShyLnNkcHx8XCJcIixcIm9mZmVyXCIsXCJsb2NhbFwiLFwicmVzdGFydElDRVwiKTtuLnN0b3JlLmRlc2NyaXB0aW9uU3RhcnQoKSx5aWVsZCBUdChuLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24ocikpLGM/LihhKSx5aWVsZCBUdChuLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOmF9KSk7fWNhdGNoKHIpe18ud2FybmluZyhcIltcIi5jb25jYXQobi5zdG9yZS5jbGllbnRJZCxcIl0gcmVzdGFydCBJQ0UgZmFpbGVkLCBhYm9ydCBvcGVyYXRpb25cIikscik7fWZpbmFsbHl7aSgpO319KSgpfWNsb3NlKCl7dmFyIGU7dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5mb3JFYWNoKG49Pnt6ZCh0aGlzLmlkK24ubWlkLHRoaXMpO30pLHRoaXMucHJlU1NSQ01hcC5jbGVhcigpLHRoaXMucGVlckNvbm5lY3Rpb24uY2xvc2UoKSwoZT10aGlzLm9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlKT09PW51bGx8fGU9PT12b2lkIDB8fGUuY2FsbCh0aGlzLFwiY2xvc2VkXCIpLHRoaXMudHJ5VW5iaW5kVHJhbnNwb3J0RXZlbnRzKCksdGhpcy51bmJpbmRQQ0V2ZW50cygpLHRoaXMudW5iaW5kU3RhdHNFdmVudHMoKSx0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpLHRoaXMudHJhbnNwb3J0RXZlbnRSZWNlaXZlcj12b2lkIDAsdGhpcy5zdGF0c0ZpbHRlci5kZXN0cm95KCksdGhpcy5kYXRhU3RyZWFtQ2hhbm5lbE1hcC5jbGVhcigpLHRoaXMucmVjb3ZlcmVkRGF0YUNoYW5uZWxJZHM9W10sdGhpcy5jdXJyZW50RGF0YUNoYW5uZWxJZD0xO31nZXRTdGF0cygpe3JldHVybiBRaShRaSh7fSx0aGlzLnN0YXRzRmlsdGVyLmdldFN0YXRzKCkpLHt9LHtxdWFsaXR5TGltaXRhdGlvblJlYXNvbjp0aGlzLnF1YWxpdHlMaW1pdGF0aW9uUmVhc29ufSl9Z2V0UmVtb3RlVmlkZW9Jc1JlYWR5KGUpe3JldHVybiB0aGlzLnN0YXRzRmlsdGVyLmdldFZpZGVvSXNSZWFkeShlKX1hc3luYyB1cGRhdGVFbmNvZGVyQ29uZmlnKGUsbil7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnVwZGF0ZUVuY29kZXJDb25maWcgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZC5cIik7bGV0IGk9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpLHI9dGhpcy5tdW5nU2VuZE9mZmVyU0RQKGkuc2RwLFtuXSxbZV0pO3RoaXMucmVtb3RlU0RQLnVwZGF0ZVJlY3ZNZWRpYShlLG4pO2xldCBvPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCkscz10aGlzLmxvZ1NEUEV4Y2hhbmdlKHIsXCJvZmZlclwiLFwibG9jYWxcIixcInVwZGF0ZUVuY29kZXJDb25maWdcIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6cn0pLHM/LihvKSxhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOm99KTt9Y2F0Y2goaSl7dGhyb3cgbmV3IE4oUi5FWENIQU5HRV9TRFBfRkFJTEVELGkudG9TdHJpbmcoKSl9fWFzeW5jIHVwZGF0ZVNlbmRQYXJhbWV0ZXJzKGUsbil7bGV0IGk9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maWx0ZXIocj0+ci5taWQ9PT1lKTtpLmxlbmd0aD09PTEmJih0aGlzLmlzVlA4U2ltdWxjYXN0KG4pPyR0KCl8fGF3YWl0IHRoaXMuYXBwbHlTaW11bGNhc3RFbmNvZGluZ3MoaSxbbl0pOmF3YWl0IHRoaXMuYXBwbHlTZW5kRW5jb2RpbmdzKGksW25dKSk7fXNldFN0YXRzUmVtb3RlVmlkZW9Jc1JlYWR5KGUsbil7dGhpcy5zdGF0c0ZpbHRlci5zZXRWaWRlb0lzUmVhZHkyKGUsbik7fWFzeW5jIHJlcGxhY2VUcmFjayhlLG4pe2xldCBpPXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0VHJhbnNjZWl2ZXJzKCkuZmluZChyPT5yLm1pZD09PW4pO2kmJmF3YWl0IGkuc2VuZGVyLnJlcGxhY2VUcmFjayhlLl9tZWRpYVN0cmVhbVRyYWNrKTt9YXN5bmMgZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyKCl7bGV0IGU9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRSZWNlaXZlcnMoKTtpZihlLmxlbmd0aD4wJiZlWzBdLnRyYW5zcG9ydCYmZVswXS50cmFuc3BvcnQuaWNlVHJhbnNwb3J0JiZlWzBdLnRyYW5zcG9ydC5pY2VUcmFuc3BvcnQuZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyJiZlWzBdLnRyYW5zcG9ydC5pY2VUcmFuc3BvcnQuZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyKCkpe2xldCBuPWVbMF0udHJhbnNwb3J0LmljZVRyYW5zcG9ydCx7bG9jYWw6aSxyZW1vdGU6cn09bi5nZXRTZWxlY3RlZENhbmRpZGF0ZVBhaXIoKTtyZXR1cm4ge2xvY2FsOlFpKFFpKHt9LGhyKSx7fSx7Y2FuZGlkYXRlVHlwZTppLnR5cGUscHJvdG9jb2w6aS5wcm90b2NvbCxhZGRyZXNzOmkuYWRkcmVzcyxwb3J0OmkucG9ydH0pLHJlbW90ZTpRaShRaSh7fSxocikse30se2NhbmRpZGF0ZVR5cGU6ci50eXBlLHByb3RvY29sOnIucHJvdG9jb2wsYWRkcmVzczpyLmFkZHJlc3MscG9ydDpyLnBvcnR9KX19cmV0dXJuIHRoaXMuc3RhdHNGaWx0ZXIuZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyKCl9YmluZFBDRXZlbnRzKCl7dGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZT0oKT0+e3ZhciBlOyhlPXRoaXMub25JQ0VDb25uZWN0aW9uU3RhdGVDaGFuZ2UpPT09bnVsbHx8ZT09PXZvaWQgMHx8ZS5jYWxsKHRoaXMsdGhpcy5wZWVyQ29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGUpO30sdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZT0oKT0+e3ZhciBlOyhlPXRoaXMub25Db25uZWN0aW9uU3RhdGVDaGFuZ2UpPT09bnVsbHx8ZT09PXZvaWQgMHx8ZS5jYWxsKHRoaXMsdGhpcy5wZWVyQ29ubmVjdGlvbi5jb25uZWN0aW9uU3RhdGUpO30sdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZT1lPT57ZS5jYW5kaWRhdGU/dGhpcy5sb2NhbENhbmRpZGF0ZUNvdW50Kz0xOih0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY2FuZGlkYXRlPW51bGwsdGhpcy5hbGxDYW5kaWRhdGVzUmVjZWl2ZWQ9ITAsXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3BjLVwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gbG9jYWwgY2FuZGlkYXRlIGNvdW50XCIpLHRoaXMubG9jYWxDYW5kaWRhdGVDb3VudCkpO30sc2V0VGltZW91dCgoKT0+e3RoaXMuYWxsQ2FuZGlkYXRlc1JlY2VpdmVkfHwodGhpcy5hbGxDYW5kaWRhdGVzUmVjZWl2ZWQ9ITAsXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3BjLVwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gb25pY2VjYW5kaWRhdGUgdGltZW91dCwgbG9jYWwgY2FuZGlkYXRlIGNvdW50XCIpLHRoaXMubG9jYWxDYW5kaWRhdGVDb3VudCkpO30sdihcIkNBTkRJREFURV9USU1FT1VUXCIpKTt9dW5iaW5kUENFdmVudHMoKXt0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlPW51bGwsdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub25zaWduYWxpbmdzdGF0ZWNoYW5nZT1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGVlcnJvcj1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGU9bnVsbCx0aGlzLnBlZXJDb25uZWN0aW9uLm9udHJhY2s9bnVsbDt9c3RhdGljIHJlc29sdmVQQ0NvbmZpZ3VyYXRpb24oZSl7bGV0IG49e2ljZVNlcnZlcnM6W119O3JldHVybiBlLmljZVNlcnZlcnM/bi5pY2VTZXJ2ZXJzPWUuaWNlU2VydmVyczplLnR1cm5TZXJ2ZXImJmUudHVyblNlcnZlci5tb2RlIT09XCJvZmZcIiYmKFl1KGUudHVyblNlcnZlci5zZXJ2ZXJzKT9uLmljZVNlcnZlcnM9ZS50dXJuU2VydmVyLnNlcnZlcnM6KG4uaWNlU2VydmVycyYmbi5pY2VTZXJ2ZXJzLnB1c2goLi4uUWEudHVyblNlcnZlckNvbmZpZ1RvSWNlU2VydmVycyhlLnR1cm5TZXJ2ZXIuc2VydmVycykpLHYoXCJVU0VfVFVSTl9TRVJWRVJfT0ZfR0FURVdBWVwiKSYmbi5pY2VTZXJ2ZXJzJiZlLnR1cm5TZXJ2ZXIuc2VydmVyc0Zyb21HYXRld2F5JiZuLmljZVNlcnZlcnMucHVzaCguLi5RYS50dXJuU2VydmVyQ29uZmlnVG9JY2VTZXJ2ZXJzKGUudHVyblNlcnZlci5zZXJ2ZXJzRnJvbUdhdGV3YXkpKSx2KFwiRk9SQ0VfVFVSTl9UQ1BcIik/bi5pY2VUcmFuc3BvcnRQb2xpY3k9XCJyZWxheVwiOmUudHVyblNlcnZlci5zZXJ2ZXJzLmNvbmNhdChlLnR1cm5TZXJ2ZXIuc2VydmVyc0Zyb21HYXRld2F5fHxbXSkuZm9yRWFjaChpPT57aS5mb3JjZXR1cm4mJihuLmljZVRyYW5zcG9ydFBvbGljeT1cInJlbGF5XCIpO30pKSksdihcIkVOQUJMRV9FTkNPREVEX1RSQU5TRk9STVwiKSYmZnQoKS5zdXBwb3J0V2ViUlRDRW5jb2RlZFRyYW5zZm9ybSYmKG4uZW5jb2RlZEluc2VydGFibGVTdHJlYW1zPSEwKSxufXN0YXRpYyB0dXJuU2VydmVyQ29uZmlnVG9JY2VTZXJ2ZXJzKGUpe2xldCBuPVtdO3JldHVybiBlLmZvckVhY2goaT0+e2kuc2VjdXJpdHk/aS50Y3Bwb3J0JiZuLnB1c2goe3VzZXJuYW1lOmkudXNlcm5hbWUsY3JlZGVudGlhbDppLnBhc3N3b3JkLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwidHVybnM6XCIuY29uY2F0KFVzKGkudHVyblNlcnZlclVSTCksXCI6XCIpLmNvbmNhdChpLnRjcHBvcnQsXCI/dHJhbnNwb3J0PXRjcFwiKX0pOihpLnVkcHBvcnQmJiF2KFwiRk9SQ0VfVFVSTl9UQ1BcIikmJm4ucHVzaCh7dXNlcm5hbWU6aS51c2VybmFtZSxjcmVkZW50aWFsOmkucGFzc3dvcmQsY3JlZGVudGlhbFR5cGU6XCJwYXNzd29yZFwiLHVybHM6XCJ0dXJuOlwiLmNvbmNhdChpLnR1cm5TZXJ2ZXJVUkwsXCI6XCIpLmNvbmNhdChpLnVkcHBvcnQsXCI/dHJhbnNwb3J0PXVkcFwiKX0pLGkudGNwcG9ydCYmbi5wdXNoKHt1c2VybmFtZTppLnVzZXJuYW1lLGNyZWRlbnRpYWw6aS5wYXNzd29yZCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInR1cm46XCIuY29uY2F0KGkudHVyblNlcnZlclVSTCxcIjpcIikuY29uY2F0KGkudGNwcG9ydCxcIj90cmFuc3BvcnQ9dGNwXCIpfSkpO30pLG59dHJ5QmluZFRyYW5zcG9ydEV2ZW50cyhlKXtsZXQgbj1lLnRyYW5zcG9ydDtpZihuKXt0aGlzLnRyYW5zcG9ydEV2ZW50UmVjZWl2ZXI9ZSxuLm9uc3RhdGVjaGFuZ2U9KCk9Pnt2YXIgcjtuIT1udWxsJiZuLnN0YXRlJiYoKHI9dGhpcy5vbkRUTFNUcmFuc3BvcnRTdGF0ZUNoYW5nZSk9PT1udWxsfHxyPT09dm9pZCAwfHxyLmNhbGwodGhpcyxuLnN0YXRlKSk7fSxuLm9uZXJyb3I9cj0+e3ZhciBvOyhvPXRoaXMub25EVExTVHJhbnNwb3J0RXJyb3IpPT09bnVsbHx8bz09PXZvaWQgMHx8by5jYWxsKHRoaXMsXCJlcnJvclwiaW4gcj9yLmVycm9yOnIpO307bGV0IGk9bi5pY2VUcmFuc3BvcnQ7aSYmKGkub25zdGF0ZWNoYW5nZT0oKT0+e2xldCByPW4/LmljZVRyYW5zcG9ydC5zdGF0ZTt2YXIgbztyJiYoKG89dGhpcy5vbklDRVRyYW5zcG9ydFN0YXRlQ2hhbmdlKT09PW51bGx8fG89PT12b2lkIDB8fG8uY2FsbCh0aGlzLHIpKTt9LGkuZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyJiYoaS5vbnNlbGVjdGVkY2FuZGlkYXRlcGFpcmNoYW5nZT0oKT0+e2lmKGkuZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyKCkpe2xldHtsb2NhbDpyLHJlbW90ZTpvfT1pLmdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpO18uaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3BjLVwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gc2VsZWN0ZWRjYW5kaWRhdGVwYWlyY2hhbmdlOiBsb2NhbCBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KHtjYW5kaWRhdGVUeXBlOnIudHlwZSxwcm90b2NvbDpyLnByb3RvY29sfSksXCIsIHJlbW90ZSBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KHtjYW5kaWRhdGVUeXBlOm8udHlwZSxwcm90b2NvbDpvLnByb3RvY29sLGFkZHJlc3M6by5hZGRyZXNzLHBvcnQ6by5wb3J0fSksXCIgKVwiKSk7fX0pKTt9fXRyeVVuYmluZFRyYW5zcG9ydEV2ZW50cygpe3RoaXMudHJhbnNwb3J0RXZlbnRSZWNlaXZlciYmdGhpcy50cmFuc3BvcnRFdmVudFJlY2VpdmVyLnRyYW5zcG9ydCYmKHRoaXMudHJhbnNwb3J0RXZlbnRSZWNlaXZlci50cmFuc3BvcnQub25zdGF0ZWNoYW5nZT1udWxsLHRoaXMudHJhbnNwb3J0RXZlbnRSZWNlaXZlci50cmFuc3BvcnQub25lcnJvcj1udWxsLHRoaXMudHJhbnNwb3J0RXZlbnRSZWNlaXZlci50cmFuc3BvcnQuaWNlVHJhbnNwb3J0JiYodGhpcy50cmFuc3BvcnRFdmVudFJlY2VpdmVyLnRyYW5zcG9ydC5pY2VUcmFuc3BvcnQub25zdGF0ZWNoYW5nZT1udWxsKSk7fWFzeW5jIHVwZGF0ZVJ0cFNlbmRlckVuY29kaW5ncyhlLG4pe3ZhciBpLHI7aWYobnx8KG49dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKCkuZmluZChmPT5mLnRyYWNrPT09ZS5fbWVkaWFTdHJlYW1UcmFjaykpLCFuKXJldHVybiBfLndhcm4oXCJbXCIuY29uY2F0KGUuZ2V0VHJhY2tJZCgpLFwiXSBubyBydHBTZW5kZXIgZm91bmR9XCIpKTtpZih0aGlzLmlzVlA4U2ltdWxjYXN0KGUpKXJldHVybiBfLndhcm4oXCJbdXBkYXRlUnRwU2VuZGVyRW5jb2RpbmdzXSBUcmFjayBpcyBWUDggc2ltdWxjYXN0LCBwbGVhc2UgYXBwbHkgc2ltdWxjYXN0IGVuY29kaW5nc1wiKTtpZighZnQoKS5zdXBwb3J0U2V0UnRwU2VuZGVyUGFyYW1ldGVycylyZXR1cm4gXy53YXJuKFwiW3VwZGF0ZVJ0cFNlbmRlckVuY29kaW5nc10gQnJvd3NlciBub3Qgc3VwcG9ydCBzZXQgcnRwLXNlbmRlciBwYXJhbWV0ZXJzXCIpO2xldCBvPXt9LHM9e307c3dpdGNoKGUuX29wdGltaXphdGlvbk1vZGUpe2Nhc2VcIm1vdGlvblwiOm8uZGVncmFkYXRpb25QcmVmZXJlbmNlPVwibWFpbnRhaW4tZnJhbWVyYXRlXCI7YnJlYWs7Y2FzZVwiZGV0YWlsXCI6by5kZWdyYWRhdGlvblByZWZlcmVuY2U9XCJtYWludGFpbi1yZXNvbHV0aW9uXCI7YnJlYWs7Y2FzZVwiYmFsYW5jZWRcIjpvLmRlZ3JhZGF0aW9uUHJlZmVyZW5jZT1cImJhbGFuY2VkXCI7fWxldCBhPWZ1bmN0aW9uKEUsZil7cmV0dXJuIEUuZ2V0VHJhbnNjZWl2ZXJzKCkuZmluZChTPT5TLnNlbmRlci50cmFjaz09PWZ8fFMucmVjZWl2ZXIudHJhY2s9PT1mKX0odGhpcy5wZWVyQ29ubmVjdGlvbixlLl9tZWRpYVN0cmVhbVRyYWNrKSxjPXhHKGUpO2lmKF9XKGUpJiZhJiZuJiZjJiZ0aGlzLmdldExvY2FsVmlkZW9TdGF0cyYmVyhpPVtcInZwOFwiLFwidnA5XCJdKS5jYWxsKGksdGhpcy5zdG9yZS5jb2RlYykpe3ZhciBkO2xldCBFPW8uZGVncmFkYXRpb25QcmVmZXJlbmNlfHwoVyhkPWUuX2hpbnRzKS5jYWxsKGQsR3QuQ1VTVE9NX1RSQUNLKT92KFwiQ1VTVE9NX0FEQVBUQVRJT05fREVGQVVMVF9NT0RFXCIpOlwibWFpbnRhaW4tZnJhbWVyYXRlXCIpOyhmdW5jdGlvbihmLFMsQyxBLGIsdyl7aWYoemQoZixDKSxiKFMpLEEhPT1cImJhbGFuY2VkXCImJkEhPT1cIm1haW50YWluLWZyYW1lcmF0ZVwiJiZBIT09XCJtYWludGFpbi1yZXNvbHV0aW9uXCIpcmV0dXJuO2xldCBEPS0xO1MwKGYsUyk7bGV0IGs9d2luZG93LnNldEludGVydmFsKCgpPT57bGV0IFY9ZnUuZ2V0KGYpO2lmKCF2KFwiRU5BQkxFX0FHX0FEQVBUQVRJT05cIil8fCFWKXJldHVybiB6ZChmLEMpLHZvaWQgYihTKTtsZXQgej13KCk7aWYoei5zZW5kUGFja2V0cz4wJiZ6Lk91dGdvaW5nQXZhaWxhYmxlQmFuZHdpZHRoPjApe2lmKEQ9PT0tMSlyZXR1cm4gdm9pZChEPURhdGUubm93KCkpO2lmKERhdGUubm93KCktRDwxZTMpcmV0dXJuO2xldCBsdD16LnNlbmRGcmFtZVJhdGUsdnQ9ei5PdXRnb2luZ0F2YWlsYWJsZUJhbmR3aWR0aCxbRHQsY2VdPXBXKGYsbHQsdnQsVi5hZGFwdGF0aW9uQ29uZmlnLFMsQSk7Y2UmJihDLnF1YWxpdHlMaW1pdGF0aW9uUmVhc29uPWNlKSxEdCYmVi5hZGFwdGF0aW9uQ29uZmlnLnNjYWxlIT09RHQuc2NhbGUmJihfLmRlYnVnKFwiW1wiLmNvbmNhdChmLFwiXSBhcHBseUFkYXB0YXRpb246IFwiKS5jb25jYXQoQy5xdWFsaXR5TGltaXRhdGlvblJlYXNvbixgXG4gICAgICAgICAgIHNlbmRGcHMgYCkuY29uY2F0KGx0LFwiLCBid2UgXCIpLmNvbmNhdCh2dCxcIiwgc3dpdGNoIGZyb20gXCIpLmNvbmNhdChWLmFkYXB0YXRpb25Db25maWcuc2NhbGUsXCIgdG8gXCIpLmNvbmNhdChEdC5zY2FsZSxcIiBcIikpLFYuYWRhcHRhdGlvbkNvbmZpZz1tXyhtXyh7fSxWLmFkYXB0YXRpb25Db25maWcpLER0KSxiKER0KSk7fX0sdihcIkNIRUNLX0xPQ0FMX1NUQVRTX0lOVEVSVkFMXCIpKSxCPW1fKHt9LFMpO2Z1LnNldChmLHt0aW1lcjprLGFkYXB0YXRpb25Db25maWc6QixvcmlnaW5Db25maWc6UyxhZGFwdGF0aW9uRnVuYzpifSksXy5kZWJ1ZyhcIltcIi5jb25jYXQoZixcIl0gc3RhcnQgYWRhcHRhdGlvbiwgb3JpZ2luQ29uZmlnOiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KFMpLFwiLCBkZWdyYWRhdGlvblByZWZlcmVuY2U6IFwiKS5jb25jYXQoQSkpO30pKHRoaXMuaWQrYS5taWQsYyx0aGlzLEUsZj0+e24mJnRoaXMudXBkYXRlQWRhcHRhdGlvbihuLGYpO30sdGhpcy5nZXRMb2NhbFZpZGVvU3RhdHMuYmluZCh0aGlzKSk7fWlmKGUuX2VuY29kZXJDb25maWcpe3ZhciBsO2xldHtiaXRyYXRlTWF4OkUsZnJhbWVSYXRlOmYsc2NhbGVSZXNvbHV0aW9uRG93bkJ5OlN9PWUuX2VuY29kZXJDb25maWc7RSYmKHMubWF4Qml0cmF0ZT0xZTMqRSksKFcobD1lLl9oaW50cykuY2FsbChsLEd0LkxPV19TVFJFQU0pfHxlLmlzVXNlU2NhbGVSZXNvbHV0aW9uRG93bkJ5KSYmKGYmJihzLm1heEZyYW1lcmF0ZT1ObihmKSksUyYmUz49MSYmKHMuc2NhbGVSZXNvbHV0aW9uRG93bkJ5PVMpKTt9bGV0e21heEZyYW1lcmF0ZTp1fT12KFwiRU5DT0RFUl9DT05GSUdfTElNSVRcIik7aWYodSYmdHlwZW9mIHU9PVwibnVtYmVyXCImJihzLm1heEZyYW1lcmF0ZT1zLm1heEZyYW1lcmF0ZT9NYXRoLm1pbihzLm1heEZyYW1lcmF0ZSx1KTp1KSx2KFwiRFNDUF9UWVBFXCIpJiZobygpKXt2YXIgaDtsZXQgRT12KFwiRFNDUF9UWVBFXCIpO1coaD1bXCJ2ZXJ5LWxvd1wiLFwibG93XCIsXCJtZWRpdW1cIixcImhpZ2hcIl0pLmNhbGwoaCxFKSYmKHMubmV0d29ya1ByaW9yaXR5PUUpO31sZXQgcD1uLmdldFBhcmFtZXRlcnMoKSxnPShyPXAuZW5jb2RpbmdzKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnJbMF07JHQoKSYmIWcmJihvLmVuY29kaW5ncz1bc10pLGcmJk9iamVjdC5hc3NpZ24oZyxzKSxPYmplY3QuYXNzaWduKHAsbyksXy5kZWJ1ZyhcIltcIi5jb25jYXQoZS5nZXRUcmFja0lkKCksXCJdIHVwZGF0ZVJ0cFNlbmRlckVuY29kaW5nczogXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShwLmVuY29kaW5ncykpKSxhd2FpdCBuLnNldFBhcmFtZXRlcnMocCksYXdhaXQgYXN5bmMgZnVuY3Rpb24oRSxmLFMpe3RyeXt2YXIgQztpZighZnQoKS5zdXBwb3J0U2V0UnRwU2VuZGVyUGFyYW1ldGVyc3x8IWZ1bmN0aW9uKGspe3JldHVybiBrPT09XCJ2cDlcIn0oRSl8fCF2KFwiRU5BQkxFX1NWQ1wiKSlyZXR1cm47bGV0IEE9e30sYj17fSx3PWYuZ2V0UGFyYW1ldGVycygpLEQ9KEM9dy5lbmNvZGluZ3MpPT09bnVsbHx8Qz09PXZvaWQgMD92b2lkIDA6Q1swXTtiLnNjYWxhYmlsaXR5TW9kZT0kRShTKSxEJiZPYmplY3QuYXNzaWduKEQsYiksT2JqZWN0LmFzc2lnbih3LEEpLGF3YWl0IGYuc2V0UGFyYW1ldGVycyh3KSxfLmRlYnVnKFwiW3VwZGF0ZUFkYXB0YXRpb25dIHVwZGF0ZVJ0cFNlbmRlckVuY29kaW5ncyBzY2FsYWJpbGl0eU1vZGUgc3VjY2VzczogXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KHcuZW5jb2RpbmdzKSkpO31jYXRjaChBKXtfLmRlYnVnKFwiW3VwZGF0ZUFkYXB0YXRpb25dIHVwZGF0ZVJ0cFNlbmRlckVuY29kaW5ncyBzY2FsYWJpbGl0eU1vZGUgZmFpbGVkXCIsQSk7fX0odGhpcy5zdG9yZS5jb2RlYyxuLHYoXCJTVkNfTU9ERVwiKSk7fWFzeW5jIHVwZGF0ZUFkYXB0YXRpb24oZSxuKXt2YXIgaSxyO2lmKCFlKXJldHVybiBfLmRlYnVnKFwiW3VwZGF0ZUFkYXB0YXRpb25dIG5vIHJ0cFNlbmRlciBmb3VuZFwiKTtpZighZnQoKS5zdXBwb3J0U2V0UnRwU2VuZGVyUGFyYW1ldGVycylyZXR1cm4gXy5kZWJ1ZyhcIlt1cGRhdGVBZGFwdGF0aW9uXSBCcm93c2VyIG5vdCBzdXBwb3J0IHNldCBydHAtc2VuZGVyIHBhcmFtZXRlcnNcIik7bGV0IG89e30se2JpdHJhdGVNYXg6cyxmcmFtZVJhdGU6YSxzY2FsZVJlc29sdXRpb25Eb3duQnk6Y309bjtzJiYoby5tYXhCaXRyYXRlPTFlMypzKSxhJiYoby5tYXhGcmFtZXJhdGU9Tm4oYSkpLGMmJmM+PTEmJlcoaT1bXCJ2cDhcIixcInZwOVwiXSkuY2FsbChpLHRoaXMuc3RvcmUuY29kZWMpJiYoby5zY2FsZVJlc29sdXRpb25Eb3duQnk9Yyk7bGV0IGQ9ZS5nZXRQYXJhbWV0ZXJzKCksbD0ocj1kLmVuY29kaW5ncyk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyWzBdO2wmJk9iamVjdC5hc3NpZ24obCxvKSxPYmplY3QuYXNzaWduKGQse30pO3RyeXthd2FpdCBlLnNldFBhcmFtZXRlcnMoZCksXy5kZWJ1ZyhcIlt1cGRhdGVBZGFwdGF0aW9uXSB1cGRhdGVSdHBTZW5kZXJFbmNvZGluZ3M6IFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShkLmVuY29kaW5ncykpKTt9Y2F0Y2godSl7IShcInRyYW5zcG9ydFwiaW4gZSl8fGUudHJhbnNwb3J0JiZlLnRyYW5zcG9ydC5zdGF0ZT09PVwiY29ubmVjdGVkXCI/dGhpcy5wZWVyQ29ubmVjdGlvblN0YXRlIT09XCJjb25uZWN0ZWRcIj9fLmRlYnVnKFwiW3VwZGF0ZUFkYXB0YXRpb25dIHBlZXJDb25uZWN0aW9uIG5vdCBjb25uZWN0ZWR9XCIpOl8uZGVidWcoXCJbdXBkYXRlQWRhcHRhdGlvbl0gdXBkYXRlUnRwU2VuZGVyRW5jb2RpbmdzIGZhaWxlZFwiLHUpOl8uZGVidWcoXCJbdXBkYXRlQWRhcHRhdGlvbl0gcnRwU2VuZGVyIHRyYW5zcG9ydCBub3QgY29ubmVjdGVkfVwiKTt9fWFzeW5jIGFwcGx5U2VuZEVuY29kaW5ncyhlLG4pe3RyeXtpZighZnQoKS5zdXBwb3J0U2V0UnRwU2VuZGVyUGFyYW1ldGVyc3x8ZS5sZW5ndGghPT1uLmxlbmd0aClyZXR1cm47Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspe2xldCByPWVbaV0sbz1uW2ldO28gaW5zdGFuY2VvZiBGdCYmIXRoaXMuaXNWUDhTaW11bGNhc3QobykmJmF3YWl0IHRoaXMudXBkYXRlUnRwU2VuZGVyRW5jb2RpbmdzKG8sci5zZW5kZXIpO319Y2F0Y2h7Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gQXBwbHkgUlRQU2VuZEVuY29kaW5ncyBmYWlsZWQuXCIpKTt9fW11bmdTZW5kT2ZmZXJTRFAoZSxuLGkpe2xldCByPUxlLnBhcnNlKGUpO3JldHVybiBuLmZvckVhY2goKG8scyk9PntsZXQgYT1pW3NdLGM9ci5tZWRpYURlc2NyaXB0aW9ucy5maW5kKGQ9PmQuYXR0cmlidXRlcy5taWQ9PT1hKTtjJiYocmEoYyxvKSxvMChjLG8sdGhpcy5zdG9yZS5jb2RlYykpO30pLExlLnByaW50KHIpfWJpbmRTdGF0c0V2ZW50cygpe3RoaXMuc3RhdHNGaWx0ZXIub25GaXJzdEF1ZGlvUmVjZWl2ZWQ9ZT0+e3ZhciBuOyhuPXRoaXMub25GaXJzdEF1ZGlvUmVjZWl2ZWQpPT09bnVsbHx8bj09PXZvaWQgMHx8bi5jYWxsKHRoaXMsZSk7fSx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb1JlY2VpdmVkPWU9Pnt2YXIgbjsobj10aGlzLm9uRmlyc3RWaWRlb1JlY2VpdmVkKT09PW51bGx8fG49PT12b2lkIDB8fG4uY2FsbCh0aGlzLGUpO30sdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0QXVkaW9EZWNvZGVkPWU9Pnt2YXIgbjsobj10aGlzLm9uRmlyc3RBdWRpb0RlY29kZWQpPT09bnVsbHx8bj09PXZvaWQgMHx8bi5jYWxsKHRoaXMsZSk7fSx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb0RlY29kZWQ9KGUsbixpKT0+e3ZhciByOyhyPXRoaXMub25GaXJzdFZpZGVvRGVjb2RlZCk9PT1udWxsfHxyPT09dm9pZCAwfHxyLmNhbGwodGhpcyxlLG4saSk7fSx0aGlzLnN0YXRzRmlsdGVyLm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQ9KGUsbik9Pnt2YXIgaTsoaT10aGlzLm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQpPT09bnVsbHx8aT09PXZvaWQgMHx8aS5jYWxsKHRoaXMsZSxuKTt9LHRoaXMuc3RhdHNGaWx0ZXIub25TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQ9KGUsbik9Pnt2YXIgaTsoaT10aGlzLm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkKT09PW51bGx8fGk9PT12b2lkIDB8fGkuY2FsbCh0aGlzLGUsbik7fSx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0PWU9Pnt2YXIgbjsobj10aGlzLm9uRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0KT09PW51bGx8fG49PT12b2lkIDB8fG4uY2FsbCh0aGlzLGUpO307fXVuYmluZFN0YXRzRXZlbnRzKCl7dGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0QXVkaW9SZWNlaXZlZD12b2lkIDAsdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0VmlkZW9SZWNlaXZlZD12b2lkIDAsdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0QXVkaW9EZWNvZGVkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb0RlY29kZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZD12b2lkIDAsdGhpcy5zdGF0c0ZpbHRlci5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZD12b2lkIDAsdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0VmlkZW9EZWNvZGVkVGltZW91dD12b2lkIDA7fWFzeW5jIGFwcGx5U2ltdWxjYXN0Rm9yRmlyZWZveChlLG4pe2lmKGUubGVuZ3RoPT09bi5sZW5ndGgpZm9yKGxldCBjPTA7YzxlLmxlbmd0aDtjKyspe3ZhciBpLHIsbyxzLGE7bGV0IGQ9ZVtjXSxsPW5bY107aWYobCBpbnN0YW5jZW9mIEZ0JiYhVyhpPWwuX2hpbnRzKS5jYWxsKGksR3QuTE9XX1NUUkVBTSkmJihyPWwuX2VuY29kZXJDb25maWcpIT09bnVsbCYmciE9PXZvaWQgMCYmci5iaXRyYXRlTWF4JiYoKG89bC5fZW5jb2RlckNvbmZpZyk9PT1udWxsfHxvPT09dm9pZCAwP3ZvaWQgMDpvLmJpdHJhdGVNYXgpPjIwMCYmKHM9bC5fc2NhbGFiaWxpdHlNb2RlKSE9PW51bGwmJnMhPT12b2lkIDAmJnMubnVtU3BhdGlhbExheWVycyYmKChhPWwuX3NjYWxhYmlsaXR5TW9kZSk9PT1udWxsfHxhPT09dm9pZCAwP3ZvaWQgMDphLm51bVNwYXRpYWxMYXllcnMpPjEmJnRoaXMuc3RvcmUuY29kZWM9PT1cInZwOFwiKXtsZXQgdT17fSxoPXtoaWdoOjFlMyoobC5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWF4LTUwKSxtZWRpdW06NWU0fTt1LmVuY29kaW5ncz1be3JpZDpcIm1cIixhY3RpdmU6ITAsbWF4Qml0cmF0ZTpoLm1lZGl1bSxzY2FsZVJlc29sdXRpb25Eb3duQnk6NH0se3JpZDpcImhcIixhY3RpdmU6ITAsbWF4Qml0cmF0ZTpoLmhpZ2h9XTtsZXQgcD1kLnNlbmRlci5nZXRQYXJhbWV0ZXJzKCk7YXdhaXQgZC5zZW5kZXIuc2V0UGFyYW1ldGVycyhPYmplY3QuYXNzaWduKHAsdSkpO319fWFzeW5jIGFwcGx5U2ltdWxjYXN0RW5jb2RpbmdzKGUsbil7aWYoISR0KCkmJmUubGVuZ3RoPT09bi5sZW5ndGgpZm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspe2xldCByPW5baV07aWYociBpbnN0YW5jZW9mIEZ0JiZ0aGlzLmlzVlA4U2ltdWxjYXN0KHIpKXtsZXQgbz1lW2ldLHM9e30sYT17aGlnaDoxZTMqKHIuX2VuY29kZXJDb25maWcuYml0cmF0ZU1heC01MCksbWVkaXVtOjVlNH07cy5lbmNvZGluZ3M9W3thY3RpdmU6ITAsYWRhcHRpdmVQdGltZTohMSxuZXR3b3JrUHJpb3JpdHk6XCJoaWdoXCIscHJpb3JpdHk6XCJoaWdoXCIsbWF4Qml0cmF0ZTphLmhpZ2h9LHthY3RpdmU6ITAsYWRhcHRpdmVQdGltZTohMSxuZXR3b3JrUHJpb3JpdHk6XCJsb3dcIixwcmlvcml0eTpcImxvd1wiLG1heEJpdHJhdGU6YS5tZWRpdW0sc2NhbGVSZXNvbHV0aW9uRG93bkJ5OjR9XTtsZXQgYz1vLnNlbmRlci5nZXRQYXJhbWV0ZXJzKCk7YXdhaXQgby5zZW5kZXIuc2V0UGFyYW1ldGVycyhPYmplY3QuYXNzaWduKGMscykpO319fWlzVlA4U2ltdWxjYXN0KGUpe3ZhciBuLGkscixvLHM7cmV0dXJuICEhKGUgaW5zdGFuY2VvZiBGdCYmdihcIlNJTVVMQ0FTVFwiKSYmdGhpcy5zdG9yZS5jb2RlYz09PVwidnA4XCImJiFXKG49ZS5faGludHMpLmNhbGwobixHdC5MT1dfU1RSRUFNKSYmKGk9ZS5fZW5jb2RlckNvbmZpZykhPT1udWxsJiZpIT09dm9pZCAwJiZpLmJpdHJhdGVNYXgmJigocj1lLl9lbmNvZGVyQ29uZmlnKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnIuYml0cmF0ZU1heCk+MjAwJiYobz1lLl9zY2FsYWJpbGl0eU1vZGUpIT09bnVsbCYmbyE9PXZvaWQgMCYmby5udW1TcGF0aWFsTGF5ZXJzJiYoKHM9ZS5fc2NhbGFiaWxpdHlNb2RlKT09PW51bGx8fHM9PT12b2lkIDA/dm9pZCAwOnMubnVtU3BhdGlhbExheWVycyk+MSl9bG9nU0RQRXhjaGFuZ2UoZSxuLGkscil7aWYodihcIlNEUF9MT0dHSU5HXCIpKXJldHVybiBfLnVwbG9hZChcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gZXhjaGFuZ2luZyBcIikuY29uY2F0KGksXCIgXCIpLmNvbmNhdChuLFwiIFNEUCBkdXJpbmcgUDJQQ29ubmVjdGlvbi5cIikuY29uY2F0KHIsYFxuYCksZSksbj09PVwib2ZmZXJcIj9vPT57dGhpcy5sb2dTRFBFeGNoYW5nZShvLFwiYW5zd2VyXCIsaT09PVwibG9jYWxcIj9cInJlbW90ZVwiOlwibG9jYWxcIixyKTt9OnZvaWQgMH1hc3luYyBnZXRSZW1vdGVTU1JDKGUpe2lmKCF0aGlzLnJlbW90ZVNEUClyZXR1cm47bGV0IG49dGhpcy5yZW1vdGVTRFAuZ2V0U1NSQyhlKTtyZXR1cm4gbiYmbi5sZW5ndGghPT0wP25bMF0uc3NyY0lkOnZvaWQgMH1zZXRDb25maWd1cmF0aW9uKGUpe2lmKGZ0KCkuc3VwcG9ydFBDU2V0Q29uZmlndXJhdGlvbil7bGV0IG49UWEucmVzb2x2ZVBDQ29uZmlndXJhdGlvbihlKTt0aGlzLnBlZXJDb25uZWN0aW9uLnNldENvbmZpZ3VyYXRpb24obik7fX19LHEocHQucHJvdG90eXBlLFwidXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzXCIsW3BuXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHB0LnByb3RvdHlwZSxcInVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllc1wiKSxwdC5wcm90b3R5cGUpLHEocHQucHJvdG90eXBlLFwiY29ubmVjdFwiLFtwbl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwdC5wcm90b3R5cGUsXCJjb25uZWN0XCIpLHB0LnByb3RvdHlwZSkscShwdC5wcm90b3R5cGUsXCJ1cGRhdGVSZW1vdGVDb25uZWN0XCIsW3BuXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHB0LnByb3RvdHlwZSxcInVwZGF0ZVJlbW90ZUNvbm5lY3RcIikscHQucHJvdG90eXBlKSxxKHB0LnByb3RvdHlwZSxcImNyZWF0ZURhdGFDaGFubmVsc1wiLFtwbl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwdC5wcm90b3R5cGUsXCJjcmVhdGVEYXRhQ2hhbm5lbHNcIikscHQucHJvdG90eXBlKSxxKHB0LnByb3RvdHlwZSxcInJlY2VpdmVcIixbcG5dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocHQucHJvdG90eXBlLFwicmVjZWl2ZVwiKSxwdC5wcm90b3R5cGUpLHEocHQucHJvdG90eXBlLFwiYmF0Y2hSZWNlaXZlXCIsW3BuXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHB0LnByb3RvdHlwZSxcImJhdGNoUmVjZWl2ZVwiKSxwdC5wcm90b3R5cGUpLHEocHQucHJvdG90eXBlLFwic3RvcFJlY2VpdmluZ1wiLFtwbl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwdC5wcm90b3R5cGUsXCJzdG9wUmVjZWl2aW5nXCIpLHB0LnByb3RvdHlwZSkscShwdC5wcm90b3R5cGUsXCJtdXRlUmVtb3RlXCIsW3BuXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHB0LnByb3RvdHlwZSxcIm11dGVSZW1vdGVcIikscHQucHJvdG90eXBlKSxxKHB0LnByb3RvdHlwZSxcInVubXV0ZVJlbW90ZVwiLFtwbl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwdC5wcm90b3R5cGUsXCJ1bm11dGVSZW1vdGVcIikscHQucHJvdG90eXBlKSxxKHB0LnByb3RvdHlwZSxcIm11dGVMb2NhbFwiLFtwbl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwdC5wcm90b3R5cGUsXCJtdXRlTG9jYWxcIikscHQucHJvdG90eXBlKSxxKHB0LnByb3RvdHlwZSxcInVubXV0ZUxvY2FsXCIsW3BuXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHB0LnByb3RvdHlwZSxcInVubXV0ZUxvY2FsXCIpLHB0LnByb3RvdHlwZSkscShwdC5wcm90b3R5cGUsXCJjbG9zZVwiLFtwbl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwdC5wcm90b3R5cGUsXCJjbG9zZVwiKSxwdC5wcm90b3R5cGUpLHEocHQucHJvdG90eXBlLFwidXBkYXRlRW5jb2RlckNvbmZpZ1wiLFtwbl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwdC5wcm90b3R5cGUsXCJ1cGRhdGVFbmNvZGVyQ29uZmlnXCIpLHB0LnByb3RvdHlwZSkscShwdC5wcm90b3R5cGUsXCJ1cGRhdGVTZW5kUGFyYW1ldGVyc1wiLFtwbl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwdC5wcm90b3R5cGUsXCJ1cGRhdGVTZW5kUGFyYW1ldGVyc1wiKSxwdC5wcm90b3R5cGUpLHEocHQucHJvdG90eXBlLFwicmVwbGFjZVRyYWNrXCIsW3BuXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHB0LnByb3RvdHlwZSxcInJlcGxhY2VUcmFja1wiKSxwdC5wcm90b3R5cGUpLHEocHQucHJvdG90eXBlLFwidXBkYXRlQWRhcHRhdGlvblwiLFtwbl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwdC5wcm90b3R5cGUsXCJ1cGRhdGVBZGFwdGF0aW9uXCIpLHB0LnByb3RvdHlwZSkscShwdC5wcm90b3R5cGUsXCJnZXRSZW1vdGVTU1JDXCIsW3BuXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHB0LnByb3RvdHlwZSxcImdldFJlbW90ZVNTUkNcIikscHQucHJvdG90eXBlKSxwdCk7ZnVuY3Rpb24gcG4odCxlLG4pe2xldCBpPXRbZV07aWYodHlwZW9mIGkhPVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgdXNlIG11dGV4IG9uIG9iamVjdCBwcm9wZXJ0eS5cIik7cmV0dXJuIG4udmFsdWU9YXN5bmMgZnVuY3Rpb24oKXtsZXQgcj10aGlzLm11dGV4LG89YXdhaXQgci5sb2NrKFwiRnJvbSBQMlBDb25uZWN0aW9uLlwiLmNvbmNhdChlKSk7dHJ5e2Zvcih2YXIgcz1hcmd1bWVudHMubGVuZ3RoLGE9bmV3IEFycmF5KHMpLGM9MDtjPHM7YysrKWFbY109YXJndW1lbnRzW2NdO3JldHVybiBhd2FpdCBpLmFwcGx5KHRoaXMsYSl9ZmluYWxseXtvKCk7fX0sbn12YXIgYXQ7ZnVuY3Rpb24gV3YodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihpPWkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscikuZW51bWVyYWJsZX0pKSxuLnB1c2guYXBwbHkobixpKTt9cmV0dXJuIG59ZnVuY3Rpb24gWmkodCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdIT1udWxsP2FyZ3VtZW50c1tlXTp7fTtlJTI/V3YoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe1QodCxpLG5baV0pO30pOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOld2KE9iamVjdChuKSkuZm9yRWFjaChmdW5jdGlvbihpKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxpLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixpKSk7fSk7fXJldHVybiB0fWZ1bmN0aW9uIEh2KHQpe3ZhciBlLG4saSxyPTI7Zm9yKHR5cGVvZiBTeW1ib2w8XCJ1XCImJihuPWhXLGk9U3ltYm9sLml0ZXJhdG9yKTtyLS07KXtpZihuJiYoZT10W25dKSE9bnVsbClyZXR1cm4gZS5jYWxsKHQpO2lmKGkmJihlPXRbaV0pIT1udWxsKXJldHVybiBuZXcgYmwoZS5jYWxsKHQpKTtuPVwiQEBhc3luY0l0ZXJhdG9yXCIsaT1cIkBAaXRlcmF0b3JcIjt9dGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBpcyBub3QgYXN5bmMgaXRlcmFibGVcIil9ZnVuY3Rpb24gYmwodCl7ZnVuY3Rpb24gZShuKXtpZihPYmplY3QobikhPT1uKXJldHVybiBqLnJlamVjdChuZXcgVHlwZUVycm9yKG4rXCIgaXMgbm90IGFuIG9iamVjdC5cIikpO3ZhciBpPW4uZG9uZTtyZXR1cm4gai5yZXNvbHZlKG4udmFsdWUpLnRoZW4oZnVuY3Rpb24ocil7cmV0dXJuIHt2YWx1ZTpyLGRvbmU6aX19KX1yZXR1cm4gYmw9ZnVuY3Rpb24obil7dGhpcy5zPW4sdGhpcy5uPW4ubmV4dDt9LGJsLnByb3RvdHlwZT17czpudWxsLG46bnVsbCxuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcy5uLmFwcGx5KHRoaXMucyxhcmd1bWVudHMpKX0scmV0dXJuOmZ1bmN0aW9uKG4pe3ZhciBpPXRoaXMucy5yZXR1cm47cmV0dXJuIGk9PT12b2lkIDA/ai5yZXNvbHZlKHt2YWx1ZTpuLGRvbmU6ITB9KTplKGkuYXBwbHkodGhpcy5zLGFyZ3VtZW50cykpfSx0aHJvdzpmdW5jdGlvbihuKXt2YXIgaT10aGlzLnMucmV0dXJuO3JldHVybiBpPT09dm9pZCAwP2oucmVqZWN0KG4pOmUoaS5hcHBseSh0aGlzLnMsYXJndW1lbnRzKSl9fSxuZXcgYmwodCl9dmFyIEpkPShhdD1jbGFzcyBleHRlbmRzIFh0e2dldCBzdGF0ZSgpe3JldHVybiB0aGlzLl9zdGF0ZX1zZXQgc3RhdGUodCl7bGV0IGU9dGhpcy5fc3RhdGU7dGhpcy5fc3RhdGU9dCx0aGlzLmVtaXQodHQuU3RhdGVDaGFuZ2UsZSx0aGlzLl9zdGF0ZSk7fWNvbnN0cnVjdG9yKHQsZSl7c3VwZXIoKSxUKHRoaXMsXCJpc1BsYW5CXCIsdm9pZCAwKSxUKHRoaXMsXCJzdG9yZVwiLHZvaWQgMCksVCh0aGlzLFwic3RhdHNVcGxvYWRlclwiLHZvaWQgMCksVCh0aGlzLFwiY29ubmVjdGlvblwiLHZvaWQgMCksVCh0aGlzLFwibG9jYWxUcmFja01hcFwiLG5ldyBNYXApLFQodGhpcyxcInJlbW90ZVVzZXJNYXBcIixuZXcgTWFwKSxUKHRoaXMsXCJsb2NhbERhdGFDaGFubmVsc1wiLFtdKSxUKHRoaXMsXCJyZW1vdGVEYXRhQ2hhbm5lbE1hcFwiLG5ldyBNYXApLFQodGhpcyxcInBlbmRpbmdMb2NhbFRyYWNrc1wiLFtdKSxUKHRoaXMsXCJwZW5kaW5nUmVtb3RlVHJhY2tzXCIsW10pLFQodGhpcyxcInBlbmRpbmdMb2NhbERhdGFDaGFubmVsc1wiLFtdKSxUKHRoaXMsXCJwZW5kaW5nUmVtb3RlRGF0YUNoYW5uZWxzXCIsW10pLFQodGhpcyxcInN0YXRzQ29sbGVjdG9yXCIsdm9pZCAwKSxUKHRoaXMsXCJzaG91bGRGb3J3YXJkUDJQQ3JlYXRpb25cIix2b2lkIDApLFQodGhpcyxcImljZUZhaWxlZENvdW50XCIsMCksVCh0aGlzLFwiZHRsc0ZhaWxlZENvdW50XCIsMCksVCh0aGlzLFwibXV0ZXhcIixuZXcgemUoXCJQMlBDaGFubmVsLW11dGV4XCIpKSxUKHRoaXMsXCJfc3RhdGVcIixSdC5EaXNjb25uZWN0ZWQpLFQodGhpcyxcIl9wY1N0YXRzVXBsb2FkVHlwZVwiLHYoXCJORVdfSUNFX1JFU1RBUlRcIik/VHIuRklSU1RfQ09OTkVDVElPTjpUci5PTERfRklSU1RfQ09OTkVDVElPTiksVCh0aGlzLFwiX2lzSW5SZXN0YXJ0SWNlXCIsITEpLFQodGhpcyxcIl9pc1N0YXJ0UmVzdGFydEljZVwiLCExKSxUKHRoaXMsXCJfcmVzdGFydFN0YXRlc1wiLFtcImRpc2Nvbm5lY3RlZFwiLFwiZmFpbGVkXCJdKSxUKHRoaXMsXCJfcmVzdGFydFRpbWVyXCIsdm9pZCAwKSxUKHRoaXMsXCJfaXNGaXJzdENvbm5lY3RlZFwiLCEwKSxUKHRoaXMsXCJoYW5kbGVNdXRlTG9jYWxUcmFja1wiLGFzeW5jKG4saSxyKT0+e2xldCBvPWF3YWl0IHRoaXMubXV0ZXgubG9jayhcIkxvY2tpbmcgZnJvbSBQMlBDaGFubmVsLmhhbmRsZU11dGVMb2NhbFRyYWNrXCIpO3RyeXtpZighdGhpcy5jb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09UnQuQ29ubmVjdGVkKXJldHVybiB2b2lkIHIobmV3IE4oUi5JTlZBTElEX09QRVJBVElPTixcIkNhbm5vdCBjYWxsIFAyUENoYW5uZWwuaGFuZGxlTXV0ZUxvY2FsVHJhY2sgYmVmb3JlIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQuXCIpKTtsZXQgcz10aGlzLmZpbHRlclRvYmVNdXRlZFRyYWNrcyhuKTtpZihzLmxlbmd0aD09PTApcmV0dXJuIHZvaWQgaSgpO2xldCBhPXMuZmluZChkPT5kWzBdPT09XCJ2aWRlb0xvd1RyYWNrXCIpO2EmJmFbMV0udHJhY2suX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suc3RvcCgpLGF3YWl0IHRoaXMuY29ubmVjdGlvbi5tdXRlTG9jYWwocy5tYXAoZD0+e2xldFsse2lkOmx9XT1kO3JldHVybiBsfSkpO2xldCBjPXRoaXMuY3JlYXRlTXV0ZU1lc3NhZ2Uocyk7YXdhaXQga3QodGhpcyx0dC5SZXF1ZXN0TXV0ZUxvY2FsLGMpLGkoKTt9Y2F0Y2gocyl7cihzKTt9ZmluYWxseXtvKCk7fX0pLFQodGhpcyxcImhhbmRsZVVubXV0ZUxvY2FsVHJhY2tcIixhc3luYyhuLGkscik9PntsZXQgbz1hd2FpdCB0aGlzLm11dGV4LmxvY2soXCJMb2NraW5nIGZyb20gUDJQQ2hhbm5lbC5oYW5kbGVVbm11dGVMb2NhbFRyYWNrXCIpO3RyeXtpZighdGhpcy5jb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09UnQuQ29ubmVjdGVkKXJldHVybiB2b2lkIHIobmV3IE4oUi5JTlZBTElEX09QRVJBVElPTixcIkNhbm5vdCBjYWxsIFAyUENoYW5uZWwuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayBiZWZvcmUgY29ubmVjdGlvbiBlc3RhYmxpc2hlZC5cIikpO2xldCBzPXRoaXMuZmlsdGVyVG9iZVVubXV0ZWRUcmFja3Mobik7aWYocy5sZW5ndGg9PT0wKXJldHVybiB2b2lkIGkoKTtsZXQgYT1zLmZpbmQoZD0+ZFswXT09PVwidmlkZW9Mb3dUcmFja1wiKTtpZihhKXtsZXQgZD1hWzFdO2lmKGQudHJhY2suX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suc3RvcCgpLCF2KFwiRElTQUJMRV9EVUFMX1NUUkVBTV9VU0VfRU5DT0RJTkdcIikmJmZ0KCkuc3VwcG9ydER1YWxTdHJlYW1FbmNvZGluZyl7bGV0IGw9bi5fbWVkaWFTdHJlYW1UcmFjay5jbG9uZSgpO2QudHJhY2suX21lZGlhU3RyZWFtVHJhY2s9bCxkLnRyYWNrLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrPWw7fWVsc2Uge2xldCBsPWRtKG4sQWModGhpcyx0dC5SZXF1ZXN0TG93U3RyZWFtUGFyYW1ldGVyKSk7ZC50cmFjay5fbWVkaWFTdHJlYW1UcmFjaz1sLGQudHJhY2suX29yaWdpbk1lZGlhU3RyZWFtVHJhY2s9bDt9YXdhaXQgbmV3IGooKGwsdSk9Pnt0aGlzLmhhbmRsZVJlcGxhY2VUcmFjayhkLnRyYWNrLGwsdSwhMCk7fSk7fWF3YWl0IHRoaXMuY29ubmVjdGlvbi51bm11dGVMb2NhbChzLm1hcChkPT57bGV0Wyx7aWQ6bH1dPWQ7cmV0dXJuIGx9KSk7bGV0IGM9dGhpcy5jcmVhdGVVbm11dGVNZXNzYWdlKHMpO2F3YWl0IGt0KHRoaXMsdHQuUmVxdWVzdFVubXV0ZUxvY2FsLGMpLGkoKTt9Y2F0Y2gocyl7cihzKTt9ZmluYWxseXtvKCk7fX0pLFQodGhpcyxcImhhbmRsZVVwZGF0ZVZpZGVvRW5jb2RlclwiLGFzeW5jKG4saSxyKT0+e2xldCBvPWF3YWl0IHRoaXMubXV0ZXgubG9jayhcIkxvY2tpbmcgZnJvbSBQMlBDaGFubmVsLmhhbmRsZVNldFZpZGVvRW5jb2RlclwiKTt0cnl7bGV0IHM9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChVLkxvY2FsVmlkZW9UcmFjayk7aWYoIXRoaXMuY29ubmVjdGlvbnx8IXN8fHMudHJhY2shPT1ufHx0aGlzLnN0YXRlIT09UnQuQ29ubmVjdGVkKXJldHVybiB2b2lkIGkoKTtsZXR7aWQ6YSx0cmFjazpjfT1zO2F3YWl0IHRoaXMuY29ubmVjdGlvbi51cGRhdGVTZW5kUGFyYW1ldGVycyhhLGMpLGF3YWl0IHRoaXMuY29ubmVjdGlvbi51cGRhdGVFbmNvZGVyQ29uZmlnKGEsYyksdGhpcy5lbWl0KHR0LlVwZGF0ZVZpZGVvRW5jb2RlcixjKSxpKCk7fWNhdGNoKHMpe3Iocyk7fWZpbmFsbHl7bygpO319KSxUKHRoaXMsXCJoYW5kbGVVcGRhdGVWaWRlb1NlbmRQYXJhbWV0ZXJzXCIsYXN5bmMobixpLHIpPT57bGV0IG89YXdhaXQgdGhpcy5tdXRleC5sb2NrKFwiTG9ja2luZyBmcm9tIFAyUENoYW5uZWwuaGFuZGxlVXBkYXRlVmlkZW9TZW5kUGFyYW1ldGVyc1wiKTt0cnl7bGV0IHM9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChVLkxvY2FsVmlkZW9UcmFjayk7aWYoIXRoaXMuY29ubmVjdGlvbnx8IXN8fHMudHJhY2shPT1ufHx0aGlzLnN0YXRlIT09UnQuQ29ubmVjdGVkKXJldHVybiB2b2lkIGkoKTtsZXR7aWQ6YSx0cmFjazpjfT1zO2F3YWl0IHRoaXMuY29ubmVjdGlvbi51cGRhdGVTZW5kUGFyYW1ldGVycyhhLGMpLGkoKTt9Y2F0Y2gocyl7cihzKTt9ZmluYWxseXtvKCk7fX0pLFQodGhpcyxcImhhbmRsZVJlcGxhY2VNaXhpbmdUcmFja1wiLGFzeW5jKG4saSxyLG8pPT57aWYoIXRoaXMuY29ubmVjdGlvbnx8dGhpcy5zdGF0ZSE9PVJ0LkNvbm5lY3RlZClyZXR1cm4gdm9pZCBpKCk7bGV0IHM9RV8oW25dKSxhO18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwMnBJZDogXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXTogUDJQQ29ubmVjdGlvbiB3aWxsIHJlcGxhY2UgYXVkaW9UcmFjayBbXCIpLmNvbmNhdChzLmdldFRyYWNrSWQoKSxcIl1cIikpLHR5cGVvZiBvPT1cImJvb2xlYW5cIiYmb3x8KGE9YXdhaXQgdGhpcy5tdXRleC5sb2NrKFwiRnJvbSBQMlBDaGFubmVsLmhhbmRsZVJlcGxhY2VNaXhpbmdUcmFja1wiKSk7dHJ5e2F3YWl0IHRoaXMucmVwbGFjZVRyYWNrKG4scyksaSgpO31jYXRjaChkKXtyKGQpO31maW5hbGx5e3ZhciBjOyhjPWEpPT09bnVsbHx8Yz09PXZvaWQgMHx8YygpO319KSxUKHRoaXMsXCJoYW5kbGVSZXBsYWNlVHJhY2tcIixhc3luYyhuLGkscixvKT0+e2xldCBzO18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwgaGFuZGxlUmVwbGFjZVRyYWNrIGZvciBbdHJhY2staWQtXCIpLmNvbmNhdChuLmdldFRyYWNrSWQoKSxcIl1cIikpLHR5cGVvZiBvPT1cImJvb2xlYW5cIiYmb3x8KHM9YXdhaXQgdGhpcy5tdXRleC5sb2NrKFwiRnJvbSBQMlBDaGFubmVsLmhhbmRsZVJlcGxhY2VUcmFja1wiKSk7dHJ5e3ZhciBhO2xldCBkPUFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZmluZChsPT57bGV0Wyx7dHJhY2s6dX1dPWw7cmV0dXJuIG49PT11fSk7aWYoIXRoaXMuY29ubmVjdGlvbnx8IWR8fHRoaXMuc3RhdGUhPT1SdC5Db25uZWN0ZWQpcmV0dXJuIHZvaWQgaSgpO2lmKGF3YWl0KChhPXRoaXMuY29ubmVjdGlvbik9PT1udWxsfHxhPT09dm9pZCAwP3ZvaWQgMDphLnJlcGxhY2VUcmFjayhuLGRbMV0uaWQpKSx0aGlzLmlzUGxhbkIpe2xldCBsPWRbMV07bC5pZD1uLl9tZWRpYVN0cmVhbVRyYWNrLmlkLHRoaXMubG9jYWxUcmFja01hcC5zZXQoZFswXSxsKTt9aWYoZFswXT09PVUuTG9jYWxWaWRlb1RyYWNrJiYhdihcIkRJU0FCTEVfRFVBTF9TVFJFQU1fVVNFX0VOQ09ESU5HXCIpJiZmdCgpLnN1cHBvcnREdWFsU3RyZWFtRW5jb2Rpbmcpe2xldCBsPXRoaXMubG9jYWxUcmFja01hcC5nZXQoVS5Mb2NhbFZpZGVvTG93VHJhY2spO2lmKGwpe2xldCB1PW4uX21lZGlhU3RyZWFtVHJhY2suY2xvbmUoKTtsLnRyYWNrLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLnN0b3AoKSxsLnRyYWNrLl9tZWRpYVN0cmVhbVRyYWNrPXUsbC50cmFjay5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjaz11LGF3YWl0IG5ldyBqKChoLHApPT57dGhpcy5oYW5kbGVSZXBsYWNlVHJhY2sobC50cmFjayxoLHAsITApO30pO319aSgpO31jYXRjaChkKXtyKGQpO31maW5hbGx5e3ZhciBjOyhjPXMpPT09bnVsbHx8Yz09PXZvaWQgMHx8YygpO319KSxUKHRoaXMsXCJoYW5kbGVHZXRSVENTdGF0c1wiLG49PntuKHRoaXMuc3RhdHNDb2xsZWN0b3IuZ2V0UlRDU3RhdHMoKSk7fSksVCh0aGlzLFwiaGFuZGxlR2V0TG9jYWxWaWRlb1N0YXRzXCIsbj0+e24odGhpcy5zdGF0c0NvbGxlY3Rvci5nZXRMb2NhbFZpZGVvVHJhY2tTdGF0cygpKTt9KSxUKHRoaXMsXCJoYW5kbGVHZXRMb2NhbEF1ZGlvU3RhdHNcIixuPT57bih0aGlzLnN0YXRzQ29sbGVjdG9yLmdldExvY2FsQXVkaW9UcmFja1N0YXRzKCkpO30pLFQodGhpcyxcImhhbmRsZUdldFJlbW90ZVZpZGVvU3RhdHNcIixuPT50aGlzLnN0YXRzQ29sbGVjdG9yLmdldFJlbW90ZVZpZGVvVHJhY2tTdGF0cyhuLnVpZClbbi51aWRdKSxUKHRoaXMsXCJoYW5kbGVHZXRSZW1vdGVBdWRpb1N0YXRzXCIsbj0+dGhpcy5zdGF0c0NvbGxlY3Rvci5nZXRSZW1vdGVBdWRpb1RyYWNrU3RhdHMobi51aWQpW24udWlkXSksdGhpcy5zdG9yZT10LHRoaXMuc3RhdHNDb2xsZWN0b3I9ZSx0aGlzLnN0YXRzQ29sbGVjdG9yLmFkZFAyUENoYW5uZWwodGhpcyksdGhpcy5zdGF0c1VwbG9hZGVyPW5ldyBwdSh0aGlzLnN0b3JlKSx0aGlzLmJpbmRTdGF0c1VwbG9hZGVyRXZlbnRzKCksdGhpcy5pc1BsYW5CPSFmdCgpLnN1cHBvcnRVbmlmaWVkUGxhbnx8dihcIkNIUk9NRV9GT1JDRV9QTEFOX0JcIikmJmhvKCksdGhpcy5zaG91bGRGb3J3YXJkUDJQQ3JlYXRpb249dihcIkZPUldBUkRfUDJQX0NSRUFUSU9OXCIpJiZmdCgpLnN1cHBvcnRQQ1NldENvbmZpZ3VyYXRpb24mJmxmKCksdGhpcy5zaG91bGRGb3J3YXJkUDJQQ3JlYXRpb24mJih0aGlzLmNvbm5lY3Rpb249dGhpcy5pc1BsYW5CP25ldyBWYSh7fSx0aGlzLnN0b3JlKTpuZXcga2koe30sdGhpcy5zdG9yZSksdGhpcy5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLmNvbm5lY3Rpb24pKTt9YXN5bmMgc3RhcnRQMlBDb25uZWN0aW9uKHQpe3ZhciBlO3RoaXMuc3RhdGU9UnQuTmV3O2xldCBuPXRoaXMuc2hvdWxkRm9yd2FyZFAyUENyZWF0aW9uJiYoKGU9dGhpcy5jb25uZWN0aW9uKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUucGVlckNvbm5lY3Rpb25TdGF0ZSk9PT1cImNsb3NlZFwiO2lmKHRoaXMuc2hvdWxkRm9yd2FyZFAyUENyZWF0aW9uJiYhbnx8KG4mJnRoaXMuY29ubmVjdGlvbiYmKF8ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ2hhbm5lbC5zdGFydFAyUENvbm5lY3Rpb24gRm9yd2FyZFAyUCBjbG9zZWQuXCIpKSx0aGlzLmNvbm5lY3Rpb24uY2xvc2UoKSx0aGlzLnVuYmluZENvbm5lY3Rpb25FdmVudHModGhpcy5jb25uZWN0aW9uKSksdGhpcy5jb25uZWN0aW9uPXRoaXMuaXNQbGFuQj9uZXcgVmEodCx0aGlzLnN0b3JlKTpuZXcga2kodCx0aGlzLnN0b3JlKSx0aGlzLmJpbmRDb25uZWN0aW9uRXZlbnRzKHRoaXMuY29ubmVjdGlvbikpLCF0aGlzLmNvbm5lY3Rpb24pdGhyb3cgbmV3IE4oUi5VTkVYUEVDVEVEX0VSUk9SLFwiQ2Fubm90IFAyUENoYW5uZWwuc3RhcnRDb25uZWN0aW9uIGJlZm9yZSBQMlBDb25uZWN0aW9uIGluaXRpYWxpemF0aW9uIC5cIik7cmV0dXJuIHRoaXMuX3BjU3RhdHNVcGxvYWRUeXBlPXYoXCJORVdfSUNFX1JFU1RBUlRcIik/VHIuRklSU1RfQ09OTkVDVElPTjpUci5PTERfRklSU1RfQ09OTkVDVElPTix0aGlzLl9pc0ZpcnN0Q29ubmVjdGVkPSEwLHRoaXMuX2lzSW5SZXN0YXJ0SWNlPSExLHRoaXMuX2lzU3RhcnRSZXN0YXJ0SWNlPSExLHRoaXMuY29ubmVjdGlvbi5zZXRDb25maWd1cmF0aW9uKHQpLHRoaXMuY29ubmVjdGlvbi5lc3RhYmxpc2hQcm9taXNlfWFzeW5jIGNvbm5lY3QodCl7aWYoIXRoaXMuY29ubmVjdGlvbil0aHJvdyBuZXcgTihSLlVORVhQRUNURURfRVJST1IsXCJDYW5ub3QgUDJQQ2hhbm5lbC5jb25uZWN0IGJlZm9yZSBQMlBDaGFubmVsLnN0YXJ0UDJQQ29ubmVjdGlvbiAuXCIpO3YoXCJFTkFCTEVfUFJFQUxMT0NfUENcIikmJnRoaXMuc3RhdGU9PT1SdC5Db25uZWN0ZWQ/YXdhaXQgdGhpcy5jb25uZWN0aW9uLnVwZGF0ZVJlbW90ZUNvbm5lY3QodCk6KHRoaXMuc3RvcmUucGVlckNvbm5lY3Rpb25TdGFydCgpLGF3YWl0IHRoaXMuY29ubmVjdGlvbi5jb25uZWN0KHQpLHRoaXMuc3RhdHNVcGxvYWRlci5zdGFydFVwbG9hZFRyYW5zcG9ydFN0YXRzKCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0YXJ0VXBsb2FkRXh0ZW5zaW9uVXNhZ2VTdGF0cygpLHRoaXMuc3RhdGU9UnQuQ29ubmVjdGVkKTt9dXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzKHQpe2xldCBlPUFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZmlsdGVyKHI9Pnt2YXIgbztsZXRbc109cjtyZXR1cm4gVyhvPVtVLkxvY2FsVmlkZW9Mb3dUcmFjayxVLkxvY2FsVmlkZW9UcmFja10pLmNhbGwobyxzKX0pLG49ZS5tYXAocj0+e2xldFsse2lkOm99XT1yO3JldHVybiBvfSksaT1lLm1hcChyPT57bGV0W29dPXI7cmV0dXJuIG99KTtpZih0aGlzLmNvbm5lY3Rpb24gaW5zdGFuY2VvZiBraSl7aWYoWC51cGRhdGVSZW1vdGVSVFBDYXBhYmlsaXRpZXModGhpcy5zdG9yZS5zZXNzaW9uSWQse3RyYWNrVHlwZXM6SlNPTi5zdHJpbmdpZnkoaSksbG9jYWxDb2RlY3M6SlNPTi5zdHJpbmdpZnkodGhpcy5jb25uZWN0aW9uLmxvY2FsQ29kZWNzKSxyZW1vdGVDb2RlY3M6SlNPTi5zdHJpbmdpZnkodCl9KSwhVyh0KS5jYWxsKHQsdGhpcy5zdG9yZS5jb2RlYykpe2xldCByPVtcInZwOVwiLFwidnA4XCIsXCJoMjY0XCJdLmZpbmQobz0+Vyh0KS5jYWxsKHQsbykpO3ImJih0aGlzLnN0b3JlLmNvZGVjPXIsXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1wiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIiB1cGRhdGVSZW1vdGVSVFBDYXBhYmlsaXRpZXNdIGRlZmF1bHQgY29kZWMgaXMgbm90IGF2YWlsYWJsZSwgaGVuY2UgdGhlIGZhbGxiYWNrIHRvIFwiKS5jb25jYXQocixcIi5cIikpKTt9dGhpcy5jb25uZWN0aW9uLnVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllcyhuLHQpO319YXN5bmMgZ2V0RXN0YWJsaXNoUGFyYW1zKCl7dmFyIHQ7aWYodGhpcy5jb25uZWN0aW9uIGluc3RhbmNlb2Yga2kmJnRoaXMuY29ubmVjdGlvbi5wZWVyQ29ubmVjdGlvblN0YXRlIT09XCJjbG9zZWRcIiYmVyh0PVtSdC5OZXcsUnQuQ29ubmVjdGVkXSkuY2FsbCh0LHRoaXMuc3RhdGUpKXJldHVybiB0aGlzLmNvbm5lY3Rpb24uZXN0YWJsaXNoUHJvbWlzZX1hc3luYyBwdWJsaXNoRGF0YUNoYW5uZWwodCl7aWYoIXRoaXMuY29ubmVjdGlvbnx8dGhpcy5zdGF0ZSE9PVJ0LkNvbm5lY3RlZCl7aWYodGhpcy5zdGF0ZT09PVJ0LkRpc2Nvbm5lY3RlZCl0aHJvdyBuZXcgTihSLlVORVhQRUNURURfRVJST1IsXCJQZWVyQ29ubmVjdGlvbiBhbHJlYWR5IGRpc2Nvbm5lY3RlZC5cIik7cmV0dXJuIHQuZm9yRWFjaChuPT57dmFyIGk7VyhpPXRoaXMucGVuZGluZ0xvY2FsRGF0YUNoYW5uZWxzKS5jYWxsKGksbil8fHRoaXMucGVuZGluZ0xvY2FsRGF0YUNoYW5uZWxzLnB1c2gobik7fSksW119bGV0IGU9dGhpcy5maWx0ZXJUb2JlUHVibGlzaGVkRGF0YUNoYW5uZWxzKHQpO3JldHVybiBlLmxlbmd0aD09PTA/W106KGUuZm9yRWFjaChuPT57bGV0IGk9RGF0ZS5ub3coKTt0aGlzLnN0b3JlLnB1Ymxpc2gobi5pZC50b1N0cmluZygpLFwiZGF0YWNoYW5uZWxcIixpKTt9KSxhd2FpdCB0aGlzLmNvbm5lY3Rpb24uY3JlYXRlRGF0YUNoYW5uZWxzKHRoaXMuc3RvcmUudWlkLGUpLGUuZm9yRWFjaChuPT57dGhpcy5sb2NhbERhdGFDaGFubmVscy5wdXNoKG4pO2xldCBpPURhdGUubm93KCk7dGhpcy5zdG9yZS5wdWJsaXNoKG4uaWQrXCJcIixcImRhdGFjaGFubmVsXCIsdm9pZCAwLGkpO30pLHQubWFwKG49Pih7c3RyZWFtSWQ6bi5pZCxvcmRlcmVkOm4ub3JkZXJlZCxtYXhSZXRyYW5zbWl0czpuLm1heFJldHJhbnNtaXRzLG1ldGFkYXRhOm4ubWV0YWRhdGEsY2hhbm5lbElkOm4uX29yaWdpbkRhdGFDaGFubmVsSWR9KSkpfXB1Ymxpc2godCxlLG4pe3ZhciBpPXRoaXM7cmV0dXJuIEJpKGZ1bmN0aW9uKigpe2xldCByPXlpZWxkIFR0KGkubXV0ZXgubG9jayhcIkZyb20gUDJQQ2hhbm5lbC5wdWJsaXNoXCIpKTt0cnl7aWYoIWkuY29ubmVjdGlvbnx8aS5zdGF0ZSE9PVJ0LkNvbm5lY3RlZCl7aWYoaS5zdGF0ZT09PVJ0LkRpc2Nvbm5lY3RlZCl0aHJvdyBuZXcgTihSLlVORVhQRUNURURfRVJST1IsXCJQZWVyQ29ubmVjdGlvbiBhbHJlYWR5IGRpc2Nvbm5lY3RlZC5cIik7aS50aHJvd0lmVHJhY2tUeXBlTm90TWF0Y2godCk7bGV0IHM9dC5maWx0ZXIoYT0+aS5wZW5kaW5nTG9jYWxUcmFja3MuaW5kZXhPZihhKT09PS0xKTtyZXR1cm4gdm9pZChpLnBlbmRpbmdMb2NhbFRyYWNrcz1pLnBlbmRpbmdMb2NhbFRyYWNrcy5jb25jYXQocykpfWkuc3RvcmUucHViSWQ9aS5zdG9yZS5wdWJJZCsxLHFlLm1hcmtQdWJsaXNoU3RhcnQoaS5zdG9yZS5jbGllbnRJZCxpLnN0b3JlLnB1YklkKTtsZXQgbz1pLmZpbHRlclRvYmVQdWJsaXNoZWRUcmFja3ModCxlLG4pO2lmKG8ubGVuZ3RoPT09MClyZXR1cm4gdm9pZCh5aWVsZCBUdChpLnRyeVRvVW5tdXRlQXVkaW8odCkpKTt5aWVsZCprdihIdihpLmRvUHVibGlzaChpLmNvbm5lY3Rpb24sbykpKTt9ZmluYWxseXtyKCk7fX0pKCl9ZG9QdWJsaXNoKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gQmkoZnVuY3Rpb24qKCl7ZS5mb3JFYWNoKHU9PntsZXR7dHJhY2s6aCx0eXBlOnB9PXUsZz1EYXRlLm5vdygpO24uc3RvcmUucHVibGlzaChoLmdldFRyYWNrSWQoKSxwPT09VS5Mb2NhbEF1ZGlvVHJhY2s/XCJhdWRpb1wiOlwidmlkZW9cIixnKTt9KSxuLmJpbmRMb2NhbFRyYWNrRXZlbnRzKGUpO2xldCBpPWUubWFwKHU9PntsZXR7dHJhY2s6aH09dTtyZXR1cm4gaH0pLHI9eWllbGQgVHQodC5zZW5kKGUubWFwKHU9PntsZXR7dHJhY2s6aH09dTtyZXR1cm4gaH0pLG4uc3RvcmUuY29kZWMsbi5zdG9yZS5hdWRpb0NvZGVjKSksbz0oeWllbGQgVHQoci5uZXh0KCkpKS52YWx1ZSxzPW4uY3JlYXRlR2F0ZXdheVB1Ymxpc2hNZXNzYWdlKGUsbyksYTt0cnl7YT15aWVsZCBzO31jYXRjaCh1KXt0aHJvdyByLnRocm93KHUpLHU/LmNvZGU9PT1SLldTX0FCT1JUJiZlLmZvckVhY2goaD0+e2xldHt0cmFjazpwfT1oO24ucGVuZGluZ0xvY2FsVHJhY2tzLmluZGV4T2YocCk9PT0tMSYmbi5wZW5kaW5nTG9jYWxUcmFja3MucHVzaChwKTt9KSxuLnVuYmluZExvY2FsVHJhY2tFdmVudHMoZSksdX1sZXQgYz1uLm1hcFB1YlJlc1RvUmVtb3RlQ29uZmlnKHMsYSksZD0oeWllbGQgVHQoci5uZXh0KGMpKSkudmFsdWUsbD12KFwiRU5BQkxFX1ZJREVPX1NFSVwiKTtpLmZvckVhY2goYXN5bmMgdT0+e2xldCBoPXUuZ2V0UlRDUnRwVHJhbnNjZWl2ZXIoKTtoJiZsJiYodS50cmFja01lZGlhVHlwZT09PVEuVklERU8/YXdhaXQgQkcoaC5zZW5kZXIsdSk6dS50cmFja01lZGlhVHlwZT09PVEuQVVESU8mJmF3YWl0IGFzeW5jIGZ1bmN0aW9uKHApe2lmKCFmdCgpLnN1cHBvcnRXZWJSVENFbmNvZGVkVHJhbnNmb3JtKXJldHVybiB2b2lkIF8ud2FybmluZyhcImJyb3dzZXIgbm90IHN1cHBvcnQgYXVkaW8gZW5jb2RlZCB0cmFuc2Zvcm1cIik7aWYoQmQuaGFzKHApfHwhcC50cmFjaylyZXR1cm47bGV0IGc9e3RyYWNrOnAudHJhY2t9O2lmKG9vKCkpe2lmKCFwLmNyZWF0ZUVuY29kZWRTdHJlYW1zKXJldHVybiB2b2lkIF8ud2FybmluZyhcImJyb3dzZXIgbm90IHN1cHBvcnQgY3JlYXRlRW5jb2RlZFN0cmVhbXMoKSBBUElcIik7bGV0IGY9bnVsbDt0cnl7Zj1wLmNyZWF0ZUVuY29kZWRTdHJlYW1zKCk7fWNhdGNoKEMpe3JldHVybiB2b2lkIF8uZXJyb3IoXCJjcmVhdGUgYXVkaW8tZW5jb2RlZC1zdHJlYW1zIGVycm9yXCIsQyYmQy5tZXNzYWdlKX1sZXQgUz1uZXcgVHJhbnNmb3JtU3RyZWFtKHt0cmFuc2Zvcm0oQyxBKXtnLmNvbnRyb2xsZXJ8fChnLmNvbnRyb2xsZXI9QSkscC50cmFjayYmcC50cmFjay5pZCE9PWcudHJhY2suaWQmJihfLmRlYnVnKFwiYXVkaW8gdHJhY2sgY2hhbmdlZDogXCIuY29uY2F0KGcudHJhY2suaWQsXCIgPT4gXCIpLmNvbmNhdChwLnRyYWNrLmlkKSksZy50cmFjay5yZW1vdmVFdmVudExpc3RlbmVyKFwiZW5kZWRcIixFKSxnLnRyYWNrPXAudHJhY2ssZy50cmFjay5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIixFKSksQS5lbnF1ZXVlKEMpO319KTtmLnJlYWRhYmxlLnBpcGVUaHJvdWdoKFMpLnBpcGVUbyhmLndyaXRhYmxlKTt9ZWxzZSBpZihqZSgpKXtpZih0eXBlb2YgUlRDUnRwU2NyaXB0VHJhbnNmb3JtPlwidVwiKXJldHVybiB2b2lkIF8ud2FybmluZyhcImJyb3dzZXIgbm90IHN1cHBvcnQgUlRDUnRwU2NyaXB0VHJhbnNmb3JtXCIpO2xldCBmPXZsKCksUz1uZXcgTWVzc2FnZUNoYW5uZWw7YXdhaXQgbmV3IGooQT0+Zi5vbm1lc3NhZ2U9Yj0+e2IuZGF0YT09PVwicmVnaXN0ZXJlZFwiJiZBKHZvaWQgMCk7fSk7bGV0IEM9bmV3IFJUQ1J0cFNjcmlwdFRyYW5zZm9ybShmLHtuYW1lOlwidHhcIixwb3J0OlMucG9ydDJ9LFtTLnBvcnQyXSk7cC50cmFuc2Zvcm09Qyxhd2FpdCBuZXcgaihBPT5mLm9ubWVzc2FnZT1iPT57Yi5kYXRhPT09XCJzdGFydGVkXCImJkEodm9pZCAwKTt9KSxTLnBvcnQxLm9ubWVzc2FnZT1BPT57dmFyIGI7QS5kYXRhLnRyYW5zZm9ybWVkJiZwLnRyYWNrJiYoKGI9cC50cmFjayk9PT1udWxsfHxiPT09dm9pZCAwP3ZvaWQgMDpiLmlkKSE9PWcudHJhY2suaWQmJihfLmRlYnVnKFwiYXVkaW8gdHJhY2sgY2hhbmdlZDogXCIuY29uY2F0KGcudHJhY2suaWQsXCIgPT4gXCIpLmNvbmNhdChwLnRyYWNrLmlkKSksZy50cmFjay5yZW1vdmVFdmVudExpc3RlbmVyKFwiZW5kZWRcIixFKSxnLnRyYWNrPXAudHJhY2ssZy50cmFjay5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIixFKSk7fSxnLndvcmtlcj1mO31mdW5jdGlvbiBFKCl7aWYocC50cmFjayl7aWYodGhpcy5pZCE9PXAudHJhY2suaWQpcmV0dXJuO3AudHJhY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsRSk7fWxldCBmPUJkLmdldChwKTtpZihmKXtCZC5kZWxldGUocCk7dHJ5e3ZhciBTLEM7KFM9Zi5jb250cm9sbGVyKT09PW51bGx8fFM9PT12b2lkIDB8fFMudGVybWluYXRlKCksKEM9Zi53b3JrZXIpPT09bnVsbHx8Qz09PXZvaWQgMHx8Qy50ZXJtaW5hdGUoKTt9Y2F0Y2goQSl7Xy53YXJuaW5nKEEmJkEubWVzc2FnZSk7fX19QmQuc2V0KHAsZykscC50cmFjay5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIixFKTt9KGguc2VuZGVyKSk7fSksZS5mb3JFYWNoKHU9PntsZXR7dHlwZTpofT11O24uc3RhdHNDb2xsZWN0b3IuYWRkTG9jYWxTdGF0cyhoKTt9KSxuLmFzc2lnbkxvY2FsVHJhY2tzKGUsZCksbi5zdGF0c1VwbG9hZGVyLnN0YXJ0VXBsb2FkT3V0Ym91bmRTdGF0cygpLGUuZm9yRWFjaCh1PT57bGV0e3RyYWNrOmgsdHlwZTpwfT11LGc9RGF0ZS5ub3coKTtuLnN0b3JlLnB1Ymxpc2goaC5nZXRUcmFja0lkKCkscD09PVUuTG9jYWxBdWRpb1RyYWNrP1wiYXVkaW9cIjpcInZpZGVvXCIsdm9pZCAwLGcpO30pO30pKCl9YXN5bmMgdXBkYXRlVmlkZW9TdHJlYW1QYXJhbWV0ZXIodCxlKXtsZXQgbj10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KGUpO2lmKCFuKXJldHVybjtpZighKG4udHJhY2sgaW5zdGFuY2VvZiBGdCkpcmV0dXJuIF8ud2FybihcIlt1cGRhdGVWaWRlb1N0cmVhbVBhcmFtZXRlcl06IHRyYWNrIGlzIG5vdCBhbiBpbnN0YW5jZSBvZiBMb2NhbFZpZGVvVHJhY2tcIik7aWYoISh0aGlzLmNvbm5lY3Rpb24gaW5zdGFuY2VvZiBraXx8dGhpcy5jb25uZWN0aW9uIGluc3RhbmNlb2YgVmEpKXJldHVybiBfLndhcm4oXCJbdXBkYXRlVmlkZW9TdHJlYW1QYXJhbWV0ZXJdOiBjb25uZWN0aW9uIGlzIG5vdCBQMlBDb25uZWN0aW9uIG9yIFAyUENvbm5lY3Rpb25QbGFuQlwiKTtsZXR7dHJhY2s6aX09bixyPWZ1bmN0aW9uKG8scyl7bGV0IGE9e307cmV0dXJuIG8uaGVpZ2h0JiZvLndpZHRoJiYoYS5zY2FsZVJlc29sdXRpb25Eb3duQnk9R0UobyxzKSksYS5tYXhGcmFtZXJhdGU9by5mcmFtZXJhdGU/Tm4oby5mcmFtZXJhdGUpOnZvaWQgMCxhLm1heEJpdHJhdGU9by5iaXRyYXRlPzFlMypvLmJpdHJhdGU6dm9pZCAwLGF9KHQsaSk7aWYoaS5fZW5jb2RlckNvbmZpZ3x8KGkuX2VuY29kZXJDb25maWc9e30pLGUhPT1VLkxvY2FsVmlkZW9Mb3dUcmFja3x8IXYoXCJESVNBQkxFX0RVQUxfU1RSRUFNX1VTRV9FTkNPRElOR1wiKSYmZnQoKS5zdXBwb3J0RHVhbFN0cmVhbUVuY29kaW5nKXIuc2NhbGVSZXNvbHV0aW9uRG93bkJ5IT1udWxsJiYoaS5fZW5jb2RlckNvbmZpZy5zY2FsZVJlc29sdXRpb25Eb3duQnk9ci5zY2FsZVJlc29sdXRpb25Eb3duQnkpO2Vsc2Uge2xldCBvPWkuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2s7aWYoIW8uY2FudmFzKXJldHVybiBfLndhcm4oXCJbXCIuY29uY2F0KGkuZ2V0VHJhY2tJZCgpLFwiXSBubyBjYW52YXMgb24gdHJhY2tcIikpOyhmdW5jdGlvbihzLGEpe2xldCBjPXMuY2FudmFzO2Eud2lkdGgmJihjLndpZHRoPU5uKGEud2lkdGgpKSxhLmhlaWdodCYmKGMuaGVpZ2h0PU5uKGEuaGVpZ2h0KSksYS5mcmFtZXJhdGUmJihjLnN0b3BDYXB0dXJlJiZjLnN0b3BDYXB0dXJlKCksYy5zdG9wQ2FwdHVyZT1SZigoKT0+eyFjLnN0YXJ0Q2FwdHVyZSYmYy5zdG9wQ2FwdHVyZSYmYy5zdG9wQ2FwdHVyZSgpLGMuc3RhcnRDYXB0dXJlJiZjLnN0YXJ0Q2FwdHVyZSgpO30sTm4oYS5mcmFtZXJhdGUpKSk7fSkobyx0KTt9ci5tYXhCaXRyYXRlIT1udWxsJiYoaS5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWF4PXIubWF4Qml0cmF0ZS8xZTMpLHIubWF4RnJhbWVyYXRlIT1udWxsJiYoaS5fZW5jb2RlckNvbmZpZy5mcmFtZVJhdGUmJnR5cGVvZiBpLl9lbmNvZGVyQ29uZmlnLmZyYW1lUmF0ZT09XCJvYmplY3RcIj9pLl9lbmNvZGVyQ29uZmlnLmZyYW1lUmF0ZS5tYXg9ci5tYXhGcmFtZXJhdGU6aS5fZW5jb2RlckNvbmZpZy5mcmFtZVJhdGU9e21heDpyLm1heEZyYW1lcmF0ZX0pLF8uZGVidWcoXCJbXCIuY29uY2F0KGkuZ2V0VHJhY2tJZCgpLFwiXSBMb3dTdHJlYW1FbmNvZGVyQ29uZmlnOiAsIFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoaS5fZW5jb2RlckNvbmZpZykpKSxhd2FpdCB0aGlzLmNvbm5lY3Rpb24udXBkYXRlUnRwU2VuZGVyRW5jb2RpbmdzKGkpO31wdWJsaXNoTG93U3RyZWFtKHQpe3ZhciBlPXRoaXM7cmV0dXJuIEJpKGZ1bmN0aW9uKigpe2lmKCFlLmNvbm5lY3Rpb258fGUuc3RhdGUhPT1SdC5Db25uZWN0ZWQpcmV0dXJuO2xldCBuPXlpZWxkIFR0KGUubXV0ZXgubG9jayhcIkxvY2tpbmcgZnJvbSBQMlBDaGFubmVsLnB1Ymxpc2hMb3dTdHJlYW1cIikpO3RyeXtsZXQgcj1lLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxWaWRlb1RyYWNrKTtpZighcil0aHJvdyBuZXcgTihSLlVORVhQRUNURURfRVJST1IsXCJDb3VsZCBub3QgZmluZCBoaWdoIHN0cmVhbVwiKTtpZihlLmxvY2FsVHJhY2tNYXAuaGFzKFUuTG9jYWxWaWRlb0xvd1RyYWNrKSl0aHJvdyBuZXcgTihSLlVORVhQRUNURURfRVJST1IsXCJbXCIuY29uY2F0KGUuc3RvcmUuY2xpZW50SWQsXCJdIENhbid0IHB1Ymxpc2ggbG93IHN0cmVhbSB3aGVuIHN0cmVhbSBhbHJlYWR5IHB1Ymxpc2hcIikpO2xldCBvPVt7dHJhY2s6ZS5nZXRMb3dWaWRlb1RyYWNrKHIudHJhY2ssdCksdHlwZTpVLkxvY2FsVmlkZW9Mb3dUcmFja31dO2lmKHlpZWxkKmt2KEh2KGUuZG9QdWJsaXNoKGUuY29ubmVjdGlvbixvKSkpLHIudHJhY2subXV0ZWR8fCFyLnRyYWNrLmVuYWJsZWQpe3ZhciBpO2xldCBzPShpPWUubG9jYWxUcmFja01hcC5nZXQoVS5Mb2NhbFZpZGVvTG93VHJhY2spKT09PW51bGx8fGk9PT12b2lkIDA/dm9pZCAwOmkuaWQ7cyE9PXZvaWQgMCYmKHlpZWxkIFR0KGUuY29ubmVjdGlvbi5tdXRlTG9jYWwoW3NdKSkpO319ZmluYWxseXtuKCk7fX0pKCl9YXN5bmMgcmVwdWJsaXNoKCl7dGhpcy5wZW5kaW5nTG9jYWxUcmFja3MubGVuZ3RoPjAmJihfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBFbWl0IFAyUENoYW5uZWxFdmVudHMuUmVxdWVzdFJlUHVibGlzaCB0byByZXB1Ymxpc2ggdHJhY2tzLlwiKSksYXdhaXQgR2UodGhpcyx0dC5SZXF1ZXN0UmVQdWJsaXNoLHRoaXMucGVuZGluZ0xvY2FsVHJhY2tzKSx0aGlzLmVtaXQodHQuTWVkaWFSZWNvbm5lY3RFbmQsdGhpcy5zdG9yZS51aWQpLHRoaXMucGVuZGluZ0xvY2FsVHJhY2tzPVtdKSx0aGlzLnBlbmRpbmdMb2NhbERhdGFDaGFubmVscy5sZW5ndGg+MCYmKF8uZGVidWcoXCJFbWl0IFAyUENoYW5uZWxFdmVudHMuUmVxdWVzdFJlUHVibGlzaERhdGFDaGFubmVsIHRvIHJlcHVibGlzaCBkYXRhY2hhbm5lbHMuXCIpLGF3YWl0IEdlKHRoaXMsdHQuUmVxdWVzdFJlUHVibGlzaERhdGFDaGFubmVsLHRoaXMucGVuZGluZ0xvY2FsRGF0YUNoYW5uZWxzKSx0aGlzLnBlbmRpbmdMb2NhbERhdGFDaGFubmVscz1bXSk7fWFzeW5jIHJlU3Vic2NyaWJlKHQpe2ZvcihsZXQgZT10aGlzLnBlbmRpbmdSZW1vdGVUcmFja3MubGVuZ3RoLTE7ZT49MDtlLS0pe2xldHt1c2VyOm4sa2luZDppfT10aGlzLnBlbmRpbmdSZW1vdGVUcmFja3NbZV07KGkhPT1RLkFVRElPfHxuLl9hdWRpb19hZGRlZF8mJm4uX2F1ZGlvU1NSQykmJihpIT09US5WSURFT3x8bi5fdmlkZW9fYWRkZWRfJiZuLl92aWRlb1NTUkMpfHx0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3Muc3BsaWNlKGUsMSk7fWlmKHQpYXdhaXQgR2UodGhpcyx0dC5SZXF1ZXN0UmVTdWJzY3JpYmUsdGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzKTtlbHNlIGZvcihsZXR7dXNlcjplLGtpbmQ6bn1vZiB0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3MpYXdhaXQgdGhpcy5zdWJzY3JpYmUoZSxuLG49PT1RLlZJREVPP2UuX3ZpZGVvU1NSQzplLl9hdWRpb1NTUkMpO3RoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5mb3JFYWNoKGU9PntsZXR7dXNlcjpufT1lO3RoaXMuZW1pdCh0dC5NZWRpYVJlY29ubmVjdEVuZCxuLnVpZCk7fSksdGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzPVtdO31hc3luYyB1bnB1Ymxpc2godCl7aWYoIXRoaXMuY29ubmVjdGlvbnx8dGhpcy5zdGF0ZSE9PVJ0LkNvbm5lY3RlZClyZXR1cm4gdm9pZCB0LmZvckVhY2goaT0+e2xldCByPXRoaXMucGVuZGluZ0xvY2FsVHJhY2tzLmluZGV4T2YoaSk7ciE9PS0xJiZ0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5zcGxpY2UociwxKTt9KTtsZXQgZT10aGlzLmZpbHRlclRvYmVVbnB1Ymxpc2hlZFRyYWNrcyh0KTtpZihlLmxlbmd0aD09PTApcmV0dXJuO2xldCBuPWUuZmluZChpPT5pWzBdPT09XCJ2aWRlb0xvd1RyYWNrXCIpO3JldHVybiBuJiZuWzFdLnRyYWNrLmNsb3NlKCksdGhpcy5kb1VucHVibGlzaCh0aGlzLmNvbm5lY3Rpb24sZSl9YXN5bmMgdW5wdWJsaXNoRGF0YUNoYW5uZWwodCl7aWYoIXRoaXMuY29ubmVjdGlvbnx8dGhpcy5zdGF0ZSE9PVJ0LkNvbm5lY3RlZClyZXR1cm4gdm9pZCB0LmZvckVhY2gobj0+e2xldCBpPXRoaXMucGVuZGluZ0xvY2FsRGF0YUNoYW5uZWxzLmluZGV4T2Yobik7aSE9PS0xJiZ0aGlzLnBlbmRpbmdMb2NhbERhdGFDaGFubmVscy5zcGxpY2UoaSwxKTt9KTtsZXQgZT10aGlzLmZpbHRlclRvYmVVbnB1Ymxpc2hlZERhdGFDaGFubmVscyh0KTtyZXR1cm4gZS5sZW5ndGghPT0wPyhlLmZvckVhY2gobj0+e2xldCBpPXRoaXMubG9jYWxEYXRhQ2hhbm5lbHMuaW5kZXhPZihuKTtpIT09LTEmJnRoaXMubG9jYWxEYXRhQ2hhbm5lbHMuc3BsaWNlKGksMSk7fSksdGhpcy5sb2NhbERhdGFDaGFubmVscy5sZW5ndGg9PT0wJiZhd2FpdCB0aGlzLmNvbm5lY3Rpb24uc3RvcERhdGFDaGFubmVscyh0aGlzLnN0b3JlLnVpZCksZS5tYXAobj0+bi5pZCkpOnZvaWQgMH1hc3luYyB1bnB1Ymxpc2hMb3dTdHJlYW0oKXtpZighdGhpcy5jb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09UnQuQ29ubmVjdGVkKXJldHVybjtsZXQgdD10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxWaWRlb0xvd1RyYWNrKTtpZighdClyZXR1cm47dC50cmFjay5jbG9zZSgpO2xldCBlPVtbVS5Mb2NhbFZpZGVvTG93VHJhY2ssdF1dO3JldHVybiB0aGlzLmRvVW5wdWJsaXNoKHRoaXMuY29ubmVjdGlvbixlKX1hc3luYyBkb1VucHVibGlzaCh0LGUpe2xldCBuPXRoaXMuY3JlYXRlR2F0ZXdheVVucHVibGlzaE1lc3NhZ2UoZSk7cmV0dXJuIGF3YWl0IHQuc3RvcFNlbmRpbmcoZS5tYXAoaT0+e2xldFsse2lkOnJ9XT1pO3JldHVybiByfSkpLHRoaXMud2l0aGRyYXdMb2NhbFRyYWNrcyhlKSx0aGlzLnVuYmluZExvY2FsVHJhY2tFdmVudHMoZS5tYXAoaT0+e2xldFtyLHt0cmFjazpvfV09aTtyZXR1cm4ge3R5cGU6cix0cmFjazpvfX0pKSxlLmZvckVhY2goaT0+e2xldFtyXT1pO3RoaXMuc3RhdHNDb2xsZWN0b3IucmVtb3ZlTG9jYWxTdGF0cyhyKTt9KSx0aGlzLmxvY2FsVHJhY2tNYXAuc2l6ZT09PTAmJnRoaXMuc3RhdHNVcGxvYWRlci5zdG9wVXBsb2FkT3V0Ym91bmRTdGF0cygpLG59YXN5bmMgc3Vic2NyaWJlRGF0YUNoYW5uZWwodCxlKXtpZighdGhpcy5jb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09UnQuQ29ubmVjdGVkKXRocm93IG5ldyBOKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW5ub3Qgc3Vic2NyaWJlIHJlbW90ZSB1c2VyIHdoZW4gcGVlckNvbm5lY3Rpb24gZGlzY29ubmVjdGVkLlwiKTtsZXQgbj1lLmZpbHRlcihpPT57dmFyIHI7cmV0dXJuICEoKHI9dGhpcy5yZW1vdGVEYXRhQ2hhbm5lbE1hcC5nZXQodCkpIT09bnVsbCYmciE9PXZvaWQgMCYmci5nZXQoaS5pZCkpfSk7aWYobi5sZW5ndGghPT0wKXJldHVybiBhd2FpdCB0aGlzLmNvbm5lY3Rpb24uY3JlYXRlRGF0YUNoYW5uZWxzKHQudWlkLG4pLG4uZm9yRWFjaChpPT57dmFyIHI7dGhpcy5yZW1vdGVEYXRhQ2hhbm5lbE1hcC5oYXModCk/KHI9dGhpcy5yZW1vdGVEYXRhQ2hhbm5lbE1hcC5nZXQodCkpPT09bnVsbHx8cj09PXZvaWQgMHx8ci5zZXQoaS5pZCxpKTp0aGlzLnJlbW90ZURhdGFDaGFubmVsTWFwLnNldCh0LG5ldyBNYXAoW1tpLmlkLGldXSkpO2xldCBvPXRoaXMucGVuZGluZ1JlbW90ZURhdGFDaGFubmVscy5maW5kSW5kZXgocz0+e2xldHt1c2VyOmEsaWQ6Y309cztyZXR1cm4gYS51aWQ9PT10LnVpZCYmYz09PWkuaWR9KTtvIT09LTEmJnRoaXMucGVuZGluZ1JlbW90ZURhdGFDaGFubmVscy5zcGxpY2UobywxKTt9KSxuLm1hcChpPT5pLmlkKX1hc3luYyBzdWJzY3JpYmUodCxlLG4saSxyKXt2YXIgbztpZighdGhpcy5jb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09UnQuQ29ubmVjdGVkKXRocm93IG5ldyBOKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW5ub3Qgc3Vic2NyaWJlIHJlbW90ZSB1c2VyIHdoZW4gcGVlckNvbm5lY3Rpb24gZGlzY29ubmVjdGVkLlwiKTtpZigobz10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KHQpKSE9PW51bGwmJm8hPT12b2lkIDAmJm8uaGFzKGUpKXJldHVybjtsZXQgcyxhLGMsZD10aGlzLmNvbm5lY3Rpb24uZ2V0UHJlTWVkaWEobik7aWYoZClfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXSBwcmVTU1JDTWFwIGhhcyBzc3JjSWQ6IFwiKS5jb25jYXQobixcIiwgbm8gbmVlZCB0byBzZW5kIHN1YiB0byBnYXRld2F5LlwiKSksYz1kLnRyYW5zY2VpdmVyLHM9ZC50cmFjayxhPWQuaWQ7ZWxzZSBpZihyKXtsZXQgaD1yLmZpbmQoZz0+e2xldHtzdHJlYW1fdHlwZTpFfT1nO3JldHVybiBFPT09ZX0pO2lmKCFoKXRocm93IG5ldyBOKFIuVU5FWFBFQ1RFRF9FUlJPUixcIkNhbm5vdCBzdWJzY3JpYmUgdG8gcmVtb3RlIFwiLmNvbmNhdChlLFwiIGZvciB1c2VyOiBcIikuY29uY2F0KHQudWlkLFwiIGJlY2F1c2Ugc3Vic2NyaWJlIGFuc3dlciBmcm9tIGdhdGV3YXkgZG9lcyBub3QgY29udGFpbiBzdHJlYW1fdHlwZTogXCIpLmNvbmNhdChlLFwiLlwiKSk7bGV0IHA9YXdhaXQgdGhpcy5jb25uZWN0aW9uLnJlY2VpdmUoZSxoLnNzcmNzLFN0cmluZyh0Ll91aW50aWQpLGguYXR0cmlidXRlcyk7dGhpcy5jb25uZWN0aW9uIGluc3RhbmNlb2Yga2kmJihjPXAudHJhbnNjZWl2ZXIpLHM9cC50cmFjayxhPXAuaWQ7fWVsc2Uge2xldCBoPWF3YWl0IHRoaXMuY29ubmVjdGlvbi5yZWNlaXZlKGUsW3tzc3JjSWQ6bixydHg6aX1dLFN0cmluZyh0Ll91aW50aWQpLHZvaWQgMCk7dGhpcy5jb25uZWN0aW9uIGluc3RhbmNlb2Yga2kmJihjPWgudHJhbnNjZWl2ZXIpLHM9aC50cmFjayxhPWguaWQ7fWU9PT1RLkFVRElPPyh0Ll9hdWRpb1RyYWNrP3QuX2F1ZGlvVHJhY2suX3VwZGF0ZU9yaWdpbk1lZGlhU3RyZWFtVHJhY2socyk6KHQuX2F1ZGlvVHJhY2s9bmV3IEtzKHMsdC51aWQsdC5fdWludGlkLHRoaXMuc3RvcmUpLF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1wiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gY3JlYXRlIHJlbW90ZSBhdWRpbyB0cmFjazogXCIpLmNvbmNhdCh0Ll9hdWRpb1RyYWNrLmdldFRyYWNrSWQoKSkpKSxjJiZ0Ll9hdWRpb1RyYWNrLl91cGRhdGVSdHBUcmFuc2NlaXZlcihjKSx0aGlzLmJpbmRSZW1vdGVUcmFja0V2ZW50cyh0LHQuX2F1ZGlvVHJhY2spKToodC5fdmlkZW9UcmFjaz90Ll92aWRlb1RyYWNrLl91cGRhdGVPcmlnaW5NZWRpYVN0cmVhbVRyYWNrKHMpOih0Ll92aWRlb1RyYWNrPW5ldyBIcyhzLHQudWlkLHQuX3VpbnRpZCx0aGlzLnN0b3JlKSxfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdIGNyZWF0ZSByZW1vdGUgdmlkZW8gdHJhY2s6IFwiKS5jb25jYXQodC5fdmlkZW9UcmFjay5nZXRUcmFja0lkKCkpKSksYyYmdC5fdmlkZW9UcmFjay5fdXBkYXRlUnRwVHJhbnNjZWl2ZXIoYyksdGhpcy5iaW5kUmVtb3RlVHJhY2tFdmVudHModCx0Ll92aWRlb1RyYWNrKSksdihcIkVOQUJMRV9WSURFT19TRUlcIikmJmMmJihlPT1RLlZJREVPP2F3YWl0IGFzeW5jIGZ1bmN0aW9uKGgpe2xldCBwPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTp7fTtpZighZnQoKS5zdXBwb3J0V2ViUlRDRW5jb2RlZFRyYW5zZm9ybSlyZXR1cm4gdm9pZCBfLndhcm5pbmcoXCJicm93c2VyIG5vdCBzdXBwb3J0IHZpZGVvIGVuY29kZWQgdHJhbnNmb3JtXCIpO2lmKCFoLnRyYWNrKXJldHVybjtpZih4YS5oYXMoaCkpe2xldCBmPXhhLmdldChoKTtyZXR1cm4gdm9pZChmJiYoZi5vblNlaT1wLm9uU2VpKSl9bGV0IGc9e3RyYWNrOmgudHJhY2ssb25TZWk6cC5vblNlaX07aWYob28oKSl7aWYoIWguY3JlYXRlRW5jb2RlZFN0cmVhbXMpcmV0dXJuIHZvaWQgXy53YXJuaW5nKFwiYnJvd3NlciBub3Qgc3VwcG9ydCBjcmVhdGVFbmNvZGVkU3RyZWFtcygpIEFQSVwiKTtsZXQgZj1udWxsO3RyeXtmPWguY3JlYXRlRW5jb2RlZFN0cmVhbXMoKTt9Y2F0Y2goQyl7cmV0dXJuIHZvaWQgXy5lcnJvcihcImNyZWF0ZSB2aWRlby1lbmNvZGVkLXN0cmVhbXMgZXJyb3JcIixDJiZDLm1lc3NhZ2UpfWxldCBTPW5ldyBUcmFuc2Zvcm1TdHJlYW0oe3RyYW5zZm9ybShDLEEpe2cuY29udHJvbGxlcnx8KGcuY29udHJvbGxlcj1BKSxoLnRyYWNrJiZoLnRyYWNrLmlkIT09Zy50cmFjay5pZCYmKF8uZGVidWcoXCJ2aWRlbyB0cmFjayBjaGFuZ2VkOiBcIi5jb25jYXQoZy50cmFjay5pZCxcIiA9PiBcIikuY29uY2F0KGgudHJhY2suaWQpKSxnLnRyYWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLEUpLGcudHJhY2s9aC50cmFjayxnLnRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLEUpKTtsZXQgYj1mdW5jdGlvbih3KXtsZXQgRD1uZXcgRGF0YVZpZXcody5kYXRhKSxrPTA7Zm9yKDtrKzQ8dy5kYXRhLmJ5dGVMZW5ndGg7KXtpZihELmdldFVpbnQ4KGsrMCk9PT0wJiZELmdldFVpbnQ4KGsrMSk9PT0wJiZELmdldFVpbnQ4KGsrMik9PT0wJiZELmdldFVpbnQ4KGsrMyk9PT0xJiZELmdldFVpbnQ4KGsrNCk9PT02KXtsZXQgQj1rKzYsVj0wLHo9MDtmb3IoOyh6PUQuZ2V0VWludDgoQisrKSk9PT0yNTU7KVYrPTI1NTtWKz16O2xldCBsdD1GRyh3LmRhdGEsQixWKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkobHQpfWsrKzt9cmV0dXJuIG51bGx9KEMpO2ImJmcub25TZWkmJmcub25TZWkoYiksQS5lbnF1ZXVlKEMpO319KTtmLnJlYWRhYmxlLnBpcGVUaHJvdWdoKFMpLnBpcGVUbyhmLndyaXRhYmxlKTt9ZWxzZSBpZihqZSgpKXtpZih0eXBlb2YgUlRDUnRwU2NyaXB0VHJhbnNmb3JtPlwidVwiKXJldHVybiB2b2lkIF8ud2FybmluZyhcImJyb3dzZXIgbm90IHN1cHBvcnQgUlRDUnRwU2NyaXB0VHJhbnNmb3JtXCIpO2xldCBmPXZsKCksUz1uZXcgTWVzc2FnZUNoYW5uZWw7YXdhaXQgbmV3IGooQT0+Zi5vbm1lc3NhZ2U9Yj0+e2IuZGF0YT09PVwicmVnaXN0ZXJlZFwiJiZBKHZvaWQgMCk7fSk7bGV0IEM9bmV3IFJUQ1J0cFNjcmlwdFRyYW5zZm9ybShmLHtuYW1lOlwicnhcIixwb3J0OlMucG9ydDJ9LFtTLnBvcnQyXSk7aC50cmFuc2Zvcm09Qyxhd2FpdCBuZXcgaihBPT5mLm9ubWVzc2FnZT1iPT57Yi5kYXRhPT09XCJzdGFydGVkXCImJkEodm9pZCAwKTt9KSxTLnBvcnQxLm9ubWVzc2FnZT1BPT57dmFyIGI7QS5kYXRhLnRyYW5zZm9ybWVkJiZoLnRyYWNrJiYoKGI9aC50cmFjayk9PT1udWxsfHxiPT09dm9pZCAwP3ZvaWQgMDpiLmlkKSE9PWcudHJhY2suaWQ/KF8uZGVidWcoXCJ2aWRlbyB0cmFjayBjaGFuZ2VkOiBcIi5jb25jYXQoZy50cmFjay5pZCxcIiA9PiBcIikuY29uY2F0KGgudHJhY2suaWQpKSxnLnRyYWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLEUpLGcudHJhY2s9aC50cmFjayxnLnRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLEUpKTpBLmRhdGEuc2VpJiZnLm9uU2VpJiZnLm9uU2VpKEEuZGF0YS5zZWkpO30sZy53b3JrZXI9Zjt9ZnVuY3Rpb24gRSgpe2lmKGgudHJhY2spe2lmKHRoaXMuaWQhPT1oLnRyYWNrLmlkKXJldHVybjtoLnRyYWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLEUpO30oZnVuY3Rpb24oZil7bGV0IFM9eGEuZ2V0KGYpO2lmKFMpe3hhLmRlbGV0ZShmKTt0cnl7dmFyIEMsQTsoQz1TLmNvbnRyb2xsZXIpPT09bnVsbHx8Qz09PXZvaWQgMHx8Qy50ZXJtaW5hdGUoKSwoQT1TLndvcmtlcik9PT1udWxsfHxBPT09dm9pZCAwfHxBLnRlcm1pbmF0ZSgpO31jYXRjaChiKXtfLndhcm5pbmcoYiYmYi5tZXNzYWdlKTt9fX0pKGgpO314YS5zZXQoaCxnKSxoLnRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLEUpO30oYy5yZWNlaXZlcix7b25TZWk6aD0+e3ZhciBwOyhwPXQuX3ZpZGVvVHJhY2spPT09bnVsbHx8cD09PXZvaWQgMHx8cC5fb25TZWkoaCk7fX0pOmU9PVEuQVVESU8mJmF3YWl0IGFzeW5jIGZ1bmN0aW9uKGgpe2lmKCFmdCgpLnN1cHBvcnRXZWJSVENFbmNvZGVkVHJhbnNmb3JtKXJldHVybiB2b2lkIF8ud2FybmluZyhcImJyb3dzZXIgbm90IHN1cHBvcnQgYXVkaW8gZW5jb2RlZCB0cmFuc2Zvcm1cIik7aWYoamQuaGFzKGgpKXJldHVybjtsZXQgcD17dHJhY2s6aC50cmFja307aWYob28oKSl7aWYoIWguY3JlYXRlRW5jb2RlZFN0cmVhbXMpcmV0dXJuIHZvaWQgXy53YXJuaW5nKFwiYnJvd3NlciBub3Qgc3VwcG9ydCBjcmVhdGVFbmNvZGVkU3RyZWFtcygpIEFQSVwiKTtsZXQgRT1udWxsO3RyeXtFPWguY3JlYXRlRW5jb2RlZFN0cmVhbXMoKTt9Y2F0Y2goUyl7cmV0dXJuIHZvaWQgXy5lcnJvcihcImNyZWF0ZSBhdWRpby1lbmNvZGVkLXN0cmVhbXMgZXJyb3JcIixTJiZTLm1lc3NhZ2UpfWxldCBmPW5ldyBUcmFuc2Zvcm1TdHJlYW0oe3RyYW5zZm9ybShTLEMpe3AuY29udHJvbGxlcnx8KHAuY29udHJvbGxlcj1DKSxoLnRyYWNrJiZoLnRyYWNrLmlkIT09cC50cmFjay5pZCYmKF8uZGVidWcoXCJhdWRpbyB0cmFjayBjaGFuZ2VkOiBcIi5jb25jYXQocC50cmFjay5pZCxcIiA9PiBcIikuY29uY2F0KGgudHJhY2suaWQpKSxwLnRyYWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLGcpLHAudHJhY2s9aC50cmFjayxwLnRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLGcpKSxDLmVucXVldWUoUyk7fX0pO0UucmVhZGFibGUucGlwZVRocm91Z2goZikucGlwZVRvKEUud3JpdGFibGUpO31lbHNlIGlmKGplKCkpe2lmKHR5cGVvZiBSVENSdHBTY3JpcHRUcmFuc2Zvcm0+XCJ1XCIpcmV0dXJuIHZvaWQgXy53YXJuaW5nKFwiYnJvd3NlciBub3Qgc3VwcG9ydCBSVENSdHBTY3JpcHRUcmFuc2Zvcm1cIik7bGV0IEU9dmwoKSxmPW5ldyBNZXNzYWdlQ2hhbm5lbDthd2FpdCBuZXcgaihDPT5FLm9ubWVzc2FnZT1BPT57QS5kYXRhPT09XCJyZWdpc3RlcmVkXCImJkModm9pZCAwKTt9KTtsZXQgUz1uZXcgUlRDUnRwU2NyaXB0VHJhbnNmb3JtKEUse25hbWU6XCJyeFwiLHBvcnQ6Zi5wb3J0Mn0sW2YucG9ydDJdKTtoLnRyYW5zZm9ybT1TLGF3YWl0IG5ldyBqKEM9PkUub25tZXNzYWdlPUE9PntBLmRhdGE9PT1cInN0YXJ0ZWRcIiYmQyh2b2lkIDApO30pLGYucG9ydDEub25tZXNzYWdlPUM9Pnt2YXIgQTtDLmRhdGEudHJhbnNmb3JtZWQmJmgudHJhY2smJigoQT1oLnRyYWNrKT09PW51bGx8fEE9PT12b2lkIDA/dm9pZCAwOkEuaWQpIT09cC50cmFjay5pZCYmKF8uZGVidWcoXCJhdWRpbyB0cmFjayBjaGFuZ2VkOiBcIi5jb25jYXQocC50cmFjay5pZCxcIiA9PiBcIikuY29uY2F0KGgudHJhY2suaWQpKSxwLnRyYWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLGcpLHAudHJhY2s9aC50cmFjayxwLnRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLGcpKTt9LHAud29ya2VyPUU7fWZ1bmN0aW9uIGcoKXtoLnRyYWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLGcpLGZ1bmN0aW9uKEUpe2xldCBmPWpkLmdldChFKTtpZihmKXtqZC5kZWxldGUoRSk7dHJ5e3ZhciBTLEM7KFM9Zi5jb250cm9sbGVyKT09PW51bGx8fFM9PT12b2lkIDB8fFMudGVybWluYXRlKCksKEM9Zi53b3JrZXIpPT09bnVsbHx8Qz09PXZvaWQgMHx8Qy50ZXJtaW5hdGUoKTt9Y2F0Y2goQSl7Xy53YXJuaW5nKEEmJkEubWVzc2FnZSk7fX19KGgpO31qZC5zZXQoaCxwKSxoLnRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLGcpO30oYy5yZWNlaXZlcikpO2xldCBsPXRoaXMucmVtb3RlVXNlck1hcC5nZXQodCk7bD9sLnNldChlLGEpOnRoaXMucmVtb3RlVXNlck1hcC5zZXQodCxuZXcgTWFwKFtbZSxhXV0pKSx0aGlzLnN0YXRzQ29sbGVjdG9yLmFkZFJlbW90ZVN0YXRzKHQudWlkKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RhcnRVcGxvYWRJbmJvdW5kU3RhdHMoKTtsZXQgdT10aGlzLnBlbmRpbmdSZW1vdGVUcmFja3MuZmluZEluZGV4KGg9PntsZXR7dXNlcjpwLGtpbmQ6Z309aDtyZXR1cm4gcC51aWQ9PT10LnVpZCYmZT09PWd9KTt1IT09LTEmJih0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3Muc3BsaWNlKHUsMSksdGhpcy5lbWl0KHR0Lk1lZGlhUmVjb25uZWN0RW5kLHQudWlkKSk7fWFzeW5jIG1hc3NTdWJzY3JpYmUodCl7cmV0dXJuIHRoaXMubWFzc1N1YnNjcmliZU5vTG9jayh0KX1hc3luYyBtYXNzU3Vic2NyaWJlTm9Mb2NrKHQpe2lmKCF0aGlzLmNvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1SdC5Db25uZWN0ZWQpdGhyb3cgbmV3IE4oUi5JTlZBTElEX09QRVJBVElPTixcIkNhbm5vdCBzdWJzY3JpYmVBbGwgcmVtb3RlIHVzZXJzIHdoZW4gcGVlckNvbm5lY3Rpb24gZGlzY29ubmVjdGVkLlwiKTt0PXQuZmlsdGVyKHI9Pnt2YXIgbztsZXR7dXNlcjpzLG1lZGlhVHlwZTphfT1yO3JldHVybiAhKChvPXRoaXMucmVtb3RlVXNlck1hcC5nZXQocykpIT09bnVsbCYmbyE9PXZvaWQgMCYmby5oYXMoYSkpfSk7bGV0IGU9W10sbj1uZXcgTWFwO3QuZm9yRWFjaChyPT57aWYoIXRoaXMuY29ubmVjdGlvbilyZXR1cm47bGV0IG89dGhpcy5jb25uZWN0aW9uLmdldFByZU1lZGlhKHIuc3NyY0lkKTtvP24uc2V0KHIuc3NyY0lkLG8pOmUucHVzaChyKTt9KTtsZXQgaT1hd2FpdCB0aGlzLmNvbm5lY3Rpb24uYmF0Y2hSZWNlaXZlKGUubWFwKHI9PntsZXR7dXNlcjpvLG1lZGlhVHlwZTpzLHNzcmNJZDphLHJ0eFNzcmNJZDpjfT1yO3JldHVybiB7a2luZDpzLHNzcmNNc2c6W3tzc3JjSWQ6YSxydHg6Y31dLG1zbGFiZWw6U3RyaW5nKG8uX3VpbnRpZCl9fSkpO2UuZm9yRWFjaCgocixvKT0+e24uc2V0KHIuc3NyY0lkLGlbb10pO30pLHQuZm9yRWFjaChyPT57bGV0e3VzZXI6byxtZWRpYVR5cGU6cyxzc3JjSWQ6YX09cixjPW4uZ2V0KGEpO2lmKCFjKXJldHVybiB2b2lkIF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdIGNhbm5vdCBmaW5kIFwiKS5jb25jYXQoby51aWQsXCIgc3Vic2NyaWJlIGRhdGEsXCIpLmNvbmNhdChzLFwiLCBcIikuY29uY2F0KGEpKTtsZXR7dHJhY2s6ZCxpZDpsLHRyYW5zY2VpdmVyOnV9PWM7cz09PVEuQVVESU8/KG8uX2F1ZGlvVHJhY2s/by5fYXVkaW9UcmFjay5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhkKTooby5fYXVkaW9UcmFjaz1uZXcgS3MoZCxvLnVpZCxvLl91aW50aWQsdGhpcy5zdG9yZSksXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXSBjcmVhdGUgcmVtb3RlIGF1ZGlvIHRyYWNrOiBcIikuY29uY2F0KG8uX2F1ZGlvVHJhY2suZ2V0VHJhY2tJZCgpKSkpLHUmJm8uX2F1ZGlvVHJhY2suX3VwZGF0ZVJ0cFRyYW5zY2VpdmVyKHUpLHRoaXMuYmluZFJlbW90ZVRyYWNrRXZlbnRzKG8sby5fYXVkaW9UcmFjaykpOihvLl92aWRlb1RyYWNrP28uX3ZpZGVvVHJhY2suX3VwZGF0ZU9yaWdpbk1lZGlhU3RyZWFtVHJhY2soZCk6KG8uX3ZpZGVvVHJhY2s9bmV3IEhzKGQsby51aWQsby5fdWludGlkLHRoaXMuc3RvcmUpLF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1wiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gY3JlYXRlIHJlbW90ZSB2aWRlbyB0cmFjazogXCIpLmNvbmNhdChvLl92aWRlb1RyYWNrLmdldFRyYWNrSWQoKSkpKSx1JiZvLl92aWRlb1RyYWNrLl91cGRhdGVSdHBUcmFuc2NlaXZlcih1KSx0aGlzLmJpbmRSZW1vdGVUcmFja0V2ZW50cyhvLG8uX3ZpZGVvVHJhY2spKTtsZXQgaD10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KG8pO2g/aC5zZXQocyxsKTp0aGlzLnJlbW90ZVVzZXJNYXAuc2V0KG8sbmV3IE1hcChbW3MsbF1dKSksdGhpcy5zdGF0c0NvbGxlY3Rvci5hZGRSZW1vdGVTdGF0cyhvLnVpZCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0YXJ0VXBsb2FkSW5ib3VuZFN0YXRzKCk7bGV0IHA9dGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzLmZpbmRJbmRleChnPT57bGV0e3VzZXI6RSxraW5kOmZ9PWc7cmV0dXJuIEUudWlkPT09by51aWQmJnM9PT1mfSk7cCE9PS0xJiYodGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzLnNwbGljZShwLDEpLHRoaXMuZW1pdCh0dC5NZWRpYVJlY29ubmVjdEVuZCxvLnVpZCkpO30pO31hc3luYyB1bnN1YnNjcmliZSh0LGUsbil7bGV0IGk9dGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzLmZpbHRlcihzPT57bGV0e3VzZXI6YSxraW5kOmN9PXM7cmV0dXJuIGUhPT12b2lkIDA/YS51aWQ9PT10LnVpZCYmZT09PWM6YS51aWQ9PT10LnVpZH0pO2lmKGkuZm9yRWFjaChzPT57bGV0IGE9dGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzLmluZGV4T2Yocyk7dGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzLnNwbGljZShhLDEpO30pLHRoaXMuY29ubmVjdGlvbiYmdGhpcy5zdGF0ZT09PVJ0LkNvbm5lY3RlZHx8bnx8aS5mb3JFYWNoKHM9PntsZXR7a2luZDphfT1zO3ZhciBjO2lmKGE9PT1RLkFVRElPKShjPXQuX2F1ZGlvVHJhY2spPT09bnVsbHx8Yz09PXZvaWQgMHx8Yy5fZGVzdHJveSgpLHQuX2F1ZGlvVHJhY2s9dm9pZCAwO2Vsc2UgaWYoYT09PVEuVklERU8pe3ZhciBkOyhkPXQuX3ZpZGVvVHJhY2spPT09bnVsbHx8ZD09PXZvaWQgMHx8ZC5fZGVzdHJveSgpLHQuX3ZpZGVvVHJhY2s9dm9pZCAwO319KSwhdGhpcy5jb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09UnQuQ29ubmVjdGVkKXJldHVybjtsZXQgcj10aGlzLmZpbHRlclRvYmVVblN1YnNjcmliZWRUcmFja3ModCxlKTtpZihyLmxlbmd0aD09PTApcmV0dXJuO2F3YWl0IHRoaXMuY29ubmVjdGlvbi5zdG9wUmVjZWl2aW5nKHIubWFwKHM9PntsZXRbLHtpZDphfV09cztyZXR1cm4gYX0pKTtsZXQgbz10aGlzLmNyZWF0ZVVuc3Vic2NyaWJlTWVzc2FnZShyKTtyZXR1cm4gdGhpcy53aXRoZHJhd1JlbW90ZVRyYWNrcyhyKSx0aGlzLnJlbW90ZVVzZXJNYXAuc2l6ZT09PTAmJnRoaXMuc3RhdHNVcGxvYWRlci5zdG9wVXBsb2FkSW5ib3VuZFN0YXRzKCksci5mb3JFYWNoKHM9PntsZXRbYSx7a2luZDpjfV09czt2YXIgZCxsO2lmKGM9PT1RLlZJREVPJiZhLl92aWRlb1NTUkMmJigoZD10aGlzLmNvbm5lY3Rpb24pPT09bnVsbHx8ZD09PXZvaWQgMHx8ZC5zZXRTdGF0c1JlbW90ZVZpZGVvSXNSZWFkeShhLl92aWRlb1NTUkMsITEpKSxjPT09US5WSURFTyl0aGlzLnVuYmluZFJlbW90ZVRyYWNrRXZlbnRzKGEuX3ZpZGVvVHJhY2spLG58fCgobD1hLl92aWRlb1RyYWNrKT09PW51bGx8fGw9PT12b2lkIDB8fGwuX2Rlc3Ryb3koKSxhLl92aWRlb1RyYWNrPXZvaWQgMCk7ZWxzZSBpZihjPT09US5BVURJTyl7dmFyIHU7dGhpcy51bmJpbmRSZW1vdGVUcmFja0V2ZW50cyhhLl9hdWRpb1RyYWNrKSwhbiYmKCh1PWEuX2F1ZGlvVHJhY2spPT09bnVsbHx8dT09PXZvaWQgMHx8dS5fZGVzdHJveSgpLGEuX2F1ZGlvVHJhY2s9dm9pZCAwKTt9fSksb31hc3luYyB1bnN1YnNjcmliZURhdGFDaGFubmVsKHQsZSl7aWYoZS5mb3JFYWNoKHI9PntsZXQgbz10aGlzLnBlbmRpbmdSZW1vdGVEYXRhQ2hhbm5lbHMuZmluZEluZGV4KHM9PnMuaWQ9PT1yLmlkKTtvIT09LTEmJnRoaXMucGVuZGluZ1JlbW90ZURhdGFDaGFubmVscy5zcGxpY2UobywxKTt9KSwhdGhpcy5jb25uZWN0aW9uKXJldHVybjtsZXQgbj10aGlzLmZpbHRlclRvYmVVblN1YnNjcmliZWREYXRhQ2hhbm5lbHModCxlKTtpZihuLmxlbmd0aD09PTApcmV0dXJuO2UuZm9yRWFjaChyPT57ci5fY2xvc2UoKTt9KTtsZXQgaT10aGlzLnJlbW90ZURhdGFDaGFubmVsTWFwLmdldCh0KTtyZXR1cm4gbi5mb3JFYWNoKHI9PntpJiZpLmRlbGV0ZShyLmlkKTt9KSxpJiZpLnNpemU9PT0wJiYodGhpcy5yZW1vdGVEYXRhQ2hhbm5lbE1hcC5kZWxldGUodCksYXdhaXQgdGhpcy5jb25uZWN0aW9uLnN0b3BEYXRhQ2hhbm5lbHModC51aWQpKSxuLm1hcChyPT5yLmlkKX1hc3luYyBtYXNzVW5zdWJzY3JpYmUodCl7cmV0dXJuIHRoaXMubWFzc1Vuc3Vic2NyaWJlTm9Mb2NrKHQpfWFzeW5jIG1hc3NVbnN1YnNjcmliZU5vTG9jayh0KXtsZXQgZT1bXTtmb3IobGV0e3VzZXI6cixtZWRpYVR5cGU6b31vZiB0KXtsZXQgcz10aGlzLnBlbmRpbmdSZW1vdGVUcmFja3MuZmlsdGVyKGE9PntsZXR7dXNlcjpjLGtpbmQ6ZH09YTtyZXR1cm4gbyE9PXZvaWQgMD9jLnVpZD09PXIudWlkJiZvPT09ZDpjLnVpZD09PXIudWlkfSk7cy5mb3JFYWNoKGE9PntsZXQgYz10aGlzLnBlbmRpbmdSZW1vdGVUcmFja3MuaW5kZXhPZihhKTt0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3Muc3BsaWNlKGMsMSk7fSksZT1lLmNvbmNhdChzKTt9aWYoIXRoaXMuY29ubmVjdGlvbnx8dGhpcy5zdGF0ZSE9PVJ0LkNvbm5lY3RlZClyZXR1cm4gdm9pZCBlLmZvckVhY2gocj0+e2xldHt1c2VyOm8sa2luZDpzfT1yO3ZhciBhO2lmKHM9PT1RLkFVRElPKShhPW8uX2F1ZGlvVHJhY2spPT09bnVsbHx8YT09PXZvaWQgMHx8YS5fZGVzdHJveSgpLG8uX2F1ZGlvVHJhY2s9dm9pZCAwO2Vsc2UgaWYocz09PVEuVklERU8pe3ZhciBjOyhjPW8uX3ZpZGVvVHJhY2spPT09bnVsbHx8Yz09PXZvaWQgMHx8Yy5fZGVzdHJveSgpLG8uX3ZpZGVvVHJhY2s9dm9pZCAwO319KTtsZXQgbj1qaSh0KS5jYWxsKHQsKHIsbyk9PntsZXR7dXNlcjpzLG1lZGlhVHlwZTphfT1vLGM9dGhpcy5maWx0ZXJUb2JlVW5TdWJzY3JpYmVkVHJhY2tzKHMsYSk7cmV0dXJuIHIuY29uY2F0KGMpfSxbXSk7aWYobi5sZW5ndGg9PT0wKXJldHVybjthd2FpdCB0aGlzLmNvbm5lY3Rpb24uc3RvcFJlY2VpdmluZyhuLm1hcChyPT57bGV0Wyx7aWQ6b31dPXI7cmV0dXJuIG99KSk7bGV0IGk9dGhpcy5jcmVhdGVVbnN1YnNjcmliZUFsbE1lc3NhZ2Uobik7cmV0dXJuIHRoaXMud2l0aGRyYXdSZW1vdGVUcmFja3MobiksdGhpcy5yZW1vdGVVc2VyTWFwLnNpemU9PT0wJiZ0aGlzLnN0YXRzVXBsb2FkZXIuc3RvcFVwbG9hZEluYm91bmRTdGF0cygpLG4uZm9yRWFjaChyPT57bGV0W28se2tpbmQ6c31dPXI7dmFyIGEsYztpZihzPT09US5WSURFTyYmby5fdmlkZW9TU1JDJiYoKGE9dGhpcy5jb25uZWN0aW9uKT09PW51bGx8fGE9PT12b2lkIDB8fGEuc2V0U3RhdHNSZW1vdGVWaWRlb0lzUmVhZHkoby5fdmlkZW9TU1JDLCExKSkscz09PVEuVklERU8pdGhpcy51bmJpbmRSZW1vdGVUcmFja0V2ZW50cyhvLl92aWRlb1RyYWNrKSwoYz1vLl92aWRlb1RyYWNrKT09PW51bGx8fGM9PT12b2lkIDB8fGMuX2Rlc3Ryb3koKSxvLl92aWRlb1RyYWNrPXZvaWQgMDtlbHNlIGlmKHM9PT1RLkFVRElPKXt2YXIgZDt0aGlzLnVuYmluZFJlbW90ZVRyYWNrRXZlbnRzKG8uX2F1ZGlvVHJhY2spLChkPW8uX2F1ZGlvVHJhY2spPT09bnVsbHx8ZD09PXZvaWQgMHx8ZC5fZGVzdHJveSgpLG8uX2F1ZGlvVHJhY2s9dm9pZCAwO319KSxpfWlzUHJlU3ViU2NyaWJlKHQpe3JldHVybiAhdGhpcy5jb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09UnQuQ29ubmVjdGVkPyExOiEhdGhpcy5jb25uZWN0aW9uLmdldFByZU1lZGlhKHQpfWFzeW5jIG11dGVSZW1vdGUodCxlKXtpZighdGhpcy5jb25uZWN0aW9uKXJldHVybjtsZXQgbj10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KHQpO2lmKCFuKXJldHVybiB2b2lkIF8ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ2hhbm5lbC5tdXRlUmVtb3RlIGhhcyBubyByZW1vdGUgdXNlciBcIikuY29uY2F0KHQudWlkLFwiLlwiKSk7aWYoIW4uZ2V0KGUpKXJldHVybiB2b2lkIF8ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ2hhbm5lbC5tdXRlUmVtb3RlIGhhcyBubyByZW1vdGUgdXNlciBcIikuY29uY2F0KHQudWlkLFwiIG1lZGlhIHR5cGUgXCIpLmNvbmNhdChlLFwiLlwiKSk7bGV0IGk9ZT09PVEuVklERU8/dC5fdmlkZW9TU1JDOnQuX2F1ZGlvU1NSQztpIT09dm9pZCAwJiZ0aGlzLmNvbm5lY3Rpb24uc2V0U3RhdHNSZW1vdGVWaWRlb0lzUmVhZHkoaSwhMSk7fWFzeW5jIHVubXV0ZVJlbW90ZSh0LGUpe3JldHVybiB0aGlzLnVubXV0ZVJlbW90ZU5vTG9jayh0LGUpfWFzeW5jIHVubXV0ZVJlbW90ZU5vTG9jayh0LGUpe2lmKCF0aGlzLmNvbm5lY3Rpb24pcmV0dXJuO2xldCBuPXRoaXMucmVtb3RlVXNlck1hcC5nZXQodCk7aWYoIW4pcmV0dXJuIHZvaWQgXy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsLnVubXV0ZVJlbW90ZSBoYXMgbm8gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdCh0LnVpZCxcIi5cIikpO24uZ2V0KGUpfHxfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwudW5tdXRlUmVtb3RlIGhhcyBubyByZW1vdGUgdXNlciBcIikuY29uY2F0KHQudWlkLFwiIG1lZGlhIHR5cGUgXCIpLmNvbmNhdChlLFwiLlwiKSk7fWdldEFsbFRyYWNrcyh0KXtsZXQgZT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxBdWRpb1RyYWNrKTtpZihlPy50cmFjayBpbnN0YW5jZW9mIGdlKXtsZXQgbj1lLnRyYWNrO3JldHVybiBBcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLmZpbHRlcihpPT57bGV0W3JdPWk7cmV0dXJuIHIhPT1VLkxvY2FsQXVkaW9UcmFja30pLmZpbHRlcihpPT57bGV0W3JdPWk7cmV0dXJuICEodCYmcj09PVUuTG9jYWxWaWRlb0xvd1RyYWNrKX0pLm1hcChpPT57bGV0Wyx7dHJhY2s6cn1dPWk7cmV0dXJuIHJ9KS5jb25jYXQobi50cmFja0xpc3QpfXJldHVybiBBcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLmZpbHRlcihuPT57bGV0W2ldPW47cmV0dXJuICEodCYmaT09PVUuTG9jYWxWaWRlb0xvd1RyYWNrKX0pLm1hcChuPT57bGV0Wyx7dHJhY2s6aX1dPW47cmV0dXJuIGl9KX1nZXRBbGxEYXRhQ2hhbm5lbHMoKXtyZXR1cm4gdGhpcy5sb2NhbERhdGFDaGFubmVsc31yZXBvcnRQdWJsaXNoRXZlbnQodCxlLG4saSxyKXtpZih0KXtsZXQgcz10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxBdWRpb1RyYWNrKSxhPWk/dGhpcy5sb2NhbFRyYWNrTWFwLmdldChVLkxvY2FsVmlkZW9Mb3dUcmFjayk6dGhpcy5sb2NhbFRyYWNrTWFwLmdldChVLkxvY2FsVmlkZW9UcmFjayk7WC5wdWJsaXNoKHRoaXMuc3RvcmUuc2Vzc2lvbklkLHtldmVudEVsYXBzZTpxZS5tZWFzdXJlRnJvbVB1Ymxpc2hTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLHRoaXMuc3RvcmUucHViSWQpLHN1Y2M6dCxlYzplLGF1ZGlvTmFtZTpzPy50cmFjay5nZXRUcmFja0xhYmVsKCksdmlkZW9OYW1lOmE/LnRyYWNrLmdldFRyYWNrTGFiZWwoKSxzY3JlZW5zaGFyZTphPy50cmFjay5faGludHMuaW5kZXhPZihHdC5TQ1JFRU5fVFJBQ0spIT09LTEsYXVkaW86ISFzLHZpZGVvOiEhYSxwMnBpZDp0aGlzLnN0b3JlLnAycElkLHB1Ymxpc2hSZXF1ZXN0aWQ6dGhpcy5zdG9yZS5wdWJJZCxleHRlbmQ6cn0pO31lbHNlIHt2YXIgbztufHwobj1bXSk7bGV0IHM9bi5maW5kKGM9PmMgaW5zdGFuY2VvZiBRdCksYT1pPyhvPXRoaXMubG9jYWxUcmFja01hcC5nZXQoVS5Mb2NhbFZpZGVvVHJhY2spKT09PW51bGx8fG89PT12b2lkIDA/dm9pZCAwOm8udHJhY2s6bi5maW5kKGM9PmMgaW5zdGFuY2VvZiBGdCk7WC5wdWJsaXNoKHRoaXMuc3RvcmUuc2Vzc2lvbklkLHtldmVudEVsYXBzZTpxZS5tZWFzdXJlRnJvbVB1Ymxpc2hTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLHRoaXMuc3RvcmUucHViSWQpLHN1Y2M6dCxlYzplLGF1ZGlvTmFtZTpzPy5nZXRUcmFja0xhYmVsKCksdmlkZW9OYW1lOmE/LmdldFRyYWNrTGFiZWwoKSxzY3JlZW5zaGFyZTphPy5faGludHMuaW5kZXhPZihHdC5TQ1JFRU5fVFJBQ0spIT09LTEsYXVkaW86ISFzLHZpZGVvOiEhYSxwMnBpZDp0aGlzLnN0b3JlLnAycElkLHB1Ymxpc2hSZXF1ZXN0aWQ6dGhpcy5zdG9yZS5wdWJJZCxleHRlbmQ6cn0pO319cmVwb3J0U3Vic2NyaWJlRXZlbnQodCxlLG4saSl7bGV0IHI9aT09PVEuVklERU8/bi5fdmlkZW9TU1JDOm4uX2F1ZGlvU1NSQztyJiZYLnN1YnNjcmliZSh0aGlzLnN0b3JlLnNlc3Npb25JZCx7c3VjYzp0LGVjOmUsdmlkZW86aT09PVEuVklERU8sYXVkaW86aT09PVEuQVVESU8scGVlcmlkOm4udWlkLHN1YnNjcmliZVJlcXVlc3RpZDpyLHAycGlkOnRoaXMuc3RvcmUucDJwSWQsZXZlbnRFbGFwc2U6cWUubWVhc3VyZUZyb21TdWJzY3JpYmVTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLHIpLHByZVNzcmM6dGhpcy5pc1ByZVN1YlNjcmliZShyKX0pO31yZXNldCgpe18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwucmVzZXRcIikpLHRoaXMubXV0ZXg9bmV3IHplKFwiUDJQQ2hhbm5lbC1tdXRleFwiKSx0aGlzLmNvbm5lY3Rpb24mJih0aGlzLmNvbm5lY3Rpb24uY2xvc2UoKSx0aGlzLnVuYmluZENvbm5lY3Rpb25FdmVudHModGhpcy5jb25uZWN0aW9uKSx0aGlzLmNvbm5lY3Rpb249dm9pZCAwKSx0aGlzLnNob3VsZEZvcndhcmRQMlBDcmVhdGlvbiYmKHRoaXMuY29ubmVjdGlvbj10aGlzLmlzUGxhbkI/bmV3IFZhKHt9LHRoaXMuc3RvcmUpOm5ldyBraSh7fSx0aGlzLnN0b3JlKSx0aGlzLmJpbmRDb25uZWN0aW9uRXZlbnRzKHRoaXMuY29ubmVjdGlvbikpLHRoaXMuc3RhdHNVcGxvYWRlci5zdG9wVXBsb2FkT3V0Ym91bmRTdGF0cygpLHRoaXMuc3RhdHNVcGxvYWRlci5zdG9wVXBsb2FkSW5ib3VuZFN0YXRzKCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRUcmFuc3BvcnRTdGF0cygpLHRoaXMuc3RhdHNVcGxvYWRlci5zdG9wVXBsb2FkRXh0ZW5zaW9uVXNhZ2VTdGF0cygpLHRoaXMudW5iaW5kTG9jYWxUcmFja0V2ZW50cygpLHRoaXMudW5iaW5kQWxsUmVtb3RlVHJhY2tFdmVudHMoKSx0aGlzLnVuYmluZFJ0cFRyYW5zY2VpdmVyKCk7bGV0IHQ9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChVLkxvY2FsQXVkaW9UcmFjayk7aWYodD8udHJhY2sgaW5zdGFuY2VvZiBnZSl7aWYodC50cmFjay50cmFja0xpc3QubGVuZ3RoPjApe2xldCBlPXQudHJhY2s7dC50cmFjay50cmFja0xpc3QuZm9yRWFjaChuPT57ZS5yZW1vdmVBdWRpb1RyYWNrKG4pO30pO310LnRyYWNrLmNsb3NlKCk7fXRoaXMubG9jYWxUcmFja01hcC5jbGVhcigpLHRoaXMucmVtb3RlVXNlck1hcC5jbGVhcigpLHRoaXMuc3RhdHNDb2xsZWN0b3IucmVtb3ZlUmVtb3RlU3RhdHMoKSx0aGlzLnN0YXRzQ29sbGVjdG9yLnJlbW92ZUxvY2FsU3RhdHMoKSx0aGlzLmljZUZhaWxlZENvdW50PTAsdGhpcy5kdGxzRmFpbGVkQ291bnQ9MCx0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcz1bXSx0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3M9W10sdGhpcy5sb2NhbERhdGFDaGFubmVscz1bXSx0aGlzLnJlbW90ZURhdGFDaGFubmVsTWFwLmNsZWFyKCksdGhpcy5wZW5kaW5nTG9jYWxEYXRhQ2hhbm5lbHM9W10sdGhpcy5wZW5kaW5nUmVtb3RlRGF0YUNoYW5uZWxzPVtdLHRoaXMuc3RhdGU9UnQuRGlzY29ubmVjdGVkO31nZXRTdGF0cygpe3ZhciB0O3JldHVybiAodD10aGlzLmNvbm5lY3Rpb24pPT09bnVsbHx8dD09PXZvaWQgMD92b2lkIDA6dC5nZXRTdGF0cygpfWdldFJlbW90ZVZpZGVvSXNSZWFkeSh0KXt2YXIgZTtyZXR1cm4gKChlPXRoaXMuY29ubmVjdGlvbik9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLmdldFJlbW90ZVZpZGVvSXNSZWFkeSh0KSl8fCExfWdldExvY2FsQXVkaW9Wb2x1bWUoKXtsZXQgdD10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxBdWRpb1RyYWNrKTtpZih0KXJldHVybiB0LnRyYWNrLmdldFZvbHVtZUxldmVsKCl9Z2V0TG9jYWxWaWRlb1NpemUoKXtsZXQgdD10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxWaWRlb1RyYWNrKTtpZih0KXJldHVybiB7d2lkdGg6dC50cmFjay52aWRlb1dpZHRofHwwLGhlaWdodDp0LnRyYWNrLnZpZGVvSGVpZ2h0fHwwfX1nZXRFbmNvZGVyQ29uZmlnKHQpe2xldCBlPXRoaXMubG9jYWxUcmFja01hcC5nZXQodCk7cmV0dXJuIGUmJmUudHJhY2sgaW5zdGFuY2VvZiBGdHx8ZSYmZS50cmFjayBpbnN0YW5jZW9mIFF0P2UudHJhY2suX2VuY29kZXJDb25maWc6dm9pZCAwfWdldExvY2FsTWVkaWEodCl7cmV0dXJuIHRoaXMubG9jYWxUcmFja01hcC5nZXQodCl9aGFzTG9jYWxNZWRpYSgpe3JldHVybiB0aGlzLmxvY2FsVHJhY2tNYXAuc2l6ZT4wfWhhc1JlbW90ZU1lZGlhKHQsZSl7aWYoIXQpcmV0dXJuIHRoaXMucmVtb3RlVXNlck1hcC5zaXplPjA7bGV0IG49dGhpcy5yZW1vdGVVc2VyTWFwLmdldCh0KTtyZXR1cm4gISFuJiYoIWV8fG4uaGFzKGUpKX1hc3luYyBoYXNSZW1vdGVNZWRpYVdpdGhMb2NrKHQsZSl7aWYoIXQpcmV0dXJuIHRoaXMucmVtb3RlVXNlck1hcC5zaXplPjA7bGV0IG49dGhpcy5yZW1vdGVVc2VyTWFwLmdldCh0KTtyZXR1cm4gISFuJiYoIWV8fG4uaGFzKGUpKX1nZXRSZW1vdGVNZWRpYSh0KXt2YXIgZTtsZXQgbj1BcnJheS5mcm9tKHhuKGU9dGhpcy5yZW1vdGVVc2VyTWFwKS5jYWxsKGUpKS5maW5kKGk9PmkudWlkPT09dCk7cmV0dXJuIG4/e2F1ZGlvVHJhY2s6bi5hdWRpb1RyYWNrLGF1ZGlvU1NSQzpuLl9hdWRpb1NTUkMsdmlkZW9UcmFjazpuLnZpZGVvVHJhY2ssdmlkZW9TU1JDOm4uX3ZpZGVvU1NSQ306e319Z2V0QXVkaW9MZXZlbHMoKXtsZXQgdD1BcnJheS5mcm9tKHRoaXMucmVtb3RlVXNlck1hcC5lbnRyaWVzKCkpLm1hcChuPT57bGV0W2ldPW47cmV0dXJuIHt1aWQ6aS51aWQsbGV2ZWw6aS5hdWRpb1RyYWNrPzEwMCppLmF1ZGlvVHJhY2suX3NvdXJjZS5nZXRBY2N1cmF0ZVZvbHVtZUxldmVsKCk6MH19KSxlPXRoaXMubG9jYWxUcmFja01hcC5nZXQoVS5Mb2NhbEF1ZGlvVHJhY2spO3JldHVybiBlJiZ0LnB1c2goe2xldmVsOjEwMCplLnRyYWNrLl9zb3VyY2UuZ2V0QWNjdXJhdGVWb2x1bWVMZXZlbCgpLHVpZDp0aGlzLnN0b3JlLnVpZH0pLHQ9ZWQodCkuY2FsbCh0LChuLGkpPT5uLmxldmVsLWkubGV2ZWwpLHR9YXN5bmMgZGlzY29ubmVjdEZvclJlY29ubmVjdCgpe3RoaXMuY29ubmVjdGlvbiYmKF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwuZGlzY29ubmVjdEZvclJlY29ubmVjdCBjbG9zaW5nIFAyUENvbm5lY3Rpb25cIikpLHRoaXMuc3RhdGU9UnQuUmVjb25uZWN0aW5nLHYoXCJLRUVQX0xBU1RfRlJBTUVcIikmJnRoaXMucmVtb3RlVXNlck1hcC5zaXplIT09MCYmQXJyYXkuZnJvbSh0aGlzLnJlbW90ZVVzZXJNYXAuZW50cmllcygpKS5mb3JFYWNoKHQ9PntsZXRbZV09dDt2YXIgbjtlLl92aWRlb1RyYWNrJiZlLl92aWRlb1RyYWNrLl9wbGF5ZXImJigobj1lLl92aWRlb1RyYWNrLl9wbGF5ZXIuZ2V0VmlkZW9FbGVtZW50KCkpPT09bnVsbHx8bj09PXZvaWQgMHx8bi5wYXVzZSgpLGUuX3ZpZGVvVHJhY2suX3BsYXllci5pc0tlZXBMYXN0RnJhbWU9ITAsZS5fdmlkZW9UcmFjay5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5zdG9wKCkpO30pLHRoaXMuY29ubmVjdGlvbi5jbG9zZSgpLHRoaXMudW5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLmNvbm5lY3Rpb24pLHRoaXMuY29ubmVjdGlvbj12b2lkIDAsdGhpcy5zaG91bGRGb3J3YXJkUDJQQ3JlYXRpb24mJih0aGlzLmNvbm5lY3Rpb249dGhpcy5pc1BsYW5CP25ldyBWYSh7fSx0aGlzLnN0b3JlKTpuZXcga2koe30sdGhpcy5zdG9yZSksdGhpcy5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLmNvbm5lY3Rpb24pKSx0aGlzLmxvY2FsVHJhY2tNYXAuc2l6ZSE9PTAmJihBcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLmZvckVhY2godD0+e3ZhciBlO2xldFtuLHt0cmFjazppfV09dDtzd2l0Y2gobil7Y2FzZSBVLkxvY2FsVmlkZW9UcmFjazpXKGU9aS5faGludHMpLmNhbGwoZSxHdC5MT1dfU1RSRUFNKT9pLmNsb3NlKCk6dGhpcy5wZW5kaW5nTG9jYWxUcmFja3MucHVzaChpKTticmVhaztjYXNlIFUuTG9jYWxBdWRpb1RyYWNrOmkgaW5zdGFuY2VvZiBnZT90aGlzLnBlbmRpbmdMb2NhbFRyYWNrcz10aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5jb25jYXQoaS50cmFja0xpc3QpOnRoaXMucGVuZGluZ0xvY2FsVHJhY2tzLnB1c2goaSk7Y2FzZSBVLkxvY2FsVmlkZW9Mb3dUcmFjazp9fSksdGhpcy5lbWl0KHR0Lk1lZGlhUmVjb25uZWN0U3RhcnQsdGhpcy5zdG9yZS51aWQpKSx0aGlzLnVuYmluZExvY2FsVHJhY2tFdmVudHMoKSx0aGlzLmxvY2FsVHJhY2tNYXAuY2xlYXIoKSx0aGlzLnJlbW90ZVVzZXJNYXAuc2l6ZSE9PTAmJkFycmF5LmZyb20odGhpcy5yZW1vdGVVc2VyTWFwLmVudHJpZXMoKSkuZm9yRWFjaCh0PT57bGV0W2Usbl09dDtBcnJheS5mcm9tKHhuKG4pLmNhbGwobikpLmZvckVhY2goaT0+e3RoaXMuc2V0UGVuZGluZ1JlbW90ZU1lZGlhKGUsaSk7fSksdGhpcy5lbWl0KHR0Lk1lZGlhUmVjb25uZWN0U3RhcnQsZS51aWQpO30pLHRoaXMudW5iaW5kQWxsUmVtb3RlVHJhY2tFdmVudHMoKSx0aGlzLnJlbW90ZVVzZXJNYXAuY2xlYXIoKSx0aGlzLmxvY2FsRGF0YUNoYW5uZWxzLmxlbmd0aCE9PTAmJih0aGlzLmxvY2FsRGF0YUNoYW5uZWxzLmZvckVhY2godD0+e3RoaXMucGVuZGluZ0xvY2FsRGF0YUNoYW5uZWxzLnB1c2godCk7fSksdGhpcy5sb2NhbERhdGFDaGFubmVscy5sZW5ndGg9MCksdGhpcy5yZW1vdGVEYXRhQ2hhbm5lbE1hcC5zaXplIT09MCYmKEFycmF5LmZyb20odGhpcy5yZW1vdGVEYXRhQ2hhbm5lbE1hcC5lbnRyaWVzKCkpLmZvckVhY2godD0+e2xldFtlLG5dPXQ7QXJyYXkuZnJvbSh4bihuKS5jYWxsKG4pKS5mb3JFYWNoKGk9Pnt0aGlzLnNldFBlbmRpbmdSZW1vdGVEYXRhQ2hhbm5lbChlLGkpO30pO30pLHRoaXMucmVtb3RlRGF0YUNoYW5uZWxNYXAuY2xlYXIoKSksdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRPdXRib3VuZFN0YXRzKCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRJbmJvdW5kU3RhdHMoKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RvcFVwbG9hZFRyYW5zcG9ydFN0YXRzKCksXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ2hhbm5lbCBkaXNjb25uZWN0ZWQsIHdhaXRpbmcgdG8gcmVjb25uZWN0LlwiKSkpO31oYXNQZW5kaW5nUmVtb3RlRGF0YUNoYW5uZWwodCxlKXtmb3IobGV0IG4gb2YgdGhpcy5wZW5kaW5nUmVtb3RlRGF0YUNoYW5uZWxzKXtsZXR7dXNlcjppLGlkOnJ9PW47aWYoKHQgaW5zdGFuY2VvZiBpcj90LnVpZDp0KT09PWkudWlkJiZyPT09ZSlyZXR1cm4gITB9cmV0dXJuICExfXNldFBlbmRpbmdSZW1vdGVEYXRhQ2hhbm5lbCh0LGUpe3RoaXMuaGFzUGVuZGluZ1JlbW90ZURhdGFDaGFubmVsKHQsZSl8fHRoaXMucGVuZGluZ1JlbW90ZURhdGFDaGFubmVscy5wdXNoKHt1c2VyOnQsaWQ6ZX0pO31oYXNQZW5kaW5nUmVtb3RlTWVkaWEodCxlKXtmb3IobGV0IG4gb2YgdGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzKXtsZXR7dXNlcjppLGtpbmQ6cn09bjtpZigodCBpbnN0YW5jZW9mIGlyP3QudWlkOnQpPT09aS51aWQmJmU9PT1yKXJldHVybiAhMH1yZXR1cm4gITF9c2V0UGVuZGluZ1JlbW90ZU1lZGlhKHQsZSl7dGhpcy5oYXNQZW5kaW5nUmVtb3RlTWVkaWEodCxlKXx8dGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzLnB1c2goe3VzZXI6dCxraW5kOmV9KTt9cmVzdGFydElDRSh0KXt2YXIgZT10aGlzO3JldHVybiBCaShmdW5jdGlvbiooKXtpZighZS5jb25uZWN0aW9ufHxlLnN0YXRlIT09UnQuQ29ubmVjdGVkKXJldHVybjtsZXQgbj15aWVsZCBUdChlLm11dGV4LmxvY2soXCJGcm9tIFAyUENoYW5uZWwucmVzdGFydElDRVwiKSksaTt0cnl7aT15aWVsZCBUdChlLmNvbm5lY3Rpb24ucmVzdGFydElDRSh0KSk7bGV0IG89eWllbGQgVHQoaS5uZXh0KCkpO2lmKG8uZG9uZSlyZXR1cm47bGV0IHM9by52YWx1ZSxhPXlpZWxkIHM7c3dpdGNoKGUucmVwb3J0UENEaXNjb25uZWN0ZWRPckZhaWxlZCh0KSx0KXtjYXNlIE9uLlRDUDplLl9wY1N0YXRzVXBsb2FkVHlwZT1Uci5UQ1BfUkVTVEFSVDticmVhaztjYXNlIE9uLlJFTEFZOmUuX3BjU3RhdHNVcGxvYWRUeXBlPVRyLlJFTEFZX1JFU1RBUlQ7YnJlYWs7ZGVmYXVsdDplLl9wY1N0YXRzVXBsb2FkVHlwZT1Uci5PTERfUkVTVEFSVDt9ZS5faXNJblJlc3RhcnRJY2U9ITAsaS5uZXh0KGEpO31jYXRjaChvKXt2YXIgcjsocj1pKT09PW51bGx8fHI9PT12b2lkIDB8fHIudGhyb3cobyk7fWZpbmFsbHl7bigpO319KSgpfWdldFVwbGlua05ldHdvcmtRdWFsaXR5KCl7aWYoIXRoaXMuY29ubmVjdGlvbilyZXR1cm4gMDtsZXQgdD10aGlzLmNvbm5lY3Rpb24uZ2V0U3RhdHMoKSxlPXRoaXMubG9jYWxUcmFja01hcC5nZXQoVS5Mb2NhbFZpZGVvVHJhY2spLG49dGhpcy5sb2NhbFRyYWNrTWFwLmdldChVLkxvY2FsQXVkaW9UcmFjayksaT10LnZpZGVvU2VuZC5maW5kKHA9PnAuc3NyYz09PWU/LnNzcmNzWzBdLnNzcmNJZCkscj10LmF1ZGlvU2VuZC5maW5kKHA9PnAuc3NyYz09PW4/LnNzcmNzWzBdLnNzcmNJZCk7aWYoIWl8fCFyKXJldHVybiAxO2xldCBvPW5pKHRoaXMsdHQuTmVlZFNpZ25hbFJUVCkscz1pP2kucnR0TXM6dm9pZCAwLGE9cj9yLnJ0dE1zOnZvaWQgMCxjPXMmJmE/KHMrYSkvMjpzfHxhLGQ9KGMmJm8/KGMrbykvMjpjfHxvKXx8MCxsPTEwMCp0LnNlbmRQYWNrZXRMb3NzUmF0ZSouNy81MCsuMypkLzE1MDAsdT1sPC4xNz8xOmw8LjM2PzI6bDwuNTk/MzpsPC4xPzQ6NSxoPWU/LnRyYWNrO2lmKGgmJmguX2VuY29kZXJDb25maWcmJmguX2hpbnRzLmluZGV4T2YoR3QuU0NSRUVOX1RSQUNLKT09PS0xKXtsZXQgcD1oLl9lbmNvZGVyQ29uZmlnLmJpdHJhdGVNYXgsZz10LmJpdHJhdGUuYWN0dWFsRW5jb2RlZDtpZihwJiZnKXtsZXQgRT0oMWUzKnAtZykvKDFlMypwKTtyZXR1cm4gT09bRTwuMTU/MDpFPC4zPzE6RTwuNDU/MjpFPC42PzM6NF1bdV19fXJldHVybiB1fWdldERvd25saW5rTmV0d29ya1F1YWxpdHkoKXtpZighdGhpcy5jb25uZWN0aW9uKXJldHVybiAwO2xldCB0PXRoaXMuY29ubmVjdGlvbi5nZXRTdGF0cygpLGU9MDtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnJlbW90ZVVzZXJNYXAuZW50cmllcygpKS5mb3JFYWNoKG49PntsZXRbaV09bixyPWkuX2F1ZGlvU1NSQyxvPWkuX3ZpZGVvU1NSQyxzPXQuYXVkaW9SZWN2LmZpbmQoZz0+Zy5zc3JjPT09ciksYT10LnZpZGVvUmVjdi5maW5kKGc9Pmcuc3NyYz09PW8pO2lmKCFzJiYhYSlyZXR1cm4gdm9pZChlKz0xKTtsZXQgYz1uaSh0aGlzLHR0Lk5lZWRTaWduYWxSVFQpLGQ9dC5ydHQsbD0oZCYmYz8oZCtjKS8yOmR8fGMpfHwwLHU9cz9zLmppdHRlck1zOnZvaWQgMCxoPXQucmVjdlBhY2tldExvc3NSYXRlLHA9LjcqaCoxMDAvNTArLjMqbC8xNTAwO3UmJihwPS42KmgqMTAwLzUwKy4yKmwvMTUwMCsuMip1LzQwMCksZSs9cDwuMT8xOnA8LjE3PzI6cDwuMzY/MzpwPC41OT80OjU7fSksdGhpcy5yZW1vdGVVc2VyTWFwLnNpemU+MD9NYXRoLnJvdW5kKGUvdGhpcy5yZW1vdGVVc2VyTWFwLnNpemUpOmV9YXN5bmMgbXV0ZUxvY2FsVHJhY2sodCl7cmV0dXJuIG5ldyBqKChlLG4pPT57dGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayh0LGUsbik7fSl9YXN5bmMgcmVwbGFjZVRyYWNrKHQsZSl7dmFyIG47aWYoXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ2hhbm5lbCByZXBsYWNlVHJhY2sgZnJvbSBbXCIpLmNvbmNhdCh0LmdldFRyYWNrSWQoKSxcIl0gdG8gW1wiKS5jb25jYXQoZS5nZXRUcmFja0lkKCksXCJdXCIpKSwhdGhpcy5jb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09UnQuQ29ubmVjdGVkKXJldHVybjtsZXQgaT1BcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLmZpbmQobz0+e2xldFsse3RyYWNrOnN9XT1vO3JldHVybiB0PT09c30pO2lmKCFpKXJldHVybjtsZXQgcj1pWzBdO2lmKHQhPT1lJiYodGhpcy51bmJpbmRMb2NhbFRyYWNrRXZlbnRzKFt7dHJhY2s6dCx0eXBlOnJ9XSksdGhpcy5iaW5kTG9jYWxUcmFja0V2ZW50cyhbe3RyYWNrOmUsdHlwZTpyfV0pLGlbMV0udHJhY2s9ZSksYXdhaXQoKG49dGhpcy5jb25uZWN0aW9uKT09PW51bGx8fG49PT12b2lkIDA/dm9pZCAwOm4ucmVwbGFjZVRyYWNrKGUsaVsxXS5pZCkpLHRoaXMuaXNQbGFuQil7bGV0IG89aVsxXTtvLmlkPWUuX21lZGlhU3RyZWFtVHJhY2suaWQsdGhpcy5sb2NhbFRyYWNrTWFwLnNldChyLG8pO31pZihyPT09VS5Mb2NhbFZpZGVvVHJhY2smJiF2KFwiRElTQUJMRV9EVUFMX1NUUkVBTV9VU0VfRU5DT0RJTkdcIikmJmZ0KCkuc3VwcG9ydER1YWxTdHJlYW1FbmNvZGluZyl7bGV0IG89dGhpcy5sb2NhbFRyYWNrTWFwLmdldChVLkxvY2FsVmlkZW9Mb3dUcmFjayk7aWYobyl7bGV0IHM9dC5fbWVkaWFTdHJlYW1UcmFjay5jbG9uZSgpO28udHJhY2suX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suc3RvcCgpLG8udHJhY2suX21lZGlhU3RyZWFtVHJhY2s9cyxvLnRyYWNrLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrPXMsYXdhaXQgbmV3IGooKGEsYyk9Pnt0aGlzLmhhbmRsZVJlcGxhY2VUcmFjayhvLnRyYWNrLGEsYywhMCk7fSk7fX19ZmlsdGVyVG9iZVB1Ymxpc2hlZFRyYWNrcyh0LGUsbil7bGV0IGk9W10scj10aGlzLmdldEFsbFRyYWNrcygpO3Q9THModD10LmZpbHRlcihjPT5yLmluZGV4T2YoYyk9PT0tMSkpO2xldCBvLHM9ITEsYT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxBdWRpb1RyYWNrKTtmb3IobGV0IGMgb2YgdCl7aWYoYyBpbnN0YW5jZW9mIEZ0JiYodGhpcy5sb2NhbFRyYWNrTWFwLmhhcyhVLkxvY2FsVmlkZW9UcmFjayl8fHM/bmV3IE4oUi5DQU5fTk9UX1BVQkxJU0hfTVVMVElQTEVfVklERU9fVFJBQ0tTKS50aHJvdygpOihpLnB1c2goe3RyYWNrOmMsdHlwZTpVLkxvY2FsVmlkZW9UcmFja30pLHM9ITApLGUpKXtsZXQgZD10aGlzLmdldExvd1ZpZGVvVHJhY2soYyxuKTtpLnB1c2goe3RyYWNrOmQsdHlwZTpVLkxvY2FsVmlkZW9Mb3dUcmFja30pO31pZihjIGluc3RhbmNlb2YgUXQpaWYoYSl7bGV0IGQ9YS50cmFjaztpZihkIGluc3RhbmNlb2YgZ2UpbG0oW2NdKSxkLmFkZEF1ZGlvVHJhY2soYyksdGhpcy5iaW5kTG9jYWxBdWRpb1RyYWNrRXZlbnRzKGMsITApO2Vsc2Uge2xldCBsPUVfKFtkLGNdKTtfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24gd2lsbCByZXBsYWNlIGF1ZGlvVHJhY2sgW1wiKS5jb25jYXQobC5nZXRUcmFja0lkKCksXCJdXCIpKSx0aGlzLnJlcGxhY2VUcmFjayhkLGwpO319ZWxzZSBvIGluc3RhbmNlb2YgZ2U/KGxtKFtjXSksby5hZGRBdWRpb1RyYWNrKGMpKTpvfHwhYy5fdXNlQXVkaW9FbGVtZW50JiZmdCgpLndlYkF1ZGlvTWVkaWFTdHJlYW1EZXN0JiYhYy5fYnlwYXNzV2ViQXVkaW8/bz1FXyhvP1tjLG9dOltjXSk6bz1jO31yZXR1cm4gbyYmKF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwMnBJZDogXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXTogUDJQQ29ubmVjdGlvbiB3aWxsIHNlbmQgYXVkaW9UcmFjayBbXCIpLmNvbmNhdChvLmdldFRyYWNrSWQoKSxcIl1cIikpLGkucHVzaCh7dHJhY2s6byx0eXBlOlUuTG9jYWxBdWRpb1RyYWNrfSkpLGl9ZmlsdGVyVG9iZVVucHVibGlzaGVkVHJhY2tzKHQpe2xldCBlPVtdLG49dGhpcy5nZXRBbGxUcmFja3MoKTt0PUxzKHQ9dC5maWx0ZXIoaT0+bi5pbmRleE9mKGkpIT09LTEpKTtmb3IobGV0IGkgb2YgdCl7aWYoaSBpbnN0YW5jZW9mIFF0KXtsZXQgcj10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxBdWRpb1RyYWNrKTtpZighciljb250aW51ZTtyLnRyYWNrIGluc3RhbmNlb2YgZ2U/KHIudHJhY2sucmVtb3ZlQXVkaW9UcmFjayhpKSx0aGlzLnVuYmluZExvY2FsQXVkaW9UcmFja0V2ZW50cyhpKSxyLnRyYWNrLnRyYWNrTGlzdC5sZW5ndGg9PT0wJiYoZS5wdXNoKFtVLkxvY2FsQXVkaW9UcmFjayxyXSksci50cmFjay5jbG9zZSgpKSk6ZS5wdXNoKFtVLkxvY2FsQXVkaW9UcmFjayxyXSk7fWlmKGkgaW5zdGFuY2VvZiBGdCl7bGV0IHI9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChVLkxvY2FsVmlkZW9UcmFjayk7aWYoIXIpY29udGludWU7ZS5wdXNoKFtVLkxvY2FsVmlkZW9UcmFjayxyXSk7bGV0IG89dGhpcy5sb2NhbFRyYWNrTWFwLmdldChVLkxvY2FsVmlkZW9Mb3dUcmFjayk7byYmZS5wdXNoKFtVLkxvY2FsVmlkZW9Mb3dUcmFjayxvXSk7fX1yZXR1cm4gZX1maWx0ZXJUb2JlUHVibGlzaGVkRGF0YUNoYW5uZWxzKHQpe3JldHVybiB0PSh0PUxzKHQpKS5maWx0ZXIoZT0+dGhpcy5sb2NhbERhdGFDaGFubmVscy5maW5kSW5kZXgobj0+bi5pZD09PWUuaWQpPT09LTEpfWZpbHRlclRvYmVVbnB1Ymxpc2hlZERhdGFDaGFubmVscyh0KXtyZXR1cm4gdD0odD0odD1Mcyh0KSkuZmlsdGVyKGU9PnRoaXMubG9jYWxEYXRhQ2hhbm5lbHMuaW5kZXhPZihlKSE9PS0xKSkuZmlsdGVyKGU9PmUuX29yaWdpbkRhdGFDaGFubmVsKX1iaW5kTG9jYWxUcmFja0V2ZW50cyh0KXt0LmZvckVhY2goZT0+e2xldHt0cmFjazpuLHR5cGU6aX09ZTtzd2l0Y2goaSl7Y2FzZSBVLkxvY2FsVmlkZW9UcmFjazpuLmFkZExpc3RlbmVyKEguR0VUX1NUQVRTLHRoaXMuaGFuZGxlR2V0TG9jYWxWaWRlb1N0YXRzKSxuLmFkZExpc3RlbmVyKEguR0VUX1JUQ19TVEFUUyx0aGlzLmhhbmRsZUdldFJUQ1N0YXRzKSxuLmFkZExpc3RlbmVyKEguTkVFRF9ESVNBQkxFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLG4uYWRkTGlzdGVuZXIoSC5ORUVEX0VOQUJMRV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spLG4uYWRkTGlzdGVuZXIoSC5ORUVEX1VQREFURV9WSURFT19FTkNPREVSLHRoaXMuaGFuZGxlVXBkYXRlVmlkZW9FbmNvZGVyKSxuLmFkZExpc3RlbmVyKEguTkVFRF9VUERBVEVfVklERU9fU0VORF9QQVJBTUVURVJTLHRoaXMuaGFuZGxlVXBkYXRlVmlkZW9TZW5kUGFyYW1ldGVycyksbi5hZGRMaXN0ZW5lcihILk5FRURfUkVQTEFDRV9UUkFDSyx0aGlzLmhhbmRsZVJlcGxhY2VUcmFjayksbi5hZGRMaXN0ZW5lcihILk5FRURfTVVURV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSxuLmFkZExpc3RlbmVyKEguTkVFRF9VTk1VVEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKTticmVhaztjYXNlIFUuTG9jYWxBdWRpb1RyYWNrOnRoaXMuYmluZExvY2FsQXVkaW9UcmFja0V2ZW50cyhuKTtjYXNlIFUuTG9jYWxWaWRlb0xvd1RyYWNrOn19KTt9YmluZExvY2FsQXVkaW9UcmFja0V2ZW50cyh0LGUpe3QgaW5zdGFuY2VvZiBnZT90LnRyYWNrTGlzdC5mb3JFYWNoKG49PntuLmFkZExpc3RlbmVyKEguTkVFRF9ESVNBQkxFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLG4uYWRkTGlzdGVuZXIoSC5ORUVEX0VOQUJMRV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spLG4uYWRkTGlzdGVuZXIoSC5HRVRfU1RBVFMsdGhpcy5oYW5kbGVHZXRMb2NhbEF1ZGlvU3RhdHMpLG4uYWRkTGlzdGVuZXIoSC5ORUVEX01VVEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksbi5hZGRMaXN0ZW5lcihILk5FRURfVU5NVVRFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayk7fSk6KHQuYWRkTGlzdGVuZXIoSC5HRVRfU1RBVFMsdGhpcy5oYW5kbGVHZXRMb2NhbEF1ZGlvU3RhdHMpLHQuYWRkTGlzdGVuZXIoSC5ORUVEX0RJU0FCTEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksdC5hZGRMaXN0ZW5lcihILk5FRURfRU5BQkxFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayksdC5hZGRMaXN0ZW5lcihILk5FRURfTVVURV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSx0LmFkZExpc3RlbmVyKEguTkVFRF9VTk1VVEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKSxlfHwodC5hZGRMaXN0ZW5lcihILk5FRURfUkVQTEFDRV9UUkFDSyx0aGlzLmhhbmRsZVJlcGxhY2VUcmFjayksdC5hZGRMaXN0ZW5lcihILk5FRURfUkVQTEFDRV9NSVhJTkdfVFJBQ0ssdGhpcy5oYW5kbGVSZXBsYWNlTWl4aW5nVHJhY2spKSk7fXVuYmluZExvY2FsVHJhY2tFdmVudHModCl7dHx8KHQ9QXJyYXkuZnJvbSh0aGlzLmxvY2FsVHJhY2tNYXAuZW50cmllcygpKS5tYXAoZT0+e2xldFtuLHt0cmFjazppfV09ZTtyZXR1cm4ge3RyYWNrOmksdHlwZTpufX0pKSx0LmZvckVhY2goZT0+e2xldHt0cmFjazpuLHR5cGU6aX09ZTtzd2l0Y2goaSl7Y2FzZSBVLkxvY2FsVmlkZW9UcmFjazpuLm9mZihILkdFVF9TVEFUUyx0aGlzLmhhbmRsZUdldExvY2FsVmlkZW9TdGF0cyksbi5vZmYoSC5HRVRfUlRDX1NUQVRTLHRoaXMuaGFuZGxlR2V0UlRDU3RhdHMpLG4ub2ZmKEguTkVFRF9ESVNBQkxFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLG4ub2ZmKEguTkVFRF9FTkFCTEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKSxuLm9mZihILk5FRURfVVBEQVRFX1ZJREVPX0VOQ09ERVIsdGhpcy5oYW5kbGVVcGRhdGVWaWRlb0VuY29kZXIpLG4ub2ZmKEguTkVFRF9VUERBVEVfVklERU9fU0VORF9QQVJBTUVURVJTLHRoaXMuaGFuZGxlVXBkYXRlVmlkZW9TZW5kUGFyYW1ldGVycyksbi5vZmYoSC5ORUVEX1JFUExBQ0VfVFJBQ0ssdGhpcy5oYW5kbGVSZXBsYWNlVHJhY2spLG4ub2ZmKEguTkVFRF9NVVRFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLG4ub2ZmKEguTkVFRF9VTk1VVEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKTticmVhaztjYXNlIFUuTG9jYWxBdWRpb1RyYWNrOnRoaXMudW5iaW5kTG9jYWxBdWRpb1RyYWNrRXZlbnRzKG4pO2Nhc2UgVS5Mb2NhbFZpZGVvTG93VHJhY2s6fX0pO311bmJpbmRMb2NhbEF1ZGlvVHJhY2tFdmVudHModCl7dCBpbnN0YW5jZW9mIGdlP3QudHJhY2tMaXN0LmZvckVhY2goZT0+e2Uub2ZmKEguTkVFRF9ESVNBQkxFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLGUub2ZmKEguTkVFRF9FTkFCTEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKSxlLm9mZihILkdFVF9TVEFUUyx0aGlzLmhhbmRsZUdldExvY2FsQXVkaW9TdGF0cyksZS5vZmYoSC5ORUVEX01VVEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksZS5vZmYoSC5ORUVEX1VOTVVURV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spO30pOih0Lm9mZihILkdFVF9TVEFUUyx0aGlzLmhhbmRsZUdldExvY2FsQXVkaW9TdGF0cyksdC5vZmYoSC5ORUVEX0RJU0FCTEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksdC5vZmYoSC5ORUVEX0VOQUJMRV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spLHQub2ZmKEguTkVFRF9SRVBMQUNFX1RSQUNLLHRoaXMuaGFuZGxlUmVwbGFjZVRyYWNrKSx0Lm9mZihILk5FRURfUkVQTEFDRV9NSVhJTkdfVFJBQ0ssdGhpcy5oYW5kbGVSZXBsYWNlTWl4aW5nVHJhY2spLHQub2ZmKEguTkVFRF9NVVRFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLHQub2ZmKEguTkVFRF9VTk1VVEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKSk7fWJpbmRSZW1vdGVUcmFja0V2ZW50cyh0LGUpe2UgaW5zdGFuY2VvZiBIcyYmZS5hZGRMaXN0ZW5lcihILkdFVF9TVEFUUyxuPT57bih0aGlzLmhhbmRsZUdldFJlbW90ZVZpZGVvU3RhdHModCkpO30pLGUgaW5zdGFuY2VvZiBLcyYmZS5hZGRMaXN0ZW5lcihILkdFVF9TVEFUUyxuPT57bih0aGlzLmhhbmRsZUdldFJlbW90ZUF1ZGlvU3RhdHModCkpO30pO311bmJpbmRSZW1vdGVUcmFja0V2ZW50cyh0KXt0JiZ0LnJlbW92ZUFsbExpc3RlbmVycyhILkdFVF9TVEFUUyk7fXVuYmluZEFsbFJlbW90ZVRyYWNrRXZlbnRzKCl7QXJyYXkuZnJvbSh0aGlzLnJlbW90ZVVzZXJNYXAuZW50cmllcygpKS5mb3JFYWNoKHQ9PntsZXRbZSxuXT10O24uaGFzKFEuQVVESU8pJiZ0aGlzLnVuYmluZFJlbW90ZVRyYWNrRXZlbnRzKGUuX2F1ZGlvVHJhY2spLG4uaGFzKFEuVklERU8pJiZ0aGlzLnVuYmluZFJlbW90ZVRyYWNrRXZlbnRzKGUuX3ZpZGVvVHJhY2spO30pO31jcmVhdGVHYXRld2F5UHVibGlzaE1lc3NhZ2UodCxlKXtyZXR1cm4gdC5tYXAoKG4saSk9Pnt2YXIgcjtsZXQgbyxzLHt0cmFjazphLHR5cGU6Y309bjtzd2l0Y2goYyl7Y2FzZSBVLkxvY2FsQXVkaW9UcmFjazpvPUN0LkF1ZGlvLHM9e2R0eDphIGluc3RhbmNlb2Ygb3UmJmEuX2NvbmZpZy5EVFgsaHE6ITEsbHE6ITEsc3RlcmVvOiExLHNwZWVjaDohMX07YnJlYWs7Y2FzZSBVLkxvY2FsVmlkZW9UcmFjazpvPVcocj1hLl9oaW50cykuY2FsbChyLEd0LlNDUkVFTl9UUkFDSyk/Q3QuU2NyZWVuOkN0LkhpZ2gscz1aaShaaSh7fSxHUihhKSkse30se2NvZGVjOnRoaXMuc3RvcmUuY29kZWMsc3ZjX21vZGU6JEUoKX0pO2JyZWFrO2Nhc2UgVS5Mb2NhbFZpZGVvTG93VHJhY2s6bz1DdC5Mb3cscz1aaShaaSh7fSxHUihhKSkse30se2NvZGVjOnRoaXMuc3RvcmUuY29kZWMsc3ZjX21vZGU6JEUoKX0pO31yZXR1cm4ge3N0cmVhbV90eXBlOm8sYXR0cmlidXRlczpzLHNzcmNzOmVbaV19fSl9Y3JlYXRlR2F0ZXdheVVucHVibGlzaE1lc3NhZ2UodCl7cmV0dXJuIHQubWFwKGU9Pnt2YXIgbjtsZXQgaSxbcix7dHJhY2s6byxzc3JjczpzLGlkOmF9XT1lO3N3aXRjaChyKXtjYXNlIFUuTG9jYWxWaWRlb1RyYWNrOmk9VyhuPW8uX2hpbnRzKS5jYWxsKG4sR3QuU0NSRUVOX1RSQUNLKT9DdC5TY3JlZW46Q3QuSGlnaDticmVhaztjYXNlIFUuTG9jYWxBdWRpb1RyYWNrOmk9Q3QuQXVkaW87YnJlYWs7Y2FzZSBVLkxvY2FsVmlkZW9Mb3dUcmFjazppPUN0Lkxvdzt9cmV0dXJuIHtzdHJlYW1fdHlwZTppLHNzcmNzOnMsbWlkOmF9fSl9YXNzaWduTG9jYWxUcmFja3ModCxlKXt0LmZvckVhY2goKG4saSk9PntsZXR7dHJhY2s6cix0eXBlOm99PW47dGhpcy5sb2NhbFRyYWNrTWFwLnNldChvLHt0cmFjazpyLGlkOmVbaV0uaWQsc3NyY3M6ZVtpXS5sb2NhbFNTUkN9KTt9KTt9d2l0aGRyYXdMb2NhbFRyYWNrcyh0KXt0LmZvckVhY2goZT0+e2xldFtuXT1lO3RoaXMubG9jYWxUcmFja01hcC5kZWxldGUobik7fSk7fWJpbmRDb25uZWN0aW9uRXZlbnRzKHQpe3Qub25Db25uZWN0aW9uU3RhdGVDaGFuZ2U9YXN5bmMgZT0+e2lmKF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3AycElkOiBcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdOiBQMlBDb25uZWN0aW9uLm9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlKFwiKS5jb25jYXQoZSxcIilcIikpLHRoaXMuZW1pdCh0dC5QZWVyQ29ubmVjdGlvblN0YXRlQ2hhbmdlLGUpLGUhPT1cImNvbm5lY3RlZFwifHx0aGlzLnN0b3JlLmtleU1ldHJpY3MucGVlckNvbm5lY3Rpb25FbmR8fHRoaXMuc3RvcmUucGVlckNvbm5lY3Rpb25FbmQoKSxlPT09XCJjb25uZWN0ZWRcIiYmKHRoaXMuX3Jlc3RhcnRUaW1lciYmKGNsZWFyVGltZW91dCh0aGlzLl9yZXN0YXJ0VGltZXIpLHRoaXMuX3Jlc3RhcnRUaW1lcj12b2lkIDApLCh0aGlzLl9pc0ZpcnN0Q29ubmVjdGVkfHx0aGlzLl9pc0luUmVzdGFydEljZSkmJnRoaXMucmVwb3J0UENTdGF0cyhEYXRlLm5vdygpLCEwLHRoaXMuX3BjU3RhdHNVcGxvYWRUeXBlKSx0aGlzLl9pc0luUmVzdGFydEljZT0hMSx0aGlzLl9pc0ZpcnN0Q29ubmVjdGVkPSExLHRoaXMuX2lzU3RhcnRSZXN0YXJ0SWNlPSExKSx2KFwiTkVXX0lDRV9SRVNUQVJUXCIpKXt2YXIgbjtpZihXKG49dGhpcy5fcmVzdGFydFN0YXRlcykuY2FsbChuLGUpKXtpZih0aGlzLl9pc1N0YXJ0UmVzdGFydEljZSlyZXR1cm47dGhpcy5faXNTdGFydFJlc3RhcnRJY2U9ITA7bGV0IGk9cz0+eyh0LmljZUNvbm5lY3Rpb25TdGF0ZT09PVwiZGlzY29ubmVjdGVkXCJ8fHQuaWNlQ29ubmVjdGlvblN0YXRlPT09XCJjaGVja2luZ1wifHx0LmljZUNvbm5lY3Rpb25TdGF0ZT09PVwiZmFpbGVkXCIpJiYoXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1AyUENoYW5uZWxdIHN0YXJ0IHVzZSByZXN0YXJ0SUNFLCB0eXBlIGlzIFwiKS5jb25jYXQocykpLG5pKHRoaXMsdHQuUXVlcnlDbGllbnRDb25uZWN0aW9uU3RhdGUpPT09XCJDT05ORUNURURcIiYmdGhpcy5lbWl0KHR0LlJlcXVlc3RSZXN0YXJ0SUNFLHMpKTt9LHI9KCk9Pnt0LmljZUNvbm5lY3Rpb25TdGF0ZSE9PVwiZGlzY29ubmVjdGVkXCImJnQuaWNlQ29ubmVjdGlvblN0YXRlIT09XCJjaGVja2luZ1wiJiZ0LmljZUNvbm5lY3Rpb25TdGF0ZSE9PVwiZmFpbGVkXCJ8fCh0aGlzLnJlcG9ydFBDU3RhdHMoRGF0ZS5ub3coKSwhMSx0aGlzLl9wY1N0YXRzVXBsb2FkVHlwZSksXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ29ubmVjdGlvbiBkaXNjb25uZWN0ZWQgdGltZW91dCwgZm9yY2UgcmVjb25uZWN0XCIpKSxzZXRUaW1lb3V0KCgpPT50aGlzLmVtaXQodHQuUDJQTG9zdCksMCksdGhpcy5pY2VGYWlsZWRDb3VudCs9MSx0aGlzLnJlcXVlc3RSZWNvbm5lY3QoKSk7fSxvPXYoXCJJQ0VfUkVTVEFSVF9JTlRFUlZBTFwiKTtyZXR1cm4gdm9pZCh0aGlzLl9yZXN0YXJ0VGltZXI9d2luZG93LnNldFRpbWVvdXQoKCk9PntpZih2KFwiSk9JTl9XSVRIX0ZBTExCQUNLX01FRElBX1BST1hZX0ZPUkNFXCIpJiZmdCgpLnN1cHBvcnRQQ1NldENvbmZpZ3VyYXRpb24paShPbi5SRUxBWSksdGhpcy5fcmVzdGFydFRpbWVyPXdpbmRvdy5zZXRUaW1lb3V0KHIsbyk7ZWxzZSBpZigkdCgpKWkoT24uVURQKSx0aGlzLl9yZXN0YXJ0VGltZXI9d2luZG93LnNldFRpbWVvdXQociw0ZTMpO2Vsc2Uge2lmKGkoT24uVENQKSxmdCgpLnN1cHBvcnRQQ1NldENvbmZpZ3VyYXRpb24pcmV0dXJuIHZvaWQodGhpcy5fcmVzdGFydFRpbWVyPXdpbmRvdy5zZXRUaW1lb3V0KCgpPT57aShPbi5SRUxBWSksdGhpcy5fcmVzdGFydFRpbWVyPXdpbmRvdy5zZXRUaW1lb3V0KHIsbyk7fSxvKSk7dGhpcy5fcmVzdGFydFRpbWVyPXdpbmRvdy5zZXRUaW1lb3V0KHIsbyk7fX0sODAwKSl9fWVsc2Uge2lmKGU9PT1cImRpc2Nvbm5lY3RlZFwiJiZ0LmljZUNvbm5lY3Rpb25TdGF0ZT09PVwiZGlzY29ubmVjdGVkXCIpcmV0dXJuIHNldFRpbWVvdXQoKCk9Pnt0LmljZUNvbm5lY3Rpb25TdGF0ZT09PVwiZGlzY29ubmVjdGVkXCImJnYoXCJJQ0VfUkVTVEFSVFwiKSYmbmkodGhpcyx0dC5RdWVyeUNsaWVudENvbm5lY3Rpb25TdGF0ZSk9PT1cIkNPTk5FQ1RFRFwiJiZ0aGlzLmVtaXQodHQuUmVxdWVzdFJlc3RhcnRJQ0UpO30sODAwKSx2b2lkIHNldFRpbWVvdXQoKCk9Pnt0LnBlZXJDb25uZWN0aW9uU3RhdGU9PT1cImRpc2Nvbm5lY3RlZFwiJiYoXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3AycElkOiBcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdOiBQMlBDb25uZWN0aW9uIGRpc2Nvbm5lY3RlZCB0aW1lb3V0IDQwMDBtcywgZm9yY2UgcmVjb25uZWN0XCIpKSx0aGlzLnJlcG9ydFBDU3RhdHMoRGF0ZS5ub3coKSwhMSx0aGlzLl9wY1N0YXRzVXBsb2FkVHlwZSksdGhpcy5faXNJblJlc3RhcnRJY2U9ITEsc2V0VGltZW91dCgoKT0+dGhpcy5lbWl0KHR0LlAyUExvc3QpLDApLHRoaXMuaWNlRmFpbGVkQ291bnQrPTEsdGhpcy5yZXF1ZXN0UmVjb25uZWN0KCkpO30sNGUzKTtlPT09XCJmYWlsZWRcIiYmKF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwMnBJZDogXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXTogUDJQQ29ubmVjdGlvbiBzdGF0ZSBmYWlsZWQsIGZvcmNlIHJlY29ubmVjdFwiKSksdGhpcy5yZXBvcnRQQ0Rpc2Nvbm5lY3RlZE9yRmFpbGVkKCksc2V0VGltZW91dCgoKT0+dGhpcy5lbWl0KHR0LlAyUExvc3QpLDApLHRoaXMuaWNlRmFpbGVkQ291bnQrPTEsYXdhaXQgdGhpcy5yZXF1ZXN0UmVjb25uZWN0KCkpO319LHQub25JQ0VDb25uZWN0aW9uU3RhdGVDaGFuZ2U9ZT0+e2UhPT1cImNvbm5lY3RlZFwifHx0aGlzLnN0b3JlLmtleU1ldHJpY3MuaWNlQ29ubmVjdGlvbkVuZHx8dGhpcy5zdG9yZS5pY2VDb25uZWN0aW9uRW5kKCksXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24ub25JQ0VDb25uZWN0aW9uU3RhdGVDaGFuZ2UoXCIpLmNvbmNhdChlLFwiKVwiKSksWC5yZXBvcnRBcGlJbnZva2UodGhpcy5zdG9yZS5zZXNzaW9uSWQse25hbWU6XCJJQ0VDb25uZWN0aW9uU3RhdGVDaGFuZ2VcIixvcHRpb25zOmUsdGFnOlp0LlRSQUNFUn0pLm9uU3VjY2VzcygpLHRoaXMuZW1pdCh0dC5JY2VDb25uZWN0aW9uU3RhdGVDaGFuZ2UsZSk7fSx0Lm9uSUNFVHJhbnNwb3J0U3RhdGVDaGFuZ2U9ZT0+e18uaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3AycElkOiBcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdOiBQMlBDb25uZWN0aW9uLm9uSUNFVHJhbnNwb3J0U3RhdGVDaGFuZ2UoXCIpLmNvbmNhdChlLFwiKVwiKSk7fSx0Lm9uRFRMU1RyYW5zcG9ydFN0YXRlQ2hhbmdlPWU9PntfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwMnBJZDogXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXTogUDJQQ29ubmVjdGlvbi5vbkRUTFNUcmFuc3BvcnRTdGF0ZUNoYW5nZShcIikuY29uY2F0KGUsXCIpXCIpKTt9LHQub25EVExTVHJhbnNwb3J0RXJyb3I9ZT0+e18uaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3AycElkOiBcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdOiBQMlBDb25uZWN0aW9uLm9uRFRMU1RyYW5zcG9ydEVycm9yKFwiKS5jb25jYXQoZSxcIilcIikpO30sdC5vbkZpcnN0QXVkaW9EZWNvZGVkPWU9Pnt2YXIgbjtsZXQgaT1BcnJheS5mcm9tKHhuKG49dGhpcy5yZW1vdGVVc2VyTWFwKS5jYWxsKG4pKS5maW5kKG89Pm8uX2F1ZGlvU1NSQz09PWUpO3ZhciByO2kmJih0aGlzLnN0b3JlLnN1YnNjcmliZShpLnVpZCxcImF1ZGlvXCIsdm9pZCAwLHZvaWQgMCx2b2lkIDAsRGF0ZS5ub3coKSksKHI9aS5hdWRpb1RyYWNrKT09PW51bGx8fHI9PT12b2lkIDB8fHIuZW1pdChXcy5GSVJTVF9GUkFNRV9ERUNPREVEKSxYLmZpcnN0UmVtb3RlRnJhbWUodGhpcy5zdG9yZS5zZXNzaW9uSWQsRGUuRklSU1RfQVVESU9fREVDT0RFLEp0LkZJUlNUX0FVRElPX0RFQ09ERSx7cGVlcjppLl91aW50aWQsc3Vic2NyaWJlRWxhcHNlOnFlLm1lYXN1cmVGcm9tU3Vic2NyaWJlU3RhcnQodGhpcy5zdG9yZS5jbGllbnRJZCxlKSxzdWJzY3JpYmVSZXF1ZXN0aWQ6ZSxwMnBpZDp0aGlzLnN0b3JlLnAycElkfSkpO30sdC5vbkZpcnN0QXVkaW9SZWNlaXZlZD1lPT57dmFyIG47bGV0IGk9QXJyYXkuZnJvbSh4bihuPXRoaXMucmVtb3RlVXNlck1hcCkuY2FsbChuKSkuZmluZChyPT5yLl9hdWRpb1NTUkM9PT1lKTtpJiZYLmZpcnN0UmVtb3RlRnJhbWUodGhpcy5zdG9yZS5zZXNzaW9uSWQsRGUuRklSU1RfQVVESU9fUkVDRUlWRUQsSnQuRklSU1RfQVVESU9fUkVDRUlWRUQse3BlZXI6aS5fdWludGlkLHN1YnNjcmliZUVsYXBzZTpxZS5tZWFzdXJlRnJvbVN1YnNjcmliZVN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQsZSksc3Vic2NyaWJlUmVxdWVzdGlkOmUscDJwaWQ6dGhpcy5zdG9yZS5wMnBJZH0pO30sdC5vbkZpcnN0VmlkZW9EZWNvZGVkPShlLG4saSk9Pnt0aGlzLnJlcG9ydFZpZGVvRmlyc3RGcmFtZURlY29kZWQoZSxuLGkpO30sdC5vbkZpcnN0VmlkZW9SZWNlaXZlZD1lPT57dmFyIG47bGV0IGk9QXJyYXkuZnJvbSh4bihuPXRoaXMucmVtb3RlVXNlck1hcCkuY2FsbChuKSkuZmluZChyPT5yLl92aWRlb1NTUkM9PT1lKTtpJiZYLmZpcnN0UmVtb3RlRnJhbWUodGhpcy5zdG9yZS5zZXNzaW9uSWQsRGUuRklSU1RfVklERU9fUkVDRUlWRUQsSnQuRklSU1RfVklERU9fUkVDRUlWRUQse3BlZXI6aS5fdWludGlkLHN1YnNjcmliZUVsYXBzZTpxZS5tZWFzdXJlRnJvbVN1YnNjcmliZVN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQsZSksc3Vic2NyaWJlUmVxdWVzdGlkOmUscDJwaWQ6dGhpcy5zdG9yZS5wMnBJZH0pO30sdC5vblNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkPShlLG4pPT57bGV0IGk9ZS5jYW5kaWRhdGVUeXBlPT09XCJyZWxheVwiLHI9bi5jYW5kaWRhdGVUeXBlPT09XCJyZWxheVwiO24uY2FuZGlkYXRlVHlwZSE9PVwidW5rbm93blwiJiZpPT09cnx8dGhpcy5lbWl0KHR0LkNvbm5lY3Rpb25UeXBlQ2hhbmdlLGkpLF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3AycElkOiBcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdOiBQMlBDb25uZWN0aW9uLlNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkKFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoZW8obikpLFwiIC0+IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoZW8oZSkpLFwiKVwiKSk7fSx0Lm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkPShlLG4pPT57Xy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkKFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoZW8obikpLFwiIC0+IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoZW8oZSkpLFwiKVwiKSk7fSx0Lm9uRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0PWU9Pnt0aGlzLnJlcG9ydFZpZGVvRmlyc3RGcmFtZURlY29kZWQoZSx2b2lkIDAsdm9pZCAwLCEwKTt9LHQuZ2V0TG9jYWxWaWRlb1N0YXRzPSgpPT57bGV0IGU9dGhpcy5zdGF0c0NvbGxlY3Rvci5nZXRMb2NhbFZpZGVvVHJhY2tTdGF0cygpLG49dGhpcy5zdGF0c0NvbGxlY3Rvci5nZXRSVENTdGF0cygpO3JldHVybiBaaShaaSh7fSxlKSxuKX07fXVuYmluZENvbm5lY3Rpb25FdmVudHModCl7dC5vbkNvbm5lY3Rpb25TdGF0ZUNoYW5nZT12b2lkIDAsdC5vbklDRUNvbm5lY3Rpb25TdGF0ZUNoYW5nZT12b2lkIDAsdC5vbklDRVRyYW5zcG9ydFN0YXRlQ2hhbmdlPXZvaWQgMCx0Lm9uRFRMU1RyYW5zcG9ydFN0YXRlQ2hhbmdlPXZvaWQgMCx0Lm9uRFRMU1RyYW5zcG9ydEVycm9yPXZvaWQgMCx0Lm9uRmlyc3RBdWRpb0RlY29kZWQ9dm9pZCAwLHQub25GaXJzdEF1ZGlvUmVjZWl2ZWQ9dm9pZCAwLHQub25GaXJzdFZpZGVvRGVjb2RlZD12b2lkIDAsdC5vbkZpcnN0VmlkZW9SZWNlaXZlZD12b2lkIDAsdC5vblNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkPXZvaWQgMCx0Lm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkPXZvaWQgMCx0Lm9uRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0PXZvaWQgMCx0LmdldExvY2FsVmlkZW9TdGF0cz12b2lkIDA7fWZpbHRlclRvYmVNdXRlZFRyYWNrcyh0KXtsZXQgZT1bXTtpZih0aGlzLmdldEFsbFRyYWNrcygpLmluZGV4T2YodCk9PT0tMSlyZXR1cm4gZTtsZXQgbj10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxBdWRpb1RyYWNrKTtpZih0IGluc3RhbmNlb2YgUXQmJm4/LnRyYWNrIGluc3RhbmNlb2YgZ2UpcmV0dXJuIG4udHJhY2suaXNBY3RpdmV8fGUucHVzaChbVS5Mb2NhbEF1ZGlvVHJhY2ssbl0pLGU7bGV0IGk9QXJyYXkuZnJvbSh0aGlzLmxvY2FsVHJhY2tNYXAuZW50cmllcygpKS5maW5kKHI9PntsZXRbLHt0cmFjazpvfV09cjtyZXR1cm4gdD09PW99KTtpZihpJiYoZS5wdXNoKGkpLGlbMF09PT1VLkxvY2FsVmlkZW9UcmFjaykpe2xldCByPXRoaXMubG9jYWxUcmFja01hcC5nZXQoVS5Mb2NhbFZpZGVvTG93VHJhY2spO3ImJmUucHVzaChbVS5Mb2NhbFZpZGVvTG93VHJhY2sscl0pO31yZXR1cm4gZX1maWx0ZXJUb2JlVW5tdXRlZFRyYWNrcyh0KXtsZXQgZT1bXSxuPXRoaXMubG9jYWxUcmFja01hcC5nZXQoVS5Mb2NhbEF1ZGlvVHJhY2spO2lmKHQgaW5zdGFuY2VvZiBRdCYmbj8udHJhY2sgaW5zdGFuY2VvZiBnZSlyZXR1cm4gbi50cmFjay5pc0FjdGl2ZSYmZS5wdXNoKFtVLkxvY2FsQXVkaW9UcmFjayxuXSksZTtsZXQgaT1BcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLmZpbmQocj0+e2xldFsse3RyYWNrOm99XT1yO3JldHVybiB0PT09b30pO2lmKGkpaWYoaVswXT09PVUuTG9jYWxWaWRlb1RyYWNrKXtlLnB1c2goaSk7bGV0IHI9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChVLkxvY2FsVmlkZW9Mb3dUcmFjayk7ciYmZS5wdXNoKFtVLkxvY2FsVmlkZW9Mb3dUcmFjayxyXSk7fWVsc2UgZS5wdXNoKGkpO3JldHVybiBlfWNyZWF0ZU11dGVNZXNzYWdlKHQpe3JldHVybiB0Lm1hcChlPT57dmFyIG47bGV0IGksW3Ise3RyYWNrOm8sc3NyY3M6cyxpZDphfV09ZTtzd2l0Y2gocil7Y2FzZSBVLkxvY2FsQXVkaW9UcmFjazppPUN0LkF1ZGlvO2JyZWFrO2Nhc2UgVS5Mb2NhbFZpZGVvVHJhY2s6aT1XKG49by5faGludHMpLmNhbGwobixHdC5TQ1JFRU5fVFJBQ0spP0N0LlNjcmVlbjpDdC5IaWdoO2JyZWFrO2Nhc2UgVS5Mb2NhbFZpZGVvTG93VHJhY2s6aT1DdC5Mb3c7fXJldHVybiB7c3RyZWFtX3R5cGU6aSxzc3JjczpzLG1pZDphfX0pfWNyZWF0ZVVubXV0ZU1lc3NhZ2UodCl7cmV0dXJuIHQubWFwKGU9Pnt2YXIgbjtsZXQgaSxbcix7dHJhY2s6byxzc3JjczpzLGlkOmF9XT1lO3N3aXRjaChyKXtjYXNlIFUuTG9jYWxBdWRpb1RyYWNrOmk9Q3QuQXVkaW87YnJlYWs7Y2FzZSBVLkxvY2FsVmlkZW9UcmFjazppPVcobj1vLl9oaW50cykuY2FsbChuLEd0LlNDUkVFTl9UUkFDSyk/Q3QuU2NyZWVuOkN0LkhpZ2g7YnJlYWs7Y2FzZSBVLkxvY2FsVmlkZW9Mb3dUcmFjazppPUN0Lkxvdzt9cmV0dXJuIHtzdHJlYW1fdHlwZTppLHNzcmNzOnMsbWlkOmF9fSl9ZmlsdGVyVG9iZVVuU3Vic2NyaWJlZFRyYWNrcyh0LGUpe2xldCBuPVtdLGk9dGhpcy5yZW1vdGVVc2VyTWFwLmdldCh0KTtpZighaSlyZXR1cm4gbjtpZihlKXtsZXQgcj1pLmdldChlKTtpZighcilyZXR1cm4gbjtuLnB1c2goW3Qse2tpbmQ6ZSxpZDpyfV0pO31lbHNlIEFycmF5LmZyb20oaS5lbnRyaWVzKCkpLmZvckVhY2gocj0+e2xldFtvLHNdPXI7bi5wdXNoKFt0LHtraW5kOm8saWQ6c31dKTt9KTtyZXR1cm4gbn1maWx0ZXJUb2JlVW5TdWJzY3JpYmVkRGF0YUNoYW5uZWxzKHQsZSl7bGV0IG49W107cmV0dXJuIGUuZm9yRWFjaChpPT57dmFyIHI7KHI9dGhpcy5yZW1vdGVEYXRhQ2hhbm5lbE1hcC5nZXQodCkpIT09bnVsbCYmciE9PXZvaWQgMCYmci5oYXMoaS5pZCkmJm4ucHVzaChpKTt9KSxufWNyZWF0ZVVuc3Vic2NyaWJlTWVzc2FnZSh0KXtsZXQgZT1bXTtyZXR1cm4gdC5mb3JFYWNoKG49PntsZXRbaSx7a2luZDpyLGlkOm99XT1uO3N3aXRjaChyKXtjYXNlIFEuVklERU86cmV0dXJuIHZvaWQoaS5fdmlkZW9TU1JDJiZlLnB1c2goe3N0cmVhbV90eXBlOlEuVklERU8sc3NyY0lkOmkuX3ZpZGVvU1NSQ30pKTtjYXNlIFEuQVVESU86cmV0dXJuIHZvaWQoaS5fYXVkaW9TU1JDJiZlLnB1c2goe3N0cmVhbV90eXBlOlEuQVVESU8sc3NyY0lkOmkuX2F1ZGlvU1NSQ30pKX19KSxlfWNyZWF0ZVVuc3Vic2NyaWJlQWxsTWVzc2FnZSh0KXtsZXQgZT1uZXcgTWFwO3JldHVybiB0LmZvckVhY2gobj0+e2xldFtpLHtraW5kOnJ9XT1uO2lmKGUuaGFzKGkpKXtsZXQgbz1lLmdldChpKTtyPT09US5WSURFTz9vfD12ZS5WaWRlbzpvfD12ZS5BdWRpbyxlLnNldChpLG8pO31lbHNlIHI9PT1RLlZJREVPP2Uuc2V0KGksdmUuVmlkZW8pOmUuc2V0KGksdmUuQXVkaW8pO30pLHt1c2VyczpBcnJheS5mcm9tKGUuZW50cmllcygpKS5tYXAobj0+e2xldFtpLHJdPW47cmV0dXJuIHtzdHJlYW1faWQ6aS51aWQsc3RyZWFtX3R5cGU6cn19KX19d2l0aGRyYXdSZW1vdGVUcmFja3ModCl7dC5mb3JFYWNoKGU9PntsZXRbbix7a2luZDppfV09ZSxyPXRoaXMucmVtb3RlVXNlck1hcC5nZXQobik7ciYmKHIuZGVsZXRlKGkpLEFycmF5LmZyb20oci5lbnRyaWVzKCkpLmxlbmd0aD09PTAmJnRoaXMucmVtb3RlVXNlck1hcC5kZWxldGUobikpO30pO31hc3luYyB1cGRhdGVCaXRyYXRlTGltaXQodCl7bGV0IGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChVLkxvY2FsVmlkZW9UcmFjayksbj10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxWaWRlb0xvd1RyYWNrKTtlJiZhd2FpdCBlLnRyYWNrLnNldEJpdHJhdGVMaW1pdCh0LnVwbGluayksbiYmdC5sb3dfc3RyZWFtX3VwbGluayYmYXdhaXQgbi50cmFjay5zZXRCaXRyYXRlTGltaXQoe21heF9iaXRyYXRlOnQubG93X3N0cmVhbV91cGxpbmsuYml0cmF0ZSxtaW5fYml0cmF0ZTp0Lmxvd19zdHJlYW1fdXBsaW5rLmJpdHJhdGV8fDB9KTt9aXNQMlBEaXNjb25uZWN0ZWQoKXtyZXR1cm4gdGhpcy5jb25uZWN0aW9uP3RoaXMuY29ubmVjdGlvbi5wZWVyQ29ubmVjdGlvblN0YXRlIT09XCJjb25uZWN0ZWRcIjohMH1tYXBQdWJSZXNUb1JlbW90ZUNvbmZpZyh0LGUpe3JldHVybiB0Lm1hcCgobixpKT0+e3ZhciByO2xldHtzdHJlYW1fdHlwZTpvfT1uO3JldHVybiAocj1lLmZpbmQocz0+e2xldHtzdHJlYW1fdHlwZTphfT1zO3JldHVybiBvPT09YX0pKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnIuYXR0cmlidXRlc30pfWFzeW5jIHRyeVRvVW5tdXRlQXVkaW8odCl7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspaWYodFtuXWluc3RhbmNlb2YgUXQpe3ZhciBlO2xldCBpPXRoaXMuZmlsdGVyVG9iZVVubXV0ZWRUcmFja3ModFtuXSk7aWYoaS5sZW5ndGg9PT0wKWNvbnRpbnVlO2F3YWl0KChlPXRoaXMuY29ubmVjdGlvbik9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLnVubXV0ZUxvY2FsKGkubWFwKG89PntsZXRbLHtpZDpzfV09bztyZXR1cm4gc30pKSk7bGV0IHI9dGhpcy5jcmVhdGVVbm11dGVNZXNzYWdlKGkpO3JldHVybiB2b2lkIGF3YWl0IGt0KHRoaXMsdHQuUmVxdWVzdFVubXV0ZUxvY2FsLHIpfX1iaW5kU3RhdHNVcGxvYWRlckV2ZW50cygpe3RoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0U3RhdHM9KCk9PnRoaXMuZ2V0U3RhdHMoKSx0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdExvY2FsTWVkaWE9KCk9PkFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSksdGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RSZW1vdGVNZWRpYT0oKT0+QXJyYXkuZnJvbSh0aGlzLnJlbW90ZVVzZXJNYXAuZW50cmllcygpKSx0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdFZpZGVvSXNSZWFkeT10PT57dmFyIGU7cmV0dXJuICEoKGU9dGhpcy5jb25uZWN0aW9uKT09PW51bGx8fGU9PT12b2lkIDB8fCFlLmdldFJlbW90ZVZpZGVvSXNSZWFkeSh0KSl9LHRoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0VXBsb2FkPSh0LGUpPT50aGlzLmVtaXQodHQuUmVxdWVzdFVwbG9hZCx0LGUpLHRoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0VXBsb2FkU3RhdHM9dD0+dGhpcy5lbWl0KHR0LlJlcXVlc3RVcGxvYWRTdGF0cyx0KSx0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdEFsbFRyYWNrcz0oKT0+dGhpcy5nZXRBbGxUcmFja3MoKTt9dW5iaW5kU3RhdHNVcGxvYWRlckV2ZW50cygpe3RoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0U3RhdHM9dm9pZCAwLHRoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0TG9jYWxNZWRpYT12b2lkIDAsdGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RSZW1vdGVNZWRpYT12b2lkIDAsdGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RWaWRlb0lzUmVhZHk9dm9pZCAwO31hc3luYyByZXF1ZXN0UmVjb25uZWN0KCl7dGhpcy5kdGxzRmFpbGVkQ291bnQrPTEsYXdhaXQgTWUoaGYodGhpcy5kdGxzRmFpbGVkQ291bnQsRWUpKSx0aGlzLmVtaXQodHQuUmVxdWVzdFJlY29ubmVjdCk7fWFzeW5jIHJlY29ubmVjdFAyUCgpe2xldCB0PUFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSksZT10aGlzLmNyZWF0ZUdhdGV3YXlVbnB1Ymxpc2hNZXNzYWdlKHQpO0FycmF5LmZyb20odGhpcy5yZW1vdGVVc2VyTWFwLmVudHJpZXMoKSksZS5sZW5ndGg+MCYmYXdhaXQgR2UodGhpcyx0dC5SZXF1ZXN0VW5wdWJsaXNoRm9yUmVjb25uZWN0UEMsZSksdGhpcy5kaXNjb25uZWN0Rm9yUmVjb25uZWN0KCksdGhpcy5lbWl0KHR0LlJlcXVlc3RSZWNvbm5lY3RQQyk7fWNhblB1Ymxpc2hMb3dTdHJlYW0oKXtyZXR1cm4gdGhpcy5sb2NhbFRyYWNrTWFwLmhhcyhVLkxvY2FsVmlkZW9UcmFjayl8fHRoaXMucGVuZGluZ0xvY2FsVHJhY2tzLnNvbWUodD0+dCBpbnN0YW5jZW9mIEZ0KX10aHJvd0lmVHJhY2tUeXBlTm90TWF0Y2godCl7aWYodC5maWx0ZXIoZT0+ZSBpbnN0YW5jZW9mIEZ0KS5sZW5ndGg+MSl0aHJvdyBuZXcgTihSLkNBTl9OT1RfUFVCTElTSF9NVUxUSVBMRV9WSURFT19UUkFDS1MpO2lmKHQuZmlsdGVyKGU9PmUgaW5zdGFuY2VvZiBRdCkubGVuZ3RoPjEmJih0LnNvbWUoZT0+ZSBpbnN0YW5jZW9mIFF0JiZlLl9ieXBhc3NXZWJBdWRpbyl8fCFmdCgpLndlYkF1ZGlvTWVkaWFTdHJlYW1EZXN0KSl0aHJvdyBuZXcgTihSLk5PVF9TVVBQT1JURUQsXCJjYW5ub3QgcHVibGlzaCBtdWx0aXBsZSB0cmFja3Mgd2hpY2ggb25lIG9mIHRoZW0gY29uZmlndXJlZCB3aXRoIGJ5cGFzc1dlYkF1ZGlvIG9yIHlvdXIgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgTWVkaWFTdHJlYW1EZXN0Tm9kZVwiKTtmb3IobGV0IGUgb2YgdCl7aWYoZSBpbnN0YW5jZW9mIEZ0JiZ0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5zb21lKG49Pm4gaW5zdGFuY2VvZiBGdCkpdGhyb3cgbmV3IE4oUi5DQU5fTk9UX1BVQkxJU0hfTVVMVElQTEVfVklERU9fVFJBQ0tTKTtpZihlIGluc3RhbmNlb2YgUXQmJnRoaXMucGVuZGluZ0xvY2FsVHJhY2tzLnNvbWUobj0+biBpbnN0YW5jZW9mIFF0KSYmKCFmdCgpLndlYkF1ZGlvTWVkaWFTdHJlYW1EZXN0fHxlLl9ieXBhc3NXZWJBdWRpb3x8dGhpcy5wZW5kaW5nTG9jYWxUcmFja3Muc29tZShuPT5uIGluc3RhbmNlb2YgUXQmJm4uX2J5cGFzc1dlYkF1ZGlvKSkpdGhyb3cgbmV3IE4oUi5OT1RfU1VQUE9SVEVELFwiY2Fubm90IHB1Ymxpc2ggbXVsdGlwbGUgdHJhY2tzIHdoaWNoIG9uZSBvZiB0aGVtIGNvbmZpZ3VyZWQgd2l0aCBieXBhc3NXZWJBdWRpbyBvciB5b3VyIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IE1lZGlhU3RyZWFtRGVzdE5vZGVcIil9fWdldExvd1ZpZGVvVHJhY2sodCxlKXtsZXQgbj0hdihcIkRJU0FCTEVfRFVBTF9TVFJFQU1fVVNFX0VOQ09ESU5HXCIpJiZmdCgpLnN1cHBvcnREdWFsU3RyZWFtRW5jb2RpbmcsaT1aaShaaSh7fSx7d2lkdGg6MTYwLGhlaWdodDoxMjAsZnJhbWVyYXRlOjE1LGJpdHJhdGU6NTB9KSxlKSxyO3I9bj90Ll9tZWRpYVN0cmVhbVRyYWNrLmNsb25lKCk6ZG0odCxpKTtsZXQgbz1VdCg4LFwidHJhY2stbG93LVwiKSxzPW5ldyBGdChyLFppKFppKHt9LG4mJntzY2FsZVJlc29sdXRpb25Eb3duQnk6R0UoaSx0KX0pLHt9LHtmcmFtZVJhdGU6aS5mcmFtZXJhdGUsYml0cmF0ZU1heDppLmJpdHJhdGUsYml0cmF0ZU1pbjppLmJpdHJhdGV9KSx2b2lkIDAsdm9pZCAwLG8pO3JldHVybiBzLm9uKEtvLlRSQU5TQ0VJVkVSX1VQREFURUQsYT0+e3QuX3VwZGF0ZVJ0cFRyYW5zY2VpdmVyKGEsbmEuTE9XX1NUUkVBTSk7fSkscy5faGludHMucHVzaChHdC5MT1dfU1RSRUFNKSx0Lm9uKFwic2VpLXRvLXNlbmRcIixhPT57cy5lbWl0KFwic2VpLXRvLXNlbmRcIixhKTt9KSx0LmFkZExpc3RlbmVyKEguTkVFRF9DTE9TRSwoKT0+e3MuY2xvc2UoKTt9KSxzfWFzeW5jIGdsb2JhbExvY2soKXtyZXR1cm4gdGhpcy5tdXRleC5sb2NrKFwiRnJvbSBQMlBDaGFubmVsLmdsb2JhbExvY2tcIil9YXN5bmMgcmVwb3J0UENTdGF0cyh0LGUsbil7bGV0IGk9YXJndW1lbnRzLmxlbmd0aD4zJiZhcmd1bWVudHNbM10hPT12b2lkIDA/YXJndW1lbnRzWzNdOm51bGw7aWYodGhpcy5jb25uZWN0aW9uJiZ0aGlzLmNvbm5lY3Rpb24gaW5zdGFuY2VvZiBraSl7dmFyIHIsbyxzLGE7bGV0IGM9dGhpcy5zdG9yZS5rZXlNZXRyaWNzLmRlc2NyaXB0aW9uU3RhcnR8fDAse2ljZUNvbm5lY3Rpb25TdGF0ZTpkLGR0bHNUcmFuc3BvcnRTdGF0ZTpsLHBlZXJDb25uZWN0aW9uU3RhdGU6dX09dGhpcy5jb25uZWN0aW9uLHtsb2NhbDpoLHJlbW90ZTpwfT1hd2FpdCB0aGlzLmNvbm5lY3Rpb24uZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyKCk7WC5wY1N0YXRzKHRoaXMuc3RvcmUuc2Vzc2lvbklkLHtzdGFydFRpbWU6YyxldmVudEVsYXBzZTp0LWN8fDAsaWNlY29ubmVjdGlvbnNhdGU6ZCxkdGxzc3RhdGU6bCxjb25uZWN0aW9uc3RhdGU6dSxpbnRTdWNjOmU/MToyLGVycm9yOmksc2VsZWN0ZWRMb2NhbENhbmRpZGF0ZVByb3RvY29sOihyPWg/LnByb3RvY29sKSE9PW51bGwmJnIhPT12b2lkIDA/cjpcIlwiLHNlbGVjdGVkTG9jYWxDYW5kaWRhdGVUeXBlOihvPWguY2FuZGlkYXRlVHlwZSkhPT1udWxsJiZvIT09dm9pZCAwP286XCJcIixzZWxlY3RlZExvY2FsQ2FuZGlkYXRlQWRkcmVzczpcIlwiLmNvbmNhdChoLmFkZHJlc3MsXCI6XCIpLmNvbmNhdChoLnBvcnQpLHNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlUHJvdG9jb2w6KHM9cC5wcm90b2NvbCkhPT1udWxsJiZzIT09dm9pZCAwP3M6XCJcIixzZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZVR5cGU6KGE9cC5jYW5kaWRhdGVUeXBlKSE9PW51bGwmJmEhPT12b2lkIDA/YTpcIlwiLHNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQWRkcmVzczpcIlwiLmNvbmNhdChwLmFkZHJlc3MsXCI6XCIpLmNvbmNhdChwLnBvcnQpLHJlc3RhcnRDbnQ6bixwcmVhbGxvY2F0aW9uOnRoaXMuY29ubmVjdGlvbi5pc1ByZWFsbG9jYXRpb259KTt9fXJlcG9ydFZpZGVvRmlyc3RGcmFtZURlY29kZWQodCxlLG4saSl7dmFyIHI7bGV0IG89QXJyYXkuZnJvbSh4bihyPXRoaXMucmVtb3RlVXNlck1hcCkuY2FsbChyKSkuZmluZChzPT5zLl92aWRlb1NTUkM9PT10KTtpZihvKXtpfHx0aGlzLnN0b3JlLnN1YnNjcmliZShvLnVpZCxcInZpZGVvXCIsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdm9pZCAwLERhdGUubm93KCkpO2xldCBzPXRoaXMuc3RvcmUua2V5TWV0cmljcyxhPXMuc3Vic2NyaWJlLmZpbmQoYz0+Yy51c2VySWQ9PT1vLnVpZCYmYy50eXBlPT09XCJ2aWRlb1wiKTtYLmZpcnN0UmVtb3RlVmlkZW9EZWNvZGUodGhpcy5zdG9yZS5zZXNzaW9uSWQsRGUuRklSU1RfVklERU9fREVDT0RFLEp0LkZJUlNUX1ZJREVPX0RFQ09ERSx7cGVlcjpvLl91aW50aWQsdmlkZW93aWR0aDplLHZpZGVvaGVpZ2h0Om4sc3Vic2NyaWJlRWxhcHNlOnFlLm1lYXN1cmVGcm9tU3Vic2NyaWJlU3RhcnQodGhpcy5zdG9yZS5jbGllbnRJZCx0KSxzdWJzY3JpYmVSZXF1ZXN0aWQ6dCxwMnBpZDp0aGlzLnN0b3JlLnAycElkLGFwRW5kOnMucmVxdWVzdEFQRW5kfHwwLGFwU3RhcnQ6cy5yZXF1ZXN0QVBTdGFydHx8MCxqb2luR3dFbmQ6cy5qb2luR2F0ZXdheUVuZHx8MCxqb2luR3dTdGFydDpzLmpvaW5HYXRld2F5U3RhcnR8fDAscGNFbmQ6cy5wZWVyQ29ubmVjdGlvbkVuZHx8MCxwY1N0YXJ0OnMucGVlckNvbm5lY3Rpb25TdGFydHx8MCxzdWJzY3JpYmVyRW5kOmE/LnN1YnNjcmliZUVuZHx8MCxzdWJzY3JpYmVyU3RhcnQ6YT8uc3Vic2NyaWJlU3RhcnR8fDAsdmlkZW9BZGROb3RpZnk6YT8uc3RyZWFtQWRkZWR8fDAsc3RhdGU6aT8xOjAsZmlyc3RGcmFtZTphPy5maXJzdEZyYW1lfHwwfSk7fX1hc3luYyByZW1vdGVNZWRpYVNzcmNDaGFuZ2VkKHQsZSxuKXtpZighdGhpcy5jb25uZWN0aW9uKXJldHVybiAhMTtsZXQgaT10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KHQpO2lmKCFpKXJldHVybiAhMTtsZXQgcj1pLmdldChlKTtpZighcilyZXR1cm4gITE7bGV0IG89YXdhaXQgdGhpcy5jb25uZWN0aW9uLmdldFJlbW90ZVNTUkMocik7cmV0dXJuIG8hPT12b2lkIDAmJm8hPT1ufXVuYmluZFJ0cFRyYW5zY2VpdmVyKCl7dGhpcy5sb2NhbFRyYWNrTWFwLnNpemUhPT0wJiZBcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLmZvckVhY2godD0+e2xldFtlLHt0cmFjazpufV09dDtlPT09VS5Mb2NhbFZpZGVvTG93VHJhY2s/bi5fdXBkYXRlUnRwVHJhbnNjZWl2ZXIodm9pZCAwLG5hLkxPV19TVFJFQU0pOm4uX3VwZGF0ZVJ0cFRyYW5zY2VpdmVyKHZvaWQgMCk7fSk7fXJlcG9ydFBDRGlzY29ubmVjdGVkT3JGYWlsZWQodCl7dGhpcy5jb25uZWN0aW9uJiZ0aGlzLmNvbm5lY3Rpb24gaW5zdGFuY2VvZiBraSYmKHRoaXMuY29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGUhPT1cImRpc2Nvbm5lY3RlZFwiJiZ0aGlzLmNvbm5lY3Rpb24uaWNlQ29ubmVjdGlvblN0YXRlIT09XCJjaGVja2luZ1wiJiZ0aGlzLmNvbm5lY3Rpb24uaWNlQ29ubmVjdGlvblN0YXRlIT09XCJmYWlsZWRcInx8KHRoaXMuX2lzRmlyc3RDb25uZWN0ZWQ/KHRoaXMucmVwb3J0UENTdGF0cyhEYXRlLm5vdygpLCExLHRoaXMuX3BjU3RhdHNVcGxvYWRUeXBlKSx0aGlzLl9pc0ZpcnN0Q29ubmVjdGVkPSExKTp0aGlzLl9wY1N0YXRzVXBsb2FkVHlwZT09PVRyLlRDUF9SRVNUQVJUJiZ0PT09T24uUkVMQVk/dGhpcy5yZXBvcnRQQ1N0YXRzKERhdGUubm93KCksITEsdGhpcy5fcGNTdGF0c1VwbG9hZFR5cGUpOnRoaXMucmVwb3J0UENTdGF0cyhEYXRlLm5vdygpLCExLFRyLkRJU0NPTk5FQ1RFRF9PUl9GQUlMRUQpKSk7fX0scShhdC5wcm90b3R5cGUsXCJzdGFydFAyUENvbm5lY3Rpb25cIixbdG5dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYXQucHJvdG90eXBlLFwic3RhcnRQMlBDb25uZWN0aW9uXCIpLGF0LnByb3RvdHlwZSkscShhdC5wcm90b3R5cGUsXCJjb25uZWN0XCIsW3RuXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGF0LnByb3RvdHlwZSxcImNvbm5lY3RcIiksYXQucHJvdG90eXBlKSxxKGF0LnByb3RvdHlwZSxcInVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllc1wiLFt0bl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhdC5wcm90b3R5cGUsXCJ1cGRhdGVSZW1vdGVSVFBDYXBhYmlsaXRpZXNcIiksYXQucHJvdG90eXBlKSxxKGF0LnByb3RvdHlwZSxcInB1Ymxpc2hEYXRhQ2hhbm5lbFwiLFt0bl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhdC5wcm90b3R5cGUsXCJwdWJsaXNoRGF0YUNoYW5uZWxcIiksYXQucHJvdG90eXBlKSxxKGF0LnByb3RvdHlwZSxcInVucHVibGlzaFwiLFt0bl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhdC5wcm90b3R5cGUsXCJ1bnB1Ymxpc2hcIiksYXQucHJvdG90eXBlKSxxKGF0LnByb3RvdHlwZSxcInVucHVibGlzaERhdGFDaGFubmVsXCIsW3RuXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGF0LnByb3RvdHlwZSxcInVucHVibGlzaERhdGFDaGFubmVsXCIpLGF0LnByb3RvdHlwZSkscShhdC5wcm90b3R5cGUsXCJ1bnB1Ymxpc2hMb3dTdHJlYW1cIixbdG5dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYXQucHJvdG90eXBlLFwidW5wdWJsaXNoTG93U3RyZWFtXCIpLGF0LnByb3RvdHlwZSkscShhdC5wcm90b3R5cGUsXCJzdWJzY3JpYmVEYXRhQ2hhbm5lbFwiLFt0bl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhdC5wcm90b3R5cGUsXCJzdWJzY3JpYmVEYXRhQ2hhbm5lbFwiKSxhdC5wcm90b3R5cGUpLHEoYXQucHJvdG90eXBlLFwic3Vic2NyaWJlXCIsW3RuXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGF0LnByb3RvdHlwZSxcInN1YnNjcmliZVwiKSxhdC5wcm90b3R5cGUpLHEoYXQucHJvdG90eXBlLFwibWFzc1N1YnNjcmliZVwiLFt0bl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhdC5wcm90b3R5cGUsXCJtYXNzU3Vic2NyaWJlXCIpLGF0LnByb3RvdHlwZSkscShhdC5wcm90b3R5cGUsXCJ1bnN1YnNjcmliZVwiLFt0bl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhdC5wcm90b3R5cGUsXCJ1bnN1YnNjcmliZVwiKSxhdC5wcm90b3R5cGUpLHEoYXQucHJvdG90eXBlLFwidW5zdWJzY3JpYmVEYXRhQ2hhbm5lbFwiLFt0bl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhdC5wcm90b3R5cGUsXCJ1bnN1YnNjcmliZURhdGFDaGFubmVsXCIpLGF0LnByb3RvdHlwZSkscShhdC5wcm90b3R5cGUsXCJtYXNzVW5zdWJzY3JpYmVcIixbdG5dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYXQucHJvdG90eXBlLFwibWFzc1Vuc3Vic2NyaWJlXCIpLGF0LnByb3RvdHlwZSkscShhdC5wcm90b3R5cGUsXCJtdXRlUmVtb3RlXCIsW3RuXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGF0LnByb3RvdHlwZSxcIm11dGVSZW1vdGVcIiksYXQucHJvdG90eXBlKSxxKGF0LnByb3RvdHlwZSxcInVubXV0ZVJlbW90ZVwiLFt0bl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhdC5wcm90b3R5cGUsXCJ1bm11dGVSZW1vdGVcIiksYXQucHJvdG90eXBlKSxxKGF0LnByb3RvdHlwZSxcImhhc1JlbW90ZU1lZGlhV2l0aExvY2tcIixbdG5dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYXQucHJvdG90eXBlLFwiaGFzUmVtb3RlTWVkaWFXaXRoTG9ja1wiKSxhdC5wcm90b3R5cGUpLHEoYXQucHJvdG90eXBlLFwiZGlzY29ubmVjdEZvclJlY29ubmVjdFwiLFt0bl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhdC5wcm90b3R5cGUsXCJkaXNjb25uZWN0Rm9yUmVjb25uZWN0XCIpLGF0LnByb3RvdHlwZSkscShhdC5wcm90b3R5cGUsXCJ1cGRhdGVCaXRyYXRlTGltaXRcIixbdG5dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYXQucHJvdG90eXBlLFwidXBkYXRlQml0cmF0ZUxpbWl0XCIpLGF0LnByb3RvdHlwZSkscShhdC5wcm90b3R5cGUsXCJyZW1vdGVNZWRpYVNzcmNDaGFuZ2VkXCIsW3RuXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGF0LnByb3RvdHlwZSxcInJlbW90ZU1lZGlhU3NyY0NoYW5nZWRcIiksYXQucHJvdG90eXBlKSxhdCk7ZnVuY3Rpb24gdG4odCxlLG4pe2xldCBpPXRbZV07aWYodHlwZW9mIGkhPVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgdXNlIG11dGV4IG9uIG9iamVjdCBwcm9wZXJ0eS5cIik7cmV0dXJuIG4udmFsdWU9YXN5bmMgZnVuY3Rpb24oKXtsZXQgcj10aGlzLm11dGV4LG89YXdhaXQgci5sb2NrKFwiRnJvbSBQMlBDaGFubmVsLlwiLmNvbmNhdChlKSk7dHJ5e2Zvcih2YXIgcz1hcmd1bWVudHMubGVuZ3RoLGE9bmV3IEFycmF5KHMpLGM9MDtjPHM7YysrKWFbY109YXJndW1lbnRzW2NdO3JldHVybiBhd2FpdCBpLmFwcGx5KHRoaXMsYSl9ZmluYWxseXtvKCk7fX0sbn12YXIgQzA9e307ZnVuY3Rpb24gQmEodCl7KCEoYXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDApfHxhcmd1bWVudHNbMV0pJiZfLmRlYnVnKFwiaW5zdGFsbCBzZXJ2aWNlIFwiLmNvbmNhdCh0Lm5hbWUpKSxDMFt0Lm5hbWVdPXQ7fWZ1bmN0aW9uIFphKHQpe2xldCBlPUMwW3RdO2lmKCFlKXRocm93IG5ldyBOKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJcIi5jb25jYXQodCxcIiBub3QgZm91bmQsIHBsZWFzZSB1c2UgQWdvcmFSVEMudXNlKFwiKS5jb25jYXQodCxcIlNlcnZpY2UpIHRvIGxvYWQgaXQgZmlyc3RcIikpO3JldHVybiBlfWZ1bmN0aW9uIEt2KHQsZSl7cmV0dXJuIFphKFwiRGF0YVN0cmVhbVwiKS5jcmVhdGUodCxlKX1mdW5jdGlvbiBZdih0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKGk9aS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKS5lbnVtZXJhYmxlfSkpLG4ucHVzaC5hcHBseShuLGkpO31yZXR1cm4gbn1mdW5jdGlvbiBxdih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV0hPW51bGw/YXJndW1lbnRzW2VdOnt9O2UlMj9ZdihPYmplY3QobiksITApLmZvckVhY2goZnVuY3Rpb24oaSl7VCh0LGksbltpXSk7fSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6WXYoT2JqZWN0KG4pKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGksT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGkpKTt9KTt9cmV0dXJuIHR9dmFyIEVXPURhdGUubm93KCksbVc9MjAsaG09bmV3IE1hcCx3bD1uZXcgTWFwO2FzeW5jIGZ1bmN0aW9uIEkwKHQpe2xldCBlPWhtLmdldCh0KSxuPUFycmF5LmlzQXJyYXkoZSkmJmVbZS5sZW5ndGgtMV0saT13bC5nZXQodCk7aWYoIW4pcmV0dXJuIHZvaWQoaS5pc1N5bmNpbmc9ITEpO2xldCByPXt1aWQ6bi51aWQscGF5bG9hZDpuLnBheWxvYWR9O2kuZmlyc3RSZWN2VHM9PT0wJiYoaS5maXJzdFJlY3ZUcz1uLnJlY3ZUcyxpLmZpcnN0U2VuZFRzPW4uc2VuZFRzKTtsZXQgbz1uLnNlbmRUcy1pLmZpcnN0U2VuZFRzLHM9by0oRGF0ZS5ub3coKS1pLmZpcnN0UmVjdlRzKTtzPjAmJihpLmZpcnN0UmVjdlRzPURhdGUubm93KCktbyk7bGV0IGE9bi5tZWRpYURlbGF5K3M7YTw9MD8oZS5wb3AoKSx2MChuLmNvbnRleHQsciksYT0wKTphPU1hdGgubWluKGEsbVcpLHNldFRpbWVvdXQoKCk9PmUubGVuZ3RoJiZJMCh0KSxhKTt9ZnVuY3Rpb24gdjAodCxlKXt0LnNhZmVFbWl0KHV0LlNUUkVBTV9NRVNTQUdFLGUudWlkLGUucGF5bG9hZCksdC5vblN0cmVhbU1lc3NhZ2UmJnQub25TdHJlYW1NZXNzYWdlKGUpO31mdW5jdGlvbiBmVyh0KXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06MCxuPWFyZ3VtZW50cy5sZW5ndGg+Mj9hcmd1bWVudHNbMl06dm9pZCAwO2lmKCF0LnN5bmNXaXRoQXVkaW8pcmV0dXJuIHYwKG4se3VpZDp0LnVpZCxwYXlsb2FkOnQucGF5bG9hZH0pO2xldCBpPVwiXCIuY29uY2F0KG4uaWQsXCItXCIpLmNvbmNhdCh0LnVpZCkscj1obS5nZXQoaSl8fFtdLG89ci5maW5kSW5kZXgoZD0+dC5zZW5kVHM+PWQuc2VuZFRzKSxzPXF2KHF2KHt9LHQpLHt9LHtjb250ZXh0Om4sbWVkaWFEZWxheTplLHJlY3ZUczpEYXRlLm5vdygpfSk7bz09PS0xP3IucHVzaChzKTpyLnNwbGljZShvLDAscyksaG0uc2V0KGkscik7bGV0IGE9ITE7dmFyIGM7d2wuaGFzKGkpP2E9ISgoYz13bC5nZXQoaSkpPT09bnVsbHx8Yz09PXZvaWQgMHx8IWMuaXNTeW5jaW5nKTp3bC5zZXQoaSx7aXNTeW5jaW5nOmEsZmlyc3RSZWN2VHM6MCxmaXJzdFNlbmRUczowfSksYXx8STAoaSk7fXZhciBnVz1tdCgpLm5hbWU7ZnVuY3Rpb24genYodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihpPWkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscikuZW51bWVyYWJsZX0pKSxuLnB1c2guYXBwbHkobixpKTt9cmV0dXJuIG59ZnVuY3Rpb24gSnYodCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdIT1udWxsP2FyZ3VtZW50c1tlXTp7fTtlJTI/enYoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe1QodCxpLG5baV0pO30pOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOnp2KE9iamVjdChuKSkuZm9yRWFjaChmdW5jdGlvbihpKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxpLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixpKSk7fSk7fXJldHVybiB0fXZhciB6cz1cIndlYnNka19uZ19jYWNoZV9wYXJhbWV0ZXJcIixUVz12KFwiTUFYX1BSRUxPQURfQVNZTkNfTEVOR1RIXCIpLFNXPTFlNCxNbz1uZXcgTWFwLFVvPVtdLGZfPW51bGwsZ189MCxUXz0wLFhkPW5ldyBNYXAsUlc9ZnVuY3Rpb24odCxlKXtsZXQgbj1bXSxpPTAscj1hc3luYygpPT57bGV0IG89bi5zaGlmdCgpO28mJmF3YWl0IG8oKSxuLmxlbmd0aD4wJiZpPGU/cigpOmktLTt9O3JldHVybiBhc3luYyBmdW5jdGlvbigpe2Zvcih2YXIgbz1hcmd1bWVudHMubGVuZ3RoLHM9bmV3IEFycmF5KG8pLGE9MDthPG87YSsrKXNbYV09YXJndW1lbnRzW2FdO3JldHVybiBuZXcgaihhc3luYyhjLGQpPT57bi5wdXNoKGFzeW5jKCk9Pnt0cnl7bGV0IGw9YXdhaXQgdCguLi5zKTtjKGwpO31jYXRjaChsKXtkKGwpO319KSxpPGUmJihpKysscigpKTt9KX19KHkwLFRXKSxTXz1tbi5DYW5jZWxUb2tlbi5zb3VyY2UoKTthc3luYyBmdW5jdGlvbiB5MCh0LGUsbixpLHIsbyl7dHJ5e2lmKCF2KFwiRU5BQkxFX1BSRUxPQURcIikpcmV0dXJuO2lmKCFmdCgpLnN1cHBvcnRXZWJDcnlwdG8pcmV0dXJuIHZvaWQgcG8oKCk9PntfLndhcm4oXCJZb3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBwcmVsb2FkaW5nLCB0aGlzIGZlYXR1cmUgIGJlIHJ1biBpbiBhIHNlY3VyZSBlbnZpcm9ubWVudFwiKTt9LFwicHJlbG9hZF93ZWJjcnlwdG9fbm90X3N1cHBvcnRlZFwiKTtpZighbiYmbiE9PW51bGwpdGhyb3cgbmV3IE4oUi5JTlZBTElEX1BBUkFNUyxcIkludmFsaWQgdG9rZW46IFwiLmNvbmNhdChuLFwiLiBJZiB5b3UgZG9uIG5vdCB1c2UgdG9rZW4sIHNldCBpdCB0byBudWxsXCIpKTtuJiZQZShuLFwidG9rZW5cIiwxLDIwNDcpLFBlKHQsXCJhcHBpZFwiLDEsMjA0NyksWHUoZSksaSYmUXUoaSk7bGV0IHM9TXMoKTtfLmRlYnVnKFwicHJlbG9hZCBjaGFubmVsIFwiLmNvbmNhdChlLFwiLCB1aWQgaXMgXCIpLmNvbmNhdChpKSk7bGV0IGE9e2FwcElkOnQsY25hbWU6ZSx0b2tlbjpufHx0LHVpZDp0eXBlb2YgaSE9XCJzdHJpbmdcIj9pOm51bGwsc2lkOnMscHJveHlTZXJ2ZXI6cn0sYyxkO3R5cGVvZiBpPT1cInN0cmluZ1wiPyhhLnN0cmluZ1VpZD1pLFtkLGNdPWF3YWl0IGouYWxsKFtZRyhpLHtzaWQ6cyxhcHBJZDp0fSxTXy50b2tlbiksZXYoSnYoSnYoe30sYSkse30se3Rva2VuOm58fHQsdWlkOjB9KSxTXy50b2tlbildKSxhLnVpZD1kLnVpZCxjLmdhdGV3YXlJbmZvLnVpZD1hLnVpZCxjLmdhdGV3YXlJbmZvLnJlcy51aWQ9YS51aWQpOihvJiYoYS5zdHJpbmdVaWQ9byksYz1hd2FpdCBldihhLFNfLnRva2VuKSk7bGV0IGw9e3NpZDpzLGFwcElkOnQsY25hbWU6ZSx0b2tlbjpufHx0LHVpZDphLnN0cmluZ1VpZHx8aSxpbnRVaWQ6YS51aWR8fGMuZ2F0ZXdheUluZm8udWlkLHN0cmluZ1VpZDphLnN0cmluZ1VpZCx0czpEYXRlLm5vdygpLHN1YTpkLGFwOmN9O2F3YWl0IGFzeW5jIGZ1bmN0aW9uKHUpe2xldCBoO3RyeXt1LnVpZCYmQTAoe2FwcElkOnUuYXBwSWQsY25hbWU6dS5jbmFtZSx0b2tlbjp1LnRva2VuLHVpZDp1LnVpZCxzdHJpbmdVaWQ6dS5zdHJpbmdVaWR9KTtsZXQgcD1PMCh1KSxnPWF3YWl0IGFzeW5jIGZ1bmN0aW9uKGYsUyl7dHJ5e2xldCBDPWF3YWl0IHdpbmRvdy5jcnlwdG8uc3VidGxlLmltcG9ydEtleShcInJhd1wiLHlPKFMpLFwiQUVTLUdDTVwiLCExLFtcImVuY3J5cHRcIl0pLEE9YXdhaXQgd2luZG93LmNyeXB0by5zdWJ0bGUuZW5jcnlwdCh7bmFtZTpcIkFFUy1HQ01cIixpdjpuZXcgVWludDhBcnJheSgxKX0sQyxGbyh3aW5kb3cuYnRvYShKU09OLnN0cmluZ2lmeShmKSkpKTtyZXR1cm4gc28obmV3IFVpbnQ4QXJyYXkoQSkpfWNhdGNoe3JldHVybn19KHUsdS50b2tlbnx8dS5hcHBJZCk7aWYoIWcpcmV0dXJuO2g9dzAoenMpO2xldCBFPWg/SlNPTi5wYXJzZShoKTpbXTtFLnB1c2goe1twXTpnfSksRS5sZW5ndGg+dihcIkFQX0NBQ0hFX05VTVwiKSYmRS5zaGlmdCgpLGd1KHpzLEpTT04uc3RyaW5naWZ5KEUpKTt9Y2F0Y2gocCl7Xy53YXJuKFwiRXJyb3IgY2FjaGluZyBzZXJ2ZXIgcGFyYW1ldGVyczpcIixwLm1lc3NhZ2UpLGd1KHpzLFwiXCIpO319KGwpLGdfKys7fWNhdGNoKHMpe3Rocm93IFRfKyssZnVuY3Rpb24oYSl7Zl98fChmXz13aW5kb3cuc2V0VGltZW91dCgoKT0+e2xldCBkPVwiXCI7WGQuZm9yRWFjaCgobCx1KT0+e2QrPVwiXCIuY29uY2F0KHUsXCI6IFwiKS5jb25jYXQobCxcIiA7XCIpO30pLFgucmVwb3J0QXBpSW52b2tlKG51bGwse25hbWU6VGUuUFJFTE9BRCxvcHRpb25zOntzdWNjZXNzOmdfLGZhaWxlZDpUXyxlcnI6ZH19KS5vbkVycm9yKGEpLGdfPTAsVF89MCxYZC5jbGVhcigpLGZfPW51bGw7fSxTVykpO2xldCBjPVhkLmdldChhLmNvZGUpfHwwO1hkLnNldChhLmNvZGUsYysxKTt9KHMpLHN9fWFzeW5jIGZ1bmN0aW9uIFh2KHQpe3RyeXtsZXQgZT1BMCh0KTtpZighZXx8dC5jbG91ZFByb3h5U2VydmVyIT09XCJkaXNhYmxlZFwiKXJldHVybjtsZXQgbj1hd2FpdCBhc3luYyBmdW5jdGlvbihpLHIpe3RyeXtsZXQgbz1hd2FpdCB3aW5kb3cuY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoXCJyYXdcIix5TyhyKSxcIkFFUy1HQ01cIiwhMSxbXCJkZWNyeXB0XCJdKSxzPWF3YWl0IHdpbmRvdy5jcnlwdG8uc3VidGxlLmRlY3J5cHQoe25hbWU6XCJBRVMtR0NNXCIsaXY6bmV3IFVpbnQ4QXJyYXkoMSl9LG8sRm8oaSkpO3JldHVybiBKU09OLnBhcnNlKHdpbmRvdy5hdG9iKHNvKG5ldyBVaW50OEFycmF5KHMpKSkpfWNhdGNoe3JldHVybn19KGUsdC50b2tlbnx8dC5hcHBJZCk7aWYoIW58fCFmdW5jdGlvbihpLHIpe3JldHVybiBpLmNuYW1lPT09ci5jbmFtZSYmaS5hcHBJZD09PXIuYXBwSWQmJmkudG9rZW49PT1yLnRva2VuP3Iuc3RyaW5nVWlkP2kuc3RyaW5nVWlkPT09ci5zdHJpbmdVaWQ6dHlwZW9mIHIudWlkPT1cIm51bWJlclwiP2kudWlkPT09ci51aWQ6aS51aWQ9PXIudWlkOiExfShuLHQpKXJldHVybjtpZihuJiZEYXRlLm5vdygpLW4udHM8dihcIkFQX0NBQ0hFX0xJRkVUSU1FXCIpKXJldHVybiBufWNhdGNoKGUpe18ud2FybihcIkVycm9yIGdldCBwcmVsb2FkSW5mb1wiLGUubWVzc2FnZSk7fX1mdW5jdGlvbiBBMCh0KXtsZXQgZTt0cnl7aWYoZT13MCh6cyksIWUpcmV0dXJuO2xldCBuPUpTT04ucGFyc2UoZSksaT1PMCh0KSxyPWZ1bmN0aW9uKHMsYSl7Zm9yKGxldCBjPXMubGVuZ3RoLTE7Yz49MDtjLS0paWYoYShzW2NdKSlyZXR1cm4gYztyZXR1cm4gLTF9KG4scz0+aSBpbiBzKTtpZihyPT09LTEpcmV0dXJuO2xldCBvPW4uc3BsaWNlKHIsMSlbMF07cmV0dXJuIGd1KHpzLEpTT04uc3RyaW5naWZ5KG4pKSxvW2ldfWNhdGNoKG4pe18ud2FybihcIkVycm9yIGRlbGV0ZSBwcmVsb2FkIGluZm86IFwiLmNvbmNhdChlKSxuLm1lc3NhZ2UpLGd1KHpzLFwiXCIpO319ZnVuY3Rpb24gRGYodCl7aWYodCl7bGV0IGU9TW8uZ2V0KHQpO2UmJih3aW5kb3cuY2xlYXJUaW1lb3V0KGUpLGU9bnVsbCxNby5kZWxldGUodCkpLFcoVW8pLmNhbGwoVW8sdCl8fHQuY2xvdWRQcm94eVNlcnZlciE9PVwiZGlzYWJsZWRcInx8VW8ucHVzaCh0KTt9aWYoTW8uc2l6ZTx2KFwiQVBfQ0FDSEVfTlVNXCIpJiZVby5sZW5ndGg+MCl7bGV0IGU9VW8uc2hpZnQoKTtNby5zZXQoZSx3aW5kb3cuc2V0VGltZW91dChhc3luYygpPT57bGV0e2FwcElkOm4sY25hbWU6aSx0b2tlbjpyLHN0cmluZ1VpZDpvLHVpZDpzLHByb3h5U2VydmVyOmF9PWU7dHJ5e2F3YWl0IFJXKG4saSxyLHMsYSxvKSxNby5oYXMoZSkmJkRmKGUpO31jYXRjaChjKXtfLndhcm4oXCJ1cGRhdGUgcHJlbG9hZCBmYWlsZWRcIixjLm1lc3NhZ2UpLGIwKGUpO319LHYoXCJBUF9VUERBVEVfSU5URVJWQUxcIikpKTt9fWZ1bmN0aW9uIGIwKHQpe2xldCBlPVVvLmluZGV4T2YodCk7ZSE9PS0xJiZVby5zcGxpY2UoZSwxKTtsZXQgbj1Nby5nZXQodCk7biYmKHdpbmRvdy5jbGVhclRpbWVvdXQobiksbj1udWxsLE1vLmRlbGV0ZSh0KSxEZigpKTt9ZnVuY3Rpb24gUXYodCxlKXtsZXQgbj10LnN1YSxpPXQuYXA7ZSYmbiYmWC5yZXFVc2VyQWNjb3VudCh0LnNpZCx7bHRzOm4ucmVxdWVzdFRpbWUsZWxhcHNlOm4uZWxhcHNlLHN1Y2Nlc3M6ITAsc2VydmVyQWRkcjpuLnVybCxzdHJpbmdVaWQ6ZSx1aWQ6dC5pbnRVaWQsZXJyb3JDb2RlOm51bGwsZXh0ZW5kOm4ucmVxfSksWC5yZXBvcnRSZXNvdXJjZVRpbWluZyh0LmFwLnVybCx0LnNpZCksWC5qb2luV2ViUHJveHlBUCh0LnNpZCx7bHRzOmkucmVxdWVzdFRpbWUsZWxhcHNlOmkuZWxhcHNlLHN1Y2VzczoxLGFwU2VydmVyQWRkcjppLnVybCx0dXJuU2VydmVyQWRkckxpc3Q6aS5wcm94eUluZm8uYWRkcmVzc2VzLm1hcChyPT5yLmlwKS5qb2luKFwiLFwiKSxldmVudFR5cGU6XCJkaXNhYmxlZFwiLHVuaWxic1NlcnZlcklkczpbdWUuQ0hPT1NFX1NFUlZFUix1ZS5DTE9VRF9QUk9YWV9GQUxMQkFDS10udG9TdHJpbmcoKX0pLFguam9pbkNob29zZVNlcnZlcih0LnNpZCx7bHRzOmkucmVxdWVzdFRpbWUsZWxhcHNlOmkuZWxhcHNlLHN1Y2M6ITAsY3NBZGRyOmkudXJsLG9waWQ6aS5vcGlkLHNlcnZlckxpc3Q6aS5nYXRld2F5SW5mby5nYXRld2F5QWRkcnMubWFwKHI9PnIuYWRkcmVzcyksZWM6bnVsbCxjaWQ6aS5nYXRld2F5SW5mby5jaWQudG9TdHJpbmcoKSx1aWQ6aS5nYXRld2F5SW5mby51aWQudG9TdHJpbmcoKSxjc0lwOmkuZ2F0ZXdheUluZm8uY3NJcCx1bmlsYnNTZXJ2ZXJJZHM6W3VlLkNIT09TRV9TRVJWRVJdLnRvU3RyaW5nKCksaXNIdHRwMzppLmlzSHR0cDN9KTt9ZnVuY3Rpb24gdzAodCl7cmV0dXJuIHdpbmRvdy5hdG9iKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0KXx8XCJcIil9ZnVuY3Rpb24gZ3UodCxlKXt3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0odCx3aW5kb3cuYnRvYShlKSk7fWZ1bmN0aW9uIE8wKHQpe2xldCBlPVwiXCIuY29uY2F0KHQuYXBwSWQsXCJfXCIpLmNvbmNhdCh0LmNuYW1lKTtyZXR1cm4gdHlwZW9mIHQudWlkPT1cInN0cmluZ1wiJiYoZSs9XCJfc19cIi5jb25jYXQodC51aWQpKSx0eXBlb2YgdC51aWQ9PVwibnVtYmVyXCImJihlKz1cIl9cIi5jb25jYXQodC51aWQpKSx0LnRva2VuJiYoZSs9XCJfXCIuY29uY2F0KHQudG9rZW4pKSxiTyhlKX1mdW5jdGlvbiBDVyh0KXtsZXQgZT1mdW5jdGlvbigpe2xldCBuPXlXLnBvcCgpO3JldHVybiBuPyhuLm9mZnNldD1uLmxpbWl0PTAsbik6e2J5dGVzOm5ldyBVaW50OEFycmF5KDY0KSxvZmZzZXQ6MCxsaW1pdDowfX0oKTtyZXR1cm4gZnVuY3Rpb24obixpKXtsZXQgcj1uLmFwcElkO3IhPT12b2lkIDAmJihkZShpLDEwKSxIcihpLHIpKTtsZXQgbz1uLmNpZDtvIT09dm9pZCAwJiYoZGUoaSwxNiksZGUoaSxvKSk7bGV0IHM9bi5jbmFtZTtzIT09dm9pZCAwJiYoZGUoaSwyNiksSHIoaSxzKSk7bGV0IGE9bi5kZXZpY2VJZDthIT09dm9pZCAwJiYoZGUoaSwzNCksSHIoaSxhKSk7bGV0IGM9bi5lbGFwc2U7YyE9PXZvaWQgMCYmKGRlKGksNDApLEtyKGksYykpO2xldCBkPW4uZmlsZVNpemU7ZCE9PXZvaWQgMCYmKGRlKGksNDgpLEtyKGksU3MoZCkpKTtsZXQgbD1uLmhlaWdodDtsIT09dm9pZCAwJiYoZGUoaSw1NiksS3IoaSxTcyhsKSkpO2xldCB1PW4uanBnO3UhPT12b2lkIDAmJihkZShpLDY2KSxkZShpLHUubGVuZ3RoKSxadihpLHUpKTtsZXQgaD1uLm5ldHdvcmtUeXBlO2ghPT12b2lkIDAmJihkZShpLDcyKSxLcihpLFNzKGgpKSk7bGV0IHA9bi5vc1R5cGU7cCE9PXZvaWQgMCYmKGRlKGksODApLEtyKGksU3MocCkpKTtsZXQgZz1uLnJlcXVlc3RJZDtnIT09dm9pZCAwJiYoZGUoaSw5MCksSHIoaSxnKSk7bGV0IEU9bi5zZGtWZXJzaW9uO0UhPT12b2lkIDAmJihkZShpLDk4KSxIcihpLEUpKTtsZXQgZj1uLnNlcXVlbmNlO2YhPT12b2lkIDAmJihkZShpLDEwNCksS3IoaSxTcyhmKSkpO2xldCBTPW4uc2lkO1MhPT12b2lkIDAmJihkZShpLDExNCksSHIoaSxTKSk7bGV0IEM9bi50aW1lc3RhbXA7QyE9PXZvaWQgMCYmKGRlKGksMTIwKSxLcihpLEMpKTtsZXQgQT1uLnVpZDtBIT09dm9pZCAwJiYoZGUoaSwxMjgpLGRlKGksQSkpO2xldCBiPW4udmlkO2IhPT12b2lkIDAmJihkZShpLDEzNiksZGUoaSxiKSk7bGV0IHc9bi53aWR0aDt3IT09dm9pZCAwJiYoZGUoaSwxNDQpLEtyKGksU3ModykpKTtsZXQgRD1uLnNlcnZpY2U7RCE9PXZvaWQgMCYmKGRlKGksMTUyKSxkZShpLEQpKTtsZXQgaz1uLmNhbGxiYWNrRGF0YTtrIT09dm9pZCAwJiYoZGUoaSwxNjIpLGRlKGksay5sZW5ndGgpLFp2KGksaykpO2xldCBCPW4udGlja2V0O0IhPT12b2lkIDAmJihkZShpLDE3MCksSHIoaSxCKSk7bGV0IFY9bi52ZW5kb3JDb25maWdzO1YhPT12b2lkIDAmJihkZShpLDE3OCksSHIoaSxWKSk7fSh0LGUpLGZ1bmN0aW9uKG4pe2xldCBpPW4uYnl0ZXMscj1uLmxpbWl0O3JldHVybiBpLmxlbmd0aD09PXI/aTppLnN1YmFycmF5KDAscil9KGUpfWZ1bmN0aW9uIElXKHQpe3JldHVybiBmdW5jdGlvbihuKXtsZXQgaT17fTt0OmZvcig7IUFXKG4pOyl7bGV0IHI9JGEobik7c3dpdGNoKHI+Pj4zKXtjYXNlIDA6YnJlYWsgdDtjYXNlIDE6aS5jb2RlPSRhKG4pO2JyZWFrO2Nhc2UgMjppLm1zZz0kdihuLCRhKG4pKTticmVhaztjYXNlIDM6aS5yZXF1ZXN0SWQ9JHYobiwkYShuKSk7YnJlYWs7Y2FzZSA0OmkudGltZXN0YW1wPWJXKG4sITEpO2JyZWFrO2RlZmF1bHQ6dlcobiw3JnIpO319cmV0dXJuIGl9KHtieXRlczplPXQsb2Zmc2V0OjAsbGltaXQ6ZS5sZW5ndGh9KTt2YXIgZTt9ZnVuY3Rpb24gdlcodCxlKXtzd2l0Y2goZSl7Y2FzZSAwOmZvcig7MTI4JmdpKHQpOyk7YnJlYWs7Y2FzZSAyOlJfKHQsJGEodCkpO2JyZWFrO2Nhc2UgNTpSXyh0LDQpO2JyZWFrO2Nhc2UgMTpSXyh0LDgpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiVW5pbXBsZW1lbnRlZCB0eXBlOiBcIitlKX19ZnVuY3Rpb24gU3ModCl7cmV0dXJuIHtsb3c6dHw9MCxoaWdoOnQ+PjMxLHVuc2lnbmVkOnQ+PTB9fXZhciB5Vz1bXTtmdW5jdGlvbiBSXyh0LGUpe2lmKHQub2Zmc2V0K2U+dC5saW1pdCl0aHJvdyBuZXcgRXJyb3IoXCJTa2lwIHBhc3QgbGltaXRcIik7dC5vZmZzZXQrPWU7fWZ1bmN0aW9uIEFXKHQpe3JldHVybiB0Lm9mZnNldD49dC5saW1pdH1mdW5jdGlvbiAkdSh0LGUpe2xldCBuPXQuYnl0ZXMsaT10Lm9mZnNldCxyPXQubGltaXQsbz1pK2U7aWYobz5uLmxlbmd0aCl7bGV0IHM9bmV3IFVpbnQ4QXJyYXkoMipvKTtzLnNldChuKSx0LmJ5dGVzPXM7fXJldHVybiB0Lm9mZnNldD1vLG8+ciYmKHQubGltaXQ9byksaX1mdW5jdGlvbiBOMCh0LGUpe2xldCBuPXQub2Zmc2V0O2lmKG4rZT50LmxpbWl0KXRocm93IG5ldyBFcnJvcihcIlJlYWQgcGFzdCBsaW1pdFwiKTtyZXR1cm4gdC5vZmZzZXQrPWUsbn1mdW5jdGlvbiBadih0LGUpe2xldCBuPSR1KHQsZS5sZW5ndGgpO3QuYnl0ZXMuc2V0KGUsbik7fWZ1bmN0aW9uICR2KHQsZSl7bGV0IG49TjAodCxlKSxpPVN0cmluZy5mcm9tQ2hhckNvZGUscj10LmJ5dGVzLG89XCJcXHVGRkZEXCIscz1cIlwiO2ZvcihsZXQgYT0wO2E8ZTthKyspe2xldCBjLGQsbCx1LGg9clthK25dOzEyOCZoPygyMjQmaCk9PTE5Mj9hKzE+PWU/cys9bzooYz1yW2ErbisxXSwoMTkyJmMpIT0xMjg/cys9bzoodT0oMzEmaCk8PDZ8NjMmYyx1PDEyOD9zKz1vOihzKz1pKHUpLGErKykpKTooMjQwJmgpPT0yMjQ/YSsyPj1lP3MrPW86KGM9clthK24rMV0sZD1yW2ErbisyXSwoNDkzNDQmKGN8ZDw8OCkpIT0zMjg5Nj9zKz1vOih1PSgxNSZoKTw8MTJ8KDYzJmMpPDw2fDYzJmQsdTwyMDQ4fHx1Pj01NTI5NiYmdTw9NTczNDM/cys9bzoocys9aSh1KSxhKz0yKSkpOigyNDgmaCk9PTI0MD9hKzM+PWU/cys9bzooYz1yW2ErbisxXSxkPXJbYStuKzJdLGw9clthK24rM10sKDEyNjMyMjU2JihjfGQ8PDh8bDw8MTYpKSE9ODQyMTUwND9zKz1vOih1PSg3JmgpPDwxOHwoNjMmYyk8PDEyfCg2MyZkKTw8Nnw2MyZsLHU8NjU1MzZ8fHU+MTExNDExMT9zKz1vOih1LT02NTUzNixzKz1pKDU1Mjk2Kyh1Pj4xMCksNTYzMjArKDEwMjMmdSkpLGErPTMpKSk6cys9bzpzKz1pKGgpO31yZXR1cm4gc31mdW5jdGlvbiBIcih0LGUpe2xldCBuPWUubGVuZ3RoLGk9MDtmb3IobGV0IHM9MDtzPG47cysrKXtsZXQgYT1lLmNoYXJDb2RlQXQocyk7YT49NTUyOTYmJmE8PTU2MzE5JiZzKzE8biYmKGE9KGE8PDEwKStlLmNoYXJDb2RlQXQoKytzKS01NjYxMzg4OCksaSs9YTwxMjg/MTphPDIwNDg/MjphPDY1NTM2PzM6NDt9ZGUodCxpKTtsZXQgcj0kdSh0LGkpLG89dC5ieXRlcztmb3IobGV0IHM9MDtzPG47cysrKXtsZXQgYT1lLmNoYXJDb2RlQXQocyk7YT49NTUyOTYmJmE8PTU2MzE5JiZzKzE8biYmKGE9KGE8PDEwKStlLmNoYXJDb2RlQXQoKytzKS01NjYxMzg4OCksYTwxMjg/b1tyKytdPWE6KGE8MjA0OD9vW3IrK109YT4+NiYzMXwxOTI6KGE8NjU1MzY/b1tyKytdPWE+PjEyJjE1fDIyNDoob1tyKytdPWE+PjE4Jjd8MjQwLG9bcisrXT1hPj4xMiY2M3wxMjgpLG9bcisrXT1hPj42JjYzfDEyOCksb1tyKytdPTYzJmF8MTI4KTt9fWZ1bmN0aW9uIGdpKHQpe3JldHVybiB0LmJ5dGVzW04wKHQsMSldfWZ1bmN0aW9uIHR5KHQsZSl7bGV0IG49JHUodCwxKTt0LmJ5dGVzW25dPWU7fWZ1bmN0aW9uICRhKHQpe2xldCBlLG49MCxpPTA7ZG8gZT1naSh0KSxuPDMyJiYoaXw9KDEyNyZlKTw8biksbis9Nzt3aGlsZSgxMjgmZSk7cmV0dXJuIGl9ZnVuY3Rpb24gZGUodCxlKXtmb3IoZT4+Pj0wO2U+PTEyODspdHkodCwxMjcmZXwxMjgpLGU+Pj49Nzt0eSh0LGUpO31mdW5jdGlvbiBiVyh0LGUpe2xldCBuLGk9MCxyPTAsbz0wO3JldHVybiBuPWdpKHQpLGk9MTI3Jm4sMTI4Jm4mJihuPWdpKHQpLGl8PSgxMjcmbik8PDcsMTI4Jm4mJihuPWdpKHQpLGl8PSgxMjcmbik8PDE0LDEyOCZuJiYobj1naSh0KSxpfD0oMTI3Jm4pPDwyMSwxMjgmbiYmKG49Z2kodCkscj0xMjcmbiwxMjgmbiYmKG49Z2kodCkscnw9KDEyNyZuKTw8NywxMjgmbiYmKG49Z2kodCkscnw9KDEyNyZuKTw8MTQsMTI4Jm4mJihuPWdpKHQpLHJ8PSgxMjcmbik8PDIxLDEyOCZuJiYobj1naSh0KSxvPTEyNyZuLDEyOCZuJiYobj1naSh0KSxvfD0oMTI3Jm4pPDw3KSkpKSkpKSkpLHtsb3c6aXxyPDwyOCxoaWdoOnI+Pj40fG88PDI0LHVuc2lnbmVkOmV9fWZ1bmN0aW9uIEtyKHQsZSl7bGV0IG49ZS5sb3c+Pj4wLGk9KGUubG93Pj4+Mjh8ZS5oaWdoPDw0KT4+PjAscj1lLmhpZ2g+Pj4yNCxvPXI9PT0wP2k9PT0wP248MTYzODQ/bjwxMjg/MToyOm48MTw8MjE/Mzo0Omk8MTYzODQ/aTwxMjg/NTo2Omk8MTw8MjE/Nzo4OnI8MTI4Pzk6MTAscz0kdSh0LG8pLGE9dC5ieXRlcztzd2l0Y2gobyl7Y2FzZSAxMDphW3MrOV09cj4+PjcmMTtjYXNlIDk6YVtzKzhdPW8hPT05PzEyOHxyOjEyNyZyO2Nhc2UgODphW3MrN109byE9PTg/aT4+PjIxfDEyODppPj4+MjEmMTI3O2Nhc2UgNzphW3MrNl09byE9PTc/aT4+PjE0fDEyODppPj4+MTQmMTI3O2Nhc2UgNjphW3MrNV09byE9PTY/aT4+Pjd8MTI4Omk+Pj43JjEyNztjYXNlIDU6YVtzKzRdPW8hPT01PzEyOHxpOjEyNyZpO2Nhc2UgNDphW3MrM109byE9PTQ/bj4+PjIxfDEyODpuPj4+MjEmMTI3O2Nhc2UgMzphW3MrMl09byE9PTM/bj4+PjE0fDEyODpuPj4+MTQmMTI3O2Nhc2UgMjphW3MrMV09byE9PTI/bj4+Pjd8MTI4Om4+Pj43JjEyNztjYXNlIDE6YVtzXT1vIT09MT8xMjh8bjoxMjcmbjt9fXZhciBleT17fSxueT17fSxUdT00Mjk0OTY3Mjk2LEQwPVR1KlR1LGl5PUQwLzI7UDAoMCwhMCk7dmFyIHJ5PVAwKDApLHdXPXNhKDAsLTIxNDc0ODM2NDgsITEpLE9XPXNhKC0xLDIxNDc0ODM2NDcsITEpO2Z1bmN0aW9uIFAwKHQsZSl7bGV0IG4saSxyO3JldHVybiBlPyhyPTA8PSh0Pj4+PTApJiZ0PDI1NikmJihpPW55W3RdLGkpP2k6KG49c2EodCwwLCEwKSxyJiYobnlbdF09biksbik6KHI9LTEyODw9KHR8PTApJiZ0PDEyOCkmJihpPWV5W3RdLGkpP2k6KG49c2EodCx0PDA/LTE6MCwhMSksciYmKGV5W3RdPW4pLG4pfWZ1bmN0aW9uIHNhKHQsZSxuKXtyZXR1cm4ge2xvdzowfHQsaGlnaDowfGUsdW5zaWduZWQ6ISFufX1mdW5jdGlvbiBEVyh0LGUpe2lmKGlzTmFOKHQpKXJldHVybiByeTt7aWYodDw9LWl5KXJldHVybiB3VztpZih0KzE+PWl5KXJldHVybiBPV31yZXR1cm4gdDwwP3J5OnNhKHQlVHV8MCx0L1R1fDAsZSl9ZnVuY3Rpb24gb3kodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihpPWkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscikuZW51bWVyYWJsZX0pKSxuLnB1c2guYXBwbHkobixpKTt9cmV0dXJuIG59dmFyIHBtPWNsYXNzIHQgZXh0ZW5kcyBYdHtnZXQgY29ubmVjdGlvblN0YXRlKCl7cmV0dXJuIHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZX1zZXQgY29ubmVjdGlvblN0YXRlKGUpe2lmKHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZT09PWUpcmV0dXJuO2xldCBuPXRoaXMuX2Nvbm5lY3Rpb25TdGF0ZTt0aGlzLl9jb25uZWN0aW9uU3RhdGU9ZSx0aGlzLmVtaXQoTWkuQ09OTkVDVElPTl9TVEFURV9DSEFOR0UsZSxuKTt9Z2V0IHF1YWxpdHkoKXtyZXR1cm4gdGhpcy5fcXVhbGl0eX1zZXQgcXVhbGl0eShlKXt0aGlzLl9xdWFsaXR5PWU+MT8xOmU8LjE/LjE6ZSx0aGlzLl9xdWFsaXR5VGltZXImJih3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX3F1YWxpdHlUaW1lciksdGhpcy5fcXVhbGl0eVRpbWVyPW51bGwpLHRoaXMuX3F1YWxpdHk+PTF8fCh0aGlzLl9xdWFsaXR5VGltZXI9d2luZG93LnNldFRpbWVvdXQoKCk9Pnt0aGlzLnF1YWxpdHk9dGhpcy5fcXVhbGl0eS90aGlzLl9xdWFsaXR5UmF0aW87fSw2ZTQpKTt9Y29uc3RydWN0b3IoZSl7dmFyIG47c3VwZXIoKSxUKHRoaXMsXCJuYW1lXCIsXCJBZ29yYVJUQ0ltYWdlTW9kZXJhdGlvblwiKSxUKHRoaXMsXCJfY29ubmVjdGlvblN0YXRlXCIsWG4uQ09OTkVDVElORyksVCh0aGlzLFwiX3NlcXVlbmNlXCIsMCksVCh0aGlzLFwiX21vZGVyYXRpb25TdGFydFRpbWVcIix2b2lkIDApLFQodGhpcyxcIl93b3JrZXJDb25uZWN0aW9uXCIsdm9pZCAwKSxUKHRoaXMsXCJfd29ya2VyTWVzc2FnZUxlbmd0aExpbWl0XCIsdm9pZCAwKSxUKHRoaXMsXCJfcXVhbGl0eVJhdGlvXCIsdm9pZCAwKSxUKHRoaXMsXCJfY29ubmVjdEluZm9cIix2b2lkIDApLFQodGhpcyxcIl9jYW5jZWxUb2tlblNvdXJjZVwiLG1uLkNhbmNlbFRva2VuLnNvdXJjZSgpKSxUKHRoaXMsXCJfcmV0cnlDb25maWdcIix2b2lkIDApLFQodGhpcyxcIl9tb2RlcmF0aW9uSW50ZXJ2YWxcIix2b2lkIDApLFQodGhpcyxcIl9tb2RlcmF0aW9uVGltZXJcIixudWxsKSxUKHRoaXMsXCJfbW9kZXJhdGlvbk1vZGVcIiwxKSxUKHRoaXMsXCJfcXVhbGl0eVwiLDEpLFQodGhpcyxcIl9xdWFsaXR5VGltZXJcIixudWxsKSxUKHRoaXMsXCJfdGlja2V0XCIsdm9pZCAwKSxUKHRoaXMsXCJfbW9kZXJhdGlvbkludGVydmFsTWluaW11bVwiLHZvaWQgMCksVCh0aGlzLFwiX3VwbG9hZEZhaWxlZE51bVwiLDApLFQodGhpcyxcIl91cGxvYWROdW1cIiwwKSxUKHRoaXMsXCJfdXBsb2FkVGltZXJcIixudWxsKSxUKHRoaXMsXCJfZXh0cmFJbmZvXCIsdm9pZCAwKSxUKHRoaXMsXCJfdmVuZG9yXCIsXCJcIiksVCh0aGlzLFwiX2VuY29kZXJcIixuZXcgVGV4dEVuY29kZXIpLFQodGhpcyxcIl9tb2RlcmF0aW9uSWRcIix2b2lkIDApLFQodGhpcyxcImluc3BlY3RJbWFnZVwiLCgpPT57aWYodGhpcy5jb25uZWN0aW9uU3RhdGUhPT1Ybi5DT05ORUNURUQpdGhyb3cgbmV3IE8oUi5PUEVSQVRJT05fQUJPUlRFRCxcImltYWdlIG1vZGVyYXRpb24gc2VydmljZSBjb25uZWN0aW9uIHN0YXR1cyBpcyBcIi5jb25jYXQodGhpcy5jb25uZWN0aW9uU3RhdGUpKTt0aGlzLl9tb2RlcmF0aW9uVGltZXImJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl9tb2RlcmF0aW9uVGltZXIpLHRoaXMuX21vZGVyYXRpb25UaW1lcj1udWxsKSx0aGlzLl9tb2RlcmF0aW9uVGltZXI9d2luZG93LnNldEludGVydmFsKCgpPT57dGhpcy5jb25uZWN0aW9uU3RhdGU9PT1Ybi5DT05ORUNURUQ/dGhpcy5yZXF1ZXN0VG9JbnNwZWN0SW1hZ2UoKTpfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9tb2RlcmF0aW9uSWQsXCJdIE1vZGVyYXRpb24gU3RhdGUgaXMgbm90IGNvbm5lY3RlZCAsIFwiKSx0aGlzLmNvbm5lY3Rpb25TdGF0ZSk7fSx0aGlzLl9tb2RlcmF0aW9uSW50ZXJ2YWw8dGhpcy5fbW9kZXJhdGlvbkludGVydmFsTWluaW11bT90aGlzLl9tb2RlcmF0aW9uSW50ZXJ2YWxNaW5pbXVtOnRoaXMuX21vZGVyYXRpb25JbnRlcnZhbCksdGhpcy5yZXF1ZXN0VG9JbnNwZWN0SW1hZ2UoKTt9KSx0aGlzLl9tb2RlcmF0aW9uSWQ9VXQoNSxcImltYWdlLW1vZGVyYXRpb24tXCIpLHRoaXMuX3dvcmtlck1lc3NhZ2VMZW5ndGhMaW1pdD12KFwiSU1BR0VfTU9ERVJBVElPTl9XT1JLRVJfTUVTU0FHRV9MRU5HVEhfTElNSVRcIiksdGhpcy5fbW9kZXJhdGlvbkludGVydmFsTWluaW11bT12KFwiSU1BR0VfTU9ERVJBVElPTl9JTlRFUlZBTF9NSU5JTVVNXCIpLHRoaXMuX21vZGVyYXRpb25JbnRlcnZhbD0obj1lLmludGVydmFsKSE9PW51bGwmJm4hPT12b2lkIDA/bjoxZTMsZS5leHRyYUluZm8mJih0aGlzLl9leHRyYUluZm89dGhpcy5fZW5jb2Rlci5lbmNvZGUoZS5leHRyYUluZm8pKSxlLnZlbmRvciYmKHRoaXMuX3ZlbmRvcj1lLnZlbmRvciksdGhpcy5fcXVhbGl0eVJhdGlvPXYoXCJJTUFHRV9NT0RFUkFUSU9OX1FVQUxJVFlfUkFUSU9cIiksdGhpcy5fbW9kZXJhdGlvblN0YXJ0VGltZT1OdW1iZXIoRGF0ZS5ub3coKSksdGhpcy5fd29ya2VyQ29ubmVjdGlvbj1uZXcgUW8oXCJ3b3JrZXItXCIrdGhpcy5fbW9kZXJhdGlvbklkLEVlKSx0aGlzLm9uKE1pLlNUQVRFX0NIQU5HRSwoaSxyKT0+e18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX21vZGVyYXRpb25JZCxcIl0gTW9kZXJhdGlvbiBvcGVyYXRpb24gOlwiKS5jb25jYXQoaHNbaV0sXCIgXCIpLmNvbmNhdChyfHxcIlwiKSk7fSksdGhpcy5oYW5kbGVXb3JrZXJFdmVudHMoKTt9YXN5bmMgaW5pdChlLG4pe3RoaXMuZW1pdChNaS5TVEFURV9DSEFOR0UsaHMuQ09OTkVDVF9BUCksdGhpcy5fY29ubmVjdEluZm89ZTtsZXQgaT10aGlzLl9jYW5jZWxUb2tlblNvdXJjZS50b2tlbjtyZXR1cm4gdGhpcy5fcmV0cnlDb25maWc9bixuZXcgaigocixvKT0+e3RoaXMub24oTWkuQ09OTkVDVElPTl9TVEFURV9DSEFOR0UsKHMsYSk9PntzPT09WG4uQ09OTkVDVEVEJiZyKCk7fSksdGhpcy5yZXF1ZXN0QVAoZSxpLG4pLnRoZW4ocz0+e3RoaXMuY29ubmVjdFdvcmtlcihzKTt9KS5jYXRjaChzPT57byhzKTt9KTt9KX11cGRhdGVDb25maWcoZSl7dmFyIG47dGhpcy5fbW9kZXJhdGlvbkludGVydmFsPShuPWUuaW50ZXJ2YWwpIT09bnVsbCYmbiE9PXZvaWQgMD9uOjFlMyxlLmV4dHJhSW5mbyYmKHRoaXMuX2V4dHJhSW5mbz10aGlzLl9lbmNvZGVyLmVuY29kZShlLmV4dHJhSW5mbykpLGUudmVuZG9yJiYodGhpcy5fdmVuZG9yPWUudmVuZG9yKSxfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9tb2RlcmF0aW9uSWQsXCJdIHVwZGF0ZUNvbmZpZzogXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShlKSkpLHRoaXMuY29ubmVjdGlvblN0YXRlPT09WG4uQ09OTkVDVEVEJiZ0aGlzLmluc3BlY3RJbWFnZSgpO31hc3luYyByZXF1ZXN0QVAoZSxuLGkpe2xldCByPXYoXCJXRUJDU19ET01BSU5cIikubWFwKGM9PlwiaHR0cHM6Ly9cIi5jb25jYXQoYyxcIi9hcGkvdjFcIikpLG89YXdhaXQgZnVuY3Rpb24oYyxkLGwsdSl7bGV0e2FwcElkOmgsYXJlYUNvZGU6cCxjbmFtZTpnLHNpZDpFLHRva2VuOmYsdWlkOlN9PWQ7WXMrKztsZXQgQz1cIm1vZGVyYXRpb25fcGx1Z2luXCIsQT17c2VydmljZV9uYW1lOkMsanNvbl9ib2R5OkpTT04uc3RyaW5naWZ5KHthcHBJZDpoLGFyZWFDb2RlOnAsY25hbWU6Zyxjb21tYW5kOlwiYWxsb2NhdGVFZGdlXCIscmVxdWVzdElkOllzLHNlcTpZcyxzaWQ6RSxhcHBUb2tlbjpmLHRzOkRhdGUubm93KCksdWlkOlMrXCJcIn0pfSxiLHcsRD1jWzBdO3JldHVybiBXaShhc3luYygpPT57Yj1EYXRlLm5vdygpO2xldCBrPWF3YWl0IEhpKEQse2RhdGE6QSxjYW5jZWxUb2tlbjpsLGhlYWRlcnM6e1wiWC1QYWNrZXQtU2VydmljZS1UeXBlXCI6XCIwXCIsXCJYLVBhY2tldC1VUklcIjpcIjYxXCJ9LHBhcmFtczp7YWN0aW9uOlwid3J0Y19nYXRld2F5XCJ9fSk7aWYodz1EYXRlLm5vdygpLWIsay5jb2RlIT09MCl7bGV0IHo9bmV3IE8oUi5VTkVYUEVDVEVEX1JFU1BPTlNFLFwibW9kZXJhdGlvbiBwbHVnaW4gYXAgZXJyb3IsIGNvZGVcIitrLmNvZGUse3JldHJ5OiEwLHJlc3BvbnNlVGltZTp3fSk7dGhyb3cgXy5lcnJvcih6LnRvU3RyaW5nKCkpLHp9bGV0IEI9SlNPTi5wYXJzZShrLmpzb25fYm9keSk7aWYoQi5jb2RlIT09MjAwKXtsZXQgej1uZXcgTyhSLlVORVhQRUNURURfUkVTUE9OU0UsXCJtb2RlcmF0aW9uIHBsdWdpbiBhcCBlcnJvciwgY29kZTogXCIuY29uY2F0KEIuY29kZSxcIiwgcmVhc29uOiBcIikuY29uY2F0KEIucmVhc29uKSx7Y29kZTpCLmNvZGUscmVzcG9uc2VUaW1lOnd9KTt0aHJvdyBfLmVycm9yKHoudG9TdHJpbmcoKSksen1pZighQi5zZXJ2ZXJzfHwhQXJyYXkuaXNBcnJheShCLnNlcnZlcnMpfHxCLnNlcnZlcnMubGVuZ3RoPT09MCl7bGV0IHo9bmV3IE8oUi5VTkVYUEVDVEVEX1JFU1BPTlNFLFwibW9kZXJhdGlvbiBwbHVnaW4gYXAgZW1wdHkgc2VydmVyXCIse2NvZGU6Qi5jb2RlLHJlc3BvbnNlVGltZTp3fSk7dGhyb3cgXy5lcnJvcih6LnRvU3RyaW5nKCkpLHp9aWYoIUIuc2VydmVycy5zb21lKHo9PiEhei53c3MpKXtsZXQgej1uZXcgTyhSLlVORVhQRUNURURfUkVTUE9OU0UsXCJtb2RlcmF0aW9uIHBsdWdpbiBhcCBlbXB0eSBwb3J0XCIse2NvZGU6Qi5jb2RlLHJlc3BvbnNlVGltZTp3fSk7dGhyb3cgXy5lcnJvcih6LnRvU3RyaW5nKCkpLHp9bGV0IFY9dihcIklNQUdFX01PREVSQVRJT05fV09SS0VSX0hPU1RcIik7cmV0dXJuIHthZGRyZXNzTGlzdDpCLnNlcnZlcnMubWFwKHo9PntsZXR7YWRkcmVzczpsdCx3c3M6dnR9PXo7aWYobHQmJnZ0KXJldHVybiBcIndzczovL1wiLmNvbmNhdChsdC5yZXBsYWNlKC9cXC4vZyxcIi1cIiksXCIuXCIpLmNvbmNhdChWLFwiOlwiKS5jb25jYXQodnQsXCIvbW9kZXJhdGlvblwiKX0pLmZpbHRlcih6PT4hIXopLHdvcmtlclRva2VuOkIud29ya2VyVG9rZW4sdmlkOkIudmlkLHRpY2tldDpCLmFwcFRpY2tldCxyZXNwb25zZVRpbWU6d319LChrLEIpPT4oWC5hcHdvcmtlckV2ZW50KEUse3N1Y2Nlc3M6ITAsc2M6MjAwLHNlcnZpY2VOYW1lOkMscmVzcG9uc2VEZXRhaWw6SlNPTi5zdHJpbmdpZnkoay5hZGRyZXNzTGlzdCksZmlyc3RTdWNjZXNzOkI9PT0wLHJlc3BvbnNlVGltZTp3LHNlcnZlcklwOmNbQiVjLmxlbmd0aF19KSwhMSksKGssQik9PihYLmFwd29ya2VyRXZlbnQoRSx7c3VjY2VzczohMSxzYzprLmRhdGEmJmsuZGF0YS5jb2RlfHwyMDAsc2VydmljZU5hbWU6QyxyZXNwb25zZVRpbWU6dyxzZXJ2ZXJJcDpjW0IlYy5sZW5ndGhdfSksISEoay5jb2RlIT09Ui5PUEVSQVRJT05fQUJPUlRFRCYmay5jb2RlIT09Ui5VTkVYUEVDVEVEX1JFU1BPTlNFfHxrLmRhdGEmJmsuZGF0YS5yZXRyeSkmJihEPWNbKEIrMSklYy5sZW5ndGhdLCEwKSksdSl9KHIsZSxuLGkpO3RoaXMuZW1pdChNaS5TVEFURV9DSEFOR0UsaHMuQVBfQ09OTkVDVEVEKTtsZXR7YWRkcmVzc0xpc3Q6cyx0aWNrZXQ6YX09bztyZXR1cm4gdGhpcy5fdGlja2V0PWEsc31hc3luYyBjb25uZWN0V29ya2VyKGUpe3RoaXMuZW1pdChNaS5TVEFURV9DSEFOR0UsaHMuQ09OTkVDVF9XT1JLRVIpLGF3YWl0IHRoaXMuX3dvcmtlckNvbm5lY3Rpb24uaW5pdChlLDFlNCk7fWhhbmRsZVdvcmtlckV2ZW50cygpe3RoaXMuX3dvcmtlckNvbm5lY3Rpb24ub24oaXQuQ09OTkVDVEVELGFzeW5jKCk9Pnt0aGlzLmVtaXQoTWkuU1RBVEVfQ0hBTkdFLGhzLldPUktFUl9DT05ORUNURUQsdGhpcy5fd29ya2VyQ29ubmVjdGlvbi51cmwpLHRoaXMuY29ubmVjdGlvblN0YXRlPVhuLkNPTk5FQ1RFRDt9KSx0aGlzLl93b3JrZXJDb25uZWN0aW9uLm9uKGl0LkNMT1NFRCwoKT0+e3RoaXMuY29ubmVjdGlvblN0YXRlPVhuLkNMT1NFRDt9KSx0aGlzLl93b3JrZXJDb25uZWN0aW9uLm9uKGl0LkZBSUxFRCwoKT0+e3RoaXMuY29ubmVjdGlvblN0YXRlPVhuLkNMT1NFRDt9KSx0aGlzLl93b3JrZXJDb25uZWN0aW9uLm9uKGl0LlJFQ09OTkVDVElORywoKT0+e3RoaXMuY29ubmVjdGlvblN0YXRlPXRoaXMuY29ubmVjdGlvblN0YXRlPT09WG4uQ09OTkVDVEVEP1huLlJFQ09OTkVDVElORzpYbi5DT05ORUNUSU5HO30pLHRoaXMuX3dvcmtlckNvbm5lY3Rpb24ub24oaXQuT05fTUVTU0FHRSxhc3luYyBlPT57aWYoZS5kYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpe2xldCBuPUlXKG5ldyBVaW50OEFycmF5KGUuZGF0YSkpO3YoXCJTSE9XX0lNQUdFX01PREVSQVRJT05fV09SS0VSX01FU1NBR0VcIikmJl8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX21vZGVyYXRpb25JZCxcIl0gUmVzcG9uc2UgbWVzc2FnZSBmb3Igd29ya2VyIG9mIGltYWdlIG1vZGVyYXRpb24gXCIpLEpTT04uc3RyaW5naWZ5KG4pKSx0aGlzLl91cGxvYWROdW0rKyxuLmNvZGU9PT12b2lkIDB8fG4uY29kZT09PTB8fCh0aGlzLl91cGxvYWRGYWlsZWROdW0rKyxfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9tb2RlcmF0aW9uSWQsXCJdIEVycm9yIHJlc3BvbnNlIGZyb20gd29ya2UsIGNvZGUgaXMgXCIpLmNvbmNhdChuLmNvZGUsXCIsIG1zZyBpcyBcIikuY29uY2F0KG4ubXNnKSksdGhpcy5fdXBsb2FkVGltZXJ8fCh0aGlzLl91cGxvYWRUaW1lcj13aW5kb3cuc2V0VGltZW91dCgoKT0+e1gucmVwb3J0QXBpSW52b2tlKHRoaXMuX2Nvbm5lY3RJbmZvLnNpZHx8bnVsbCx7bmFtZTpUZS5JTUFHRV9NT0RFUkFUSU9OX1VQTE9BRCxvcHRpb25zOlt0aGlzLl91cGxvYWRGYWlsZWROdW0sdGhpcy5fdXBsb2FkTnVtLG4uY29kZV0sdGFnOlp0LlRSQUNFUn0pLm9uRXJyb3IobmV3IE8oUi5JTUFHRV9NT0RFUkFUSU9OX1VQTE9BRF9GQUlMRUQsbi5tc2cpKSx0aGlzLl91cGxvYWRUaW1lcj1udWxsO30sdihcIklNQUdFX01PREVSQVRJT05fVVBMT0FEX1JFUE9SVF9JTlRFUlZBTFwiKSkpKTt9ZWxzZSBfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9tb2RlcmF0aW9uSWQsXCJdIFVuZXhwZWN0ZWQgbWVzc2FnZSB0eXBlIGZyb20gd29ya2VyXCIpKTt9KSx0aGlzLl93b3JrZXJDb25uZWN0aW9uLm9uKGl0LldJTExfUkVDT05ORUNULChlLG4saSk9PntlPT09XCJyZWNvdmVyXCImJmkoZSksaShcInRyeU5leHRcIik7fSksdGhpcy5fd29ya2VyQ29ubmVjdGlvbi5vbihpdC5SRVFVRVNUX05FV19VUkxTLChlLG4pPT57dGhpcy5yZXF1ZXN0QVAodGhpcy5fY29ubmVjdEluZm8sdGhpcy5fY2FuY2VsVG9rZW5Tb3VyY2UudG9rZW4sdGhpcy5fcmV0cnlDb25maWcpLnRoZW4oZSkuY2F0Y2gobik7fSk7fXN0YXRpYyBpbnRUb0xvbmcoZSl7cmV0dXJuIHtsb3c6ZXw9MCxoaWdoOmU+PjMxLHVuc2lnbmVkOmU+PTB9fWFzeW5jIHJlcXVlc3RUb0luc3BlY3RJbWFnZSgpe2xldCBlPW5pKHRoaXMsTWkuQ0xJRU5UX0xPQ0FMX1ZJREVPX1RSQUNLKSxuPXthcHBJZDp0aGlzLl9jb25uZWN0SW5mby5hcHBJZCxjbmFtZTp0aGlzLl9jb25uZWN0SW5mby5jbmFtZSxjaWQ6dGhpcy5fY29ubmVjdEluZm8uY2lkLHNpZDp0aGlzLl9jb25uZWN0SW5mby5zaWQsdWlkOnRoaXMuX2Nvbm5lY3RJbmZvLnVpZCx2aWQ6dGhpcy5fY29ubmVjdEluZm8udmlkfTtpZihlKXtpZighZS5pc1BsYXlpbmcpcmV0dXJuIHZvaWQodihcIlNIT1dfSU1BR0VfTU9ERVJBVElPTl9XT1JLRVJfTUVTU0FHRVwiKSYmXy5kZWJ1ZyhcIk9ubHkgdGhlIHRyYWNrIGJlaW5nIHBsYXllZCBjYW4gYmUgaW5zcGVjdGVkXCIpKTt0aGlzLl9zZXF1ZW5jZSsrO2xldCBpPWF3YWl0IHRoaXMuZ2VuZXJhdGVSZXF1ZXN0RGF0YShlLG4pO3RoaXMuX3dvcmtlckNvbm5lY3Rpb24uc2VuZE1lc3NhZ2UoaSwhMCwhMCk7fWVsc2UgdihcIlNIT1dfSU1BR0VfTU9ERVJBVElPTl9XT1JLRVJfTUVTU0FHRVwiKSYmXy5kZWJ1ZyhcIk9ubHkgdGhlIHRyYWNrIGJlaW5nIHB1Ymxpc2hlZCBjYW4gYmUgaW5zcGVjdGVkXCIpO31hc3luYyBnZW5lcmF0ZVJlcXVlc3REYXRhKGUsbil7bGV0e2FwcElkOmksY25hbWU6cixjaWQ6byx2aWQ6cyxzaWQ6YSx1aWQ6Y309bixkPURhdGUubm93KCksbD1hd2FpdCBlLmdldEN1cnJlbnRGcmFtZUltYWdlKFwiaW1hZ2UvanBlZ1wiLHRoaXMucXVhbGl0eSksdT1hd2FpdCBRTyhsLGksciksaD10aGlzLl9zZXF1ZW5jZStcIi1cIitvK1wiLVwiK2MrXCItXCIrZCtcIi1cIitVdCgxMixcIlwiKSxwPXthcHBJZDppLGNpZDpvLGNuYW1lOnIsZGV2aWNlSWQ6XCJcIixlbGFwc2U6dC5pbnRUb0xvbmcoTnVtYmVyKGQtdGhpcy5fbW9kZXJhdGlvblN0YXJ0VGltZSkpLGZpbGVTaXplOmwuYnVmZmVyLmJ5dGVMZW5ndGgsaGVpZ2h0OmwuaGVpZ2h0LHdpZHRoOmwud2lkdGgsanBnOnUsbmV0d29ya1R5cGU6Nixvc1R5cGU6NyxyZXF1ZXN0SWQ6aCxzZGtWZXJzaW9uOlwiNC4yMi4wXCIsc2VxdWVuY2U6dGhpcy5fc2VxdWVuY2Usc2lkOmEsdGltZXN0YW1wOkRXKGQpLHVpZDpjLHZpZDpzLHNlcnZpY2U6dGhpcy5fbW9kZXJhdGlvbk1vZGUsdGlja2V0OnRoaXMuX3RpY2tldCxjYWxsYmFja0RhdGE6dGhpcy5fZXh0cmFJbmZvLHZlbmRvckNvbmZpZ3M6dGhpcy5fdmVuZG9yfTt0aGlzLl9leHRyYUluZm89PT12b2lkIDAmJmRlbGV0ZSBwLmNhbGxiYWNrRGF0YTtsZXQgZz1DVyhwKTtpZihnLmJ5dGVMZW5ndGg8dGhpcy5fd29ya2VyTWVzc2FnZUxlbmd0aExpbWl0KXtpZih2KFwiU0hPV19JTUFHRV9NT0RFUkFUSU9OX1dPUktFUl9NRVNTQUdFXCIpKXtsZXQgRT1mdW5jdGlvbihmKXtmb3IodmFyIFM9MTtTPGFyZ3VtZW50cy5sZW5ndGg7UysrKXt2YXIgQz1hcmd1bWVudHNbU10hPW51bGw/YXJndW1lbnRzW1NdOnt9O1MlMj9veShPYmplY3QoQyksITApLmZvckVhY2goZnVuY3Rpb24oQSl7VChmLEEsQ1tBXSk7fSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZixPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhDKSk6b3koT2JqZWN0KEMpKS5mb3JFYWNoKGZ1bmN0aW9uKEEpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShmLEEsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihDLEEpKTt9KTt9cmV0dXJuIGZ9KHt9LHApO2RlbGV0ZSBFLmpwZyxfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9tb2RlcmF0aW9uSWQsXCJdIFJlcXVlc3QgbWVzc2FnZSBmb3Igd29ya2VyIG9mIGltYWdlIG1vZGVyYXRpb24gc2VydmljZTogXCIpLEpTT04uc3RyaW5naWZ5KEUpKTt9cmV0dXJuIGd9e2xldCBFPXRoaXMucXVhbGl0eSp0aGlzLl9xdWFsaXR5UmF0aW87cmV0dXJuIHRoaXMucXVhbGl0eT1FLGF3YWl0IHRoaXMuZ2VuZXJhdGVSZXF1ZXN0RGF0YShlLHthcHBJZDppLGNuYW1lOnIsY2lkOm8sdmlkOnMsc2lkOmEsdWlkOmN9KX19Y2xvc2UoKXt0aGlzLl9jYW5jZWxUb2tlblNvdXJjZS5jYW5jZWwoKSx0aGlzLl9jYW5jZWxUb2tlblNvdXJjZT1tbi5DYW5jZWxUb2tlbi5zb3VyY2UoKSx0aGlzLl93b3JrZXJDb25uZWN0aW9uJiZ0aGlzLl93b3JrZXJDb25uZWN0aW9uLmNsb3NlKCksdGhpcy5fbW9kZXJhdGlvblRpbWVyJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl9tb2RlcmF0aW9uVGltZXIpLHRoaXMuX21vZGVyYXRpb25UaW1lcj1udWxsLHRoaXMuX3VwbG9hZFRpbWVyJiZ3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX3VwbG9hZFRpbWVyKSx0aGlzLl91cGxvYWRUaW1lcj1udWxsLHRoaXMuY29ubmVjdGlvblN0YXRlPVhuLkNMT1NFRCx0aGlzLmVtaXQoTWkuU1RBVEVfQ0hBTkdFLGhzLkNMT1NFRCk7fX07ZnVuY3Rpb24gazAodCl7aWYoTnQodC5pbnRlcnZhbCxcImludGVydmFsXCIsMWUzLDEvMCksdCYmdC5leHRyYUluZm8mJnQuZXh0cmFJbmZvLmxlbmd0aD4xMDI0KXRocm93IG5ldyBPKFIuSU5WQUxJRF9QQVJBTVMsXCJjb25maWcuZXh0cmFJbmZvIGxlbmd0aCBjYW5ub3QgZXhjZWVkIDEwMjQgYnl0ZXNcIik7aWYodCYmdC52ZW5kb3ImJnQudmVuZG9yLmxlbmd0aD4xMDI0KXRocm93IG5ldyBPKFIuSU5WQUxJRF9QQVJBTVMsXCJjb25maWcudmVuZG9yIGxlbmd0aCBjYW5ub3QgZXhjZWVkIDEwMjQgYnl0ZXNcIil9dmFyIFBXPXtuYW1lOlwiSW1hZ2VNb2RlcmF0aW9uXCIsY3JlYXRlOmZ1bmN0aW9uKHQpe2xldHtjb25maWc6ZX09dDtyZXR1cm4gazAoZSksbmV3IHBtKGUpfX0sc3ksYXksY3ksZHksbHksdXksaHkscHksX3ksRXksbXksZnksZ3ksVHksU3ksUnksQ3ksSXksdnkseXksQXksYnksd3ksT3ksTnksRHksUHksa3ksTHksTXksVXkseHksVnksRnksQnksanksR3ksV3ksSHksS3ksRztmdW5jdGlvbiBZeSh0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKGk9aS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKS5lbnVtZXJhYmxlfSkpLG4ucHVzaC5hcHBseShuLGkpO31yZXR1cm4gbn1mdW5jdGlvbiB4aSh0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV0hPW51bGw/YXJndW1lbnRzW2VdOnt9O2UlMj9ZeShPYmplY3QobiksITApLmZvckVhY2goZnVuY3Rpb24oaSl7VCh0LGksbltpXSk7fSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6WXkoT2JqZWN0KG4pKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGksT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGkpKTt9KTt9cmV0dXJuIHR9emUuc2V0TG9nZ2VyKF8pO3ZhciBrVz0oc3k9JCgpLGF5PSQoe2FyZ3NNYXA6KHQsZSk9PntpZighQXJyYXkuaXNBcnJheShlKSl7aWYoIShlIGluc3RhbmNlb2Ygbm8pKXJldHVybiBbZV07ZT1bZV07fXJldHVybiBlLm1hcChuPT5uP09iamVjdChuKS50b1N0cmluZygpOlwibnVsbFwiKX19KSxjeT0kKHthcmdzTWFwOih0LGUpPT4oZXx8KGU9W10pLEFycmF5LmlzQXJyYXkoZSl8fGUudHJhY2tNZWRpYVR5cGUhPT1mYS5EQVRBPyhBcnJheS5pc0FycmF5KGUpfHwoZT1bZV0pLGUubWFwKG49Pm4uZ2V0VHJhY2tJZCgpKSk6W2UuZ2V0Q2hhbm5lbElkKCldKX0pLGR5PSQoe2FyZ3NNYXA6KHQsZSxuLGkpPT5bdHlwZW9mIGU9PVwib2JqZWN0XCI/ZS51aWQ6ZSxuLGldfSksbHk9JCh7YXJnc01hcDoodCxlLG4pPT5bZSxuXX0pLHV5PSQoe2FyZ3NNYXA6KHQsZSk9PmUubWFwKG49PntsZXR7dXNlcjppLG1lZGlhVHlwZTpyfT1uO3JldHVybiBbaT8udWlkLHJdfSl9KSxoeT0kKHthcmdzTWFwOih0LGUsbixpKT0+W3R5cGVvZiBlPT1cIm9iamVjdFwiP2UudWlkOmUsbixpXX0pLHB5PSQoe2FyZ3NNYXA6KHQsZSk9PmUubWFwKG49PntsZXR7dXNlcjppLG1lZGlhVHlwZTpyfT1uO3JldHVybiB7dWlkOmk/LnVpZCxtZWRpYVR5cGU6cn19KX0pLF95PSQoKSxFeT0kKCksbXk9JCgpLGZ5PSQoKSxneT0kKCksVHk9JCgpLFN5PSQoKSxSeT0kKCksQ3k9JCgpLEl5PSQoKSx2eT0kKCkseXk9JCgpLEF5PSQoKSxieT0kKCksd3k9JCh7YXJnc01hcDoodCxlKT0+W2VdfSksT3k9JCgpLE55PSQoKSxEeT0kKCksUHk9JCgpLGt5PSQoKSxMeT0kKCksTXk9JCgpLFV5PSQoKSx4eT0kKHthcmdzTWFwOih0LGUpPT4oQXJyYXkuaXNBcnJheShlKXx8KGU9W2VdKSxbSlNPTi5zdHJpbmdpZnkoZSldKX0pLFZ5PSQoKSxGeT0kKCksQnk9JCgpLGp5PSQoKSxHeT0kKCksV3k9JCgpLEh5PSQoe3JlcG9ydFJlc3VsdDohMH0pLEt5PSQoKSxHPWNsYXNzIGV4dGVuZHMgWHR7Z2V0IGNvbm5lY3Rpb25TdGF0ZSgpe3JldHVybiB0aGlzLl9nYXRld2F5LnN0YXRlfWdldCByZW1vdGVVc2Vycygpe3JldHVybiB0aGlzLl91c2Vyc31nZXQgbG9jYWxUcmFja3MoKXtyZXR1cm4gdGhpcy5fcDJwQ2hhbm5lbC5nZXRBbGxUcmFja3MoITApfWdldCB1aWQoKXtyZXR1cm4gdGhpcy5fdWlkfWdldCBjaGFubmVsTmFtZSgpe3JldHVybiB0aGlzLl9jaGFubmVsTmFtZX1nZXQgbG9jYWxEYXRhQ2hhbm5lbHMoKXtyZXR1cm4gdGhpcy5fcDJwQ2hhbm5lbC5nZXRBbGxEYXRhQ2hhbm5lbHMoKX1nZXQgbW9kZSgpe3JldHVybiB0aGlzLl9jb25maWcubW9kZX1nZXQgcm9sZSgpe3ZhciB0O3JldHVybiAoKHQ9dGhpcy5fY29uZmlnKT09PW51bGx8fHQ9PT12b2lkIDA/dm9pZCAwOnQucm9sZSl8fFwiYXVkaWVuY2VcIn1nZXQgY29kZWMoKXtyZXR1cm4gdGhpcy5fY29uZmlnLmNvZGVjfWdldCBhdWRpb0NvZGVjKCl7cmV0dXJuIHRoaXMuX2NvbmZpZy5hdWRpb0NvZGVjfHxcIm9wdXNcIn1nZXQgaXNTdHJpbmdVSUQoKXtyZXR1cm4gISF0aGlzLl9qb2luSW5mbyYmISF0aGlzLl9qb2luSW5mby5zdHJpbmdVaWR9Z2V0IF9fY2xhc3NOYW1lX18oKXtyZXR1cm4gXCJDbGllbnRcIn1jb25zdHJ1Y3Rvcih0KXtsZXQgZTtpZihzdXBlcigpLFQodGhpcyxcInN0b3JlXCIsdm9pZCAwKSxUKHRoaXMsXCJfdWlkXCIsdm9pZCAwKSxUKHRoaXMsXCJfY2hhbm5lbE5hbWVcIix2b2lkIDApLFQodGhpcyxcIl91aW50VWlkXCIsdm9pZCAwKSxUKHRoaXMsXCJfdXNlcnNcIixbXSksVCh0aGlzLFwiX2NvbmZpZ1wiLHZvaWQgMCksVCh0aGlzLFwiX2NsaWVudElkXCIsdm9pZCAwKSxUKHRoaXMsXCJfYXBwSWRcIix2b2lkIDApLFQodGhpcyxcIl9zZXNzaW9uSWRcIixudWxsKSxUKHRoaXMsXCJfa2V5XCIsdm9pZCAwKSxUKHRoaXMsXCJfcnRtQ29uZmlnXCIse30pLFQodGhpcyxcIl9qb2luSW5mb1wiLHZvaWQgMCksVCh0aGlzLFwiX2dhdGV3YXlcIix2b2lkIDApLFQodGhpcyxcIl9zdGF0c0NvbGxlY3RvclwiLHZvaWQgMCksVCh0aGlzLFwiX2NvbmZpZ0Rpc3RyaWJ1dGVcIix2b2lkIDApLFQodGhpcyxcIl9sZWF2ZU11dGV4XCIsbmV3IHplKFwiY2xpZW50LWxlYXZlXCIpKSxUKHRoaXMsXCJfcHVibGlzaE11dGV4XCIsbmV3IHplKFwiY2xpZW50LXB1Ymxpc2hcIikpLFQodGhpcyxcIl9yZW5ld1Rva2VuTXV0ZXhcIixuZXcgemUoXCJjbGllbnQtcmVuZXd0b2tlblwiKSksVCh0aGlzLFwiX3N1YnNjcmliZU11dGV4XCIsbmV3IHplKFwiY2xpZW50LXN1YnNjcmliZVwiKSksVCh0aGlzLFwiX2VuY3J5cHRpb25Nb2RlXCIsXCJub25lXCIpLFQodGhpcyxcIl9lbmNyeXB0aW9uU2VjcmV0XCIsbnVsbCksVCh0aGlzLFwiX2VuY3J5cHRpb25TYWx0XCIsbnVsbCksVCh0aGlzLFwiX2VuY3J5cHREYXRhU3RyZWFtXCIsITEpLFQodGhpcyxcIl9lbmNyeXB0RGF0YVN0cmVhbUtleVwiLG51bGwpLFQodGhpcyxcIl9lbmNyeXB0RGF0YVN0cmVhbUl2XCIsbnVsbCksVCh0aGlzLFwiX3Byb3h5U2VydmVyXCIsdm9pZCAwKSxUKHRoaXMsXCJfdHVyblNlcnZlclwiLHtzZXJ2ZXJzOltdLG1vZGU6XCJhdXRvXCJ9KSxUKHRoaXMsXCJfY2xvdWRQcm94eVNlcnZlck1vZGVcIixcImRpc2FibGVkXCIpLFQodGhpcyxcIl9pc0R1YWxTdHJlYW1FbmFibGVkXCIsITEpLFQodGhpcyxcIl9kZWZhdWx0U3RyZWFtRmFsbGJhY2tUeXBlXCIsdm9pZCAwKSxUKHRoaXMsXCJfbG93U3RyZWFtUGFyYW1ldGVyXCIsdm9pZCAwKSxUKHRoaXMsXCJfc3RyZWFtRmFsbGJhY2tUeXBlQ2FjaGVNYXBcIixuZXcgTWFwKSxUKHRoaXMsXCJfcmVtb3RlU3RyZWFtVHlwZUNhY2hlTWFwXCIsbmV3IE1hcCksVCh0aGlzLFwiX2F4aW9zQ2FuY2VsU291cmNlXCIsbW4uQ2FuY2VsVG9rZW4uc291cmNlKCkpLFQodGhpcyxcIl9hdWRpb1ZvbHVtZUluZGljYXRpb25JbnRlcnZhbFwiLHZvaWQgMCksVCh0aGlzLFwiX25ldHdvcmtRdWFsaXR5SW50ZXJ2YWxcIix2b2lkIDApLFQodGhpcyxcIl91c2VyT2ZmbGluZVRpbWVvdXRcIix2b2lkIDApLFQodGhpcyxcIl9zdHJlYW1SZW1vdmVkVGltZW91dFwiLHZvaWQgMCksVCh0aGlzLFwiX2xpdmVUcmFuc2NvZGVTdHJlYW1pbmdDbGllbnRcIix2b2lkIDApLFQodGhpcyxcIl9saXZlUmF3U3RyZWFtaW5nQ2xpZW50XCIsdm9pZCAwKSxUKHRoaXMsXCJfY2hhbm5lbE1lZGlhUmVsYXlDbGllbnRcIix2b2lkIDApLFQodGhpcyxcIl9uZXR3b3JrUXVhbGl0eVNlbnNpdGl2aXR5XCIsXCJub3JtYWxcIiksVCh0aGlzLFwiX3AycENoYW5uZWxcIix2b2lkIDApLFQodGhpcyxcIl91c2VMb2NhbEFjY2Vzc1BvaW50XCIsITEpLFQodGhpcyxcIl9zZXRMb2NhbEFQVmVyc2lvblwiLHZvaWQgMCksVCh0aGlzLFwiX2pvaW5BbmROb3RMZWF2ZVlldFwiLCExKSxUKHRoaXMsXCJfbnVtYmVyT2ZKb2luQ291bnRcIiwwKSxUKHRoaXMsXCJfcmVtb3RlRGVmYXVsdFZpZGVvU3RyZWFtVHlwZVwiLHZvaWQgMCksVCh0aGlzLFwiX2luc3BlY3RcIix2b2lkIDApLFQodGhpcyxcIl9tb2RlcmF0aW9uXCIsdm9pZCAwKSxUKHRoaXMsXCJfbGljZW5zZVwiLHZvaWQgMCksVCh0aGlzLFwiX3BlbmRpbmdQdWJsaXNoZWRVc2Vyc1wiLFtdKSxUKHRoaXMsXCJudHBBbGlnbkVycm9yQ291bnRcIiwwKSxUKHRoaXMsXCJyZW1vdGVJbmJvdW5kT2Zmc2V0XCIsMCksVCh0aGlzLFwiX2hhbmRsZUxvY2FsVHJhY2tFbmFibGVcIiwobixpLHIpPT57dGhpcy5wdWJsaXNoKG4sITEpLnRoZW4oaSkuY2F0Y2gocik7fSksVCh0aGlzLFwiX2hhbmRsZUxvY2FsVHJhY2tEaXNhYmxlXCIsKG4saSxyKT0+e3RoaXMudW5wdWJsaXNoKG4pLnRoZW4oaSkuY2F0Y2gocik7fSksVCh0aGlzLFwiX2hhbmRsZVVzZXJPbmxpbmVcIixuPT57aWYodihcIkJMT0NLX0xPQ0FMX0NMSUVOVFwiKSYmSW8obi51aWQsdGhpcy5jaGFubmVsTmFtZSkpcmV0dXJuIHZvaWQgXy5kZWJ1ZyhcIltcIi5jb25jYXQobi51aWQsXCJdIHdpbGwgYmUgaWdub3JlZCBpbiBsb2NhbFwiKSk7dGhpcy5pc1N0cmluZ1VJRCYmdHlwZW9mIG4udWlkIT1cInN0cmluZ1wiJiZfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gU3RyaW5nVUlEIGlzIE1peGVkIHdpdGggVWludFVJRFwiKSk7bGV0IGk9dGhpcy5fdXNlcnMuZmluZChyPT5yLnVpZD09PW4udWlkKTtpZihpKWkuX3RydXN0X2luX3Jvb21fPSEwLGkuX2lzX3ByZV9jcmVhdGVkJiYoaS5faXNfcHJlX2NyZWF0ZWQ9ITEsdGhpcy5zYWZlRW1pdCh1dC5VU0VSX0pPSU5FRCxpKSk7ZWxzZSB7bGV0IHI9bmV3IGlyKG4udWlkLG4udWludF9pZHx8bi51aWQpO3RoaXMuX3VzZXJzLnB1c2gociksXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHVzZXIgb25saW5lXCIpLG4udWlkKSx0aGlzLnNhZmVFbWl0KHV0LlVTRVJfSk9JTkVELHIpO319KSxUKHRoaXMsXCJfaGFuZGxlVXNlck9mZmxpbmVcIixuPT57aWYodihcIkJMT0NLX0xPQ0FMX0NMSUVOVFwiKSYmSW8obi51aWQsdGhpcy5jaGFubmVsTmFtZSkpcmV0dXJuO2xldCBpPXRoaXMuX3VzZXJzLmZpbmQocj0+ci51aWQ9PT1uLnVpZCk7aSYmKHRoaXMuX2hhbmRsZVJlbW92ZVN0cmVhbShuKSx0aGlzLl9oYW5kbGVSZW1vdmVEYXRhQ2hhbm5lbHMobiksaS5fYXVkaW9fcHJlX3N1YnNjcmliZWR8fGkuX3ZpZGVvX3ByZV9zdWJzY3JpYmVkP2kuX2lzX3ByZV9jcmVhdGVkPSEwOldsKHRoaXMuX3VzZXJzLGkpLHRoaXMuX3JlbW90ZVN0cmVhbVR5cGVDYWNoZU1hcC5kZWxldGUoaS51aWQpLHRoaXMuX3N0cmVhbUZhbGxiYWNrVHlwZUNhY2hlTWFwLmRlbGV0ZShpLnVpZCksXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHVzZXIgb2ZmbGluZVwiKSxuLnVpZCxcInJlYXNvbjpcIixuLnJlYXNvbiksdGhpcy5zYWZlRW1pdCh1dC5VU0VSX0xFQVZFRCxpLG4ucmVhc29uKSk7fSksVCh0aGlzLFwiX2hhbmRsZUFkZEF1ZGlvT3JWaWRlb1N0cmVhbVwiLChuLGkscixvLHMsYSxjKT0+e2lmKHYoXCJCTE9DS19MT0NBTF9DTElFTlRcIikmJklvKGksdGhpcy5jaGFubmVsTmFtZSkpcmV0dXJuO2xldCBkPXRoaXMuX3VzZXJzLmZpbmQodT0+dS51aWQ9PT1pKTtpZighZClyZXR1cm4gdm9pZCBfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBmaW5kIHRhcmdldCB1c2VyIShvbl9hZGRfc3RyZWFtKVwiKSk7Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN0cmVhbSBhZGRlZCB3aXRoIHVpZCBcIikuY29uY2F0KGksXCIsIHR5cGUgXCIpLmNvbmNhdChuKSksdGhpcy5zdG9yZS5zdWJzY3JpYmUoZC51aWQsbix2b2lkIDAsdm9pZCAwLHZvaWQgMCxEYXRlLm5vdygpKTtsZXQgbD1uPT09XCJhdWRpb1wiP2QuaGFzQXVkaW86ZC5oYXNWaWRlbztkLl91aW50aWR8fChkLl91aW50aWQ9c3x8aSksbj09PVwiYXVkaW9cIj9kLl90cnVzdF9hdWRpb19zdHJlYW1fYWRkZWRfc3RhdGVfPSEwOmQuX3RydXN0X3ZpZGVvX3N0cmVhbV9hZGRlZF9zdGF0ZV89ITAsbj09PVwiYXVkaW9cIj8oZC5fYXVkaW9fYWRkZWRfPSEwLHIhPT12b2lkIDAmJihkLl9hdWRpb1NTUkM9ciksbyE9PXZvaWQgMCYmKGQuX2NuYW1lPW8pLGEmJihkLl9hdWRpb09ydGM9YSkpOihkLl92aWRlb19hZGRlZF89ITAsciE9PXZvaWQgMCYmKGQuX3ZpZGVvU1NSQz1yKSxvIT09dm9pZCAwJiYoZC5fY25hbWU9byksYyE9PXZvaWQgMCYmKGQuX3J0eFNzcmNJZD1jKSxhJiYoZC5fdmlkZW9PcnRjPWEpKSwobj09PVwiYXVkaW9cIj9kLmhhc0F1ZGlvOmQuaGFzVmlkZW8pJiYhbCYmKF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQoZC51aWQsXCIgcHVibGlzaGVkIFwiKS5jb25jYXQobikpLHRoaXMuc2FmZUVtaXQodXQuVVNFUl9QVUJMSVNIRUQsZCxuKSksbj09PVwidmlkZW9cIj9YLm9uR2F0ZXdheVN0cmVhbSh0aGlzLl9zZXNzaW9uSWQsRGUuT05fQUREX1ZJREVPX1NUUkVBTSxKdC5PTl9BRERfVklERU9fU1RSRUFNLHtwZWVyOnN8fGksc3NyYzpkLl92aWRlb1NTUkN9KTpYLm9uR2F0ZXdheVN0cmVhbSh0aGlzLl9zZXNzaW9uSWQsRGUuT05fQUREX0FVRElPX1NUUkVBTSxKdC5PTl9BRERfQVVESU9fU1RSRUFNLHtwZWVyOnN8fGksc3NyYzpkLl9hdWRpb1NTUkN9KSx0aGlzLl9wMnBDaGFubmVsLnJlbW90ZU1lZGlhU3NyY0NoYW5nZWQoZCxuLHIpLnRoZW4odT0+e2lmKHUmJihfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVzdWJzY3JpYmUgXCIpLmNvbmNhdChuLFwiIGZvciB1c2VyIFwiKS5jb25jYXQoZC51aWQsXCIgYWZ0ZXIgcmVqb2luIGJlY2F1c2UgU1NSQyBpZCBjaGFuZ2VkLlwiKSksdGhpcy5fcDJwQ2hhbm5lbCBpbnN0YW5jZW9mIEpkKSlyZXR1cm4gdGhpcy5fcDJwQ2hhbm5lbC51bnN1YnNjcmliZShkLG4sITApLnRoZW4oKCk9PnRoaXMuX3N1YnNjcmliZShkLG4sITApLmNhdGNoKGg9PntfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVzdWJzY3JpYmUgZXJyb3JcIiksaC50b1N0cmluZygpKTt9KSl9KSx0aGlzLl9wMnBDaGFubmVsLmhhc1BlbmRpbmdSZW1vdGVNZWRpYShkLG4pJiYoXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlc3Vic2NyaWJlIFwiKS5jb25jYXQobixcIiBmb3IgdXNlciBcIikuY29uY2F0KGQudWlkLFwiIGFmdGVyIHJlY29ubmVjdC5cIikpLHRoaXMuX3N1YnNjcmliZShkLG4sITApLmNhdGNoKHU9PntfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVzdWJzY3JpYmUgZXJyb3JcIiksdS50b1N0cmluZygpKTt9KSk7fSksVCh0aGlzLFwiX2hhbmRsZVJlbW92ZVN0cmVhbVwiLG49PntpZih2KFwiQkxPQ0tfTE9DQUxfQ0xJRU5UXCIpJiZJbyhuLnVpZCx0aGlzLmNoYW5uZWxOYW1lKSlyZXR1cm47bGV0IGk9dGhpcy5fdXNlcnMuZmluZChvPT5vLnVpZD09PW4udWlkKTtpZighaSlyZXR1cm4gdm9pZCBfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IGZpbmQgdGFyZ2V0IHVzZXIhKG9uX3JlbW92ZV9zdHJlYW0pXCIpKTtfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc3RyZWFtIHJlbW92ZWQgd2l0aCB1aWQgXCIpLmNvbmNhdChuLnVpZCkpO2xldCByPSgpPT57fTtpLmhhc0F1ZGlvJiZpLmhhc1ZpZGVvP3I9KCk9PntfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZW1vdGUgdXNlciBcIikuY29uY2F0KGkudWlkLFwiIHVucHVibGlzaGVkIGF1ZGlvIHRyYWNrXCIpKSx0aGlzLnNhZmVFbWl0KHV0LlVTRVJfVU5QVUJMSVNIRUQsaSxcImF1ZGlvXCIpLF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQoaS51aWQsXCIgdW5wdWJsaXNoZWQgdmlkZW8gdHJhY2tcIikpLHRoaXMuc2FmZUVtaXQodXQuVVNFUl9VTlBVQkxJU0hFRCxpLFwidmlkZW9cIik7fTppLmhhc1ZpZGVvP3I9KCk9PntfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZW1vdGUgdXNlciBcIikuY29uY2F0KGkudWlkLFwiIHVucHVibGlzaGVkIHZpZGVvIHRyYWNrXCIpKSx0aGlzLnNhZmVFbWl0KHV0LlVTRVJfVU5QVUJMSVNIRUQsaSxcInZpZGVvXCIpO306aS5oYXNBdWRpbyYmKHI9KCk9PntfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZW1vdGUgdXNlciBcIikuY29uY2F0KGkudWlkLFwiIHVucHVibGlzaGVkIGF1ZGlvIHRyYWNrXCIpKSx0aGlzLnNhZmVFbWl0KHV0LlVTRVJfVU5QVUJMSVNIRUQsaSxcImF1ZGlvXCIpO30pLGkuX3ZpZGVvX3ByZV9zdWJzY3JpYmVkfHxpLl9hdWRpb19wcmVfc3Vic2NyaWJlZHx8KGkuX3RydXN0X2F1ZGlvX3N0cmVhbV9hZGRlZF9zdGF0ZV89ITAsaS5fdHJ1c3RfdmlkZW9fc3RyZWFtX2FkZGVkX3N0YXRlXz0hMCxpLl9hdWRpb19hZGRlZF89ITEsaS5fdmlkZW9fYWRkZWRfPSExLHRoaXMuX3AycENoYW5uZWwgaW5zdGFuY2VvZiBKZCYmdGhpcy5fcDJwQ2hhbm5lbC51bnN1YnNjcmliZShpKS50aGVuKG89PntpZihvKXJldHVybiB0aGlzLl9nYXRld2F5LnVuc3Vic2NyaWJlKG8saS51aWQpfSksaS5fYXVkaW9TU1JDPXZvaWQgMCxpLl92aWRlb1NTUkM9dm9pZCAwLGkuX2F1ZGlvT3J0Yz12b2lkIDAsaS5fdmlkZW9PcnRjPXZvaWQgMCxpLl9ydHhTc3JjSWQ9dm9pZCAwKSxYLm9uR2F0ZXdheVN0cmVhbSh0aGlzLl9zZXNzaW9uSWQsRGUuT05fUkVNT1ZFX1NUUkVBTSxKdC5PTl9SRU1PVkVfU1RSRUFNLHtwZWVyOm4udWludF9pZHx8bi51aWR9KSxyKCk7fSksVCh0aGlzLFwiX2hhbmRsZVNldFN0cmVhbUxvY2FsRW5hYmxlXCIsKG4saSxyKT0+e2lmKHYoXCJCTE9DS19MT0NBTF9DTElFTlRcIikmJklvKGksdGhpcy5jaGFubmVsTmFtZSkpcmV0dXJuO2xldCBvPXRoaXMuX3VzZXJzLmZpbmQoYz0+Yy51aWQ9PT1pKTtpZighbylyZXR1cm4gdm9pZCBfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBmaW5kIHRhcmdldCB1c2VyIShkaXNhYmxlX2xvY2FsKVwiKSk7Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGxvY2FsIFwiKS5jb25jYXQobixcIiBcIikuY29uY2F0KHI/XCJlbmFibGVkXCI6XCJkaXNhYmxlZFwiLFwiIHdpdGggdWlkIFwiKS5jb25jYXQoaSkpO2xldCBzPW49PT1cImF1ZGlvXCI/by5oYXNBdWRpbzpvLmhhc1ZpZGVvO2lmKG49PT1cImF1ZGlvXCIpe28uX3RydXN0X2F1ZGlvX2VuYWJsZWRfc3RhdGVfPSEwO2xldCBjPW8uX2F1ZGlvX2VuYWJsZWRfO2lmKG8uX2F1ZGlvX2VuYWJsZWRfPXIsby5fYXVkaW9fZW5hYmxlZF89PT1jKXJldHVybjt7bGV0IGQ9by5fYXVkaW9fZW5hYmxlZF8/XCJlbmFibGUtbG9jYWwtYXVkaW9cIjpcImRpc2FibGUtbG9jYWwtYXVkaW9cIjtfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdXNlci1pbmZvLXVwZGF0ZWQsIHVpZDogXCIpLmNvbmNhdChpLFwiLCBtc2c6IFwiKS5jb25jYXQoZCkpLHRoaXMuc2FmZUVtaXQodXQuVVNFUl9JTkZPX1VQREFURUQsaSxkKTt9fWVsc2Uge28uX3RydXN0X3ZpZGVvX2VuYWJsZWRfc3RhdGVfPSEwO2xldCBjPW8uX3ZpZGVvX2VuYWJsZWRfO2lmKG8uX3ZpZGVvX2VuYWJsZWRfPXIsby5fdmlkZW9fZW5hYmxlZF89PT1jKXJldHVybjt7bGV0IGQ9by5fdmlkZW9fZW5hYmxlZF8/XCJlbmFibGUtbG9jYWwtdmlkZW9cIjpcImRpc2FibGUtbG9jYWwtdmlkZW9cIjtfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdXNlci1pbmZvLXVwZGF0ZSwgdWlkOiBcIikuY29uY2F0KGksXCIsIG1zZzogXCIpLmNvbmNhdChkKSksdGhpcy5zYWZlRW1pdCh1dC5VU0VSX0lORk9fVVBEQVRFRCxpLGQpO319bGV0IGE9bj09PVwiYXVkaW9cIj9vLmhhc0F1ZGlvOm8uaGFzVmlkZW87cmV0dXJuIHMhPT1hPyFzJiZhPyhfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZW1vdGUgdXNlciBcIikuY29uY2F0KGksXCIgcHVibGlzaGVkIFwiKS5jb25jYXQobikpLHZvaWQgdGhpcy5zYWZlRW1pdCh1dC5VU0VSX1BVQkxJU0hFRCxvLG4pKToobj09PVwidmlkZW9cIiYmby5fdmlkZW9UcmFjayYmby5fdmlkZW9UcmFjay5fZGVzdHJveSgpLG49PT1cImF1ZGlvXCImJm8uX2F1ZGlvVHJhY2ssdGhpcy5fcDJwQ2hhbm5lbC5tdXRlUmVtb3RlKG8sbiksXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdChpLFwiIHVucHVibGlzaGVkIFwiKS5jb25jYXQobikpLHZvaWQgdGhpcy5zYWZlRW1pdCh1dC5VU0VSX1VOUFVCTElTSEVELG8sbikpOnZvaWQgMH0pLFQodGhpcyxcIl9oYW5kbGVNdXRlU3RyZWFtXCIsKG4saSxyKT0+e2lmKHYoXCJCTE9DS19MT0NBTF9DTElFTlRcIikmJklvKG4sdGhpcy5jaGFubmVsTmFtZSkpcmV0dXJuO18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZWNlaXZlIG11dGUgbWVzc2FnZVwiKSxuLGkscik7bGV0IG89dGhpcy5fdXNlcnMuZmluZChjPT5jLnVpZD09PW4pO2lmKCFvKXJldHVybiB2b2lkIF8ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3QgZmluZCByZW1vdGUgdXNlciwgaWdub3JlIG11dGUgZXZlbnQsIHVpZDogXCIpLmNvbmNhdChuKSk7bGV0IHM9aT09PVwiYXVkaW9cIj9vLmhhc0F1ZGlvOm8uaGFzVmlkZW87aWYoaT09PVwiYXVkaW9cIil7by5fdHJ1c3RfYXVkaW9fbXV0ZV9zdGF0ZV89ITA7bGV0IGM9by5fYXVkaW9fbXV0ZWRfO2lmKG8uX2F1ZGlvX211dGVkXz1yLG8uX2F1ZGlvX211dGVkXz09PWMpcmV0dXJuO3tsZXQgZD1vLl9hdWRpb19tdXRlZF8/XCJtdXRlLWF1ZGlvXCI6XCJ1bm11dGUtYXVkaW9cIjtfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdXNlci1pbmZvLXVwZGF0ZSwgdWlkOiBcIikuY29uY2F0KG4sXCIsIG1zZzogXCIpLmNvbmNhdChkKSksdGhpcy5zYWZlRW1pdCh1dC5VU0VSX0lORk9fVVBEQVRFRCxuLGQpO319ZWxzZSB7by5fdHJ1c3RfdmlkZW9fbXV0ZV9zdGF0ZV89ITA7bGV0IGM9by5fdmlkZW9fbXV0ZWRfO2lmKG8uX3ZpZGVvX211dGVkXz1yLG8uX3ZpZGVvX211dGVkXz09PWMpcmV0dXJuO3tsZXQgZD1vLl92aWRlb19tdXRlZF8/XCJtdXRlLXZpZGVvXCI6XCJ1bm11dGUtdmlkZW9cIjtfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdXNlci1pbmZvLXVwZGF0ZSwgdWlkOiBcIikuY29uY2F0KG4sXCIsIG1zZzogXCIpLmNvbmNhdChkKSksdGhpcy5zYWZlRW1pdCh1dC5VU0VSX0lORk9fVVBEQVRFRCxuLGQpO319bGV0IGE9aT09PVwiYXVkaW9cIj9vLmhhc0F1ZGlvOm8uaGFzVmlkZW87aWYocyE9PWEpe2lmKCFzJiZhKXJldHVybiAoaT09PVwiYXVkaW9cIj9vLl9hdWRpb1NTUkM6by5fdmlkZW9TU1JDKT8oXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdChuLFwiIHB1Ymxpc2hlZCBcIikuY29uY2F0KGkpKSx2b2lkIHRoaXMuc2FmZUVtaXQodXQuVVNFUl9QVUJMSVNIRUQsbyxpKSk6dm9pZCBfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZW1vdGUgdXNlciBcIikuY29uY2F0KG4sXCIgcmVjZWl2ZSBcIikuY29uY2F0KGksXCIgdW5tdXRlIG1lc3NhZ2UgIGJlZm9yZSBhZGQgc3RyZWFtIG1lc3NhZ2UsIFwiKS5jb25jYXQoaSxcIiBTU1JDIGRvZXNuJ3QgZXhpc3QgeWV0LlwiKSk7aT09PVwidmlkZW9cIiYmby5fdmlkZW9UcmFjayYmIW8uX3ZpZGVvX3ByZV9zdWJzY3JpYmVkJiZvLl92aWRlb1RyYWNrLl9kZXN0cm95KCksaT09PVwiYXVkaW9cIiYmby5fYXVkaW9UcmFjayx0aGlzLl9wMnBDaGFubmVsLm11dGVSZW1vdGUobyxpKSxfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZW1vdGUgdXNlciBcIikuY29uY2F0KG4sXCIgdW5wdWJsaXNoZWQgXCIpLmNvbmNhdChpKSksdGhpcy5zYWZlRW1pdCh1dC5VU0VSX1VOUFVCTElTSEVELG8saSk7fX0pLFQodGhpcyxcIl9oYW5kbGVQMlBMb3N0XCIsYXN5bmMgbj0+e18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZWNlaXZlIHAycCBsb3N0XCIpLG4pLHBhcnNlSW50KG4ucDJwaWQsMTApPT09dGhpcy5zdG9yZS5wMnBJZD9hd2FpdCB0aGlzLl9wMnBDaGFubmVsLnJlcXVlc3RSZWNvbm5lY3QoKTpfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBQMlBMb3N0IHN0cmVhbSBub3QgZm91bmRcIiksbik7fSksVCh0aGlzLFwiX2hhbmRsZVRva2VuV2lsbEV4cGlyZVwiLCgpPT57Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlY2VpdmVkIG1lc3NhZ2Ugb25Ub2tlblByaXZpbGVnZVdpbGxFeHBpcmVcIikpLHRoaXMuc2FmZUVtaXQodXQuT05fVE9LRU5fUFJJVklMRUdFX1dJTExfRVhQSVJFKTt9KSxUKHRoaXMsXCJfaGFuZGxlQmVmb3JlVW5sb2FkXCIsbj0+e24udHlwZT09PVwiYmVmb3JldW5sb2FkXCImJm4ucmV0dXJuVmFsdWUhPT12b2lkIDAmJm4ucmV0dXJuVmFsdWUhPT1cIlwifHwodGhpcy5sZWF2ZSgpLF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGF1dG8gbGVhdmUgb25iZWZvcmV1bmxvYWQgb3IgcGFnZWhpZGVcIikpKTt9KSxUKHRoaXMsXCJfaGFuZGxlVXBkYXRlTmV0d29ya1F1YWxpdHlcIiwoKT0+e2lmKHRoaXMuX25ldHdvcmtRdWFsaXR5U2Vuc2l0aXZpdHk9PT1cIm5vcm1hbFwiKXJldHVybjtpZihuYXZpZ2F0b3ImJm5hdmlnYXRvci5vbkxpbmUhPT12b2lkIDAmJiFuYXZpZ2F0b3Iub25MaW5lKXJldHVybiB2b2lkIHRoaXMuc2FmZUVtaXQodXQuTkVUV09SS19RVUFMSVRZLHtkb3dubGlua05ldHdvcmtRdWFsaXR5OjYsdXBsaW5rTmV0d29ya1F1YWxpdHk6Nn0pO2xldCBuPXtkb3dubGlua05ldHdvcmtRdWFsaXR5OjAsdXBsaW5rTmV0d29ya1F1YWxpdHk6MH07bi51cGxpbmtOZXR3b3JrUXVhbGl0eT10aGlzLl9wMnBDaGFubmVsLmdldFVwbGlua05ldHdvcmtRdWFsaXR5KCksbi5kb3dubGlua05ldHdvcmtRdWFsaXR5PXRoaXMuX3AycENoYW5uZWwuZ2V0RG93bmxpbmtOZXR3b3JrUXVhbGl0eSgpLHRoaXMuc2FmZUVtaXQodXQuTkVUV09SS19RVUFMSVRZLG4pO30pLFQodGhpcyxcIl9oYW5kbGVQMlBBZGRBdWRpb09yVmlkZW9TdHJlYW1cIiwobixpLHIsbyk9PntsZXQgcz10aGlzLl91c2Vycy5maW5kKGM9PmMudWlkPT09aSk7aWYoIXMpcmV0dXJuIHZvaWQgXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3QgZmluZCB0YXJnZXQgdXNlciEob25fYWRkX3N0cmVhbSlcIikpO18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzdHJlYW0gYWRkZWQgd2l0aCB1aWQgXCIpLmNvbmNhdChpLFwiLCB0eXBlIFwiKS5jb25jYXQobikpLHRoaXMuc3RvcmUuc3Vic2NyaWJlKHMudWlkLG4sdm9pZCAwLHZvaWQgMCx2b2lkIDAsRGF0ZS5ub3coKSk7bGV0IGE9bj09PVwiYXVkaW9cIj9zLmhhc0F1ZGlvOnMuaGFzVmlkZW87bj09PVwiYXVkaW9cIj9zLl90cnVzdF9hdWRpb19zdHJlYW1fYWRkZWRfc3RhdGVfPSEwOnMuX3RydXN0X3ZpZGVvX3N0cmVhbV9hZGRlZF9zdGF0ZV89ITAsbj09PVwiYXVkaW9cIj8ocy5fYXVkaW9fYWRkZWRfPSEwLHIhPT12b2lkIDAmJihzLl9hdWRpb1NTUkM9ciksbyE9PXZvaWQgMCYmKHMuX2F1ZGlvTWlkPW8pKToocy5fdmlkZW9fYWRkZWRfPSEwLHIhPT12b2lkIDAmJihzLl92aWRlb1NTUkM9ciksbyE9PXZvaWQgMCYmKHMuX3ZpZGVvTWlkPW8pKSwobj09PVwiYXVkaW9cIj9zLmhhc0F1ZGlvOnMuaGFzVmlkZW8pJiYhYSYmKF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQocy51aWQsXCIgcHVibGlzaGVkIFwiKS5jb25jYXQobikpLHRoaXMuc2FmZUVtaXQodXQuVVNFUl9QVUJMSVNIRUQscyxuKSksdGhpcy5fcDJwQ2hhbm5lbC5oYXNQZW5kaW5nUmVtb3RlTWVkaWEocyxuKSYmKF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZXN1YnNjcmliZSBcIikuY29uY2F0KG4sXCIgZm9yIHVzZXIgXCIpLmNvbmNhdChzLnVpZCxcIiBhZnRlciByZWNvbm5lY3QuXCIpKSx0aGlzLl9zdWJzY3JpYmUocyxuLCEwKS5jYXRjaChjPT57Xy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlc3Vic2NyaWJlIGVycm9yXCIpLGMudG9TdHJpbmcoKSk7fSkpO30pLHRoaXMuX2NvbmZpZz10LHRoaXMuX2NsaWVudElkPVV0KDUsXCJjbGllbnQtXCIpLHRoaXMuc3RvcmU9bmV3IE1FKHQuY29kZWMsdC5hdWRpb0NvZGVjLHQubW9kZSx0aGlzLl9jbGllbnRJZCksdGhpcy5zdG9yZS5jbGllbnRDcmVhdGVkKCksdC5wcm94eVNlcnZlciYmdGhpcy5zZXRQcm94eVNlcnZlcih0LnByb3h5U2VydmVyLCEwKSx0LnR1cm5TZXJ2ZXImJnRoaXMuc2V0VHVyblNlcnZlcih0LnR1cm5TZXJ2ZXIsITApLF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIEluaXRpYWxpemluZyBBZ29yYVJUQyBjbGllbnQgdlwiKS5jb25jYXQoaWksXCIgYnVpbGQ6IFwiKS5jb25jYXQoRWYsXCIsIG1vZGU6IFwiKS5jb25jYXQodGhpcy5tb2RlLFwiLCBjb2RlYzogXCIpLmNvbmNhdCh0aGlzLmNvZGVjKSksdC5jbGllbnRSb2xlT3B0aW9ucyl0cnl7ZlIodC5jbGllbnRSb2xlT3B0aW9ucyksZT1PYmplY3QuYXNzaWduKHt9LHQuY2xpZW50Um9sZU9wdGlvbnMpO31jYXRjaChuKXtfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBcIikuY29uY2F0KG4udG9TdHJpbmcoKSkpO310aGlzLl9zdGF0c0NvbGxlY3Rvcj1uZXcgX3UodGhpcy5zdG9yZSksdGhpcy5fc3RhdHNDb2xsZWN0b3Iub25TdGF0c0V4Y2VwdGlvbj0obixpLHIpPT57Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlY2VpdmUgZXhjZXB0aW9uIG1zZywgY29kZTogXCIpLmNvbmNhdChuLFwiLCBtc2c6IFwiKS5jb25jYXQoaSxcIiwgdWlkOiBcIikuY29uY2F0KHIpKSx0aGlzLnNhZmVFbWl0KHV0LkVYQ0VQVElPTix7Y29kZTpuLG1zZzppLHVpZDpyfSk7fSx0aGlzLl9zdGF0c0NvbGxlY3Rvci5vblVwbG9hZFB1Ymxpc2hEdXJhdGlvbj0obixpLHIsbyk9PntsZXQgcz10aGlzLl91c2Vycy5maW5kKGE9PmEudWlkPT09bik7cyYmWC5wZWVyUHVibGlzaFN0YXR1cyh0aGlzLl9zZXNzaW9uSWQse3N1YnNjcmliZUVsYXBzZTpvLGF1ZGlvUHVibGlzaER1cmF0aW9uOmksdmlkZW9QdWJsaXNoRHVyYXRpb246cixwZWVyOnMuX3VpbnRpZH0pO30sdGhpcy5zdG9yZS51c2VQMlA9dC5tb2RlPT09XCJwMnBcIix0aGlzLl9nYXRld2F5PW5ldyB0bSh0aGlzLnN0b3JlLHtjbGllbnRJZDp0aGlzLl9jbGllbnRJZCxtb2RlOnRoaXMubW9kZSxjb2RlYzp0aGlzLmNvZGVjLHdlYnNvY2tldFJldHJ5Q29uZmlnOnQud2Vic29ja2V0UmV0cnlDb25maWd8fEVlLGh0dHBSZXRyeUNvbmZpZzp0Lmh0dHBSZXRyeUNvbmZpZ3x8RWUsZm9yY2VXYWl0R2F0ZXdheVJlc3BvbnNlOnQuZm9yY2VXYWl0R2F0ZXdheVJlc3BvbnNlPT09dm9pZCAwfHx0LmZvcmNlV2FpdEdhdGV3YXlSZXNwb25zZSxzdGF0c0NvbGxlY3Rvcjp0aGlzLl9zdGF0c0NvbGxlY3Rvcixyb2xlOnQucm9sZSxjbGllbnRSb2xlT3B0aW9uczplfSksdGhpcy5fY29uZmlnRGlzdHJpYnV0ZT1uZXcgaW0sdGhpcy5zdG9yZS51c2VQMlA/KHRoaXMuX3AycENoYW5uZWw9bmV3IEFuKHRoaXMuc3RvcmUsdGhpcy5fc3RhdHNDb2xsZWN0b3IpLHRoaXMuX2hhbmRsZVAyUEV2ZW50cygpKTp0aGlzLl9wMnBDaGFubmVsPW5ldyBKZCh0aGlzLnN0b3JlLHRoaXMuX3N0YXRzQ29sbGVjdG9yKSx0aGlzLl9oYW5kbGVQMlBDaGFubmVsRXZlbnRzKCksdGhpcy5faGFuZGxlR2F0ZXdheUV2ZW50cygpLHRoaXMuX2hhbmRsZUdhdGV3YXlTaWduYWxFdmVudHMoKTt9YXN5bmMgam9pbk1ldGEodCxlLG4saSxyKXtsZXQgbz0hKGFyZ3VtZW50cy5sZW5ndGg+NSYmYXJndW1lbnRzWzVdIT09dm9pZCAwKXx8YXJndW1lbnRzWzVdLHM9YXJndW1lbnRzLmxlbmd0aD42JiZhcmd1bWVudHNbNl0hPT12b2lkIDAmJmFyZ3VtZW50c1s2XTtPdChcIkpPSU5fR0FURVdBWV9VU0VfNDQzUE9SVF9PTkxZXCIsbyksT3QoXCJKT0lOX0dBVEVXQVlfVVNFX0RVQUxfRE9NQUlOXCIscyk7bGV0IGE9dGhpcy5fZ2F0ZXdheS5zaWduYWwud2Vic29ja2V0O3JldHVybiBhIGluc3RhbmNlb2YgTmMmJihhLnVzZTQ0M1BvcnRPbmx5PW8sYS50cnlEb3VibGVEb21haW49cyksYXN5bmMgZnVuY3Rpb24oYyxkLGwpe2JkLmdldChjKXx8YmQuc2V0KGMsW10pLHdkLmdldChjKXx8d2Quc2V0KGMsZCksWWkuZ2V0KGMpfHxZaS5zZXQoYywwKTtsZXQgdT1iZC5nZXQoYyksaD13ZC5nZXQoYyk7aWYoIXV8fCFoKXRocm93IG5ldyBFcnJvcihcImNvbmN1cnJlbnQ6IGRlZmVyUXVldWUgb3IgbWF4Q29uY3VycmVuY3kgaXMgbnVsbFwiKTtpZihZaS5nZXQoYyk9PT1oKXtsZXQgUz12YygpO3UucHVzaChTKSxhd2FpdCBTLnByb21pc2U7fVlpLnNldChjLFlpLmdldChjKSsxKTtmb3IodmFyIHA9YXJndW1lbnRzLmxlbmd0aCxnPW5ldyBBcnJheShwPjM/cC0zOjApLEU9MztFPHA7RSsrKWdbRS0zXT1hcmd1bWVudHNbRV07bGV0IGY9YXdhaXQgbCguLi5nKTtyZXR1cm4gWWkuc2V0KGMsWWkuZ2V0KGMpLTEpLFlpLmdldChjKT09PWgtMSYmdS5sZW5ndGg+MCYmKHVbMF0ucmVzb2x2ZSgpLHUuc2hpZnQoKSksWWkuZ2V0KGMpPT09MCYmKGJkLnNldChjLFtdKSx3ZC5zZXQoYywwKSxZaS5zZXQoYywwKSksZn0oXCJjbGllbnQuam9pblwiLHYoXCJKT0lOX01BWF9DT05DVVJSRU5DWVwiKSx0aGlzLmpvaW4uYmluZCh0aGlzKSx0LGUsbixpLHIpfWFzeW5jIGpvaW4odCxlLG4saSxyKXtsZXQgbz0rK3RoaXMuX251bWJlck9mSm9pbkNvdW50O3RoaXMuc3RvcmUuam9pblN0YXJ0KCksaSYmKHRoaXMuc3RvcmUudWlkPWkpO2xldCBzPShOZHx8TmR8fChOZD0od2luZG93LmxvY2F0aW9uLnByb3RvY29sLnNwbGl0KFwiOlwiKVswXXx8XCJcIikudG9VcHBlckNhc2UoKSxOZCkpPT09XCJIVFRQU1wiLGE9dlIoKT93aW5kb3cuaXNTZWN1cmVDb250ZXh0OlwiQnJvd3NlciBOb3QgU3VwcG9ydFwiOyghdlIoKSYmIXN8fCF3aW5kb3cuaXNTZWN1cmVDb250ZXh0KSYmXy53YXJuaW5nKFwiVGhlIHdlYnNpdGUgbXVzdCBiZSBydW5uaW5nIGluIGEgc2VjdXJlIGNvbnRleHQgKEFib3V0IHNlY3VyZSBjb250ZXh0OiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9TZWN1cml0eS9TZWN1cmVfQ29udGV4dHMgKSwgb3RoZXJ3aXNlIHRoZSBtZWRpYSBjb2xsZWN0aW9uIHdpbGwgYmUgcmVzdHJpY3RlZCBieSB0aGUgYnJvd3NlclwiKSx0aGlzLmNvbm5lY3Rpb25TdGF0ZT09PVwiRElTQ09OTkVDVEVEXCImJih0aGlzLnN0b3JlLmF2b2lkSm9pblN0YXJ0PU1hdGgucm91bmQoRGF0ZS5ub3coKSksXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHNldCBhdm9pZEpvaW5TdGFydCB0byBcIikuY29uY2F0KHRoaXMuc3RvcmUuYXZvaWRKb2luU3RhcnQpKSksWC5zZXRBcHBJZCh0KTt0cnl7aWYoIW4mJm4hPT1udWxsKXRocm93IG5ldyBPKFIuSU5WQUxJRF9QQVJBTVMsXCJJbnZhbGlkIHRva2VuOiBcIi5jb25jYXQobixcIi4gSWYgeW91IGRvbiBub3QgdXNlIHRva2VuLCBzZXQgaXQgdG8gbnVsbFwiKSk7biYmUGUobixcInRva2VuXCIsMSwyMDQ3KSxQZSh0LFwiYXBwaWRcIiwxLDIwNDcpLFh1KGUpLGkmJlF1KGkpLHImJlBlKHIsXCJvcHRpb25hbEluZm9cIiwxLDIwNDcpO31jYXRjaChFKXt0aHJvdyBYLnJlcG9ydEFwaUludm9rZShNcygpLHtuYW1lOlRlLkpPSU4sb3B0aW9uczpbdCxlLG4saV0sc3RhdGVzOntpc0h0dHBzOnMsaXNTZWN1cmVDb250ZXh0OmF9LHRhZzpadC5UUkFDRVJ9KS5vbkVycm9yKEUpLEV9aWYodGhpcy5fbGVhdmVNdXRleC5pc0xvY2tlZCYmKF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBqb2luOiB3YWl0aW5nIGxlYXZlIG9wZXJhdGlvblwiKSksKGF3YWl0IHRoaXMuX2xlYXZlTXV0ZXgubG9jaygpKSgpLF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBqb2luOiBjb250aW51ZVwiKSkpLHRoaXMuX2pvaW5BbmROb3RMZWF2ZVlldD0hMCx0aGlzLmNvbm5lY3Rpb25TdGF0ZSE9PVwiRElTQ09OTkVDVEVEXCIpe2xldCBFPW5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBDbGllbnQgYWxyZWFkeSBpbiBjb25uZWN0aW5nL2Nvbm5lY3RlZCBzdGF0ZVwiKSk7dGhyb3cgWC5yZXBvcnRBcGlJbnZva2UoTXMoKSx7bmFtZTpUZS5KT0lOLG9wdGlvbnM6W3QsZSxuLGldLHN0YXRlczp7aXNIdHRwczpzLGlzU2VjdXJlQ29udGV4dDphfSx0YWc6WnQuVFJBQ0VSfSkub25FcnJvcihFKSxFfXRoaXMuX2dhdGV3YXkuc3RhdGU9XCJDT05ORUNUSU5HXCI7bGV0IGM9YXdhaXQgWHYoe2FwcElkOnQsY25hbWU6ZSx1aWQ6aSxzdHJpbmdVaWQ6dHlwZW9mIGk9PVwic3RyaW5nXCI/aTp2b2lkIDAsdG9rZW46bnx8dCxjbG91ZFByb3h5U2VydmVyOnRoaXMuX2Nsb3VkUHJveHlTZXJ2ZXJNb2RlfSk7aWYoIXRoaXMuX2pvaW5BbmROb3RMZWF2ZVlldCl0aHJvdyBuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OLFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gQ2xpZW50IGFscmVhZHkgbGVmdFwiKSk7bGV0IGQ9Yz8uc2lkfHxNcygpO18uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN0YXJ0IGpvaW4gY2hhbm5lbCBcIikuY29uY2F0KGUsXCIsIGpvaW4gbnVtYmVyOiBcIikuY29uY2F0KG8pKSx0aGlzLl9zZXNzaW9uSWR8fCh0aGlzLl9zZXNzaW9uSWQ9ZCx0aGlzLnN0b3JlLnNlc3Npb25JZD10aGlzLl9zZXNzaW9uSWQpO2xldCBsPVgucmVwb3J0QXBpSW52b2tlKGQse25hbWU6VGUuSk9JTixvcHRpb25zOlt0LGUsbixpXSxzdGF0ZXM6e2lzSHR0cHM6cyxpc1NlY3VyZUNvbnRleHQ6YX0sdGFnOlp0LlRSQUNFUn0pLHU9eGkoeGkoe30sdGhpcy5fcnRtQ29uZmlnKSx7fSx7Y2xpZW50SWQ6dGhpcy5fY2xpZW50SWQsYXBwSWQ6dCxzaWQ6dGhpcy5fc2Vzc2lvbklkLGNuYW1lOmUsdWlkOnR5cGVvZiBpIT1cInN0cmluZ1wiP2k6bnVsbCx0dXJuU2VydmVyOnRoaXMuX3R1cm5TZXJ2ZXIscHJveHlTZXJ2ZXI6dGhpcy5fcHJveHlTZXJ2ZXIsdG9rZW46bnx8dCxjbG91ZFByb3h5U2VydmVyOnRoaXMuX2Nsb3VkUHJveHlTZXJ2ZXJNb2RlLG9wdGlvbmFsSW5mbzpyLGxpY2Vuc2U6dGhpcy5fbGljZW5zZSx1c2VMb2NhbEFjY2Vzc1BvaW50OnRoaXMuX3VzZUxvY2FsQWNjZXNzUG9pbnQscHJlbG9hZDohIWN9LHRoaXMuX3JlbW90ZURlZmF1bHRWaWRlb1N0cmVhbVR5cGUhPT12b2lkIDAmJntkZWZhdWx0VmlkZW9TdHJlYW06dGhpcy5fcmVtb3RlRGVmYXVsdFZpZGVvU3RyZWFtVHlwZX0pO2lmKHRoaXMuX3VzZUxvY2FsQWNjZXNzUG9pbnQmJih1LnNldExvY2FsQVBWZXJzaW9uPXRoaXMuX3NldExvY2FsQVBWZXJzaW9uKSx0eXBlb2YgaT09XCJzdHJpbmdcIiYmKHUuc3RyaW5nVWlkPWksdGhpcy5fdWludFVpZD8odS51aWQ9dGhpcy5fdWludFVpZCx0aGlzLl91aW50VWlkPXZvaWQgMCk6dS51aWQ9MCksdGhpcy5fZW5jcnlwdGlvbk1vZGUhPT1cIm5vbmVcIiYmdGhpcy5fZW5jcnlwdGlvblNlY3JldCl7aWYodS5hZXNtb2RlPXRoaXMuX2VuY3J5cHRpb25Nb2RlLHUuYWVzcGFzc3dvcmQ9YXdhaXQoYXN5bmMgRT0+e2xldCBmPWZ1bmN0aW9uKGIpe2xldCB3PXdpbmRvdy5hdG9iKGBNSUdmTUEwR0NTcUdTSWIzRFFFQkFRVUFBNEdOQURDQmlRS0JnUURDTW5YQUhrS0lHQU0reDROMjJnQ0krV3l1XG5TVE05enRrVDN1WXNsVFQyUHVLbVpmUHpoSDZrVmRPN1BUakdDT1puQXN5YjNvVHRXYXQwS2N4UTRqeHZxUVYrXG5IdllsM2lJMVlkNHZsMmMzcVJNSlBMdFJEZk54YTJNY3hncTdlOWFFVWliemRkMHN0K09KQXkzdE9qL1kwYVZ5XG54UWlZRHozdnFhNmJQMjlhZHdJREFRQUJgKSxEPW5ldyBVaW50OEFycmF5KG5ldyBBcnJheUJ1ZmZlcih3Lmxlbmd0aCkpO2ZvcihsZXQgaz0wO2s8dy5sZW5ndGg7ays9MSlEW2tdPXcuY2hhckNvZGVBdChrKTtyZXR1cm4gRH0oKSxTPWF3YWl0IHdpbmRvdy5jcnlwdG8uc3VidGxlLmltcG9ydEtleShcInNwa2lcIixmLHtuYW1lOlwiUlNBLU9BRVBcIixoYXNoOlwiU0hBLTI1NlwifSwhMCxbXCJlbmNyeXB0XCJdKSxDPXVmKEUpLEE9YXdhaXQgd2luZG93LmNyeXB0by5zdWJ0bGUuZW5jcnlwdCh7bmFtZTpcIlJTQS1PQUVQXCJ9LFMsQyk7cmV0dXJuIGZ1bmN0aW9uKGIpe2xldCB3PVwiXCI7Zm9yKGxldCBEPTA7RDxiLmxlbmd0aDtEKz0xKXcrPVN0cmluZy5mcm9tQ2hhckNvZGUoYltEXSk7cmV0dXJuIHdpbmRvdy5idG9hKHcpfShuZXcgVWludDhBcnJheShBKSl9KSh0aGlzLl9lbmNyeXB0aW9uU2VjcmV0KSwhdGhpcy5fam9pbkFuZE5vdExlYXZlWWV0KXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBDbGllbnQgYWxyZWFkeSBsZWZ0XCIpKTt0aGlzLl9lbmNyeXB0aW9uU2FsdCYmKHUuYWVzc2FsdD10aGlzLl9lbmNyeXB0aW9uU2FsdCk7fWlmKHRoaXMuX2VuY3J5cHREYXRhU3RyZWFtJiYodGhpcy5fZW5jcnlwdGlvbk1vZGU9PT1cImFlcy0xMjgtZ2NtMlwifHx0aGlzLl9lbmNyeXB0aW9uTW9kZT09PVwiYWVzLTI1Ni1nY20yXCIpKWlmKHRoaXMuX2VuY3J5cHRpb25TYWx0JiZ0aGlzLl9lbmNyeXB0aW9uU2VjcmV0KWlmKHdpbmRvdy5jcnlwdG8uc3VidGxlKXtsZXQgRT1uZXcgVGV4dEVuY29kZXIsZj12KFwiVVNFX1BVUkVfRU5DUllQVElPTl9NQVNURVJfS0VZXCIpP0UuZW5jb2RlKHUuYXBwSWQrdGhpcy5fZW5jcnlwdGlvblNlY3JldCt0aGlzLl9lbmNyeXB0aW9uU2VjcmV0KTpFLmVuY29kZSh1LmFwcElkK3UuY25hbWUrdGhpcy5fZW5jcnlwdGlvblNlY3JldCk7dGhpcy5fZW5jcnlwdERhdGFTdHJlYW1Jdj1hd2FpdCBhc3luYyBmdW5jdGlvbihTLEMsQSl7bGV0IGI9YXdhaXQgd2luZG93LmNyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KFwicmF3XCIsQyxcIlBCS0RGMlwiLCExLFtcImRlcml2ZUJpdHNcIixcImRlcml2ZUtleVwiXSksdz1TPT09XCJhZXMtMTI4LWdjbTJcIj8xMjg6MjU2LEQ9YXdhaXQgd2luZG93LmNyeXB0by5zdWJ0bGUuZGVyaXZlQml0cyh7bmFtZTpcIlBCS0RGMlwiLGl0ZXJhdGlvbnM6QVIsaGFzaDpcIlNIQS0yNTZcIixzYWx0OkF9LGIsdytUQik7cmV0dXJuIG5ldyBVaW50OEFycmF5KEQpLnN1YmFycmF5KHcvOCl9KHRoaXMuX2VuY3J5cHRpb25Nb2RlLGYsRm8odGhpcy5fZW5jcnlwdGlvblNhbHQpKSx0aGlzLl9lbmNyeXB0RGF0YVN0cmVhbUtleT1hd2FpdCBhc3luYyBmdW5jdGlvbihTLEMsQSl7bGV0IGI9YXdhaXQgd2luZG93LmNyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KFwicmF3XCIsQyxcIlBCS0RGMlwiLCExLFtcImRlcml2ZUJpdHNcIixcImRlcml2ZUtleVwiXSksdz1TPT09XCJhZXMtMTI4LWdjbTJcIj8xMjg6MjU2O3JldHVybiBhd2FpdCB3aW5kb3cuY3J5cHRvLnN1YnRsZS5kZXJpdmVLZXkoe25hbWU6XCJQQktERjJcIixpdGVyYXRpb25zOkFSLGhhc2g6XCJTSEEtMjU2XCIsc2FsdDpBfSxiLHtuYW1lOlwiQUVTLUdDTVwiLGxlbmd0aDp3fSwhMCxbXCJlbmNyeXB0XCIsXCJkZWNyeXB0XCJdKX0odGhpcy5fZW5jcnlwdGlvbk1vZGUsZixGbyh0aGlzLl9lbmNyeXB0aW9uU2FsdCkpO31lbHNlIGE/Xy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gZW5jcnlwdCBkYXRhc3RyZWFtIG11c3QgYmUgcnVubmluZyBpbiBhIHNlY3VyZSBjb250ZXh0LCBmYWxsYmFjayB0byBwbGFpbiBkYXRhIHN0cmVhbVwiKSk6Xy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY3VycmVudCBicm93c2VyIGRvIG5vdCBzdXBwb3J0IFdlYkNyeXB0byAsZmFsbGJhY2sgdG8gcGxhaW4gZGF0YSBzdHJlYW1cIikpLHRoaXMuX2VuY3J5cHREYXRhU3RyZWFtPSExO2Vsc2UgdGhpcy5fZW5jcnlwdERhdGFTdHJlYW09ITEsXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIG5vIHNhbHQgLyBzZWNyZXQsIGNhbm5vdCBzdXBwb3J0IGVuY3J5cHQgZGF0YSBzdHJlYW0sIGZhbGxiYWNrIHRvIHBsYWluIGRhdGEgc3RyZWFtXCIpKTt0aGlzLl9zdGFydFNlc3Npb24odGhpcy5fc2Vzc2lvbklkLHtjaGFubmVsOmUsYXBwSWQ6dCxzdHJpbmdVaWQ6dS5zdHJpbmdVaWR9KTtsZXQgaD10aGlzLl9zZXNzaW9uSWQ7c2V0VGltZW91dCgoKT0+e3RoaXMuY29ubmVjdGlvblN0YXRlPT09XCJDT05ORUNUSU5HXCImJmg9PT10aGlzLl9zZXNzaW9uSWQmJlguam9pbkNoYW5uZWxUaW1lb3V0KHRoaXMuX3Nlc3Npb25JZCw1KTt9LDVlMyk7dHJ5e3ZhciBwO2xldCBFLGY9dS5jbG91ZFByb3h5U2VydmVyO2lmKFcocD1bXCJwcm94eTNcIixcInByb3h5NFwiLFwicHJveHk1XCJdKS5jYWxsKHAsZikpe2xldCB3PXYoXCJQUk9YWV9TRVJWRVJfVFlQRTNcIik7QXJyYXkuaXNBcnJheSh3KT91LnByb3h5U2VydmVyPXdbMF06dS5wcm94eVNlcnZlcj13O31pZihYLnNldFByb3h5U2VydmVyKHUucHJveHlTZXJ2ZXIpLF8uc2V0UHJveHlTZXJ2ZXIodS5wcm94eVNlcnZlciksdGhpcy5zdG9yZS5yZXF1ZXN0QVBTdGFydCgpLGMpe2lmKF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBnZXQgc2VydmVySW5mbyBTdWNjZXNzIGZyb20gUHJlbG9hZCBDYWNoZSBcIikuY29uY2F0KHUuc3RyaW5nVWlkP1wiLCBcIi5jb25jYXQodS5zdHJpbmdVaWQsXCIgPT4gXCIpLmNvbmNhdChjLmludFVpZCk6XCJcIixcIiBcIikpLHUuc3RyaW5nVWlkJiYhdS51aWQmJih1LnVpZD1jLmludFVpZCksRT17Z2F0ZXdheUluZm86Yy5hcC5nYXRld2F5SW5mb30sdihcIkpPSU5fV0lUSF9GQUxMQkFDS19NRURJQV9QUk9YWVwiKSYmdS50dXJuU2VydmVyLm1vZGU9PT1cImF1dG9cIilpZihjLmFwLnByb3h5SW5mby5hZGRyZXNzZXMubGVuZ3RoPT09MClfLndhcm5pbmcoXCJubyBlZGdlIHNlcnZpY2VzIGluIGFwIHJlc3BvbnNlIG9mIHByb3h5IGZhbGxiYWNrLCB3aWxsIG5vdCBzZXQgcHJveHkgaW4gaWNlU2VydmVyc1wiKTtlbHNlIHtsZXQgdz0oYXdhaXQga08oYy5hcC5wcm94eUluZm8sYy5hcC5nYXRld2F5SW5mby51aWQpKS5tYXAoRD0+KHt0dXJuU2VydmVyVVJMOkQuYWRkcmVzcyx0Y3Bwb3J0OkQudGNwcG9ydHx8VmUudGNwcG9ydCx1ZHBwb3J0OkQudWRwcG9ydHx8VmUudWRwcG9ydCx1c2VybmFtZTpELnVzZXJuYW1lfHxWZS51c2VybmFtZSxwYXNzd29yZDpELnBhc3N3b3JkfHxWZS5wYXNzd29yZCxmb3JjZXR1cm46ITEsc2VjdXJpdHk6ITB9KSk7dS50dXJuU2VydmVyPXttb2RlOlwibWFudWFsXCIsc2VydmVyczp3fTt9UXYoYyx1LnN0cmluZ1VpZCk7fWVsc2Uge2lmKHUuc3RyaW5nVWlkJiYhdS51aWQpe2xldCB3O1t3LEVdPWF3YWl0IGouYWxsKFtoMCh1LnN0cmluZ1VpZCx1LHRoaXMuX2F4aW9zQ2FuY2VsU291cmNlLnRva2VuLHRoaXMuX2NvbmZpZy5odHRwUmV0cnlDb25maWd8fEVlLHRoaXMuc3RvcmUpLHR2KHUsdGhpcy5fYXhpb3NDYW5jZWxTb3VyY2UudG9rZW4sdGhpcy5fY29uZmlnLmh0dHBSZXRyeUNvbmZpZ3x8RWUsITAsdGhpcy5zdG9yZSldKSxfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gZ2V0VXNlckFjY291bnQgU3VjY2VzcyBcIikuY29uY2F0KHUuc3RyaW5nVWlkLFwiID0+IFwiKS5jb25jYXQodykpLHUudWlkPXcsRS5nYXRld2F5SW5mby51aWQ9dyxFLmdhdGV3YXlJbmZvLnJlcy51aWQ9dzt9ZWxzZSBFPWF3YWl0IHR2KHUsdGhpcy5fYXhpb3NDYW5jZWxTb3VyY2UudG9rZW4sdGhpcy5fY29uZmlnLmh0dHBSZXRyeUNvbmZpZ3x8RWUsITAsdGhpcy5zdG9yZSk7aWYoIXRoaXMuX2pvaW5BbmROb3RMZWF2ZVlldCl0aHJvdyBuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OLFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gQ2xpZW50IGFscmVhZHkgbGVmdFwiKSl9dGhpcy5zdG9yZS5yZXF1ZXN0QVBFbmQoKSxzZXRUaW1lb3V0KCgpPT57dGhpcy5fY29uZmlnRGlzdHJpYnV0ZS5zdGFydEdldENvbmZpZ0Rpc3RyaWJ1dGUodSx0aGlzLl9heGlvc0NhbmNlbFNvdXJjZS50b2tlbiksdGhpcy5fY29uZmlnRGlzdHJpYnV0ZS5vbihGRS5VUERBVEVfQklUUkFURV9MSU1JVCx3PT57dGhpcy5fcDJwQ2hhbm5lbC51cGRhdGVCaXRyYXRlTGltaXQodyk7fSk7fSwwKSx0aGlzLl9rZXk9bnx8dDtsZXQgUz1FLmdhdGV3YXlJbmZvLEM9dS51aWQ/dS51aWQ6Uy51aWQ7dGhpcy5fam9pbkluZm89eGkoeGkoe30sdSkse30se2NpZDpTLmNpZCx1aWQ6Qyx2aWQ6Uy52aWQsYXBSZXNwb25zZTpTLnJlcyxhcEdhdGV3YXlBZGRyZXNzOlMuYXBHYXRld2F5QWRkcmVzcyx1bmlfbGJzX2lwOlMudW5pX2xic19pcCxnYXRld2F5QWRkcnM6Uy5nYXRld2F5QWRkcnN9KSx0aGlzLnN0b3JlLmludFVpZD1DO2xldCBBPWF3YWl0IHRoaXMuX2pvaW5HYXRld2F5KCk7aWYoIXRoaXMuX2pvaW5BbmROb3RMZWF2ZVlldCl0aHJvdyBuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OLFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gQ2xpZW50IGFscmVhZHkgbGVmdFwiKSk7bC5vblN1Y2Nlc3MoQSksdGhpcy5fYXBwSWQ9dCx0aGlzLl9jaGFubmVsTmFtZT11LmNuYW1lLHRoaXMuX3VpZD1BLHRoaXMuc3RvcmUudWlkPUEsc2V0VGltZW91dCgoKT0+e3RoaXMuX25ldHdvcmtRdWFsaXR5SW50ZXJ2YWwmJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX25ldHdvcmtRdWFsaXR5SW50ZXJ2YWwpLHRoaXMuX25ldHdvcmtRdWFsaXR5SW50ZXJ2YWw9d2luZG93LnNldEludGVydmFsKHRoaXMuX2hhbmRsZVVwZGF0ZU5ldHdvcmtRdWFsaXR5LDJlMyksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoamUoKT9cImJlZm9yZXVubG9hZFwiOlwicGFnZWhpZGVcIix0aGlzLl9oYW5kbGVCZWZvcmVVbmxvYWQpLHRoaXMuX3N0YXRzQ29sbGVjdG9yLnN0YXJ0VXBkYXRlU3RhdHMoKTt9LDApO2xldCBiPXUuc3RyaW5nVWlkP1wic3RyaW5nIHVpZDogXCIuY29uY2F0KHUuc3RyaW5nVWlkLFwiLHVpZDogXCIpLmNvbmNhdCh1LnVpZCk6XCJ1aWQ6IFwiLmNvbmNhdCh0aGlzLl91aWQpO3JldHVybiBfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBKb2luaW5nIGNoYW5uZWwgc3VjY2VzczogY2hhbm5lbDogXCIpLmNvbmNhdChlLFwiLFwiKS5jb25jYXQoYikpLHNldFRpbWVvdXQoKCk9PntfLnN0YXJ0VXBsb2FkKCk7fSw1ZTMpLHRoaXMuc3RvcmUuam9pbkVuZCgpLGc9dGhpcyxXKEpyKS5jYWxsKEpyLGcpfHxKci5wdXNoKGcpLHRoaXMuX2Nsb3VkUHJveHlTZXJ2ZXJNb2RlPT09XCJkaXNhYmxlZFwiJiZmdCgpLnN1cHBvcnRXZWJDcnlwdG8mJnYoXCJFTkFCTEVfUFJFTE9BRFwiKSYmRGYodGhpcy5fam9pbkluZm8pLEF9Y2F0Y2goRSl7bGV0IGY9QXJyYXkuaXNBcnJheShFKT9FWzBdOkU7dGhyb3cgZiYmZi5jb2RlPT09Ui5PUEVSQVRJT05fQUJPUlRFRD9fLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBqb2luIG51bWJlcjogXCIpLmNvbmNhdChvLFwiLCBKb2luaW5nIGNoYW5uZWwgZmFpbGVkLCByb2xsYmFja1wiKSxmKTpfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gam9pbiBudW1iZXI6IFwiKS5jb25jYXQobyxcIiwgSm9pbmluZyBjaGFubmVsIGZhaWxlZCwgcm9sbGJhY2tcIiksZiksZi5jb2RlIT09Ui5PUEVSQVRJT05fQUJPUlRFRCYmdGhpcy5fbnVtYmVyT2ZKb2luQ291bnQ9PT1vJiYodGhpcy5fZ2F0ZXdheS5zdGF0ZT1cIkRJU0NPTk5FQ1RFRFwiLHRoaXMuX3Jlc2V0KCkpLGwub25FcnJvcihmKSxmfXZhciBnO31fam9pbkdhdGV3YXkoKXtpZighdGhpcy5fam9pbkluZm98fCF0aGlzLl9rZXkpdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTik7cmV0dXJuIHRoaXMuX2dhdGV3YXkuam9pbih0aGlzLl9qb2luSW5mbyx0aGlzLl9rZXksISh0aGlzLl9qb2luSW5mby5jbG91ZFByb3h5U2VydmVyIT09XCJkaXNhYmxlZFwifHx0aGlzLl9qb2luSW5mby5wcm94eVNlcnZlcnx8IXYoXCJKT0lOX1dJVEhfRkFMTEJBQ0tfU0lHTkFMX1BST1hZXCIpKSl9YXN5bmMgbGVhdmUoKXtfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBMZWF2aW5nIGNoYW5uZWxcIikpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKGplKCk/XCJiZWZvcmV1bmxvYWRcIjpcInBhZ2VoaWRlXCIsdGhpcy5faGFuZGxlQmVmb3JlVW5sb2FkKSx0aGlzLl9yZXNldCgpLGZ1bmN0aW9uKGUpe2xldCBuPUpyLmluZGV4T2YoZSk7biE9PS0xJiZKci5zcGxpY2UobiwxKTt9KHRoaXMpLHRoaXMuX3N0YXRzQ29sbGVjdG9yLnN0b3BVcGRhdGVTdGF0cygpO2xldCB0PWF3YWl0IHRoaXMuX2xlYXZlTXV0ZXgubG9jaygpO2lmKHRoaXMuY29ubmVjdGlvblN0YXRlPT09XCJESVNDT05ORUNURURcIilyZXR1cm4gXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gTGVhdmluZyBjaGFubmVsIHJlcGVhdGVkLCBzdWNjZXNzXCIpKSx2b2lkIHQoKTthd2FpdCB0aGlzLl9nYXRld2F5LmxlYXZlKHRoaXMuY29ubmVjdGlvblN0YXRlIT09XCJDT05ORUNURURcIiksXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gTGVhdmluZyBjaGFubmVsIHN1Y2Nlc3NcIikpLHRoaXMuX2pvaW5BbmROb3RMZWF2ZVlldD0hMSx0aGlzLnN0b3JlLnJlc2V0Sm9pbkNoYW5uZWxTZXJ2aWNlUmVjb3JkcygpLHQoKTt9YXN5bmMgcHVibGlzaCh0KXtsZXQgZT0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwKXx8YXJndW1lbnRzWzFdO2lmKCFBcnJheS5pc0FycmF5KHQpKXtpZighKHQgaW5zdGFuY2VvZiBubykpcmV0dXJuIHRoaXMuX3B1Ymxpc2hEYXRhQ2hhbm5lbCh0KTt0PVt0XTt9aWYodC5sZW5ndGg9PT0wKXRocm93IG5ldyBPKFIuSU5WQUxJRF9QQVJBTVMsXCJwYXJhbSBsaXN0IGlzIGVtcHR5XCIpO2xldCBuPXQ7aWYodGhpcy5fZ2F0ZXdheS5yb2xlPT09XCJhdWRpZW5jZVwiKXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJhdWRpZW5jZSBjYW4gbm90IHB1Ymxpc2ggc3RyZWFtXCIpO2ZvcihsZXQgciBvZiBuKXtpZighKHIgaW5zdGFuY2VvZiBubykpdGhyb3cgbmV3IE8oUi5JTlZBTElEX1BBUkFNUyxcInBhcmFtZXRlciBpcyBub3QgbG9jYWwgdHJhY2tcIik7aWYoIXIuX2VuYWJsZWQmJmUpdGhyb3cgbmV3IE8oUi5UUkFDS19JU19ESVNBQkxFRCxcImNhbiBub3QgcHVibGlzaCBhIGRpc2FibGVkIHRyYWNrOiBcIi5jb25jYXQoci5nZXRUcmFja0lkKCkpKX1fLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBQdWJsaXNoaW5nIHRyYWNrcywgaWQgXCIpLmNvbmNhdChuLm1hcChyPT5cIlwiLmNvbmNhdChyLmdldFRyYWNrSWQoKSxcIiBcIikpKSk7bGV0IGk9YXdhaXQgdGhpcy5fcHVibGlzaE11dGV4LmxvY2soKTthd2FpdCB0aGlzLl9jb25maWdEaXN0cmlidXRlLmF3YWl0Q29uZmlnRGlzdHJpYnV0ZUNvbXBsZXRlKCksZSYmbi5mb3JFYWNoKHI9PntsZXQgbz10aGlzLl9jb25maWdEaXN0cmlidXRlLmdldEJpdHJhdGVMaW1pdCgpO3IgaW5zdGFuY2VvZiBGdCYmbyYmci5zZXRCaXRyYXRlTGltaXQoby51cGxpbmspO30pO3RyeXthd2FpdCB0aGlzLl9wdWJsaXNoSGlnaFN0cmVhbShuKSxfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBQdWJsaXNoIHN1Y2Nlc3MsIGlkIFwiKS5jb25jYXQobi5tYXAocj0+XCJcIi5jb25jYXQoci5nZXRUcmFja0lkKCksXCIgXCIpKSkpO31jYXRjaChyKXt0aHJvdyBfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcHVibGlzaCBlcnJvclwiKSxyLnRvU3RyaW5nKCkpLHJ9ZmluYWxseXtpKCk7fX1hc3luYyBfcHVibGlzaERhdGFDaGFubmVsKHQpe050KHQuaWQsXCJpZFwiLDAsNjU1MzUsITApLE5yKHQub3JkZXJlZCxcIm9yZGVyZWRcIiksUGUodC5tZXRhZGF0YSxcIm1ldGFkYXRhXCIsMCw1MTIpLF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIFB1Ymxpc2hpbmcgZGF0YWNoYW5uZWxzLCBpZCBcIikuY29uY2F0KHQuaWQpKTtsZXQgZT1hd2FpdCB0aGlzLl9wdWJsaXNoTXV0ZXgubG9jaygpO3RyeXtpZih0aGlzLl9wMnBDaGFubmVsLmdldEFsbERhdGFDaGFubmVscygpLmZpbmRJbmRleChyPT5yLmlkPT09dC5pZCkhPT0tMSl0aHJvdyBuZXcgTyhSLklOVkFMSURfUEFSQU1TLFwiSW52YWxpZCBpZDogXCIuY29uY2F0KHQuaWQsXCIuIElmIHlvdSB3YW50IHRvIHJlcHVibGlzaCB0aGUgZGF0YWNoYW5uZWwsIHVucHVibGlzaCBmaXJzdFwiKSk7aWYoIXRoaXMuX2pvaW5JbmZvfHx0aGlzLl91aWQ9PT12b2lkIDApdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHB1Ymxpc2ggZGF0YWNoYW5uZWwsIGhhdmVuJ3Qgam9pbmVkIHlldCFcIik7aWYodGhpcy5jb25uZWN0aW9uU3RhdGUhPT1cIkNPTk5FQ1RFRFwiJiZ0aGlzLmNvbm5lY3Rpb25TdGF0ZSE9PVwiUkVDT05ORUNUSU5HXCIpdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3QgcHVibGlzaCBkYXRhY2hhbm5lbCBpbiBcIi5jb25jYXQodGhpcy5jb25uZWN0aW9uU3RhdGUsXCIgc3RhdGVcIikpO2lmKHRoaXMuX3R1cm5TZXJ2ZXIubW9kZT09PVwiYXV0b1wiJiZ2KFwiRk9SQ0VfVFVSTlwiKSYmIXYoXCJUVVJOX0VOQUJMRV9UQ1BcIikmJiF2KFwiVFVSTl9FTkFCTEVfVURQXCIpKXRocm93IG5ldyBPKFIuVU5FWFBFQ1RFRF9FUlJPUixcImZvcmNlIFRVUk4gV2l0aCBObyBUVVJOIENvbmZpZ3VyYXRpb25cIik7bGV0IG49ZnVuY3Rpb24ocil7cmV0dXJuIEt2KHIsITEpfSh0KSxpPWF3YWl0IHRoaXMuX3AycENoYW5uZWwucHVibGlzaERhdGFDaGFubmVsKFtuXSk7aWYoaS5sZW5ndGg+MCl7aWYodHlwZW9mIG4uX29yaWdpbkRhdGFDaGFubmVsSWQhPVwibnVtYmVyXCIpdGhyb3cgXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3QgcHVibGlzaCB3aXRoIG1lZGlhVHlwZSBkYXRhY2hhbm5lbCwgY2Fubm90IGdldCBSVENEYXRhY2hhbm5lbCBpZFwiKSksbmV3IE8oUi5DUkVBVEVfREFUQUNIQU5ORUxfRVJST1IpO3RyeXthd2FpdCBqLmFsbChpLm1hcChyPT50aGlzLl91aWQmJnRoaXMuX2dhdGV3YXkucHVibGlzaERhdGFDaGFubmVsKHRoaXMuX3VpZCxyLCEwKSkpLGF3YWl0IG4uX3dhaXRUaWxsT3BlbigpO31jYXRjaChyKXtpZihyLmNvZGUhPT1SLkRJU0NPTk5FQ1RfUDJQKXRocm93IHJ9fXJldHVybiBfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBQdWJsaXNoIGRhdGFDaGFubmVscyBzdWNjZXNzLCBpZCBcIikuY29uY2F0KG4uaWQpKSxufWNhdGNoKG4pe3Rocm93IF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBwdWJsaXNoIGRhdGFjaGFubmVscyBlcnJvclwiKSxuLnRvU3RyaW5nKCkpLG59ZmluYWxseXtlKCk7fX1hc3luYyB1bnB1Ymxpc2godCl7aWYoIXRoaXMuX2pvaW5JbmZvfHx0aGlzLl91aWQ9PT12b2lkIDApdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHVucHVibGlzaCBzdHJlYW0sIGhhdmVuJ3Qgam9pbmVkIHlldCFcIik7bGV0IGU9W107aWYodClpZihBcnJheS5pc0FycmF5KHQpKWU9dDtlbHNlIHtpZighKHQgaW5zdGFuY2VvZiBubykpcmV0dXJuIHRoaXMuX3VucHVibGlzaERhdGFDaGFubmVsKFt0XSk7ZT1bdF07fWVsc2UgdGhpcy5zdG9yZS51c2VQMlB8fGF3YWl0IHRoaXMuX3VucHVibGlzaERhdGFDaGFubmVsKCksZT10aGlzLl9wMnBDaGFubmVsLmdldEFsbFRyYWNrcyghMCk7Xy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gVW5wdWJsaXNoIHRyYWNrcywgdHJhY2tzIFwiKS5jb25jYXQoZS5tYXAoaT0+XCJcIi5jb25jYXQoaS5nZXRUcmFja0lkKCksXCIgXCIpKSxcIiBcIikpO2xldCBuPWF3YWl0IHRoaXMuX3B1Ymxpc2hNdXRleC5sb2NrKCk7dHJ5e2lmKHRoaXMuX3AycENoYW5uZWwgaW5zdGFuY2VvZiBBbil7bGV0IGk9YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC51bnB1Ymxpc2goZSk7aSYmYXdhaXQgdGhpcy5fZ2F0ZXdheS5zZW5kRXh0ZW5zaW9uTWVzc2FnZShpZS5VTlBVQkxJU0gse3VucHViTXNnOml9LCEwKTt9ZWxzZSB7bGV0IGk9YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC51bnB1Ymxpc2goZSk7aSYmYXdhaXQgdGhpcy5fZ2F0ZXdheS51bnB1Ymxpc2goaSx0aGlzLl91aWQpLF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIFVucHVibGlzaCBzdWNjZXNzLHRyYWNrcyBcIikuY29uY2F0KGUubWFwKHI9PlwiXCIuY29uY2F0KHIuZ2V0VHJhY2tJZCgpKSkpKTt9fWNhdGNoKGkpe3Rocm93IF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB1bnB1Ymxpc2ggZXJyb3JcIiksaS50b1N0cmluZygpKSxpfWZpbmFsbHl7biYmbigpO319YXN5bmMgX3VucHVibGlzaERhdGFDaGFubmVsKHQpe3QhPT12b2lkIDAmJnQubGVuZ3RoIT09MHx8KHQ9dGhpcy5fcDJwQ2hhbm5lbC5nZXRBbGxEYXRhQ2hhbm5lbHMoKSksXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gVW5wdWJsaXNoIGRhdGFjaGFubmVscywgZGF0YWNoYW5uZWxzIFwiKS5jb25jYXQodC5tYXAobj0+XCJcIi5jb25jYXQobi5pZCxcIiBcIikpLFwiIFwiKSk7bGV0IGU9YXdhaXQgdGhpcy5fcHVibGlzaE11dGV4LmxvY2soKTt0cnl7bGV0IG49YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC51bnB1Ymxpc2hEYXRhQ2hhbm5lbCh0KTtuJiZhd2FpdCB0aGlzLl9nYXRld2F5LnVucHVibGlzaERhdGFDaGFubmVsKG4pLF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIFVucHVibGlzaCBkYXRhQ2hhbm5lbCBzdWNjZXNzLGRhdGFDaGFubmVsIFwiKS5jb25jYXQodC5tYXAoaT0+XCJcIi5jb25jYXQoaS5pZCkpKSk7fWNhdGNoKG4pe3Rocm93IF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB1bnB1Ymxpc2ggZGF0YUNoYW5uZWwgZXJyb3JcIiksbi50b1N0cmluZygpKSxufWZpbmFsbHl7ZSYmZSgpO319YXN5bmMgc3Vic2NyaWJlKHQsZSxuKXtpZighKHQgaW5zdGFuY2VvZiBpcikpe2xldCBpPXRoaXMucmVtb3RlVXNlcnMuZmluZChyPT5yLnVpZD09PXQpO2lmKCFpKXRocm93IG5ldyBPKFIuSU5WQUxJRF9SRU1PVEVfVVNFUixcInVzZXIgaXMgbm90IGluIHRoZSBjaGFubmVsXCIpO3Q9aTt9cmV0dXJuIGU9PT1cImRhdGFjaGFubmVsXCI/dGhpcy5fc3Vic2NyaWJlRGF0YUNoYW5uZWwodCxuKTp0aGlzLl9zdWJzY3JpYmUodCxlKX1hc3luYyBwcmVzdWJzY3JpYmUodCxlKXtpZihDZShlLFwibWVkaWFUeXBlXCIsW1wiYXVkaW9cIixcInZpZGVvXCJdKSx0aGlzLl9wMnBDaGFubmVsIGluc3RhbmNlb2YgQW4pdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcImNhbid0IHByZXN1YiBhdCBwMnAgbW9kZVwiKTtpZighdGhpcy5fam9pbkluZm8pdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcImNhbid0IHByZXN1YiB3aGVuIG5vdCBqb2luXCIpO2lmKHRoaXMuY29ubmVjdGlvblN0YXRlIT09XCJDT05ORUNURURcIiYmdGhpcy5jb25uZWN0aW9uU3RhdGUhPT1cIlJFQ09OTkVDVElOR1wiKXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4ndCBwcmVzdWIgaW4gXCIuY29uY2F0KHRoaXMuY29ubmVjdGlvblN0YXRlLFwiIHN0YXRlXCIpKTtsZXQgbj1lPT09US5BVURJTyxpPWU9PT1RLlZJREVPLHI9YXdhaXQgdGhpcy5fc3Vic2NyaWJlTXV0ZXgubG9jaygpO3RyeXtsZXR7c3NyY0lkOm8sb3J0YzpzLHJ0eFNzcmNJZDphLGNuYW1lOmMsdWludF9pZDpkfT1hd2FpdCB0aGlzLl9nYXRld2F5LnByZXN1YnNjcmliZSh0LGUsITApO2lmKG89PW51bGwpdGhyb3cgbmV3IE8oUi5VTkVYUEVDVEVEX1JFU1BPTlNFLFwibm8gc3NyYyBpZFwiKTtsZXQgbD10aGlzLl91c2Vycy5maW5kKGg9PmgudWlkPT09dCk7bHx8KGw9bmV3IGlyKHQsZHx8dCksbC5faXNfcHJlX2NyZWF0ZWQ9ITAsdGhpcy5fdXNlcnMucHVzaChsKSksYyYmKGwuX2NuYW1lPWMpLGwuX3VpbnRpZHx8KGwuX3VpbnRpZD1kfHx0KSxuJiYobC5fYXVkaW9TU1JDPW8sbC5fYXVkaW9fcHJlX3N1YnNjcmliZWQ9ITAscyYmKGwuX2F1ZGlvT3J0Yz1zKSksaSYmKGwuX3ZpZGVvU1NSQz1vLGwuX3ZpZGVvX3ByZV9zdWJzY3JpYmVkPSEwLHMmJihsLl92aWRlb09ydGM9cyksYSE9bnVsbCYmKGwuX3J0eFNzcmNJZD1hKSksXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcHJlc3ViIHN1Y2NlZWQgc3NyYzogXCIpLmNvbmNhdChvKSksYXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5zdWJzY3JpYmUobCxlLG8sYSxzKTtsZXQgdT1uP2wuX2F1ZGlvVHJhY2s6bC5fdmlkZW9UcmFjaztpZighdSl0aHJvdyBuZXcgTyhSLlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IGZpbmQgcmVtb3RlIHRyYWNrIGluIHVzZXJcIik7cmV0dXJuIG4mJihsLl90cnVzdF9hdWRpb19zdHJlYW1fYWRkZWRfc3RhdGVfPSEwLGwuX2F1ZGlvX2FkZGVkXz0hMCksaSYmKGwuX3RydXN0X3ZpZGVvX3N0cmVhbV9hZGRlZF9zdGF0ZV89ITAsbC5fdmlkZW9fYWRkZWRfPSEwKSx1fWNhdGNoKG8pe3Rocm93IF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBwcmVzdWIgdXNlciBcIikuY29uY2F0KHQsXCIgZXJyb3JcIiksbyksb31maW5hbGx5e3IoKTt9fWFzeW5jIF9zdWJzY3JpYmVEYXRhQ2hhbm5lbCh0LGUpe3ZhciBuO2lmKE50KGUsXCJjaGFubmVsSWRcIiwwLDY1NTM1LCEwKSwhdGhpcy5fam9pbkluZm8pdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHN1YnNjcmliZSBkYXRhY2hhbm5lbCwgbm90IGpvaW5lZFwiKTtpZih0aGlzLmNvbm5lY3Rpb25TdGF0ZSE9PVwiQ09OTkVDVEVEXCImJnRoaXMuY29ubmVjdGlvblN0YXRlIT09XCJSRUNPTk5FQ1RJTkdcIil0aHJvdyBuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OLFwiQ2FuJ3Qgc3Vic2NyaWJlIGRhdGFjaGFubmVsIGluIFwiLmNvbmNhdCh0aGlzLmNvbm5lY3Rpb25TdGF0ZSxcIiBzdGF0ZVwiKSk7aWYoIXRoaXMuX3VzZXJzLmZpbmQoYT0+YT09PXQpKXRocm93IF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IHN1YnNjcmliZSBcIikuY29uY2F0KHQudWlkLFwiLCB0aGlzIHVzZXIgaXMgbm90IGluIHRoZSBjaGFubmVsXCIpKSxuZXcgTyhSLklOVkFMSURfUkVNT1RFX1VTRVIsXCJ1c2VyIGlzIG5vdCBpbiB0aGUgY2hhbm5lbFwiKTtpZighdC5oYXNBdWRpbyYmIXQuaGFzVmlkZW8mJnQuX2RhdGFDaGFubmVscy5sZW5ndGg9PT0wKXRocm93IF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IHN1YnNjcmliZSBcIikuY29uY2F0KHQudWlkLFwiLCB1c2VyIGlzIG5vdCBwdWJsaXNoZWRcIikpLG5ldyBPKFIuSU5WQUxJRF9SRU1PVEVfVVNFUixcInVzZXIgaXMgbm90IHB1Ymxpc2hlZFwiKTtsZXQgcj0obj10Ll9kYXRhQ2hhbm5lbHMpPT09bnVsbHx8bj09PXZvaWQgMD92b2lkIDA6bi5maW5kKGE9PmEuaWQ9PT1lKTtpZighcil0aHJvdyBfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBzdWJzY3JpYmUgXCIpLmNvbmNhdCh0LnVpZCxcIiB3aXRoIG1lZGlhVHlwZSBkYXRhY2hhbm5lbCwgcmVtb3RlIGRhdGFjaGFubmVsIGlzIG5vdCBwdWJsaXNoZWRcIikpLG5ldyBPKFIuUkVNT1RFX1VTRVJfSVNfTk9UX1BVQkxJU0hFRCk7bGV0IG89YXdhaXQgdGhpcy5fc3Vic2NyaWJlTXV0ZXgubG9jaygpO18uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN1YnNjcmliZSB1c2VyIFwiKS5jb25jYXQodC51aWQsXCIsIG1lZGlhVHlwZTogZGF0YWNoYW5uZWxcIikpO3RyeXtsZXQgYT1hd2FpdCB0aGlzLl9wMnBDaGFubmVsLnN1YnNjcmliZURhdGFDaGFubmVsKHQsW3JdKTtpZihhJiZXKGEpLmNhbGwoYSxyLmlkKSl0cnl7dmFyIHM7aWYodHlwZW9mIHIuX29yaWdpbkRhdGFDaGFubmVsSWQhPVwibnVtYmVyXCIpdGhyb3cgXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3Qgc3Vic2NyaWJlIFwiKS5jb25jYXQodC51aWQsXCIgd2l0aCBtZWRpYVR5cGUgZGF0YWNoYW5uZWwsIGNhbm5vdCBnZXQgUlRDRGF0YWNoYW5uZWxcIikpLG5ldyBPKFIuQ1JFQVRFX0RBVEFDSEFOTkVMX0VSUk9SKTtsZXQgYz17aWQ6ci5pZCxkYXRhY2hhbm5lbElkOnIuX29yaWdpbkRhdGFDaGFubmVsSWQsb3JkZXJlZDpyLm9yZGVyZWQsbWF4UmV0cmFuc21pdHM6ci5tYXhSZXRyYW5zbWl0cyxtZXRhZGF0YToocz1yLm1ldGFkYXRhKSE9PW51bGwmJnMhPT12b2lkIDA/czpcIlwifTthd2FpdCB0aGlzLl9nYXRld2F5LnN1YnNjcmliZURhdGFDaGFubmVsKHQudWlkLGMsITApLGF3YWl0IHIuX3dhaXRUaWxsT3BlbigpO31jYXRjaChjKXtpZihjPy5jb2RlIT09Ui5XU19BQk9SVCl0aHJvdyBhd2FpdCB0aGlzLl9wMnBDaGFubmVsLnVuc3Vic2NyaWJlRGF0YUNoYW5uZWwodCxbcl0pLGM7YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC51bnN1YnNjcmliZURhdGFDaGFubmVsKHQsW3JdKSx0aGlzLl9wMnBDaGFubmVsLnNldFBlbmRpbmdSZW1vdGVEYXRhQ2hhbm5lbCh0LHIuaWQpO31yZXR1cm4gXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc3Vic2NyaWJlIHN1Y2Nlc3MgdXNlciBcIikuY29uY2F0KHQudWlkLFwiLCBtZWRpYVR5cGU6IGRhdGFjaGFubmVsXCIpKSxyfWZpbmFsbHl7bygpO319YXN5bmMgX3AycFN1YnNjcmliZSh0LGUsbil7aWYoQ2UoZSxcIm1lZGlhVHlwZVwiLFtcImF1ZGlvXCIsXCJ2aWRlb1wiXSksIXRoaXMuX2pvaW5JbmZvKXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW4ndCBzdWJzY3JpYmUgc3RyZWFtLCBub3Qgam9pbmVkXCIpO2lmKHRoaXMuY29ubmVjdGlvblN0YXRlIT09XCJDT05ORUNURURcIiYmdGhpcy5jb25uZWN0aW9uU3RhdGUhPT1cIlJFQ09OTkVDVElOR1wiKXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW4ndCBzdWJzY3JpYmUgc3RyZWFtIGluIFwiLmNvbmNhdCh0aGlzLmNvbm5lY3Rpb25TdGF0ZSxcIiBzdGF0ZVwiKSk7aWYoIXRoaXMuX3VzZXJzLmZpbmQobz0+bz09PXQpKXtsZXQgbz1uZXcgTyhSLklOVkFMSURfUkVNT1RFX1VTRVIsXCJ1c2VyIGlzIG5vdCBpbiB0aGUgY2hhbm5lbFwiKTt0aHJvdyBfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBzdWJzY3JpYmUgXCIpLmNvbmNhdCh0LnVpZCxcIiwgdGhpcyB1c2VyIGlzIG5vdCBpbiB0aGUgY2hhbm5lbFwiKSksb31pZighdC5oYXNBdWRpbyYmIXQuaGFzVmlkZW8pe2xldCBvPW5ldyBPKFIuSU5WQUxJRF9SRU1PVEVfVVNFUixcInVzZXIgaXMgbm90IHB1Ymxpc2hlZFwiKTt0aHJvdyBfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBzdWJzY3JpYmUgXCIpLmNvbmNhdCh0LnVpZCxcIiwgdXNlciBpcyBub3QgcHVibGlzaGVkXCIpKSxvfWlmKCFuJiYoZT09PVwiYXVkaW9cIiYmIXQuaGFzQXVkaW98fGU9PT1cInZpZGVvXCImJiF0Lmhhc1ZpZGVvKSl7bGV0IG89bmV3IE8oUi5SRU1PVEVfVVNFUl9JU19OT1RfUFVCTElTSEVEKTt0aHJvdyBfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBzdWJzY3JpYmUgXCIpLmNvbmNhdCh0LnVpZCxcIiB3aXRoIG1lZGlhVHlwZSBcIikuY29uY2F0KGUsXCIsIHJlbW90ZSB0cmFjayBpcyBub3QgcHVibGlzaGVkXCIpKSxvfWxldCByPWF3YWl0IHRoaXMuX3N1YnNjcmliZU11dGV4LmxvY2soKTtfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzdWJzY3JpYmUgdXNlciBcIikuY29uY2F0KHQudWlkLFwiLCBtZWRpYVR5cGU6IFwiKS5jb25jYXQoZSkpO3RyeXtpZihhd2FpdCB0aGlzLl9wMnBDaGFubmVsLmhhc1JlbW90ZU1lZGlhV2l0aExvY2sodCxlKSlhd2FpdCB0aGlzLl9wMnBDaGFubmVsLnVubXV0ZVJlbW90ZSh0LGUpO2Vsc2UgdHJ5e2xldCBzPWU9PT1cImF1ZGlvXCI/dC5fYXVkaW9TU1JDOnQuX3ZpZGVvU1NSQyxhPWU9PT1cImF1ZGlvXCI/dC5fYXVkaW9NaWQ6dC5fdmlkZW9NaWQ7dGhpcy5zdG9yZS5zdWJzY3JpYmUodC51aWQsZSxEYXRlLm5vdygpKSx0aGlzLl9wMnBDaGFubmVsIGluc3RhbmNlb2YgQW4mJmF3YWl0IHRoaXMuX3AycENoYW5uZWwuc3Vic2NyaWJlKHQsZSxzLGEpO31jYXRjaChzKXt0aHJvdyBzfV8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN1YnNjcmliZSBzdWNjZXNzIHVzZXIgXCIpLmNvbmNhdCh0LnVpZCxcIiwgbWVkaWFUeXBlOiBcIikuY29uY2F0KGUpKSx0aGlzLl9kZWZhdWx0U3RyZWFtRmFsbGJhY2tUeXBlJiZ0aGlzLnNldFN0cmVhbUZhbGxiYWNrT3B0aW9uKHQudWlkLHRoaXMuX2RlZmF1bHRTdHJlYW1GYWxsYmFja1R5cGUpLmNhdGNoKHM9PntfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBhdXRvIHNldCBmYWxsYmFjayBmYWlsZWRcIikscyk7fSk7bGV0IG89ZT09PVwiYXVkaW9cIj90Ll9hdWRpb1RyYWNrOnQuX3ZpZGVvVHJhY2s7aWYoIW8pdGhyb3cgbmV3IE8oUi5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBmaW5kIHJlbW90ZSB0cmFjayBpbiB1c2VyIG9iamVjdFwiKTtyZXR1cm4gb31jYXRjaChvKXt0aHJvdyBfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc3Vic2NyaWJlIHVzZXIgXCIpLmNvbmNhdCh0LnVpZCxcIiBlcnJvclwiKSxvKSxvfWZpbmFsbHl7cigpO319YXN5bmMgX3N1YnNjcmliZSh0LGUsbil7aWYodGhpcy5fcDJwQ2hhbm5lbCBpbnN0YW5jZW9mIEFuKXJldHVybiB0aGlzLl9wMnBTdWJzY3JpYmUodCxlKTtpZihDZShlLFwibWVkaWFUeXBlXCIsW1wiYXVkaW9cIixcInZpZGVvXCJdKSwhdGhpcy5fam9pbkluZm8pdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHN1YnNjcmliZSBzdHJlYW0sIG5vdCBqb2luZWRcIik7aWYodGhpcy5jb25uZWN0aW9uU3RhdGUhPT1cIkNPTk5FQ1RFRFwiJiZ0aGlzLmNvbm5lY3Rpb25TdGF0ZSE9PVwiUkVDT05ORUNUSU5HXCIpdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHN1YnNjcmliZSBzdHJlYW0gaW4gXCIuY29uY2F0KHRoaXMuY29ubmVjdGlvblN0YXRlLFwiIHN0YXRlXCIpKTtpZighdGhpcy5fdXNlcnMuZmluZChkPT5kPT09dCkpe2xldCBkPW5ldyBPKFIuSU5WQUxJRF9SRU1PVEVfVVNFUixcInVzZXIgaXMgbm90IGluIHRoZSBjaGFubmVsXCIpO3Rocm93IF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IHN1YnNjcmliZSBcIikuY29uY2F0KHQudWlkLFwiLCB0aGlzIHVzZXIgaXMgbm90IGluIHRoZSBjaGFubmVsXCIpKSxkfWlmKCF0Lmhhc0F1ZGlvJiYhdC5oYXNWaWRlbyl7bGV0IGQ9bmV3IE8oUi5JTlZBTElEX1JFTU9URV9VU0VSLFwidXNlciBpcyBub3QgcHVibGlzaGVkXCIpO3Rocm93IF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IHN1YnNjcmliZSBcIikuY29uY2F0KHQudWlkLFwiLCB1c2VyIGlzIG5vdCBwdWJsaXNoZWRcIikpLGR9aWYoIShufHwoZSE9PVwiYXVkaW9cInx8dC5oYXNBdWRpbyYmdC5fYXVkaW9TU1JDIT09dm9pZCAwKSYmKGUhPT1cInZpZGVvXCJ8fHQuaGFzVmlkZW8mJnQuX3ZpZGVvU1NSQyE9PXZvaWQgMCkpKXtsZXQgZD1uZXcgTyhSLlJFTU9URV9VU0VSX0lTX05PVF9QVUJMSVNIRUQpO3Rocm93IF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IHN1YnNjcmliZSBcIikuY29uY2F0KHQudWlkLFwiIHdpdGggbWVkaWFUeXBlIFwiKS5jb25jYXQoZSxcIiwgcmVtb3RlIHRyYWNrIGlzIG5vdCBwdWJsaXNoZWRcIikpLGR9bGV0IHI9ZT09PVwiYXVkaW9cIj90Ll9hdWRpb1NTUkM6dC5fdmlkZW9TU1JDLG89ZT09PVwiYXVkaW9cIj90Ll9hdWRpb09ydGM6dC5fdmlkZW9PcnRjLHM9ZT09PVwidmlkZW9cIj90Ll9ydHhTc3JjSWQ6dm9pZCAwLGE9e3N0cmVhbV90eXBlOmU9PT1cImF1ZGlvXCI/US5BVURJTzpRLlZJREVPLHNzcmNJZDpyfSxjPWF3YWl0IHRoaXMuX3N1YnNjcmliZU11dGV4LmxvY2soKTtfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzdWJzY3JpYmUgdXNlciBcIikuY29uY2F0KHQudWlkLFwiLCBtZWRpYVR5cGU6IFwiKS5jb25jYXQoZSkpO3RyeXtpZihhd2FpdCB0aGlzLl9wMnBDaGFubmVsLmhhc1JlbW90ZU1lZGlhV2l0aExvY2sodCxlKSlhd2FpdCB0aGlzLl9wMnBDaGFubmVsLnVubXV0ZVJlbW90ZSh0LGUpO2Vsc2UgdHJ5e2xldCBsPWU9PT1cImF1ZGlvXCI/dC5fYXVkaW9TU1JDOnQuX3ZpZGVvU1NSQztsIT09dm9pZCAwJiZsIT09ciYmKHI9bCxvPWU9PT1cImF1ZGlvXCI/dC5fYXVkaW9PcnRjOnQuX3ZpZGVvT3J0YyxzPWU9PT1cInZpZGVvXCI/dC5fcnR4U3NyY0lkOnZvaWQgMCxhPXtzdHJlYW1fdHlwZTplPT09XCJhdWRpb1wiP1EuQVVESU86US5WSURFTyxzc3JjSWQ6cn0pLHFlLm1hcmtTdWJzY3JpYmVTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLHIpLHRoaXMuc3RvcmUuc3Vic2NyaWJlKHQudWlkLGUsRGF0ZS5ub3coKSksYXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5zdWJzY3JpYmUodCxlLHIscyxvKTt0cnl7dGhpcy5fcDJwQ2hhbm5lbC5pc1ByZVN1YlNjcmliZShyKXx8YXdhaXQgdGhpcy5fZ2F0ZXdheS5zdWJzY3JpYmUodC51aWQsYSwhMCk7fWNhdGNoKHUpe2lmKHU/LmNvZGUhPT1SLldTX0FCT1JUKXRocm93IGF3YWl0IHRoaXMuX3AycENoYW5uZWwudW5zdWJzY3JpYmUodCxlKSx1O2F3YWl0IHRoaXMuX3AycENoYW5uZWwudW5zdWJzY3JpYmUodCxlLCEwKSx0aGlzLl9wMnBDaGFubmVsLnNldFBlbmRpbmdSZW1vdGVNZWRpYSh0LGUpO310aGlzLnN0b3JlLnN1YnNjcmliZSh0LnVpZCxlLHZvaWQgMCxEYXRlLm5vdygpKSx0aGlzLl9wMnBDaGFubmVsLnJlcG9ydFN1YnNjcmliZUV2ZW50KCEwLG51bGwsdCxlKTt9Y2F0Y2gobCl7dGhyb3cgdGhpcy5fcDJwQ2hhbm5lbC5yZXBvcnRTdWJzY3JpYmVFdmVudCghMSxsPy5jb2RlLHQsZSksbH1fLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzdWJzY3JpYmUgc3VjY2VzcyB1c2VyIFwiKS5jb25jYXQodC51aWQsXCIsIG1lZGlhVHlwZTogXCIpLmNvbmNhdChlKSksdGhpcy5fZGVmYXVsdFN0cmVhbUZhbGxiYWNrVHlwZSYmdGhpcy5zZXRTdHJlYW1GYWxsYmFja09wdGlvbih0LnVpZCx0aGlzLl9kZWZhdWx0U3RyZWFtRmFsbGJhY2tUeXBlKS5jYXRjaChsPT57Xy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gYXV0byBzZXQgZmFsbGJhY2sgZmFpbGVkXCIpLGwpO30pO2xldCBkPWU9PT1cImF1ZGlvXCI/dC5fYXVkaW9UcmFjazp0Ll92aWRlb1RyYWNrO2lmKCFkKXRocm93IG5ldyBPKFIuVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZmluZCByZW1vdGUgdHJhY2sgaW4gdXNlciBvYmplY3RcIik7cmV0dXJuIGR9Y2F0Y2goZCl7dGhyb3cgXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN1YnNjcmliZSB1c2VyIFwiKS5jb25jYXQodC51aWQsXCIgZXJyb3JcIiksZCksZH1maW5hbGx5e2MoKTt9fWFzeW5jIG1hc3NTdWJzY3JpYmUodCl7aWYoYnIodCxcInN1YnNjcmliZUxpc3RcIiksIXRoaXMuX2pvaW5JbmZvKXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW4ndCBzdWJzY3JpYmUgc3RyZWFtLCBub3Qgam9pbmVkXCIpO2lmKHRoaXMuY29ubmVjdGlvblN0YXRlIT09XCJDT05ORUNURURcIiYmdGhpcy5jb25uZWN0aW9uU3RhdGUhPT1cIlJFQ09OTkVDVElOR1wiKXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW4ndCBzdWJzY3JpYmUgc3RyZWFtIGluIFwiLmNvbmNhdCh0aGlzLmNvbm5lY3Rpb25TdGF0ZSxcIiBzdGF0ZVwiKSk7bGV0IGU9RGF0ZS5ub3coKSxuPW5ldyBNYXAsaT1hd2FpdCB0aGlzLl9zdWJzY3JpYmVNdXRleC5sb2NrKCk7Xy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl1zdGFydCBtYXNzU3Vic2NyaWJlIHVzZXIgXCIpLmNvbmNhdCh0Lm1hcChhPT57bGV0e3VzZXI6YyxtZWRpYVR5cGU6ZH09YTtyZXR1cm4gXCJ1c2VyOiBcIi5jb25jYXQoYz8udWlkLFwiLCBtZWRpYVR5cGU6IFwiKS5jb25jYXQoZCl9KS5qb2luKFwiOyBcIikpKTtsZXQgcj0odD1bLi4udF0pLm1hcChhPT57bGV0e3VzZXI6YyxtZWRpYVR5cGU6ZH09YTtyZXR1cm4ge3VzZXI6YyxtZWRpYVR5cGU6ZH19KSxvPWF3YWl0IHRoaXMuX3AycENoYW5uZWwuZ2xvYmFsTG9jaygpO3RyeXt2YXIgcztmb3IobGV0IGM9dC5sZW5ndGgtMTtjPj0wO2MtLSl7bGV0IGQ9dFtjXSx7dXNlcjpsLG1lZGlhVHlwZTp1fT1kO2lmKENlKHUsXCJtZWRpYVR5cGVcIixbXCJhdWRpb1wiLFwidmlkZW9cIl0pLCFsKXtsZXQgRT1uZXcgTyhSLklOVkFMSURfUEFSQU1TLFwidXNlciBwcm9wZXJ0eSBkb2VzIG5vdCBleGlzdCBpbiBzdWJzY3JpYmVMaXN0IGl0ZW1cIik7dGhyb3cgXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHVzZXIgcHJvcGVydHkgZG9lcyBub3QgZXhpc3QgaW4gc3Vic2NyaWJlTGlzdCBpdGVtXCIpKSxFfWlmKCF0aGlzLl91c2Vycy5maW5kKEU9PkU9PT1sKSl7bGV0IEU9bmV3IE8oUi5JTlZBTElEX1JFTU9URV9VU0VSLFwidXNlciBpcyBub3QgaW4gdGhlIGNoYW5uZWxcIik7Xy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3QgbWFzc1N1YnNjcmliZSBcIikuY29uY2F0KGwudWlkLFwiLCB0aGlzIHVzZXIgaXMgbm90IGluIHRoZSBjaGFubmVsXCIpKSxyW2NdLmVycm9yPUUsdC5zcGxpY2UoYywxKTtjb250aW51ZX1pZih1PT09XCJhdWRpb1wiJiYoIWwuaGFzQXVkaW98fGwuX2F1ZGlvU1NSQz09PXZvaWQgMCl8fHU9PT1cInZpZGVvXCImJighbC5oYXNWaWRlb3x8bC5fdmlkZW9TU1JDPT09dm9pZCAwKSl7bGV0IEU9bmV3IE8oUi5SRU1PVEVfVVNFUl9JU19OT1RfUFVCTElTSEVEKTtfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBzdWJzY3JpYmUgXCIpLmNvbmNhdChsLnVpZCxcIiB3aXRoIG1lZGlhVHlwZSBcIikuY29uY2F0KHUsXCIsIHJlbW90ZSB1c2VyIGlzIG5vdCBwdWJsaXNoZWRcIikpLHJbY10uZXJyb3I9RSx0LnNwbGljZShjLDEpO2NvbnRpbnVlfWxldCBwPXZlLlZpZGVvfHZlLkx3b1ZpZGVvLGc9bi5nZXQobCk7aWYoZyl7aWYodT09PVwidmlkZW9cIj9nJnA6ZyZ2ZS5BdWRpbyl7dC5zcGxpY2UoYywxKSxfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZXBlYXQgbWFzc1N1YnNjcmliZSB1c2VyOlwiKS5jb25jYXQobC51aWQsXCIsIG1lZGlhVHlwZTpcIikuY29uY2F0KHUsXCIgdHdpY2VcIikpO2NvbnRpbnVlfW4uc2V0KGwsZ3wodT09PVwidmlkZW9cIj9wOnZlLkF1ZGlvKSk7fWVsc2Ugbi5zZXQobCx1PT09XCJ2aWRlb1wiP3A6dmUuQXVkaW8pO31mb3IobGV0IGM9dC5sZW5ndGgtMTtjPj0wO2MtLSl7bGV0IGQ9dFtjXSx7dXNlcjpsLG1lZGlhVHlwZTp1fT1kLGg9dmUuVmlkZW98dmUuTHdvVmlkZW87aWYodGhpcy5fcDJwQ2hhbm5lbC5oYXNSZW1vdGVNZWRpYShsLHUpKXthd2FpdCB0aGlzLl9wMnBDaGFubmVsLnVubXV0ZVJlbW90ZU5vTG9jayhsLHUpO2xldCBwPW4uZ2V0KGwpO24uc2V0KGwsdT09PVwidmlkZW9cIj9wXmg6cF52ZS5BdWRpbyksdC5zcGxpY2UoYywxKTt9fXRoaXMuc3RvcmUubWFzc1N1YnNjcmliZSh0Lm1hcChjPT4oe3VzZXJJZDpjLnVzZXIudWlkLHR5cGU6Yy5tZWRpYVR5cGV9KSksZSk7bGV0IGE9amkocz1BcnJheS5mcm9tKG4uZW50cmllcygpKSkuY2FsbChzLChjLGQpPT57bGV0W2wsdV09ZDtpZih1PT09MClyZXR1cm4gYztsZXQgaD17c3RyZWFtX2lkOmwudWlkLHN0cmVhbV90eXBlOnV9O3JldHVybiB1JnZlLkF1ZGlvJiYoaC5hdWRpb19zc3JjPWwuX2F1ZGlvU1NSQyksdSZ2ZS5WaWRlbyYmKGgudmlkZW9fc3NyYz1sLl92aWRlb1NTUkMpLGMucHVzaChoKSxjfSxbXSk7dHJ5e3QubGVuZ3RoPjAmJmF3YWl0IHRoaXMuX3AycENoYW5uZWwubWFzc1N1YnNjcmliZU5vTG9jayh0Lm1hcChkPT57bGV0e3VzZXI6bCxtZWRpYVR5cGU6dX09ZDtyZXR1cm4ge3VzZXI6bCxtZWRpYVR5cGU6dSxzc3JjSWQ6dT09PVEuVklERU8/bC5fdmlkZW9TU1JDOmwuX2F1ZGlvU1NSQyxydHhTc3JjSWQ6dT09PVEuVklERU8/bC5fcnR4U3NyY0lkOnZvaWQgMH19KSk7bGV0IGM9bmV3IE1hcDtpZihhPWEuZmlsdGVyKGQ9PmQudmlkZW9fc3NyYyYmIXRoaXMuX3AycENoYW5uZWwuaXNQcmVTdWJTY3JpYmUoZC52aWRlb19zc3JjKXx8ZC5hdWRpb19zc3JjJiYhdGhpcy5fcDJwQ2hhbm5lbC5pc1ByZVN1YlNjcmliZShkLmF1ZGlvX3NzcmMpfHwhZC52aWRlb19zc3JjJiYhZC5hdWRpb19zc3JjKSxhLmxlbmd0aD4wKXtsZXQgZD1hd2FpdCB0aGlzLl9nYXRld2F5LnN1YnNjcmliZUFsbChhLCEwKTsoZD8udXNlcnN8fFtdKS5mb3JFYWNoKGw9PntsZXR7c3RyZWFtX2lkOnUsdmlkZW9fZXJyb3JfY29kZTpoLGF1ZGlvX2Vycm9yX2NvZGU6cCxlcnJvcl9jb2RlOmd9PWw7KGh8fHB8fGcpJiZjLnNldCh1LHt2aWRlb19lcnJvcl9jb2RlOmgsYXVkaW9fZXJyb3JfY29kZTpwLGVycm9yX2NvZGU6Z30pO30pO31pZihBcnJheS5mcm9tKGMuZW50cmllcygpKS5sZW5ndGg+MCl7bGV0IGQ9W107QXJyYXkuZnJvbShjLmVudHJpZXMoKSkuZm9yRWFjaChsPT57bGV0W3UsaF09bCxwPXRoaXMucmVtb3RlVXNlcnMuZmluZChnPT5nLnVpZD09PXUpO2lmKHApe2xldCBnO2guZXJyb3JfY29kZXx8aC52aWRlb19lcnJvcl9jb2RlJiZoLmF1ZGlvX2Vycm9yX2NvZGU/Zz12b2lkIDA6aC52aWRlb19lcnJvcl9jb2RlP2c9US5WSURFTzpoLmF1ZGlvX2Vycm9yX2NvZGUmJihnPVEuQVVESU8pLGQucHVzaCh7dXNlcjpwLG1lZGlhVHlwZTpnfSk7fX0pLGQubGVuZ3RoPjAmJmF3YWl0IHRoaXMuX3AycENoYW5uZWwubWFzc1Vuc3Vic2NyaWJlTm9Mb2NrKGQpO31mb3IobGV0IGQgb2Ygcil7bGV0IGw9Yy5nZXQoZC51c2VyLnVpZCk7aWYobCl7bGV0IHU9bC5lcnJvcl9jb2RlfHxkLm1lZGlhVHlwZT09PVwiYXVkaW9cIiYmbC5hdWRpb19lcnJvcl9jb2RlfHxkLm1lZGlhVHlwZT09PVwidmlkZW9cIiYmbC52aWRlb19lcnJvcl9jb2RlO2lmKHUpe2xldCBoPU9jKHUpO18uZXJyb3IoXCJ1c2VyOlwiLmNvbmNhdChkLnVzZXIudWlkLFwiIG1lZGlhVHlwZTpcIikuY29uY2F0KGQubWVkaWFUeXBlLFwiIGhhcyBtYXNzU3Vic2NyaWJlIGVycm9yIFwiKS5jb25jYXQoaC5kZXNjKSksZC5lcnJvcj1uZXcgTyhSLlNVQlNDUklCRV9GQUlMRUQsXCJjb2RlIFwiLmNvbmNhdCh1LFwiOiBcIikuY29uY2F0KGguZGVzYykpO319ZC5lcnJvcnx8KGQubWVkaWFUeXBlPT09XCJ2aWRlb1wiP2QudHJhY2s9ZC51c2VyLnZpZGVvVHJhY2s6ZC50cmFjaz1kLnVzZXIuYXVkaW9UcmFjayk7fXJldHVybiB0aGlzLnN0b3JlLm1hc3NTdWJzY3JpYmUoci5maWx0ZXIoZD0+IWQuZXJyb3IpLm1hcChkPT4oe3VzZXJJZDpkLnVzZXIudWlkLHR5cGU6ZC5tZWRpYVR5cGV9KSksdm9pZCAwLERhdGUubm93KCkpLHIuZm9yRWFjaChkPT57dmFyIGw7WC5zdWJzY3JpYmUodGhpcy5zdG9yZS5zZXNzaW9uSWQse3N1Y2M6ISFkLmVycm9yLGVjOigobD1kLmVycm9yKT09PW51bGx8fGw9PT12b2lkIDA/dm9pZCAwOmwuY29kZSl8fG51bGwsdmlkZW86ZC5tZWRpYVR5cGU9PT1RLlZJREVPLGF1ZGlvOmQubWVkaWFUeXBlPT09US5BVURJTyxwZWVyaWQ6ZC51c2VyLnVpZCxzdWJzY3JpYmVSZXF1ZXN0aWQ6ZC5tZWRpYVR5cGU9PT1RLlZJREVPP2QudXNlci5fdmlkZW9TU1JDOmQudXNlci5fYXVkaW9TU1JDLHAycGlkOnRoaXMuc3RvcmUucDJwSWQsZXZlbnRFbGFwc2U6TWF0aC5mbG9vcihwZXJmb3JtYW5jZS5ub3coKS1lKSxwcmVTc3JjOnRoaXMuX3AycENoYW5uZWwuaXNQcmVTdWJTY3JpYmUoZC51c2VyLl92aWRlb1NTUkMpfSwhMCk7fSksXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gbWFzc1N1YnNjcmliZSBzdWNjZXNzIFwiKS5jb25jYXQodC5tYXAoZD0+e2xldHt1c2VyOmwsbWVkaWFUeXBlOnV9PWQ7cmV0dXJuIFwidXNlcjogXCIuY29uY2F0KGw/LnVpZCxcIiwgbWVkaWFUeXBlOiBcIikuY29uY2F0KHUpfSkuam9pbihcIjsgXCIpKSkscn1jYXRjaChjKXt0aHJvdyBhd2FpdCB0aGlzLl9wMnBDaGFubmVsLm1hc3NVbnN1YnNjcmliZU5vTG9jayh0KSxjfX1maW5hbGx5e28oKSxpKCk7fX1hc3luYyB1bnN1YnNjcmliZSh0LGUsbil7aWYoISh0IGluc3RhbmNlb2YgaXIpKXtsZXQgbz10aGlzLnJlbW90ZVVzZXJzLmZpbmQocz0+cy51aWQ9PT10KTtpZighbyl0aHJvdyBuZXcgTyhSLklOVkFMSURfUkVNT1RFX1VTRVIsXCJ1c2VyIGlzIG5vdCBpbiB0aGUgY2hhbm5lbFwiKTt0PW87fWlmKGV8fHRoaXMuc3RvcmUudXNlUDJQKXtpZihlPT09XCJkYXRhY2hhbm5lbFwiKXJldHVybiB0aGlzLl91bnN1YnNjcmliZURhdGFDaGFubmVsKHQsbil9ZWxzZSBhd2FpdCB0aGlzLl91bnN1YnNjcmliZURhdGFDaGFubmVsKHQsbik7aWYoZSYmQ2UoZSxcIm1lZGlhVHlwZVwiLFtcImF1ZGlvXCIsXCJ2aWRlb1wiXSksIXRoaXMuX2pvaW5JbmZvKXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW4ndCB1bnN1YnNjcmliZSBzdHJlYW0sIGhhdmVuJ3Qgam9pbmVkIHlldCFcIik7aWYoIXRoaXMuX3VzZXJzLmZpbmQobz0+bz09PXQpKXtsZXQgbz1uZXcgTyhSLklOVkFMSURfUkVNT1RFX1VTRVIsXCJ1c2VyIGlzIG5vdCBpbiB0aGUgY2hhbm5lbFwiKTt0aHJvdyBfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCB1bnN1YnNjcmliZSBcIikuY29uY2F0KHQudWlkLFwiLCB1c2VyIGlzIG5vdCBpbiB0aGUgY2hhbm5lbFwiKSksb31fLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB1bnN1YnNjcmliZSB1aWQ6IFwiKS5jb25jYXQodC51aWQsXCIsIG1lZGlhVHlwZTogXCIpLmNvbmNhdChlKSk7bGV0IHI9YXdhaXQgdGhpcy5fc3Vic2NyaWJlTXV0ZXgubG9jaygpO3RyeXtpZih0aGlzLl9wMnBDaGFubmVsIGluc3RhbmNlb2YgQW4pYXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC51bnN1YnNjcmliZSh0LGUpO2Vsc2Uge2xldCBvPWF3YWl0IHRoaXMuX3AycENoYW5uZWwudW5zdWJzY3JpYmUodCxlKTtvJiZhd2FpdCB0aGlzLl9nYXRld2F5LnVuc3Vic2NyaWJlKG8sdC51aWQpLGUmJmUhPT1cImF1ZGlvXCJ8fCh0Ll9hdWRpb19wcmVfc3Vic2NyaWJlZD0hMSksZSYmZSE9PVwidmlkZW9cInx8KHQuX3ZpZGVvX3ByZV9zdWJzY3JpYmVkPSExKSx0Ll9pc19wcmVfY3JlYXRlZCYmV2wodGhpcy5fdXNlcnMsdCksXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdW5zdWJzY3JpYmUgc3VjY2VzcyB1aWQ6IFwiKS5jb25jYXQodC51aWQsXCIsIG1lZGlhVHlwZTogXCIpLmNvbmNhdChlKSk7fX1jYXRjaChvKXtpZihvLmNvZGU9PT1SLkRJU0NPTk5FQ1RfUDJQKXJldHVybiB2b2lkIF8ud2FybmluZyhcImRpc2Nvbm5lY3RpbmcgcDJwLCBhYm9ydCB1bnN1YnNjcmliZSByZXF1ZXN0LlwiKTt0aHJvdyBfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdW5zdWJzY3JpYmUgdXNlciBcIikuY29uY2F0KHQudWlkLFwiIGVycm9yXCIpLG8udG9TdHJpbmcoKSksb31maW5hbGx5e3IoKTt9fWFzeW5jIF91bnN1YnNjcmliZURhdGFDaGFubmVsKHQsZSl7aWYoZSYmTnQoZSxcImlkXCIsMCw2NTUzNSwhMCksIXRoaXMuX2pvaW5JbmZvKXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW4ndCB1bnN1YnNjcmliZSBkYXRhY2hhbm5lbCwgaGF2ZW4ndCBqb2luZWQgeWV0IVwiKTtpZighdGhpcy5fdXNlcnMuZmluZChyPT5yPT09dCkpe2xldCByPW5ldyBPKFIuSU5WQUxJRF9SRU1PVEVfVVNFUixcInVzZXIgaXMgbm90IGluIHRoZSBjaGFubmVsXCIpO3Rocm93IF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IHVuc3Vic2NyaWJlIFwiKS5jb25jYXQodC51aWQsXCIsIHVzZXIgaXMgbm90IGluIHRoZSBjaGFubmVsXCIpKSxyfWxldCBpO2lmKHR5cGVvZiBlPT1cIm51bWJlclwiKXtsZXQgcj10Ll9kYXRhQ2hhbm5lbHMuZmluZChvPT5vLmlkPT09ZSk7ciYmKGk9W3JdKTt9ZWxzZSBpPXQuX2RhdGFDaGFubmVscztpZihpPT09dm9pZCAwKXtsZXQgcj1uZXcgTyhSLlJFTU9URV9VU0VSX0lTX05PVF9QVUJMSVNIRUQpO3Rocm93IF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IHVuc3Vic2NyaWJlIFwiKS5jb25jYXQodC51aWQsXCIgd2l0aCBjaGFubmVsSWQgXCIpLmNvbmNhdChlLFwiLCByZW1vdGUgZGF0YWNoYW5uZWwgaXMgbm90IHB1Ymxpc2hlZFwiKSkscn1fLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB1bnN1YnNjcmliZSB1aWQ6IFwiKS5jb25jYXQodC51aWQsXCIsIG1lZGlhVHlwZTogZGF0YWNoYW5uZWwsIGlkczogXCIpLmNvbmNhdChpLm1hcChyPT5yLmlkKSkpO3RyeXtsZXQgcj1hd2FpdCB0aGlzLl9wMnBDaGFubmVsLnVuc3Vic2NyaWJlRGF0YUNoYW5uZWwodCxpKTtyJiZhd2FpdCB0aGlzLl9nYXRld2F5LnVuc3Vic2NyaWJlRGF0YUNoYW5uZWwocix0LnVpZCksXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdW5zdWJzY3JpYmUgZGF0YWNoYW5uZWwgc3VjY2VzcyB1aWQ6IFwiKS5jb25jYXQodC51aWQsXCIsIG1lZGlhVHlwZTogZGF0YWNoYW5uZWwsIGlkczogXCIpLmNvbmNhdChyKSk7fWNhdGNoKHIpe2lmKHIuY29kZT09PVIuRElTQ09OTkVDVF9QMlApcmV0dXJuIHZvaWQgXy53YXJuaW5nKFwiZGlzY29ubmVjdGluZyBwMnAsIGFib3J0IHVuc3Vic2NyaWJlIHJlcXVlc3QuXCIpO3Rocm93IF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB1bnN1YnNjcmliZSB1c2VyIFwiKS5jb25jYXQodC51aWQsXCIgZXJyb3JcIiksci50b1N0cmluZygpKSxyfX1hc3luYyBtYXNzVW5zdWJzY3JpYmUodCl7aWYoYnIodCxcInVuc3Vic2NyaWJlTGlzdFwiKSwhdGhpcy5fam9pbkluZm8pdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHVuc3Vic2NyaWJlQWxsIHN0cmVhbSwgaGF2ZW4ndCBqb2luZWQgeWV0IVwiKTtfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzdGFydCBtYXNzVW5zdWJzY3JpYmUgXCIpLmNvbmNhdCh0Lm1hcChuPT57bGV0e3VzZXI6aSxtZWRpYVR5cGU6cn09bjtyZXR1cm4gXCJ1c2VyOiBcIi5jb25jYXQoaT8udWlkLFwiLCBtZWRpYVR5cGU6IFwiKS5jb25jYXQocixcIjtcIil9KS5qb2luKCkpKSx0PVsuLi50XTtsZXQgZT1uZXcgTWFwO2ZvcihsZXQgbj10Lmxlbmd0aC0xO24+PTA7bi0tKXtsZXR7dXNlcjppLG1lZGlhVHlwZTpyfT10W25dO2lmKCFpKXtsZXQgYT1uZXcgTyhSLklOVkFMSURfUEFSQU1TLFwidXNlciBwcm9wZXJ0eSBkb2VzIG5vdCBleGlzdCBpbiB1bnN1YnNjcmliZUxpc3QgaXRlbVwiKTt0aHJvdyBfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdXNlciBwcm9wZXJ0eSBkb2VzIG5vdCBleGlzdCBpbiB1bnN1YnNjcmliZUxpc3QgaXRlbVwiKSksYX1pZihDZShyLFwibWVkaWFUeXBlXCIsW1widmlkZW9cIixcImF1ZGlvXCIsdm9pZCAwXSksIXRoaXMuX3VzZXJzLmZpbmQoYT0+YT09PWkpKXtfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IHVuc3Vic2NyaWJlIFwiKS5jb25jYXQoaS51aWQsXCIsIHVzZXIgaXMgbm90IGluIHRoZSBjaGFubmVsXCIpKSx0LnNwbGljZShuLDEpO2NvbnRpbnVlfWxldCBzPXZlLlZpZGVvfHZlLkx3b1ZpZGVvO2lmKGUuaGFzKGkpKXtsZXQgYT1lLmdldChpKSxjO3N3aXRjaChyKXtjYXNlXCJ2aWRlb1wiOmM9YSZzO2JyZWFrO2Nhc2VcImF1ZGlvXCI6Yz1hJnZlLkF1ZGlvO2JyZWFrO2RlZmF1bHQ6Yz1hJih2ZS5BdWRpb3xzKTt9aWYoYyl7Xy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVwZWF0IG1hc3NVbnN1YnNjcmliZSB1c2VyOlwiKS5jb25jYXQoaS51aWQsXCIsbWVkaWFUeXBlOlwiKS5jb25jYXQocixcIiB0d2ljZS5cIikpLHQuc3BsaWNlKG4sMSk7Y29udGludWV9cj9yPT09XCJhdWRpb1wiP2Uuc2V0KGksYXx2ZS5BdWRpbyk6cj09PVwidmlkZW9cIiYmZS5zZXQoaSxhfHMpOmUuc2V0KGksYXx2ZS5BdWRpb3xzKTt9ZWxzZSByP3I9PT1cImF1ZGlvXCI/ZS5zZXQoaSx2ZS5BdWRpbyk6cj09PVwidmlkZW9cIiYmZS5zZXQoaSxzKTplLnNldChpLHZlLkF1ZGlvfHMpO310cnl7bGV0IG49YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5tYXNzVW5zdWJzY3JpYmUodCk7biYmYXdhaXQgdGhpcy5fZ2F0ZXdheS5tYXNzVW5zdWJzY3JpYmUobiksXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gbWFzc1Vuc3Vic2NyaWJlIHN1Y2Nlc3MgXCIpLmNvbmNhdCh0Lm1hcChpPT57bGV0e3VzZXI6cixtZWRpYVR5cGU6b309aTtyZXR1cm4gXCJ1c2VyOiBcIi5jb25jYXQocj8udWlkLFwiLCBtZWRpYVR5cGU6IFwiKS5jb25jYXQobyxcIjtcIil9KS5qb2luKCkpKTt9Y2F0Y2gobil7aWYobi5jb2RlPT09Ui5ESVNDT05ORUNUX1AyUClyZXR1cm4gdm9pZCBfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBkaXNjb25uZWN0aW5nIHAycCwgYWJvcnQgdW5zdWJzY3JpYmUgcmVxdWVzdC5cIikpO3Rocm93IF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBtYXNzVW5zdWJzY3JpYmUgZXJyb3JcIiksbi50b1N0cmluZygpKSxufX1hc3luYyBzZXRMb3dTdHJlYW1QYXJhbWV0ZXIodCl7KChmdW5jdGlvbihuKXtpZighbil0aHJvdyBuZXcgTihSLklOVkFMSURfUEFSQU1TKTt6dChuLndpZHRoKXx8YnAobi53aWR0aCxcInN0cmVhbVBhcmFtZXRlci53aWR0aFwiKSx6dChuLmhlaWdodCl8fGJwKG4uaGVpZ2h0LFwic3RyZWFtUGFyYW1ldGVyLmhlaWdodFwiKSx6dChuLmZyYW1lcmF0ZSl8fGJwKG4uZnJhbWVyYXRlLFwic3RyZWFtUGFyYW1ldGVyLmZyYW1lcmF0ZVwiKSx6dChuLmJpdHJhdGUpfHxOdChuLmJpdHJhdGUsXCJzdHJlYW1QYXJhbWV0ZXIuYml0cmF0ZVwiKTt9KSkodCksKCF0LndpZHRoJiZ0LmhlaWdodHx8dC53aWR0aCYmIXQuaGVpZ2h0KSYmXy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gVGhlIHdpZHRoIGFuZCBoZWlnaHQgcGFyYW1ldGVycyB0YWtlIGVmZmVjdCBvbmx5IHdoZW4gYm90aCBhcmUgc2V0XCIpKSxfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzZXQgbG93IHN0cmVhbSBwYXJhbWV0ZXIgdG9cIiksSlNPTi5zdHJpbmdpZnkodCkpO2xldCBlPXRoaXMuX2NvbmZpZ0Rpc3RyaWJ1dGUuZ2V0TG93U3RyZWFtQ29uZmlnRGlzdHJpYnV0ZSgpO2lmKGUmJmUuYml0cmF0ZSYmdC5iaXRyYXRlJiZlLmJpdHJhdGU8dC5iaXRyYXRlJiYodC5iaXRyYXRlPWUuYml0cmF0ZSksdGhpcy5fbG93U3RyZWFtUGFyYW1ldGVyPXQsdGhpcy5faXNEdWFsU3RyZWFtRW5hYmxlZClyZXR1cm4gdGhpcy5fcDJwQ2hhbm5lbC51cGRhdGVWaWRlb1N0cmVhbVBhcmFtZXRlcih0LFUuTG9jYWxWaWRlb0xvd1RyYWNrKX1hc3luYyBlbmFibGVEdWFsU3RyZWFtKCl7aWYoIWZ0KCkuc3VwcG9ydER1YWxTdHJlYW0pdGhyb3cgWC5zdHJlYW1Td2l0Y2godGhpcy5fc2Vzc2lvbklkLHtsdHM6RGF0ZS5ub3coKSxpc2R1YWw6ITAsc3VjYzohMX0pLG5ldyBPKFIuTk9UX1NVUFBPUlRFRCxcIllvdXIgYnJvd3NlciBpcyBub3Qgc3VwcG9ydCBkdWFsIHN0cmVhbVwiKTtpZih0aGlzLl9pc0R1YWxTdHJlYW1FbmFibGVkKXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJEdWFsIHN0cmVhbSBpcyBhbHJlYWR5IGVuYWJsZWRcIik7aWYodGhpcy5fcDJwQ2hhbm5lbC5jYW5QdWJsaXNoTG93U3RyZWFtKCkpdHJ5e2F3YWl0IHRoaXMuX3B1Ymxpc2hMb3dTdHJlYW0oKTt9Y2F0Y2godCl7dGhyb3cgWC5zdHJlYW1Td2l0Y2godGhpcy5fc2Vzc2lvbklkLHtsdHM6RGF0ZS5ub3coKSxpc2R1YWw6ITAsc3VjYzohMX0pLHR9dGhpcy5faXNEdWFsU3RyZWFtRW5hYmxlZD0hMCxYLnN0cmVhbVN3aXRjaCh0aGlzLl9zZXNzaW9uSWQse2x0czpEYXRlLm5vdygpLGlzZHVhbDohMCxzdWNjOiEwfSksXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gZW5hYmxlIGR1YWwgc3RyZWFtXCIpKTt9YXN5bmMgZGlzYWJsZUR1YWxTdHJlYW0oKXtpZih0aGlzLl9pc0R1YWxTdHJlYW1FbmFibGVkKXtpZighdGhpcy5fam9pbkluZm8pdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHB1Ymxpc2ggc3RyZWFtLCBoYXZlbid0IGpvaW5lZCB5ZXQhXCIpO2lmKHRoaXMuX3AycENoYW5uZWwuZ2V0TG9jYWxNZWRpYShVLkxvY2FsVmlkZW9Mb3dUcmFjaykpdHJ5e2xldCB0PWF3YWl0IHRoaXMuX3AycENoYW5uZWwudW5wdWJsaXNoTG93U3RyZWFtKCk7dCYmYXdhaXQgdGhpcy5fZ2F0ZXdheS51bnB1Ymxpc2godCx0aGlzLl9qb2luSW5mby5zdHJpbmdVaWR8fHRoaXMuX2pvaW5JbmZvLnVpZCk7fWNhdGNoKHQpe3Rocm93IFguc3RyZWFtU3dpdGNoKHRoaXMuX3Nlc3Npb25JZCx7bHRzOkRhdGUubm93KCksaXNkdWFsOiExLHN1Y2M6ITF9KSx0fXRoaXMuX2lzRHVhbFN0cmVhbUVuYWJsZWQ9ITEsWC5zdHJlYW1Td2l0Y2godGhpcy5fc2Vzc2lvbklkLHtsdHM6RGF0ZS5ub3coKSxpc2R1YWw6ITEsc3VjYzohMH0pLF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGRpc2FibGUgZHVhbCBzdHJlYW1cIikpO319YXN5bmMgc2V0Q2xpZW50Um9sZSh0LGUpe2lmKGZ1bmN0aW9uKG4pe0NlKG4sXCJyb2xlXCIsW1wiYXVkaWVuY2VcIixcImhvc3RcIl0pO30odCksZSYmZlIoZSksdGhpcy5tb2RlPT09XCJydGNcInx8dGhpcy5tb2RlPT09XCJwMnBcIil0aHJvdyBfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXVwiKS5jb25jYXQodGhpcy5tb2RlLFwiIG1vZGUgY2FuIG5vdCB1c2Ugc2V0Q2xpZW50Um9sZVwiKSksbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcIlwiLmNvbmNhdCh0aGlzLm1vZGUsXCIgbW9kZSBjYW4gbm90IHVzZSBzZXRDbGllbnRSb2xlXCIpKTtpZihlJiZlLmxldmVsJiZ0PT09XCJob3N0XCIpdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcImhvc3QgbW9kZSBjYW4gbm90IHNldCBhdWRpZW5jZSBsYXRlbmN5IGxldmVsXCIpO2lmKHQ9PT1cImF1ZGllbmNlXCImJnRoaXMuX3AycENoYW5uZWwuaGFzTG9jYWxNZWRpYSgpKXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IHNldCBjbGllbnQgcm9sZSB0byBhdWRpZW5jZSB3aGVuIHB1Ymxpc2hpbmcgc3RyZWFtXCIpO2F3YWl0IHRoaXMuX2dhdGV3YXkuc2V0Q2xpZW50Um9sZSh0LGUpLHRoaXMuX2NvbmZpZy5yb2xlPXQsXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0IGNsaWVudCByb2xlIHRvIFwiKS5jb25jYXQodCxcIiwgbGV2ZWw6IFwiKS5jb25jYXQoZSYmZS5sZXZlbCkpO31nZXRSZW1vdGVJbmJvdW5kT2Zmc2V0KCl7dmFyIHQ7bGV0IGU9KHQ9dGhpcy5fcDJwQ2hhbm5lbC5nZXRTdGF0cygpKT09PW51bGx8fHQ9PT12b2lkIDA/dm9pZCAwOnQuYXVkaW9TZW5kWzBdO2lmKCFlfHwhZS50aW1lc3RhbXApcmV0dXJuIDA7bGV0IG49ZS50aW1lc3RhbXAtRGF0ZS5ub3coKTtyZXR1cm4gTWF0aC5hYnMobik+MWUzK2UucnR0TXMrMTAwP3RoaXMubnRwQWxpZ25FcnJvckNvdW50Kz0xOnRoaXMubnRwQWxpZ25FcnJvckNvdW50PTAsdGhpcy5udHBBbGlnbkVycm9yQ291bnQ+PTM/bjowfWdldE50cFdhbGxUaW1lSW5Ncygpe3JldHVybiBkb2N1bWVudC52aXNpYmlsaXR5U3RhdGU9PT1cInZpc2libGVcIiYmKHRoaXMucmVtb3RlSW5ib3VuZE9mZnNldD10aGlzLmdldFJlbW90ZUluYm91bmRPZmZzZXQoKSksdGhpcy5yZW1vdGVJbmJvdW5kT2Zmc2V0K0RhdGUubm93KCkrdGhpcy5fZ2F0ZXdheS5udHBPZmZzZXR9c2V0UHJveHlTZXJ2ZXIodCxlKXtpZihQZSh0LFwicHJveHlTZXJ2ZXJcIiksIWUpe2lmKHRoaXMuY29ubmVjdGlvblN0YXRlIT09XCJESVNDT05ORUNURURcIil0aHJvdyBuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OLFwiU2V0IHByb3h5IHNlcnZlciBiZWZvcmUgam9pbiBjaGFubmVsXCIpO2lmKHRoaXMuX2Nsb3VkUHJveHlTZXJ2ZXJNb2RlIT09XCJkaXNhYmxlZFwifHx0aGlzLl91c2VMb2NhbEFjY2Vzc1BvaW50KXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJZb3UgaGF2ZSBhbHJlYWR5IHNldCB0aGUgcHJveHlcIil9dGhpcy5fcHJveHlTZXJ2ZXI9dCxYLnNldFByb3h5U2VydmVyKHRoaXMuX3Byb3h5U2VydmVyKSxfLnNldFByb3h5U2VydmVyKHRoaXMuX3Byb3h5U2VydmVyKSxfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBTZXQgcHJveHkgc2VydmVyIFwiKS5jb25jYXQoZT9cImJ5IGluaXRpYWxpemUgY2FsbFwiOlwiXCIsXCIgc3VjY2Vzcy5cIikpO31zZXRUdXJuU2VydmVyKHQsZSl7aWYoQXJyYXkuaXNBcnJheSh0KXx8KHQ9W3RdKSwhZSl7aWYodGhpcy5jb25uZWN0aW9uU3RhdGUhPT1cIkRJU0NPTk5FQ1RFRFwiKXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJTZXQgdHVybiBzZXJ2ZXIgYmVmb3JlIGpvaW4gY2hhbm5lbFwiKTtpZih0aGlzLl9jbG91ZFByb3h5U2VydmVyTW9kZSE9PVwiZGlzYWJsZWRcInx8dGhpcy5fdXNlTG9jYWxBY2Nlc3NQb2ludCl0aHJvdyBuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OLFwiWW91IGhhdmUgYWxyZWFkeSBzZXQgdGhlIHByb3h5XCIpfWlmKFl1KHQpKXJldHVybiB0aGlzLl90dXJuU2VydmVyPXtzZXJ2ZXJzOnQsbW9kZTpcIm9yaWdpbmFsLW1hbnVhbFwifSx2b2lkIF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIFNldCBvcmlnaW5hbCB0dXJuc2VydmVyIFwiKS5jb25jYXQoZT9cImJ5IGluaXRpYWxpemUgY2FsbFwiOlwiXCIsXCIgc3VjY2VzczogXCIpLmNvbmNhdCh0Lm1hcChuPT5uLnVybHMpLmpvaW4oXCIsXCIpLFwiLlwiKSk7dC5mb3JFYWNoKG49PnZPKG4pKSx0aGlzLl90dXJuU2VydmVyPXtzZXJ2ZXJzOnQsbW9kZTpcIm1hbnVhbFwifSxfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBTZXQgdHVybnNlcnZlciBcIikuY29uY2F0KGU/XCJieSBpbml0aWFsaXplIGNhbGxcIjpcIlwiLFwiIHN1Y2Nlc3MuXCIpKTt9c2V0TGljZW5zZSh0KXtpZih0aGlzLmNvbm5lY3Rpb25TdGF0ZSE9PVwiRElTQ09OTkVDVEVEXCIpdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcInlvdSBzaG91bGQgc2V0IGxpY2Vuc2UgYmVmb3JlIGpvaW4gY2hhbm5lbFwiKTtpZihQZSh0LFwibGljZW5zZVwiLDMyLDMyKSwhL15bQS1aYS16XFxkXSskLy50ZXN0KHQpKXRocm93IG5ldyBPKFIuSU5WQUxJRF9QQVJBTVMsXCJsaWNlbnNlIHNob3VsZCBvbmx5IGNvbnRhaW5zIGNoYXJhY3RlcnMgZnJvbSBBLVogYS16IDAtOVwiKTt0aGlzLl9saWNlbnNlPXQsXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0IGxpY2Vuc2Ugc3VjY2Vzc1wiKSx0KTt9c3RhcnRQcm94eVNlcnZlcih0KXtpZih0aGlzLmNvbm5lY3Rpb25TdGF0ZSE9PVwiRElTQ09OTkVDVEVEXCIpdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcIlN0YXJ0IHByb3h5IHNlcnZlciBiZWZvcmUgam9pbiBjaGFubmVsXCIpO2lmKHRoaXMuX3Byb3h5U2VydmVyfHx0aGlzLl90dXJuU2VydmVyLm1vZGU9PT1cIm1hbnVhbFwifHx0aGlzLl91c2VMb2NhbEFjY2Vzc1BvaW50KXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJZb3UgaGF2ZSBhbHJlYWR5IHNldCB0aGUgcHJveHlcIik7bGV0IGU9WzMsNCw1XSxuO3N3aXRjaCh0PT09dm9pZCAwJiYodD0zKSx0KXtjYXNlIDE6Y2FzZSAyOnRocm93IG5ldyBPKFIuTk9UX1NVUFBPUlRFRCxcInByb3h5IG1vZGUgMS8yIGhhcyBiZWVuIGRlcHJlY2F0ZWQgYW5kIG5vdCBzdXBwb3J0ZWQuXCIpO2Nhc2UgMzpuPVwicHJveHkzXCI7YnJlYWs7Y2FzZSA0Om49XCJwcm94eTRcIjticmVhaztjYXNlIDU6bj1cInByb3h5NVwiO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IE8oUi5JTlZBTElEX1BBUkFNUyxcInByb3h5IHNlcnZlciBtb2RlIG11c3QgYmUgXCIuY29uY2F0KGUuam9pbihcInxcIikpKX10aGlzLl9jbG91ZFByb3h5U2VydmVyTW9kZT1uLHRoaXMuc3RvcmUuY2xvdWRQcm94eVNlcnZlck1vZGU9bixfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzZXQgY2xvdWQgcHJveHkgc2VydmVyIG1vZGUgdG9cIiksdGhpcy5fY2xvdWRQcm94eVNlcnZlck1vZGUpO31zdG9wUHJveHlTZXJ2ZXIoKXtpZih0aGlzLmNvbm5lY3Rpb25TdGF0ZSE9PVwiRElTQ09OTkVDVEVEXCIpdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcIlN0b3AgcHJveHkgc2VydmVyIGFmdGVyIGxlYXZlIGNoYW5uZWxcIik7WC5zZXRQcm94eVNlcnZlcigpLF8uc2V0UHJveHlTZXJ2ZXIoKSx0aGlzLl9jbG91ZFByb3h5U2VydmVyTW9kZT1cImRpc2FibGVkXCIsdGhpcy5zdG9yZS5jbG91ZFByb3h5U2VydmVyTW9kZT1cImRpc2FibGVkXCIsXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0IGNsb3VkIHByb3h5IHNlcnZlciBtb2RlIHRvXCIpLHRoaXMuX2Nsb3VkUHJveHlTZXJ2ZXJNb2RlKSx0aGlzLl9wcm94eVNlcnZlcj12b2lkIDAsdGhpcy5fdHVyblNlcnZlcj17bW9kZTpcImF1dG9cIixzZXJ2ZXJzOltdfTt9c2V0TG9jYWxBY2Nlc3NQb2ludHNWMih0KXtpZighdC5hY2Nlc3NQb2ludHMpdGhyb3cgbmV3IE8oUi5JTlZBTElEX1BBUkFNUyxcImFjY2Vzc1BvaW50cyBpcyByZXF1aXJlZC5cIik7YnIodC5hY2Nlc3NQb2ludHMuc2VydmVyTGlzdCxcImFjY2Vzc1BvaW50cy5zZXJ2ZXJMaXN0XCIpLFBlKHQuYWNjZXNzUG9pbnRzLmRvbWFpbixcImFjY2Vzc1BvaW50cy5kb21haW5cIik7bGV0IGU9KGgscCk9PntOdChoLHAsMCw2NTUzNSwhMCk7fSxuPTQ0MztpZih0LmFjY2Vzc1BvaW50cy5wb3J0JiYoZSh0LmFjY2Vzc1BvaW50cy5wb3J0LFwiYWNjZXNzUG9pbnRzLnBvcnRcIiksbj10LmFjY2Vzc1BvaW50cy5wb3J0KSx0aGlzLl9wcm94eVNlcnZlcnx8dGhpcy5fY2xvdWRQcm94eVNlcnZlck1vZGUhPT1cImRpc2FibGVkXCIpdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcInNldCBsb2NhbCBhY2Nlc3MgcG9pbnQgZmFpbGVkLCBZb3UgaGF2ZSBhbHJlYWR5IHNldCB0aGUgY2xvdWQgcHJveHlcIik7dihcIkNMT1NFX0FGQl9GT1JfTE9DQUxfQVBcIikmJihPdChcIkpPSU5fV0lUSF9GQUxMQkFDS19TSUdOQUxfUFJPWFlcIiwhMSksT3QoXCJKT0lOX1dJVEhfRkFMTEJBQ0tfTUVESUFfUFJPWFlcIiwhMSkpO2xldCBpPS9eKChcXGR7MSwyfXwxXFxkXFxkfDJbMC00XVxcZHwyNVswLTVdKVxcLil7M30oXFxkezEsMn18MVxcZFxcZHwyWzAtNF1cXGR8MjVbMC01XSkkLyxyPXQuYWNjZXNzUG9pbnRzLmRvbWFpbixvPXQuYWNjZXNzUG9pbnRzLnNlcnZlckxpc3QubWFwKGg9PmkudGVzdChoKT9cIlwiLmNvbmNhdChoLnJlcGxhY2UoL1xcLi9nLFwiLVwiKSxcIi5cIikuY29uY2F0KHIpOmgpLHM9by5tYXAoaD0+XCJcIi5jb25jYXQoaCxcIjpcIikuY29uY2F0KG4pKTt0aGlzLl91c2VMb2NhbEFjY2Vzc1BvaW50PSEwLHRoaXMuX3NldExvY2FsQVBWZXJzaW9uPTIsT3QoXCJXRUJDU19ET01BSU5cIixzKSxPdChcIldFQkNTX0RPTUFJTl9CQUNLVVBfTElTVFwiLHMpLE90KFwiR0FURVdBWV9ET01BSU5TXCIsW3JdKSx0LnJlcG9ydCYmdC5yZXBvcnQuaG9zdG5hbWUmJkFycmF5LmlzQXJyYXkodC5yZXBvcnQuaG9zdG5hbWUpJiZ0LnJlcG9ydC5ob3N0bmFtZS5sZW5ndGg/KGJyKHQucmVwb3J0Lmhvc3RuYW1lLFwicmVwb3J0Lmhvc3RuYW1lXCIpLE90KFwiRVZFTlRfUkVQT1JUX0RPTUFJTlwiLHQucmVwb3J0Lmhvc3RuYW1lWzBdKSxPdChcIkVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOXCIsdC5yZXBvcnQuaG9zdG5hbWVbMV18fHQucmVwb3J0Lmhvc3RuYW1lWzBdKSk6KE90KFwiRVZFTlRfUkVQT1JUX0RPTUFJTlwiLG9bMF0pLE90KFwiRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU5cIixvWzFdfHxvWzBdKSk7bGV0IGE9NjQ0Mzt0LnJlcG9ydCYmdC5yZXBvcnQucG9ydCYmKGUodC5yZXBvcnQucG9ydCxcInJlcG9ydC5wb3J0XCIpLGE9dC5yZXBvcnQucG9ydCksT3QoXCJTVEFUU19DT0xMRUNUT1JfUE9SVFwiLGEpLHQucmVwb3J0P090KFwiRU5BQkxFX0VWRU5UX1JFUE9SVFwiLCEwKTpPdChcIkVOQUJMRV9FVkVOVF9SRVBPUlRcIiwhMSk7bGV0IGM9XCJcIjt0LmxvZyYmdC5sb2cuaG9zdG5hbWUmJkFycmF5LmlzQXJyYXkodC5sb2cuaG9zdG5hbWUpJiZ0LmxvZy5ob3N0bmFtZS5sZW5ndGg/KGJyKHQubG9nLmhvc3RuYW1lLFwibG9nLmhvc3RuYW1lXCIpLGM9dC5sb2cuaG9zdG5hbWVbMF0pOmM9b1swXTtsZXQgZD02NDQ0O3QubG9nJiZ0LmxvZy5wb3J0JiYoZSh0LmxvZy5wb3J0LFwibG9nLnBvcnRcIiksZD10LmxvZy5wb3J0KSxPdChcIkxPR19VUExPQURfU0VSVkVSXCIsXCJcIi5jb25jYXQoYyxcIjpcIikuY29uY2F0KGQpKTtsZXQgbD1bXTt0LmNkcyYmdC5jZHMuaG9zdG5hbWUmJkFycmF5LmlzQXJyYXkodC5jZHMuaG9zdG5hbWUpJiZ0LmNkcy5ob3N0bmFtZS5sZW5ndGg/KGJyKHQuY2RzLmhvc3RuYW1lLFwiY2RzLmhvc3RuYW1lXCIpLGw9dC5jZHMuaG9zdG5hbWUpOmw9bztsZXQgdT00NDM7dC5jZHMmJnQuY2RzLnBvcnQmJihlKHQuY2RzLnBvcnQsXCJjZHMucG9ydFwiKSx1PXQuY2RzLnBvcnQpLE90KFwiQ0RTX0FQXCIsbC5tYXAoaD0+XCJcIi5jb25jYXQoaCxcIjpcIikuY29uY2F0KHUpKSksdC5jZHM/T3QoXCJFTkFCTEVfQ09ORklHX0RJU1RSSUJVVEVcIiwhMCk6T3QoXCJFTkFCTEVfQ09ORklHX0RJU1RSSUJVVEVcIiwhMSksXy5pbmZvKFwic2V0IGxvY2FsIGFjY2VzcyBwb2ludCB2MiBzdWNjZXNzXCIpO31zZXRMb2NhbEFjY2Vzc1BvaW50cyh0LGUpe2lmKGJyKHQsXCJzZXJ2ZXJMaXN0XCIpLFBlKGUsXCJkb21haW5cIiksdGhpcy5fcHJveHlTZXJ2ZXJ8fHRoaXMuX2Nsb3VkUHJveHlTZXJ2ZXJNb2RlIT09XCJkaXNhYmxlZFwiKXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJzZXQgbG9jYWwgYWNjZXNzIHBvaW50IGZhaWxlZCwgWW91IGhhdmUgYWxyZWFkeSBzZXQgdGhlIGNsb3VkIHByb3h5XCIpO2xldCBuPS9eKFxcZHsxLDJ9fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pXFwuKFxcZHsxLDJ9fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pXFwuKFxcZHsxLDJ9fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pXFwuKFxcZHsxLDJ9fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pJC87dD10Lm1hcChpPT5uLnRlc3QoaSk/XCJcIi5jb25jYXQoaS5yZXBsYWNlKC9cXC4vZyxcIi1cIiksXCIuXCIpLmNvbmNhdChlKTppKSx0aGlzLl91c2VMb2NhbEFjY2Vzc1BvaW50PSEwLHRoaXMuX3NldExvY2FsQVBWZXJzaW9uPTEsT3QoXCJXRUJDU19ET01BSU5cIix0KSxPdChcIldFQkNTX0RPTUFJTl9CQUNLVVBfTElTVFwiLHQpLE90KFwiR0FURVdBWV9ET01BSU5TXCIsW2VdKSxPdChcIkVWRU5UX1JFUE9SVF9ET01BSU5cIix0WzBdKSxPdChcIkVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOXCIsdFsxXXx8dFswXSksT3QoXCJMT0dfVVBMT0FEX1NFUlZFUlwiLFwiXCIuY29uY2F0KHRbMF0sXCI6NjQ0NFwiKSksXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0IGxvY2FsIGFjY2VzcyBwb2ludCBzdWNjZXNzXCIpKTt9YXN5bmMgc2V0UmVtb3RlRGVmYXVsdFZpZGVvU3RyZWFtVHlwZSh0KXtpZihDZSh0LFwic3RyZWFtVHlwZVwiLFswLDFdKSx0aGlzLl9yZW1vdGVEZWZhdWx0VmlkZW9TdHJlYW1UeXBlPXQsdGhpcy5fam9pbkluZm8pdHJ5e2F3YWl0IHRoaXMuX2dhdGV3YXkuc2V0RGVmYXVsdFJlbW90ZVZpZGVvU3RyZWFtVHlwZSh0KSx0aGlzLl9qb2luSW5mby5kZWZhdWx0VmlkZW9TdHJlYW09dGhpcy5fcmVtb3RlRGVmYXVsdFZpZGVvU3RyZWFtVHlwZTt9Y2F0Y2goZSl7dGhyb3cgXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHNldCBkZWZhdWx0IHJlbW90ZSB2aWRlbyBzdHJlYW0gdHlwZSBlcnJvclwiKSxlLnRvU3RyaW5nKCkpLGV9ZWxzZSBfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gaGF2ZW4ndCBqb2luZWQgeWV0LCBjYWNoZSByZW1vdGVEZWZhdWx0VmlkZW9TdHJlYW1UeXBlIFwiKS5jb25jYXQodCkpO31hc3luYyBzZXRSZW1vdGVWaWRlb1N0cmVhbVR5cGUodCxlKXtDZShlLFwic3RyZWFtVHlwZVwiLFswLDFdKTt0cnl7YXdhaXQgdGhpcy5fZ2F0ZXdheS5zZXRSZW1vdGVWaWRlb1N0cmVhbVR5cGUodCxlKSxzZXRUaW1lb3V0KCgpPT57bGV0IG49dGhpcy5fdXNlcnMuZmluZChpPT5pLnVpZD09PXQpO24mJm4udmlkZW9UcmFjayYmbi52aWRlb1RyYWNrLnVwZGF0ZU1lZGlhU3RyZWFtVHJhY2tSZXNvbHV0aW9uKCk7fSwyZTMpO31jYXRjaChuKXt0aHJvdyBfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0IHJlbW90ZSB2aWRlbyBzdHJlYW0gdHlwZSBlcnJvclwiKSxuLnRvU3RyaW5nKCkpLG59Xy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0IHJlbW90ZSBcIikuY29uY2F0KHQsXCIgdmlkZW8gc3RyZWFtIHR5cGUgdG8gXCIpLmNvbmNhdChlKSksdGhpcy5fcmVtb3RlU3RyZWFtVHlwZUNhY2hlTWFwLnNldCh0LGUpO31hc3luYyBzZXRTdHJlYW1GYWxsYmFja09wdGlvbih0LGUpe0NlKGUsXCJmYWxsYmFja1R5cGVcIixbMCwxLDJdKTt0cnl7YXdhaXQgdGhpcy5fZ2F0ZXdheS5zZXRTdHJlYW1GYWxsYmFja09wdGlvbih0LGUpO31jYXRjaChuKXt0aHJvdyBfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0IHN0cmVhbSBmYWxsYmFjayBvcHRpb25cIiksbi50b1N0cmluZygpKSxufV8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHNldCByZW1vdGUgXCIpLmNvbmNhdCh0LFwiIHN0cmVhbSBmYWxsYmFjayB0eXBlIHRvIFwiKS5jb25jYXQoZSkpLHRoaXMuX3N0cmVhbUZhbGxiYWNrVHlwZUNhY2hlTWFwLnNldCh0LGUpO31zZXRFbmNyeXB0aW9uQ29uZmlnKHQsZSxuLGkpeygoZnVuY3Rpb24obyl7Q2UobyxcImVuY3J5cHRpb25Nb2RlXCIsW1wiYWVzLTEyOC14dHNcIixcImFlcy0yNTYteHRzXCIsXCJhZXMtMTI4LWVjYlwiLFwic200LTEyOC1lY2JcIixcImFlcy0xMjgtZ2NtXCIsXCJhZXMtMjU2LWdjbVwiLFwiYWVzLTEyOC1nY20yXCIsXCJhZXMtMjU2LWdjbTJcIixcIm5vbmVcIl0pO30pKSh0KSxQZShlLFwic2VjcmV0XCIpO2xldCByPVtcImFlcy0xMjgtZ2NtMlwiLFwiYWVzLTI1Ni1nY20yXCJdO2lmKFcocikuY2FsbChyLHQpKXtpZighbnx8IShuIGluc3RhbmNlb2YgVWludDhBcnJheSYmbi5sZW5ndGg9PT0zMikpdGhyb3cgbmV3IE8oUi5JTlZBTElEX1BBUkFNUyxcInNhbHQgbXVzdCBiZSBhbiBVaW50OEFycmF5IGFuZCBleGFjdGx5IGVxdWFsIHRvIDMyIGJ5dGVzXCIpfWVsc2UgaWYobil0aHJvdyBuZXcgTyhSLklOVkFMSURfUEFSQU1TLFwiY3VycmVudCBlbmNyeXB0IG1vZGUgZG9lcyBub3QgbmVlZCBzYWx0XCIpO2lmKGkpe2lmKE5yKGksXCJlbmNyeXB0RGF0YVN0cmVhbVwiKSwhVyhyKS5jYWxsKHIsdCkpdGhyb3cgbmV3IE8oUi5JTlZBTElEX1BBUkFNUyxcImN1cnJlbnQgZW5jcnlwdCBtb2RlIGRvZXMgbm90IHN1cHBvcnQgZGF0YSBzdHJlYW1cIik7dGhpcy5fZW5jcnlwdERhdGFTdHJlYW09ITA7fW5ldyBSZWdFeHAoYF4oPz0uKlthLXpdKSg/PS4qW0EtWl0pKD89LipbMC05XSkoPz0uKlshQCMkJV4mKiwuPD4/Lzo7J1wifHt9XFxcXFtcXFxcXV0pKD89Lns4LH0pYCkudGVzdChlKXx8Xy53YXJuaW5nKGBUaGUgc2VjcmV0IGlzIG5vdCBzdHJvbmc6XG4gICAgICBUaGUgc2VjcmV0IG11c3QgY29udGFpbiBhdCBsZWFzdCAxIGxvd2VyY2FzZSBhbHBoYWJldGljYWwgY2hhcmFjdGVyLFxuICAgICAgVGhlIHNlY3JldCBtdXN0IGNvbnRhaW4gYXQgbGVhc3QgMSB1cHBlcmNhc2UgYWxwaGFiZXRpY2FsIGNoYXJhY3RlcixcbiAgICAgIFRoZSBzZWNyZXQgbXVzdCBjb250YWluIGF0IGxlYXN0IDEgbnVtZXJpYyBjaGFyYWN0ZXIsXG4gICAgICBUaGUgc2VjcmV0IG11c3QgY29udGFpbiBhdCBsZWFzdCBvbmUgc3BlY2lhbCBjaGFyYWN0ZXIsXG4gICAgICBUaGUgc2VjcmV0IG11c3QgYmUgZWlnaHQgY2hhcmFjdGVycyBvciBsb25nZXIuXG4gICAgICBgKSx0aGlzLl9lbmNyeXB0aW9uTW9kZT10LHRoaXMuX2VuY3J5cHRpb25TZWNyZXQ9ZSxuJiYodGhpcy5fZW5jcnlwdGlvblNhbHQ9c28obikpO31hc3luYyByZW5ld1Rva2VuKHQpe2lmKFBlKHQsXCJ0b2tlblwiLDEsMjA0NyksIXRoaXMuX2tleXx8IXRoaXMuX2pvaW5JbmZvKXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJyZW5ld1Rva2VuIHNob3VsZCBub3QgYmUgY2FsbGVkIGJlZm9yZSB1c2VyIGpvaW5cIik7bGV0IGU9dGhpcy5fa2V5O3RoaXMuX2tleT10LHRoaXMuX2pvaW5JbmZvJiYodGhpcy5fam9pbkluZm8udG9rZW49dCk7bGV0IG49YXdhaXQgdGhpcy5fcmVuZXdUb2tlbk11dGV4LmxvY2soKTt0cnl7aWYodihcIlVTRV9ORVdfVE9LRU5cIikpe18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzdGFydCByZW5ldyB0b2tlbiB3aXRoIHRpY2tldCBmcm9tIHVuaWxic1wiKSk7bGV0IGk9YXdhaXQgSkcodGhpcy5fam9pbkluZm8sdGhpcy5fYXhpb3NDYW5jZWxTb3VyY2UudG9rZW4sdGhpcy5fY29uZmlnLmh0dHBSZXRyeUNvbmZpZ3x8RWUpO18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBnZXQgdGlja2V0IGZyb20gdW5pbGJzIHN1Y2Nlc3NcIikpLGF3YWl0IHRoaXMuX2dhdGV3YXkucmVuZXdUb2tlbih7dG9rZW46dCx0aWNrZXQ6aX0pO31lbHNlIF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzdGFydCByZW5ldyB0b2tlbiB3aXRob3V0IHRpY2tldFwiKSksYXdhaXQgdGhpcy5fZ2F0ZXdheS5yZW5ld1Rva2VuKHt0b2tlbjp0fSk7Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlbmV3VG9rZW4gc3VjY2Vzc1wiKSk7fWNhdGNoKGkpe3Rocm93IHRoaXMuX2tleT1lLHRoaXMuX2pvaW5JbmZvLnRva2VuPWUsXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlbmV3VG9rZW4gZmFpbGVkXCIpLGkudG9TdHJpbmcoKSksaX1maW5hbGx5e24oKTt9fWVuYWJsZUF1ZGlvVm9sdW1lSW5kaWNhdG9yKCl7dGhpcy5fYXVkaW9Wb2x1bWVJbmRpY2F0aW9uSW50ZXJ2YWw/Xy53YXJuaW5nKFwieW91IGhhdmUgYWxyZWFkeSBlbmFibGVkIGF1ZGlvIHZvbHVtZSBpbmRpY2F0b3IhXCIpOnRoaXMuX2F1ZGlvVm9sdW1lSW5kaWNhdGlvbkludGVydmFsPXdpbmRvdy5zZXRJbnRlcnZhbCgoKT0+e2xldCB0PXRoaXMuX3AycENoYW5uZWwuZ2V0QXVkaW9MZXZlbHMoKTt0aGlzLnNhZmVFbWl0KHV0LlZPTFVNRV9JTkRJQ0FUT1IsdCk7fSx2KFwiQVVESU9fVk9MVU1FX0lORElDQVRJT05fSU5URVJWQUxcIil8fDJlMyk7fWdldFJUQ1N0YXRzKCl7bGV0IHQ9dGhpcy5fc3RhdHNDb2xsZWN0b3IuZ2V0UlRDU3RhdHMoKSxlPXRoaXMuX2dhdGV3YXkuZ2V0SW5DaGFubmVsSW5mbygpO3JldHVybiB0LkR1cmF0aW9uPU1hdGgucm91bmQoZS5kdXJhdGlvbi8xZTMpLHR9YXN5bmMgc3RhcnRMaXZlU3RyZWFtaW5nKHQsZSl7aWYoIWUpe2lmKHRoaXMuY29kZWMhPT1cImgyNjRcIil0aHJvdyBuZXcgTyhSLkxJVkVfU1RSRUFNSU5HX0lOVkFMSURfUkFXX1NUUkVBTSxcInJhdyBzdHJlYW1pbmcgaXMgb25seSBzdXBwb3J0IGgyNjRcIik7aWYoIXRoaXMuX3AycENoYW5uZWwuaGFzTG9jYWxNZWRpYSgpKXRocm93IG5ldyBPKFIuTElWRV9TVFJFQU1JTkdfSU5WQUxJRF9SQVdfU1RSRUFNLFwiY2FuIG5vdCBmaW5kIHN0cmVhbSB0byByYXcgc3RyZWFtaW5nXCIpfWlmKHRoaXMuX2xpdmVSYXdTdHJlYW1pbmdDbGllbnQmJnRoaXMuX2xpdmVSYXdTdHJlYW1pbmdDbGllbnQuaGFzVXJsKHQpfHx0aGlzLl9saXZlVHJhbnNjb2RlU3RyZWFtaW5nQ2xpZW50JiZ0aGlzLl9saXZlVHJhbnNjb2RlU3RyZWFtaW5nQ2xpZW50Lmhhc1VybCh0KSl0aHJvdyBuZXcgTyhSLkxJVkVfU1RSRUFNSU5HX1RBU0tfQ09ORkxJQ1QpO2xldCBuPWU/ZXIuVFJBTlNDT0RFOmVyLlJBVztyZXR1cm4gdGhpcy5fY3JlYXRlTGl2ZVN0cmVhbWluZ0NsaWVudChuKS5zdGFydExpdmVTdHJlYW1pbmdUYXNrKHQsbil9c2V0TGl2ZVRyYW5zY29kaW5nKHQpe3JldHVybiB0aGlzLl9jcmVhdGVMaXZlU3RyZWFtaW5nQ2xpZW50KGVyLlRSQU5TQ09ERSkuc2V0VHJhbnNjb2RpbmdDb25maWcodCl9YXN5bmMgc3RvcExpdmVTdHJlYW1pbmcodCl7bGV0IGU9W3RoaXMuX2xpdmVSYXdTdHJlYW1pbmdDbGllbnQsdGhpcy5fbGl2ZVRyYW5zY29kZVN0cmVhbWluZ0NsaWVudF0uZmlsdGVyKG49Pm4mJm4uaGFzVXJsKHQpKTtpZighZS5sZW5ndGgpdGhyb3cgbmV3IE8oUi5JTlZBTElEX1BBUkFNUyxcImNhbiBub3QgZmluZCBsaXZlIHN0cmVhbWluZyB1cmwgdG8gc3RvcFwiKTthd2FpdCBqLmFsbChlLm1hcChuPT5uJiZuLnN0b3BMaXZlU3RyZWFtaW5nVGFzayh0KSkpO31hc3luYyBzdGFydENoYW5uZWxNZWRpYVJlbGF5KHQpe1B2KHQpLGF3YWl0IHRoaXMuX2NyZWF0ZUNoYW5uZWxNZWRpYVJlbGF5Q2xpZW50KCkuc3RhcnRDaGFubmVsTWVkaWFSZWxheSh0KTt9YXN5bmMgdXBkYXRlQ2hhbm5lbE1lZGlhUmVsYXkodCl7UHYodCksYXdhaXQgdGhpcy5fY3JlYXRlQ2hhbm5lbE1lZGlhUmVsYXlDbGllbnQoKS51cGRhdGVDaGFubmVsTWVkaWFSZWxheSh0KTt9YXN5bmMgc3RvcENoYW5uZWxNZWRpYVJlbGF5KCl7YXdhaXQgdGhpcy5fY3JlYXRlQ2hhbm5lbE1lZGlhUmVsYXlDbGllbnQoKS5zdG9wQ2hhbm5lbE1lZGlhUmVsYXkoKSx0aGlzLl9zdGF0c0NvbGxlY3Rvci5vblN0YXRzQ2hhbmdlZCYmKHRoaXMuX3N0YXRzQ29sbGVjdG9yLm9uU3RhdHNDaGFuZ2VkPXZvaWQgMCk7fWFzeW5jIHNlbmRTdHJlYW1NZXNzYWdlKHQpe3ZhciBlO2xldCBuPSEoYXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDApfHxhcmd1bWVudHNbMV07aWYoIXRoaXMuX2pvaW5JbmZvKXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IHNlbmQgZGF0YSBzdHJlYW0sIG5vdCBqb2luZWRcIik7aWYoKHR5cGVvZiB0PT1cInN0cmluZ1wifHx0IGluc3RhbmNlb2YgVWludDhBcnJheSkmJih0PXtwYXlsb2FkOnR9KSx0eXBlb2YgdC5wYXlsb2FkPT1cInN0cmluZ1wiKXtsZXQgcj1uZXcgVGV4dEVuY29kZXI7dC5wYXlsb2FkPXIuZW5jb2RlKHQucGF5bG9hZCk7fWxldCBpPSExO2lmKHRoaXMuX2VuY3J5cHREYXRhU3RyZWFtJiZ0aGlzLl9lbmNyeXB0RGF0YVN0cmVhbUl2JiZ0aGlzLl9lbmNyeXB0RGF0YVN0cmVhbUtleSYmd2luZG93LmNyeXB0by5zdWJ0bGUmJlcoZT1bXCJhZXMtMTI4LWdjbTJcIixcImFlcy0yNTYtZ2NtMlwiXSkuY2FsbChlLHRoaXMuX2VuY3J5cHRpb25Nb2RlKSYmKGk9ITAsdC5wYXlsb2FkPWF3YWl0IGFzeW5jIGZ1bmN0aW9uKHIsbyxzKXt2YXIgYTtsZXQgYz1qaShhPUFycmF5LmZyb20ocykpLmNhbGwoYSwoRSxmKT0+RStmLDApLGQ9e3NlcnZlclRzOjAsc2VxOlNCKyssbGVuZ3RoOnMubGVuZ3RoLGNoZWNrU3VtOmN9LGw9bmV3IFVpbnQ4QXJyYXkoSVIoYywyKSksdT1uZXcgQXJyYXlCdWZmZXIodXMpLGg9bmV3IERhdGFWaWV3KHUpO2guc2V0VWludDMyKDAsZC5zZXJ2ZXJUcyksaC5zZXRVaW50MTYoNCxkLnNlcSksaC5zZXRVaW50MTYoNixkLmxlbmd0aCksaC5zZXRVaW50MTYoOCxkLmNoZWNrU3VtKTtsZXQgcD0xNi1zLmxlbmd0aCUxNjtzPVRSKHMsbmV3IFVpbnQ4QXJyYXkocCkpO2xldCBnPWF3YWl0IHdpbmRvdy5jcnlwdG8uc3VidGxlLmVuY3J5cHQoe25hbWU6XCJBRVMtR0NNXCIsaXY6cix0YWdMZW5ndGg6eVIsYWRkaXRpb25hbERhdGE6bH0sbyxzKTtyZXR1cm4gVFIobmV3IFVpbnQ4QXJyYXkodSksbmV3IFVpbnQ4QXJyYXkoZykpfSh0aGlzLl9lbmNyeXB0RGF0YVN0cmVhbUl2LHRoaXMuX2VuY3J5cHREYXRhU3RyZWFtS2V5LHQucGF5bG9hZCkpLG5ldyBCbG9iKFt0LnBheWxvYWRdKS5zaXplPjEwMjQpdGhyb3cgbmV3IE8oUi5JTlZBTElEX1BBUkFNUyxpP1wiZW5jcnlwdGVkIHN0cmVhbSBtZXNzYWdlIG91dCBvZiByYW5nZS5cIjpcInN0cmVhbSBtZXNzYWdlIG91dCBvZiByYW5nZS5cIik7cmV0dXJuIHRoaXMuX2dhdGV3YXkuc2lnbmFsLnJlcXVlc3QoZXQuREFUQV9TVFJFQU0se3BheWxvYWQ6c28odC5wYXlsb2FkKSxzeW5jV2l0aEF1ZGlvOnQuc3luY1dpdGhBdWRpbyxzZW5kVHM6RGF0ZS5ub3coKS1FV30sIW4pfXNlbmRNZXRhZGF0YSh0KXtpZighdGhpcy5fam9pbkluZm8pdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3Qgc2VuZCBtZXRhZGF0YSwgbm90IGpvaW5lZFwiKTtpZihuZXcgQmxvYihbdF0pLnNpemU+MTAyNCl0aHJvdyBuZXcgTyhSLk1FVEFEQVRBX09VVF9PRl9SQU5HRSk7cmV0dXJuIHRoaXMuX2dhdGV3YXkuc2lnbmFsLnJlcXVlc3QoZXQuU0VORF9NRVRBREFUQSx7c2Vzc2lvbl9pZDp0aGlzLl9qb2luSW5mby5zaWQsbWV0YWRhdGE6c28odCl9KX1hc3luYyBzZW5kQ3VzdG9tUmVwb3J0TWVzc2FnZSh0KXtpZihBcnJheS5pc0FycmF5KHQpfHwodD1bdF0pLHQuZm9yRWFjaChSQiksIXRoaXMuX2pvaW5JbmZvKXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IHNlbmQgY3VzdG9tIHJlcG9ydCwgbm90IGpvaW5lZFwiKTthd2FpdCBYLnNlbmRDdXN0b21SZXBvcnRNZXNzYWdlKHRoaXMuX2pvaW5JbmZvLnNpZCx0KTt9Z2V0TG9jYWxBdWRpb1N0YXRzKCl7cmV0dXJuIHRoaXMuX3N0YXRzQ29sbGVjdG9yLmdldExvY2FsQXVkaW9UcmFja1N0YXRzKCl9Z2V0UmVtb3RlQXVkaW9TdGF0cygpe3JldHVybiB0aGlzLl9zdGF0c0NvbGxlY3Rvci5nZXRSZW1vdGVBdWRpb1RyYWNrU3RhdHMoKX1nZXRMb2NhbFZpZGVvU3RhdHMoKXtyZXR1cm4gdGhpcy5fc3RhdHNDb2xsZWN0b3IuZ2V0TG9jYWxWaWRlb1RyYWNrU3RhdHMoKX1nZXRSZW1vdGVWaWRlb1N0YXRzKCl7cmV0dXJuIHRoaXMuX3N0YXRzQ29sbGVjdG9yLmdldFJlbW90ZVZpZGVvVHJhY2tTdGF0cygpfWdldFJlbW90ZU5ldHdvcmtRdWFsaXR5KCl7cmV0dXJuIHRoaXMuX3N0YXRzQ29sbGVjdG9yLmdldFJlbW90ZU5ldHdvcmtRdWFsaXR5U3RhdHMoKX1hc3luYyBwaWNrU1ZDTGF5ZXIodCxlKXtDZShlLnNwYXRpYWxMYXllcixcInNwYXRpYWxMYXllclwiLFswLDEsMiwzXSksQ2UoZS50ZW1wb3JhbExheWVyLFwidGVtcG9yYWxMYXllclwiLFswLDEsMiwzXSk7dHJ5e2F3YWl0IHRoaXMuX2dhdGV3YXkucGlja1NWQ0xheWVyKHQsZSk7fWNhdGNoKG4pe3Rocm93IF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBwaWNrIFNWQyBsYXllciBmYWlsZWRcIiksbi50b1N0cmluZygpKSxufX1hc3luYyBzZXRSVE1Db25maWcodCl7bGV0e2FwUlRNOmU9ITEscnRtRmxhZzpufT10O2lmKE5yKGUsXCJhcFJUTVwiKSxOdChuLFwicnRtRmxhZ1wiLDApLHRoaXMuX3J0bUNvbmZpZy5hcFJUTT1lLHRoaXMuX3J0bUNvbmZpZy5ydG1GbGFnPW4sXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHNldFJUTWNvbmZpZyBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KHQpLFwiIGluIFwiKS5jb25jYXQodGhpcy5jb25uZWN0aW9uU3RhdGUsXCIgc3RhdGVcIikpLCh0aGlzLmNvbm5lY3Rpb25TdGF0ZT09PVwiQ09OTkVDVEVEXCJ8fHRoaXMuY29ubmVjdGlvblN0YXRlPT09XCJSRUNPTk5FQ1RJTkdcIikmJnRoaXMuX2pvaW5JbmZvKXJldHVybiB0aGlzLl9qb2luSW5mby5hcFJUTT1lLHRoaXMuX2pvaW5JbmZvLnJ0bUZsYWc9bix0aGlzLl9nYXRld2F5LnNldFJUTTJGbGFnKG4pfV9yZXNldCgpe2lmKF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZXNldCBjbGllbnRcIikpLHRoaXMuX2F4aW9zQ2FuY2VsU291cmNlLmNhbmNlbCgpLHRoaXMuX2F4aW9zQ2FuY2VsU291cmNlPW1uLkNhbmNlbFRva2VuLnNvdXJjZSgpLHRoaXMuX3N0cmVhbUZhbGxiYWNrVHlwZUNhY2hlTWFwPW5ldyBNYXAsdGhpcy5fcmVtb3RlU3RyZWFtVHlwZUNhY2hlTWFwPW5ldyBNYXAsdGhpcy5fY29uZmlnRGlzdHJpYnV0ZS5zdG9wR2V0Q29uZmlnRGlzdHJpYnV0ZSgpLHRoaXMuX2pvaW5JbmZvJiZiMCh0aGlzLl9qb2luSW5mbyksdGhpcy5fam9pbkluZm89dm9pZCAwLHRoaXMuX3Byb3h5U2VydmVyPXZvaWQgMCx0aGlzLl9kZWZhdWx0U3RyZWFtRmFsbGJhY2tUeXBlPXZvaWQgMCx0aGlzLl9zZXNzaW9uSWQ9bnVsbCx0aGlzLnN0b3JlLnNlc3Npb25JZD1udWxsLHRoaXMuX3N0YXRzQ29sbGVjdG9yLnJlc2V0KCksdGhpcy5fa2V5PXZvaWQgMCx0aGlzLl9hcHBJZD12b2lkIDAsdGhpcy5fdWlkPXZvaWQgMCx0aGlzLnN0b3JlLnVpZD12b2lkIDAsdGhpcy5fY2hhbm5lbE5hbWU9dm9pZCAwLHRoaXMuX2VuY3J5cHRpb25Nb2RlPVwibm9uZVwiLHRoaXMuX2VuY3J5cHRpb25TZWNyZXQ9bnVsbCx0aGlzLl9lbmNyeXB0aW9uU2FsdD1udWxsLHRoaXMuX2VuY3J5cHREYXRhU3RyZWFtS2V5PW51bGwsdGhpcy5fZW5jcnlwdERhdGFTdHJlYW1Jdj1udWxsLHRoaXMuX3BlbmRpbmdQdWJsaXNoZWRVc2Vycz1bXSx0aGlzLl91c2Vycy5mb3JFYWNoKHQ9Pnt0Ll9hdWRpb1RyYWNrJiZ0Ll9hdWRpb1RyYWNrLl9kZXN0cm95KCksdC5fdmlkZW9UcmFjayYmdC5fdmlkZW9UcmFjay5fZGVzdHJveSgpLHQuX2RhdGFDaGFubmVscyYmKHQuX2RhdGFDaGFubmVscy5mb3JFYWNoKGU9PmUuX2Nsb3NlKCkpLHQuX2RhdGFDaGFubmVscy5sZW5ndGg9MCk7fSksdGhpcy5fdXNlcnM9W10sdGhpcy5fYXVkaW9Wb2x1bWVJbmRpY2F0aW9uSW50ZXJ2YWwmJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl9hdWRpb1ZvbHVtZUluZGljYXRpb25JbnRlcnZhbCksdGhpcy5fYXVkaW9Wb2x1bWVJbmRpY2F0aW9uSW50ZXJ2YWw9dm9pZCAwKSx0aGlzLl9jbG91ZFByb3h5U2VydmVyTW9kZT09PVwiZmFsbGJhY2tcIiYmKHRoaXMuX2Nsb3VkUHJveHlTZXJ2ZXJNb2RlPVwiZGlzYWJsZWRcIix0aGlzLnN0b3JlLmNsb3VkUHJveHlTZXJ2ZXJNb2RlPVwiZGlzYWJsZWRcIiksdGhpcy5fcDJwQ2hhbm5lbC5yZXNldCgpLHRoaXMuX3B1Ymxpc2hNdXRleD1uZXcgemUoXCJjbGllbnQtcHVibGlzaFwiKSx0aGlzLl9zdWJzY3JpYmVNdXRleD1uZXcgemUoXCJjbGllbnQtc3Vic2NyaWJlXCIpLHRoaXMuX25ldHdvcmtRdWFsaXR5SW50ZXJ2YWwmJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl9uZXR3b3JrUXVhbGl0eUludGVydmFsKSx0aGlzLl9uZXR3b3JrUXVhbGl0eUludGVydmFsPXZvaWQgMCksdGhpcy5fbGl2ZVJhd1N0cmVhbWluZ0NsaWVudCYmKHRoaXMuX2xpdmVSYXdTdHJlYW1pbmdDbGllbnQudGVybWluYXRlKCksdGhpcy5fbGl2ZVJhd1N0cmVhbWluZ0NsaWVudC5yZW1vdmVBbGxMaXN0ZW5lcnMoKSx0aGlzLl9saXZlUmF3U3RyZWFtaW5nQ2xpZW50PXZvaWQgMCksdGhpcy5fbGl2ZVRyYW5zY29kZVN0cmVhbWluZ0NsaWVudCYmKHRoaXMuX2xpdmVUcmFuc2NvZGVTdHJlYW1pbmdDbGllbnQudGVybWluYXRlKCksdGhpcy5fbGl2ZVRyYW5zY29kZVN0cmVhbWluZ0NsaWVudC5yZW1vdmVBbGxMaXN0ZW5lcnMoKSx0aGlzLl9saXZlVHJhbnNjb2RlU3RyZWFtaW5nQ2xpZW50PXZvaWQgMCksdGhpcy5fY2hhbm5lbE1lZGlhUmVsYXlDbGllbnQmJih0aGlzLl9jaGFubmVsTWVkaWFSZWxheUNsaWVudC5kaXNwb3NlKCksdGhpcy5fY2hhbm5lbE1lZGlhUmVsYXlDbGllbnQ9dm9pZCAwKSx0aGlzLl9pbnNwZWN0KXRyeXt0aGlzLl9pbnNwZWN0LmNsb3NlKCksdGhpcy5faW5zcGVjdD12b2lkIDA7fWNhdGNoe31pZih0aGlzLl9tb2RlcmF0aW9uKXRyeXt0aGlzLnNldEltYWdlTW9kZXJhdGlvbighMSk7fWNhdGNoe319X3N0YXJ0U2Vzc2lvbih0LGUpe3ZhciBuO2xldCBpPXR8fE1zKCk7dD9fLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gbmV3IFNlc3Npb24gXCIpLmNvbmNhdChpKSk6Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlbmV3U2Vzc2lvbiBcIikuY29uY2F0KHRoaXMuX3Nlc3Npb25JZCxcIiA9PiBcIikuY29uY2F0KGkpKTtsZXQgcj10P1wiXCI6dGhpcy5fc2Vzc2lvbklkfHxcIlwiO3RoaXMuX3Nlc3Npb25JZD1pLHRoaXMuc3RvcmUuc2Vzc2lvbklkPWk7bGV0IG89e2x0czpuZXcgRGF0ZSgpLmdldFRpbWUoKSxtb2RlOnRoaXMubW9kZSxidWlsZEZvcm1hdDoyLHN0cmluZ1VpZDplPy5zdHJpbmdVaWR8fCgobj10aGlzLl9qb2luSW5mbyk9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLnN0cmluZ1VpZCksY2hhbm5lbFByb2ZpbGU6dGhpcy5tb2RlPT09XCJsaXZlXCI/MTowLGNoYW5uZWxNb2RlOjAsaXNBQlRlc3RTdWNjZXNzOk51bWJlcih0aGlzLl9jb25maWdEaXN0cmlidXRlLmlzU3VjY2VzcyksbHNpZDpyLGNsaWVudFJvbGU6dGhpcy5yb2xlPT09XCJhdWRpZW5jZVwiPzI6MX07WC5zZXNzaW9uSW5pdCh0aGlzLl9zZXNzaW9uSWQseGkoe2NuYW1lOmUuY2hhbm5lbCxhcHBpZDplLmFwcElkfSxvKSksdGhpcy5fam9pbkluZm8mJih0aGlzLl9qb2luSW5mby5zaWQ9aSksdGhpcy5fZ2F0ZXdheS5qb2luSW5mbyYmKHRoaXMuX2dhdGV3YXkuam9pbkluZm8uc2lkPWkpO31hc3luYyBfcHVibGlzaEhpZ2hTdHJlYW0odCl7aWYoIXRoaXMuX2pvaW5JbmZvfHx0aGlzLl91aWQ9PT12b2lkIDApdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHB1Ymxpc2ggc3RyZWFtLCBoYXZlbid0IGpvaW5lZCB5ZXQhXCIpO2lmKHRoaXMuY29ubmVjdGlvblN0YXRlIT09XCJDT05ORUNURURcIiYmdGhpcy5jb25uZWN0aW9uU3RhdGUhPT1cIlJFQ09OTkVDVElOR1wiKXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IHB1Ymxpc2ggc3RyZWFtIGluIFwiLmNvbmNhdCh0aGlzLmNvbm5lY3Rpb25TdGF0ZSxcIiBzdGF0ZVwiKSk7aWYodGhpcy5fdHVyblNlcnZlci5tb2RlPT09XCJhdXRvXCImJnYoXCJGT1JDRV9UVVJOXCIpJiYhdihcIlRVUk5fRU5BQkxFX1RDUFwiKSYmIXYoXCJUVVJOX0VOQUJMRV9VRFBcIikpdGhyb3cgbmV3IE8oUi5VTkVYUEVDVEVEX0VSUk9SLFwiZm9yY2UgVFVSTiBXaXRoIE5vIFRVUk4gQ29uZmlndXJhdGlvblwiKTtfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcHVibGlzaCBoaWdoIHN0cmVhbVwiKSk7dHJ5e2xldCBuPWF3YWl0IHRoaXMuX3AycENoYW5uZWwucHVibGlzaCh0LHRoaXMuX2lzRHVhbFN0cmVhbUVuYWJsZWQsdGhpcy5fbG93U3RyZWFtUGFyYW1ldGVyKTtpZih0aGlzLl9wMnBDaGFubmVsIGluc3RhbmNlb2YgQW4pe2xldCBpPShhd2FpdCBuLm5leHQoKSkudmFsdWU7aWYoaSl7dHJ5e2F3YWl0IHRoaXMuX2dhdGV3YXkuc2VuZEV4dGVuc2lvbk1lc3NhZ2UoaWUuUFVCTElTSCxpLCEwKTt9Y2F0Y2gocil7dGhyb3cgbi50aHJvdyhyKSxyfWF3YWl0IG4ubmV4dCgpO310aGlzLl9wMnBDaGFubmVsLnJlcG9ydFB1Ymxpc2hFdmVudCghMCxudWxsKTt9ZWxzZSB7bGV0IGk9KGF3YWl0IG4ubmV4dCgpKS52YWx1ZTtpZihpKXt2YXIgZTtsZXQgcjt0cnl7cj1hd2FpdCB0aGlzLl9nYXRld2F5LnB1Ymxpc2godGhpcy5fdWlkLGksITApO31jYXRjaChvKXtpZihvLmNvZGUhPT1SLkRJU0NPTk5FQ1RfUDJQKXRocm93IG4udGhyb3cobyksb31hd2FpdCBuLm5leHQoKChlPXIpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5vcnRjKXx8W10pO310aGlzLl9wMnBDaGFubmVsLnJlcG9ydFB1Ymxpc2hFdmVudCghMCxudWxsKTtmb3IobGV0IHIgb2YgdClyIGluc3RhbmNlb2YgRnQmJnIuX2VuY29kZXJDb25maWcmJnRoaXMuX2dhdGV3YXkuc2V0VmlkZW9Qcm9maWxlKHIuX2VuY29kZXJDb25maWcpLCFyLm11dGVkJiZyLmVuYWJsZWR8fGF3YWl0IHRoaXMuX3AycENoYW5uZWwubXV0ZUxvY2FsVHJhY2socik7fX1jYXRjaChuKXtpZih0aGlzLl9wMnBDaGFubmVsLnJlcG9ydFB1Ymxpc2hFdmVudCghMSxuPy5jb2RlLHQpLG4/LmNvZGU9PT1SLldTX0FCT1JUKXJldHVybjt0aHJvdyBufX1hc3luYyBfcHVibGlzaExvd1N0cmVhbSgpe2lmKCF0aGlzLl9qb2luSW5mb3x8dGhpcy5fdWlkPT09dm9pZCAwKXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW4ndCBwdWJsaXNoIHN0cmVhbSwgaGF2ZW4ndCBqb2luZWQgeWV0IVwiKTtpZih0aGlzLmNvbm5lY3Rpb25TdGF0ZSE9PVwiQ09OTkVDVEVEXCImJnRoaXMuY29ubmVjdGlvblN0YXRlIT09XCJSRUNPTk5FQ1RJTkdcIil0aHJvdyBuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OLFwiY2FuIG5vdCBwdWJsaXNoIHN0cmVhbSBpbiBcIi5jb25jYXQodGhpcy5jb25uZWN0aW9uU3RhdGUsXCIgc3RhdGVcIikpO18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBwdWJsaXNoIGxvdyBzdHJlYW1cIikpO2xldCB0PXRoaXMuX2NvbmZpZ0Rpc3RyaWJ1dGUuZ2V0TG93U3RyZWFtQ29uZmlnRGlzdHJpYnV0ZSgpO3QmJnQuYml0cmF0ZSYmKHRoaXMuX2xvd1N0cmVhbVBhcmFtZXRlcnx8KHRoaXMuX2xvd1N0cmVhbVBhcmFtZXRlcj17d2lkdGg6MTYwLGhlaWdodDoxMjAsZnJhbWVyYXRlOjE1LGJpdHJhdGU6NTB9KSx0aGlzLl9sb3dTdHJlYW1QYXJhbWV0ZXImJnRoaXMuX2xvd1N0cmVhbVBhcmFtZXRlci5iaXRyYXRlJiZ0LmJpdHJhdGU8dGhpcy5fbG93U3RyZWFtUGFyYW1ldGVyLmJpdHJhdGUmJih0aGlzLl9sb3dTdHJlYW1QYXJhbWV0ZXIuYml0cmF0ZT10LmJpdHJhdGUpKTt0cnl7bGV0IG49YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5wdWJsaXNoTG93U3RyZWFtKHRoaXMuX2xvd1N0cmVhbVBhcmFtZXRlciksaT0oYXdhaXQgbi5uZXh0KCkpLnZhbHVlO2lmKGkpe3ZhciBlO2xldCByO3RyeXtyPWF3YWl0IHRoaXMuX2dhdGV3YXkucHVibGlzaCh0aGlzLl91aWQsaSwhMCk7fWNhdGNoKG8pe2lmKG8uY29kZSE9PVIuRElTQ09OTkVDVF9QMlApdGhyb3cgbi50aHJvdyhvKSxvfW4ubmV4dCgoKGU9cik9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLm9ydGMpfHxbXSksdGhpcy5fcDJwQ2hhbm5lbC5yZXBvcnRQdWJsaXNoRXZlbnQoITAsbnVsbCx2b2lkIDAsITApO319Y2F0Y2gobil7aWYodGhpcy5fcDJwQ2hhbm5lbC5yZXBvcnRQdWJsaXNoRXZlbnQoITEsbj8uY29kZSx2b2lkIDAsITApLG4/LmNvZGU9PT1SLldTX0FCT1JUKXJldHVybjt0aHJvdyBufX1fY3JlYXRlTGl2ZVN0cmVhbWluZ0NsaWVudCh0KXtsZXQgZT0oKT0+e2lmKCF0aGlzLl9qb2luSW5mb3x8IXRoaXMuX2FwcElkKXJldHVybiBuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OLFwiY2FuIG5vdCBjcmVhdGUgbGl2ZSBzdHJlYW1pbmcgY2xpZW50LCBwbGVhc2Ugam9pbiBjaGFubmVsIGZpcnN0XCIpLnRocm93KCk7bGV0IG49KGk9e2pvaW5JbmZvOnRoaXMuX2pvaW5JbmZvLGFwcElkOnRoaXMuX2FwcElkLHdlYnNvY2tldFJldHJ5Q29uZmlnOnRoaXMuX2NvbmZpZy53ZWJzb2NrZXRSZXRyeUNvbmZpZyxodHRwUmV0cnlDb25maWc6dGhpcy5fY29uZmlnLmh0dHBSZXRyeUNvbmZpZ30sWmEoXCJMaXZlU3RyZWFtaW5nXCIpLmNyZWF0ZShpKSk7dmFyIGk7cmV0dXJuIG4ub25MaXZlU3RyZWFtRXJyb3I9KHIsbyk9PntYLnJlcG9ydEFwaUludm9rZSh0aGlzLl9zZXNzaW9uSWQse25hbWU6VGUuT05fTElWRV9TVFJFQU1fRVJST1Isb3B0aW9uczpbcixvXSx0YWc6WnQuVFJBQ0VSfSkub25TdWNjZXNzKCksdGhpcy5zYWZlRW1pdCh1dC5MSVZFX1NUUkVBTUlOR19FUlJPUixyLG8pO30sbi5vbkxpdmVTdHJlYW1XYXJuaW5nPShyLG8pPT57WC5yZXBvcnRBcGlJbnZva2UodGhpcy5fc2Vzc2lvbklkLHtuYW1lOlRlLk9OX0xJVkVfU1RSRUFNX1dBUk5JTkcsb3B0aW9uczpbcixvXSx0YWc6WnQuVFJBQ0VSfSkub25TdWNjZXNzKCksdGhpcy5zYWZlRW1pdCh1dC5MSVZFX1NUUkVBTUlOR19XQVJOSU5HLHIsbyk7fSxuLm9uKFZFLlJFUVVFU1RfV09SS0VSX01BTkFHRVJfTElTVCwocixvLHMpPT57aWYoIXRoaXMuX2pvaW5JbmZvKXJldHVybiBzKG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IGZpbmQgam9pbiBpbmZvIHRvIGdldCB3b3JrZXIgbWFuYWdlclwiKSk7KGFzeW5jIGZ1bmN0aW9uKGEsYyxkLGwpe2xldCB1PXYoXCJVQVBfQVBcIikuc2xpY2UoMCx2KFwiQUpBWF9SRVFVRVNUX0NPTkNVUlJFTlRcIikpLm1hcChoPT5jLnByb3h5U2VydmVyP1wiaHR0cHM6Ly9cIi5jb25jYXQoYy5wcm94eVNlcnZlcixcIi9hcC8/dXJsPVwiKS5jb25jYXQoaCtcIi9hcGkvdjE/YWN0aW9uPXVhcFwiKTpcImh0dHBzOi8vXCIuY29uY2F0KGgsXCIvYXBpL3YxP2FjdGlvbj11YXBcIikpO3JldHVybiBhd2FpdCBXRyh1LGEsYyxkLGwpfSkocix0aGlzLl9qb2luSW5mbyx0aGlzLl9heGlvc0NhbmNlbFNvdXJjZS50b2tlbixFZSkudGhlbihvKS5jYXRjaChzKTt9KSxufTtyZXR1cm4gdD09PWVyLlJBVz8odGhpcy5fbGl2ZVJhd1N0cmVhbWluZ0NsaWVudD10aGlzLl9saXZlUmF3U3RyZWFtaW5nQ2xpZW50fHxlKCksdGhpcy5fbGl2ZVJhd1N0cmVhbWluZ0NsaWVudCk6KHRoaXMuX2xpdmVUcmFuc2NvZGVTdHJlYW1pbmdDbGllbnQ9dGhpcy5fbGl2ZVRyYW5zY29kZVN0cmVhbWluZ0NsaWVudHx8ZSgpLHRoaXMuX2xpdmVUcmFuc2NvZGVTdHJlYW1pbmdDbGllbnQpfV9jcmVhdGVDaGFubmVsTWVkaWFSZWxheUNsaWVudCgpe2lmKCF0aGlzLl9qb2luSW5mbylyZXR1cm4gbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3QgY3JlYXRlIGNoYW5uZWwgbWVkaWEgcmVsYXkgY2xpZW50LCBwbGVhc2Ugam9pbiBjaGFubmVsIGZpcnN0XCIpLnRocm93KCk7aWYoIXRoaXMuX2NoYW5uZWxNZWRpYVJlbGF5Q2xpZW50KXtsZXR7c2VuZFJlc29sdXRpb25XaWR0aDplLHNlbmRSZXNvbHV0aW9uSGVpZ2h0Om59PXRoaXMuZ2V0TG9jYWxWaWRlb1N0YXRzKCksaT0odD17am9pbkluZm86dGhpcy5fam9pbkluZm8sY2xpZW50SWQ6dGhpcy5fY2xpZW50SWQsd2Vic29ja2V0UmV0cnlDb25maWc6dGhpcy5fY29uZmlnLndlYnNvY2tldFJldHJ5Q29uZmlnLGh0dHBSZXRyeUNvbmZpZzp0aGlzLl9jb25maWcuaHR0cFJldHJ5Q29uZmlnLHJlc29sdXRpb246e3dpZHRoOmUsaGVpZ2h0Om59fSxaYShcIkNoYW5uZWxNZWRpYVJlbGF5XCIpLmNyZWF0ZSh0KSk7aS5vbihcInN0YXRlXCIscj0+e3I9PT1Tbi5SRUxBWV9TVEFURV9GQUlMVVJFJiZpJiZpLmRpc3Bvc2UoKSx0aGlzLnNhZmVFbWl0KHV0LkNIQU5ORUxfTUVESUFfUkVMQVlfU1RBVEUscik7fSksaS5vbihcImV2ZW50XCIscj0+e3RoaXMuc2FmZUVtaXQodXQuQ0hBTk5FTF9NRURJQV9SRUxBWV9FVkVOVCxyKTt9KSx0aGlzLl9jaGFubmVsTWVkaWFSZWxheUNsaWVudD1pLHRoaXMuX3N0YXRzQ29sbGVjdG9yLm9uU3RhdHNDaGFuZ2VkPShyLG8pPT57dmFyIHM7cj09PVwicmVzb2x1dGlvblwiJiYoKHM9dGhpcy5fY2hhbm5lbE1lZGlhUmVsYXlDbGllbnQpPT09bnVsbHx8cz09PXZvaWQgMHx8cy5zZXRWaWRlb1Byb2ZpbGUobykpO307fXZhciB0O3JldHVybiB0aGlzLl9jaGFubmVsTWVkaWFSZWxheUNsaWVudH1faGFuZGxlVXBkYXRlRGF0YUNoYW5uZWwodCxlKXtsZXR7YWRkZWQ6bixkZWxldGVkOml9PXQscj1bXTtpZihlKXtsZXQgbz1bXTt0aGlzLl91c2Vycy5mb3JFYWNoKHM9PntzLl9kYXRhQ2hhbm5lbHMuZm9yRWFjaChhPT57bi5ldmVyeShjPT5jLnVpZCE9PXMuX3VpbnRpZHx8Yy5zdHJlYW1faWQhPT1hLmlkKSYmby5wdXNoKHt1aWQ6cy5fdWludGlkLHN0cmVhbV9pZDphLmlkLG9yZGVyZWQ6YS5vcmRlcmVkLG1heF9yZXRyYW5zX3RpbWVzOmEubWF4UmV0cmFuc21pdHMsbWV0YWRhdGE6YS5tZXRhZGF0YX0pO30pO30pLG8ubGVuZ3RoPjAmJnRoaXMuX2hhbmRsZVVwZGF0ZURhdGFDaGFubmVsKHthZGRlZDpbXSxkZWxldGVkOm99KTt9QXJyYXkuaXNBcnJheShuKSYmbi5sZW5ndGg+MCYmbi5mb3JFYWNoKG89PntsZXR7dWlkOnMsc3RyZWFtX2lkOmEsb3JkZXJlZDpjLG1heF9yZXRyYW5zX3RpbWVzOmQsbWV0YWRhdGE6bH09byx1PXRoaXMuX3VzZXJzLmZpbmQoaD0+aC5fdWludGlkPT09cyk7aWYoIXUpcmV0dXJuIHZvaWQgXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3QgZmluZCB0YXJnZXQgdXNlciEob25fYWRkX2RhdGFfY2hhbm5lbClcIikpO2lmKF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBkYXRhX2NoYW5uZWwgYWRkZWQgd2l0aCB1aWQgXCIpLmNvbmNhdChzKSksVyhyKS5jYWxsKHIsdSl8fHIucHVzaCh1KSx1Ll91aW50aWR8fCh1Ll91aW50aWQ9cyksdS5fZGF0YUNoYW5uZWxzLmZpbmRJbmRleChoPT5oLmlkPT09by5zdHJlYW1faWQpPT09LTEpe2xldCBoPXtpZDphLG9yZGVyZWQ6ISFjLG1heFJldHJhbnNtaXRzOmQsbWV0YWRhdGE6bH0scD1mdW5jdGlvbihnKXtyZXR1cm4gS3YoZywhMCl9KGgpO3UuX2RhdGFDaGFubmVscy5wdXNoKHApLF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQodS51aWQsXCIgcHVibGlzaGVkIGRhdGFjaGFubmVsXCIpKSxlfHx0aGlzLnNhZmVFbWl0KHV0LlVTRVJfUFVCTElTSEVELHUsXCJkYXRhY2hhbm5lbFwiLGgpO310aGlzLl9wMnBDaGFubmVsLmhhc1BlbmRpbmdSZW1vdGVEYXRhQ2hhbm5lbCh1LG8uc3RyZWFtX2lkKSYmKF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZXN1YnNjcmliZSBkYXRhY2hhbm5lbCBmb3IgdXNlciBcIikuY29uY2F0KHUudWlkLFwiIGFmdGVyIHJlY29ubmVjdC5cIikpLHRoaXMuX3N1YnNjcmliZURhdGFDaGFubmVsKHUsby5zdHJlYW1faWQpLmNhdGNoKGg9PntfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVzdWJzY3JpYmUgZGF0YWNoYW5uZWwgZXJyb3JcIiksaC50b1N0cmluZygpKTt9KSk7fSksZSYmKHRoaXMuc2FmZUVtaXQodXQuUFVCTElTSEVEX1VTRVJfTElTVCx0aGlzLl9wZW5kaW5nUHVibGlzaGVkVXNlcnMpLHRoaXMuX3BlbmRpbmdQdWJsaXNoZWRVc2Vycz1bXSksQXJyYXkuaXNBcnJheShpKSYmaS5sZW5ndGg+MCYmaS5mb3JFYWNoKG89PntsZXR7dWlkOnMsc3RyZWFtX2lkOmF9PW8sYz10aGlzLl91c2Vycy5maW5kKGw9PmwuX3VpbnRpZD09PXMpO2lmKCFjKXJldHVybiB2b2lkIF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IGZpbmQgdGFyZ2V0IHVzZXIhKG9uX2RlbGV0ZV9kYXRhX2NoYW5uZWwpXCIpKTtsZXQgZD1jLl9kYXRhQ2hhbm5lbHMuZmluZChsPT5sLmlkPT09by5zdHJlYW1faWQpO2QmJihfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gZGF0YV9zdHJlYW0gZGVsZXRlIHdpdGggdWlkIFwiKS5jb25jYXQocykpLHRoaXMuX3AycENoYW5uZWwudW5zdWJzY3JpYmVEYXRhQ2hhbm5lbChjLFtkXSkudGhlbihsPT57aWYoYy5fZGF0YUNoYW5uZWxzPWMuX2RhdGFDaGFubmVscy5maWx0ZXIodT0+dSE9PWQpLGwpcmV0dXJuIHRoaXMuX2dhdGV3YXkudW5zdWJzY3JpYmVEYXRhQ2hhbm5lbChsLGMudWlkKX0pLF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQocyxcIiB1bnB1Ymxpc2hlZCBkYXRhY2hhbm5lbCAsaWQ6XCIpLmNvbmNhdChkLmlkKSksdGhpcy5zYWZlRW1pdCh1dC5VU0VSX1VOUFVCTElTSEVELGMsXCJkYXRhY2hhbm5lbFwiLGQuX2NvbmZpZykpO30pO31faGFuZGxlUmVtb3ZlRGF0YUNoYW5uZWxzKHQpe2xldCBlPXRoaXMuX3VzZXJzLmZpbmQobj0+bi51aWQ9PT10LnVpZCk7aWYoZSl7aWYoZS5fZGF0YUNoYW5uZWxzIT09dm9pZCAwJiZlLl9kYXRhQ2hhbm5lbHMubGVuZ3RoPjApe18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBkYXRhY2hhbm5lbCByZW1vdmVkIHdpdGggdWlkIFwiKS5jb25jYXQodC51aWQpKTtsZXQgbj0oKT0+e18uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQoZS51aWQsXCIgdW5wdWJsaXNoZWQgZGF0YWNoYW5uZWxcIikpLGUuX2RhdGFDaGFubmVscy5mb3JFYWNoKGk9Pnt0aGlzLnNhZmVFbWl0KHV0LlVTRVJfVU5QVUJMSVNIRUQsZSxcImRhdGFjaGFubmVsXCIsaS5fY29uZmlnKTt9KTt9O3RoaXMuX3AycENoYW5uZWwudW5zdWJzY3JpYmVEYXRhQ2hhbm5lbChlLGUuX2RhdGFDaGFubmVscykudGhlbihpPT57aWYoaSlyZXR1cm4gdGhpcy5fZ2F0ZXdheS51bnN1YnNjcmliZURhdGFDaGFubmVsKGksZS51aWQpfSksbigpO319ZWxzZSBfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IGZpbmQgdGFyZ2V0IHVzZXIhKG9uX3JlbW92ZV9kYXRhY2hhbm5lbClcIikpO31faGFuZGxlR2F0ZXdheUV2ZW50cygpe3RoaXMuX2dhdGV3YXkub24oeGUuRElTQ09OTkVDVF9QMlAsYXN5bmMoKT0+e2F3YWl0IHRoaXMuX3AycENoYW5uZWwuZGlzY29ubmVjdEZvclJlY29ubmVjdCgpO30pLHRoaXMuX2dhdGV3YXkub24oeGUuQ09OTkVDVElPTl9TVEFURV9DSEFOR0UsKHQsZSxuKT0+e3ZhciBpO2lmKG49PT1BdC5GQUxMQkFDSylyZXR1cm47bGV0IHI9KCk9Pnt0aGlzLnNhZmVFbWl0KHV0LkNPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFLHQsZSxuKTt9O2lmKFgucmVwb3J0QXBpSW52b2tlKHRoaXMuX3Nlc3Npb25JZHx8KChpPXRoaXMuX2dhdGV3YXkuam9pbkluZm8pPT09bnVsbHx8aT09PXZvaWQgMD92b2lkIDA6aS5zaWQpfHxudWxsLHtuYW1lOlRlLkNPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFLG9wdGlvbnM6W3QsZSxuXSx0YWc6WnQuVFJBQ0VSfSkub25TdWNjZXNzKEpTT04uc3RyaW5naWZ5KHtjdXI6dCxwcmV2OmUscmVhc29uOm59KSksXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY29ubmVjdGlvbiBzdGF0ZSBjaGFuZ2U6IFwiKS5jb25jYXQoZSxcIiAtPiBcIikuY29uY2F0KHQpKSx0PT09XCJESVNDT05ORUNURURcIilyZXR1cm4gdGhpcy5fcmVzZXQoKSx2b2lkIHIoKTtpZih0PT09XCJSRUNPTk5FQ1RJTkdcIil0aGlzLl91c2Vycy5mb3JFYWNoKHM9PntzLl90cnVzdF9pbl9yb29tXz0hMSxzLl90cnVzdF9hdWRpb19lbmFibGVkX3N0YXRlXz0hMSxzLl90cnVzdF92aWRlb19lbmFibGVkX3N0YXRlXz0hMSxzLl90cnVzdF9hdWRpb19tdXRlX3N0YXRlXz0hMSxzLl90cnVzdF92aWRlb19tdXRlX3N0YXRlXz0hMSxzLl90cnVzdF9hdWRpb19zdHJlYW1fYWRkZWRfc3RhdGVfPSExLHMuX3RydXN0X3ZpZGVvX3N0cmVhbV9hZGRlZF9zdGF0ZV89ITEscy5faXNfcHJlX2NyZWF0ZWR8fChzLl9hdWRpb19wcmVfc3Vic2NyaWJlZHx8KHMuX2F1ZGlvU1NSQz12b2lkIDAscy5fYXVkaW9PcnRjPXZvaWQgMCkscy5fdmlkZW9fcHJlX3N1YnNjcmliZWR8fChzLl92aWRlb1NTUkM9dm9pZCAwLHMuX3ZpZGVvT3J0Yz12b2lkIDAscy5fcnR4U3NyY0lkPXZvaWQgMCkscy5fY25hbWU9dm9pZCAwKTt9KSx0aGlzLl91c2VyT2ZmbGluZVRpbWVvdXQmJndpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fdXNlck9mZmxpbmVUaW1lb3V0KSx0aGlzLl9zdHJlYW1SZW1vdmVkVGltZW91dCYmd2luZG93LmNsZWFyVGltZW91dCh0aGlzLl9zdHJlYW1SZW1vdmVkVGltZW91dCksdGhpcy5fdXNlck9mZmxpbmVUaW1lb3V0PXZvaWQgMCx0aGlzLl9zdHJlYW1SZW1vdmVkVGltZW91dD12b2lkIDA7ZWxzZSBpZih0PT09XCJDT05ORUNURURcIil7dmFyIG87dGhpcy5fc3RyZWFtRmFsbGJhY2tUeXBlQ2FjaGVNYXAuZm9yRWFjaCgocyxhKT0+e3RoaXMuX2dhdGV3YXkuc2V0U3RyZWFtRmFsbGJhY2tPcHRpb24oYSxzKS5jYXRjaChjPT57Xy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gYXV0byBzZXQgc3RyZWFtIGZhbGxiYWNrIG9wdGlvbiBmYWlsZWRcIiksYyk7fSk7fSksdGhpcy5fcmVtb3RlU3RyZWFtVHlwZUNhY2hlTWFwLmZvckVhY2goKHMsYSk9Pnt0aGlzLl9nYXRld2F5LnNldFJlbW90ZVZpZGVvU3RyZWFtVHlwZShhLHMpLmNhdGNoKGM9PntfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBhdXRvIHNldCByZW1vdGUgc3RyZWFtIHR5cGUgZmFpbGVkXCIpLGMpO30pO30pLHRoaXMuX3JlbW90ZURlZmF1bHRWaWRlb1N0cmVhbVR5cGUhPT12b2lkIDAmJigobz10aGlzLl9qb2luSW5mbyk9PT1udWxsfHxvPT09dm9pZCAwP3ZvaWQgMDpvLmRlZmF1bHRWaWRlb1N0cmVhbSk9PT12b2lkIDAmJnRoaXMuc2V0UmVtb3RlRGVmYXVsdFZpZGVvU3RyZWFtVHlwZSh0aGlzLl9yZW1vdGVEZWZhdWx0VmlkZW9TdHJlYW1UeXBlKS50aGVuKCgpPT57Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHNldFJlbW90ZURlZmF1bHRWaWRlb1N0cmVhbVR5cGUgYWZ0ZXIgZ2F0ZXdheSBjb25uZWN0ZWRcIikpO30pLmNhdGNoKHM9PntfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0UmVtb3RlRGVmYXVsdFZpZGVvU3RyZWFtVHlwZSBhZnRlciBnYXRld2F5IGZhaWxlZCwgXCIpLmNvbmNhdChzKSk7fSksdGhpcy5zdG9yZS51c2VQMlB8fCh0aGlzLl9wMnBDaGFubmVsLnJlcHVibGlzaCgpLHRoaXMuX3VzZXJPZmZsaW5lVGltZW91dD13aW5kb3cuc2V0VGltZW91dCgoKT0+e3RoaXMuY29ubmVjdGlvblN0YXRlPT09XCJDT05ORUNURURcIiYmKHRoaXMuX3VzZXJPZmZsaW5lVGltZW91dD12b2lkIDAsdGhpcy5fdXNlcnMuZmlsdGVyKHM9PiFzLl90cnVzdF9pbl9yb29tXykuZm9yRWFjaChzPT57Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHVzZXIgb2ZmbGluZSB0aW1lb3V0LCBlbWl0IHVzZXIgb2ZmbGluZSBcIikuY29uY2F0KHMudWlkKSksdGhpcy5faGFuZGxlVXNlck9mZmxpbmUoe3VpZDpzLnVpZH0pO30pKTt9LDNlMyksdGhpcy5fc3RyZWFtUmVtb3ZlZFRpbWVvdXQ9d2luZG93LnNldFRpbWVvdXQoKCk9Pnt0aGlzLmNvbm5lY3Rpb25TdGF0ZT09PVwiQ09OTkVDVEVEXCImJih0aGlzLl9zdHJlYW1SZW1vdmVkVGltZW91dD12b2lkIDAsdGhpcy5fdXNlcnMuZm9yRWFjaChzPT57cy5fdHJ1c3RfYXVkaW9fbXV0ZV9zdGF0ZV98fChfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gYXV0byBkaXNwYXRjaCBhdWRpbyB1bm11dGUgZXZlbnQgXCIpLmNvbmNhdChzLnVpZCkpLHRoaXMuX2hhbmRsZU11dGVTdHJlYW0ocy51aWQsUS5BVURJTywhMSkpLHMuX3RydXN0X3ZpZGVvX211dGVfc3RhdGVffHwoXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGF1dG8gZGlzcGF0Y2ggdmlkZW8gdW5tdXRlIGV2ZW50IFwiKS5jb25jYXQocy51aWQpKSx0aGlzLl9oYW5kbGVNdXRlU3RyZWFtKHMudWlkLFEuVklERU8sITEpKSxzLl90cnVzdF9hdWRpb19lbmFibGVkX3N0YXRlX3x8KF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBhdXRvIGRpc3BhdGNoIGVuYWJsZSBsb2NhbCBhdWRpbyBcIikuY29uY2F0KHMudWlkKSksdGhpcy5faGFuZGxlU2V0U3RyZWFtTG9jYWxFbmFibGUoXCJhdWRpb1wiLHMudWlkLCEwKSkscy5fdHJ1c3RfdmlkZW9fZW5hYmxlZF9zdGF0ZV98fChfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gYXV0byBkaXNwYXRjaCBlbmFibGUgbG9jYWwgdmlkZW8gXCIpLmNvbmNhdChzLnVpZCkpLHRoaXMuX2hhbmRsZVNldFN0cmVhbUxvY2FsRW5hYmxlKFwidmlkZW9cIixzLnVpZCwhMCkpLHMuX3RydXN0X3ZpZGVvX3N0cmVhbV9hZGRlZF9zdGF0ZV98fChfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gYXV0byBkaXNwYXRjaCByZXNldCB2aWRlbyBzdHJlYW0gYWRkZWQgXCIpLmNvbmNhdChzLnVpZCkpLHRoaXMuX2hhbmRsZVJlc2V0QWRkU3RyZWFtKHMsXCJ2aWRlb1wiKSkscy5fdHJ1c3RfYXVkaW9fc3RyZWFtX2FkZGVkX3N0YXRlX3x8KF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBhdXRvIGRpc3BhdGNoIHJlc2V0IGF1ZGlvIHN0cmVhbSBhZGRlZCBcIikuY29uY2F0KHMudWlkKSksdGhpcy5faGFuZGxlUmVzZXRBZGRTdHJlYW0ocyxcImF1ZGlvXCIpKSxzLl92aWRlb19hZGRlZF98fHMuX2F1ZGlvX2FkZGVkX3x8KF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBhdXRvIGRpc3BhdGNoIHN0cmVhbSByZW1vdmUgXCIpLmNvbmNhdChzLnVpZCkpLHRoaXMuX2hhbmRsZVJlbW92ZVN0cmVhbSh7dWlkOnMudWlkLHVpbnRfaWQ6cy5fdWludGlkfSkpO30pKTt9LDFlMykpO31yKCk7fSksdGhpcy5fZ2F0ZXdheS5vbih4ZS5SRVFVRVNUX05FV19HQVRFV0FZX0xJU1QsYXN5bmModCxlKT0+e2lmKCF0aGlzLl9qb2luSW5mbylyZXR1cm4gZShuZXcgTyhSLlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IHJlY292ZXIsIG5vIGpvaW4gaW5mb1wiKSk7dHJ5e2xldCBuLGk9YXdhaXQgWHYoeGkoeGkoe30sdGhpcy5fam9pbkluZm8pLHt9LHt1aWQ6dGhpcy5fam9pbkluZm8udWlkLHN0cmluZ1VpZDp2b2lkIDB9KSk7aT8obj1pLmFwLFF2KGkpLHRoaXMuX2pvaW5JbmZvLnByZWxvYWQ9ITApOihuPWF3YWl0IG5tKHRoaXMuX2pvaW5JbmZvLHRoaXMuX2F4aW9zQ2FuY2VsU291cmNlLnRva2VuLHRoaXMuX2NvbmZpZy5odHRwUmV0cnlDb25maWd8fEVlLHRoaXMuc3RvcmUpLHRoaXMuX2pvaW5JbmZvLnByZWxvYWQ9ITEpLHRoaXMuX2pvaW5JbmZvJiYodGhpcy5fam9pbkluZm8uYXBSZXNwb25zZT1uLmdhdGV3YXlJbmZvLnJlcyx0aGlzLl9qb2luSW5mby5nYXRld2F5QWRkcnM9bi5nYXRld2F5SW5mby5nYXRld2F5QWRkcnMsdGhpcy5fam9pbkluZm8udW5pX2xic19pcD1uLmdhdGV3YXlJbmZvLnVuaV9sYnNfaXApO2xldCByPVtdO24uZ2F0ZXdheUluZm8uZ2F0ZXdheUFkZHJzLmZvckVhY2gobz0+e2xldHthZGRyZXNzOnN9PW8sW2EsY109cy5zcGxpdChcIjpcIik7dGhpcy5fam9pbkluZm8mJnRoaXMuX2pvaW5JbmZvLnByb3h5U2VydmVyP3IucHVzaCh7cHJveHk6dGhpcy5fam9pbkluZm8ucHJveHlTZXJ2ZXIsaG9zdDphLHBvcnQ6Y30pOnIucHVzaCh7aG9zdDphLHBvcnQ6Y30pO30pLHQocik7fWNhdGNoKG4pe2Uobik7fX0pLHRoaXMuX2dhdGV3YXkub24oeGUuTkVUV09SS19RVUFMSVRZLHQ9Pnt0aGlzLl9uZXR3b3JrUXVhbGl0eVNlbnNpdGl2aXR5PT09XCJub3JtYWxcIiYmdGhpcy5zYWZlRW1pdCh1dC5ORVRXT1JLX1FVQUxJVFksdCk7fSksdGhpcy5fZ2F0ZXdheS5vbih4ZS5TVFJFQU1fVFlQRV9DSEFOR0UsKHQsZSk9Pnt0aGlzLnNhZmVFbWl0KHV0LlNUUkVBTV9UWVBFX0NIQU5HRUQsdCxlKSxYLnJlcG9ydEFwaUludm9rZSh0aGlzLl9zZXNzaW9uSWQse25hbWU6VGUuU1RSRUFNX1RZUEVfQ0hBTkdFLG9wdGlvbnM6W3QsZV0sdGFnOlp0LlRSQUNFUn0pLm9uU3VjY2VzcyhKU09OLnN0cmluZ2lmeSh7dWlkOnQsc3RyZWFtVHlwZTplfSkpO30pLHRoaXMuX2dhdGV3YXkub24oeGUuSVNfUDJQX0RJU0NPTk5FQ1RFRCx0PT57dGhpcy5fcDJwQ2hhbm5lbC5pc1AyUERpc2Nvbm5lY3RlZCgpP3QoITApOnRoaXMuX3AycENoYW5uZWwuaGFzTG9jYWxNZWRpYSgpfHx0aGlzLl9wMnBDaGFubmVsLmhhc1JlbW90ZU1lZGlhKCk/dCghMSk6dCghMCk7fSksdGhpcy5fZ2F0ZXdheS5vbih4ZS5SRVFVRVNUX1AyUF9DT05ORUNUSU9OX1BBUkFNUyxhc3luYyh0LGUsbik9Pnt0cnl7bGV0IGk9YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5nZXRFc3RhYmxpc2hQYXJhbXMoKTt2KFwiRU5BQkxFX1BSRUFMTE9DX1BDXCIpJiZpfHwoaT1hd2FpdCB0aGlzLl9wMnBDaGFubmVsLnN0YXJ0UDJQQ29ubmVjdGlvbih0KSksZShpKTt9Y2F0Y2goaSl7bihpKTt9fSksdGhpcy5fZ2F0ZXdheS5vbih4ZS5KT0lOX1JFU1BPTlNFLCh0LGUpPT57aWYodGhpcy5zdG9yZS51c2VQMlApcmV0dXJuO2xldCBuPXFJKHQub3J0YyxlLHQuYXR0cmlidXRlcy51c2VyQXR0cmlidXRlcy5wcmVTdWJTc3Jjcyk7dGhpcy5fcDJwQ2hhbm5lbC5jb25uZWN0KG4pO30pLHRoaXMuX2dhdGV3YXkub24oeGUuUFJFX0NPTk5FQ1RfUEMsYXN5bmMgdD0+e2xldHtjYW5kaWRhdGVzOmUsZmluZ2VycHJpbnQ6bn09dDtpZih0aGlzLl9qb2luSW5mbyYmZS5sZW5ndGg+MCYmIXRoaXMuX3AycENoYW5uZWwuaXNQbGFuQil7dmFyIGk7YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5zdGFydFAyUENvbm5lY3Rpb24oe3R1cm5TZXJ2ZXI6dGhpcy5fam9pbkluZm8udHVyblNlcnZlcn0pO2xldHtjZXJ0OnIsY2lkOm99PXRoaXMuX2pvaW5JbmZvLmFwUmVzcG9uc2U7YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5jb25uZWN0KHtpY2VQYXJhbWV0ZXJzOntpY2VVZnJhZzpcIlwiLmNvbmNhdChvLFwiX1wiKS5jb25jYXQociksaWNlUHdkOlwiXCIuY29uY2F0KG8sXCJfXCIpLmNvbmNhdChyKX0sZHRsc1BhcmFtZXRlcnM6e2ZpbmdlcnByaW50czpbe2hhc2hGdW5jdGlvbjpcInNoYS0yNTZcIixmaW5nZXJwcmludDooaT12KFwiRklOR0VSUFJJTlRcIikpIT09bnVsbCYmaSE9PXZvaWQgMD9pOm59XX0sY2FuZGlkYXRlczplLHJ0cENhcGFiaWxpdGllczp7c2VuZDp7YXVkaW9Db2RlY3M6W10sdmlkZW9Db2RlY3M6W10sYXVkaW9FeHRlbnNpb25zOltdLHZpZGVvRXh0ZW5zaW9uczpbXX0scmVjdjp7YXVkaW9Db2RlY3M6W10sdmlkZW9Db2RlY3M6W10sYXVkaW9FeHRlbnNpb25zOltdLHZpZGVvRXh0ZW5zaW9uczpbXX19LHNldHVwOlwiYWN0aXZlXCIsY25hbWU6XCJvL2kxNHU5cEpyeFJLQXN1XCIscHJlYWxsb2NhdGlvbjohMH0pO319KTt9X2hhbmRsZUdhdGV3YXlTaWduYWxFdmVudHMoKXt0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihkdC5PTl9VU0VSX09OTElORSx0aGlzLl9oYW5kbGVVc2VyT25saW5lKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihkdC5PTl9VU0VSX09GRkxJTkUsdGhpcy5faGFuZGxlVXNlck9mZmxpbmUpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGR0Lk9OX0FERF9BVURJT19TVFJFQU0sdD0+dGhpcy5faGFuZGxlQWRkQXVkaW9PclZpZGVvU3RyZWFtKFwiYXVkaW9cIix0LnVpZCx0LnNzcmNJZCx0LmNuYW1lLHQudWludF9pZCx0Lm9ydGMpKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihkdC5PTl9BRERfVklERU9fU1RSRUFNLHQ9PnRoaXMuX2hhbmRsZUFkZEF1ZGlvT3JWaWRlb1N0cmVhbShcInZpZGVvXCIsdC51aWQsdC5zc3JjSWQsdC5jbmFtZSx0LnVpbnRfaWQsdC5vcnRjLHQucnR4U3NyY0lkKSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oZHQuT05fUkVNT1RFX0RBVEFTVFJFQU1fVVBEQVRFLHQ9Pnt0aGlzLl9oYW5kbGVVcGRhdGVEYXRhQ2hhbm5lbCh0KTt9KSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihkdC5PTl9SRU1PVEVfRlVMTF9EQVRBU1RSRUFNX0lORk8sdD0+e3RoaXMuX2hhbmRsZVVwZGF0ZURhdGFDaGFubmVsKHthZGRlZDp0LmRhdGFzdHJlYW1zfHxbXSxkZWxldGVkOltdfSwhMCk7fSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oZHQuT05fUkVNT1ZFX1NUUkVBTSx0aGlzLl9oYW5kbGVSZW1vdmVTdHJlYW0pLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGR0Lk9OX1AyUF9MT1NULHRoaXMuX2hhbmRsZVAyUExvc3QpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGR0Lk1VVEVfQVVESU8sdD0+dGhpcy5faGFuZGxlTXV0ZVN0cmVhbSh0LnVpZCxRLkFVRElPLCEwKSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oZHQuVU5NVVRFX0FVRElPLHQ9PnRoaXMuX2hhbmRsZU11dGVTdHJlYW0odC51aWQsUS5BVURJTywhMSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGR0Lk1VVEVfVklERU8sdD0+dGhpcy5faGFuZGxlTXV0ZVN0cmVhbSh0LnVpZCxRLlZJREVPLCEwKSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oZHQuVU5NVVRFX1ZJREVPLHQ9PnRoaXMuX2hhbmRsZU11dGVTdHJlYW0odC51aWQsUS5WSURFTywhMSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGR0LlJFQ0VJVkVfTUVUQURBVEEsdD0+e2xldCBlPUZvKHQubWV0YWRhdGEpO3RoaXMuc2FmZUVtaXQodXQuUkVDRUlWRV9NRVRBREFUQSx0LnVpZCxlKTt9KSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihkdC5PTl9EQVRBX1NUUkVBTSxhc3luYyB0PT57dmFyIGU7aWYoIXQpcmV0dXJuO2xldCBuPUZvKHQucGF5bG9hZCk7aWYodGhpcy5fZW5jcnlwdERhdGFTdHJlYW0mJnRoaXMuX2VuY3J5cHREYXRhU3RyZWFtSXYmJnRoaXMuX2VuY3J5cHREYXRhU3RyZWFtS2V5JiZ3aW5kb3cuY3J5cHRvLnN1YnRsZSYmVyhlPVtcImFlcy0xMjgtZ2NtMlwiLFwiYWVzLTI1Ni1nY20yXCJdKS5jYWxsKGUsdGhpcy5fZW5jcnlwdGlvbk1vZGUpKXtpZih0LnBheWxvYWQubGVuZ3RoPHVzKXRocm93IG5ldyBPKFIuVU5FWFBFQ1RFRF9SRVNQT05TRSxcInBheWxvYWQgbGVuZ3RoIFwiLmNvbmNhdCh0LnBheWxvYWQubGVuZ3RoLFwiIGlzIGxlc3MgdGhhbiBoZWFkZXIgbGVuZ3RoIFwiKS5jb25jYXQodXMpKTtuPWF3YWl0IGFzeW5jIGZ1bmN0aW9uKG8scyxhKXtsZXQgYz1hLnN1YmFycmF5KDAsdXMpLGQ9Yy5zbGljZSg4LHVzKSxsPShkWzBdPDw4KStkWzFdLHU9KGNbNl08PDgpK2NbN10saD1hd2FpdCB3aW5kb3cuY3J5cHRvLnN1YnRsZS5kZWNyeXB0KHtuYW1lOlwiQUVTLUdDTVwiLGl2Om8sdGFnTGVuZ3RoOnlSLGFkZGl0aW9uYWxEYXRhOm5ldyBVaW50OEFycmF5KElSKGwsMikpfSxzLGEuc3ViYXJyYXkodXMpKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoaCkuc3ViYXJyYXkoMCx1KX0odGhpcy5fZW5jcnlwdERhdGFTdHJlYW1Jdix0aGlzLl9lbmNyeXB0RGF0YVN0cmVhbUtleSxuKTt9bGV0IGk9MDtpZih0Lm9yZGVyZWR8fHQuc3luY1dpdGhBdWRpbyl7bGV0IHI9dGhpcy5fcDJwQ2hhbm5lbC5nZXRTdGF0cygpLG89dGhpcy5yZW1vdGVVc2Vycy5maW5kKGE9PmEudWlkPT09dC51aWQpLHM9cj8uYXVkaW9SZWN2LmZpbmQoYT0+YS5zc3JjPT09bz8uX2F1ZGlvU1NSQyk7aT1zPy5qaXR0ZXJCdWZmZXJNczt9aT09bnVsbCYmKGk9MCksZlcoeGkoeGkoe30sdCkse30se3BheWxvYWQ6bn0pLGkse2lkOnRoaXMuX2NsaWVudElkLG9uU3RyZWFtTWVzc2FnZTp0eXBlb2YgdGhpcy5vblN0cmVhbU1lc3NhZ2U9PVwiZnVuY3Rpb25cIj90aGlzLm9uU3RyZWFtTWVzc2FnZS5iaW5kKHRoaXMpOnZvaWQgMCxzYWZlRW1pdDp0aGlzLnNhZmVFbWl0LmJpbmQodGhpcyl9KTt9KSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihkdC5PTl9DUllQVF9FUlJPUiwoKT0+e3BvKCgpPT57Xy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gb24gY3J5cHQgZXJyb3JcIikpLHRoaXMuc2FmZUVtaXQodXQuQ1JZUFRfRVJST1IpO30sdGhpcy5fc2Vzc2lvbklkKTt9KSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihkdC5PTl9UT0tFTl9QUklWSUxFR0VfV0lMTF9FWFBJUkUsdGhpcy5faGFuZGxlVG9rZW5XaWxsRXhwaXJlKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihkdC5PTl9UT0tFTl9QUklWSUxFR0VfRElEX0VYUElSRSwoKT0+e18ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlY2VpdmVkIG1lc3NhZ2Ugb25Ub2tlblByaXZpbGVnZURpZEV4cGlyZSwgcGxlYXNlIGdldCBuZXcgdG9rZW4gYW5kIGpvaW4gYWdhaW5cIikpLHRoaXMuX2dhdGV3YXkubGVhdmUoITAsQXQuVE9LRU5fRVhQSVJFKSx0aGlzLnNhZmVFbWl0KHV0Lk9OX1RPS0VOX1BSSVZJTEVHRV9ESURfRVhQSVJFKSx0aGlzLl9yZXNldCgpO30pLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGR0Lk9OX1NUUkVBTV9GQUxMQkFDS19VUERBVEUsdD0+e18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzdHJlYW0gZmFsbGJhY2sgcGVlcklkOiBcIikuY29uY2F0KHQuc3RyZWFtX2lkLFwiLCBhdHRyOiBcIikuY29uY2F0KHQuc3RyZWFtX3R5cGUpKSx0aGlzLnNhZmVFbWl0KHV0LlNUUkVBTV9GQUxMQkFDSyx0LnN0cmVhbV9pZCx0LnN0cmVhbV90eXBlPT09MT9cImZhbGxiYWNrXCI6XCJyZWNvdmVyXCIpO30pLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGR0Lk9OX1BVQkxJU0hfU1RSRUFNLHQ9Pnt0aGlzLnVpZD09PXRoaXMuX3VpZCYmKHRoaXMuX3AycENoYW5uZWwucmVwb3J0UHVibGlzaEV2ZW50KCEwLG51bGwsdm9pZCAwLCExLEpTT04uc3RyaW5naWZ5KHtwcm94eTp0LnByb3h5fSkpLF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIG9uIHB1Ymxpc2ggc3RyZWFtLCBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KHQpKSkpO30pLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGR0LkVOQUJMRV9MT0NBTF9WSURFTyx0PT57dGhpcy5faGFuZGxlU2V0U3RyZWFtTG9jYWxFbmFibGUoXCJ2aWRlb1wiLHQudWlkLCEwKTt9KSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihkdC5ESVNBQkxFX0xPQ0FMX1ZJREVPLHQ9Pnt0aGlzLl9oYW5kbGVTZXRTdHJlYW1Mb2NhbEVuYWJsZShcInZpZGVvXCIsdC51aWQsITEpO30pLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKG50LlJFUVVFU1RfVElNRU9VVCwodCxlKT0+e2lmKHRoaXMuX2pvaW5JbmZvKXN3aXRjaCh0KXtjYXNlIGV0LlBVQkxJU0g6e2lmKCFlKXJldHVybjtsZXQgcj1lLm9ydGM7aWYocil7dmFyIG4saTtsZXQgbz1yLnNvbWUoYz0+e2xldHtzdHJlYW1fdHlwZTpkfT1jO3JldHVybiBkPT09Q3QuQXVkaW99KSxzPXIuc29tZShjPT57bGV0e3N0cmVhbV90eXBlOmR9PWM7cmV0dXJuIGQhPT1DdC5BdWRpb30pLGE9ci5zb21lKGM9PntsZXR7c3RyZWFtX3R5cGU6ZH09YztyZXR1cm4gZD09PUN0LlNjcmVlbnx8ZD09PUN0LlNjcmVlbkxvd30pO2Uuc3RhdGU9PT1cIm9mZmVyXCImJlgucHVibGlzaCh0aGlzLl9qb2luSW5mby5zaWQse2V2ZW50RWxhcHNlOnFlLm1lYXN1cmVGcm9tUHVibGlzaFN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQsdGhpcy5zdG9yZS5wdWJJZCksc3VjYzohMSxlYzpSLlRJTUVPVVQsYXVkaW86byx2aWRlbzpzLHAycGlkOmUucDJwX2lkLHB1Ymxpc2hSZXF1ZXN0aWQ6dGhpcy5zdG9yZS5wdWJJZCxzY3JlZW5zaGFyZTphLGF1ZGlvTmFtZTpvPyhuPXIuZmluZChjPT57bGV0e3N0cmVhbV90eXBlOmR9PWM7cmV0dXJuIGQ9PT1DdC5BdWRpb30pKT09PW51bGx8fG49PT12b2lkIDB8fChuPW4uc3NyY3NbMF0pPT09bnVsbHx8bj09PXZvaWQgMD92b2lkIDA6bi5zc3JjSWQudG9TdHJpbmcoKTp2b2lkIDAsdmlkZW9OYW1lOnM/KGk9ci5maW5kKGM9PntsZXR7c3RyZWFtX3R5cGU6ZH09YztyZXR1cm4gZCE9PUN0LkF1ZGlvfSkpPT09bnVsbHx8aT09PXZvaWQgMHx8KGk9aS5zc3Jjc1swXSk9PT1udWxsfHxpPT09dm9pZCAwP3ZvaWQgMDppLnNzcmNJZC50b1N0cmluZygpOnZvaWQgMH0pO31icmVha31jYXNlIGV0LlNVQlNDUklCRTplJiZYLnN1YnNjcmliZSh0aGlzLl9qb2luSW5mby5zaWQse3N1Y2M6ITEsZWM6Ui5USU1FT1VULGF1ZGlvOmUuc3RyZWFtX3R5cGU9PT1RLkFVRElPLHZpZGVvOmUuc3RyZWFtX3R5cGU9PT1RLlZJREVPLHBlZXJpZDplLnN0cmVhbV9pZCxzdWJzY3JpYmVSZXF1ZXN0aWQ6ZS5zc3JjSWQscDJwaWQ6dGhpcy5zdG9yZS5wMnBJZCxldmVudEVsYXBzZTpxZS5tZWFzdXJlRnJvbVN1YnNjcmliZVN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQsZS5zc3JjSWQpLHByZVNzcmM6dGhpcy5fcDJwQ2hhbm5lbC5pc1ByZVN1YlNjcmliZShlLnNzcmNJZCl9KTt9fSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oZHQuT05fUDJQX09LLHQ9Pnt0aGlzLnVpZCx0aGlzLl91aWQ7fSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oZHQuT05fUFVCTElTSEVEX1VTRVJfTElTVCx0PT57aWYodD09bnVsbHx8IXQudXNlcnMpcmV0dXJuO3YoXCJCTE9DS19MT0NBTF9DTElFTlRcIikmJih0LnVzZXJzPXQudXNlcnMuZmlsdGVyKGk9PiFJbyhpLnN0cmluZ19pZHx8aS5zdHJlYW1faWQsdGhpcy5jaGFubmVsTmFtZSkpKTtsZXQgZT1bXSxuPVtdO2ZvcihsZXQgaSBvZiB0LnVzZXJzKXtsZXQgcj10aGlzLl91c2Vycy5maW5kKGw9PmwuX3VpbnRpZD09PWkuc3RyZWFtX2lkKTtyP3IuX3RydXN0X2luX3Jvb21fPSEwOihyPW5ldyBpcihpLnN0cmluZ19pZHx8aS5zdHJlYW1faWQsaS5zdHJlYW1faWQpLHRoaXMuX3VzZXJzLnB1c2gociksdGhpcy5nZXRMaXN0ZW5lcnModXQuUFVCTElTSEVEX1VTRVJfTElTVCkubGVuZ3RoPT09MCYmKF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB1c2VyIG9ubGluZVwiKSxpLnN0cmVhbV9pZCksdGhpcy5zYWZlRW1pdCh1dC5VU0VSX0pPSU5FRCxyKSkpO2xldCBvPXZlLkF1ZGlvJmkuc3RyZWFtX3R5cGUscz0odmUuVmlkZW98dmUuTHdvVmlkZW8pJmkuc3RyZWFtX3R5cGUsYT0oNjUyODAmaS5zdHJlYW1fdHlwZSkhPTAsYz1vJiZyLmhhc0F1ZGlvLGQ9cyYmci5oYXNWaWRlbztzJiYoci5fdHJ1c3RfdmlkZW9fc3RyZWFtX2FkZGVkX3N0YXRlXz0hMCxyLl92aWRlb19hZGRlZF89ITAsci5fdmlkZW9TU1JDPWkudmlkZW9fc3NyYyxyLl9ydHhTc3JjSWQ9aS52aWRlb19ydHgpLG8mJihyLl90cnVzdF9hdWRpb19zdHJlYW1fYWRkZWRfc3RhdGVfPSEwLHIuX2F1ZGlvX2FkZGVkXz0hMCxyLl9hdWRpb1NTUkM9aS5hdWRpb19zc3JjKSxvJiYhYyYmdGhpcy5nZXRMaXN0ZW5lcnModXQuUFVCTElTSEVEX1VTRVJfTElTVCkubGVuZ3RoPT09MCYmKF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQoci51aWQsXCIgcHVibGlzaGVkIGF1ZGlvXCIpKSx0aGlzLnNhZmVFbWl0KHV0LlVTRVJfUFVCTElTSEVELHIsXCJhdWRpb1wiKSkscyYmIWQmJnRoaXMuZ2V0TGlzdGVuZXJzKHV0LlBVQkxJU0hFRF9VU0VSX0xJU1QpLmxlbmd0aD09PTAmJihfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZW1vdGUgdXNlciBcIikuY29uY2F0KHIudWlkLFwiIHB1Ymxpc2hlZCB2aWRlb1wiKSksdGhpcy5zYWZlRW1pdCh1dC5VU0VSX1BVQkxJU0hFRCxyLFwidmlkZW9cIikpLChvJiYhY3x8cyYmIWR8fGEpJiZlLnB1c2gocikscyYmdGhpcy5fcDJwQ2hhbm5lbC5oYXNQZW5kaW5nUmVtb3RlTWVkaWEocixcInZpZGVvXCIpJiZuLnB1c2goe3VzZXI6cixtZWRpYVR5cGU6XCJ2aWRlb1wifSksbyYmdGhpcy5fcDJwQ2hhbm5lbC5oYXNQZW5kaW5nUmVtb3RlTWVkaWEocixcImF1ZGlvXCIpJiZuLnB1c2goe3VzZXI6cixtZWRpYVR5cGU6XCJhdWRpb1wifSk7fW4ubGVuZ3RoPjAmJihfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gUkUgbWFzc1N1YnNjcmliZSBhZnRlciByZWNvbm5lY3QgXCIpLmNvbmNhdChuLm1hcChpPT5cInVzZXI6IFwiLmNvbmNhdChpLnVzZXIudWlkLFwiLCBtZWRpYVR5cGU6IFwiKS5jb25jYXQoaS5tZWRpYVR5cGUpKS5qb2luKFwiOyBcIiksXCIgXCIpKSx0aGlzLm1hc3NTdWJzY3JpYmUobikuY2F0Y2goaT0+e18uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBtYXNzIHJlc3Vic2NyaWJlIGVycm9yXCIpLGkudG9TdHJpbmcoKSk7fSkpLHRoaXMuZ2V0TGlzdGVuZXJzKHV0LlBVQkxJU0hFRF9VU0VSX0xJU1QpLmxlbmd0aD4wP3YoXCJFTkFCTEVfREFUQVNUUkVBTV8yXCIpP3RoaXMuX3BlbmRpbmdQdWJsaXNoZWRVc2Vycz1lOihfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjbGllbnQgZW1pdCB1c2VyLWxpc3QgZXZlbnQsIHVzZXJzOiBcIikuY29uY2F0KGUubWFwKGk9PmkudWlkKS5qb2luKFwiLCBcIikpKSx0aGlzLnNhZmVFbWl0KHV0LlBVQkxJU0hFRF9VU0VSX0xJU1QsZSkpOl8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNsaWVudCBub3QgZW1pdCB1c2VyLWxpc3QgZXZlbnQgY2FzZSB0aGVyZSBpcyBubyB1c2VyLWxpc3QgbGlzdGVuZXIsIHVzZXJzOiBcIikuY29uY2F0KGUubWFwKGk9PmkudWlkKS5qb2luKFwiLCBcIikpKTt9KSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihkdC5PTl9SVFBfQ0FQQUJJTElUWV9DSEFOR0UsdD0+e2xldHt2aWRlb19jb2RlYzplfT10O3RoaXMuX3AycENoYW5uZWwgaW5zdGFuY2VvZiBKZCYmdGhpcy5fcDJwQ2hhbm5lbC51cGRhdGVSZW1vdGVSVFBDYXBhYmlsaXRpZXMoZS5tYXAobj0+bi50b0xvd2VyQ2FzZSgpKS5maWx0ZXIobj0+e3ZhciBpO3JldHVybiBXKGk9T2JqZWN0LmtleXMoSnUpKS5jYWxsKGksbil9KSk7fSk7fV9oYW5kbGVQMlBFdmVudHMoKXt0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihkdC5PTl9VU0VSX09GRkxJTkUsKCk9Pnt0aGlzLl9wMnBDaGFubmVsLmRpc2Nvbm5lY3RGb3JSZWNvbm5lY3QoKTt9KSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihpZS5QVUJMSVNILCh0LGUsbik9PntsZXR7dWlkOml9PXQ7dC5mb3JFYWNoKHI9PntsZXR7a2luZDpvLHNzcmNzOnMsbWlkOmEsaXNNdXRlZDpjfT1yO3RoaXMuX2hhbmRsZVAyUEFkZEF1ZGlvT3JWaWRlb1N0cmVhbShvLGksc1swXS5zc3JjSWQsYSk7bGV0IGQ9dGhpcy5fdXNlcnMuZmluZChsPT5sLnVpZD09PWkpO3JldHVybiBkJiZ0aGlzLl9wMnBDaGFubmVsIGluc3RhbmNlb2YgQW4/dGhpcy5fcDJwQ2hhbm5lbC5tb2NrU3Vic2NyaWJlKGQsbyxzWzBdLnNzcmNJZCxhKS50aGVuKCgpPT57ZSgpO30pLmNhdGNoKG4pOmUoKSx0aGlzLl9oYW5kbGVNdXRlU3RyZWFtKGksbywhIWMpfSk7fSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oaWUuQ0FMTCxhc3luYyh0LGUsbik9PntpZih0aGlzLl9wMnBDaGFubmVsIGluc3RhbmNlb2YgQW4pdHJ5e3ZhciBpO2UoYXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5zdGFydFAyUCh7dHVyblNlcnZlcjooaT10aGlzLl9qb2luSW5mbyk9PT1udWxsfHxpPT09dm9pZCAwP3ZvaWQgMDppLnR1cm5TZXJ2ZXJ9LHQpKTt9Y2F0Y2gocil7bihyKTt9fSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24obnQuUDJQX0NPTk5FQ1RJT04sYXN5bmMgdD0+e3RoaXMuX3AycENoYW5uZWwgaW5zdGFuY2VvZiBBbiYmYXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5wMnBDb25uZWN0KHQpO30pLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGllLlVOUFVCTElTSCxhc3luYyh0LGUsbik9PntpZih0aGlzLl9wMnBDaGFubmVsIGluc3RhbmNlb2YgQW4pe2xldHt1bnB1Yk1zZzppLHVpZDpyfT10LG89dGhpcy5fdXNlcnMuZmluZChzPT5zLnVpZD09PXIpO2lmKCFvKXJldHVybiBfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IGZpbmQgcmVtb3RlIHVzZXIsIGlnbm9yZSBtdXRlIGV2ZW50LCB1aWQ6IFwiKS5jb25jYXQocikpLHZvaWQgZSgpO3RyeXtpLmZvckVhY2goYXN5bmMgcz0+e2xldHtzdHJlYW1fdHlwZTphfT1zLGM9YT09PUN0LkF1ZGlvP1EuQVVESU86US5WSURFTzthd2FpdCB0aGlzLl9wMnBDaGFubmVsLnVuc3Vic2NyaWJlKG8sYyksdGhpcy5faGFuZGxlTXV0ZVN0cmVhbShyLGMsITApO30pLGUoKTt9Y2F0Y2gocyl7bihzKTt9fX0pLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGllLkNPTlRST0wsYXN5bmModCxlKT0+e2xldHthY3Rpb246bn09dDtzd2l0Y2gobil7Y2FzZSB0by5NVVRFX0xPQ0FMX1ZJREVPOnRoaXMuX2hhbmRsZU11dGVTdHJlYW0oZSxRLlZJREVPLCEwKTticmVhaztjYXNlIHRvLk1VVEVfTE9DQUxfQVVESU86dGhpcy5faGFuZGxlTXV0ZVN0cmVhbShlLFEuQVVESU8sITApO2JyZWFrO2Nhc2UgdG8uVU5NVVRFX0xPQ0FMX1ZJREVPOnRoaXMuX2hhbmRsZVAyUEFkZEF1ZGlvT3JWaWRlb1N0cmVhbShcInZpZGVvXCIsZSksdGhpcy5faGFuZGxlTXV0ZVN0cmVhbShlLFEuVklERU8sITEpO2JyZWFrO2Nhc2UgdG8uVU5NVVRFX0xPQ0FMX0FVRElPOnRoaXMuX2hhbmRsZVAyUEFkZEF1ZGlvT3JWaWRlb1N0cmVhbShcImF1ZGlvXCIsZSksdGhpcy5faGFuZGxlTXV0ZVN0cmVhbShlLFEuQVVESU8sITEpO319KSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihpZS5SRVNUQVJUX0lDRSxhc3luYyh0LGUsbik9PntpZih0aGlzLl9wMnBDaGFubmVsIGluc3RhbmNlb2YgQW4pdHJ5e2xldHtkaXJlY3Rpb246aSxpY2VQYXJhbWV0ZXI6cn09dDtpIT09Y24uU0VORF9PTkxZfHxyP2UoYXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5yZXN0YXJ0SUNFKGkscikpOih0aGlzLl9wMnBDaGFubmVsLmhhbmRsZURpc2Nvbm5lY3QoaSksZSgpKTt9Y2F0Y2goaSl7bihpKTt9fSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oaWUuQ0FORElEQVRFLHQ9PntpZih0aGlzLl9wMnBDaGFubmVsIGluc3RhbmNlb2YgQW4pe2xldHtjYW5kaWRhdGU6ZSxkaXJlY3Rpb246bn09dDt0aGlzLl9wMnBDaGFubmVsLmFkZFJlbW90ZUNhbmRpZGF0ZShlLG4pO319KSx0aGlzLl9wMnBDaGFubmVsLm9uKHR0LlJlcXVlc3RQMlBSZXN0YXJ0SUNFLGFzeW5jKHQsZSxuKT0+e3RyeXtsZXR7ZGlyZWN0aW9uOml9PXQ7ZShhd2FpdCB0aGlzLl9nYXRld2F5LnNlbmRFeHRlbnNpb25NZXNzYWdlKGllLlJFU1RBUlRfSUNFLHQsaT09PWNuLlNFTkRfT05MWSkpO31jYXRjaChpKXtuKGkpO319KSx0aGlzLl9wMnBDaGFubmVsLm9uKHR0LkxvY2FsQ2FuZGlkYXRlLHQ9Pnt0aGlzLl9nYXRld2F5LnNlbmRFeHRlbnNpb25NZXNzYWdlKGllLkNBTkRJREFURSxKU09OLnN0cmluZ2lmeSh0KSwhMCk7fSksdGhpcy5fcDJwQ2hhbm5lbC5vbih0dC5SZXF1ZXN0UDJQTXV0ZUxvY2FsLGFzeW5jKHQsZSxuKT0+e3RyeXthd2FpdCB0aGlzLl9nYXRld2F5LnNlbmRFeHRlbnNpb25NZXNzYWdlKGllLkNPTlRST0wsdCwhMCksZSgpO31jYXRjaChpKXtuKGkpO319KSx0aGlzLl9wMnBDaGFubmVsLm9uKHR0LlJlcXVlc3RQMlBVbm11dGVSZW1vdGUsYXN5bmModCxlLG4pPT57aWYodGhpcy5fam9pbkluZm8pdHJ5e2F3YWl0IHRoaXMuX2dhdGV3YXkudW5tdXRlUmVtb3RlKHQsdGhpcy5fam9pbkluZm8uc3RyaW5nVWlkfHx0aGlzLl9qb2luSW5mby51aWQpLGUoKTt9Y2F0Y2goaSl7aS5jb2RlPT09Ui5ESVNDT05ORUNUX1AyUD9lKCk6bihpKTt9ZWxzZSBlKCk7fSksdGhpcy5fcDJwQ2hhbm5lbC5vbih0dC5SZXF1ZXN0UDJQTXV0ZVJlbW90ZSxhc3luYyh0LGUsbik9PntpZih0aGlzLl9qb2luSW5mbyl0cnl7YXdhaXQgdGhpcy5fZ2F0ZXdheS5tdXRlUmVtb3RlKHQsdGhpcy5fam9pbkluZm8uc3RyaW5nVWlkfHx0aGlzLl9qb2luSW5mby51aWQpLGUoKTt9Y2F0Y2goaSl7aS5jb2RlPT09Ui5ESVNDT05ORUNUX1AyUD9lKCk6bihpKTt9ZWxzZSBlKCk7fSksdGhpcy5fcDJwQ2hhbm5lbC5vbih0dC5TdGF0ZUNoYW5nZSwodCxlKT0+e2U9PT1SdC5Db25uZWN0ZWQmJnRoaXMuX3AycENoYW5uZWwucmVwdWJsaXNoKCk7fSk7fV9oYW5kbGVQMlBDaGFubmVsRXZlbnRzKCl7dGhpcy5fcDJwQ2hhbm5lbC5vbih0dC5SZXF1ZXN0TXV0ZUxvY2FsLGFzeW5jKHQsZSxuKT0+e2lmKHRoaXMuX2pvaW5JbmZvKXRyeXthd2FpdCB0aGlzLl9nYXRld2F5Lm11dGVMb2NhbCh0LHRoaXMuX2pvaW5JbmZvLnN0cmluZ1VpZHx8dGhpcy5fam9pbkluZm8udWlkKSxlKCk7fWNhdGNoKGkpe2kuY29kZT09PVIuRElTQ09OTkVDVF9QMlA/ZSgpOm4oaSk7fWVsc2UgZSgpO30pLHRoaXMuX3AycENoYW5uZWwub24odHQuUmVxdWVzdFVubXV0ZUxvY2FsLGFzeW5jKHQsZSxuKT0+e2lmKHRoaXMuX2pvaW5JbmZvKXRyeXthd2FpdCB0aGlzLl9nYXRld2F5LnVubXV0ZUxvY2FsKHQsdGhpcy5fam9pbkluZm8uc3RyaW5nVWlkfHx0aGlzLl9qb2luSW5mby51aWQpLGUoKTt9Y2F0Y2goaSl7aS5jb2RlPT09Ui5ESVNDT05ORUNUX1AyUD9lKCk6bihpKTt9ZWxzZSBlKCk7fSksdGhpcy5fcDJwQ2hhbm5lbC5vbih0dC5SZXF1ZXN0UmVQdWJsaXNoLCh0LGUsbik9Pnt0aGlzLnB1Ymxpc2godCwhMSkudGhlbihlKS5jYXRjaChuKTt9KSx0aGlzLl9wMnBDaGFubmVsLm9uKHR0LlJlcXVlc3RSZVB1Ymxpc2hEYXRhQ2hhbm5lbCwodCxlLG4pPT57ai5hbGwodC5tYXAoYXN5bmMgaT0+e2xldCByPWF3YWl0IHRoaXMuX3AycENoYW5uZWwucHVibGlzaERhdGFDaGFubmVsKFtpXSk7dHJ5e3IuZm9yRWFjaChvPT57dGhpcy5fdWlkJiZ0aGlzLl9nYXRld2F5LnB1Ymxpc2hEYXRhQ2hhbm5lbCh0aGlzLl91aWQsbywhMCk7fSk7fWNhdGNoKG8pe2lmKG8uY29kZSE9PVIuRElTQ09OTkVDVF9QMlApdGhyb3cgb319KSkudGhlbihlKS5jYXRjaChuKTt9KSx0aGlzLl9wMnBDaGFubmVsLm9uKHR0LlJlcXVlc3RSZVN1YnNjcmliZSxhc3luYyh0LGUsbik9Pnt0cnl7Zm9yKGxldHt1c2VyOmksa2luZDpyfW9mIHQpcj09PVEuVklERU8/YXdhaXQgdGhpcy5zdWJzY3JpYmUoaSxcInZpZGVvXCIpOmF3YWl0IHRoaXMuc3Vic2NyaWJlKGksXCJhdWRpb1wiKTtlKCk7fWNhdGNoKGkpe24oaSk7fX0pLHRoaXMuX3AycENoYW5uZWwub24odHQuUmVxdWVzdFVwbG9hZCwodCxlKT0+e3RoaXMuX2dhdGV3YXkudXBsb2FkKHQsZSk7fSksdGhpcy5fcDJwQ2hhbm5lbC5vbih0dC5SZXF1ZXN0VXBsb2FkU3RhdHMsdD0+e3RoaXMuX2dhdGV3YXkudXBsb2FkV1JUQ1N0YXRzKHQpO30pLHRoaXMuX3AycENoYW5uZWwub24odHQuTWVkaWFSZWNvbm5lY3RTdGFydCx0PT57dGhpcy5zYWZlRW1pdCh1dC5NRURJQV9SRUNPTk5FQ1RfU1RBUlQsdCk7fSksdGhpcy5fcDJwQ2hhbm5lbC5vbih0dC5NZWRpYVJlY29ubmVjdEVuZCx0PT57dGhpcy5zYWZlRW1pdCh1dC5NRURJQV9SRUNPTk5FQ1RfRU5ELHQpO30pLHRoaXMuX3AycENoYW5uZWwub24odHQuTmVlZFNpZ25hbFJUVCx0PT57dCh0aGlzLl9nYXRld2F5LmdldFNpZ25hbFJUVCgpKTt9KSx0aGlzLl9wMnBDaGFubmVsLm9uKHR0LlJlcXVlc3RSZXN0YXJ0SUNFLGFzeW5jIHQ9PntpZih0aGlzLl9wMnBDaGFubmVsIGluc3RhbmNlb2YgQW4pcmV0dXJuO2xldCBlPWF3YWl0IHRoaXMuX3AycENoYW5uZWwucmVzdGFydElDRSh0KSxuPWF3YWl0IGUubmV4dCgpO2lmKG4uZG9uZSlyZXR1cm47bGV0IGk9bi52YWx1ZSxyO3RyeXtyPWF3YWl0IHRoaXMuX2dhdGV3YXkucmVzdGFydElDRSh7aWNlUGFyYW1ldGVyczppfSk7fWNhdGNoKHMpe3JldHVybiB2b2lkIGUudGhyb3cocyl9bGV0e2ljZVBhcmFtZXRlcnM6b309ZnVuY3Rpb24ocyl7bGV0IGE9cy5pY2VQYXJhbWV0ZXJzO3JldHVybiB7aWNlUGFyYW1ldGVyczp7aWNlVWZyYWc6YS5pY2VVZnJhZyxpY2VQd2Q6YS5pY2VQd2R9fX0ocik7YXdhaXQgZS5uZXh0KHtyZW1vdGVJY2VQYXJhbWV0ZXJzOm99KTt9KSx0aGlzLl9wMnBDaGFubmVsLm9uKHR0LlJlcXVlc3RSZWNvbm5lY3QsYXN5bmMoKT0+e3RoaXMuX2dhdGV3YXkucmVjb25uZWN0KCk7fSksdGhpcy5fcDJwQ2hhbm5lbC5vbih0dC5SZXF1ZXN0UmVjb25uZWN0UEMsYXN5bmMoKT0+e3ZhciB0O2xldHtpY2VQYXJhbWV0ZXJzOmUsZHRsc1BhcmFtZXRlcnM6bixydHBDYXBhYmlsaXRpZXM6aX09YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5zdGFydFAyUENvbm5lY3Rpb24oe3R1cm5TZXJ2ZXI6KHQ9dGhpcy5fam9pbkluZm8pPT09bnVsbHx8dD09PXZvaWQgMD92b2lkIDA6dC50dXJuU2VydmVyfSkse2dhdGV3YXlFc3RhYmxpc2hQYXJhbXM6cixnYXRld2F5QWRkcmVzczpvfT1hd2FpdCB0aGlzLl9nYXRld2F5LnJlY29ubmVjdFBDKHtpY2VQYXJhbWV0ZXJzOmUsZHRsc1BhcmFtZXRlcnM6bixydHBDYXBhYmlsaXRpZXM6aX0pLHM9cUkocixvKTthd2FpdCB0aGlzLl9wMnBDaGFubmVsLmNvbm5lY3QocyksYXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5yZXB1Ymxpc2goKSxhd2FpdCB0aGlzLl9wMnBDaGFubmVsLnJlU3Vic2NyaWJlKCk7fSksdGhpcy5fcDJwQ2hhbm5lbC5vbih0dC5SZXF1ZXN0VW5wdWJsaXNoRm9yUmVjb25uZWN0UEMsYXN5bmModCxlLG4pPT57dGhpcy5fam9pbkluZm8mJnRoaXMuX3VpZCE9PXZvaWQgMD8oYXdhaXQgdGhpcy5fZ2F0ZXdheS51bnB1Ymxpc2godCx0aGlzLl91aWQpLGUoKSk6bigpO30pLHRoaXMuX3AycENoYW5uZWwub24odHQuUDJQTG9zdCwoKT0+e3RoaXMuc2FmZUVtaXQodXQuUDJQX0xPU1QsdGhpcy5zdG9yZS51aWQpO30pLHRoaXMuX3AycENoYW5uZWwub24odHQuVXBkYXRlVmlkZW9FbmNvZGVyLHQ9Pnt0Ll9lbmNvZGVyQ29uZmlnJiZ0aGlzLl9nYXRld2F5LnNldFZpZGVvUHJvZmlsZSh0Ll9lbmNvZGVyQ29uZmlnKTt9KSx0aGlzLl9wMnBDaGFubmVsLm9uKHR0LkNvbm5lY3Rpb25UeXBlQ2hhbmdlLHQ9Pnt0aGlzLnNhZmVFbWl0KHV0LklTX1VTSU5HX0NMT1VEX1BST1hZLHQpO30pLHRoaXMuX3AycENoYW5uZWwub24odHQuUmVxdWVzdExvd1N0cmVhbVBhcmFtZXRlcix0PT57dCh0aGlzLl9sb3dTdHJlYW1QYXJhbWV0ZXJ8fHt3aWR0aDoxNjAsaGVpZ2h0OjEyMCxmcmFtZXJhdGU6MTUsYml0cmF0ZTo1MH0pO30pLHRoaXMuX3AycENoYW5uZWwub24odHQuUXVlcnlDbGllbnRDb25uZWN0aW9uU3RhdGUsdD0+e3QodGhpcy5jb25uZWN0aW9uU3RhdGUpO30pO31nZXRLZXlNZXRyaWNzKCl7cmV0dXJuIHRoaXMuc3RvcmUua2V5TWV0cmljc31hc3luYyBlbmFibGVDb250ZW50SW5zcGVjdCh0KXtpZighdGhpcy5fam9pbkluZm98fHRoaXMuY29ubmVjdGlvblN0YXRlIT09XCJDT05ORUNURURcIil0aHJvdyBuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OLFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBjcmVhdGUgY29udGVudCBpbnNwZWN0LCBwbGVhc2Ugam9pbiBjaGFubmVsIGZpcnN0XCIpKTtpZih0aGlzLl9pbnNwZWN0KXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBJbnNwZWN0IGNvbnRlbnQgc2VydmljZSBhbHJlYWR5IGluIGNvbm5lY3RpbmcvY29ubmVjdGVkIHN0YXRlXCIpKTt0cnl7bGV0IG49KGU9e2NvbmZpZzp0fSxaYShcIkNvbnRlbnRJbnNwZWN0XCIpLmNyZWF0ZShlKSk7dGhpcy5faW5zcGVjdD1uLHRoaXMuaGFuZGxlVmlkZW9JbnNwZWN0RXZlbnRzKG4pO2xldHthcHBJZDppLGNuYW1lOnIsc2lkOm8sdG9rZW46cyx1aWQ6YSxjaWQ6Yyx2aWQ6ZH09dGhpcy5fam9pbkluZm87YXdhaXQgbi5pbml0KHthcHBJZDppLGFyZWFDb2RlOlwiXCIsY25hbWU6cixzaWQ6byx0b2tlbjpzLHVpZDphLGNpZDpjLHZpZDpkP051bWJlcihkKTowfSxFZSk7fWNhdGNoKG4pe3Rocm93IEFycmF5LmlzQXJyYXkobik/blswXTpufXZhciBlO31oYW5kbGVWaWRlb0luc3BlY3RFdmVudHModCl7dC5vbih3ZS5DT05ORUNUSU9OX1NUQVRFX0NIQU5HRSwoZSxuKT0+e2lmKHRoaXMuc2FmZUVtaXQodXQuQ09OVEVOVF9JTlNQRUNUX0NPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFLGUsbiksbj09PUVpLkNPTk5FQ1RFRCl7aWYodGhpcy5jb25uZWN0aW9uU3RhdGUhPT1cIkNPTk5FQ1RFRFwiKXJldHVybiB2b2lkIHRoaXMuc2FmZUVtaXQodXQuQ09OVEVOVF9JTlNQRUNUX0VSUk9SLG5ldyBPKFIuT1BFUkFUSU9OX0FCT1JURUQsXCJDb250ZW50IGluc3BlY3Qgd2FzIGNhbmNlbGxlZCBiZWNhdXNlIGl0IGxlZnQgdGhlIGNoYW5uZWxcIikpO3QuaW5zcGVjdEltYWdlKCk7fX0pLHQub24od2UuSU5TUEVDVF9SRVNVTFQsKGUsbik9Pnt2YXIgaTtpZihuPy5jb2RlPT09Ui5JTlZBTElEX09QRVJBVElPTiYmdGhpcy5jb25uZWN0aW9uU3RhdGU9PT1cIkRJU0NPTk5FQ1RFRFwiKXJldHVybiBfLmRlYnVnKFwiU3RvcCBpbnNwZWN0IGNvbnRlbnQgYmVjYXVzZSB0aGF0IGhhcyBsZWZ0IGNoYW5uZWxcIiksdGhpcz09bnVsbHx8KGk9dGhpcy5faW5zcGVjdCk9PT1udWxsfHxpPT09dm9pZCAwfHxpLmNsb3NlKCksdm9pZCh0aGlzLl9pbnNwZWN0PXZvaWQgMCk7dGhpcy5zYWZlRW1pdCh1dC5DT05URU5UX0lOU1BFQ1RfUkVTVUxULGUsbik7fSksdC5vbih3ZS5DTElFTlRfTE9DQUxfVklERU9fVFJBQ0ssZT0+e2UodGhpcy5sb2NhbFRyYWNrcy5maWx0ZXIobj0+bi50cmFja01lZGlhVHlwZT09PVwidmlkZW9cIilbMF0pO30pO31hc3luYyBkaXNhYmxlQ29udGVudEluc3BlY3QoKXtpZighdGhpcy5faW5zcGVjdCl0aHJvdyBuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OLFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gaW5zcGVjdFZpZGVvQ29udGVudCBub3Qgc3RhcnRlZFwiKSk7dHJ5e3RoaXMuX2luc3BlY3QuY2xvc2UoKSx0aGlzLl9pbnNwZWN0PXZvaWQgMDt9Y2F0Y2godCl7dGhyb3cgQXJyYXkuaXNBcnJheSh0KT90WzBdOnR9fWFzeW5jIHNldEltYWdlTW9kZXJhdGlvbih0LGUpe2lmKE5yKHQsXCJlbmFibGVkXCIpLHQpe2lmKCFlKXRocm93IG5ldyBPKFIuSU5WQUxJRF9QQVJBTVMsXCJjb25maWcgaXMgcmVxdWlyZWRcIik7aWYoazAoZSksIXRoaXMuX2pvaW5JbmZvKXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IGNyZWF0ZSBpbWFnZSBtb2RlcmF0aW9uLCBwbGVhc2Ugam9pbiBjaGFubmVsIGZpcnN0XCIpO3RyeXtpZih0aGlzLl9tb2RlcmF0aW9uKXRoaXMuX21vZGVyYXRpb24udXBkYXRlQ29uZmlnKGUpO2Vsc2Uge2xldCBpPShuPXtjb25maWc6ZX0sWmEoXCJJbWFnZU1vZGVyYXRpb25cIikuY3JlYXRlKG4pKTt0aGlzLl9tb2RlcmF0aW9uPWksdGhpcy5oYW5kbGVJbWFnZU1vZGVyYXRpb25FdmVudHMoaSk7bGV0e2FwcElkOnIsY25hbWU6byxzaWQ6cyx0b2tlbjphLHVpZDpjLGNpZDpkLHZpZDpsfT10aGlzLl9qb2luSW5mbzthd2FpdCBpLmluaXQoe2FwcElkOnIsYXJlYUNvZGU6XCJcIixjbmFtZTpvLHNpZDpzLHRva2VuOmEsdWlkOmMsY2lkOmQsdmlkOmw/TnVtYmVyKGwpOjB9LEVlKTt9fWNhdGNoKGkpe3Rocm93IEFycmF5LmlzQXJyYXkoaSk/aVswXTppfX1lbHNlIHt2YXIgbjtpZighdGhpcy5fbW9kZXJhdGlvbil0aHJvdyBuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OLFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gaW1hZ2UgbW9kZXJhdGlvbiBub3Qgc3RhcnRlZFwiKSk7dHJ5e3RoaXMuX21vZGVyYXRpb24uY2xvc2UoKSx0aGlzLl9tb2RlcmF0aW9uLnJlbW92ZUFsbExpc3RlbmVycygpLHRoaXMuX21vZGVyYXRpb249dm9pZCAwO31jYXRjaChpKXt0aHJvdyBBcnJheS5pc0FycmF5KGkpP2lbMF06aX19fWhhbmRsZUltYWdlTW9kZXJhdGlvbkV2ZW50cyh0KXt0Lm9uKE1pLkNPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFLChlLG4pPT57aWYodGhpcy5zYWZlRW1pdCh1dC5JTUFHRV9NT0RFUkFUSU9OX0NPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFLGUsbiksZT09PVhuLkNPTk5FQ1RFRCl7aWYodGhpcy5jb25uZWN0aW9uU3RhdGUhPT1cIkNPTk5FQ1RFRFwiKXRocm93IHRoaXMuc2V0SW1hZ2VNb2RlcmF0aW9uKCExKSxuZXcgTyhSLk9QRVJBVElPTl9BQk9SVEVELFwiSW1hZ2UgbW9kZXJhdGlvbiB3YXMgY2FuY2VsbGVkIGJlY2F1c2UgaXQgbGVmdCB0aGUgY2hhbm5lbFwiKTt0Lmluc3BlY3RJbWFnZSgpO319KSx0Lm9uKE1pLkNMSUVOVF9MT0NBTF9WSURFT19UUkFDSyxlPT57ZSh0aGlzLmxvY2FsVHJhY2tzLmZpbHRlcihuPT5uLnRyYWNrTWVkaWFUeXBlPT09XCJ2aWRlb1wiKVswXSk7fSk7fXNldFAyUFRyYW5zcG9ydCh0KXtpZihmdW5jdGlvbihlKXtDZShlLFwidHJhbnNwb3J0XCIsW1wiZGVmYXVsdFwiLFwiYXV0b1wiLFwicmVsYXlcIixcInNkLXJ0blwiXSk7fSh0KSx0aGlzLm1vZGUhPT1cInAycFwiKXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJvbmx5IHAycCBtb2RlIGNhbiBzZXQgcDJwVHJhbnNwb3J0XCIpO3RoaXMuc3RvcmUucDJwVHJhbnNwb3J0PXQsXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0IGNsaWVudCBwMnBUcmFuc3BvcnQgdG8gXCIpLmNvbmNhdCh0KSk7fWdldEpvaW5DaGFubmVsU2VydmljZVJlY29yZHMoKXtyZXR1cm4gXy5kZWJ1ZyhcImdldEpvaW5DaGFubmVsU2VydmljZVJlY29yZHNcIiksdGhpcy5zdG9yZS5qb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzfWFzeW5jIHNldFB1Ymxpc2hBdWRpb0ZpbHRlckVuYWJsZWQodCl7TnIodCxcImVuYWJsZWRcIiksT3QoXCJFTkFCTEVfUFVCTElTSF9BVURJT19GSUxURVJcIix0KSx0aGlzLl9qb2luSW5mbyYmYXdhaXQgdGhpcy5fZ2F0ZXdheS5zZXRQdWJsaXNoQXVkaW9GaWx0ZXJFbmFibGVkKHQpO31faGFuZGxlUmVzZXRBZGRTdHJlYW0odCxlKXtzd2l0Y2goZSl7Y2FzZVwiYXVkaW9cIjp0Ll9hdWRpb19hZGRlZF89ITEsdC5fdHJ1c3RfYXVkaW9fc3RyZWFtX2FkZGVkX3N0YXRlXz0hMDticmVhaztjYXNlXCJ2aWRlb1wiOnQuX3ZpZGVvX2FkZGVkXz0hMSx0Ll90cnVzdF92aWRlb19zdHJlYW1fYWRkZWRfc3RhdGVfPSEwO319fSxxKEcucHJvdG90eXBlLFwibGVhdmVcIixbc3ldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRy5wcm90b3R5cGUsXCJsZWF2ZVwiKSxHLnByb3RvdHlwZSkscShHLnByb3RvdHlwZSxcInB1Ymxpc2hcIixbYXldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRy5wcm90b3R5cGUsXCJwdWJsaXNoXCIpLEcucHJvdG90eXBlKSxxKEcucHJvdG90eXBlLFwidW5wdWJsaXNoXCIsW2N5XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEcucHJvdG90eXBlLFwidW5wdWJsaXNoXCIpLEcucHJvdG90eXBlKSxxKEcucHJvdG90eXBlLFwic3Vic2NyaWJlXCIsW2R5XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEcucHJvdG90eXBlLFwic3Vic2NyaWJlXCIpLEcucHJvdG90eXBlKSxxKEcucHJvdG90eXBlLFwicHJlc3Vic2NyaWJlXCIsW2x5XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEcucHJvdG90eXBlLFwicHJlc3Vic2NyaWJlXCIpLEcucHJvdG90eXBlKSxxKEcucHJvdG90eXBlLFwibWFzc1N1YnNjcmliZVwiLFt1eV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihHLnByb3RvdHlwZSxcIm1hc3NTdWJzY3JpYmVcIiksRy5wcm90b3R5cGUpLHEoRy5wcm90b3R5cGUsXCJ1bnN1YnNjcmliZVwiLFtoeV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihHLnByb3RvdHlwZSxcInVuc3Vic2NyaWJlXCIpLEcucHJvdG90eXBlKSxxKEcucHJvdG90eXBlLFwibWFzc1Vuc3Vic2NyaWJlXCIsW3B5XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEcucHJvdG90eXBlLFwibWFzc1Vuc3Vic2NyaWJlXCIpLEcucHJvdG90eXBlKSxxKEcucHJvdG90eXBlLFwic2V0TG93U3RyZWFtUGFyYW1ldGVyXCIsW195XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEcucHJvdG90eXBlLFwic2V0TG93U3RyZWFtUGFyYW1ldGVyXCIpLEcucHJvdG90eXBlKSxxKEcucHJvdG90eXBlLFwiZW5hYmxlRHVhbFN0cmVhbVwiLFtFeV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihHLnByb3RvdHlwZSxcImVuYWJsZUR1YWxTdHJlYW1cIiksRy5wcm90b3R5cGUpLHEoRy5wcm90b3R5cGUsXCJkaXNhYmxlRHVhbFN0cmVhbVwiLFtteV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihHLnByb3RvdHlwZSxcImRpc2FibGVEdWFsU3RyZWFtXCIpLEcucHJvdG90eXBlKSxxKEcucHJvdG90eXBlLFwic2V0Q2xpZW50Um9sZVwiLFtmeV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihHLnByb3RvdHlwZSxcInNldENsaWVudFJvbGVcIiksRy5wcm90b3R5cGUpLHEoRy5wcm90b3R5cGUsXCJzZXRQcm94eVNlcnZlclwiLFtneV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihHLnByb3RvdHlwZSxcInNldFByb3h5U2VydmVyXCIpLEcucHJvdG90eXBlKSxxKEcucHJvdG90eXBlLFwic2V0VHVyblNlcnZlclwiLFtUeV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihHLnByb3RvdHlwZSxcInNldFR1cm5TZXJ2ZXJcIiksRy5wcm90b3R5cGUpLHEoRy5wcm90b3R5cGUsXCJzZXRMaWNlbnNlXCIsW1N5XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEcucHJvdG90eXBlLFwic2V0TGljZW5zZVwiKSxHLnByb3RvdHlwZSkscShHLnByb3RvdHlwZSxcInN0YXJ0UHJveHlTZXJ2ZXJcIixbUnldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRy5wcm90b3R5cGUsXCJzdGFydFByb3h5U2VydmVyXCIpLEcucHJvdG90eXBlKSxxKEcucHJvdG90eXBlLFwic3RvcFByb3h5U2VydmVyXCIsW0N5XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEcucHJvdG90eXBlLFwic3RvcFByb3h5U2VydmVyXCIpLEcucHJvdG90eXBlKSxxKEcucHJvdG90eXBlLFwic2V0TG9jYWxBY2Nlc3NQb2ludHNWMlwiLFtJeV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihHLnByb3RvdHlwZSxcInNldExvY2FsQWNjZXNzUG9pbnRzVjJcIiksRy5wcm90b3R5cGUpLHEoRy5wcm90b3R5cGUsXCJzZXRMb2NhbEFjY2Vzc1BvaW50c1wiLFt2eV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihHLnByb3RvdHlwZSxcInNldExvY2FsQWNjZXNzUG9pbnRzXCIpLEcucHJvdG90eXBlKSxxKEcucHJvdG90eXBlLFwic2V0UmVtb3RlRGVmYXVsdFZpZGVvU3RyZWFtVHlwZVwiLFt5eV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihHLnByb3RvdHlwZSxcInNldFJlbW90ZURlZmF1bHRWaWRlb1N0cmVhbVR5cGVcIiksRy5wcm90b3R5cGUpLHEoRy5wcm90b3R5cGUsXCJzZXRSZW1vdGVWaWRlb1N0cmVhbVR5cGVcIixbQXldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRy5wcm90b3R5cGUsXCJzZXRSZW1vdGVWaWRlb1N0cmVhbVR5cGVcIiksRy5wcm90b3R5cGUpLHEoRy5wcm90b3R5cGUsXCJzZXRTdHJlYW1GYWxsYmFja09wdGlvblwiLFtieV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihHLnByb3RvdHlwZSxcInNldFN0cmVhbUZhbGxiYWNrT3B0aW9uXCIpLEcucHJvdG90eXBlKSxxKEcucHJvdG90eXBlLFwic2V0RW5jcnlwdGlvbkNvbmZpZ1wiLFt3eV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihHLnByb3RvdHlwZSxcInNldEVuY3J5cHRpb25Db25maWdcIiksRy5wcm90b3R5cGUpLHEoRy5wcm90b3R5cGUsXCJyZW5ld1Rva2VuXCIsW095XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEcucHJvdG90eXBlLFwicmVuZXdUb2tlblwiKSxHLnByb3RvdHlwZSkscShHLnByb3RvdHlwZSxcImVuYWJsZUF1ZGlvVm9sdW1lSW5kaWNhdG9yXCIsW055XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEcucHJvdG90eXBlLFwiZW5hYmxlQXVkaW9Wb2x1bWVJbmRpY2F0b3JcIiksRy5wcm90b3R5cGUpLHEoRy5wcm90b3R5cGUsXCJzdGFydExpdmVTdHJlYW1pbmdcIixbRHldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRy5wcm90b3R5cGUsXCJzdGFydExpdmVTdHJlYW1pbmdcIiksRy5wcm90b3R5cGUpLHEoRy5wcm90b3R5cGUsXCJzZXRMaXZlVHJhbnNjb2RpbmdcIixbUHldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRy5wcm90b3R5cGUsXCJzZXRMaXZlVHJhbnNjb2RpbmdcIiksRy5wcm90b3R5cGUpLHEoRy5wcm90b3R5cGUsXCJzdG9wTGl2ZVN0cmVhbWluZ1wiLFtreV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihHLnByb3RvdHlwZSxcInN0b3BMaXZlU3RyZWFtaW5nXCIpLEcucHJvdG90eXBlKSxxKEcucHJvdG90eXBlLFwic3RhcnRDaGFubmVsTWVkaWFSZWxheVwiLFtMeV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihHLnByb3RvdHlwZSxcInN0YXJ0Q2hhbm5lbE1lZGlhUmVsYXlcIiksRy5wcm90b3R5cGUpLHEoRy5wcm90b3R5cGUsXCJ1cGRhdGVDaGFubmVsTWVkaWFSZWxheVwiLFtNeV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihHLnByb3RvdHlwZSxcInVwZGF0ZUNoYW5uZWxNZWRpYVJlbGF5XCIpLEcucHJvdG90eXBlKSxxKEcucHJvdG90eXBlLFwic3RvcENoYW5uZWxNZWRpYVJlbGF5XCIsW1V5XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEcucHJvdG90eXBlLFwic3RvcENoYW5uZWxNZWRpYVJlbGF5XCIpLEcucHJvdG90eXBlKSxxKEcucHJvdG90eXBlLFwic2VuZEN1c3RvbVJlcG9ydE1lc3NhZ2VcIixbeHldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRy5wcm90b3R5cGUsXCJzZW5kQ3VzdG9tUmVwb3J0TWVzc2FnZVwiKSxHLnByb3RvdHlwZSkscShHLnByb3RvdHlwZSxcInBpY2tTVkNMYXllclwiLFtWeV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihHLnByb3RvdHlwZSxcInBpY2tTVkNMYXllclwiKSxHLnByb3RvdHlwZSkscShHLnByb3RvdHlwZSxcInNldFJUTUNvbmZpZ1wiLFtGeV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihHLnByb3RvdHlwZSxcInNldFJUTUNvbmZpZ1wiKSxHLnByb3RvdHlwZSkscShHLnByb3RvdHlwZSxcImVuYWJsZUNvbnRlbnRJbnNwZWN0XCIsW0J5XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEcucHJvdG90eXBlLFwiZW5hYmxlQ29udGVudEluc3BlY3RcIiksRy5wcm90b3R5cGUpLHEoRy5wcm90b3R5cGUsXCJkaXNhYmxlQ29udGVudEluc3BlY3RcIixbanldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRy5wcm90b3R5cGUsXCJkaXNhYmxlQ29udGVudEluc3BlY3RcIiksRy5wcm90b3R5cGUpLHEoRy5wcm90b3R5cGUsXCJzZXRJbWFnZU1vZGVyYXRpb25cIixbR3ldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRy5wcm90b3R5cGUsXCJzZXRJbWFnZU1vZGVyYXRpb25cIiksRy5wcm90b3R5cGUpLHEoRy5wcm90b3R5cGUsXCJzZXRQMlBUcmFuc3BvcnRcIixbV3ldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRy5wcm90b3R5cGUsXCJzZXRQMlBUcmFuc3BvcnRcIiksRy5wcm90b3R5cGUpLHEoRy5wcm90b3R5cGUsXCJnZXRKb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzXCIsW0h5XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEcucHJvdG90eXBlLFwiZ2V0Sm9pbkNoYW5uZWxTZXJ2aWNlUmVjb3Jkc1wiKSxHLnByb3RvdHlwZSkscShHLnByb3RvdHlwZSxcInNldFB1Ymxpc2hBdWRpb0ZpbHRlckVuYWJsZWRcIixbS3ldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRy5wcm90b3R5cGUsXCJzZXRQdWJsaXNoQXVkaW9GaWx0ZXJFbmFibGVkXCIpLEcucHJvdG90eXBlKSxHKSxTdT1jbGFzcyB0e2NvbnN0cnVjdG9yKGUsbil7VCh0aGlzLFwiaWRcIiwwKSxUKHRoaXMsXCJlbGVtZW50XCIsdm9pZCAwKSxUKHRoaXMsXCJwZWVyUGFpclwiLHZvaWQgMCksVCh0aGlzLFwiY29udGV4dFwiLHZvaWQgMCksVCh0aGlzLFwiYXVkaW9QbGF5ZXJFbGVtZW50XCIsdm9pZCAwKSxUKHRoaXMsXCJhdWRpb1RyYWNrXCIsdm9pZCAwKSx0LmNvdW50Kz0xLHRoaXMuaWQ9dC5jb3VudCx0aGlzLmVsZW1lbnQ9ZSx0aGlzLmNvbnRleHQ9bjt9aW5pdFBlZXJzKCl7dGhpcy5wZWVyUGFpcj1bbmV3IFJUQ1BlZXJDb25uZWN0aW9uLG5ldyBSVENQZWVyQ29ubmVjdGlvbl0sdGhpcy5wZWVyUGFpclsxXS5vbnRyYWNrPWU9PntsZXQgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYXVkaW9cIik7bi5zcmNPYmplY3Q9bmV3IE1lZGlhU3RyZWFtKFtlLnRyYWNrXSksbi5wbGF5KCksdGhpcy5hdWRpb1BsYXllckVsZW1lbnQ9bjt9O31hc3luYyBzd2l0Y2hTZHAoKXtpZighdGhpcy5wZWVyUGFpcilyZXR1cm47bGV0IGU9YXN5bmMoaSxyKT0+e2xldCBvPXI9PT1cIm9mZmVyXCI/YXdhaXQgaS5jcmVhdGVPZmZlcigpOmF3YWl0IGkuY3JlYXRlQW5zd2VyKCk7cmV0dXJuIGF3YWl0IGkuc2V0TG9jYWxEZXNjcmlwdGlvbihvKSxpLmljZUdhdGhlcmluZ1N0YXRlPT09XCJjb21wbGV0ZVwiP2kubG9jYWxEZXNjcmlwdGlvbjpuZXcgaihzPT57aS5vbmljZWdhdGhlcmluZ3N0YXRlY2hhbmdlPSgpPT57aS5pY2VHYXRoZXJpbmdTdGF0ZT09PVwiY29tcGxldGVcIiYmcyhpLmxvY2FsRGVzY3JpcHRpb24pO307fSl9LG49YXN5bmMoaSxyKT0+YXdhaXQgaS5zZXRSZW1vdGVEZXNjcmlwdGlvbihyKTt0cnl7bGV0IGk9YXdhaXQgZSh0aGlzLnBlZXJQYWlyWzBdLFwib2ZmZXJcIik7YXdhaXQgbih0aGlzLnBlZXJQYWlyWzFdLGkpO2xldCByPWF3YWl0IGUodGhpcy5wZWVyUGFpclsxXSxcImFuc3dlclwiKTthd2FpdCBuKHRoaXMucGVlclBhaXJbMF0scik7fWNhdGNoKGkpe3Rocm93IG5ldyBPKFIuTE9DQUxfQUVDX0VSUk9SLGkudG9TdHJpbmcoKSkucHJpbnQoKX19YXN5bmMgZ2V0VHJhY2tzRnJvbU1lZGlhRWxlbWVudChlKXtpZih0aGlzLmF1ZGlvVHJhY2spcmV0dXJuIHRoaXMuYXVkaW9UcmFjaztsZXQgbjt0cnl7ZSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQmJihlLmNhcHR1cmVTdHJlYW0/ZS5jYXB0dXJlU3RyZWFtKCk6ZS5tb3pDYXB0dXJlU3RyZWFtKCkpLG49dGhpcy5jb250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtRGVzdGluYXRpb24oKSx0aGlzLmNvbnRleHQuY3JlYXRlTWVkaWFFbGVtZW50U291cmNlKGUpLmNvbm5lY3Qobik7fWNhdGNoKHIpe3Rocm93IG5ldyBPKFIuTE9DQUxfQUVDX0VSUk9SLHIudG9TdHJpbmcoKSkucHJpbnQoKX1pZighbil0aHJvdyBuZXcgTyhSLkxPQ0FMX0FFQ19FUlJPUixcIm5vIGRlc3Qgbm9kZSB3aGVuIGxvY2FsIGFlY1wiKS5wcmludCgpO2xldCBpPW4uc3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF07cmV0dXJuIHRoaXMuYXVkaW9UcmFjaz1pLGl9Z2V0RWxlbWVudCgpe3JldHVybiB0aGlzLmVsZW1lbnR9YXN5bmMgc3RhcnRFY2hvQ2FuY2VsbGF0aW9uKCl7dGhpcy5jb250ZXh0LnJlc3VtZSgpLHRoaXMucGVlclBhaXImJnRoaXMuY2xvc2UoKSx0aGlzLmluaXRQZWVycygpO2xldCBlPXRoaXMuZWxlbWVudCxuPWF3YWl0IHRoaXMuZ2V0VHJhY2tzRnJvbU1lZGlhRWxlbWVudChlKTt0aGlzLnBlZXJQYWlyJiZ0aGlzLnBlZXJQYWlyWzBdLmFkZFRyYWNrKG4pLGF3YWl0IHRoaXMuc3dpdGNoU2RwKCk7fWNsb3NlKCl7Xy5kZWJ1ZyhcImNsb3NlIGVjaG8gY2FuY2VsbGF0aW9uIHVuaXQsIGlkIGlzXCIsdGhpcy5pZCksdGhpcy5hdWRpb1BsYXllckVsZW1lbnQmJnRoaXMuYXVkaW9QbGF5ZXJFbGVtZW50LnBhdXNlKCksdGhpcy5wZWVyUGFpciYmdGhpcy5wZWVyUGFpci5mb3JFYWNoKGU9PntlLmNsb3NlKCk7fSksdGhpcy5wZWVyUGFpcj12b2lkIDAsdGhpcy5hdWRpb1BsYXllckVsZW1lbnQ9dm9pZCAwO319LHF5LFFkO1QoU3UsXCJjb3VudFwiLDApO3ZhciBMVz13aW5kb3cuQXVkaW9Db250ZXh0fHx3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0LE1XPW5ldyhxeT0kKHtyZXBvcnQ6WH0pLHEoKFFkPWNsYXNze2NvbnN0cnVjdG9yKCl7VCh0aGlzLFwidW5pdHNcIixbXSksVCh0aGlzLFwiY29udGV4dFwiLHZvaWQgMCk7fXByb2Nlc3NFeHRlcm5hbE1lZGlhQUVDKHQpe2lmKCF0aGlzLl9kb2VzRW52aXJvbm1lbnROZWVkQUVDKCkpcmV0dXJuIF8uZGVidWcoXCJ0aGUgc3lzdGVtIGRvZXMgbm90IG5lZWQgdG8gcHJvY2VzcyBsb2NhbCBhZWNcIiksLTE7dGhpcy5jb250ZXh0fHwodGhpcy5jb250ZXh0PW5ldyBMVyk7bGV0IGU9dGhpcy51bml0cy5maW5kKG49Pm4mJm4uZ2V0RWxlbWVudCgpPT09dCk7cmV0dXJuIGV8fChlPW5ldyBTdSh0LHRoaXMuY29udGV4dCksdGhpcy51bml0cy5wdXNoKGUpKSxlLnN0YXJ0RWNob0NhbmNlbGxhdGlvbigpLF8uZGVidWcoXCJzdGFydCBwcm9jZXNzaW5nIGxvY2FsIGF1ZGlvIGVjaG8gY2FuY2VsbGF0aW9uLCBpZCBpc1wiLGUuaWQpLGUuaWR9X2RvZXNFbnZpcm9ubWVudE5lZWRBRUMoKXtyZXR1cm4gbXQoKS5uYW1lIT09SXQuU0FGQVJJfX0pLnByb3RvdHlwZSxcInByb2Nlc3NFeHRlcm5hbE1lZGlhQUVDXCIsW3F5XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFFkLnByb3RvdHlwZSxcInByb2Nlc3NFeHRlcm5hbE1lZGlhQUVDXCIpLFFkLnByb3RvdHlwZSksUWQpO2Z1bmN0aW9uIHp5KHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYoaT1pLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpLmVudW1lcmFibGV9KSksbi5wdXNoLmFwcGx5KG4saSk7fXJldHVybiBufWZ1bmN0aW9uIEp5KHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXSE9bnVsbD9hcmd1bWVudHNbZV06e307ZSUyP3p5KE9iamVjdChuKSwhMCkuZm9yRWFjaChmdW5jdGlvbihpKXtUKHQsaSxuW2ldKTt9KTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTp6eShPYmplY3QobikpLmZvckVhY2goZnVuY3Rpb24oaSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsaSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4saSkpO30pO31yZXR1cm4gdH12YXIgSV89d2luZG93fHxkb2N1bWVudDtmdW5jdGlvbiBMMCh0KXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMCYmYXJndW1lbnRzWzFdO2lmKCFJXylyZXR1cm47bGV0IG49TXQuX2NzcEV2ZW50SGFuZGxlclBvaW50ZXI7aWYobiYmZSlyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKG4sZSk7bGV0IGk9cj0+e2lmKCEociYmci5ibG9ja2VkVVJJJiYoTXQub25TZWN1cml0eVBvbGljeVZpb2xhdGlvbnx8TXQuZ2V0TGlzdGVuZXJzKG5yLlNFQ1VSSVRZX1BPTElDWV9WSU9MQVRJT04pLmxlbmd0aD4wKSkpcmV0dXJuO2xldCBvPXIuYmxvY2tlZFVSSTt2KFwiQ1NQX0RFVEVDVEVEX0hPU1ROQU1FX0xJU1RcIikuc29tZShzPT5XKG8pLmNhbGwobyxzKSkmJihNdC5vblNlY3VyaXR5UG9saWN5VmlvbGF0aW9uJiZ0eXBlb2YgTXQub25TZWN1cml0eVBvbGljeVZpb2xhdGlvbj09XCJmdW5jdGlvblwiJiZNdC5vblNlY3VyaXR5UG9saWN5VmlvbGF0aW9uKHIpLE10LmdldExpc3RlbmVycyhuci5TRUNVUklUWV9QT0xJQ1lfVklPTEFUSU9OKS5sZW5ndGg+MCYmTXQuc2FmZUVtaXQobnIuU0VDVVJJVFlfUE9MSUNZX1ZJT0xBVElPTixyKSk7fTtuJiZJXy5yZW1vdmVFdmVudExpc3RlbmVyKFwic2VjdXJpdHlwb2xpY3l2aW9sYXRpb25cIixuKSwoZXx8dCYmdHlwZW9mIHQ9PVwiZnVuY3Rpb25cInx8TXQuZ2V0TGlzdGVuZXJzKG5yLlNFQ1VSSVRZX1BPTElDWV9WSU9MQVRJT04pLmxlbmd0aD4wKSYmSV8uYWRkRXZlbnRMaXN0ZW5lcihcInNlY3VyaXR5cG9saWN5dmlvbGF0aW9uXCIsaSksTXQuX2NzcEV2ZW50SGFuZGxlclBvaW50ZXI9aTt9dmFyIFVXPWhuLHhXPW5PLFh5PVJlZ0V4cC5wcm90b3R5cGUsVlc9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1YeXx8VVcoWHksdCk/eFcodCk6dC5mbGFnc30sZW49YWUoVlcpO2Z1bmN0aW9uIFNhKHQpe2xldCBlPXQubGVuZ3RoO2Zvcig7LS1lPj0wOyl0W2VdPTA7fXZhciBQZj0yNTYsTTA9Mjg2LGxjPTMwLHVjPTE1LF9tPW5ldyBVaW50OEFycmF5KFswLDAsMCwwLDAsMCwwLDAsMSwxLDEsMSwyLDIsMiwyLDMsMywzLDMsNCw0LDQsNCw1LDUsNSw1LDBdKSxPbD1uZXcgVWludDhBcnJheShbMCwwLDAsMCwxLDEsMiwyLDMsMyw0LDQsNSw1LDYsNiw3LDcsOCw4LDksOSwxMCwxMCwxMSwxMSwxMiwxMiwxMywxM10pLEZXPW5ldyBVaW50OEFycmF5KFswLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDIsMyw3XSksUXk9bmV3IFVpbnQ4QXJyYXkoWzE2LDE3LDE4LDAsOCw3LDksNiwxMCw1LDExLDQsMTIsMywxMywyLDE0LDEsMTVdKSx3cj1uZXcgQXJyYXkoNTc2KTtTYSh3cik7dmFyIGhjPW5ldyBBcnJheSg2MCk7U2EoaGMpO3ZhciBGYz1uZXcgQXJyYXkoNTEyKTtTYShGYyk7dmFyIEJjPW5ldyBBcnJheSgyNTYpO1NhKEJjKTt2YXIga2Y9bmV3IEFycmF5KDI5KTtTYShrZik7dmFyIFJ1PW5ldyBBcnJheShsYyk7ZnVuY3Rpb24gdl8odCxlLG4saSxyKXt0aGlzLnN0YXRpY190cmVlPXQsdGhpcy5leHRyYV9iaXRzPWUsdGhpcy5leHRyYV9iYXNlPW4sdGhpcy5lbGVtcz1pLHRoaXMubWF4X2xlbmd0aD1yLHRoaXMuaGFzX3N0cmVlPXQmJnQubGVuZ3RoO312YXIgWnksJHksdEE7ZnVuY3Rpb24geV8odCxlKXt0aGlzLmR5bl90cmVlPXQsdGhpcy5tYXhfY29kZT0wLHRoaXMuc3RhdF9kZXNjPWU7fVNhKFJ1KTt2YXIgVTA9dD0+dDwyNTY/RmNbdF06RmNbMjU2Kyh0Pj4+NyldLGpjPSh0LGUpPT57dC5wZW5kaW5nX2J1Zlt0LnBlbmRpbmcrK109MjU1JmUsdC5wZW5kaW5nX2J1Zlt0LnBlbmRpbmcrK109ZT4+PjgmMjU1O30sQm49KHQsZSxuKT0+e3QuYmlfdmFsaWQ+MTYtbj8odC5iaV9idWZ8PWU8PHQuYmlfdmFsaWQmNjU1MzUsamModCx0LmJpX2J1ZiksdC5iaV9idWY9ZT4+MTYtdC5iaV92YWxpZCx0LmJpX3ZhbGlkKz1uLTE2KToodC5iaV9idWZ8PWU8PHQuYmlfdmFsaWQmNjU1MzUsdC5iaV92YWxpZCs9bik7fSxycj0odCxlLG4pPT57Qm4odCxuWzIqZV0sblsyKmUrMV0pO30seDA9KHQsZSk9PntsZXQgbj0wO2RvIG58PTEmdCx0Pj4+PTEsbjw8PTE7d2hpbGUoLS1lPjApO3JldHVybiBuPj4+MX0sVjA9KHQsZSxuKT0+e2xldCBpPW5ldyBBcnJheSgxNikscixvLHM9MDtmb3Iocj0xO3I8PXVjO3IrKylzPXMrbltyLTFdPDwxLGlbcl09cztmb3Iobz0wO288PWU7bysrKXtsZXQgYT10WzIqbysxXTthIT09MCYmKHRbMipvXT14MChpW2FdKyssYSkpO319LEYwPXQ9PntsZXQgZTtmb3IoZT0wO2U8TTA7ZSsrKXQuZHluX2x0cmVlWzIqZV09MDtmb3IoZT0wO2U8bGM7ZSsrKXQuZHluX2R0cmVlWzIqZV09MDtmb3IoZT0wO2U8MTk7ZSsrKXQuYmxfdHJlZVsyKmVdPTA7dC5keW5fbHRyZWVbNTEyXT0xLHQub3B0X2xlbj10LnN0YXRpY19sZW49MCx0LnN5bV9uZXh0PXQubWF0Y2hlcz0wO30sQjA9dD0+e3QuYmlfdmFsaWQ+OD9qYyh0LHQuYmlfYnVmKTp0LmJpX3ZhbGlkPjAmJih0LnBlbmRpbmdfYnVmW3QucGVuZGluZysrXT10LmJpX2J1ZiksdC5iaV9idWY9MCx0LmJpX3ZhbGlkPTA7fSxlQT0odCxlLG4saSk9PntsZXQgcj0yKmUsbz0yKm47cmV0dXJuIHRbcl08dFtvXXx8dFtyXT09PXRbb10mJmlbZV08PWlbbl19LEFfPSh0LGUsbik9PntsZXQgaT10LmhlYXBbbl0scj1uPDwxO2Zvcig7cjw9dC5oZWFwX2xlbiYmKHI8dC5oZWFwX2xlbiYmZUEoZSx0LmhlYXBbcisxXSx0LmhlYXBbcl0sdC5kZXB0aCkmJnIrKywhZUEoZSxpLHQuaGVhcFtyXSx0LmRlcHRoKSk7KXQuaGVhcFtuXT10LmhlYXBbcl0sbj1yLHI8PD0xO3QuaGVhcFtuXT1pO30sbkE9KHQsZSxuKT0+e2xldCBpLHIsbyxzLGE9MDtpZih0LnN5bV9uZXh0IT09MClkbyBpPTI1NSZ0LnBlbmRpbmdfYnVmW3Quc3ltX2J1ZithKytdLGkrPSgyNTUmdC5wZW5kaW5nX2J1Zlt0LnN5bV9idWYrYSsrXSk8PDgscj10LnBlbmRpbmdfYnVmW3Quc3ltX2J1ZithKytdLGk9PT0wP3JyKHQscixlKToobz1CY1tyXSxycih0LG8rUGYrMSxlKSxzPV9tW29dLHMhPT0wJiYoci09a2Zbb10sQm4odCxyLHMpKSxpLS0sbz1VMChpKSxycih0LG8sbikscz1PbFtvXSxzIT09MCYmKGktPVJ1W29dLEJuKHQsaSxzKSkpO3doaWxlKGE8dC5zeW1fbmV4dCk7cnIodCwyNTYsZSk7fSxiXz0odCxlKT0+e2xldCBuPWUuZHluX3RyZWUsaT1lLnN0YXRfZGVzYy5zdGF0aWNfdHJlZSxyPWUuc3RhdF9kZXNjLmhhc19zdHJlZSxvPWUuc3RhdF9kZXNjLmVsZW1zLHMsYSxjLGQ9LTE7Zm9yKHQuaGVhcF9sZW49MCx0LmhlYXBfbWF4PTU3MyxzPTA7czxvO3MrKyluWzIqc10hPT0wPyh0LmhlYXBbKyt0LmhlYXBfbGVuXT1kPXMsdC5kZXB0aFtzXT0wKTpuWzIqcysxXT0wO2Zvcig7dC5oZWFwX2xlbjwyOyljPXQuaGVhcFsrK3QuaGVhcF9sZW5dPWQ8Mj8rK2Q6MCxuWzIqY109MSx0LmRlcHRoW2NdPTAsdC5vcHRfbGVuLS0sciYmKHQuc3RhdGljX2xlbi09aVsyKmMrMV0pO2ZvcihlLm1heF9jb2RlPWQscz10LmhlYXBfbGVuPj4xO3M+PTE7cy0tKUFfKHQsbixzKTtjPW87ZG8gcz10LmhlYXBbMV0sdC5oZWFwWzFdPXQuaGVhcFt0LmhlYXBfbGVuLS1dLEFfKHQsbiwxKSxhPXQuaGVhcFsxXSx0LmhlYXBbLS10LmhlYXBfbWF4XT1zLHQuaGVhcFstLXQuaGVhcF9tYXhdPWEsblsyKmNdPW5bMipzXStuWzIqYV0sdC5kZXB0aFtjXT0odC5kZXB0aFtzXT49dC5kZXB0aFthXT90LmRlcHRoW3NdOnQuZGVwdGhbYV0pKzEsblsyKnMrMV09blsyKmErMV09Yyx0LmhlYXBbMV09YysrLEFfKHQsbiwxKTt3aGlsZSh0LmhlYXBfbGVuPj0yKTt0LmhlYXBbLS10LmhlYXBfbWF4XT10LmhlYXBbMV0sKChsLHUpPT57bGV0IGg9dS5keW5fdHJlZSxwPXUubWF4X2NvZGUsZz11LnN0YXRfZGVzYy5zdGF0aWNfdHJlZSxFPXUuc3RhdF9kZXNjLmhhc19zdHJlZSxmPXUuc3RhdF9kZXNjLmV4dHJhX2JpdHMsUz11LnN0YXRfZGVzYy5leHRyYV9iYXNlLEM9dS5zdGF0X2Rlc2MubWF4X2xlbmd0aCxBLGIsdyxELGssQixWPTA7Zm9yKEQ9MDtEPD11YztEKyspbC5ibF9jb3VudFtEXT0wO2ZvcihoWzIqbC5oZWFwW2wuaGVhcF9tYXhdKzFdPTAsQT1sLmhlYXBfbWF4KzE7QTw1NzM7QSsrKWI9bC5oZWFwW0FdLEQ9aFsyKmhbMipiKzFdKzFdKzEsRD5DJiYoRD1DLFYrKyksaFsyKmIrMV09RCxiPnB8fChsLmJsX2NvdW50W0RdKyssaz0wLGI+PVMmJihrPWZbYi1TXSksQj1oWzIqYl0sbC5vcHRfbGVuKz1CKihEK2spLEUmJihsLnN0YXRpY19sZW4rPUIqKGdbMipiKzFdK2spKSk7aWYoViE9PTApe2Rve2ZvcihEPUMtMTtsLmJsX2NvdW50W0RdPT09MDspRC0tO2wuYmxfY291bnRbRF0tLSxsLmJsX2NvdW50W0QrMV0rPTIsbC5ibF9jb3VudFtDXS0tLFYtPTI7fXdoaWxlKFY+MCk7Zm9yKEQ9QztEIT09MDtELS0pZm9yKGI9bC5ibF9jb3VudFtEXTtiIT09MDspdz1sLmhlYXBbLS1BXSx3PnB8fChoWzIqdysxXSE9PUQmJihsLm9wdF9sZW4rPShELWhbMip3KzFdKSpoWzIqd10saFsyKncrMV09RCksYi0tKTt9fSkodCxlKSxWMChuLGQsdC5ibF9jb3VudCk7fSxpQT0odCxlLG4pPT57bGV0IGkscixvPS0xLHM9ZVsxXSxhPTAsYz03LGQ9NDtmb3Iocz09PTAmJihjPTEzOCxkPTMpLGVbMioobisxKSsxXT02NTUzNSxpPTA7aTw9bjtpKyspcj1zLHM9ZVsyKihpKzEpKzFdLCsrYTxjJiZyPT09c3x8KGE8ZD90LmJsX3RyZWVbMipyXSs9YTpyIT09MD8ociE9PW8mJnQuYmxfdHJlZVsyKnJdKyssdC5ibF90cmVlWzMyXSsrKTphPD0xMD90LmJsX3RyZWVbMzRdKys6dC5ibF90cmVlWzM2XSsrLGE9MCxvPXIscz09PTA/KGM9MTM4LGQ9Myk6cj09PXM/KGM9NixkPTMpOihjPTcsZD00KSk7fSxyQT0odCxlLG4pPT57bGV0IGkscixvPS0xLHM9ZVsxXSxhPTAsYz03LGQ9NDtmb3Iocz09PTAmJihjPTEzOCxkPTMpLGk9MDtpPD1uO2krKylpZihyPXMscz1lWzIqKGkrMSkrMV0sISgrK2E8YyYmcj09PXMpKXtpZihhPGQpZG8gcnIodCxyLHQuYmxfdHJlZSk7d2hpbGUoLS1hIT0wKTtlbHNlIHIhPT0wPyhyIT09byYmKHJyKHQscix0LmJsX3RyZWUpLGEtLSkscnIodCwxNix0LmJsX3RyZWUpLEJuKHQsYS0zLDIpKTphPD0xMD8ocnIodCwxNyx0LmJsX3RyZWUpLEJuKHQsYS0zLDMpKToocnIodCwxOCx0LmJsX3RyZWUpLEJuKHQsYS0xMSw3KSk7YT0wLG89cixzPT09MD8oYz0xMzgsZD0zKTpyPT09cz8oYz02LGQ9Myk6KGM9NyxkPTQpO319LG9BPSExLGowPSh0LGUsbixpKT0+e0JuKHQsMCsoaT8xOjApLDMpLEIwKHQpLGpjKHQsbiksamModCx+biksbiYmdC5wZW5kaW5nX2J1Zi5zZXQodC53aW5kb3cuc3ViYXJyYXkoZSxlK24pLHQucGVuZGluZyksdC5wZW5kaW5nKz1uO30sQlc9dD0+e29BfHwoKCgpPT57bGV0IGUsbixpLHIsbyxzPW5ldyBBcnJheSgxNik7Zm9yKGk9MCxyPTA7cjwyODtyKyspZm9yKGtmW3JdPWksZT0wO2U8MTw8X21bcl07ZSsrKUJjW2krK109cjtmb3IoQmNbaS0xXT1yLG89MCxyPTA7cjwxNjtyKyspZm9yKFJ1W3JdPW8sZT0wO2U8MTw8T2xbcl07ZSsrKUZjW28rK109cjtmb3Iobz4+PTc7cjxsYztyKyspZm9yKFJ1W3JdPW88PDcsZT0wO2U8MTw8T2xbcl0tNztlKyspRmNbMjU2K28rK109cjtmb3Iobj0wO248PXVjO24rKylzW25dPTA7Zm9yKGU9MDtlPD0xNDM7KXdyWzIqZSsxXT04LGUrKyxzWzhdKys7Zm9yKDtlPD0yNTU7KXdyWzIqZSsxXT05LGUrKyxzWzldKys7Zm9yKDtlPD0yNzk7KXdyWzIqZSsxXT03LGUrKyxzWzddKys7Zm9yKDtlPD0yODc7KXdyWzIqZSsxXT04LGUrKyxzWzhdKys7Zm9yKFYwKHdyLDI4NyxzKSxlPTA7ZTxsYztlKyspaGNbMiplKzFdPTUsaGNbMiplXT14MChlLDUpO1p5PW5ldyB2Xyh3cixfbSwyNTcsTTAsdWMpLCR5PW5ldyB2XyhoYyxPbCwwLGxjLHVjKSx0QT1uZXcgdl8obmV3IEFycmF5KDApLEZXLDAsMTksNyk7fSkoKSxvQT0hMCksdC5sX2Rlc2M9bmV3IHlfKHQuZHluX2x0cmVlLFp5KSx0LmRfZGVzYz1uZXcgeV8odC5keW5fZHRyZWUsJHkpLHQuYmxfZGVzYz1uZXcgeV8odC5ibF90cmVlLHRBKSx0LmJpX2J1Zj0wLHQuYmlfdmFsaWQ9MCxGMCh0KTt9LGpXPSh0LGUsbixpKT0+e2xldCByLG8scz0wO3QubGV2ZWw+MD8odC5zdHJtLmRhdGFfdHlwZT09PTImJih0LnN0cm0uZGF0YV90eXBlPShhPT57bGV0IGMsZD00MDkzNjI0NDQ3O2ZvcihjPTA7Yzw9MzE7YysrLGQ+Pj49MSlpZigxJmQmJmEuZHluX2x0cmVlWzIqY10hPT0wKXJldHVybiAwO2lmKGEuZHluX2x0cmVlWzE4XSE9PTB8fGEuZHluX2x0cmVlWzIwXSE9PTB8fGEuZHluX2x0cmVlWzI2XSE9PTApcmV0dXJuIDE7Zm9yKGM9MzI7YzxQZjtjKyspaWYoYS5keW5fbHRyZWVbMipjXSE9PTApcmV0dXJuIDE7cmV0dXJuIDB9KSh0KSksYl8odCx0LmxfZGVzYyksYl8odCx0LmRfZGVzYykscz0oYT0+e2xldCBjO2ZvcihpQShhLGEuZHluX2x0cmVlLGEubF9kZXNjLm1heF9jb2RlKSxpQShhLGEuZHluX2R0cmVlLGEuZF9kZXNjLm1heF9jb2RlKSxiXyhhLGEuYmxfZGVzYyksYz0xODtjPj0zJiZhLmJsX3RyZWVbMipReVtjXSsxXT09PTA7Yy0tKTtyZXR1cm4gYS5vcHRfbGVuKz0zKihjKzEpKzUrNSs0LGN9KSh0KSxyPXQub3B0X2xlbiszKzc+Pj4zLG89dC5zdGF0aWNfbGVuKzMrNz4+PjMsbzw9ciYmKHI9bykpOnI9bz1uKzUsbis0PD1yJiZlIT09LTE/ajAodCxlLG4saSk6dC5zdHJhdGVneT09PTR8fG89PT1yPyhCbih0LDIrKGk/MTowKSwzKSxuQSh0LHdyLGhjKSk6KEJuKHQsNCsoaT8xOjApLDMpLCgoYSxjLGQsbCk9PntsZXQgdTtmb3IoQm4oYSxjLTI1Nyw1KSxCbihhLGQtMSw1KSxCbihhLGwtNCw0KSx1PTA7dTxsO3UrKylCbihhLGEuYmxfdHJlZVsyKlF5W3VdKzFdLDMpO3JBKGEsYS5keW5fbHRyZWUsYy0xKSxyQShhLGEuZHluX2R0cmVlLGQtMSk7fSkodCx0LmxfZGVzYy5tYXhfY29kZSsxLHQuZF9kZXNjLm1heF9jb2RlKzEscysxKSxuQSh0LHQuZHluX2x0cmVlLHQuZHluX2R0cmVlKSksRjAodCksaSYmQjAodCk7fSxHVz0odCxlLG4pPT4odC5wZW5kaW5nX2J1Zlt0LnN5bV9idWYrdC5zeW1fbmV4dCsrXT1lLHQucGVuZGluZ19idWZbdC5zeW1fYnVmK3Quc3ltX25leHQrK109ZT4+OCx0LnBlbmRpbmdfYnVmW3Quc3ltX2J1Zit0LnN5bV9uZXh0KytdPW4sZT09PTA/dC5keW5fbHRyZWVbMipuXSsrOih0Lm1hdGNoZXMrKyxlLS0sdC5keW5fbHRyZWVbMiooQmNbbl0rUGYrMSldKyssdC5keW5fZHRyZWVbMipVMChlKV0rKyksdC5zeW1fbmV4dD09PXQuc3ltX2VuZCksV1c9dD0+e0JuKHQsMiwzKSxycih0LDI1Nix3ciksKGU9PntlLmJpX3ZhbGlkPT09MTY/KGpjKGUsZS5iaV9idWYpLGUuYmlfYnVmPTAsZS5iaV92YWxpZD0wKTplLmJpX3ZhbGlkPj04JiYoZS5wZW5kaW5nX2J1ZltlLnBlbmRpbmcrK109MjU1JmUuYmlfYnVmLGUuYmlfYnVmPj49OCxlLmJpX3ZhbGlkLT04KTt9KSh0KTt9LEhXPXtfdHJfaW5pdDpCVyxfdHJfc3RvcmVkX2Jsb2NrOmowLF90cl9mbHVzaF9ibG9jazpqVyxfdHJfdGFsbHk6R1csX3RyX2FsaWduOldXfSxHYz0odCxlLG4saSk9PntsZXQgcj02NTUzNSZ0fDAsbz10Pj4+MTYmNjU1MzV8MCxzPTA7Zm9yKDtuIT09MDspe3M9bj4yZTM/MmUzOm4sbi09cztkbyByPXIrZVtpKytdfDAsbz1vK3J8MDt3aGlsZSgtLXMpO3IlPTY1NTIxLG8lPTY1NTIxO31yZXR1cm4gcnxvPDwxNnwwfSxLVz1uZXcgVWludDMyQXJyYXkoKCgpPT57bGV0IHQsZT1bXTtmb3IodmFyIG49MDtuPDI1NjtuKyspe3Q9bjtmb3IodmFyIGk9MDtpPDg7aSsrKXQ9MSZ0PzM5ODgyOTIzODRedD4+PjE6dD4+PjE7ZVtuXT10O31yZXR1cm4gZX0pKCkpLGFuPSh0LGUsbixpKT0+e2xldCByPUtXLG89aStuO3RePS0xO2ZvcihsZXQgcz1pO3M8bztzKyspdD10Pj4+OF5yWzI1NSYodF5lW3NdKV07cmV0dXJuIC0xXnR9LFpvPXsyOlwibmVlZCBkaWN0aW9uYXJ5XCIsMTpcInN0cmVhbSBlbmRcIiwwOlwiXCIsXCItMVwiOlwiZmlsZSBlcnJvclwiLFwiLTJcIjpcInN0cmVhbSBlcnJvclwiLFwiLTNcIjpcImRhdGEgZXJyb3JcIixcIi00XCI6XCJpbnN1ZmZpY2llbnQgbWVtb3J5XCIsXCItNVwiOlwiYnVmZmVyIGVycm9yXCIsXCItNlwiOlwiaW5jb21wYXRpYmxlIHZlcnNpb25cIn0sUmE9e1pfTk9fRkxVU0g6MCxaX1BBUlRJQUxfRkxVU0g6MSxaX1NZTkNfRkxVU0g6MixaX0ZVTExfRkxVU0g6MyxaX0ZJTklTSDo0LFpfQkxPQ0s6NSxaX1RSRUVTOjYsWl9PSzowLFpfU1RSRUFNX0VORDoxLFpfTkVFRF9ESUNUOjIsWl9FUlJOTzotMSxaX1NUUkVBTV9FUlJPUjotMixaX0RBVEFfRVJST1I6LTMsWl9NRU1fRVJST1I6LTQsWl9CVUZfRVJST1I6LTUsWl9OT19DT01QUkVTU0lPTjowLFpfQkVTVF9TUEVFRDoxLFpfQkVTVF9DT01QUkVTU0lPTjo5LFpfREVGQVVMVF9DT01QUkVTU0lPTjotMSxaX0ZJTFRFUkVEOjEsWl9IVUZGTUFOX09OTFk6MixaX1JMRTozLFpfRklYRUQ6NCxaX0RFRkFVTFRfU1RSQVRFR1k6MCxaX0JJTkFSWTowLFpfVEVYVDoxLFpfVU5LTk9XTjoyLFpfREVGTEFURUQ6OH0se190cl9pbml0OllXLF90cl9zdG9yZWRfYmxvY2s6RW0sX3RyX2ZsdXNoX2Jsb2NrOnFXLF90cl90YWxseTphbyxfdHJfYWxpZ246eld9PUhXLHtaX05PX0ZMVVNIOmNvLFpfUEFSVElBTF9GTFVTSDpKVyxaX0ZVTExfRkxVU0g6WFcsWl9GSU5JU0g6UmksWl9CTE9DSzpzQSxaX09LOl9uLFpfU1RSRUFNX0VORDphQSxaX1NUUkVBTV9FUlJPUjpkcixaX0RBVEFfRVJST1I6UVcsWl9CVUZfRVJST1I6d18sWl9ERUZBVUxUX0NPTVBSRVNTSU9OOlpXLFpfRklMVEVSRUQ6JFcsWl9IVUZGTUFOX09OTFk6WmQsWl9STEU6dDMsWl9GSVhFRDplMyxaX0RFRkFVTFRfU1RSQVRFR1k6bjMsWl9VTktOT1dOOmkzLFpfREVGTEFURUQ6dGh9PVJhLG1tPTI4NixyMz0zMCxvMz0xOSxzMz0yKm1tKzEsYTM9MTUsam89MjU4LGxyPTI2MixhYT00MixHbz0xMTMsdGM9NjY2LFdvPSh0LGUpPT4odC5tc2c9Wm9bZV0sZSksY0E9dD0+Mip0LSh0PjQ/OTowKSxRcj10PT57bGV0IGU9dC5sZW5ndGg7Zm9yKDstLWU+PTA7KXRbZV09MDt9LGMzPXQ9PntsZXQgZSxuLGkscj10Lndfc2l6ZTtlPXQuaGFzaF9zaXplLGk9ZTtkbyBuPXQuaGVhZFstLWldLHQuaGVhZFtpXT1uPj1yP24tcjowO3doaWxlKC0tZSk7ZT1yLGk9ZTtkbyBuPXQucHJldlstLWldLHQucHJldltpXT1uPj1yP24tcjowO3doaWxlKC0tZSl9LGxvPSh0LGUsbik9PihlPDx0Lmhhc2hfc2hpZnRebikmdC5oYXNoX21hc2ssWm49dD0+e2xldCBlPXQuc3RhdGUsbj1lLnBlbmRpbmc7bj50LmF2YWlsX291dCYmKG49dC5hdmFpbF9vdXQpLG4hPT0wJiYodC5vdXRwdXQuc2V0KGUucGVuZGluZ19idWYuc3ViYXJyYXkoZS5wZW5kaW5nX291dCxlLnBlbmRpbmdfb3V0K24pLHQubmV4dF9vdXQpLHQubmV4dF9vdXQrPW4sZS5wZW5kaW5nX291dCs9bix0LnRvdGFsX291dCs9bix0LmF2YWlsX291dC09bixlLnBlbmRpbmctPW4sZS5wZW5kaW5nPT09MCYmKGUucGVuZGluZ19vdXQ9MCkpO30sdGk9KHQsZSk9PntxVyh0LHQuYmxvY2tfc3RhcnQ+PTA/dC5ibG9ja19zdGFydDotMSx0LnN0cnN0YXJ0LXQuYmxvY2tfc3RhcnQsZSksdC5ibG9ja19zdGFydD10LnN0cnN0YXJ0LFpuKHQuc3RybSk7fSx0ZT0odCxlKT0+e3QucGVuZGluZ19idWZbdC5wZW5kaW5nKytdPWU7fSxqYT0odCxlKT0+e3QucGVuZGluZ19idWZbdC5wZW5kaW5nKytdPWU+Pj44JjI1NSx0LnBlbmRpbmdfYnVmW3QucGVuZGluZysrXT0yNTUmZTt9LGZtPSh0LGUsbixpKT0+e2xldCByPXQuYXZhaWxfaW47cmV0dXJuIHI+aSYmKHI9aSkscj09PTA/MDoodC5hdmFpbF9pbi09cixlLnNldCh0LmlucHV0LnN1YmFycmF5KHQubmV4dF9pbix0Lm5leHRfaW4rciksbiksdC5zdGF0ZS53cmFwPT09MT90LmFkbGVyPUdjKHQuYWRsZXIsZSxyLG4pOnQuc3RhdGUud3JhcD09PTImJih0LmFkbGVyPWFuKHQuYWRsZXIsZSxyLG4pKSx0Lm5leHRfaW4rPXIsdC50b3RhbF9pbis9cixyKX0sRzA9KHQsZSk9PntsZXQgbixpLHI9dC5tYXhfY2hhaW5fbGVuZ3RoLG89dC5zdHJzdGFydCxzPXQucHJldl9sZW5ndGgsYT10Lm5pY2VfbWF0Y2gsYz10LnN0cnN0YXJ0PnQud19zaXplLWxyP3Quc3Ryc3RhcnQtKHQud19zaXplLWxyKTowLGQ9dC53aW5kb3csbD10LndfbWFzayx1PXQucHJldixoPXQuc3Ryc3RhcnQram8scD1kW28rcy0xXSxnPWRbbytzXTt0LnByZXZfbGVuZ3RoPj10Lmdvb2RfbWF0Y2gmJihyPj49MiksYT50Lmxvb2thaGVhZCYmKGE9dC5sb29rYWhlYWQpO2RvIGlmKG49ZSxkW24rc109PT1nJiZkW24rcy0xXT09PXAmJmRbbl09PT1kW29dJiZkWysrbl09PT1kW28rMV0pe28rPTIsbisrO2RvO3doaWxlKGRbKytvXT09PWRbKytuXSYmZFsrK29dPT09ZFsrK25dJiZkWysrb109PT1kWysrbl0mJmRbKytvXT09PWRbKytuXSYmZFsrK29dPT09ZFsrK25dJiZkWysrb109PT1kWysrbl0mJmRbKytvXT09PWRbKytuXSYmZFsrK29dPT09ZFsrK25dJiZvPGgpO2lmKGk9am8tKGgtbyksbz1oLWpvLGk+cyl7aWYodC5tYXRjaF9zdGFydD1lLHM9aSxpPj1hKWJyZWFrO3A9ZFtvK3MtMV0sZz1kW28rc107fX13aGlsZSgoZT11W2UmbF0pPmMmJi0tciE9MCk7cmV0dXJuIHM8PXQubG9va2FoZWFkP3M6dC5sb29rYWhlYWR9LGNhPXQ9PntsZXQgZT10Lndfc2l6ZSxuLGkscjtkb3tpZihpPXQud2luZG93X3NpemUtdC5sb29rYWhlYWQtdC5zdHJzdGFydCx0LnN0cnN0YXJ0Pj1lKyhlLWxyKSYmKHQud2luZG93LnNldCh0LndpbmRvdy5zdWJhcnJheShlLGUrZS1pKSwwKSx0Lm1hdGNoX3N0YXJ0LT1lLHQuc3Ryc3RhcnQtPWUsdC5ibG9ja19zdGFydC09ZSx0Lmluc2VydD50LnN0cnN0YXJ0JiYodC5pbnNlcnQ9dC5zdHJzdGFydCksYzModCksaSs9ZSksdC5zdHJtLmF2YWlsX2luPT09MClicmVhaztpZihuPWZtKHQuc3RybSx0LndpbmRvdyx0LnN0cnN0YXJ0K3QubG9va2FoZWFkLGkpLHQubG9va2FoZWFkKz1uLHQubG9va2FoZWFkK3QuaW5zZXJ0Pj0zKWZvcihyPXQuc3Ryc3RhcnQtdC5pbnNlcnQsdC5pbnNfaD10LndpbmRvd1tyXSx0Lmluc19oPWxvKHQsdC5pbnNfaCx0LndpbmRvd1tyKzFdKTt0Lmluc2VydCYmKHQuaW5zX2g9bG8odCx0Lmluc19oLHQud2luZG93W3IrMy0xXSksdC5wcmV2W3ImdC53X21hc2tdPXQuaGVhZFt0Lmluc19oXSx0LmhlYWRbdC5pbnNfaF09cixyKyssdC5pbnNlcnQtLSwhKHQubG9va2FoZWFkK3QuaW5zZXJ0PDMpKTspO313aGlsZSh0Lmxvb2thaGVhZDxsciYmdC5zdHJtLmF2YWlsX2luIT09MCl9LFcwPSh0LGUpPT57bGV0IG4saSxyLG89dC5wZW5kaW5nX2J1Zl9zaXplLTU+dC53X3NpemU/dC53X3NpemU6dC5wZW5kaW5nX2J1Zl9zaXplLTUscz0wLGE9dC5zdHJtLmF2YWlsX2luO2Rve2lmKG49NjU1MzUscj10LmJpX3ZhbGlkKzQyPj4zLHQuc3RybS5hdmFpbF9vdXQ8cnx8KHI9dC5zdHJtLmF2YWlsX291dC1yLGk9dC5zdHJzdGFydC10LmJsb2NrX3N0YXJ0LG4+aSt0LnN0cm0uYXZhaWxfaW4mJihuPWkrdC5zdHJtLmF2YWlsX2luKSxuPnImJihuPXIpLG48byYmKG49PT0wJiZlIT09Uml8fGU9PT1jb3x8biE9PWkrdC5zdHJtLmF2YWlsX2luKSkpYnJlYWs7cz1lPT09UmkmJm49PT1pK3Quc3RybS5hdmFpbF9pbj8xOjAsRW0odCwwLDAscyksdC5wZW5kaW5nX2J1Zlt0LnBlbmRpbmctNF09bix0LnBlbmRpbmdfYnVmW3QucGVuZGluZy0zXT1uPj44LHQucGVuZGluZ19idWZbdC5wZW5kaW5nLTJdPX5uLHQucGVuZGluZ19idWZbdC5wZW5kaW5nLTFdPX5uPj44LFpuKHQuc3RybSksaSYmKGk+biYmKGk9biksdC5zdHJtLm91dHB1dC5zZXQodC53aW5kb3cuc3ViYXJyYXkodC5ibG9ja19zdGFydCx0LmJsb2NrX3N0YXJ0K2kpLHQuc3RybS5uZXh0X291dCksdC5zdHJtLm5leHRfb3V0Kz1pLHQuc3RybS5hdmFpbF9vdXQtPWksdC5zdHJtLnRvdGFsX291dCs9aSx0LmJsb2NrX3N0YXJ0Kz1pLG4tPWkpLG4mJihmbSh0LnN0cm0sdC5zdHJtLm91dHB1dCx0LnN0cm0ubmV4dF9vdXQsbiksdC5zdHJtLm5leHRfb3V0Kz1uLHQuc3RybS5hdmFpbF9vdXQtPW4sdC5zdHJtLnRvdGFsX291dCs9bik7fXdoaWxlKHM9PT0wKTtyZXR1cm4gYS09dC5zdHJtLmF2YWlsX2luLGEmJihhPj10Lndfc2l6ZT8odC5tYXRjaGVzPTIsdC53aW5kb3cuc2V0KHQuc3RybS5pbnB1dC5zdWJhcnJheSh0LnN0cm0ubmV4dF9pbi10Lndfc2l6ZSx0LnN0cm0ubmV4dF9pbiksMCksdC5zdHJzdGFydD10Lndfc2l6ZSx0Lmluc2VydD10LnN0cnN0YXJ0KToodC53aW5kb3dfc2l6ZS10LnN0cnN0YXJ0PD1hJiYodC5zdHJzdGFydC09dC53X3NpemUsdC53aW5kb3cuc2V0KHQud2luZG93LnN1YmFycmF5KHQud19zaXplLHQud19zaXplK3Quc3Ryc3RhcnQpLDApLHQubWF0Y2hlczwyJiZ0Lm1hdGNoZXMrKyx0Lmluc2VydD50LnN0cnN0YXJ0JiYodC5pbnNlcnQ9dC5zdHJzdGFydCkpLHQud2luZG93LnNldCh0LnN0cm0uaW5wdXQuc3ViYXJyYXkodC5zdHJtLm5leHRfaW4tYSx0LnN0cm0ubmV4dF9pbiksdC5zdHJzdGFydCksdC5zdHJzdGFydCs9YSx0Lmluc2VydCs9YT50Lndfc2l6ZS10Lmluc2VydD90Lndfc2l6ZS10Lmluc2VydDphKSx0LmJsb2NrX3N0YXJ0PXQuc3Ryc3RhcnQpLHQuaGlnaF93YXRlcjx0LnN0cnN0YXJ0JiYodC5oaWdoX3dhdGVyPXQuc3Ryc3RhcnQpLHM/NDplIT09Y28mJmUhPT1SaSYmdC5zdHJtLmF2YWlsX2luPT09MCYmdC5zdHJzdGFydD09PXQuYmxvY2tfc3RhcnQ/Mjoocj10LndpbmRvd19zaXplLXQuc3Ryc3RhcnQsdC5zdHJtLmF2YWlsX2luPnImJnQuYmxvY2tfc3RhcnQ+PXQud19zaXplJiYodC5ibG9ja19zdGFydC09dC53X3NpemUsdC5zdHJzdGFydC09dC53X3NpemUsdC53aW5kb3cuc2V0KHQud2luZG93LnN1YmFycmF5KHQud19zaXplLHQud19zaXplK3Quc3Ryc3RhcnQpLDApLHQubWF0Y2hlczwyJiZ0Lm1hdGNoZXMrKyxyKz10Lndfc2l6ZSx0Lmluc2VydD50LnN0cnN0YXJ0JiYodC5pbnNlcnQ9dC5zdHJzdGFydCkpLHI+dC5zdHJtLmF2YWlsX2luJiYocj10LnN0cm0uYXZhaWxfaW4pLHImJihmbSh0LnN0cm0sdC53aW5kb3csdC5zdHJzdGFydCxyKSx0LnN0cnN0YXJ0Kz1yLHQuaW5zZXJ0Kz1yPnQud19zaXplLXQuaW5zZXJ0P3Qud19zaXplLXQuaW5zZXJ0OnIpLHQuaGlnaF93YXRlcjx0LnN0cnN0YXJ0JiYodC5oaWdoX3dhdGVyPXQuc3Ryc3RhcnQpLHI9dC5iaV92YWxpZCs0Mj4+MyxyPXQucGVuZGluZ19idWZfc2l6ZS1yPjY1NTM1PzY1NTM1OnQucGVuZGluZ19idWZfc2l6ZS1yLG89cj50Lndfc2l6ZT90Lndfc2l6ZTpyLGk9dC5zdHJzdGFydC10LmJsb2NrX3N0YXJ0LChpPj1vfHwoaXx8ZT09PVJpKSYmZSE9PWNvJiZ0LnN0cm0uYXZhaWxfaW49PT0wJiZpPD1yKSYmKG49aT5yP3I6aSxzPWU9PT1SaSYmdC5zdHJtLmF2YWlsX2luPT09MCYmbj09PWk/MTowLEVtKHQsdC5ibG9ja19zdGFydCxuLHMpLHQuYmxvY2tfc3RhcnQrPW4sWm4odC5zdHJtKSkscz8zOjEpfSxPXz0odCxlKT0+e2xldCBuLGk7Zm9yKDs7KXtpZih0Lmxvb2thaGVhZDxscil7aWYoY2EodCksdC5sb29rYWhlYWQ8bHImJmU9PT1jbylyZXR1cm4gMTtpZih0Lmxvb2thaGVhZD09PTApYnJlYWt9aWYobj0wLHQubG9va2FoZWFkPj0zJiYodC5pbnNfaD1sbyh0LHQuaW5zX2gsdC53aW5kb3dbdC5zdHJzdGFydCszLTFdKSxuPXQucHJldlt0LnN0cnN0YXJ0JnQud19tYXNrXT10LmhlYWRbdC5pbnNfaF0sdC5oZWFkW3QuaW5zX2hdPXQuc3Ryc3RhcnQpLG4hPT0wJiZ0LnN0cnN0YXJ0LW48PXQud19zaXplLWxyJiYodC5tYXRjaF9sZW5ndGg9RzAodCxuKSksdC5tYXRjaF9sZW5ndGg+PTMpaWYoaT1hbyh0LHQuc3Ryc3RhcnQtdC5tYXRjaF9zdGFydCx0Lm1hdGNoX2xlbmd0aC0zKSx0Lmxvb2thaGVhZC09dC5tYXRjaF9sZW5ndGgsdC5tYXRjaF9sZW5ndGg8PXQubWF4X2xhenlfbWF0Y2gmJnQubG9va2FoZWFkPj0zKXt0Lm1hdGNoX2xlbmd0aC0tO2RvIHQuc3Ryc3RhcnQrKyx0Lmluc19oPWxvKHQsdC5pbnNfaCx0LndpbmRvd1t0LnN0cnN0YXJ0KzMtMV0pLG49dC5wcmV2W3Quc3Ryc3RhcnQmdC53X21hc2tdPXQuaGVhZFt0Lmluc19oXSx0LmhlYWRbdC5pbnNfaF09dC5zdHJzdGFydDt3aGlsZSgtLXQubWF0Y2hfbGVuZ3RoIT0wKTt0LnN0cnN0YXJ0Kys7fWVsc2UgdC5zdHJzdGFydCs9dC5tYXRjaF9sZW5ndGgsdC5tYXRjaF9sZW5ndGg9MCx0Lmluc19oPXQud2luZG93W3Quc3Ryc3RhcnRdLHQuaW5zX2g9bG8odCx0Lmluc19oLHQud2luZG93W3Quc3Ryc3RhcnQrMV0pO2Vsc2UgaT1hbyh0LDAsdC53aW5kb3dbdC5zdHJzdGFydF0pLHQubG9va2FoZWFkLS0sdC5zdHJzdGFydCsrO2lmKGkmJih0aSh0LCExKSx0LnN0cm0uYXZhaWxfb3V0PT09MCkpcmV0dXJuIDF9cmV0dXJuIHQuaW5zZXJ0PXQuc3Ryc3RhcnQ8Mj90LnN0cnN0YXJ0OjIsZT09PVJpPyh0aSh0LCEwKSx0LnN0cm0uYXZhaWxfb3V0PT09MD8zOjQpOnQuc3ltX25leHQmJih0aSh0LCExKSx0LnN0cm0uYXZhaWxfb3V0PT09MCk/MToyfSxScz0odCxlKT0+e2xldCBuLGkscjtmb3IoOzspe2lmKHQubG9va2FoZWFkPGxyKXtpZihjYSh0KSx0Lmxvb2thaGVhZDxsciYmZT09PWNvKXJldHVybiAxO2lmKHQubG9va2FoZWFkPT09MClicmVha31pZihuPTAsdC5sb29rYWhlYWQ+PTMmJih0Lmluc19oPWxvKHQsdC5pbnNfaCx0LndpbmRvd1t0LnN0cnN0YXJ0KzMtMV0pLG49dC5wcmV2W3Quc3Ryc3RhcnQmdC53X21hc2tdPXQuaGVhZFt0Lmluc19oXSx0LmhlYWRbdC5pbnNfaF09dC5zdHJzdGFydCksdC5wcmV2X2xlbmd0aD10Lm1hdGNoX2xlbmd0aCx0LnByZXZfbWF0Y2g9dC5tYXRjaF9zdGFydCx0Lm1hdGNoX2xlbmd0aD0yLG4hPT0wJiZ0LnByZXZfbGVuZ3RoPHQubWF4X2xhenlfbWF0Y2gmJnQuc3Ryc3RhcnQtbjw9dC53X3NpemUtbHImJih0Lm1hdGNoX2xlbmd0aD1HMCh0LG4pLHQubWF0Y2hfbGVuZ3RoPD01JiYodC5zdHJhdGVneT09PSRXfHx0Lm1hdGNoX2xlbmd0aD09PTMmJnQuc3Ryc3RhcnQtdC5tYXRjaF9zdGFydD40MDk2KSYmKHQubWF0Y2hfbGVuZ3RoPTIpKSx0LnByZXZfbGVuZ3RoPj0zJiZ0Lm1hdGNoX2xlbmd0aDw9dC5wcmV2X2xlbmd0aCl7cj10LnN0cnN0YXJ0K3QubG9va2FoZWFkLTMsaT1hbyh0LHQuc3Ryc3RhcnQtMS10LnByZXZfbWF0Y2gsdC5wcmV2X2xlbmd0aC0zKSx0Lmxvb2thaGVhZC09dC5wcmV2X2xlbmd0aC0xLHQucHJldl9sZW5ndGgtPTI7ZG8rK3Quc3Ryc3RhcnQ8PXImJih0Lmluc19oPWxvKHQsdC5pbnNfaCx0LndpbmRvd1t0LnN0cnN0YXJ0KzMtMV0pLG49dC5wcmV2W3Quc3Ryc3RhcnQmdC53X21hc2tdPXQuaGVhZFt0Lmluc19oXSx0LmhlYWRbdC5pbnNfaF09dC5zdHJzdGFydCk7d2hpbGUoLS10LnByZXZfbGVuZ3RoIT0wKTtpZih0Lm1hdGNoX2F2YWlsYWJsZT0wLHQubWF0Y2hfbGVuZ3RoPTIsdC5zdHJzdGFydCsrLGkmJih0aSh0LCExKSx0LnN0cm0uYXZhaWxfb3V0PT09MCkpcmV0dXJuIDF9ZWxzZSBpZih0Lm1hdGNoX2F2YWlsYWJsZSl7aWYoaT1hbyh0LDAsdC53aW5kb3dbdC5zdHJzdGFydC0xXSksaSYmdGkodCwhMSksdC5zdHJzdGFydCsrLHQubG9va2FoZWFkLS0sdC5zdHJtLmF2YWlsX291dD09PTApcmV0dXJuIDF9ZWxzZSB0Lm1hdGNoX2F2YWlsYWJsZT0xLHQuc3Ryc3RhcnQrKyx0Lmxvb2thaGVhZC0tO31yZXR1cm4gdC5tYXRjaF9hdmFpbGFibGUmJihpPWFvKHQsMCx0LndpbmRvd1t0LnN0cnN0YXJ0LTFdKSx0Lm1hdGNoX2F2YWlsYWJsZT0wKSx0Lmluc2VydD10LnN0cnN0YXJ0PDI/dC5zdHJzdGFydDoyLGU9PT1SaT8odGkodCwhMCksdC5zdHJtLmF2YWlsX291dD09PTA/Mzo0KTp0LnN5bV9uZXh0JiYodGkodCwhMSksdC5zdHJtLmF2YWlsX291dD09PTApPzE6Mn07ZnVuY3Rpb24gJGkodCxlLG4saSxyKXt0aGlzLmdvb2RfbGVuZ3RoPXQsdGhpcy5tYXhfbGF6eT1lLHRoaXMubmljZV9sZW5ndGg9bix0aGlzLm1heF9jaGFpbj1pLHRoaXMuZnVuYz1yO312YXIgZWM9W25ldyAkaSgwLDAsMCwwLFcwKSxuZXcgJGkoNCw0LDgsNCxPXyksbmV3ICRpKDQsNSwxNiw4LE9fKSxuZXcgJGkoNCw2LDMyLDMyLE9fKSxuZXcgJGkoNCw0LDE2LDE2LFJzKSxuZXcgJGkoOCwxNiwzMiwzMixScyksbmV3ICRpKDgsMTYsMTI4LDEyOCxScyksbmV3ICRpKDgsMzIsMTI4LDI1NixScyksbmV3ICRpKDMyLDEyOCwyNTgsMTAyNCxScyksbmV3ICRpKDMyLDI1OCwyNTgsNDA5NixScyldO2Z1bmN0aW9uIGQzKCl7dGhpcy5zdHJtPW51bGwsdGhpcy5zdGF0dXM9MCx0aGlzLnBlbmRpbmdfYnVmPW51bGwsdGhpcy5wZW5kaW5nX2J1Zl9zaXplPTAsdGhpcy5wZW5kaW5nX291dD0wLHRoaXMucGVuZGluZz0wLHRoaXMud3JhcD0wLHRoaXMuZ3poZWFkPW51bGwsdGhpcy5nemluZGV4PTAsdGhpcy5tZXRob2Q9dGgsdGhpcy5sYXN0X2ZsdXNoPS0xLHRoaXMud19zaXplPTAsdGhpcy53X2JpdHM9MCx0aGlzLndfbWFzaz0wLHRoaXMud2luZG93PW51bGwsdGhpcy53aW5kb3dfc2l6ZT0wLHRoaXMucHJldj1udWxsLHRoaXMuaGVhZD1udWxsLHRoaXMuaW5zX2g9MCx0aGlzLmhhc2hfc2l6ZT0wLHRoaXMuaGFzaF9iaXRzPTAsdGhpcy5oYXNoX21hc2s9MCx0aGlzLmhhc2hfc2hpZnQ9MCx0aGlzLmJsb2NrX3N0YXJ0PTAsdGhpcy5tYXRjaF9sZW5ndGg9MCx0aGlzLnByZXZfbWF0Y2g9MCx0aGlzLm1hdGNoX2F2YWlsYWJsZT0wLHRoaXMuc3Ryc3RhcnQ9MCx0aGlzLm1hdGNoX3N0YXJ0PTAsdGhpcy5sb29rYWhlYWQ9MCx0aGlzLnByZXZfbGVuZ3RoPTAsdGhpcy5tYXhfY2hhaW5fbGVuZ3RoPTAsdGhpcy5tYXhfbGF6eV9tYXRjaD0wLHRoaXMubGV2ZWw9MCx0aGlzLnN0cmF0ZWd5PTAsdGhpcy5nb29kX21hdGNoPTAsdGhpcy5uaWNlX21hdGNoPTAsdGhpcy5keW5fbHRyZWU9bmV3IFVpbnQxNkFycmF5KDIqczMpLHRoaXMuZHluX2R0cmVlPW5ldyBVaW50MTZBcnJheSgyKigyKnIzKzEpKSx0aGlzLmJsX3RyZWU9bmV3IFVpbnQxNkFycmF5KDIqKDIqbzMrMSkpLFFyKHRoaXMuZHluX2x0cmVlKSxRcih0aGlzLmR5bl9kdHJlZSksUXIodGhpcy5ibF90cmVlKSx0aGlzLmxfZGVzYz1udWxsLHRoaXMuZF9kZXNjPW51bGwsdGhpcy5ibF9kZXNjPW51bGwsdGhpcy5ibF9jb3VudD1uZXcgVWludDE2QXJyYXkoYTMrMSksdGhpcy5oZWFwPW5ldyBVaW50MTZBcnJheSgyKm1tKzEpLFFyKHRoaXMuaGVhcCksdGhpcy5oZWFwX2xlbj0wLHRoaXMuaGVhcF9tYXg9MCx0aGlzLmRlcHRoPW5ldyBVaW50MTZBcnJheSgyKm1tKzEpLFFyKHRoaXMuZGVwdGgpLHRoaXMuc3ltX2J1Zj0wLHRoaXMubGl0X2J1ZnNpemU9MCx0aGlzLnN5bV9uZXh0PTAsdGhpcy5zeW1fZW5kPTAsdGhpcy5vcHRfbGVuPTAsdGhpcy5zdGF0aWNfbGVuPTAsdGhpcy5tYXRjaGVzPTAsdGhpcy5pbnNlcnQ9MCx0aGlzLmJpX2J1Zj0wLHRoaXMuYmlfdmFsaWQ9MDt9dmFyIFdjPXQ9PntpZighdClyZXR1cm4gMTtsZXQgZT10LnN0YXRlO3JldHVybiAhZXx8ZS5zdHJtIT09dHx8ZS5zdGF0dXMhPT1hYSYmZS5zdGF0dXMhPT01NyYmZS5zdGF0dXMhPT02OSYmZS5zdGF0dXMhPT03MyYmZS5zdGF0dXMhPT05MSYmZS5zdGF0dXMhPT0xMDMmJmUuc3RhdHVzIT09R28mJmUuc3RhdHVzIT09dGM/MTowfSxIMD10PT57aWYoV2ModCkpcmV0dXJuIFdvKHQsZHIpO3QudG90YWxfaW49dC50b3RhbF9vdXQ9MCx0LmRhdGFfdHlwZT1pMztsZXQgZT10LnN0YXRlO3JldHVybiBlLnBlbmRpbmc9MCxlLnBlbmRpbmdfb3V0PTAsZS53cmFwPDAmJihlLndyYXA9LWUud3JhcCksZS5zdGF0dXM9ZS53cmFwPT09Mj81NzplLndyYXA/YWE6R28sdC5hZGxlcj1lLndyYXA9PT0yPzA6MSxlLmxhc3RfZmx1c2g9LTIsWVcoZSksX259LEswPXQ9PntsZXQgZT1IMCh0KTtyZXR1cm4gZT09PV9uJiYobj0+e24ud2luZG93X3NpemU9MipuLndfc2l6ZSxRcihuLmhlYWQpLG4ubWF4X2xhenlfbWF0Y2g9ZWNbbi5sZXZlbF0ubWF4X2xhenksbi5nb29kX21hdGNoPWVjW24ubGV2ZWxdLmdvb2RfbGVuZ3RoLG4ubmljZV9tYXRjaD1lY1tuLmxldmVsXS5uaWNlX2xlbmd0aCxuLm1heF9jaGFpbl9sZW5ndGg9ZWNbbi5sZXZlbF0ubWF4X2NoYWluLG4uc3Ryc3RhcnQ9MCxuLmJsb2NrX3N0YXJ0PTAsbi5sb29rYWhlYWQ9MCxuLmluc2VydD0wLG4ubWF0Y2hfbGVuZ3RoPW4ucHJldl9sZW5ndGg9MixuLm1hdGNoX2F2YWlsYWJsZT0wLG4uaW5zX2g9MDt9KSh0LnN0YXRlKSxlfSxkQT0odCxlLG4saSxyLG8pPT57aWYoIXQpcmV0dXJuIGRyO2xldCBzPTE7aWYoZT09PVpXJiYoZT02KSxpPDA/KHM9MCxpPS1pKTppPjE1JiYocz0yLGktPTE2KSxyPDF8fHI+OXx8biE9PXRofHxpPDh8fGk+MTV8fGU8MHx8ZT45fHxvPDB8fG8+ZTN8fGk9PT04JiZzIT09MSlyZXR1cm4gV28odCxkcik7aT09PTgmJihpPTkpO2xldCBhPW5ldyBkMztyZXR1cm4gdC5zdGF0ZT1hLGEuc3RybT10LGEuc3RhdHVzPWFhLGEud3JhcD1zLGEuZ3poZWFkPW51bGwsYS53X2JpdHM9aSxhLndfc2l6ZT0xPDxhLndfYml0cyxhLndfbWFzaz1hLndfc2l6ZS0xLGEuaGFzaF9iaXRzPXIrNyxhLmhhc2hfc2l6ZT0xPDxhLmhhc2hfYml0cyxhLmhhc2hfbWFzaz1hLmhhc2hfc2l6ZS0xLGEuaGFzaF9zaGlmdD1+figoYS5oYXNoX2JpdHMrMy0xKS8zKSxhLndpbmRvdz1uZXcgVWludDhBcnJheSgyKmEud19zaXplKSxhLmhlYWQ9bmV3IFVpbnQxNkFycmF5KGEuaGFzaF9zaXplKSxhLnByZXY9bmV3IFVpbnQxNkFycmF5KGEud19zaXplKSxhLmxpdF9idWZzaXplPTE8PHIrNixhLnBlbmRpbmdfYnVmX3NpemU9NCphLmxpdF9idWZzaXplLGEucGVuZGluZ19idWY9bmV3IFVpbnQ4QXJyYXkoYS5wZW5kaW5nX2J1Zl9zaXplKSxhLnN5bV9idWY9YS5saXRfYnVmc2l6ZSxhLnN5bV9lbmQ9MyooYS5saXRfYnVmc2l6ZS0xKSxhLmxldmVsPWUsYS5zdHJhdGVneT1vLGEubWV0aG9kPW4sSzAodCl9LGwzPSh0LGUpPT57aWYoV2ModCl8fGU+c0F8fGU8MClyZXR1cm4gdD9Xbyh0LGRyKTpkcjtsZXQgbj10LnN0YXRlO2lmKCF0Lm91dHB1dHx8dC5hdmFpbF9pbiE9PTAmJiF0LmlucHV0fHxuLnN0YXR1cz09PXRjJiZlIT09UmkpcmV0dXJuIFdvKHQsdC5hdmFpbF9vdXQ9PT0wP3dfOmRyKTtsZXQgaT1uLmxhc3RfZmx1c2g7aWYobi5sYXN0X2ZsdXNoPWUsbi5wZW5kaW5nIT09MCl7aWYoWm4odCksdC5hdmFpbF9vdXQ9PT0wKXJldHVybiBuLmxhc3RfZmx1c2g9LTEsX259ZWxzZSBpZih0LmF2YWlsX2luPT09MCYmY0EoZSk8PWNBKGkpJiZlIT09UmkpcmV0dXJuIFdvKHQsd18pO2lmKG4uc3RhdHVzPT09dGMmJnQuYXZhaWxfaW4hPT0wKXJldHVybiBXbyh0LHdfKTtpZihuLnN0YXR1cz09PWFhJiZuLndyYXA9PT0wJiYobi5zdGF0dXM9R28pLG4uc3RhdHVzPT09YWEpe2xldCByPXRoKyhuLndfYml0cy04PDw0KTw8OCxvPS0xO2lmKG89bi5zdHJhdGVneT49WmR8fG4ubGV2ZWw8Mj8wOm4ubGV2ZWw8Nj8xOm4ubGV2ZWw9PT02PzI6MyxyfD1vPDw2LG4uc3Ryc3RhcnQhPT0wJiYocnw9MzIpLHIrPTMxLXIlMzEsamEobixyKSxuLnN0cnN0YXJ0IT09MCYmKGphKG4sdC5hZGxlcj4+PjE2KSxqYShuLDY1NTM1JnQuYWRsZXIpKSx0LmFkbGVyPTEsbi5zdGF0dXM9R28sWm4odCksbi5wZW5kaW5nIT09MClyZXR1cm4gbi5sYXN0X2ZsdXNoPS0xLF9ufWlmKG4uc3RhdHVzPT09NTcpe2lmKHQuYWRsZXI9MCx0ZShuLDMxKSx0ZShuLDEzOSksdGUobiw4KSxuLmd6aGVhZCl0ZShuLChuLmd6aGVhZC50ZXh0PzE6MCkrKG4uZ3poZWFkLmhjcmM/MjowKSsobi5nemhlYWQuZXh0cmE/NDowKSsobi5nemhlYWQubmFtZT84OjApKyhuLmd6aGVhZC5jb21tZW50PzE2OjApKSx0ZShuLDI1NSZuLmd6aGVhZC50aW1lKSx0ZShuLG4uZ3poZWFkLnRpbWU+PjgmMjU1KSx0ZShuLG4uZ3poZWFkLnRpbWU+PjE2JjI1NSksdGUobixuLmd6aGVhZC50aW1lPj4yNCYyNTUpLHRlKG4sbi5sZXZlbD09PTk/MjpuLnN0cmF0ZWd5Pj1aZHx8bi5sZXZlbDwyPzQ6MCksdGUobiwyNTUmbi5nemhlYWQub3MpLG4uZ3poZWFkLmV4dHJhJiZuLmd6aGVhZC5leHRyYS5sZW5ndGgmJih0ZShuLDI1NSZuLmd6aGVhZC5leHRyYS5sZW5ndGgpLHRlKG4sbi5nemhlYWQuZXh0cmEubGVuZ3RoPj44JjI1NSkpLG4uZ3poZWFkLmhjcmMmJih0LmFkbGVyPWFuKHQuYWRsZXIsbi5wZW5kaW5nX2J1ZixuLnBlbmRpbmcsMCkpLG4uZ3ppbmRleD0wLG4uc3RhdHVzPTY5O2Vsc2UgaWYodGUobiwwKSx0ZShuLDApLHRlKG4sMCksdGUobiwwKSx0ZShuLDApLHRlKG4sbi5sZXZlbD09PTk/MjpuLnN0cmF0ZWd5Pj1aZHx8bi5sZXZlbDwyPzQ6MCksdGUobiwzKSxuLnN0YXR1cz1Hbyxabih0KSxuLnBlbmRpbmchPT0wKXJldHVybiBuLmxhc3RfZmx1c2g9LTEsX259aWYobi5zdGF0dXM9PT02OSl7aWYobi5nemhlYWQuZXh0cmEpe2xldCByPW4ucGVuZGluZyxvPSg2NTUzNSZuLmd6aGVhZC5leHRyYS5sZW5ndGgpLW4uZ3ppbmRleDtmb3IoO24ucGVuZGluZytvPm4ucGVuZGluZ19idWZfc2l6ZTspe2xldCBhPW4ucGVuZGluZ19idWZfc2l6ZS1uLnBlbmRpbmc7aWYobi5wZW5kaW5nX2J1Zi5zZXQobi5nemhlYWQuZXh0cmEuc3ViYXJyYXkobi5nemluZGV4LG4uZ3ppbmRleCthKSxuLnBlbmRpbmcpLG4ucGVuZGluZz1uLnBlbmRpbmdfYnVmX3NpemUsbi5nemhlYWQuaGNyYyYmbi5wZW5kaW5nPnImJih0LmFkbGVyPWFuKHQuYWRsZXIsbi5wZW5kaW5nX2J1ZixuLnBlbmRpbmctcixyKSksbi5nemluZGV4Kz1hLFpuKHQpLG4ucGVuZGluZyE9PTApcmV0dXJuIG4ubGFzdF9mbHVzaD0tMSxfbjtyPTAsby09YTt9bGV0IHM9bmV3IFVpbnQ4QXJyYXkobi5nemhlYWQuZXh0cmEpO24ucGVuZGluZ19idWYuc2V0KHMuc3ViYXJyYXkobi5nemluZGV4LG4uZ3ppbmRleCtvKSxuLnBlbmRpbmcpLG4ucGVuZGluZys9byxuLmd6aGVhZC5oY3JjJiZuLnBlbmRpbmc+ciYmKHQuYWRsZXI9YW4odC5hZGxlcixuLnBlbmRpbmdfYnVmLG4ucGVuZGluZy1yLHIpKSxuLmd6aW5kZXg9MDt9bi5zdGF0dXM9NzM7fWlmKG4uc3RhdHVzPT09NzMpe2lmKG4uZ3poZWFkLm5hbWUpe2xldCByLG89bi5wZW5kaW5nO2Rve2lmKG4ucGVuZGluZz09PW4ucGVuZGluZ19idWZfc2l6ZSl7aWYobi5nemhlYWQuaGNyYyYmbi5wZW5kaW5nPm8mJih0LmFkbGVyPWFuKHQuYWRsZXIsbi5wZW5kaW5nX2J1ZixuLnBlbmRpbmctbyxvKSksWm4odCksbi5wZW5kaW5nIT09MClyZXR1cm4gbi5sYXN0X2ZsdXNoPS0xLF9uO289MDt9cj1uLmd6aW5kZXg8bi5nemhlYWQubmFtZS5sZW5ndGg/MjU1Jm4uZ3poZWFkLm5hbWUuY2hhckNvZGVBdChuLmd6aW5kZXgrKyk6MCx0ZShuLHIpO313aGlsZShyIT09MCk7bi5nemhlYWQuaGNyYyYmbi5wZW5kaW5nPm8mJih0LmFkbGVyPWFuKHQuYWRsZXIsbi5wZW5kaW5nX2J1ZixuLnBlbmRpbmctbyxvKSksbi5nemluZGV4PTA7fW4uc3RhdHVzPTkxO31pZihuLnN0YXR1cz09PTkxKXtpZihuLmd6aGVhZC5jb21tZW50KXtsZXQgcixvPW4ucGVuZGluZztkb3tpZihuLnBlbmRpbmc9PT1uLnBlbmRpbmdfYnVmX3NpemUpe2lmKG4uZ3poZWFkLmhjcmMmJm4ucGVuZGluZz5vJiYodC5hZGxlcj1hbih0LmFkbGVyLG4ucGVuZGluZ19idWYsbi5wZW5kaW5nLW8sbykpLFpuKHQpLG4ucGVuZGluZyE9PTApcmV0dXJuIG4ubGFzdF9mbHVzaD0tMSxfbjtvPTA7fXI9bi5nemluZGV4PG4uZ3poZWFkLmNvbW1lbnQubGVuZ3RoPzI1NSZuLmd6aGVhZC5jb21tZW50LmNoYXJDb2RlQXQobi5nemluZGV4KyspOjAsdGUobixyKTt9d2hpbGUociE9PTApO24uZ3poZWFkLmhjcmMmJm4ucGVuZGluZz5vJiYodC5hZGxlcj1hbih0LmFkbGVyLG4ucGVuZGluZ19idWYsbi5wZW5kaW5nLW8sbykpO31uLnN0YXR1cz0xMDM7fWlmKG4uc3RhdHVzPT09MTAzKXtpZihuLmd6aGVhZC5oY3JjKXtpZihuLnBlbmRpbmcrMj5uLnBlbmRpbmdfYnVmX3NpemUmJihabih0KSxuLnBlbmRpbmchPT0wKSlyZXR1cm4gbi5sYXN0X2ZsdXNoPS0xLF9uO3RlKG4sMjU1JnQuYWRsZXIpLHRlKG4sdC5hZGxlcj4+OCYyNTUpLHQuYWRsZXI9MDt9aWYobi5zdGF0dXM9R28sWm4odCksbi5wZW5kaW5nIT09MClyZXR1cm4gbi5sYXN0X2ZsdXNoPS0xLF9ufWlmKHQuYXZhaWxfaW4hPT0wfHxuLmxvb2thaGVhZCE9PTB8fGUhPT1jbyYmbi5zdGF0dXMhPT10Yyl7bGV0IHI9bi5sZXZlbD09PTA/VzAobixlKTpuLnN0cmF0ZWd5PT09WmQ/KChvLHMpPT57bGV0IGE7Zm9yKDs7KXtpZihvLmxvb2thaGVhZD09PTAmJihjYShvKSxvLmxvb2thaGVhZD09PTApKXtpZihzPT09Y28pcmV0dXJuIDE7YnJlYWt9aWYoby5tYXRjaF9sZW5ndGg9MCxhPWFvKG8sMCxvLndpbmRvd1tvLnN0cnN0YXJ0XSksby5sb29rYWhlYWQtLSxvLnN0cnN0YXJ0KyssYSYmKHRpKG8sITEpLG8uc3RybS5hdmFpbF9vdXQ9PT0wKSlyZXR1cm4gMX1yZXR1cm4gby5pbnNlcnQ9MCxzPT09Umk/KHRpKG8sITApLG8uc3RybS5hdmFpbF9vdXQ9PT0wPzM6NCk6by5zeW1fbmV4dCYmKHRpKG8sITEpLG8uc3RybS5hdmFpbF9vdXQ9PT0wKT8xOjJ9KShuLGUpOm4uc3RyYXRlZ3k9PT10Mz8oKG8scyk9PntsZXQgYSxjLGQsbCx1PW8ud2luZG93O2Zvcig7Oyl7aWYoby5sb29rYWhlYWQ8PWpvKXtpZihjYShvKSxvLmxvb2thaGVhZDw9am8mJnM9PT1jbylyZXR1cm4gMTtpZihvLmxvb2thaGVhZD09PTApYnJlYWt9aWYoby5tYXRjaF9sZW5ndGg9MCxvLmxvb2thaGVhZD49MyYmby5zdHJzdGFydD4wJiYoZD1vLnN0cnN0YXJ0LTEsYz11W2RdLGM9PT11WysrZF0mJmM9PT11WysrZF0mJmM9PT11WysrZF0pKXtsPW8uc3Ryc3RhcnQram87ZG87d2hpbGUoYz09PXVbKytkXSYmYz09PXVbKytkXSYmYz09PXVbKytkXSYmYz09PXVbKytkXSYmYz09PXVbKytkXSYmYz09PXVbKytkXSYmYz09PXVbKytkXSYmYz09PXVbKytkXSYmZDxsKTtvLm1hdGNoX2xlbmd0aD1qby0obC1kKSxvLm1hdGNoX2xlbmd0aD5vLmxvb2thaGVhZCYmKG8ubWF0Y2hfbGVuZ3RoPW8ubG9va2FoZWFkKTt9aWYoby5tYXRjaF9sZW5ndGg+PTM/KGE9YW8obywxLG8ubWF0Y2hfbGVuZ3RoLTMpLG8ubG9va2FoZWFkLT1vLm1hdGNoX2xlbmd0aCxvLnN0cnN0YXJ0Kz1vLm1hdGNoX2xlbmd0aCxvLm1hdGNoX2xlbmd0aD0wKTooYT1hbyhvLDAsby53aW5kb3dbby5zdHJzdGFydF0pLG8ubG9va2FoZWFkLS0sby5zdHJzdGFydCsrKSxhJiYodGkobywhMSksby5zdHJtLmF2YWlsX291dD09PTApKXJldHVybiAxfXJldHVybiBvLmluc2VydD0wLHM9PT1SaT8odGkobywhMCksby5zdHJtLmF2YWlsX291dD09PTA/Mzo0KTpvLnN5bV9uZXh0JiYodGkobywhMSksby5zdHJtLmF2YWlsX291dD09PTApPzE6Mn0pKG4sZSk6ZWNbbi5sZXZlbF0uZnVuYyhuLGUpO2lmKHIhPT0zJiZyIT09NHx8KG4uc3RhdHVzPXRjKSxyPT09MXx8cj09PTMpcmV0dXJuIHQuYXZhaWxfb3V0PT09MCYmKG4ubGFzdF9mbHVzaD0tMSksX247aWYocj09PTImJihlPT09Slc/elcobik6ZSE9PXNBJiYoRW0obiwwLDAsITEpLGU9PT1YVyYmKFFyKG4uaGVhZCksbi5sb29rYWhlYWQ9PT0wJiYobi5zdHJzdGFydD0wLG4uYmxvY2tfc3RhcnQ9MCxuLmluc2VydD0wKSkpLFpuKHQpLHQuYXZhaWxfb3V0PT09MCkpcmV0dXJuIG4ubGFzdF9mbHVzaD0tMSxfbn1yZXR1cm4gZSE9PVJpP19uOm4ud3JhcDw9MD9hQToobi53cmFwPT09Mj8odGUobiwyNTUmdC5hZGxlciksdGUobix0LmFkbGVyPj44JjI1NSksdGUobix0LmFkbGVyPj4xNiYyNTUpLHRlKG4sdC5hZGxlcj4+MjQmMjU1KSx0ZShuLDI1NSZ0LnRvdGFsX2luKSx0ZShuLHQudG90YWxfaW4+PjgmMjU1KSx0ZShuLHQudG90YWxfaW4+PjE2JjI1NSksdGUobix0LnRvdGFsX2luPj4yNCYyNTUpKTooamEobix0LmFkbGVyPj4+MTYpLGphKG4sNjU1MzUmdC5hZGxlcikpLFpuKHQpLG4ud3JhcD4wJiYobi53cmFwPS1uLndyYXApLG4ucGVuZGluZyE9PTA/X246YUEpfSx1Mz0odCxlKT0+e2xldCBuPWUubGVuZ3RoO2lmKFdjKHQpKXJldHVybiBkcjtsZXQgaT10LnN0YXRlLHI9aS53cmFwO2lmKHI9PT0yfHxyPT09MSYmaS5zdGF0dXMhPT1hYXx8aS5sb29rYWhlYWQpcmV0dXJuIGRyO2lmKHI9PT0xJiYodC5hZGxlcj1HYyh0LmFkbGVyLGUsbiwwKSksaS53cmFwPTAsbj49aS53X3NpemUpe3I9PT0wJiYoUXIoaS5oZWFkKSxpLnN0cnN0YXJ0PTAsaS5ibG9ja19zdGFydD0wLGkuaW5zZXJ0PTApO2xldCBjPW5ldyBVaW50OEFycmF5KGkud19zaXplKTtjLnNldChlLnN1YmFycmF5KG4taS53X3NpemUsbiksMCksZT1jLG49aS53X3NpemU7fWxldCBvPXQuYXZhaWxfaW4scz10Lm5leHRfaW4sYT10LmlucHV0O2Zvcih0LmF2YWlsX2luPW4sdC5uZXh0X2luPTAsdC5pbnB1dD1lLGNhKGkpO2kubG9va2FoZWFkPj0zOyl7bGV0IGM9aS5zdHJzdGFydCxkPWkubG9va2FoZWFkLTI7ZG8gaS5pbnNfaD1sbyhpLGkuaW5zX2gsaS53aW5kb3dbYyszLTFdKSxpLnByZXZbYyZpLndfbWFza109aS5oZWFkW2kuaW5zX2hdLGkuaGVhZFtpLmluc19oXT1jLGMrKzt3aGlsZSgtLWQpO2kuc3Ryc3RhcnQ9YyxpLmxvb2thaGVhZD0yLGNhKGkpO31yZXR1cm4gaS5zdHJzdGFydCs9aS5sb29rYWhlYWQsaS5ibG9ja19zdGFydD1pLnN0cnN0YXJ0LGkuaW5zZXJ0PWkubG9va2FoZWFkLGkubG9va2FoZWFkPTAsaS5tYXRjaF9sZW5ndGg9aS5wcmV2X2xlbmd0aD0yLGkubWF0Y2hfYXZhaWxhYmxlPTAsdC5uZXh0X2luPXMsdC5pbnB1dD1hLHQuYXZhaWxfaW49byxpLndyYXA9cixfbn0scGM9e2RlZmxhdGVJbml0Oih0LGUpPT5kQSh0LGUsdGgsMTUsOCxuMyksZGVmbGF0ZUluaXQyOmRBLGRlZmxhdGVSZXNldDpLMCxkZWZsYXRlUmVzZXRLZWVwOkgwLGRlZmxhdGVTZXRIZWFkZXI6KHQsZSk9PldjKHQpfHx0LnN0YXRlLndyYXAhPT0yP2RyOih0LnN0YXRlLmd6aGVhZD1lLF9uKSxkZWZsYXRlOmwzLGRlZmxhdGVFbmQ6dD0+e2lmKFdjKHQpKXJldHVybiBkcjtsZXQgZT10LnN0YXRlLnN0YXR1cztyZXR1cm4gdC5zdGF0ZT1udWxsLGU9PT1Hbz9Xbyh0LFFXKTpfbn0sZGVmbGF0ZVNldERpY3Rpb25hcnk6dTMsZGVmbGF0ZUluZm86XCJwYWtvIGRlZmxhdGUgKGZyb20gTm9kZWNhIHByb2plY3QpXCJ9LGgzPSh0LGUpPT5PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKSxlaD17YXNzaWduOmZ1bmN0aW9uKHQpe2xldCBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtmb3IoO2UubGVuZ3RoOyl7bGV0IG49ZS5zaGlmdCgpO2lmKG4pe2lmKHR5cGVvZiBuIT1cIm9iamVjdFwiKXRocm93IG5ldyBUeXBlRXJyb3IobitcIm11c3QgYmUgbm9uLW9iamVjdFwiKTtmb3IobGV0IGkgaW4gbiloMyhuLGkpJiYodFtpXT1uW2ldKTt9fXJldHVybiB0fSxmbGF0dGVuQ2h1bmtzOnQ9PntsZXQgZT0wO2ZvcihsZXQgaT0wLHI9dC5sZW5ndGg7aTxyO2krKyllKz10W2ldLmxlbmd0aDtsZXQgbj1uZXcgVWludDhBcnJheShlKTtmb3IobGV0IGk9MCxyPTAsbz10Lmxlbmd0aDtpPG87aSsrKXtsZXQgcz10W2ldO24uc2V0KHMscikscis9cy5sZW5ndGg7fXJldHVybiBufX0sWTA9ITA7dHJ5e1N0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheSgxKSk7fWNhdGNoe1kwPSExO312YXIgSGM9bmV3IFVpbnQ4QXJyYXkoMjU2KTtmb3IobGV0IHQ9MDt0PDI1Njt0KyspSGNbdF09dD49MjUyPzY6dD49MjQ4PzU6dD49MjQwPzQ6dD49MjI0PzM6dD49MTkyPzI6MTtIY1syNTRdPUhjWzI1NF09MTt2YXIgS2M9e3N0cmluZzJidWY6dD0+e2lmKHR5cGVvZiBUZXh0RW5jb2Rlcj09XCJmdW5jdGlvblwiJiZUZXh0RW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlKXJldHVybiBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUodCk7bGV0IGUsbixpLHIsbyxzPXQubGVuZ3RoLGE9MDtmb3Iocj0wO3I8cztyKyspbj10LmNoYXJDb2RlQXQociksKDY0NTEyJm4pPT01NTI5NiYmcisxPHMmJihpPXQuY2hhckNvZGVBdChyKzEpLCg2NDUxMiZpKT09NTYzMjAmJihuPTY1NTM2KyhuLTU1Mjk2PDwxMCkrKGktNTYzMjApLHIrKykpLGErPW48MTI4PzE6bjwyMDQ4PzI6bjw2NTUzNj8zOjQ7Zm9yKGU9bmV3IFVpbnQ4QXJyYXkoYSksbz0wLHI9MDtvPGE7cisrKW49dC5jaGFyQ29kZUF0KHIpLCg2NDUxMiZuKT09NTUyOTYmJnIrMTxzJiYoaT10LmNoYXJDb2RlQXQocisxKSwoNjQ1MTImaSk9PTU2MzIwJiYobj02NTUzNisobi01NTI5Njw8MTApKyhpLTU2MzIwKSxyKyspKSxuPDEyOD9lW28rK109bjpuPDIwNDg/KGVbbysrXT0xOTJ8bj4+PjYsZVtvKytdPTEyOHw2MyZuKTpuPDY1NTM2PyhlW28rK109MjI0fG4+Pj4xMixlW28rK109MTI4fG4+Pj42JjYzLGVbbysrXT0xMjh8NjMmbik6KGVbbysrXT0yNDB8bj4+PjE4LGVbbysrXT0xMjh8bj4+PjEyJjYzLGVbbysrXT0xMjh8bj4+PjYmNjMsZVtvKytdPTEyOHw2MyZuKTtyZXR1cm4gZX0sYnVmMnN0cmluZzoodCxlKT0+e2xldCBuPWV8fHQubGVuZ3RoO2lmKHR5cGVvZiBUZXh0RGVjb2Rlcj09XCJmdW5jdGlvblwiJiZUZXh0RGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlKXJldHVybiBuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUodC5zdWJhcnJheSgwLGUpKTtsZXQgaSxyLG89bmV3IEFycmF5KDIqbik7Zm9yKHI9MCxpPTA7aTxuOyl7bGV0IHM9dFtpKytdO2lmKHM8MTI4KXtvW3IrK109cztjb250aW51ZX1sZXQgYT1IY1tzXTtpZihhPjQpb1tyKytdPTY1NTMzLGkrPWEtMTtlbHNlIHtmb3IocyY9YT09PTI/MzE6YT09PTM/MTU6NzthPjEmJmk8bjspcz1zPDw2fDYzJnRbaSsrXSxhLS07YT4xP29bcisrXT02NTUzMzpzPDY1NTM2P29bcisrXT1zOihzLT02NTUzNixvW3IrK109NTUyOTZ8cz4+MTAmMTAyMyxvW3IrK109NTYzMjB8MTAyMyZzKTt9fXJldHVybiAoKHMsYSk9PntpZihhPDY1NTM0JiZzLnN1YmFycmF5JiZZMClyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLHMubGVuZ3RoPT09YT9zOnMuc3ViYXJyYXkoMCxhKSk7bGV0IGM9XCJcIjtmb3IobGV0IGQ9MDtkPGE7ZCsrKWMrPVN0cmluZy5mcm9tQ2hhckNvZGUoc1tkXSk7cmV0dXJuIGN9KShvLHIpfSx1dGY4Ym9yZGVyOih0LGUpPT57KGU9ZXx8dC5sZW5ndGgpPnQubGVuZ3RoJiYoZT10Lmxlbmd0aCk7bGV0IG49ZS0xO2Zvcig7bj49MCYmKDE5MiZ0W25dKT09MTI4OyluLS07cmV0dXJuIG48MHx8bj09PTA/ZTpuK0hjW3Rbbl1dPmU/bjplfX0scTA9ZnVuY3Rpb24oKXt0aGlzLmlucHV0PW51bGwsdGhpcy5uZXh0X2luPTAsdGhpcy5hdmFpbF9pbj0wLHRoaXMudG90YWxfaW49MCx0aGlzLm91dHB1dD1udWxsLHRoaXMubmV4dF9vdXQ9MCx0aGlzLmF2YWlsX291dD0wLHRoaXMudG90YWxfb3V0PTAsdGhpcy5tc2c9XCJcIix0aGlzLnN0YXRlPW51bGwsdGhpcy5kYXRhX3R5cGU9Mix0aGlzLmFkbGVyPTA7fSx6MD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLHtaX05PX0ZMVVNIOnAzLFpfU1lOQ19GTFVTSDpfMyxaX0ZVTExfRkxVU0g6RTMsWl9GSU5JU0g6bTMsWl9PSzpDdSxaX1NUUkVBTV9FTkQ6ZjMsWl9ERUZBVUxUX0NPTVBSRVNTSU9OOmczLFpfREVGQVVMVF9TVFJBVEVHWTpUMyxaX0RFRkxBVEVEOlMzfT1SYTtmdW5jdGlvbiBfYyh0KXt0aGlzLm9wdGlvbnM9ZWguYXNzaWduKHtsZXZlbDpnMyxtZXRob2Q6UzMsY2h1bmtTaXplOjE2Mzg0LHdpbmRvd0JpdHM6MTUsbWVtTGV2ZWw6OCxzdHJhdGVneTpUM30sdHx8e30pO2xldCBlPXRoaXMub3B0aW9ucztlLnJhdyYmZS53aW5kb3dCaXRzPjA/ZS53aW5kb3dCaXRzPS1lLndpbmRvd0JpdHM6ZS5nemlwJiZlLndpbmRvd0JpdHM+MCYmZS53aW5kb3dCaXRzPDE2JiYoZS53aW5kb3dCaXRzKz0xNiksdGhpcy5lcnI9MCx0aGlzLm1zZz1cIlwiLHRoaXMuZW5kZWQ9ITEsdGhpcy5jaHVua3M9W10sdGhpcy5zdHJtPW5ldyBxMCx0aGlzLnN0cm0uYXZhaWxfb3V0PTA7bGV0IG49cGMuZGVmbGF0ZUluaXQyKHRoaXMuc3RybSxlLmxldmVsLGUubWV0aG9kLGUud2luZG93Qml0cyxlLm1lbUxldmVsLGUuc3RyYXRlZ3kpO2lmKG4hPT1DdSl0aHJvdyBuZXcgRXJyb3IoWm9bbl0pO2lmKGUuaGVhZGVyJiZwYy5kZWZsYXRlU2V0SGVhZGVyKHRoaXMuc3RybSxlLmhlYWRlciksZS5kaWN0aW9uYXJ5KXtsZXQgaTtpZihpPXR5cGVvZiBlLmRpY3Rpb25hcnk9PVwic3RyaW5nXCI/S2Muc3RyaW5nMmJ1ZihlLmRpY3Rpb25hcnkpOnowLmNhbGwoZS5kaWN0aW9uYXJ5KT09PVwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIj9uZXcgVWludDhBcnJheShlLmRpY3Rpb25hcnkpOmUuZGljdGlvbmFyeSxuPXBjLmRlZmxhdGVTZXREaWN0aW9uYXJ5KHRoaXMuc3RybSxpKSxuIT09Q3UpdGhyb3cgbmV3IEVycm9yKFpvW25dKTt0aGlzLl9kaWN0X3NldD0hMDt9fWZ1bmN0aW9uIE5fKHQsZSl7bGV0IG49bmV3IF9jKGUpO2lmKG4ucHVzaCh0LCEwKSxuLmVycil0aHJvdyBuLm1zZ3x8Wm9bbi5lcnJdO3JldHVybiBuLnJlc3VsdH1fYy5wcm90b3R5cGUucHVzaD1mdW5jdGlvbih0LGUpe2xldCBuPXRoaXMuc3RybSxpPXRoaXMub3B0aW9ucy5jaHVua1NpemUscixvO2lmKHRoaXMuZW5kZWQpcmV0dXJuICExO2ZvcihvPWU9PT1+fmU/ZTplPT09ITA/bTM6cDMsdHlwZW9mIHQ9PVwic3RyaW5nXCI/bi5pbnB1dD1LYy5zdHJpbmcyYnVmKHQpOnowLmNhbGwodCk9PT1cIltvYmplY3QgQXJyYXlCdWZmZXJdXCI/bi5pbnB1dD1uZXcgVWludDhBcnJheSh0KTpuLmlucHV0PXQsbi5uZXh0X2luPTAsbi5hdmFpbF9pbj1uLmlucHV0Lmxlbmd0aDs7KWlmKG4uYXZhaWxfb3V0PT09MCYmKG4ub3V0cHV0PW5ldyBVaW50OEFycmF5KGkpLG4ubmV4dF9vdXQ9MCxuLmF2YWlsX291dD1pKSwobz09PV8zfHxvPT09RTMpJiZuLmF2YWlsX291dDw9Nil0aGlzLm9uRGF0YShuLm91dHB1dC5zdWJhcnJheSgwLG4ubmV4dF9vdXQpKSxuLmF2YWlsX291dD0wO2Vsc2Uge2lmKHI9cGMuZGVmbGF0ZShuLG8pLHI9PT1mMylyZXR1cm4gbi5uZXh0X291dD4wJiZ0aGlzLm9uRGF0YShuLm91dHB1dC5zdWJhcnJheSgwLG4ubmV4dF9vdXQpKSxyPXBjLmRlZmxhdGVFbmQodGhpcy5zdHJtKSx0aGlzLm9uRW5kKHIpLHRoaXMuZW5kZWQ9ITAscj09PUN1O2lmKG4uYXZhaWxfb3V0IT09MCl7aWYobz4wJiZuLm5leHRfb3V0PjApdGhpcy5vbkRhdGEobi5vdXRwdXQuc3ViYXJyYXkoMCxuLm5leHRfb3V0KSksbi5hdmFpbF9vdXQ9MDtlbHNlIGlmKG4uYXZhaWxfaW49PT0wKWJyZWFrfWVsc2UgdGhpcy5vbkRhdGEobi5vdXRwdXQpO31yZXR1cm4gITB9LF9jLnByb3RvdHlwZS5vbkRhdGE9ZnVuY3Rpb24odCl7dGhpcy5jaHVua3MucHVzaCh0KTt9LF9jLnByb3RvdHlwZS5vbkVuZD1mdW5jdGlvbih0KXt0PT09Q3UmJih0aGlzLnJlc3VsdD1laC5mbGF0dGVuQ2h1bmtzKHRoaXMuY2h1bmtzKSksdGhpcy5jaHVua3M9W10sdGhpcy5lcnI9dCx0aGlzLm1zZz10aGlzLnN0cm0ubXNnO307dmFyIFIzPXtEZWZsYXRlOl9jLGRlZmxhdGU6Tl8sZGVmbGF0ZVJhdzpmdW5jdGlvbih0LGUpe3JldHVybiAoZT1lfHx7fSkucmF3PSEwLE5fKHQsZSl9LGd6aXA6ZnVuY3Rpb24odCxlKXtyZXR1cm4gKGU9ZXx8e30pLmd6aXA9ITAsTl8odCxlKX0sY29uc3RhbnRzOlJhfSwkZD0xNjIwOSxDMz1mdW5jdGlvbih0LGUpe2xldCBuLGkscixvLHMsYSxjLGQsbCx1LGgscCxnLEUsZixTLEMsQSxiLHcsRCxrLEIsVix6PXQuc3RhdGU7bj10Lm5leHRfaW4sQj10LmlucHV0LGk9bisodC5hdmFpbF9pbi01KSxyPXQubmV4dF9vdXQsVj10Lm91dHB1dCxvPXItKGUtdC5hdmFpbF9vdXQpLHM9cisodC5hdmFpbF9vdXQtMjU3KSxhPXouZG1heCxjPXoud3NpemUsZD16LndoYXZlLGw9ei53bmV4dCx1PXoud2luZG93LGg9ei5ob2xkLHA9ei5iaXRzLGc9ei5sZW5jb2RlLEU9ei5kaXN0Y29kZSxmPSgxPDx6LmxlbmJpdHMpLTEsUz0oMTw8ei5kaXN0Yml0cyktMTt0OmRve3A8MTUmJihoKz1CW24rK108PHAscCs9OCxoKz1CW24rK108PHAscCs9OCksQz1nW2gmZl07ZTpmb3IoOzspe2lmKEE9Qz4+PjI0LGg+Pj49QSxwLT1BLEE9Qz4+PjE2JjI1NSxBPT09MClWW3IrK109NjU1MzUmQztlbHNlIHtpZighKDE2JkEpKXtpZighKDY0JkEpKXtDPWdbKDY1NTM1JkMpKyhoJigxPDxBKS0xKV07Y29udGludWUgZX1pZigzMiZBKXt6Lm1vZGU9MTYxOTE7YnJlYWsgdH10Lm1zZz1cImludmFsaWQgbGl0ZXJhbC9sZW5ndGggY29kZVwiLHoubW9kZT0kZDticmVhayB0fWI9NjU1MzUmQyxBJj0xNSxBJiYocDxBJiYoaCs9QltuKytdPDxwLHArPTgpLGIrPWgmKDE8PEEpLTEsaD4+Pj1BLHAtPUEpLHA8MTUmJihoKz1CW24rK108PHAscCs9OCxoKz1CW24rK108PHAscCs9OCksQz1FW2gmU107bjpmb3IoOzspe2lmKEE9Qz4+PjI0LGg+Pj49QSxwLT1BLEE9Qz4+PjE2JjI1NSwhKDE2JkEpKXtpZighKDY0JkEpKXtDPUVbKDY1NTM1JkMpKyhoJigxPDxBKS0xKV07Y29udGludWUgbn10Lm1zZz1cImludmFsaWQgZGlzdGFuY2UgY29kZVwiLHoubW9kZT0kZDticmVhayB0fWlmKHc9NjU1MzUmQyxBJj0xNSxwPEEmJihoKz1CW24rK108PHAscCs9OCxwPEEmJihoKz1CW24rK108PHAscCs9OCkpLHcrPWgmKDE8PEEpLTEsdz5hKXt0Lm1zZz1cImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrXCIsei5tb2RlPSRkO2JyZWFrIHR9aWYoaD4+Pj1BLHAtPUEsQT1yLW8sdz5BKXtpZihBPXctQSxBPmQmJnouc2FuZSl7dC5tc2c9XCJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFja1wiLHoubW9kZT0kZDticmVhayB0fWlmKEQ9MCxrPXUsbD09PTApe2lmKEQrPWMtQSxBPGIpe2ItPUE7ZG8gVltyKytdPXVbRCsrXTt3aGlsZSgtLUEpO0Q9ci13LGs9Vjt9fWVsc2UgaWYobDxBKXtpZihEKz1jK2wtQSxBLT1sLEE8Yil7Yi09QTtkbyBWW3IrK109dVtEKytdO3doaWxlKC0tQSk7aWYoRD0wLGw8Yil7QT1sLGItPUE7ZG8gVltyKytdPXVbRCsrXTt3aGlsZSgtLUEpO0Q9ci13LGs9Vjt9fX1lbHNlIGlmKEQrPWwtQSxBPGIpe2ItPUE7ZG8gVltyKytdPXVbRCsrXTt3aGlsZSgtLUEpO0Q9ci13LGs9Vjt9Zm9yKDtiPjI7KVZbcisrXT1rW0QrK10sVltyKytdPWtbRCsrXSxWW3IrK109a1tEKytdLGItPTM7YiYmKFZbcisrXT1rW0QrK10sYj4xJiYoVltyKytdPWtbRCsrXSkpO31lbHNlIHtEPXItdztkbyBWW3IrK109VltEKytdLFZbcisrXT1WW0QrK10sVltyKytdPVZbRCsrXSxiLT0zO3doaWxlKGI+Mik7YiYmKFZbcisrXT1WW0QrK10sYj4xJiYoVltyKytdPVZbRCsrXSkpO31icmVha319YnJlYWt9fXdoaWxlKG48aSYmcjxzKTtiPXA+PjMsbi09YixwLT1iPDwzLGgmPSgxPDxwKS0xLHQubmV4dF9pbj1uLHQubmV4dF9vdXQ9cix0LmF2YWlsX2luPW48aT9pLW4rNTo1LShuLWkpLHQuYXZhaWxfb3V0PXI8cz9zLXIrMjU3OjI1Ny0oci1zKSx6LmhvbGQ9aCx6LmJpdHM9cDt9LHRsPTE1LEkzPW5ldyBVaW50MTZBcnJheShbMyw0LDUsNiw3LDgsOSwxMCwxMSwxMywxNSwxNywxOSwyMywyNywzMSwzNSw0Myw1MSw1OSw2Nyw4Myw5OSwxMTUsMTMxLDE2MywxOTUsMjI3LDI1OCwwLDBdKSx2Mz1uZXcgVWludDhBcnJheShbMTYsMTYsMTYsMTYsMTYsMTYsMTYsMTYsMTcsMTcsMTcsMTcsMTgsMTgsMTgsMTgsMTksMTksMTksMTksMjAsMjAsMjAsMjAsMjEsMjEsMjEsMjEsMTYsNzIsNzhdKSx5Mz1uZXcgVWludDE2QXJyYXkoWzEsMiwzLDQsNSw3LDksMTMsMTcsMjUsMzMsNDksNjUsOTcsMTI5LDE5MywyNTcsMzg1LDUxMyw3NjksMTAyNSwxNTM3LDIwNDksMzA3Myw0MDk3LDYxNDUsODE5MywxMjI4OSwxNjM4NSwyNDU3NywwLDBdKSxBMz1uZXcgVWludDhBcnJheShbMTYsMTYsMTYsMTYsMTcsMTcsMTgsMTgsMTksMTksMjAsMjAsMjEsMjEsMjIsMjIsMjMsMjMsMjQsMjQsMjUsMjUsMjYsMjYsMjcsMjcsMjgsMjgsMjksMjksNjQsNjRdKSxFYz0odCxlLG4saSxyLG8scyxhKT0+e2xldCBjPWEuYml0cyxkLGwsdSxoLHAsZyxFPTAsZj0wLFM9MCxDPTAsQT0wLGI9MCx3PTAsRD0wLGs9MCxCPTAsVj1udWxsLHo9bmV3IFVpbnQxNkFycmF5KDE2KSxsdD1uZXcgVWludDE2QXJyYXkoMTYpLHZ0LER0LGNlLFd0PW51bGw7Zm9yKEU9MDtFPD10bDtFKyspeltFXT0wO2ZvcihmPTA7ZjxpO2YrKyl6W2VbbitmXV0rKztmb3IoQT1jLEM9dGw7Qz49MSYmeltDXT09PTA7Qy0tKTtpZihBPkMmJihBPUMpLEM9PT0wKXJldHVybiByW28rK109MjA5NzE1MjAscltvKytdPTIwOTcxNTIwLGEuYml0cz0xLDA7Zm9yKFM9MTtTPEMmJnpbU109PT0wO1MrKyk7Zm9yKEE8UyYmKEE9UyksRD0xLEU9MTtFPD10bDtFKyspaWYoRDw8PTEsRC09eltFXSxEPDApcmV0dXJuIC0xO2lmKEQ+MCYmKHQ9PT0wfHxDIT09MSkpcmV0dXJuIC0xO2ZvcihsdFsxXT0wLEU9MTtFPHRsO0UrKylsdFtFKzFdPWx0W0VdK3pbRV07Zm9yKGY9MDtmPGk7ZisrKWVbbitmXSE9PTAmJihzW2x0W2VbbitmXV0rK109Zik7aWYodD09PTA/KFY9V3Q9cyxnPTIwKTp0PT09MT8oVj1JMyxXdD12MyxnPTI1Nyk6KFY9eTMsV3Q9QTMsZz0wKSxCPTAsZj0wLEU9UyxwPW8sYj1BLHc9MCx1PS0xLGs9MTw8QSxoPWstMSx0PT09MSYmaz44NTJ8fHQ9PT0yJiZrPjU5MilyZXR1cm4gMTtmb3IoOzspe3Z0PUUtdyxzW2ZdKzE8Zz8oRHQ9MCxjZT1zW2ZdKTpzW2ZdPj1nPyhEdD1XdFtzW2ZdLWddLGNlPVZbc1tmXS1nXSk6KER0PTk2LGNlPTApLGQ9MTw8RS13LGw9MTw8YixTPWw7ZG8gbC09ZCxyW3ArKEI+PncpK2xdPXZ0PDwyNHxEdDw8MTZ8Y2V8MDt3aGlsZShsIT09MCk7Zm9yKGQ9MTw8RS0xO0ImZDspZD4+PTE7aWYoZCE9PTA/KEImPWQtMSxCKz1kKTpCPTAsZisrLC0teltFXT09MCl7aWYoRT09PUMpYnJlYWs7RT1lW24rc1tmXV07fWlmKEU+QSYmKEImaCkhPT11KXtmb3Iodz09PTAmJih3PUEpLHArPVMsYj1FLXcsRD0xPDxiO2IrdzxDJiYoRC09eltiK3ddLCEoRDw9MCkpOyliKyssRDw8PTE7aWYoays9MTw8Yix0PT09MSYmaz44NTJ8fHQ9PT0yJiZrPjU5MilyZXR1cm4gMTt1PUImaCxyW3VdPUE8PDI0fGI8PDE2fHAtb3wwO319cmV0dXJuIEIhPT0wJiYocltwK0JdPUUtdzw8MjR8NjQ8PDE2fDApLGEuYml0cz1BLDB9LHtaX0ZJTklTSDpsQSxaX0JMT0NLOmIzLFpfVFJFRVM6ZWwsWl9PSzpZbyxaX1NUUkVBTV9FTkQ6dzMsWl9ORUVEX0RJQ1Q6TzMsWl9TVFJFQU1fRVJST1I6Q2ksWl9EQVRBX0VSUk9SOkowLFpfTUVNX0VSUk9SOlgwLFpfQlVGX0VSUk9SOk4zLFpfREVGTEFURUQ6dUF9PVJhLG5oPTE2MTgwLEl1PTE2MTkwLENyPTE2MTkxLERfPTE2MTkyLFBfPTE2MTk0LG5sPTE2MTk5LGlsPTE2MjAwLGtfPTE2MjA2LGJlPTE2MjA5LGhBPXQ9Pih0Pj4+MjQmMjU1KSsodD4+PjgmNjUyODApKygoNjUyODAmdCk8PDgpKygoMjU1JnQpPDwyNCk7ZnVuY3Rpb24gRDMoKXt0aGlzLnN0cm09bnVsbCx0aGlzLm1vZGU9MCx0aGlzLmxhc3Q9ITEsdGhpcy53cmFwPTAsdGhpcy5oYXZlZGljdD0hMSx0aGlzLmZsYWdzPTAsdGhpcy5kbWF4PTAsdGhpcy5jaGVjaz0wLHRoaXMudG90YWw9MCx0aGlzLmhlYWQ9bnVsbCx0aGlzLndiaXRzPTAsdGhpcy53c2l6ZT0wLHRoaXMud2hhdmU9MCx0aGlzLnduZXh0PTAsdGhpcy53aW5kb3c9bnVsbCx0aGlzLmhvbGQ9MCx0aGlzLmJpdHM9MCx0aGlzLmxlbmd0aD0wLHRoaXMub2Zmc2V0PTAsdGhpcy5leHRyYT0wLHRoaXMubGVuY29kZT1udWxsLHRoaXMuZGlzdGNvZGU9bnVsbCx0aGlzLmxlbmJpdHM9MCx0aGlzLmRpc3RiaXRzPTAsdGhpcy5uY29kZT0wLHRoaXMubmxlbj0wLHRoaXMubmRpc3Q9MCx0aGlzLmhhdmU9MCx0aGlzLm5leHQ9bnVsbCx0aGlzLmxlbnM9bmV3IFVpbnQxNkFycmF5KDMyMCksdGhpcy53b3JrPW5ldyBVaW50MTZBcnJheSgyODgpLHRoaXMubGVuZHluPW51bGwsdGhpcy5kaXN0ZHluPW51bGwsdGhpcy5zYW5lPTAsdGhpcy5iYWNrPTAsdGhpcy53YXM9MDt9dmFyIHFvPXQ9PntpZighdClyZXR1cm4gMTtsZXQgZT10LnN0YXRlO3JldHVybiAhZXx8ZS5zdHJtIT09dHx8ZS5tb2RlPG5ofHxlLm1vZGU+MTYyMTE/MTowfSxRMD10PT57aWYocW8odCkpcmV0dXJuIENpO2xldCBlPXQuc3RhdGU7cmV0dXJuIHQudG90YWxfaW49dC50b3RhbF9vdXQ9ZS50b3RhbD0wLHQubXNnPVwiXCIsZS53cmFwJiYodC5hZGxlcj0xJmUud3JhcCksZS5tb2RlPW5oLGUubGFzdD0wLGUuaGF2ZWRpY3Q9MCxlLmZsYWdzPS0xLGUuZG1heD0zMjc2OCxlLmhlYWQ9bnVsbCxlLmhvbGQ9MCxlLmJpdHM9MCxlLmxlbmNvZGU9ZS5sZW5keW49bmV3IEludDMyQXJyYXkoODUyKSxlLmRpc3Rjb2RlPWUuZGlzdGR5bj1uZXcgSW50MzJBcnJheSg1OTIpLGUuc2FuZT0xLGUuYmFjaz0tMSxZb30sWjA9dD0+e2lmKHFvKHQpKXJldHVybiBDaTtsZXQgZT10LnN0YXRlO3JldHVybiBlLndzaXplPTAsZS53aGF2ZT0wLGUud25leHQ9MCxRMCh0KX0sJDA9KHQsZSk9PntsZXQgbjtpZihxbyh0KSlyZXR1cm4gQ2k7bGV0IGk9dC5zdGF0ZTtyZXR1cm4gZTwwPyhuPTAsZT0tZSk6KG49NSsoZT4+NCksZTw0OCYmKGUmPTE1KSksZSYmKGU8OHx8ZT4xNSk/Q2k6KGkud2luZG93IT09bnVsbCYmaS53Yml0cyE9PWUmJihpLndpbmRvdz1udWxsKSxpLndyYXA9bixpLndiaXRzPWUsWjAodCkpfSxwQT0odCxlKT0+e2lmKCF0KXJldHVybiBDaTtsZXQgbj1uZXcgRDM7dC5zdGF0ZT1uLG4uc3RybT10LG4ud2luZG93PW51bGwsbi5tb2RlPW5oO2xldCBpPSQwKHQsZSk7cmV0dXJuIGkhPT1ZbyYmKHQuc3RhdGU9bnVsbCksaX0sTF8sTV8sX0E9ITAsUDM9dD0+e2lmKF9BKXtMXz1uZXcgSW50MzJBcnJheSg1MTIpLE1fPW5ldyBJbnQzMkFycmF5KDMyKTtsZXQgZT0wO2Zvcig7ZTwxNDQ7KXQubGVuc1tlKytdPTg7Zm9yKDtlPDI1NjspdC5sZW5zW2UrK109OTtmb3IoO2U8MjgwOyl0LmxlbnNbZSsrXT03O2Zvcig7ZTwyODg7KXQubGVuc1tlKytdPTg7Zm9yKEVjKDEsdC5sZW5zLDAsMjg4LExfLDAsdC53b3JrLHtiaXRzOjl9KSxlPTA7ZTwzMjspdC5sZW5zW2UrK109NTtFYygyLHQubGVucywwLDMyLE1fLDAsdC53b3JrLHtiaXRzOjV9KSxfQT0hMTt9dC5sZW5jb2RlPUxfLHQubGVuYml0cz05LHQuZGlzdGNvZGU9TV8sdC5kaXN0Yml0cz01O30sdE49KHQsZSxuLGkpPT57bGV0IHIsbz10LnN0YXRlO3JldHVybiBvLndpbmRvdz09PW51bGwmJihvLndzaXplPTE8PG8ud2JpdHMsby53bmV4dD0wLG8ud2hhdmU9MCxvLndpbmRvdz1uZXcgVWludDhBcnJheShvLndzaXplKSksaT49by53c2l6ZT8oby53aW5kb3cuc2V0KGUuc3ViYXJyYXkobi1vLndzaXplLG4pLDApLG8ud25leHQ9MCxvLndoYXZlPW8ud3NpemUpOihyPW8ud3NpemUtby53bmV4dCxyPmkmJihyPWkpLG8ud2luZG93LnNldChlLnN1YmFycmF5KG4taSxuLWkrciksby53bmV4dCksKGktPXIpPyhvLndpbmRvdy5zZXQoZS5zdWJhcnJheShuLWksbiksMCksby53bmV4dD1pLG8ud2hhdmU9by53c2l6ZSk6KG8ud25leHQrPXIsby53bmV4dD09PW8ud3NpemUmJihvLnduZXh0PTApLG8ud2hhdmU8by53c2l6ZSYmKG8ud2hhdmUrPXIpKSksMH0sazM9KHQsZSk9PntsZXQgbixpLHIsbyxzLGEsYyxkLGwsdSxoLHAsZyxFLGYsUyxDLEEsYix3LEQsayxCPTAsVj1uZXcgVWludDhBcnJheSg0KSx6LGx0LHZ0PW5ldyBVaW50OEFycmF5KFsxNiwxNywxOCwwLDgsNyw5LDYsMTAsNSwxMSw0LDEyLDMsMTMsMiwxNCwxLDE1XSk7aWYocW8odCl8fCF0Lm91dHB1dHx8IXQuaW5wdXQmJnQuYXZhaWxfaW4hPT0wKXJldHVybiBDaTtuPXQuc3RhdGUsbi5tb2RlPT09Q3ImJihuLm1vZGU9RF8pLHM9dC5uZXh0X291dCxyPXQub3V0cHV0LGM9dC5hdmFpbF9vdXQsbz10Lm5leHRfaW4saT10LmlucHV0LGE9dC5hdmFpbF9pbixkPW4uaG9sZCxsPW4uYml0cyx1PWEsaD1jLGs9WW87dDpmb3IoOzspc3dpdGNoKG4ubW9kZSl7Y2FzZSBuaDppZihuLndyYXA9PT0wKXtuLm1vZGU9RF87YnJlYWt9Zm9yKDtsPDE2Oyl7aWYoYT09PTApYnJlYWsgdDthLS0sZCs9aVtvKytdPDxsLGwrPTg7fWlmKDImbi53cmFwJiZkPT09MzU2MTUpe24ud2JpdHM9PT0wJiYobi53Yml0cz0xNSksbi5jaGVjaz0wLFZbMF09MjU1JmQsVlsxXT1kPj4+OCYyNTUsbi5jaGVjaz1hbihuLmNoZWNrLFYsMiwwKSxkPTAsbD0wLG4ubW9kZT0xNjE4MTticmVha31pZihuLmhlYWQmJihuLmhlYWQuZG9uZT0hMSksISgxJm4ud3JhcCl8fCgoKDI1NSZkKTw8OCkrKGQ+PjgpKSUzMSl7dC5tc2c9XCJpbmNvcnJlY3QgaGVhZGVyIGNoZWNrXCIsbi5tb2RlPWJlO2JyZWFrfWlmKCgxNSZkKSE9PXVBKXt0Lm1zZz1cInVua25vd24gY29tcHJlc3Npb24gbWV0aG9kXCIsbi5tb2RlPWJlO2JyZWFrfWlmKGQ+Pj49NCxsLT00LEQ9OCsoMTUmZCksbi53Yml0cz09PTAmJihuLndiaXRzPUQpLEQ+MTV8fEQ+bi53Yml0cyl7dC5tc2c9XCJpbnZhbGlkIHdpbmRvdyBzaXplXCIsbi5tb2RlPWJlO2JyZWFrfW4uZG1heD0xPDxuLndiaXRzLG4uZmxhZ3M9MCx0LmFkbGVyPW4uY2hlY2s9MSxuLm1vZGU9NTEyJmQ/MTYxODk6Q3IsZD0wLGw9MDticmVhaztjYXNlIDE2MTgxOmZvcig7bDwxNjspe2lmKGE9PT0wKWJyZWFrIHQ7YS0tLGQrPWlbbysrXTw8bCxsKz04O31pZihuLmZsYWdzPWQsKDI1NSZlbihuKSkhPT11QSl7dC5tc2c9XCJ1bmtub3duIGNvbXByZXNzaW9uIG1ldGhvZFwiLG4ubW9kZT1iZTticmVha31pZig1NzM0NCZlbihuKSl7dC5tc2c9XCJ1bmtub3duIGhlYWRlciBmbGFncyBzZXRcIixuLm1vZGU9YmU7YnJlYWt9bi5oZWFkJiYobi5oZWFkLnRleHQ9ZD4+OCYxKSw1MTImZW4obikmJjQmbi53cmFwJiYoVlswXT0yNTUmZCxWWzFdPWQ+Pj44JjI1NSxuLmNoZWNrPWFuKG4uY2hlY2ssViwyLDApKSxkPTAsbD0wLG4ubW9kZT0xNjE4MjtjYXNlIDE2MTgyOmZvcig7bDwzMjspe2lmKGE9PT0wKWJyZWFrIHQ7YS0tLGQrPWlbbysrXTw8bCxsKz04O31uLmhlYWQmJihuLmhlYWQudGltZT1kKSw1MTImZW4obikmJjQmbi53cmFwJiYoVlswXT0yNTUmZCxWWzFdPWQ+Pj44JjI1NSxWWzJdPWQ+Pj4xNiYyNTUsVlszXT1kPj4+MjQmMjU1LG4uY2hlY2s9YW4obi5jaGVjayxWLDQsMCkpLGQ9MCxsPTAsbi5tb2RlPTE2MTgzO2Nhc2UgMTYxODM6Zm9yKDtsPDE2Oyl7aWYoYT09PTApYnJlYWsgdDthLS0sZCs9aVtvKytdPDxsLGwrPTg7fW4uaGVhZCYmKG4uaGVhZC54ZmxhZ3M9MjU1JmQsbi5oZWFkLm9zPWQ+PjgpLDUxMiZlbihuKSYmNCZuLndyYXAmJihWWzBdPTI1NSZkLFZbMV09ZD4+PjgmMjU1LG4uY2hlY2s9YW4obi5jaGVjayxWLDIsMCkpLGQ9MCxsPTAsbi5tb2RlPTE2MTg0O2Nhc2UgMTYxODQ6aWYoMTAyNCZlbihuKSl7Zm9yKDtsPDE2Oyl7aWYoYT09PTApYnJlYWsgdDthLS0sZCs9aVtvKytdPDxsLGwrPTg7fW4ubGVuZ3RoPWQsbi5oZWFkJiYobi5oZWFkLmV4dHJhX2xlbj1kKSw1MTImZW4obikmJjQmbi53cmFwJiYoVlswXT0yNTUmZCxWWzFdPWQ+Pj44JjI1NSxuLmNoZWNrPWFuKG4uY2hlY2ssViwyLDApKSxkPTAsbD0wO31lbHNlIG4uaGVhZCYmKG4uaGVhZC5leHRyYT1udWxsKTtuLm1vZGU9MTYxODU7Y2FzZSAxNjE4NTppZigxMDI0JmVuKG4pJiYocD1uLmxlbmd0aCxwPmEmJihwPWEpLHAmJihuLmhlYWQmJihEPW4uaGVhZC5leHRyYV9sZW4tbi5sZW5ndGgsbi5oZWFkLmV4dHJhfHwobi5oZWFkLmV4dHJhPW5ldyBVaW50OEFycmF5KG4uaGVhZC5leHRyYV9sZW4pKSxuLmhlYWQuZXh0cmEuc2V0KGkuc3ViYXJyYXkobyxvK3ApLEQpKSw1MTImZW4obikmJjQmbi53cmFwJiYobi5jaGVjaz1hbihuLmNoZWNrLGkscCxvKSksYS09cCxvKz1wLG4ubGVuZ3RoLT1wKSxuLmxlbmd0aCkpYnJlYWsgdDtuLmxlbmd0aD0wLG4ubW9kZT0xNjE4NjtjYXNlIDE2MTg2OmlmKDIwNDgmZW4obikpe2lmKGE9PT0wKWJyZWFrIHQ7cD0wO2RvIEQ9aVtvK3ArK10sbi5oZWFkJiZEJiZuLmxlbmd0aDw2NTUzNiYmKG4uaGVhZC5uYW1lKz1TdHJpbmcuZnJvbUNoYXJDb2RlKEQpKTt3aGlsZShEJiZwPGEpO2lmKDUxMiZlbihuKSYmNCZuLndyYXAmJihuLmNoZWNrPWFuKG4uY2hlY2ssaSxwLG8pKSxhLT1wLG8rPXAsRClicmVhayB0fWVsc2Ugbi5oZWFkJiYobi5oZWFkLm5hbWU9bnVsbCk7bi5sZW5ndGg9MCxuLm1vZGU9MTYxODc7Y2FzZSAxNjE4NzppZig0MDk2JmVuKG4pKXtpZihhPT09MClicmVhayB0O3A9MDtkbyBEPWlbbytwKytdLG4uaGVhZCYmRCYmbi5sZW5ndGg8NjU1MzYmJihuLmhlYWQuY29tbWVudCs9U3RyaW5nLmZyb21DaGFyQ29kZShEKSk7d2hpbGUoRCYmcDxhKTtpZig1MTImZW4obikmJjQmbi53cmFwJiYobi5jaGVjaz1hbihuLmNoZWNrLGkscCxvKSksYS09cCxvKz1wLEQpYnJlYWsgdH1lbHNlIG4uaGVhZCYmKG4uaGVhZC5jb21tZW50PW51bGwpO24ubW9kZT0xNjE4ODtjYXNlIDE2MTg4OmlmKDUxMiZlbihuKSl7Zm9yKDtsPDE2Oyl7aWYoYT09PTApYnJlYWsgdDthLS0sZCs9aVtvKytdPDxsLGwrPTg7fWlmKDQmbi53cmFwJiZkIT09KDY1NTM1Jm4uY2hlY2spKXt0Lm1zZz1cImhlYWRlciBjcmMgbWlzbWF0Y2hcIixuLm1vZGU9YmU7YnJlYWt9ZD0wLGw9MDt9bi5oZWFkJiYobi5oZWFkLmhjcmM9ZW4obik+PjkmMSxuLmhlYWQuZG9uZT0hMCksdC5hZGxlcj1uLmNoZWNrPTAsbi5tb2RlPUNyO2JyZWFrO2Nhc2UgMTYxODk6Zm9yKDtsPDMyOyl7aWYoYT09PTApYnJlYWsgdDthLS0sZCs9aVtvKytdPDxsLGwrPTg7fXQuYWRsZXI9bi5jaGVjaz1oQShkKSxkPTAsbD0wLG4ubW9kZT1JdTtjYXNlIEl1OmlmKG4uaGF2ZWRpY3Q9PT0wKXJldHVybiB0Lm5leHRfb3V0PXMsdC5hdmFpbF9vdXQ9Yyx0Lm5leHRfaW49byx0LmF2YWlsX2luPWEsbi5ob2xkPWQsbi5iaXRzPWwsTzM7dC5hZGxlcj1uLmNoZWNrPTEsbi5tb2RlPUNyO2Nhc2UgQ3I6aWYoZT09PWIzfHxlPT09ZWwpYnJlYWsgdDtjYXNlIERfOmlmKG4ubGFzdCl7ZD4+Pj03JmwsbC09NyZsLG4ubW9kZT1rXzticmVha31mb3IoO2w8Mzspe2lmKGE9PT0wKWJyZWFrIHQ7YS0tLGQrPWlbbysrXTw8bCxsKz04O31zd2l0Y2gobi5sYXN0PTEmZCxkPj4+PTEsbC09MSwzJmQpe2Nhc2UgMDpuLm1vZGU9MTYxOTM7YnJlYWs7Y2FzZSAxOmlmKFAzKG4pLG4ubW9kZT1ubCxlPT09ZWwpe2Q+Pj49MixsLT0yO2JyZWFrIHR9YnJlYWs7Y2FzZSAyOm4ubW9kZT0xNjE5NjticmVhaztjYXNlIDM6dC5tc2c9XCJpbnZhbGlkIGJsb2NrIHR5cGVcIixuLm1vZGU9YmU7fWQ+Pj49MixsLT0yO2JyZWFrO2Nhc2UgMTYxOTM6Zm9yKGQ+Pj49NyZsLGwtPTcmbDtsPDMyOyl7aWYoYT09PTApYnJlYWsgdDthLS0sZCs9aVtvKytdPDxsLGwrPTg7fWlmKCg2NTUzNSZkKSE9KGQ+Pj4xNl42NTUzNSkpe3QubXNnPVwiaW52YWxpZCBzdG9yZWQgYmxvY2sgbGVuZ3Roc1wiLG4ubW9kZT1iZTticmVha31pZihuLmxlbmd0aD02NTUzNSZkLGQ9MCxsPTAsbi5tb2RlPVBfLGU9PT1lbClicmVhayB0O2Nhc2UgUF86bi5tb2RlPTE2MTk1O2Nhc2UgMTYxOTU6aWYocD1uLmxlbmd0aCxwKXtpZihwPmEmJihwPWEpLHA+YyYmKHA9YykscD09PTApYnJlYWsgdDtyLnNldChpLnN1YmFycmF5KG8sbytwKSxzKSxhLT1wLG8rPXAsYy09cCxzKz1wLG4ubGVuZ3RoLT1wO2JyZWFrfW4ubW9kZT1DcjticmVhaztjYXNlIDE2MTk2OmZvcig7bDwxNDspe2lmKGE9PT0wKWJyZWFrIHQ7YS0tLGQrPWlbbysrXTw8bCxsKz04O31pZihuLm5sZW49MjU3KygzMSZkKSxkPj4+PTUsbC09NSxuLm5kaXN0PTErKDMxJmQpLGQ+Pj49NSxsLT01LG4ubmNvZGU9NCsoMTUmZCksZD4+Pj00LGwtPTQsbi5ubGVuPjI4Nnx8bi5uZGlzdD4zMCl7dC5tc2c9XCJ0b28gbWFueSBsZW5ndGggb3IgZGlzdGFuY2Ugc3ltYm9sc1wiLG4ubW9kZT1iZTticmVha31uLmhhdmU9MCxuLm1vZGU9MTYxOTc7Y2FzZSAxNjE5Nzpmb3IoO24uaGF2ZTxuLm5jb2RlOyl7Zm9yKDtsPDM7KXtpZihhPT09MClicmVhayB0O2EtLSxkKz1pW28rK108PGwsbCs9ODt9bi5sZW5zW3Z0W24uaGF2ZSsrXV09NyZkLGQ+Pj49MyxsLT0zO31mb3IoO24uaGF2ZTwxOTspbi5sZW5zW3Z0W24uaGF2ZSsrXV09MDtpZihuLmxlbmNvZGU9bi5sZW5keW4sbi5sZW5iaXRzPTcsej17Yml0czpuLmxlbmJpdHN9LGs9RWMoMCxuLmxlbnMsMCwxOSxuLmxlbmNvZGUsMCxuLndvcmsseiksbi5sZW5iaXRzPXouYml0cyxrKXt0Lm1zZz1cImludmFsaWQgY29kZSBsZW5ndGhzIHNldFwiLG4ubW9kZT1iZTticmVha31uLmhhdmU9MCxuLm1vZGU9MTYxOTg7Y2FzZSAxNjE5ODpmb3IoO24uaGF2ZTxuLm5sZW4rbi5uZGlzdDspe2Zvcig7Qj1uLmxlbmNvZGVbZCYoMTw8bi5sZW5iaXRzKS0xXSxmPUI+Pj4yNCxTPUI+Pj4xNiYyNTUsQz02NTUzNSZCLCEoZjw9bCk7KXtpZihhPT09MClicmVhayB0O2EtLSxkKz1pW28rK108PGwsbCs9ODt9aWYoQzwxNilkPj4+PWYsbC09ZixuLmxlbnNbbi5oYXZlKytdPUM7ZWxzZSB7aWYoQz09PTE2KXtmb3IobHQ9ZisyO2w8bHQ7KXtpZihhPT09MClicmVhayB0O2EtLSxkKz1pW28rK108PGwsbCs9ODt9aWYoZD4+Pj1mLGwtPWYsbi5oYXZlPT09MCl7dC5tc2c9XCJpbnZhbGlkIGJpdCBsZW5ndGggcmVwZWF0XCIsbi5tb2RlPWJlO2JyZWFrfUQ9bi5sZW5zW24uaGF2ZS0xXSxwPTMrKDMmZCksZD4+Pj0yLGwtPTI7fWVsc2UgaWYoQz09PTE3KXtmb3IobHQ9ZiszO2w8bHQ7KXtpZihhPT09MClicmVhayB0O2EtLSxkKz1pW28rK108PGwsbCs9ODt9ZD4+Pj1mLGwtPWYsRD0wLHA9MysoNyZkKSxkPj4+PTMsbC09Mzt9ZWxzZSB7Zm9yKGx0PWYrNztsPGx0Oyl7aWYoYT09PTApYnJlYWsgdDthLS0sZCs9aVtvKytdPDxsLGwrPTg7fWQ+Pj49ZixsLT1mLEQ9MCxwPTExKygxMjcmZCksZD4+Pj03LGwtPTc7fWlmKG4uaGF2ZStwPm4ubmxlbituLm5kaXN0KXt0Lm1zZz1cImludmFsaWQgYml0IGxlbmd0aCByZXBlYXRcIixuLm1vZGU9YmU7YnJlYWt9Zm9yKDtwLS07KW4ubGVuc1tuLmhhdmUrK109RDt9fWlmKG4ubW9kZT09PWJlKWJyZWFrO2lmKG4ubGVuc1syNTZdPT09MCl7dC5tc2c9XCJpbnZhbGlkIGNvZGUgLS0gbWlzc2luZyBlbmQtb2YtYmxvY2tcIixuLm1vZGU9YmU7YnJlYWt9aWYobi5sZW5iaXRzPTksej17Yml0czpuLmxlbmJpdHN9LGs9RWMoMSxuLmxlbnMsMCxuLm5sZW4sbi5sZW5jb2RlLDAsbi53b3JrLHopLG4ubGVuYml0cz16LmJpdHMsayl7dC5tc2c9XCJpbnZhbGlkIGxpdGVyYWwvbGVuZ3RocyBzZXRcIixuLm1vZGU9YmU7YnJlYWt9aWYobi5kaXN0Yml0cz02LG4uZGlzdGNvZGU9bi5kaXN0ZHluLHo9e2JpdHM6bi5kaXN0Yml0c30saz1FYygyLG4ubGVucyxuLm5sZW4sbi5uZGlzdCxuLmRpc3Rjb2RlLDAsbi53b3JrLHopLG4uZGlzdGJpdHM9ei5iaXRzLGspe3QubXNnPVwiaW52YWxpZCBkaXN0YW5jZXMgc2V0XCIsbi5tb2RlPWJlO2JyZWFrfWlmKG4ubW9kZT1ubCxlPT09ZWwpYnJlYWsgdDtjYXNlIG5sOm4ubW9kZT1pbDtjYXNlIGlsOmlmKGE+PTYmJmM+PTI1OCl7dC5uZXh0X291dD1zLHQuYXZhaWxfb3V0PWMsdC5uZXh0X2luPW8sdC5hdmFpbF9pbj1hLG4uaG9sZD1kLG4uYml0cz1sLEMzKHQsaCkscz10Lm5leHRfb3V0LHI9dC5vdXRwdXQsYz10LmF2YWlsX291dCxvPXQubmV4dF9pbixpPXQuaW5wdXQsYT10LmF2YWlsX2luLGQ9bi5ob2xkLGw9bi5iaXRzLG4ubW9kZT09PUNyJiYobi5iYWNrPS0xKTticmVha31mb3Iobi5iYWNrPTA7Qj1uLmxlbmNvZGVbZCYoMTw8bi5sZW5iaXRzKS0xXSxmPUI+Pj4yNCxTPUI+Pj4xNiYyNTUsQz02NTUzNSZCLCEoZjw9bCk7KXtpZihhPT09MClicmVhayB0O2EtLSxkKz1pW28rK108PGwsbCs9ODt9aWYoUyYmISgyNDAmUykpe2ZvcihBPWYsYj1TLHc9QztCPW4ubGVuY29kZVt3KygoZCYoMTw8QStiKS0xKT4+QSldLGY9Qj4+PjI0LFM9Qj4+PjE2JjI1NSxDPTY1NTM1JkIsIShBK2Y8PWwpOyl7aWYoYT09PTApYnJlYWsgdDthLS0sZCs9aVtvKytdPDxsLGwrPTg7fWQ+Pj49QSxsLT1BLG4uYmFjays9QTt9aWYoZD4+Pj1mLGwtPWYsbi5iYWNrKz1mLG4ubGVuZ3RoPUMsUz09PTApe24ubW9kZT0xNjIwNTticmVha31pZigzMiZTKXtuLmJhY2s9LTEsbi5tb2RlPUNyO2JyZWFrfWlmKDY0JlMpe3QubXNnPVwiaW52YWxpZCBsaXRlcmFsL2xlbmd0aCBjb2RlXCIsbi5tb2RlPWJlO2JyZWFrfW4uZXh0cmE9MTUmUyxuLm1vZGU9MTYyMDE7Y2FzZSAxNjIwMTppZihuLmV4dHJhKXtmb3IobHQ9bi5leHRyYTtsPGx0Oyl7aWYoYT09PTApYnJlYWsgdDthLS0sZCs9aVtvKytdPDxsLGwrPTg7fW4ubGVuZ3RoKz1kJigxPDxuLmV4dHJhKS0xLGQ+Pj49bi5leHRyYSxsLT1uLmV4dHJhLG4uYmFjays9bi5leHRyYTt9bi53YXM9bi5sZW5ndGgsbi5tb2RlPTE2MjAyO2Nhc2UgMTYyMDI6Zm9yKDtCPW4uZGlzdGNvZGVbZCYoMTw8bi5kaXN0Yml0cyktMV0sZj1CPj4+MjQsUz1CPj4+MTYmMjU1LEM9NjU1MzUmQiwhKGY8PWwpOyl7aWYoYT09PTApYnJlYWsgdDthLS0sZCs9aVtvKytdPDxsLGwrPTg7fWlmKCEoMjQwJlMpKXtmb3IoQT1mLGI9Uyx3PUM7Qj1uLmRpc3Rjb2RlW3crKChkJigxPDxBK2IpLTEpPj5BKV0sZj1CPj4+MjQsUz1CPj4+MTYmMjU1LEM9NjU1MzUmQiwhKEErZjw9bCk7KXtpZihhPT09MClicmVhayB0O2EtLSxkKz1pW28rK108PGwsbCs9ODt9ZD4+Pj1BLGwtPUEsbi5iYWNrKz1BO31pZihkPj4+PWYsbC09ZixuLmJhY2srPWYsNjQmUyl7dC5tc2c9XCJpbnZhbGlkIGRpc3RhbmNlIGNvZGVcIixuLm1vZGU9YmU7YnJlYWt9bi5vZmZzZXQ9QyxuLmV4dHJhPTE1JlMsbi5tb2RlPTE2MjAzO2Nhc2UgMTYyMDM6aWYobi5leHRyYSl7Zm9yKGx0PW4uZXh0cmE7bDxsdDspe2lmKGE9PT0wKWJyZWFrIHQ7YS0tLGQrPWlbbysrXTw8bCxsKz04O31uLm9mZnNldCs9ZCYoMTw8bi5leHRyYSktMSxkPj4+PW4uZXh0cmEsbC09bi5leHRyYSxuLmJhY2srPW4uZXh0cmE7fWlmKG4ub2Zmc2V0Pm4uZG1heCl7dC5tc2c9XCJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFja1wiLG4ubW9kZT1iZTticmVha31uLm1vZGU9MTYyMDQ7Y2FzZSAxNjIwNDppZihjPT09MClicmVhayB0O2lmKHA9aC1jLG4ub2Zmc2V0PnApe2lmKHA9bi5vZmZzZXQtcCxwPm4ud2hhdmUmJm4uc2FuZSl7dC5tc2c9XCJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFja1wiLG4ubW9kZT1iZTticmVha31wPm4ud25leHQ/KHAtPW4ud25leHQsZz1uLndzaXplLXApOmc9bi53bmV4dC1wLHA+bi5sZW5ndGgmJihwPW4ubGVuZ3RoKSxFPW4ud2luZG93O31lbHNlIEU9cixnPXMtbi5vZmZzZXQscD1uLmxlbmd0aDtwPmMmJihwPWMpLGMtPXAsbi5sZW5ndGgtPXA7ZG8gcltzKytdPUVbZysrXTt3aGlsZSgtLXApO24ubGVuZ3RoPT09MCYmKG4ubW9kZT1pbCk7YnJlYWs7Y2FzZSAxNjIwNTppZihjPT09MClicmVhayB0O3JbcysrXT1uLmxlbmd0aCxjLS0sbi5tb2RlPWlsO2JyZWFrO2Nhc2Uga186aWYobi53cmFwKXtmb3IoO2w8MzI7KXtpZihhPT09MClicmVhayB0O2EtLSxkfD1pW28rK108PGwsbCs9ODt9aWYoaC09Yyx0LnRvdGFsX291dCs9aCxuLnRvdGFsKz1oLDQmbi53cmFwJiZoJiYodC5hZGxlcj1uLmNoZWNrPWVuKG4pP2FuKG4uY2hlY2sscixoLHMtaCk6R2Mobi5jaGVjayxyLGgscy1oKSksaD1jLDQmbi53cmFwJiYoZW4obik/ZDpoQShkKSkhPT1uLmNoZWNrKXt0Lm1zZz1cImluY29ycmVjdCBkYXRhIGNoZWNrXCIsbi5tb2RlPWJlO2JyZWFrfWQ9MCxsPTA7fW4ubW9kZT0xNjIwNztjYXNlIDE2MjA3OmlmKG4ud3JhcCYmZW4obikpe2Zvcig7bDwzMjspe2lmKGE9PT0wKWJyZWFrIHQ7YS0tLGQrPWlbbysrXTw8bCxsKz04O31pZig0Jm4ud3JhcCYmZCE9PSg0Mjk0OTY3Mjk1Jm4udG90YWwpKXt0Lm1zZz1cImluY29ycmVjdCBsZW5ndGggY2hlY2tcIixuLm1vZGU9YmU7YnJlYWt9ZD0wLGw9MDt9bi5tb2RlPTE2MjA4O2Nhc2UgMTYyMDg6az13MzticmVhayB0O2Nhc2UgYmU6az1KMDticmVhayB0O2Nhc2UgMTYyMTA6cmV0dXJuIFgwO2RlZmF1bHQ6cmV0dXJuIENpfXJldHVybiB0Lm5leHRfb3V0PXMsdC5hdmFpbF9vdXQ9Yyx0Lm5leHRfaW49byx0LmF2YWlsX2luPWEsbi5ob2xkPWQsbi5iaXRzPWwsKG4ud3NpemV8fGghPT10LmF2YWlsX291dCYmbi5tb2RlPGJlJiYobi5tb2RlPGtffHxlIT09bEEpKSYmdE4odCx0Lm91dHB1dCx0Lm5leHRfb3V0LGgtdC5hdmFpbF9vdXQpLHUtPXQuYXZhaWxfaW4saC09dC5hdmFpbF9vdXQsdC50b3RhbF9pbis9dSx0LnRvdGFsX291dCs9aCxuLnRvdGFsKz1oLDQmbi53cmFwJiZoJiYodC5hZGxlcj1uLmNoZWNrPWVuKG4pP2FuKG4uY2hlY2sscixoLHQubmV4dF9vdXQtaCk6R2Mobi5jaGVjayxyLGgsdC5uZXh0X291dC1oKSksdC5kYXRhX3R5cGU9bi5iaXRzKyhuLmxhc3Q/NjQ6MCkrKG4ubW9kZT09PUNyPzEyODowKSsobi5tb2RlPT09bmx8fG4ubW9kZT09PVBfPzI1NjowKSwodT09PTAmJmg9PT0wfHxlPT09bEEpJiZrPT09WW8mJihrPU4zKSxrfSxPcj17aW5mbGF0ZVJlc2V0OlowLGluZmxhdGVSZXNldDI6JDAsaW5mbGF0ZVJlc2V0S2VlcDpRMCxpbmZsYXRlSW5pdDp0PT5wQSh0LDE1KSxpbmZsYXRlSW5pdDI6cEEsaW5mbGF0ZTprMyxpbmZsYXRlRW5kOnQ9PntpZihxbyh0KSlyZXR1cm4gQ2k7bGV0IGU9dC5zdGF0ZTtyZXR1cm4gZS53aW5kb3cmJihlLndpbmRvdz1udWxsKSx0LnN0YXRlPW51bGwsWW99LGluZmxhdGVHZXRIZWFkZXI6KHQsZSk9PntpZihxbyh0KSlyZXR1cm4gQ2k7bGV0IG49dC5zdGF0ZTtyZXR1cm4gMiZuLndyYXA/KG4uaGVhZD1lLGUuZG9uZT0hMSxZbyk6Q2l9LGluZmxhdGVTZXREaWN0aW9uYXJ5Oih0LGUpPT57bGV0IG49ZS5sZW5ndGgsaSxyLG87cmV0dXJuIHFvKHQpP0NpOihpPXQuc3RhdGUsaS53cmFwIT09MCYmaS5tb2RlIT09SXU/Q2k6aS5tb2RlPT09SXUmJihyPTEscj1HYyhyLGUsbiwwKSxyIT09aS5jaGVjayk/SjA6KG89dE4odCxlLG4sbiksbz8oaS5tb2RlPTE2MjEwLFgwKTooaS5oYXZlZGljdD0xLFlvKSkpfSxpbmZsYXRlSW5mbzpcInBha28gaW5mbGF0ZSAoZnJvbSBOb2RlY2EgcHJvamVjdClcIn0sTDM9ZnVuY3Rpb24oKXt0aGlzLnRleHQ9MCx0aGlzLnRpbWU9MCx0aGlzLnhmbGFncz0wLHRoaXMub3M9MCx0aGlzLmV4dHJhPW51bGwsdGhpcy5leHRyYV9sZW49MCx0aGlzLm5hbWU9XCJcIix0aGlzLmNvbW1lbnQ9XCJcIix0aGlzLmhjcmM9MCx0aGlzLmRvbmU9ITE7fSxlTj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLHtaX05PX0ZMVVNIOk0zLFpfRklOSVNIOlUzLFpfT0s6bWMsWl9TVFJFQU1fRU5EOlVfLFpfTkVFRF9ESUNUOnhfLFpfU1RSRUFNX0VSUk9SOngzLFpfREFUQV9FUlJPUjpFQSxaX01FTV9FUlJPUjpWM309UmE7ZnVuY3Rpb24gZmModCl7dGhpcy5vcHRpb25zPWVoLmFzc2lnbih7Y2h1bmtTaXplOjY1NTM2LHdpbmRvd0JpdHM6MTUsdG86XCJcIn0sdHx8e30pO2xldCBlPXRoaXMub3B0aW9ucztlLnJhdyYmZS53aW5kb3dCaXRzPj0wJiZlLndpbmRvd0JpdHM8MTYmJihlLndpbmRvd0JpdHM9LWUud2luZG93Qml0cyxlLndpbmRvd0JpdHM9PT0wJiYoZS53aW5kb3dCaXRzPS0xNSkpLCEoZS53aW5kb3dCaXRzPj0wJiZlLndpbmRvd0JpdHM8MTYpfHx0JiZ0LndpbmRvd0JpdHN8fChlLndpbmRvd0JpdHMrPTMyKSxlLndpbmRvd0JpdHM+MTUmJmUud2luZG93Qml0czw0OCYmISgxNSZlLndpbmRvd0JpdHMpJiYoZS53aW5kb3dCaXRzfD0xNSksdGhpcy5lcnI9MCx0aGlzLm1zZz1cIlwiLHRoaXMuZW5kZWQ9ITEsdGhpcy5jaHVua3M9W10sdGhpcy5zdHJtPW5ldyBxMCx0aGlzLnN0cm0uYXZhaWxfb3V0PTA7bGV0IG49T3IuaW5mbGF0ZUluaXQyKHRoaXMuc3RybSxlLndpbmRvd0JpdHMpO2lmKG4hPT1tYyl0aHJvdyBuZXcgRXJyb3IoWm9bbl0pO2lmKHRoaXMuaGVhZGVyPW5ldyBMMyxPci5pbmZsYXRlR2V0SGVhZGVyKHRoaXMuc3RybSx0aGlzLmhlYWRlciksZS5kaWN0aW9uYXJ5JiYodHlwZW9mIGUuZGljdGlvbmFyeT09XCJzdHJpbmdcIj9lLmRpY3Rpb25hcnk9S2Muc3RyaW5nMmJ1ZihlLmRpY3Rpb25hcnkpOmVOLmNhbGwoZS5kaWN0aW9uYXJ5KT09PVwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIiYmKGUuZGljdGlvbmFyeT1uZXcgVWludDhBcnJheShlLmRpY3Rpb25hcnkpKSxlLnJhdyYmKG49T3IuaW5mbGF0ZVNldERpY3Rpb25hcnkodGhpcy5zdHJtLGUuZGljdGlvbmFyeSksbiE9PW1jKSkpdGhyb3cgbmV3IEVycm9yKFpvW25dKX1mdW5jdGlvbiBWXyh0LGUpe2xldCBuPW5ldyBmYyhlKTtpZihuLnB1c2godCksbi5lcnIpdGhyb3cgbi5tc2d8fFpvW24uZXJyXTtyZXR1cm4gbi5yZXN1bHR9ZmMucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24odCxlKXtsZXQgbj10aGlzLnN0cm0saT10aGlzLm9wdGlvbnMuY2h1bmtTaXplLHI9dGhpcy5vcHRpb25zLmRpY3Rpb25hcnksbyxzLGE7aWYodGhpcy5lbmRlZClyZXR1cm4gITE7Zm9yKHM9ZT09PX5+ZT9lOmU9PT0hMD9VMzpNMyxlTi5jYWxsKHQpPT09XCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiP24uaW5wdXQ9bmV3IFVpbnQ4QXJyYXkodCk6bi5pbnB1dD10LG4ubmV4dF9pbj0wLG4uYXZhaWxfaW49bi5pbnB1dC5sZW5ndGg7Oyl7Zm9yKG4uYXZhaWxfb3V0PT09MCYmKG4ub3V0cHV0PW5ldyBVaW50OEFycmF5KGkpLG4ubmV4dF9vdXQ9MCxuLmF2YWlsX291dD1pKSxvPU9yLmluZmxhdGUobixzKSxvPT09eF8mJnImJihvPU9yLmluZmxhdGVTZXREaWN0aW9uYXJ5KG4sciksbz09PW1jP289T3IuaW5mbGF0ZShuLHMpOm89PT1FQSYmKG89eF8pKTtuLmF2YWlsX2luPjAmJm89PT1VXyYmbi5zdGF0ZS53cmFwPjAmJnRbbi5uZXh0X2luXSE9PTA7KU9yLmluZmxhdGVSZXNldChuKSxvPU9yLmluZmxhdGUobixzKTtzd2l0Y2gobyl7Y2FzZSB4MzpjYXNlIEVBOmNhc2UgeF86Y2FzZSBWMzpyZXR1cm4gdGhpcy5vbkVuZChvKSx0aGlzLmVuZGVkPSEwLCExfWlmKGE9bi5hdmFpbF9vdXQsbi5uZXh0X291dCYmKG4uYXZhaWxfb3V0PT09MHx8bz09PVVfKSlpZih0aGlzLm9wdGlvbnMudG89PT1cInN0cmluZ1wiKXtsZXQgYz1LYy51dGY4Ym9yZGVyKG4ub3V0cHV0LG4ubmV4dF9vdXQpLGQ9bi5uZXh0X291dC1jLGw9S2MuYnVmMnN0cmluZyhuLm91dHB1dCxjKTtuLm5leHRfb3V0PWQsbi5hdmFpbF9vdXQ9aS1kLGQmJm4ub3V0cHV0LnNldChuLm91dHB1dC5zdWJhcnJheShjLGMrZCksMCksdGhpcy5vbkRhdGEobCk7fWVsc2UgdGhpcy5vbkRhdGEobi5vdXRwdXQubGVuZ3RoPT09bi5uZXh0X291dD9uLm91dHB1dDpuLm91dHB1dC5zdWJhcnJheSgwLG4ubmV4dF9vdXQpKTtpZihvIT09bWN8fGEhPT0wKXtpZihvPT09VV8pcmV0dXJuIG89T3IuaW5mbGF0ZUVuZCh0aGlzLnN0cm0pLHRoaXMub25FbmQobyksdGhpcy5lbmRlZD0hMCwhMDtpZihuLmF2YWlsX2luPT09MClicmVha319cmV0dXJuICEwfSxmYy5wcm90b3R5cGUub25EYXRhPWZ1bmN0aW9uKHQpe3RoaXMuY2h1bmtzLnB1c2godCk7fSxmYy5wcm90b3R5cGUub25FbmQ9ZnVuY3Rpb24odCl7dD09PW1jJiYodGhpcy5vcHRpb25zLnRvPT09XCJzdHJpbmdcIj90aGlzLnJlc3VsdD10aGlzLmNodW5rcy5qb2luKFwiXCIpOnRoaXMucmVzdWx0PWVoLmZsYXR0ZW5DaHVua3ModGhpcy5jaHVua3MpKSx0aGlzLmNodW5rcz1bXSx0aGlzLmVycj10LHRoaXMubXNnPXRoaXMuc3RybS5tc2c7fTt2YXIgRjM9e0luZmxhdGU6ZmMsaW5mbGF0ZTpWXyxpbmZsYXRlUmF3OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIChlPWV8fHt9KS5yYXc9ITAsVl8odCxlKX0sdW5nemlwOlZfLGNvbnN0YW50czpSYX0se0RlZmxhdGU6JEgsZGVmbGF0ZTpCMyxkZWZsYXRlUmF3OnQ1LGd6aXA6ZTV9PVIzLHtJbmZsYXRlOm41LGluZmxhdGU6ajMsaW5mbGF0ZVJhdzppNSx1bmd6aXA6cjV9PUYzLEczPUIzLFczPWozLG5OPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuT05FX0JZVEU9MF09XCJPTkVfQllURVwiLHRbdC5UV09fQllURT0xXT1cIlRXT19CWVRFXCIsdH0obk58fHt9KSxnbT1jbGFzc3tjb25zdHJ1Y3Rvcigpe1QodGhpcyxcIl9zZXF1ZW5jZVwiLDApLFQodGhpcyxcIl9zdGFydFRpbWVcIixEYXRlLm5vdygpKSxUKHRoaXMsXCJpc1VzZU9uZUJ5dGVcIiwhMCk7fWdldCBzdGFydFRpbWUoKXtsZXQgZT1EYXRlLm5vdygpLXRoaXMuX3N0YXJ0VGltZTtyZXR1cm4gZTxNYXRoLnBvdygyLDE2KT9lOih0aGlzLl9zdGFydFRpbWUrPU1hdGgucG93KDIsMTYpLHRoaXMuc3RhcnRUaW1lKX1nZXQgc2VxdWVuY2UoKXtyZXR1cm4gdGhpcy5fc2VxdWVuY2U8TWF0aC5wb3coMiwzMik/dGhpcy5fc2VxdWVuY2UrKzoodGhpcy5fc2VxdWVuY2UtPU1hdGgucG93KDIsMzIpLHRoaXMuc2VxdWVuY2UpfXNlcmlhbGl6ZShlKXtsZXQgbj17Y29tbW9uUGFja2V0SGVhZGVyOntsZW5ndGg6MCxyZXNlcnZlZDowLGV4dGVuc2lvbjowLHNlcXVlbmNlOnRoaXMuc2VxdWVuY2V9LGNvbW1vblN0cmVhbUhlYWRlcjp0aGlzLnN0YXJ0VGltZSxleHRlbnNpb246dm9pZCAwLHBheWxvYWQ6ZX07aWYoZS5ieXRlTGVuZ3RoPjEyOCl7bGV0IGE9bmV3IFVpbnQ4QXJyYXkoNCk7YS5zZXQoWzEsMCwwLDBdKTtsZXQgYz17aWQ6MCxsZW5ndGg6NCxkYXRhOmEuYnVmZmVyfSxkPXtwcm9maWxlOnRoaXMuaXNVc2VPbmVCeXRlPzA6MSxsZW5ndGg6dGhpcy5pc1VzZU9uZUJ5dGU/NTo2LGRhdGFzOltjXX07bi5jb21tb25QYWNrZXRIZWFkZXIuZXh0ZW5zaW9uPTEsbi5leHRlbnNpb249ZCxuLnBheWxvYWQ9dGhpcy5jb21wcmVzcyhlKSxuLmNvbW1vblBhY2tldEhlYWRlci5sZW5ndGg9OCsobi5leHRlbnNpb24ubGVuZ3RoKzIpK24ucGF5bG9hZC5ieXRlTGVuZ3RoO31lbHNlIG4uY29tbW9uUGFja2V0SGVhZGVyLmxlbmd0aD04K24ucGF5bG9hZC5ieXRlTGVuZ3RoO3YoXCJTSE9XX0RBVEFTVFJFQU0yX0xPR1wiKSYmXy5kZWJ1ZyhcInNlbmQgZGF0YSBoZWFkZXI6IFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShuLmNvbW1vblBhY2tldEhlYWRlcikpKTtsZXQgaT1uZXcgQXJyYXlCdWZmZXIobi5jb21tb25QYWNrZXRIZWFkZXIubGVuZ3RoKSxyPW5ldyBVaW50OEFycmF5KGkpLG89bmV3IERhdGFWaWV3KGkpLHM9MDtpZihvLnNldFVpbnQxNihzLG4uY29tbW9uUGFja2V0SGVhZGVyLmV4dGVuc2lvbjw8MTV8bi5jb21tb25QYWNrZXRIZWFkZXIucmVzZXJ2ZWQ8PDE0fG4uY29tbW9uUGFja2V0SGVhZGVyLmxlbmd0aCwhMCkscys9MixvLnNldFVpbnQzMihzLG4uY29tbW9uUGFja2V0SGVhZGVyLnNlcXVlbmNlLCEwKSxzKz00LG8uc2V0VWludDE2KHMsbi5jb21tb25TdHJlYW1IZWFkZXIsITApLHMrPTIsbi5leHRlbnNpb24pe2xldCBhPXRoaXMuc2VyaWFsaXplRXh0ZW5zaW9uKG4uZXh0ZW5zaW9uKTtyLnNldChuZXcgVWludDhBcnJheShhKSxzKSxzKz1hLmJ5dGVMZW5ndGg7fWlmKHIuc2V0KG5ldyBVaW50OEFycmF5KG4ucGF5bG9hZCkscykscys9bi5wYXlsb2FkLmJ5dGVMZW5ndGgscyE9PW4uY29tbW9uUGFja2V0SGVhZGVyLmxlbmd0aCl0aHJvdyBFcnJvcihcInNlcmlhbGl6ZSBlcnJvciFcIik7cmV0dXJuIGl9ZGVzZXJpYWxpemUoZSl7aWYoZS5ieXRlTGVuZ3RoPDQpcmV0dXJuIG5ldyBBcnJheUJ1ZmZlcigwKTtsZXQgbj1uZXcgRGF0YVZpZXcoZSksaT0wLHI9bi5nZXRVaW50MTYoaSwhMCk7aSs9MjtsZXQgbz17bGVuZ3RoOjE2MzgzJnIscmVzZXJ2ZWQ6KDE2Mzg0JnIpPj4xNCxleHRlbnNpb246KDMyNzY4JnIpPj4xNSxzZXF1ZW5jZTpuLmdldFVpbnQxNihpKzIsITApPDwxNnxuLmdldFVpbnQxNihpLCEwKX0scyxhO2lmKGkrPTQsdihcIlNIT1dfREFUQVNUUkVBTTJfTE9HXCIpJiZfLmRlYnVnKFwicmVjZWl2ZSBkYXRhIGhlYWRlcjogXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KG8pKSksbi5nZXRVaW50MTYoaSwhMCksaSs9MixvLmV4dGVuc2lvbil7YT10aGlzLmRlc2VyaWFsaXplRXh0ZW5zaW9uKGUuc2xpY2UoaSkpLGkrPTIrYS5sZW5ndGgscz1lLnNsaWNlKGkpO2xldCBjPSExO2lmKGEuZGF0YXMubGVuZ3RoPjApe2xldCBkPWEuZGF0YXMuZmluZChsPT5sLmlkPT09MCk7ZCYmKGM9KDEmbmV3IERhdGFWaWV3KGQuZGF0YSkuZ2V0VWludDMyKDAsITApKT09MSk7fXM9Yz90aGlzLmRlY29tcHJlc3Mocyk6czt9ZWxzZSBzPWUuc2xpY2UoOCk7cmV0dXJuIHN9c2VyaWFsaXplRXh0ZW5zaW9uKGUpe2xldHtwcm9maWxlOm4sbGVuZ3RoOmksZGF0YXM6cn09ZSxvPW5ldyBBcnJheUJ1ZmZlcihpKzIpLHM9bmV3IFVpbnQ4QXJyYXkobyksYT1uZXcgRGF0YVZpZXcobyksYz0wO2lmKGEuc2V0VWludDgoYysrLG4pLGEuc2V0VWludDgoYysrLGkpLHIuZm9yRWFjaChkPT57bj8oYS5zZXRVaW50OChjKyssZC5pZCksYS5zZXRVaW50OChjKyssZC5sZW5ndGgpLHMuc2V0KG5ldyBVaW50OEFycmF5KGQuZGF0YSksYyksYys9ZC5kYXRhLmJ5dGVMZW5ndGgpOihhLnNldFVpbnQ4KGMrKyxkLmlkfGQubGVuZ3RoPDw0KSxzLnNldChuZXcgVWludDhBcnJheShkLmRhdGEpLGMpLGMrPWQuZGF0YS5ieXRlTGVuZ3RoKTt9KSxjIT09aSsyKXRocm93IEVycm9yKFwic2VyaWFsaXplIGV4dGVuc2lvbiBlcnJvciwgaXMgXCIuY29uY2F0KGMsXCIhPT1cIikuY29uY2F0KGkrMikpO3JldHVybiBvfWRlc2VyaWFsaXplRXh0ZW5zaW9uKGUpe2xldCBuPW5ldyBEYXRhVmlldyhlKSxpPTAscj1uLmdldFVpbnQ4KGkpO2krKztsZXQgbz1uLmdldFVpbnQ4KGkpO2krKztsZXQgcz1yPT09bk4uVFdPX0JZVEUsYT1bXSxjPW5ldyBEYXRhVmlldyhlLDIpLGQ9MDtmb3IoO2Q8bzspe2xldCBsPTAsdT0wLGg9bmV3IEFycmF5QnVmZmVyKDApO3M/KGw9Yy5nZXRVaW50OChkKSxkKyssdT1jLmdldFVpbnQ4KGQpLGQrKyk6KGw9MTUmYy5nZXRVaW50OChkKSx1PWMuZ2V0VWludDgoZCk+PjQsZCsrKSx1PjAmJihoPWMuYnVmZmVyLnNsaWNlKGQrMixkKzIrdSksZCs9aC5ieXRlTGVuZ3RoKSxhLnB1c2goe2lkOmwsbGVuZ3RoOnUsZGF0YTpofSk7fWlmKGQhPT1vKXRocm93IEVycm9yKFwicGFyc2UgZXJyb3JcIik7cmV0dXJuIHtwcm9maWxlOnIsbGVuZ3RoOm8sZGF0YXM6YX19ZGVjb21wcmVzcyhlKXtyZXR1cm4gVzMobmV3IFVpbnQ4QXJyYXkoZSkpfWNvbXByZXNzKGUpe3JldHVybiBHMyhuZXcgVWludDhBcnJheShlKSl9fSxIMz17bmFtZTpcIkRhdGFTdHJlYW1cIixjcmVhdGU6KHQsZSk9PntsZXQgbj1lP25ldyBRRSh0KTpuZXcgWkUodCk7cmV0dXJuIG4udXNlRGF0YVN0cmVhbShuZXcgZ20pLG59fSxUbT1jbGFzcyBleHRlbmRzIFh0e2NvbnN0cnVjdG9yKGUsbixpKXtzdXBlcigpLFQodGhpcyxcIndzXCIsdm9pZCAwKSxUKHRoaXMsXCJyZXF1ZXN0SWRcIiwxKSxUKHRoaXMsXCJoZWFydEJlYXRUaW1lclwiLHZvaWQgMCksVCh0aGlzLFwiam9pbkluZm9cIix2b2lkIDApLFQodGhpcyxcImNsaWVudElkXCIsdm9pZCAwKSxUKHRoaXMsXCJvbk9wZW5cIiwoKT0+e3RoaXMuZW1pdChcIm9wZW5cIiksdGhpcy5zdGFydEhlYXJ0QmVhdENoZWNrKCk7fSksVCh0aGlzLFwib25DbG9zZVwiLHI9Pnt0aGlzLmVtaXQoXCJjbG9zZVwiKSx0aGlzLmRpc3Bvc2UoKTt9KSxUKHRoaXMsXCJvbk1lc3NhZ2VcIixyPT57bGV0IG89SlNPTi5wYXJzZShyLmRhdGEpO2lmKCFvfHxvLmNvbW1hbmQhPT1cInNlcnZlclJlc3BvbnNlXCJ8fCFvLnJlcXVlc3RJZClyZXR1cm4gbyYmby5jb21tYW5kPT09XCJzZXJ2ZXJTdGF0dXNcIiYmby5zZXJ2ZXJTdGF0dXMmJm8uc2VydmVyU3RhdHVzLmNvbW1hbmQ/KHRoaXMuZW1pdChcInN0YXR1c1wiLG8uc2VydmVyU3RhdHVzKSx2b2lkIHRoaXMuZW1pdChvLnNlcnZlclN0YXR1cy5jb21tYW5kLG8uc2VydmVyU3RhdHVzKSk6dm9pZCAwO3RoaXMuZW1pdChcInJlcV9cIi5jb25jYXQoby5yZXF1ZXN0SWQpLG8pO30pLHRoaXMuam9pbkluZm89ZSx0aGlzLmNsaWVudElkPW4sdGhpcy53cz1uZXcgUW8oXCJjcm9zcy1jaGFubmVsLVwiLmNvbmNhdCh0aGlzLmNsaWVudElkKSxpKSx0aGlzLndzLm9uKGl0LlJFQ09OTkVDVElORywoKT0+e3RoaXMud3MucmVjb25uZWN0TW9kZT1cInJldHJ5XCIsdGhpcy5lbWl0KFwicmVjb25uZWN0aW5nXCIpO30pLHRoaXMud3Mub24oaXQuQ09OTkVDVEVELHRoaXMub25PcGVuKSx0aGlzLndzLm9uKGl0Lk9OX01FU1NBR0UsdGhpcy5vbk1lc3NhZ2UpLHRoaXMud3Mub24oaXQuQ0xPU0VELHRoaXMub25DbG9zZSk7fWlzQ29ubmVjdCgpe3JldHVybiB0aGlzLndzLnN0YXRlPT09XCJjb25uZWN0ZWRcIn1zZW5kTWVzc2FnZShlKXtsZXQgbj10aGlzLnJlcXVlc3RJZCsrO3JldHVybiBlLnJlcXVlc3RJZD1uLGUuc2VxPW4sdGhpcy53cy5zZW5kTWVzc2FnZShlKSxufXdhaXRTdGF0dXMoZSl7cmV0dXJuIG5ldyBqKChuLGkpPT57bGV0IHI9d2luZG93LnNldFRpbWVvdXQoKCk9PntpKG5ldyBPKFIuVElNRU9VVCxcIndhaXQgc3RhdHVzIHRpbWVvdXQsIHN0YXR1czogXCIuY29uY2F0KGUpKSk7fSw1ZTMpO3RoaXMub25jZShlLG89Pnt3aW5kb3cuY2xlYXJUaW1lb3V0KHIpLG8uc3RhdGUmJm8uc3RhdGUhPT0wP2kobmV3IE8oUi5DUk9TU19DSEFOTkVMX1dBSVRfU1RBVFVTX0VSUk9SLFwid2FpdCBzdGF0dXMgZXJyb3IsIHN0YXR1czogXCIuY29uY2F0KGUpKSk6bih2b2lkIDApO30pLHRoaXMub25jZShcImRpc3Bvc2VcIiwoKT0+e3dpbmRvdy5jbGVhclRpbWVvdXQociksaShuZXcgTyhSLldTX0FCT1JUKSk7fSk7fSl9YXN5bmMgcmVxdWVzdChlKXtpZih0aGlzLndzLnN0YXRlPT09XCJjbG9zZWRcIil0aHJvdyBuZXcgTyhSLldTX0RJU0NPTk5FQ1QpO2xldCBuPSgpPT5uZXcgaigocyxhKT0+e3RoaXMud3Mub25jZShpdC5DTE9TRUQsKCk9PmEobmV3IE8oUi5XU19BQk9SVCkpKSx0aGlzLndzLm9uY2UoaXQuQ09OTkVDVEVELHMpO30pO3RoaXMud3Muc3RhdGUhPT1cImNvbm5lY3RlZFwiJiZhd2FpdCBuKCk7bGV0IGk9dGhpcy5zZW5kTWVzc2FnZShlKSxyPW5ldyBqKChzLGEpPT57bGV0IGM9KCk9PnthKG5ldyBPKFIuV1NfQUJPUlQpKTt9O3RoaXMud3Mub25jZShpdC5SRUNPTk5FQ1RJTkcsYyksdGhpcy53cy5vbmNlKGl0LkNMT1NFRCxjKSx0aGlzLm9uY2UoXCJyZXFfXCIuY29uY2F0KGkpLHMpLE1lKDNlMykudGhlbigoKT0+e3RoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKFwicmVxX1wiLmNvbmNhdChpKSksdGhpcy53cy5vZmYoaXQuUkVDT05ORUNUSU5HLGMpLHRoaXMud3Mub2ZmKGl0LkNMT1NFRCxjKSxhKG5ldyBPKFIuVElNRU9VVCxcImNyb3NzIGNoYW5uZWwgd3MgcmVxdWVzdCB0aW1lb3V0XCIpKTt9KTt9KSxvPWF3YWl0IHI7aWYoIW98fG8uY29kZSE9PTIwMCl0aHJvdyBuZXcgTyhSLkNST1NTX0NIQU5ORUxfU0VSVkVSX0VSUk9SX1JFU1BPTlNFLFwicmVzcG9uc2U6IFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShvKSkpO3JldHVybiBvfWFzeW5jIGNvbm5lY3QoZSl7dGhpcy53cy5yZW1vdmVBbGxMaXN0ZW5lcnMoaXQuUkVRVUVTVF9ORVdfVVJMUyksdGhpcy53cy5vbihpdC5SRVFVRVNUX05FV19VUkxTLG49PntuKGUpO30pLGF3YWl0IHRoaXMud3MuaW5pdChlKTt9ZGlzcG9zZSgpe3RoaXMuY2xlYXJIZWFydEJlYXRDaGVjaygpLHRoaXMuZW1pdChcImRpc3Bvc2VcIiksdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKSx0aGlzLndzLmNsb3NlKCk7fXNlbmRQaW5nKGUpe2xldCBuPXRoaXMucmVxdWVzdElkKys7cmV0dXJuIGUucmVxdWVzdElkPW4sdGhpcy53cy5zZW5kTWVzc2FnZShlKSxufXN0YXJ0SGVhcnRCZWF0Q2hlY2soKXt0aGlzLmhlYXJ0QmVhdFRpbWVyJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmhlYXJ0QmVhdFRpbWVyKSx0aGlzLmhlYXJ0QmVhdFRpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCgoKT0+e3RoaXMuc2VuZFBpbmcoe2NvbW1hbmQ6XCJwaW5nXCIsYXBwSWQ6dGhpcy5qb2luSW5mby5hcHBJZCxjbmFtZTp0aGlzLmpvaW5JbmZvLmNuYW1lLHVpZDp0aGlzLmpvaW5JbmZvLnVpZC50b1N0cmluZygpLHNpZDp0aGlzLmpvaW5JbmZvLnNpZCx0czorbmV3IERhdGUscmVxdWVzdElkOjB9KTt9LDNlMyk7fWNsZWFySGVhcnRCZWF0Q2hlY2soKXt3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmhlYXJ0QmVhdFRpbWVyKSx0aGlzLmhlYXJ0QmVhdFRpbWVyPXZvaWQgMDt9fSxTbT1jbGFzcyBleHRlbmRzIFh0e3NldCBzdGF0ZShlKXtlIT09dGhpcy5fc3RhdGUmJihlIT09U24uUkVMQVlfU1RBVEVfRkFJTFVSRSYmKHRoaXMuZXJyb3JDb2RlPXlzLlJFTEFZX09LKSx0aGlzLmVtaXQoXCJzdGF0ZVwiLGUsdGhpcy5lcnJvckNvZGUpLHRoaXMuX3N0YXRlPWUpO31nZXQgc3RhdGUoKXtyZXR1cm4gdGhpcy5fc3RhdGV9Y29uc3RydWN0b3IoZSxuLGkscixvKXtzdXBlcigpLFQodGhpcyxcImpvaW5JbmZvXCIsdm9pZCAwKSxUKHRoaXMsXCJzaWRcIix2b2lkIDApLFQodGhpcyxcImNsaWVudElkXCIsdm9pZCAwKSxUKHRoaXMsXCJjYW5jZWxUb2tlblwiLG1uLkNhbmNlbFRva2VuLnNvdXJjZSgpKSxUKHRoaXMsXCJ3b3JrZXJUb2tlblwiLHZvaWQgMCksVCh0aGlzLFwicmVxdWVzdElkXCIsMCksVCh0aGlzLFwic2lnbmFsXCIsdm9pZCAwKSxUKHRoaXMsXCJwcmV2Q2hhbm5lbE1lZGlhQ29uZmlnXCIsdm9pZCAwKSxUKHRoaXMsXCJodHRwUmV0cnlDb25maWdcIix2b2lkIDApLFQodGhpcyxcIl9yZXNvbHV0aW9uXCIsdm9pZCAwKSxUKHRoaXMsXCJfc3RhdGVcIixTbi5SRUxBWV9TVEFURV9JRExFKSxUKHRoaXMsXCJlcnJvckNvZGVcIix5cy5SRUxBWV9PSyksVCh0aGlzLFwib25TdGF0dXNcIixzPT57Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gQ2hhbm5lbE1lZGlhU3RhdHVzOiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KHMpKSkscyYmcy5jb21tYW5kJiYocy5jb21tYW5kPT09XCJvbkF1ZGlvUGFja2V0UmVjZWl2ZWRcIiYmdGhpcy5lbWl0KFwiZXZlbnRcIixJci5QQUNLRVRfUkVDRUlWRURfQVVESU9fRlJPTV9TUkMpLHMuY29tbWFuZD09PVwib25WaWRlb1BhY2tldFJlY2VpdmVkXCImJnRoaXMuZW1pdChcImV2ZW50XCIsSXIuUEFDS0VUX1JFQ0VJVkVEX1ZJREVPX0ZST01fU1JDKSxzLmNvbW1hbmQ9PT1cIm9uU3JjVG9rZW5Qcml2aWxlZ2VEaWRFeHBpcmVcIiYmKHRoaXMuZXJyb3JDb2RlPXlzLlNSQ19UT0tFTl9FWFBJUkVELHRoaXMuc3RhdGU9U24uUkVMQVlfU1RBVEVfRkFJTFVSRSkscy5jb21tYW5kPT09XCJvbkRlc3RUb2tlblByaXZpbGVnZURpZEV4cGlyZVwiJiYodGhpcy5lcnJvckNvZGU9eXMuREVTVF9UT0tFTl9FWFBJUkVELHRoaXMuc3RhdGU9U24uUkVMQVlfU1RBVEVfRkFJTFVSRSkpO30pLFQodGhpcyxcIm9uUmVjb25uZWN0XCIsYXN5bmMoKT0+e18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIENoYW5uZWxNZWRpYVNvY2tldCBkaXNjb25uZWN0LCByZWNvbm5lY3RpbmdcIikpLHRoaXMuZW1pdChcImV2ZW50XCIsSXIuTkVUV09SS19ESVNDT05ORUNURUQpLHRoaXMuc3RhdGU9U24uUkVMQVlfU1RBVEVfSURMRSx0aGlzLnByZXZDaGFubmVsTWVkaWFDb25maWcmJnRoaXMuc2VuZFN0YXJ0UmVsYXlNZXNzYWdlKHRoaXMucHJldkNoYW5uZWxNZWRpYUNvbmZpZykuY2F0Y2gocz0+e3RoaXMuc3RhdGUhPT1Tbi5SRUxBWV9TVEFURV9JRExFJiYoXy5lcnJvcihcImF1dG8gcmVzdGFydCBjaGFubmVsIG1lZGlhIHJlbGF5IGZhaWxlZFwiLHMudG9TdHJpbmcoKSksdGhpcy5lcnJvckNvZGU9eXMuU0VSVkVSX0NPTk5FQ1RJT05fTE9TVCx0aGlzLnN0YXRlPVNuLlJFTEFZX1NUQVRFX0ZBSUxVUkUpO30pO30pLHRoaXMuam9pbkluZm89ZSx0aGlzLmNsaWVudElkPW4sdGhpcy5zaWQ9TXMoKSx0aGlzLnNpZ25hbD1uZXcgVG0odGhpcy5qb2luSW5mbyx0aGlzLmNsaWVudElkLGkpLHRoaXMuaHR0cFJldHJ5Q29uZmlnPXIsdGhpcy5fcmVzb2x1dGlvbj1vO31hc3luYyBzdGFydENoYW5uZWxNZWRpYVJlbGF5KGUpe2lmKHRoaXMuc3RhdGUhPT1Tbi5SRUxBWV9TVEFURV9JRExFKXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04pO3RoaXMuc3RhdGU9U24uUkVMQVlfU1RBVEVfQ09OTkVDVElORyxhd2FpdCB0aGlzLmNvbm5lY3QoKSxfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBzdGFydENoYW5uZWxNZWRpYVJlbGF5OiBjb25uZWN0IHN1Y2Nlc3NcIikpO3RyeXthd2FpdCB0aGlzLnNlbmRTdGFydFJlbGF5TWVzc2FnZShlKTt9Y2F0Y2gobil7dGhyb3cgbi5kYXRhJiZuLmRhdGEuc2VydmVyUmVzcG9uc2UmJm4uZGF0YS5zZXJ2ZXJSZXNwb25zZS5jb21tYW5kPT09XCJTZXRTb3VyY2VDaGFubmVsXCI/bmV3IE8oUi5DUk9TU19DSEFOTkVMX0ZBSUxFRF9KT0lOX1NSQyk6bi5kYXRhJiZuLmRhdGEuc2VydmVyUmVzcG9uc2UmJm4uc2VydmVyUmVzcG9uc2UuY29tbWFuZD09PVwiU2V0RGVzdENoYW5uZWxTdGF0dXNcIj9uZXcgTyhSLkNST1NTX0NIQU5ORUxfRkFJTEVEX0pPSU5fREVTVCk6bi5kYXRhJiZuLmRhdGEuc2VydmVyUmVzcG9uc2UmJm4uc2VydmVyUmVzcG9uc2UuY29tbWFuZD09PVwiU3RhcnRQYWNrZXRUcmFuc2ZlclwiP25ldyBPKFIuQ1JPU1NfQ0hBTk5FTF9GQUlMRURfUEFDS0VUX1NFTlRfVE9fREVTVCk6bn10aGlzLnByZXZDaGFubmVsTWVkaWFDb25maWc9ZTt9YXN5bmMgdXBkYXRlQ2hhbm5lbE1lZGlhUmVsYXkoZSl7aWYodGhpcy5zdGF0ZSE9PVNuLlJFTEFZX1NUQVRFX1JVTk5JTkcpdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTik7YXdhaXQgdGhpcy5zZW5kVXBkYXRlTWVzc2FnZShlKSx0aGlzLnByZXZDaGFubmVsTWVkaWFDb25maWc9ZTt9YXN5bmMgc2V0VmlkZW9Qcm9maWxlKGUpe2lmKHRoaXMuX3Jlc29sdXRpb249ZSx0aGlzLnN0YXRlIT09U24uUkVMQVlfU1RBVEVfUlVOTklORyl0aHJvdyBuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OKTtsZXQgbj10aGlzLmdlbk1lc3NhZ2Uoc24uU2V0VmlkZW9Qcm9maWxlKTthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KG4pLF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIHN0YXJ0Q2hhbm5lbE1lZGlhUmVsYXk6IHNldFZpZGVvUHJvZmlsZSBzdWNjZXNzXCIpKTt9YXN5bmMgc3RvcENoYW5uZWxNZWRpYVJlbGF5KCl7YXdhaXQgdGhpcy5zZW5kU3RvcFJlbGF5TWVzc2FnZSgpLF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIHN0b3BDaGFubmVsTWVkaWFSZWxheTogc2VuZCBzdG9wIG1lc3NhZ2Ugc3VjY2Vzc1wiKSksdGhpcy5zdGF0ZT1Tbi5SRUxBWV9TVEFURV9JRExFLHRoaXMuZGlzcG9zZSgpO31kaXNwb3NlKCl7Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gZGlzcG9zZUNoYW5uZWxNZWRpYVJlbGF5XCIpKSx0aGlzLmNhbmNlbFRva2VuLmNhbmNlbCgpLHRoaXMuY2FuY2VsVG9rZW49bW4uQ2FuY2VsVG9rZW4uc291cmNlKCksdGhpcy5zdGF0ZT1Tbi5SRUxBWV9TVEFURV9JRExFLHRoaXMuZW1pdChcImRpc3Bvc2VcIiksdGhpcy5zaWduYWwuZGlzcG9zZSgpLHRoaXMucHJldkNoYW5uZWxNZWRpYUNvbmZpZz12b2lkIDA7fWFzeW5jIGNvbm5lY3QoKXtsZXQgZT1hd2FpdCB6Ryh0aGlzLmpvaW5JbmZvLHRoaXMuY2FuY2VsVG9rZW4udG9rZW4sdGhpcy5odHRwUmV0cnlDb25maWcpO3RoaXMud29ya2VyVG9rZW49ZS53b3JrZXJUb2tlbixhd2FpdCB0aGlzLnNpZ25hbC5jb25uZWN0KGUuYWRkcmVzc0xpc3QpLHRoaXMuZW1pdChcImV2ZW50XCIsSXIuTkVUV09SS19DT05ORUNURUQpLHRoaXMuc2lnbmFsLm9uKFwic3RhdHVzXCIsdGhpcy5vblN0YXR1cyksdGhpcy5zaWduYWwub24oXCJyZWNvbm5lY3RpbmdcIix0aGlzLm9uUmVjb25uZWN0KTt9YXN5bmMgc2VuZFN0YXJ0UmVsYXlNZXNzYWdlKGUpe2xldCBuPXRoaXMuZ2VuTWVzc2FnZShzbi5TdG9wUGFja2V0VHJhbnNmZXIpO2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QobiksYXdhaXQgdGhpcy5zaWduYWwud2FpdFN0YXR1cyhcIk5vcm1hbCBRdWl0XCIpLF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIHN0YXJ0Q2hhbm5lbE1lZGlhUmVsYXk6IFN0b3BQYWNrZXRUcmFuc2ZlciBzdWNjZXNzXCIpKTtsZXQgaT10aGlzLmdlbk1lc3NhZ2Uoc24uU2V0U2RrUHJvZmlsZSxlKTthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KGkpLF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIHN0YXJ0Q2hhbm5lbE1lZGlhUmVsYXk6IFNldFNka1Byb2ZpbGUgc3VjY2Vzc1wiKSk7bGV0IHI9dGhpcy5nZW5NZXNzYWdlKHNuLlNldFNvdXJjZUNoYW5uZWwsZSk7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChyKSxhd2FpdCB0aGlzLnNpZ25hbC53YWl0U3RhdHVzKFwiU2V0U291cmNlQ2hhbm5lbFN0YXR1c1wiKSx0aGlzLmVtaXQoXCJldmVudFwiLElyLlBBQ0tFVF9KT0lORURfU1JDX0NIQU5ORUwpLF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIHN0YXJ0Q2hhbm5lbE1lZGlhUmVsYXk6IFNldFNvdXJjZUNoYW5uZWwgc3VjY2Vzc1wiKSk7bGV0IG89dGhpcy5nZW5NZXNzYWdlKHNuLlNldFNvdXJjZVVzZXJJZCxlKTthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KG8pLF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIHN0YXJ0Q2hhbm5lbE1lZGlhUmVsYXk6IFNldFNvdXJjZVVzZXJJZCBzdWNjZXNzXCIpKTtsZXQgcz10aGlzLmdlbk1lc3NhZ2Uoc24uU2V0RGVzdENoYW5uZWwsZSk7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChzKSxhd2FpdCB0aGlzLnNpZ25hbC53YWl0U3RhdHVzKFwiU2V0RGVzdENoYW5uZWxTdGF0dXNcIiksdGhpcy5lbWl0KFwiZXZlbnRcIixJci5QQUNLRVRfSk9JTkVEX0RFU1RfQ0hBTk5FTCksXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gc3RhcnRDaGFubmVsTWVkaWFSZWxheTogU2V0RGVzdENoYW5uZWwgc3VjY2Vzc1wiKSk7bGV0IGE9dGhpcy5nZW5NZXNzYWdlKHNuLlN0YXJ0UGFja2V0VHJhbnNmZXIsZSk7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChhKSx0aGlzLmVtaXQoXCJldmVudFwiLElyLlBBQ0tFVF9TRU5UX1RPX0RFU1RfQ0hBTk5FTCksdGhpcy5zdGF0ZT1Tbi5SRUxBWV9TVEFURV9SVU5OSU5HLF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIHN0YXJ0Q2hhbm5lbE1lZGlhUmVsYXk6IFN0YXJ0UGFja2V0VHJhbnNmZXIgc3VjY2Vzc1wiKSksdGhpcy5zZXRWaWRlb1Byb2ZpbGUodGhpcy5fcmVzb2x1dGlvbik7fWFzeW5jIHNlbmRVcGRhdGVNZXNzYWdlKGUpe2xldCBuPXRoaXMuZ2VuTWVzc2FnZShzbi5VcGRhdGVEZXN0Q2hhbm5lbCxlKTthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KG4pLHRoaXMuZW1pdChcImV2ZW50XCIsSXIuUEFDS0VUX1VQREFURV9ERVNUX0NIQU5ORUwpLF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIHNlbmRVcGRhdGVNZXNzYWdlOiBVcGRhdGVEZXN0Q2hhbm5lbCBzdWNjZXNzXCIpKTt9YXN5bmMgc2VuZFN0b3BSZWxheU1lc3NhZ2UoKXtsZXQgZT10aGlzLmdlbk1lc3NhZ2Uoc24uU3RvcFBhY2tldFRyYW5zZmVyKTthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KGUpLF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIHNlbmRTdG9wUmVsYXlNZXNzYWdlOiBTdG9wUGFja2V0VHJhbnNmZXIgc3VjY2Vzc1wiKSk7fWdlbk1lc3NhZ2UoZSxuKXtsZXQgaT1bXSxyPVtdLG89W107dGhpcy5yZXF1ZXN0SWQrPTE7bGV0IHM9e2FwcElkOnRoaXMuam9pbkluZm8uYXBwSWQsY25hbWU6dGhpcy5qb2luSW5mby5jbmFtZSx1aWQ6dGhpcy5qb2luSW5mby51aWQudG9TdHJpbmcoKSxzZGtWZXJzaW9uOmlpLHNpZDp0aGlzLnNpZCx0czpEYXRlLm5vdygpLHJlcXVlc3RJZDp0aGlzLnJlcXVlc3RJZCxzZXE6dGhpcy5yZXF1ZXN0SWQsYWxsb2NhdGU6ITAsY2xpZW50UmVxdWVzdDp7fX07cy5zZGtWZXJzaW9uPT09XCI0LjIyLjBcIiYmKHMuc2RrVmVyc2lvbj1cIjAuMC4xXCIpO2xldCBhPW51bGwsYz1udWxsO3N3aXRjaChlKXtjYXNlIHNuLlNldFNka1Byb2ZpbGU6cmV0dXJuIHMuY2xpZW50UmVxdWVzdD17Y29tbWFuZDpcIlNldFNka1Byb2ZpbGVcIix0eXBlOlwibXVsdGlfY2hhbm5lbFwifSxzO2Nhc2Ugc24uU2V0U291cmNlQ2hhbm5lbDppZihjPW4mJm4uZ2V0U3JjQ2hhbm5lbE1lZGlhSW5mbygpLCFjKXRocm93IG5ldyBPKFIuVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZmluZCBzb3VyY2UgY29uZmlnXCIpO3JldHVybiBzLmNsaWVudFJlcXVlc3Q9e2NvbW1hbmQ6XCJTZXRTb3VyY2VDaGFubmVsXCIsdWlkOlwiMFwiLGNoYW5uZWxOYW1lOmMuY2hhbm5lbE5hbWUsdG9rZW46Yy50b2tlbnx8dGhpcy5qb2luSW5mby5hcHBJZH0scztjYXNlIHNuLlNldFNvdXJjZVVzZXJJZDppZihjPW4mJm4uZ2V0U3JjQ2hhbm5lbE1lZGlhSW5mbygpLCFjKXRocm93IG5ldyBPKFIuVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZmluZCBzb3VyY2UgY29uZmlnXCIpO3JldHVybiBzLmNsaWVudFJlcXVlc3Q9e2NvbW1hbmQ6XCJTZXRTb3VyY2VVc2VySWRcIix1aWQ6Yy51aWQrXCJcIn0scztjYXNlIHNuLlNldERlc3RDaGFubmVsOmlmKGE9biYmbi5nZXREZXN0Q2hhbm5lbE1lZGlhSW5mbygpLCFhKXRocm93IG5ldyBPKFIuVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZmluZCBkZXN0IGNvbmZpZ1wiKTtyZXR1cm4gYS5mb3JFYWNoKGQ9PntpLnB1c2goZC5jaGFubmVsTmFtZSksci5wdXNoKGQudWlkK1wiXCIpLG8ucHVzaChkLnRva2VufHx0aGlzLmpvaW5JbmZvLmFwcElkKTt9KSxzLmNsaWVudFJlcXVlc3Q9e2NvbW1hbmQ6XCJTZXREZXN0Q2hhbm5lbFwiLGNoYW5uZWxOYW1lOmksdWlkOnIsdG9rZW46b30scztjYXNlIHNuLlN0YXJ0UGFja2V0VHJhbnNmZXI6cmV0dXJuIHMuY2xpZW50UmVxdWVzdD17Y29tbWFuZDpcIlN0YXJ0UGFja2V0VHJhbnNmZXJcIn0scztjYXNlIHNuLlJlY29ubmVjdDpyZXR1cm4gcy5jbGllbnRSZXF1ZXN0PXtjb21tYW5kOlwiUmVjb25uZWN0XCJ9LHM7Y2FzZSBzbi5TdG9wUGFja2V0VHJhbnNmZXI6cmV0dXJuIHMuY2xpZW50UmVxdWVzdD17Y29tbWFuZDpcIlN0b3BQYWNrZXRUcmFuc2ZlclwifSxzO2Nhc2Ugc24uVXBkYXRlRGVzdENoYW5uZWw6aWYoYT1uJiZuLmdldERlc3RDaGFubmVsTWVkaWFJbmZvKCksIWEpdGhyb3cgbmV3IE8oUi5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBmaW5kIGRlc3QgY29uZmlnXCIpO3JldHVybiBhLmZvckVhY2goZD0+e2kucHVzaChkLmNoYW5uZWxOYW1lKSxyLnB1c2goZC51aWQrXCJcIiksby5wdXNoKGQudG9rZW58fHRoaXMuam9pbkluZm8uYXBwSWQpO30pLHMuY2xpZW50UmVxdWVzdD17Y29tbWFuZDpcIlVwZGF0ZURlc3RDaGFubmVsXCIsY2hhbm5lbE5hbWU6aSx1aWQ6cix0b2tlbjpvfSxzO2Nhc2Ugc24uU2V0VmlkZW9Qcm9maWxlOnMuY2xpZW50UmVxdWVzdD17Y29tbWFuZDpcIlNldFZpZGVvUHJvZmlsZVwiLHdpZHRoOnRoaXMuX3Jlc29sdXRpb24ud2lkdGgsaGVpZ2h0OnRoaXMuX3Jlc29sdXRpb24uaGVpZ2h0fTt9cmV0dXJuIHN9fSxLMz17bmFtZTpcIkNoYW5uZWxNZWRpYVJlbGF5XCIsY3JlYXRlOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgU20odC5qb2luSW5mbyx0LmNsaWVudElkLHQud2Vic29ja2V0UmV0cnlDb25maWd8fEVlLHQuaHR0cFJldHJ5Q29uZmlnfHxFZSx0LnJlc29sdXRpb24pfX07ZnVuY3Rpb24gbUEodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihpPWkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscikuZW51bWVyYWJsZX0pKSxuLnB1c2guYXBwbHkobixpKTt9cmV0dXJuIG59ZnVuY3Rpb24gR2EodCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdIT1udWxsP2FyZ3VtZW50c1tlXTp7fTtlJTI/bUEoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe1QodCxpLG5baV0pO30pOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOm1BKE9iamVjdChuKSkuZm9yRWFjaChmdW5jdGlvbihpKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxpLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixpKSk7fSk7fXJldHVybiB0fXZhciBSbT1jbGFzcyBleHRlbmRzIFh0e2NvbnN0cnVjdG9yKGUsbixpLHIpe3N1cGVyKCksVCh0aGlzLFwic3BlY1wiLHZvaWQgMCksVCh0aGlzLFwidG9rZW5cIix2b2lkIDApLFQodGhpcyxcIndlYnNvY2tldFwiLHZvaWQgMCksVCh0aGlzLFwicGluZ3BvbmdUaW1lclwiLHZvaWQgMCksVCh0aGlzLFwicmVjb25uZWN0TW9kZVwiLFwicmV0cnlcIiksVCh0aGlzLFwic2VydmljZU1vZGVcIix2b2lkIDApLFQodGhpcyxcInJlcUlkXCIsMCksVCh0aGlzLFwiY29tbWFuZFJlcUlkXCIsMCksVCh0aGlzLFwiaGFuZGxlV2ViU29ja2V0T3BlblwiLCgpPT57dGhpcy5yZWNvbm5lY3RNb2RlPVwicmV0cnlcIix0aGlzLnN0YXJ0UGluZ1BvbmcoKTt9KSxUKHRoaXMsXCJoYW5kbGVXZWJTb2NrZXRNZXNzYWdlXCIsbz0+e2lmKCFvLmRhdGEpcmV0dXJuO2xldCBzPUpTT04ucGFyc2Uoby5kYXRhKTtzLnJlcXVlc3RJZD90aGlzLmVtaXQoXCJAXCIuY29uY2F0KHMucmVxdWVzdElkLFwiLVwiKS5jb25jYXQocy5zaWQpLHMpOihYLndvcmtlckV2ZW50KHRoaXMuc3BlYy5zaWQse2FjdGlvblR5cGU6XCJzdGF0dXNcIixzZXJ2ZXJDb2RlOnMuY29kZSx3b3JrZXJUeXBlOnRoaXMuc2VydmljZU1vZGU9PT1lci5UUkFOU0NPREU/MToyfSksdGhpcy5lbWl0KFhyLlBVQkxJU0hfU1RSRUFNX1NUQVRVUyxzKSk7fSksdGhpcy5zcGVjPW4sdGhpcy50b2tlbj1lLHRoaXMuc2VydmljZU1vZGU9cix0aGlzLndlYnNvY2tldD1uZXcgUW8oXCJsaXZlLXN0cmVhbWluZ1wiLGkpLHRoaXMud2Vic29ja2V0Lm9uKGl0LkNPTk5FQ1RFRCx0aGlzLmhhbmRsZVdlYlNvY2tldE9wZW4pLHRoaXMud2Vic29ja2V0Lm9uKGl0Lk9OX01FU1NBR0UsdGhpcy5oYW5kbGVXZWJTb2NrZXRNZXNzYWdlKSx0aGlzLndlYnNvY2tldC5vbihpdC5SRVFVRVNUX05FV19VUkxTLChvLHMpPT57R2UodGhpcyxYci5SRVFVRVNUX05FV19BRERSRVNTKS50aGVuKG8pLmNhdGNoKHMpO30pLHRoaXMud2Vic29ja2V0Lm9uKGl0LlJFQ09OTkVDVElORywoKT0+e3RoaXMud2Vic29ja2V0LnJlY29ubmVjdE1vZGU9dGhpcy5yZWNvbm5lY3RNb2RlO30pO31pbml0KGUpe3JldHVybiB0aGlzLndlYnNvY2tldC5pbml0KGUpfWFzeW5jIHJlcXVlc3QoZSxuLGkscil7dGhpcy5yZXFJZCs9MSxlPT09XCJyZXF1ZXN0XCImJih0aGlzLmNvbW1hbmRSZXFJZCs9MSk7bGV0IG89dGhpcy5jb21tYW5kUmVxSWQscz10aGlzLnJlcUlkO2lmKCFzfHwhdGhpcy53ZWJzb2NrZXQpdGhyb3cgbmV3IE8oUi5VTkVYUEVDVEVEX0VSUk9SKTtsZXQgYT1HYSh7Y29tbWFuZDplLHNka1ZlcnNpb246aWk9PT1cIjQuMjIuMFwiP1wiMC4wLjFcIjppaSxzZXE6cyxyZXF1ZXN0SWQ6cyxhbGxvY2F0ZTppLGNuYW1lOnRoaXMuc3BlYy5jbmFtZSxhcHBJZDp0aGlzLnNwZWMuYXBwSWQsc2lkOnRoaXMuc3BlYy5zaWQsdWlkOnRoaXMuc3BlYy51aWQudG9TdHJpbmcoKSx0czpNYXRoLmZsb29yKERhdGUubm93KCkvMWUzKX0sbik7aWYodGhpcy53ZWJzb2NrZXQuc3RhdGU9PT1cImNsb3NlZFwiKXRocm93IG5ldyBPKFIuV1NfRElTQ09OTkVDVCk7bGV0IGM9KCk9Pm5ldyBqKChoLHApPT57dGhpcy53ZWJzb2NrZXQub25jZShpdC5DTE9TRUQsKCk9PnAobmV3IE8oUi5XU19BQk9SVCkpKSx0aGlzLndlYnNvY2tldC5vbmNlKGl0LkNPTk5FQ1RFRCxoKTt9KTt0aGlzLndlYnNvY2tldC5zdGF0ZSE9PVwiY29ubmVjdGVkXCImJmF3YWl0IGMoKSxhLmNsaWVudFJlcXVlc3QmJihhLmNsaWVudFJlcXVlc3Qud29ya2VyVG9rZW49dGhpcy50b2tlbik7bGV0IGQ9bmV3IGooKGgscCk9PntsZXQgZz0oKT0+e3AobmV3IE8oUi5XU19BQk9SVCkpO307dGhpcy53ZWJzb2NrZXQub25jZShpdC5SRUNPTk5FQ1RJTkcsZyksdGhpcy53ZWJzb2NrZXQub25jZShpdC5DTE9TRUQsZyksdGhpcy5vbmNlKFwiQFwiLmNvbmNhdChzLFwiLVwiKS5jb25jYXQodGhpcy5zcGVjLnNpZCksRT0+e2goRSk7fSk7fSk7ciYmWC53b3JrZXJFdmVudCh0aGlzLnNwZWMuc2lkLEdhKEdhKHt9LHIpLHt9LHtyZXF1ZXN0SWQ6byxhY3Rpb25UeXBlOlwicmVxdWVzdFwiLHBheWxvYWQ6SlNPTi5zdHJpbmdpZnkobi5jbGllbnRSZXF1ZXN0KSxzZXJ2ZXJDb2RlOjAsY29kZTowfSkpO2xldCBsPURhdGUubm93KCk7dGhpcy53ZWJzb2NrZXQuc2VuZE1lc3NhZ2UoYSk7bGV0IHU9bnVsbDt0cnl7dT1hd2FpdCBkO31jYXRjaChoKXtpZih0aGlzLndlYnNvY2tldC5zdGF0ZT09PVwiY2xvc2VkXCIpdGhyb3cgaDtyZXR1cm4gYXdhaXQgYygpLGF3YWl0IHRoaXMucmVxdWVzdChlLG4saSl9cmV0dXJuIHImJlgud29ya2VyRXZlbnQodGhpcy5zcGVjLnNpZCxHYShHYSh7fSxyKSx7fSx7cmVxdWVzdElkOm8sYWN0aW9uVHlwZTpcInJlc3BvbnNlXCIscGF5bG9hZDpKU09OLnN0cmluZ2lmeSh1LnNlcnZlclJlc3BvbnNlKSxzZXJ2ZXJDb2RlOnUuY29kZSxzdWNjZXNzOnUuY29kZT09PTIwMCxyZXNwb25zZVRpbWU6RGF0ZS5ub3coKS1sfSkpLHUuY29kZSE9PTIwMCYmdGhpcy5oYW5kbGVSZXNwb25zZUVycm9yKHUpLHV9dHJ5TmV4dEFkZHJlc3MoKXt0aGlzLnJlY29ubmVjdE1vZGU9XCJ0cnlOZXh0XCIsdGhpcy53ZWJzb2NrZXQucmVjb25uZWN0KFwidHJ5TmV4dFwiKTt9Y2xvc2UoKXtsZXQgZT1paT09PVwiNC4yMi4wXCI/XCIwLjAuMVwiOmlpO3RoaXMucmVxSWQrPTEsdGhpcy53ZWJzb2NrZXQuc3RhdGU9PT1cImNvbm5lY3RlZFwiPyh0aGlzLndlYnNvY2tldC5zZW5kTWVzc2FnZSh7Y29tbWFuZDpcInJlcXVlc3RcIixhcHBJZDp0aGlzLnNwZWMuYXBwSWQsY25hbWU6dGhpcy5zcGVjLmNuYW1lLHVpZDp0aGlzLnNwZWMudWlkLnRvU3RyaW5nKCksc2RrVmVyc2lvbjplLHNpZDp0aGlzLnNwZWMuc2lkLHNlcTp0aGlzLnJlcUlkLHRzOk1hdGguZmxvb3IoRGF0ZS5ub3coKS8xZTMpLHJlcXVlc3RJZDp0aGlzLnJlcUlkLGNsaWVudFJlcXVlc3Q6e2NvbW1hbmQ6XCJEZXN0cm95V29ya2VyXCJ9fSksdGhpcy53ZWJzb2NrZXQuY2xvc2UoITEsITApKTp0aGlzLndlYnNvY2tldC5jbG9zZSghMSksdGhpcy5waW5ncG9uZ1RpbWVyJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5waW5ncG9uZ1RpbWVyKSx0aGlzLnBpbmdwb25nVGltZXI9dm9pZCAwKTt9aGFuZGxlUmVzcG9uc2VFcnJvcihlKXtzd2l0Y2goZS5jb2RlKXtjYXNlIGZlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX0FMUkVBRFlfRVhJU1RTX1NUUkVBTTpyZXR1cm4gdm9pZCBfLndhcm5pbmcoXCJsaXZlIHN0cmVhbSByZXNwb25zZSBhbHJlYWR5IGV4aXN0cyBzdHJlYW1cIik7Y2FzZSBmZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9UUkFOU0NPRElOR19QQVJBTUVURVJfRVJST1I6Y2FzZSBmZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9CQURfU1RSRUFNOmNhc2UgZmUuTElWRV9TVFJFQU1fUkVTUE9OU0VfV01fUEFSQU1FVEVSX0VSUk9SOnJldHVybiBuZXcgTyhSLkxJVkVfU1RSRUFNSU5HX0lOVkFMSURfQVJHVU1FTlQsXCJcIix7Y29kZTplLmNvZGV9KS50aHJvdygpO2Nhc2UgZmUuTElWRV9TVFJFQU1fUkVTUE9OU0VfV01fV09SS0VSX05PVF9FWElTVDppZihlLnNlcnZlclJlc3BvbnNlLmNvbW1hbmQ9PT1cIlVucHVibGlzaFN0cmVhbVwiKXJldHVybjt0aHJvdyBuZXcgTyhSLkxJVkVfU1RSRUFNSU5HX0lOVEVSTkFMX1NFUlZFUl9FUlJPUixcImxpdmUgc3RyZWFtIHJlc3BvbnNlIHdtIHdvcmtlciBub3QgZXhpc3RcIix7cmV0cnk6ITB9KTtjYXNlIGZlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX05PVF9BVVRIT1JJWkVEOnJldHVybiBuZXcgTyhSLkxJVkVfU1RSRUFNSU5HX1BVQkxJU0hfU1RSRUFNX05PVF9BVVRIT1JJWkVELFwiXCIse2NvZGU6ZS5jb2RlfSkudGhyb3coKTtjYXNlIGZlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX0ZBSUxFRF9MT0FEX0lNQUdFOntsZXQgbj1uZXcgTyhSLkxJVkVfU1RSRUFNSU5HX1dBUk5fRkFJTEVEX0xPQURfSU1BR0UpO3JldHVybiB0aGlzLmVtaXQoWHIuV0FSTklORyxuLGUuc2VydmVyUmVzcG9uc2UudXJsKX1jYXNlIGZlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX1JFUVVFU1RfVE9PX09GVEVOOntsZXQgbj1uZXcgTyhSLkxJVkVfU1RSRUFNSU5HX1dBUk5fRlJFUVVFTlRfUkVRVUVTVCk7cmV0dXJuIHRoaXMuZW1pdChYci5XQVJOSU5HLG4sZS5zZXJ2ZXJSZXNwb25zZS51cmwpfWNhc2UgZmUuTElWRV9TVFJFQU1fUkVTUE9OU0VfTk9UX0ZPVU5EX1BVQkxJU0g6dGhyb3cgbmV3IE8oUi5MSVZFX1NUUkVBTUlOR19JTlRFUk5BTF9TRVJWRVJfRVJST1IsXCJsaXZlIHN0cmVhbSByZXNwb25zZSB3bSB3b3JrZXIgbm90IGV4aXN0XCIse3JldHJ5OiEwfSk7Y2FzZSBmZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9OT1RfU1VQUE9SVEVEOnJldHVybiBuZXcgTyhSLkxJVkVfU1RSRUFNSU5HX1RSQU5TQ09ESU5HX05PVF9TVVBQT1JURUQsXCJcIix7Y29kZTplLmNvZGV9KS50aHJvdygpO2Nhc2UgZmUuTElWRV9TVFJFQU1fUkVTUE9OU0VfTUFYX1NUUkVBTV9OVU06e2xldCBuPW5ldyBPKFIuTElWRV9TVFJFQU1JTkdfV0FSTl9TVFJFQU1fTlVNX1JFQUNIX0xJTUlUKTtyZXR1cm4gdGhpcy5lbWl0KFhyLldBUk5JTkcsbixlLnNlcnZlclJlc3BvbnNlLnVybCl9Y2FzZSBmZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9JTlRFUk5BTF9TRVJWRVJfRVJST1I6cmV0dXJuIG5ldyBPKFIuTElWRV9TVFJFQU1JTkdfSU5URVJOQUxfU0VSVkVSX0VSUk9SLFwiXCIse2NvZGU6ZS5jb2RlfSkudGhyb3coKTtjYXNlIGZlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX1JFU09VUkNFX0xJTUlUOnRocm93IG5ldyBPKFIuTElWRV9TVFJFQU1JTkdfSU5URVJOQUxfU0VSVkVSX0VSUk9SLFwibGl2ZSBzdHJlYW0gcmVzb3VyY2UgbGltaXRcIix7cmV0cnk6ITAsY2hhbmdlQWRkcmVzczohMH0pO2Nhc2UgZmUuTElWRV9TVFJFQU1fUkVTUE9OU0VfV09SS0VSX0xPU1Q6Y2FzZSBmZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9XT1JLRVJfUVVJVDppZihlLnNlcnZlclJlc3BvbnNlLmNvbW1hbmQ9PT1cIlVucHVibGlzaFN0cmVhbVwiKXJldHVybjt0aHJvdyBuZXcgTyhSLkxJVkVfU1RSRUFNSU5HX0lOVEVSTkFMX1NFUlZFUl9FUlJPUixcImVycm9yIGZhaWwgc2VuZCBtZXNzYWdlXCIse3JldHJ5OiEwLGNoYW5nZUFkZHJlc3M6ITB9KTtjYXNlIGZlLkVSUk9SX0ZBSUxfU0VORF9NRVNTQUdFOmlmKGUuc2VydmVyUmVzcG9uc2UuY29tbWFuZD09PVwiVW5wdWJsaXNoU3RyZWFtXCIpcmV0dXJuO2lmKGUuc2VydmVyUmVzcG9uc2UuY29tbWFuZD09PVwiVXBkYXRlVHJhbnNjb2RpbmdcInx8ZS5zZXJ2ZXJSZXNwb25zZS5jb21tYW5kPT09XCJDb250cm9sU3RyZWFtXCIpcmV0dXJuIG5ldyBPKFIuTElWRV9TVFJFQU1JTkdfSU5URVJOQUxfU0VSVkVSX0VSUk9SLFwiZXJyb3IgZmFpbCBzZW5kIG1lc3NhZ2VcIix7Y29kZTplLmNvZGV9KS50aHJvdygpO3Rocm93IG5ldyBPKFIuTElWRV9TVFJFQU1JTkdfSU5URVJOQUxfU0VSVkVSX0VSUk9SLFwiZXJyb3IgZmFpbCBzZW5kIG1lc3NhZ2VcIix7cmV0cnk6ITAsY2hhbmdlQWRkcmVzczohMH0pO2Nhc2UgZmUuUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1BVQkxJU0hfQlJPS0VOOmNhc2UgZmUuUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1JUTVBfQ09OTkVDVDpjYXNlIGZlLlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9SVE1QX0hBTkRTSEFLRTpjYXNlIGZlLlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9SVE1QX1BVQkxJU0g6cmV0dXJuIG5ldyBPKFIuTElWRV9TVFJFQU1JTkdfQ0ROX0VSUk9SLFwiXCIse2NvZGU6ZS5jb2RlfSkudGhyb3coKX19c3RhcnRQaW5nUG9uZygpe3RoaXMucGluZ3BvbmdUaW1lciYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5waW5ncG9uZ1RpbWVyKSx0aGlzLnBpbmdwb25nVGltZXI9d2luZG93LnNldEludGVydmFsKCgpPT57dGhpcy53ZWJzb2NrZXQuc3RhdGU9PT1cImNvbm5lY3RlZFwiJiZ0aGlzLnJlcXVlc3QoXCJwaW5nXCIse30pLmNhdGNoKHp1KTt9LDZlMyk7fX07ZnVuY3Rpb24gZkEodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihpPWkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscikuZW51bWVyYWJsZX0pKSxuLnB1c2guYXBwbHkobixpKTt9cmV0dXJuIG59ZnVuY3Rpb24gVG4odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdIT1udWxsP2FyZ3VtZW50c1tlXTp7fTtlJTI/ZkEoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe1QodCxpLG5baV0pO30pOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOmZBKE9iamVjdChuKSkuZm9yRWFjaChmdW5jdGlvbihpKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxpLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixpKSk7fSk7fXJldHVybiB0fXZhciBDbT1jbGFzcyBleHRlbmRzIFh0e2NvbnN0cnVjdG9yKGUpe2xldCBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTpFZSxpPWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dm9pZCAwP2FyZ3VtZW50c1syXTpFZTtzdXBlcigpLFQodGhpcyxcIm9uTGl2ZVN0cmVhbVdhcm5pbmdcIix2b2lkIDApLFQodGhpcyxcIm9uTGl2ZVN0cmVhbUVycm9yXCIsdm9pZCAwKSxUKHRoaXMsXCJzcGVjXCIsdm9pZCAwKSxUKHRoaXMsXCJyZXRyeVRpbWVvdXRcIiwxZTQpLFQodGhpcyxcImNvbm5lY3Rpb25cIix2b2lkIDApLFQodGhpcyxcImh0dHBSZXRyeUNvbmZpZ1wiLHZvaWQgMCksVCh0aGlzLFwid3NSZXRyeUNvbmZpZ1wiLHZvaWQgMCksVCh0aGlzLFwic3RyZWFtaW5nVGFza3NcIixuZXcgTWFwKSxUKHRoaXMsXCJpc1N0YXJ0aW5nU3RyZWFtaW5nVGFza1wiLCExKSxUKHRoaXMsXCJ0YXNrTXV0ZXhcIixuZXcgemUoXCJsaXZlLXN0cmVhbWluZ1wiKSksVCh0aGlzLFwiY2FuY2VsVG9rZW5cIixtbi5DYW5jZWxUb2tlbi5zb3VyY2UoKSksVCh0aGlzLFwidHJhbnNjb2RpbmdDb25maWdcIix2b2lkIDApLFQodGhpcyxcInVhcFJlc3BvbnNlXCIsdm9pZCAwKSxUKHRoaXMsXCJsYXN0VGFza0lkXCIsMSksVCh0aGlzLFwic3RhdHVzRXJyb3JcIixuZXcgTWFwKSx0aGlzLnNwZWM9ZSx0aGlzLmh0dHBSZXRyeUNvbmZpZz1pLHRoaXMud3NSZXRyeUNvbmZpZz1uO31hc3luYyBzZXRUcmFuc2NvZGluZ0NvbmZpZyhlKXtsZXQgbj1UbihUbih7fSxhaiksZSk7bi52aWRlb0NvZGVjUHJvZmlsZSE9PTY2JiZuLnZpZGVvQ29kZWNQcm9maWxlIT09NzcmJm4udmlkZW9Db2RlY1Byb2ZpbGUhPT0xMDAmJihfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnNwZWMuY2xpZW50SWQsXCJdIHNldCB0cmFuc2NvZGluZyBjb25maWcsIGZpeCB2aWRlbyBjb2RlYyBwcm9maWxlOiBcIikuY29uY2F0KG4udmlkZW9Db2RlY1Byb2ZpbGUsXCIgLT4gMTAwXCIpKSxuLnZpZGVvQ29kZWNQcm9maWxlPTEwMCksbi50cmFuc2NvZGluZ1VzZXJzfHwobi50cmFuc2NvZGluZ1VzZXJzPW4udXNlckNvbmZpZ3MpLG4udHJhbnNjb2RpbmdVc2VycyYmKG4udHJhbnNjb2RpbmdVc2Vycz1uLnRyYW5zY29kaW5nVXNlcnMubWFwKHM9PlRuKFRuKFRuKHt9LHNqKSxzKSx7fSx7ek9yZGVyOnMuek9yZGVyP3Muek9yZGVyKzE6MX0pKSksZnVuY3Rpb24ocyl7enQocy53aWR0aCl8fE50KHMud2lkdGgsXCJjb25maWcud2lkdGhcIiwwLDFlNCksenQocy5oZWlnaHQpfHxOdChzLmhlaWdodCxcImNvbmZpZy5oZWlnaHRcIiwwLDFlNCksenQocy52aWRlb0JpdHJhdGUpfHxOdChzLnZpZGVvQml0cmF0ZSxcImNvbmZpZy52aWRlb0JpdHJhdGVcIiwxLDFlNiksenQocy52aWRlb0ZyYW1lUmF0ZSl8fE50KHMudmlkZW9GcmFtZVJhdGUsXCJjb25maWcudmlkZW9GcmFtZVJhdGVcIiksenQocy5sb3dMYXRlbmN5KXx8TnIocy5sb3dMYXRlbmN5LFwiY29uZmlnLmxvd0xhdGVuY3lcIiksenQocy5hdWRpb1NhbXBsZVJhdGUpfHxDZShzLmF1ZGlvU2FtcGxlUmF0ZSxcImNvbmZpZy5hdWRpb1NhbXBsZVJhdGVcIixbMzJlMyw0NDEwMCw0OGUzXSksenQocy5hdWRpb0JpdHJhdGUpfHxOdChzLmF1ZGlvQml0cmF0ZSxcImNvbmZpZy5hdWRpb0JpdHJhdGVcIiwxLDEyOCksenQocy5hdWRpb0NoYW5uZWxzKXx8Q2Uocy5hdWRpb0NoYW5uZWxzLFwiY29uZmlnLmF1ZGlvQ2hhbm5lbHNcIixbMSwyLDMsNCw1XSksenQocy52aWRlb0dvcCl8fE50KHMudmlkZW9Hb3AsXCJjb25maWcudmlkZW9Hb3BcIiksenQocy52aWRlb0NvZGVjUHJvZmlsZSl8fENlKHMudmlkZW9Db2RlY1Byb2ZpbGUsXCJjb25maWcudmlkZW9Db2RlY1Byb2ZpbGVcIixbNjYsNzcsMTAwXSksenQocy51c2VyQ291bnQpfHxOdChzLnVzZXJDb3VudCxcImNvbmZpZy51c2VyQ291bnRcIiwwLDE3KSx6dChzLmJhY2tncm91bmRDb2xvcil8fE50KHMuYmFja2dyb3VuZENvbG9yLFwiY29uZmlnLmJhY2tncm91bmRDb2xvclwiLDAsMTY3NzcyMTUpLHp0KHMudXNlckNvbmZpZ0V4dHJhSW5mbyl8fFBlKHMudXNlckNvbmZpZ0V4dHJhSW5mbyxcImNvbmZpZy51c2VyQ29uZmlnRXh0cmFJbmZvXCIsMCw0MDk2LCExKSxzLnRyYW5zY29kaW5nVXNlcnMmJiF6dChzLnRyYW5zY29kaW5nVXNlcnMpJiYoYnIocy50cmFuc2NvZGluZ1VzZXJzLFwiY29uZmlnLnRyYW5zY29kaW5nVXNlcnNcIikscy50cmFuc2NvZGluZ1VzZXJzLmZvckVhY2goKGEsYyk9PntRdShhLnVpZCksenQoYS54KXx8TnQoYS54LFwidHJhbnNjb2RpbmdVc2VyW1wiLmNvbmNhdChjLFwiXS54XCIpLDAsMWU0KSx6dChhLnkpfHxOdChhLnksXCJ0cmFuc2NvZGluZ1VzZXJbXCIuY29uY2F0KGMsXCJdLnlcIiksMCwxZTQpLHp0KGEud2lkdGgpfHxOdChhLndpZHRoLFwidHJhbnNjb2RpbmdVc2VyW1wiLmNvbmNhdChjLFwiXS53aWR0aFwiKSwwLDFlNCksenQoYS5oZWlnaHQpfHxOdChhLmhlaWdodCxcInRyYW5zY29kaW5nVXNlcltcIi5jb25jYXQoYyxcIl0uaGVpZ2h0XCIpLDAsMWU0KSx6dChhLnpPcmRlcil8fE50KGEuek9yZGVyLTEsXCJ0cmFuc2NvZGluZ1VzZXJbXCIuY29uY2F0KGMsXCJdLnpPcmRlclwiKSwwLDEwMCksenQoYS5hbHBoYSl8fE50KGEuYWxwaGEsXCJ0cmFuc2NvZGluZ1VzZXJbXCIuY29uY2F0KGMsXCJdLmFscGhhXCIpLDAsMSwhMSk7fSkpLHp0KHMud2F0ZXJtYXJrKXx8eHAocy53YXRlcm1hcmssXCJ3YXRlcm1hcmtcIiksenQocy5iYWNrZ3JvdW5kSW1hZ2UpfHx4cChzLmJhY2tncm91bmRJbWFnZSxcImJhY2tncm91bmRJbWFnZVwiKSxzLmltYWdlcyYmIXp0KHMuaW1hZ2VzKSYmKGJyKHMuaW1hZ2VzLFwiY29uZmlnLmltYWdlc1wiKSxzLmltYWdlcy5mb3JFYWNoKChhLGMpPT57eHAoYSxcImltYWdlc1tcIi5jb25jYXQoYyxcIl1cIikpO30pKTt9KG4pO2xldCBpPVtdO24uaW1hZ2VzJiZpLnB1c2goLi4ubi5pbWFnZXMubWFwKHM9PlRuKFRuKFRuKHt9LFVwKSxzKSx7fSx7ek9yZGVyOjI1NX0pKSksbi5iYWNrZ3JvdW5kSW1hZ2UmJihpLnB1c2goVG4oVG4oVG4oe30sVXApLG4uYmFja2dyb3VuZEltYWdlKSx7fSx7ek9yZGVyOjB9KSksZGVsZXRlIG4uYmFja2dyb3VuZEltYWdlKSxuLndhdGVybWFyayYmKGkucHVzaChUbihUbihUbih7fSxVcCksbi53YXRlcm1hcmspLHt9LHt6T3JkZXI6MjU1fSkpLGRlbGV0ZSBuLndhdGVybWFyayksbi5pbWFnZXM9aSxuLnRyYW5zY29kaW5nVXNlcnMmJihuLnVzZXJDb25maWdzPW4udHJhbnNjb2RpbmdVc2Vycy5tYXAocz0+VG4oe30scykpLG4udXNlckNvdW50PW4udHJhbnNjb2RpbmdVc2Vycy5sZW5ndGgsZGVsZXRlIG4udHJhbnNjb2RpbmdVc2Vycyk7bGV0IHI9KG4udXNlckNvbmZpZ3N8fFtdKS5tYXAocz0+dHlwZW9mIHMudWlkPT1cIm51bWJlclwiP2oucmVzb2x2ZShzLnVpZCk6aDAocy51aWQsdGhpcy5zcGVjLHRoaXMuY2FuY2VsVG9rZW4udG9rZW4sdGhpcy5odHRwUmV0cnlDb25maWcpKTtpZigoYXdhaXQgai5hbGwocikpLmZvckVhY2goKHMsYSk9PntuLnVzZXJDb25maWdzJiZuLnVzZXJDb25maWdzW2FdJiYobi51c2VyQ29uZmlnc1thXS51aWQ9cyk7fSksdGhpcy50cmFuc2NvZGluZ0NvbmZpZz1uLHRoaXMuY29ubmVjdGlvbil0cnl7dmFyIG87bGV0IHM9YXdhaXQgdGhpcy5jb25uZWN0aW9uLnJlcXVlc3QoXCJyZXF1ZXN0XCIse2NsaWVudFJlcXVlc3Q6e2NvbW1hbmQ6XCJVcGRhdGVUcmFuc2NvZGluZ1wiLHRyYW5zY29kaW5nQ29uZmlnOnRoaXMudHJhbnNjb2RpbmdDb25maWd9fSwhMSx7Y29tbWFuZDpcIlVwZGF0ZVRyYW5zY29kaW5nXCIsd29ya2VyVHlwZToxLHJlcXVlc3RCeVVzZXI6ITAsdGlkOkFycmF5LmZyb20oUHIobz10aGlzLnN0cmVhbWluZ1Rhc2tzKS5jYWxsKG8pKS5tYXAoYT0+YS50YXNrSWQpLmpvaW4oXCIjXCIpfSk7Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zcGVjLmNsaWVudElkLFwiXSB1cGRhdGUgbGl2ZSB0cmFuc2NvZGluZyBjb25maWcgc3VjY2VzcywgY29kZTogXCIpLmNvbmNhdChzLmNvZGUsXCIsIGNvbmZpZzpcIiksSlNPTi5zdHJpbmdpZnkodGhpcy50cmFuc2NvZGluZ0NvbmZpZykpO31jYXRjaChzKXtpZighcy5kYXRhfHwhcy5kYXRhLnJldHJ5KXRocm93IHM7cy5kYXRhLmNoYW5nZUFkZHJlc3MmJnRoaXMuY29ubmVjdGlvbi50cnlOZXh0QWRkcmVzcygpLHRoaXMuc3RyZWFtaW5nVGFza3MuZm9yRWFjaChhPT57Xy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnNwZWMuY2xpZW50SWQsXCJdIGxpdmUgc3RyZWFtaW5nIHJlY2VpdmUgZXJyb3JcIikscy50b1N0cmluZygpLFwidHJ5IHRvIHJlcHVibGlzaFwiLGEudXJsKSx0aGlzLnN0YXJ0TGl2ZVN0cmVhbWluZ1Rhc2soYS51cmwsYS5tb2RlLHMpLnRoZW4oKCk9PntfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnNwZWMuY2xpZW50SWQsXCJdIGxpdmUgc3RyZWFtaW5nIHJlcHVibGlzaCBcIikuY29uY2F0KGEudXJsLFwiIHN1Y2Nlc3NcIikpO30pLmNhdGNoKGM9PntfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLnNwZWMuY2xpZW50SWQsXCJdIGxpdmUgc3RyZWFtaW5nIHJlcHVibGlzaCBmYWlsZWRcIiksYS51cmwsYy50b1N0cmluZygpKSx0aGlzLm9uTGl2ZVN0cmVhbUVycm9yJiZ0aGlzLm9uTGl2ZVN0cmVhbUVycm9yKGEudXJsLGMpO30pO30pO319YXN5bmMgc3RhcnRMaXZlU3RyZWFtaW5nVGFzayhlLG4saSl7aWYoIXRoaXMudHJhbnNjb2RpbmdDb25maWcmJm49PT1lci5UUkFOU0NPREUpdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcIltMaXZlU3RyZWFtaW5nXSBubyB0cmFuc2NvZGluZyBjb25maWcgZm91bmQsIGNhbiBub3Qgc3RhcnQgdHJhbnNjb2Rpbmcgc3RyZWFtaW5nIHRhc2tcIik7bGV0IHI9e2NvbW1hbmQ6XCJQdWJsaXNoU3RyZWFtXCIsdHM6RGF0ZS5ub3coKSx1cmw6ZSx1aWQ6dGhpcy5zcGVjLnVpZC50b1N0cmluZygpLGF1dG9EZXN0cm95VGltZToxMDAsYWNjZXB0SW1hZ2VUaW1lb3V0OiEwfTtfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnNwZWMuY2xpZW50SWQsXCJdIHN0YXJ0IGxpdmUgc3RyZWFtaW5nIFwiKS5jb25jYXQoZSxcIiwgbW9kZTogXCIpLmNvbmNhdChuKSk7bGV0IG89YXdhaXQgdGhpcy50YXNrTXV0ZXgubG9jaygpO2lmKCF0aGlzLmNvbm5lY3Rpb24mJmkpcmV0dXJuIHZvaWQgbygpO2lmKHRoaXMuc3RyZWFtaW5nVGFza3MuZ2V0KGUpJiYhaSlyZXR1cm4gbygpLG5ldyBPKFIuTElWRV9TVFJFQU1JTkdfVEFTS19DT05GTElDVCkudGhyb3coKTt0cnl7dGhpcy5jb25uZWN0aW9ufHwodGhpcy5jb25uZWN0aW9uPWF3YWl0IHRoaXMuY29ubmVjdChuKSk7fWNhdGNoKGEpe3Rocm93IG8oKSxhfXN3aXRjaChuKXtjYXNlIGVyLlRSQU5TQ09ERTpyLnRyYW5zY29kaW5nQ29uZmlnPVRuKHt9LHRoaXMudHJhbnNjb2RpbmdDb25maWcpO310aGlzLnVhcFJlc3BvbnNlJiZ0aGlzLnVhcFJlc3BvbnNlLnZpZCYmKHIudmlkPXRoaXMudWFwUmVzcG9uc2UudmlkKSx0aGlzLmlzU3RhcnRpbmdTdHJlYW1pbmdUYXNrPSEwO2xldCBzPXRoaXMubGFzdFRhc2tJZCsrO3RyeXtsZXQgYT1uZXcgaigoZCxsKT0+e01lKHRoaXMucmV0cnlUaW1lb3V0KS50aGVuKCgpPT57aWYoaSlyZXR1cm4gbChpKTtsZXQgdT10aGlzLnN0YXR1c0Vycm9yLmdldChlKTtyZXR1cm4gdT8odGhpcy5zdGF0dXNFcnJvci5kZWxldGUoZSksbCh1KSk6dm9pZCAwfSk7fSksYz1hd2FpdCBqLnJhY2UoW3RoaXMuY29ubmVjdGlvbi5yZXF1ZXN0KFwicmVxdWVzdFwiLHtjbGllbnRSZXF1ZXN0OnJ9LCEwLHt1cmw6ZSxjb21tYW5kOlwiUHVibGlzaFN0cmVhbVwiLHdvcmtlclR5cGU6bj09PWVyLlRSQU5TQ09ERT8xOjIscmVxdWVzdEJ5VXNlcjohaSx0aWQ6cy50b1N0cmluZygpfSksYV0pO3RoaXMuaXNTdGFydGluZ1N0cmVhbWluZ1Rhc2s9ITEsXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zcGVjLmNsaWVudElkLFwiXSBsaXZlIHN0cmVhbWluZyBzdGFydGVkLCBjb2RlOiBcIikuY29uY2F0KGMuY29kZSkpLHRoaXMuc3RyZWFtaW5nVGFza3Muc2V0KGUse2NsaWVudFJlcXVlc3Q6cixtb2RlOm4sdXJsOmUsdGFza0lkOnN9KSxvKCk7fWNhdGNoKGEpe2lmKG8oKSx0aGlzLmlzU3RhcnRpbmdTdHJlYW1pbmdUYXNrPSExLCFhLmRhdGF8fCFhLmRhdGEucmV0cnl8fGkpdGhyb3cgYTtyZXR1cm4gYS5kYXRhLmNoYW5nZUFkZHJlc3M/KHRoaXMuY29ubmVjdGlvbi50cnlOZXh0QWRkcmVzcygpLGF3YWl0IHRoaXMuc3RhcnRMaXZlU3RyZWFtaW5nVGFzayhlLG4sYSkpOmF3YWl0IHRoaXMuc3RhcnRMaXZlU3RyZWFtaW5nVGFzayhlLG4sYSl9fXN0b3BMaXZlU3RyZWFtaW5nVGFzayhlKXtyZXR1cm4gbmV3IGooKG4saSk9PntsZXQgcj10aGlzLnN0cmVhbWluZ1Rhc2tzLmdldChlKTtpZighcnx8IXRoaXMuY29ubmVjdGlvbilyZXR1cm4gbmV3IE8oUi5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBmaW5kIHN0cmVhbWluZyB0YXNrIHRvIHN0b3BcIikudGhyb3coKTtsZXQgbz1yLm1vZGU7ci5hYm9ydFRhc2s9KCk9PntfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnNwZWMuY2xpZW50SWQsXCJdIHN0b3AgbGl2ZSBzdHJlYW1pbmcgc3VjY2Vzcyh3b3JrZXIgZXhjZXB0aW9uKVwiKSksdGhpcy5zdHJlYW1pbmdUYXNrcy5kZWxldGUoZSksbigpO30sdGhpcy5jb25uZWN0aW9uLnJlcXVlc3QoXCJyZXF1ZXN0XCIse2NsaWVudFJlcXVlc3Q6e2NvbW1hbmQ6XCJVbnB1Ymxpc2hTdHJlYW1cIix1cmw6ci51cmx9fSwhMSx7dXJsOmUsY29tbWFuZDpcIlVuUHVibGlzaFN0cmVhbVwiLHdvcmtlclR5cGU6bz09PWVyLlRSQU5TQ09ERT8xOjIscmVxdWVzdEJ5VXNlcjohMCx0aWQ6KHRoaXMubGFzdFRhc2tJZCsrKS50b1N0cmluZygpfSkudGhlbihzPT57Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zcGVjLmNsaWVudElkLFwiXSBzdG9wIGxpdmUgc3RyZWFtaW5nIHN1Y2Nlc3MsIGNvZGU6IFwiKS5jb25jYXQocy5jb2RlKSksdGhpcy5zdHJlYW1pbmdUYXNrcy5kZWxldGUoZSksdGhpcy5zdHJlYW1pbmdUYXNrcy5zaXplPT09MCYmKHRoaXMuY29ubmVjdGlvbiYmdGhpcy5jb25uZWN0aW9uLmNsb3NlKCksdGhpcy5jb25uZWN0aW9uPXZvaWQgMCksbigpO30pLmNhdGNoKGkpO30pfXJlc2V0QWxsVGFzaygpe3ZhciBlO2xldCBuPUFycmF5LmZyb20oUHIoZT10aGlzLnN0cmVhbWluZ1Rhc2tzKS5jYWxsKGUpKTt0aGlzLnRlcm1pbmF0ZSgpO2ZvcihsZXQgaSBvZiBuKXRoaXMuc3RhcnRMaXZlU3RyZWFtaW5nVGFzayhpLnVybCxpLm1vZGUpLmNhdGNoKHI9Pnt0aGlzLm9uTGl2ZVN0cmVhbUVycm9yJiZ0aGlzLm9uTGl2ZVN0cmVhbUVycm9yKGkudXJsLHIpO30pO310ZXJtaW5hdGUoKXt0aGlzLmNhbmNlbFRva2VuJiZ0aGlzLmNhbmNlbFRva2VuLmNhbmNlbCgpLHRoaXMuc3RyZWFtaW5nVGFza3M9bmV3IE1hcCx0aGlzLmlzU3RhcnRpbmdTdHJlYW1pbmdUYXNrPSExLHRoaXMuc3RhdHVzRXJyb3I9bmV3IE1hcCx0aGlzLmNhbmNlbFRva2VuPW1uLkNhbmNlbFRva2VuLnNvdXJjZSgpLHRoaXMudWFwUmVzcG9uc2U9dm9pZCAwLHRoaXMuY29ubmVjdGlvbiYmdGhpcy5jb25uZWN0aW9uLmNsb3NlKCksdGhpcy5jb25uZWN0aW9uPXZvaWQgMDt9YXN5bmMgY29ubmVjdChlKXtpZih0aGlzLmNvbm5lY3Rpb24pdGhyb3cgbmV3IE8oUi5VTkVYUEVDVEVEX0VSUk9SLFwibGl2ZSBzdHJlYW1pbmcgY29ubmVjdGlvbiBoYXMgYWxyZWFkeSBjb25uZWN0ZWRcIik7bGV0IG49YXdhaXQgR2UodGhpcyxWRS5SRVFVRVNUX1dPUktFUl9NQU5BR0VSX0xJU1QsZSk7cmV0dXJuIHRoaXMudWFwUmVzcG9uc2U9bix0aGlzLmNvbm5lY3Rpb249bmV3IFJtKG4ud29ya2VyVG9rZW4sdGhpcy5zcGVjLHRoaXMud3NSZXRyeUNvbmZpZyxlKSx0aGlzLmNvbm5lY3Rpb24ub24oWHIuV0FSTklORywoaSxyKT0+dGhpcy5vbkxpdmVTdHJlYW1XYXJuaW5nJiZ0aGlzLm9uTGl2ZVN0cmVhbVdhcm5pbmcocixpKSksdGhpcy5jb25uZWN0aW9uLm9uKFhyLlBVQkxJU0hfU1RSRUFNX1NUQVRVUyxpPT50aGlzLmhhbmRsZVB1Ymxpc2hTdHJlYW1TZXJ2ZXIoaSkpLHRoaXMuY29ubmVjdGlvbi5vbihYci5SRVFVRVNUX05FV19BRERSRVNTLChpLHIpPT57aWYoIXRoaXMuY29ubmVjdGlvbilyZXR1cm4gcihuZXcgTyhSLlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IGdldCBuZXcgbGl2ZSBzdHJlYW1pbmcgYWRkcmVzcyBsaXN0XCIpKTtHZSh0aGlzLFZFLlJFUVVFU1RfV09SS0VSX01BTkFHRVJfTElTVCxlKS50aGVuKG89Pnt0aGlzLnVhcFJlc3BvbnNlPW8saShvLmFkZHJlc3NMaXN0KTt9KS5jYXRjaChyKTt9KSxhd2FpdCB0aGlzLmNvbm5lY3Rpb24uaW5pdChuLmFkZHJlc3NMaXN0KSx0aGlzLmNvbm5lY3Rpb259aGFuZGxlUHVibGlzaFN0cmVhbVNlcnZlcihlKXtsZXQgbj1lLnNlcnZlclN0YXR1cyYmZS5zZXJ2ZXJTdGF0dXMudXJsfHxcImVtcHR5X3VybFwiLGk9dGhpcy5zdHJlYW1pbmdUYXNrcy5nZXQobikscj1lLnJlYXNvbjtzd2l0Y2goZS5jb2RlKXtjYXNlIGZlLlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9QVUJMSVNIX0JST0tFTjpjYXNlIGZlLlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9SVE1QX0NPTk5FQ1Q6Y2FzZSBmZS5QVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUlRNUF9IQU5EU0hBS0U6Y2FzZSBmZS5QVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUlRNUF9QVUJMSVNIOntsZXQgcz1uZXcgTyhSLkxJVkVfU1RSRUFNSU5HX0NETl9FUlJPUixcIlwiLHtjb2RlOmUuY29kZX0pO2lmKGkpcmV0dXJuIF8uZXJyb3Iocy50b1N0cmluZygpKSx0aGlzLm9uTGl2ZVN0cmVhbUVycm9yJiZ0aGlzLm9uTGl2ZVN0cmVhbUVycm9yKG4scyk7aWYoIXRoaXMuaXNTdGFydGluZ1N0cmVhbWluZ1Rhc2spcmV0dXJuO3RoaXMuc3RhdHVzRXJyb3Iuc2V0KG4scyk7fWNhc2UgZmUuTElWRV9TVFJFQU1fUkVTUE9OU0VfRkFJTEVEX0xPQURfSU1BR0U6e2xldCBzPW5ldyBPKFIuTElWRV9TVFJFQU1JTkdfV0FSTl9GQUlMRURfTE9BRF9JTUFHRSxyKTtyZXR1cm4gdGhpcy5vbkxpdmVTdHJlYW1XYXJuaW5nJiZ0aGlzLm9uTGl2ZVN0cmVhbVdhcm5pbmcobixzKX1jYXNlIGZlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX1dPUktFUl9MT1NUOmNhc2UgZmUuTElWRV9TVFJFQU1fUkVTUE9OU0VfV09SS0VSX1FVSVQ6e3ZhciBvO2lmKCF0aGlzLmNvbm5lY3Rpb24pcmV0dXJuO3RoaXMuY29ubmVjdGlvbi50cnlOZXh0QWRkcmVzcygpO2xldCBzPUFycmF5LmZyb20oUHIobz10aGlzLnN0cmVhbWluZ1Rhc2tzKS5jYWxsKG8pKTtmb3IobGV0IGEgb2YgcylhLmFib3J0VGFzaz9hLmFib3J0VGFzaygpOihfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3BlYy5jbGllbnRJZCxcIl0gcHVibGlzaCBzdHJlYW0gc3RhdHVzIGNvZGVcIiksZS5jb2RlLFwidHJ5IHRvIHJlcHVibGlzaFwiLGEudXJsKSx0aGlzLnN0YXJ0TGl2ZVN0cmVhbWluZ1Rhc2soYS51cmwsYS5tb2RlLG5ldyBPKFIuTElWRV9TVFJFQU1JTkdfSU5URVJOQUxfU0VSVkVSX0VSUk9SLFwiXCIse2NvZGU6ZS5jb2RlfSkpLnRoZW4oKCk9PntfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnNwZWMuY2xpZW50SWQsXCJdIHJlcHVibGlzaCBsaXZlIHN0cmVhbSBzdWNjZXNzXCIpLGEudXJsKTt9KS5jYXRjaChjPT57Xy5lcnJvcihjLnRvU3RyaW5nKCkpLHRoaXMub25MaXZlU3RyZWFtRXJyb3ImJnRoaXMub25MaXZlU3RyZWFtRXJyb3IoYS51cmwsYyk7fSkpO3JldHVybn19fWhhc1VybChlKXtyZXR1cm4gdGhpcy5zdHJlYW1pbmdUYXNrcy5oYXMoZSl9fSxZMz17bmFtZTpcIkxpdmVTdHJlYW1pbmdcIixjcmVhdGU6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBDbSh0LmpvaW5JbmZvLHQud2Vic29ja2V0UmV0cnlDb25maWd8fEVlLHQuaHR0cFJldHJ5Q29uZmlnfHxFZSl9fTtmdW5jdGlvbiBxMyh0KXtsZXQgZT1nQSgpO3JldHVybiBmdW5jdGlvbihuLGkpe2xldCByPW4uYXBwSWQ7ciE9PXZvaWQgMCYmKHl0KGksMTApLHRyKGkscikpO2xldCBvPW4uY2lkO28hPT12b2lkIDAmJih5dChpLDE2KSx5dChpLG8pKTtsZXQgcz1uLmNuYW1lO3MhPT12b2lkIDAmJih5dChpLDI2KSx0cihpLHMpKTtsZXQgYT1uLmRldmljZUlkO2EhPT12b2lkIDAmJih5dChpLDM0KSx0cihpLGEpKTtsZXQgYz1uLmVsYXBzZTtjIT09dm9pZCAwJiYoeXQoaSw0MCksWXIoaSxjKSk7bGV0IGQ9bi5maWxlU2l6ZTtkIT09dm9pZCAwJiYoeXQoaSw0OCksWXIoaSxDcyhkKSkpO2xldCBsPW4uaGVpZ2h0O2whPT12b2lkIDAmJih5dChpLDU2KSxZcihpLENzKGwpKSk7bGV0IHU9bi5qcGc7dSE9PXZvaWQgMCYmKHl0KGksNjYpLHl0KGksdS5sZW5ndGgpLGZ1bmN0aW9uKHNpLEwpe2xldCBGPUNhKHNpLEwubGVuZ3RoKTtzaS5ieXRlcy5zZXQoTCxGKTt9KGksdSkpO2xldCBoPW4ubmV0d29ya1R5cGU7aCE9PXZvaWQgMCYmKHl0KGksNzIpLFlyKGksQ3MoaCkpKTtsZXQgcD1uLm9zVHlwZTtwIT09dm9pZCAwJiYoeXQoaSw4MCksWXIoaSxDcyhwKSkpO2xldCBnPW4ucmVxdWVzdElkO2chPT12b2lkIDAmJih5dChpLDkwKSx0cihpLGcpKTtsZXQgRT1uLnNka1ZlcnNpb247RSE9PXZvaWQgMCYmKHl0KGksOTgpLHRyKGksRSkpO2xldCBmPW4uc2VxdWVuY2U7ZiE9PXZvaWQgMCYmKHl0KGksMTA0KSxZcihpLENzKGYpKSk7bGV0IFM9bi5zaWQ7UyE9PXZvaWQgMCYmKHl0KGksMTE0KSx0cihpLFMpKTtsZXQgQz1uLnRpbWVzdGFtcDtDIT09dm9pZCAwJiYoeXQoaSwxMjApLFlyKGksQykpO2xldCBBPW4udWlkO0EhPT12b2lkIDAmJih5dChpLDEyOCkseXQoaSxBKSk7bGV0IGI9bi52aWQ7YiE9PXZvaWQgMCYmKHl0KGksMTM2KSx5dChpLGIpKTtsZXQgdz1uLndpZHRoO3chPT12b2lkIDAmJih5dChpLDE0NCksWXIoaSxDcyh3KSkpO2xldCBEPW4uc2VydmljZTtEIT09dm9pZCAwJiYoeXQoaSwxNTIpLHl0KGksRCkpO2xldCBrPW4uY2FsbGJhY2tEYXRhO2shPT12b2lkIDAmJih5dChpLDE2MiksdHIoaSxrKSk7bGV0IEI9bi5qcGdFbmNyeXB0aW9uO0IhPT12b2lkIDAmJih5dChpLDE2OCkseXQoaSxCKSk7bGV0IFY9bi5yZXF1ZXN0VHlwZTtWIT09dm9pZCAwJiYoeXQoaSwxNzYpLHl0KGksVikpO2xldCB6PW4uc2NvcmVQb3JuO3ohPT12b2lkIDAmJih5dChpLDE4NSksal8oaSx6KSk7bGV0IGx0PW4uc2NvcmVTZXh5O2x0IT09dm9pZCAwJiYoeXQoaSwxOTMpLGpfKGksbHQpKTtsZXQgdnQ9bi5zY29yZU5ldXRyYWw7dnQhPT12b2lkIDAmJih5dChpLDIwMSksal8oaSx2dCkpO2xldCBEdD1uLnNjZW5lO0R0IT09dm9pZCAwJiYoeXQoaSwyMDgpLHl0KGksRHQpKTtsZXQgY2U9bi5vc3NGaWxlUHJlZml4O2NlIT09dm9pZCAwJiYoeXQoaSwyMTgpLHRyKGksY2UpKTtsZXQgV3Q9bi5zZXJ2aWNlVmVuZG9yO2lmKFd0IT09dm9pZCAwKWZvcihsZXQgc2kgb2YgV3Qpe3l0KGksMjI2KTtsZXQgTD1nQSgpO1gzKHNpLEwpLHl0KGksTC5saW1pdCksdEgoaSxMKSwkMyhMKTt9fSh0LGUpLGZ1bmN0aW9uKG4pe2xldCBpPW4uYnl0ZXMscj1uLmxpbWl0O3JldHVybiBpLmxlbmd0aD09PXI/aTppLnN1YmFycmF5KDAscil9KGUpfWZ1bmN0aW9uIHozKHQpe3JldHVybiBmdW5jdGlvbihuKXtsZXQgaT17fTt0OmZvcig7IW9OKG4pOyl7bGV0IHI9b3Iobik7c3dpdGNoKHI+Pj4zKXtjYXNlIDA6YnJlYWsgdDtjYXNlIDE6aS5jb2RlPW9yKG4pO2JyZWFrO2Nhc2UgMjppLm1zZz1zTihuLG9yKG4pKTticmVhaztjYXNlIDM6e2xldCBvPVEzKG4pO2kuZGF0YT1KMyhuKSxuLmxpbWl0PW87YnJlYWt9ZGVmYXVsdDppTihuLDcmcik7fX1yZXR1cm4gaX0oe2J5dGVzOmU9dCxvZmZzZXQ6MCxsaW1pdDplLmxlbmd0aH0pO3ZhciBlO31mdW5jdGlvbiBKMyh0KXtsZXQgZT17fTt0OmZvcig7IW9OKHQpOyl7bGV0IG49b3IodCk7c3dpdGNoKG4+Pj4zKXtjYXNlIDA6YnJlYWsgdDtjYXNlIDE6ZS5yZXF1ZXN0SWQ9c04odCxvcih0KSk7YnJlYWs7Y2FzZSAyOmUucmVxdWVzdFR5cGU9b3IodCk+Pj4wO2JyZWFrO2Nhc2UgMzplLnNjb3JlUG9ybj1CXyh0KTticmVhaztjYXNlIDQ6ZS5zY29yZVNleHk9Ql8odCk7YnJlYWs7Y2FzZSA1OmUuc2NvcmVOZXV0cmFsPUJfKHQpO2JyZWFrO2Nhc2UgNjplLnJlcXVlc3RTY2VuZT1vcih0KT4+PjA7YnJlYWs7Y2FzZSA3OmUuc2NlbmU9b3IodCk+Pj4wO2JyZWFrO2RlZmF1bHQ6aU4odCw3Jm4pO319cmV0dXJuIGV9ZnVuY3Rpb24gWDModCxlKXtsZXQgbj10LnNlcnZpY2U7biE9PXZvaWQgMCYmKHl0KGUsOCkseXQoZSxuKSk7bGV0IGk9dC52ZW5kb3I7aSE9PXZvaWQgMCYmKHl0KGUsMTYpLHl0KGUsaSkpO2xldCByPXQudG9rZW47ciE9PXZvaWQgMCYmKHl0KGUsMjYpLHRyKGUscikpO2xldCBvPXQuY2FsbGJhY2tVcmw7byE9PXZvaWQgMCYmKHl0KGUsMzQpLHRyKGUsbykpO31mdW5jdGlvbiBRMyh0KXtsZXQgZT1vcih0KSxuPXQubGltaXQ7cmV0dXJuIHQubGltaXQ9dC5vZmZzZXQrZSxufWZ1bmN0aW9uIGlOKHQsZSl7c3dpdGNoKGUpe2Nhc2UgMDpmb3IoOzEyOCZhTih0KTspO2JyZWFrO2Nhc2UgMjpGXyh0LG9yKHQpKTticmVhaztjYXNlIDU6Rl8odCw0KTticmVhaztjYXNlIDE6Rl8odCw4KTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIlVuaW1wbGVtZW50ZWQgdHlwZTogXCIrZSl9fXZhciBaMz1uZXcgRmxvYXQzMkFycmF5KDEpO25ldyBVaW50OEFycmF5KFozLmJ1ZmZlcik7dmFyIExmPW5ldyBGbG9hdDY0QXJyYXkoMSksUm49bmV3IFVpbnQ4QXJyYXkoTGYuYnVmZmVyKTtmdW5jdGlvbiBDcyh0KXtyZXR1cm4ge2xvdzp0fD0wLGhpZ2g6dD4+MzEsdW5zaWduZWQ6dD49MH19dmFyIHJOPVtdO2Z1bmN0aW9uIGdBKCl7bGV0IHQ9ck4ucG9wKCk7cmV0dXJuIHQ/KHQub2Zmc2V0PXQubGltaXQ9MCx0KTp7Ynl0ZXM6bmV3IFVpbnQ4QXJyYXkoNjQpLG9mZnNldDowLGxpbWl0OjB9fWZ1bmN0aW9uICQzKHQpe3JOLnB1c2godCk7fWZ1bmN0aW9uIEZfKHQsZSl7aWYodC5vZmZzZXQrZT50LmxpbWl0KXRocm93IG5ldyBFcnJvcihcIlNraXAgcGFzdCBsaW1pdFwiKTt0Lm9mZnNldCs9ZTt9ZnVuY3Rpb24gb04odCl7cmV0dXJuIHQub2Zmc2V0Pj10LmxpbWl0fWZ1bmN0aW9uIENhKHQsZSl7bGV0IG49dC5ieXRlcyxpPXQub2Zmc2V0LHI9dC5saW1pdCxvPWkrZTtpZihvPm4ubGVuZ3RoKXtsZXQgcz1uZXcgVWludDhBcnJheSgyKm8pO3Muc2V0KG4pLHQuYnl0ZXM9czt9cmV0dXJuIHQub2Zmc2V0PW8sbz5yJiYodC5saW1pdD1vKSxpfWZ1bmN0aW9uIE1mKHQsZSl7bGV0IG49dC5vZmZzZXQ7aWYobitlPnQubGltaXQpdGhyb3cgbmV3IEVycm9yKFwiUmVhZCBwYXN0IGxpbWl0XCIpO3JldHVybiB0Lm9mZnNldCs9ZSxufWZ1bmN0aW9uIHNOKHQsZSl7bGV0IG49TWYodCxlKSxpPVN0cmluZy5mcm9tQ2hhckNvZGUscj10LmJ5dGVzLG89XCJcXHVGRkZEXCIscz1cIlwiO2ZvcihsZXQgYT0wO2E8ZTthKyspe2xldCBjLGQsbCx1LGg9clthK25dOzEyOCZoPygyMjQmaCk9PTE5Mj9hKzE+PWU/cys9bzooYz1yW2ErbisxXSwoMTkyJmMpIT0xMjg/cys9bzoodT0oMzEmaCk8PDZ8NjMmYyx1PDEyOD9zKz1vOihzKz1pKHUpLGErKykpKTooMjQwJmgpPT0yMjQ/YSsyPj1lP3MrPW86KGM9clthK24rMV0sZD1yW2ErbisyXSwoNDkzNDQmKGN8ZDw8OCkpIT0zMjg5Nj9zKz1vOih1PSgxNSZoKTw8MTJ8KDYzJmMpPDw2fDYzJmQsdTwyMDQ4fHx1Pj01NTI5NiYmdTw9NTczNDM/cys9bzoocys9aSh1KSxhKz0yKSkpOigyNDgmaCk9PTI0MD9hKzM+PWU/cys9bzooYz1yW2ErbisxXSxkPXJbYStuKzJdLGw9clthK24rM10sKDEyNjMyMjU2JihjfGQ8PDh8bDw8MTYpKSE9ODQyMTUwND9zKz1vOih1PSg3JmgpPDwxOHwoNjMmYyk8PDEyfCg2MyZkKTw8Nnw2MyZsLHU8NjU1MzZ8fHU+MTExNDExMT9zKz1vOih1LT02NTUzNixzKz1pKDU1Mjk2Kyh1Pj4xMCksNTYzMjArKDEwMjMmdSkpLGErPTMpKSk6cys9bzpzKz1pKGgpO31yZXR1cm4gc31mdW5jdGlvbiB0cih0LGUpe2xldCBuPWUubGVuZ3RoLGk9MDtmb3IobGV0IHM9MDtzPG47cysrKXtsZXQgYT1lLmNoYXJDb2RlQXQocyk7YT49NTUyOTYmJmE8PTU2MzE5JiZzKzE8biYmKGE9KGE8PDEwKStlLmNoYXJDb2RlQXQoKytzKS01NjYxMzg4OCksaSs9YTwxMjg/MTphPDIwNDg/MjphPDY1NTM2PzM6NDt9eXQodCxpKTtsZXQgcj1DYSh0LGkpLG89dC5ieXRlcztmb3IobGV0IHM9MDtzPG47cysrKXtsZXQgYT1lLmNoYXJDb2RlQXQocyk7YT49NTUyOTYmJmE8PTU2MzE5JiZzKzE8biYmKGE9KGE8PDEwKStlLmNoYXJDb2RlQXQoKytzKS01NjYxMzg4OCksYTwxMjg/b1tyKytdPWE6KGE8MjA0OD9vW3IrK109YT4+NiYzMXwxOTI6KGE8NjU1MzY/b1tyKytdPWE+PjEyJjE1fDIyNDoob1tyKytdPWE+PjE4Jjd8MjQwLG9bcisrXT1hPj4xMiY2M3wxMjgpLG9bcisrXT1hPj42JjYzfDEyOCksb1tyKytdPTYzJmF8MTI4KTt9fWZ1bmN0aW9uIHRIKHQsZSl7bGV0IG49Q2EodCxlLmxpbWl0KSxpPXQuYnl0ZXMscj1lLmJ5dGVzO2ZvcihsZXQgbz0wLHM9ZS5saW1pdDtvPHM7bysrKWlbbytuXT1yW29dO31mdW5jdGlvbiBhTih0KXtyZXR1cm4gdC5ieXRlc1tNZih0LDEpXX1mdW5jdGlvbiBUQSh0LGUpe2xldCBuPUNhKHQsMSk7dC5ieXRlc1tuXT1lO31mdW5jdGlvbiBCXyh0KXtsZXQgZT1NZih0LDgpLG49dC5ieXRlcztyZXR1cm4gUm5bMF09bltlKytdLFJuWzFdPW5bZSsrXSxSblsyXT1uW2UrK10sUm5bM109bltlKytdLFJuWzRdPW5bZSsrXSxSbls1XT1uW2UrK10sUm5bNl09bltlKytdLFJuWzddPW5bZSsrXSxMZlswXX1mdW5jdGlvbiBqXyh0LGUpe2xldCBuPUNhKHQsOCksaT10LmJ5dGVzO0xmWzBdPWUsaVtuKytdPVJuWzBdLGlbbisrXT1SblsxXSxpW24rK109Um5bMl0saVtuKytdPVJuWzNdLGlbbisrXT1Sbls0XSxpW24rK109Um5bNV0saVtuKytdPVJuWzZdLGlbbisrXT1Sbls3XTt9ZnVuY3Rpb24gb3IodCl7bGV0IGUsbj0wLGk9MDtkbyBlPWFOKHQpLG48MzImJihpfD0oMTI3JmUpPDxuKSxuKz03O3doaWxlKDEyOCZlKTtyZXR1cm4gaX1mdW5jdGlvbiB5dCh0LGUpe2ZvcihlPj4+PTA7ZT49MTI4OylUQSh0LDEyNyZlfDEyOCksZT4+Pj03O1RBKHQsZSk7fWZ1bmN0aW9uIFlyKHQsZSl7bGV0IG49ZS5sb3c+Pj4wLGk9KGUubG93Pj4+Mjh8ZS5oaWdoPDw0KT4+PjAscj1lLmhpZ2g+Pj4yNCxvPXI9PT0wP2k9PT0wP248MTYzODQ/bjwxMjg/MToyOm48MTw8MjE/Mzo0Omk8MTYzODQ/aTwxMjg/NTo2Omk8MTw8MjE/Nzo4OnI8MTI4Pzk6MTAscz1DYSh0LG8pLGE9dC5ieXRlcztzd2l0Y2gobyl7Y2FzZSAxMDphW3MrOV09cj4+PjcmMTtjYXNlIDk6YVtzKzhdPW8hPT05PzEyOHxyOjEyNyZyO2Nhc2UgODphW3MrN109byE9PTg/aT4+PjIxfDEyODppPj4+MjEmMTI3O2Nhc2UgNzphW3MrNl09byE9PTc/aT4+PjE0fDEyODppPj4+MTQmMTI3O2Nhc2UgNjphW3MrNV09byE9PTY/aT4+Pjd8MTI4Omk+Pj43JjEyNztjYXNlIDU6YVtzKzRdPW8hPT01PzEyOHxpOjEyNyZpO2Nhc2UgNDphW3MrM109byE9PTQ/bj4+PjIxfDEyODpuPj4+MjEmMTI3O2Nhc2UgMzphW3MrMl09byE9PTM/bj4+PjE0fDEyODpuPj4+MTQmMTI3O2Nhc2UgMjphW3MrMV09byE9PTI/bj4+Pjd8MTI4Om4+Pj43JjEyNztjYXNlIDE6YVtzXT1vIT09MT8xMjh8bjoxMjcmbjt9fWZ1bmN0aW9uIFNBKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYoaT1pLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpLmVudW1lcmFibGV9KSksbi5wdXNoLmFwcGx5KG4saSk7fXJldHVybiBufXZhciBlSD1uZXcgTWFwKFtbXCJtb2RlcmF0aW9uXCIsMV0sW1wic3VwZXJ2aXNlXCIsMl1dKTtmdW5jdGlvbiBSQSh0KXtyZXR1cm4ge2xvdzp0fD0wLGhpZ2g6dD4+MzEsdW5zaWduZWQ6dD49MH19dmFyIEltPWNsYXNzIGV4dGVuZHMgWHR7Z2V0IGNvbm5lY3Rpb25TdGF0ZSgpe3JldHVybiB0aGlzLl9jb25uZWN0aW9uU3RhdGV9c2V0IGNvbm5lY3Rpb25TdGF0ZShlKXtpZih0aGlzLl9jb25uZWN0aW9uU3RhdGU9PT1lKXJldHVybjtsZXQgbj10aGlzLl9jb25uZWN0aW9uU3RhdGU7dGhpcy5fY29ubmVjdGlvblN0YXRlPWUsdGhpcy5lbWl0KHdlLkNPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFLG4sZSk7fWdldCBpbnNwZWN0VHlwZSgpe3JldHVybiB0aGlzLl9pbnNwZWN0VHlwZX1zZXQgaW5zcGVjdFR5cGUoZSl7dmFyIG47dGhpcy5faW5zcGVjdE1vZGU9amkobj1lLm1hcChpPT5lSC5nZXQoaSl8fDApKS5jYWxsKG4sKGkscik9PmkrciksdGhpcy5faW5zcGVjdFR5cGU9ZTt9Z2V0IHF1YWxpdHkoKXtyZXR1cm4gdGhpcy5fcXVhbGl0eX1zZXQgcXVhbGl0eShlKXt0aGlzLl9xdWFsaXR5PWU+MT8xOmU8LjE/LjE6ZSx0aGlzLnF1YWxpdHlUaW1lciYmKHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5xdWFsaXR5VGltZXIpLHRoaXMucXVhbGl0eVRpbWVyPW51bGwpLHRoaXMuX3F1YWxpdHk+PTF8fCh0aGlzLnF1YWxpdHlUaW1lcj13aW5kb3cuc2V0VGltZW91dCgoKT0+e3RoaXMucXVhbGl0eT10aGlzLl9xdWFsaXR5L3RoaXMucXVhbGl0eVJhdGlvO30sNmU0KSk7fWNvbnN0cnVjdG9yKGUpe3N1cGVyKCksVCh0aGlzLFwibmFtZVwiLFwiQWdvcmFSVENWaWRlb0NvbnRlbnRJbnNwZWN0XCIpLFQodGhpcyxcIl9jb25uZWN0aW9uU3RhdGVcIixFaS5DT05ORUNUSU5HKSxUKHRoaXMsXCJfaW5uZXJDb25uZWN0aW9uU3RhdGVcIix2b2lkIDApLFQodGhpcyxcInNlcXVlbmNlXCIsMCksVCh0aGlzLFwiaW5zcGVjdFN0YXJ0VGltZVwiLHZvaWQgMCksVCh0aGlzLFwid29ya2VyTWFuYWdlckNvbm5lY3Rpb25cIix2b2lkIDApLFQodGhpcyxcIndvcmtlckNvbm5lY3Rpb25cIix2b2lkIDApLFQodGhpcyxcIndvcmtlck1lc3NhZ2VMZW5ndGhMaW1pdFwiLHZvaWQgMCksVCh0aGlzLFwiaW5zcGVjdEludGVydmFsTWluaW11bVwiLHZvaWQgMCksVCh0aGlzLFwicXVhbGl0eVJhdGlvXCIsdm9pZCAwKSxUKHRoaXMsXCJfY29ubmVjdEluZm9cIix2b2lkIDApLFQodGhpcyxcIl9jYW5jZWxUb2tlblNvdXJjZVwiLG1uLkNhbmNlbFRva2VuLnNvdXJjZSgpKSxUKHRoaXMsXCJfcmV0cnlDb25maWdcIix2b2lkIDApLFQodGhpcyxcIndtU2VxdWVuY2VcIiwwKSxUKHRoaXMsXCJpbnNwZWN0SW50ZXJ2YWxcIix2b2lkIDApLFQodGhpcyxcImluc3BlY3RUaW1lclwiLG51bGwpLFQodGhpcyxcIm9zc0ZpbGVQcmVmaXhcIix2b2lkIDApLFQodGhpcyxcImV4dHJhSW5mb1wiLHZvaWQgMCksVCh0aGlzLFwiX2luc3BlY3RUeXBlXCIsdm9pZCAwKSxUKHRoaXMsXCJfaW5zcGVjdE1vZGVcIix2b2lkIDApLFQodGhpcyxcIl9xdWFsaXR5XCIsMSksVCh0aGlzLFwicXVhbGl0eVRpbWVyXCIsbnVsbCksVCh0aGlzLFwiX2luc3BlY3RJZFwiLHZvaWQgMCksVCh0aGlzLFwiX25lZWRXb3JrVXJsT25seVwiLCExKSxUKHRoaXMsXCJpbnNwZWN0SW1hZ2VcIiwoKT0+e2lmKHRoaXMuY29ubmVjdGlvblN0YXRlIT09RWkuQ09OTkVDVEVEKXRocm93IG5ldyBPKFIuT1BFUkFUSU9OX0FCT1JURUQsXCJjb250ZW50IGluc3BlY3Qgc2VydmljZSBjb25uZWN0aW9uIHN0YXR1cyBpcyBcIi5jb25jYXQodGhpcy5jb25uZWN0aW9uU3RhdGUpKTt0aGlzLmluc3BlY3RUaW1lciYmKHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuaW5zcGVjdFRpbWVyKSx0aGlzLmluc3BlY3RUaW1lcj1udWxsKSx0aGlzLmluc3BlY3RUaW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwoKCk9Pnt0aGlzLmNvbm5lY3Rpb25TdGF0ZT09PUVpLkNPTk5FQ1RFRD90aGlzLnJlcXVlc3RUb0luc3BlY3RJbWFnZSgpOl8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2luc3BlY3RJZCxcIl0gSW5zcGVjdCBTdGF0ZSBpcyBub3QgY29ubmVjdGVkICwgXCIpLHRoaXMuY29ubmVjdGlvblN0YXRlKTt9LHRoaXMuaW5zcGVjdEludGVydmFsPHRoaXMuaW5zcGVjdEludGVydmFsTWluaW11bT90aGlzLmluc3BlY3RJbnRlcnZhbE1pbmltdW06dGhpcy5pbnNwZWN0SW50ZXJ2YWwpLHRoaXMucmVxdWVzdFRvSW5zcGVjdEltYWdlKCk7fSksdGhpcy5faW5zcGVjdElkPVV0KDUsXCJpbnNwZWN0LVwiKSx0aGlzLndvcmtlck1lc3NhZ2VMZW5ndGhMaW1pdD12KFwiVklERU9fSU5TUEVDVF9XT1JLRVJfTUVTU0FHRV9MRU5HVEhfTElNSVRcIiksdGhpcy5pbnNwZWN0SW50ZXJ2YWxNaW5pbXVtPXYoXCJWSURFT19JTlNQRUNUX0lOVEVSVkFMX01JTklNVU1cIiksdGhpcy5xdWFsaXR5UmF0aW89dihcIlZJREVPX0lOU1BFQ1RfUVVBTElUWV9SQVRJT1wiKSx0aGlzLmluc3BlY3RJbnRlcnZhbD1lLmludGVydmFsLHRoaXMub3NzRmlsZVByZWZpeD1lLm9zc0ZpbGVQcmVmaXgsdGhpcy5leHRyYUluZm89ZS5leHRyYUluZm8sdGhpcy5pbnNwZWN0VHlwZT1lLmluc3BlY3RUeXBlLHRoaXMuaW5zcGVjdFN0YXJ0VGltZT1OdW1iZXIoRGF0ZS5ub3coKSksdGhpcy53b3JrZXJNYW5hZ2VyQ29ubmVjdGlvbj1uZXcgUW8oXCJ3b3JrZXItbWFuYWdlci1cIit0aGlzLl9pbnNwZWN0SWQsRWUpLHRoaXMub24od2UuU1RBVEVfQ0hBTkdFLChuLGkpPT57dGhpcy5faW5uZXJDb25uZWN0aW9uU3RhdGU9bixfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9pbnNwZWN0SWQsXCJdIEluc3BlY3Qgb3BlcmF0aW9uIDpcIikuY29uY2F0KGRpW25dLFwiIFwiKS5jb25jYXQoaXx8XCJcIikpO30pLHRoaXMuaGFuZGxlV29ya2VyTWFuYWdlckV2ZW50cygpLHRoaXMud29ya2VyQ29ubmVjdGlvbj1uZXcgUW8oXCJ3b3JrZXItXCIrdGhpcy5faW5zcGVjdElkLEVlKSx0aGlzLmhhbmRsZVdvcmtlckV2ZW50cygpO31hc3luYyBpbml0KGUsbil7dGhpcy5lbWl0KHdlLlNUQVRFX0NIQU5HRSxkaS5DT05ORUNUX0FQKSx0aGlzLl9jb25uZWN0SW5mbz1lO2xldCBpPXRoaXMuX2NhbmNlbFRva2VuU291cmNlLnRva2VuO3JldHVybiB0aGlzLl9yZXRyeUNvbmZpZz1uLG5ldyBqKChyLG8pPT57dGhpcy5vbih3ZS5DT05ORUNUSU9OX1NUQVRFX0NIQU5HRSwocyxhKT0+e2E9PT1FaS5DT05ORUNURUQmJnIoKTt9KSx0aGlzLnJlcXVlc3RBUChlLGksbikudGhlbihzPT57dGhpcy5jb25uZWN0V29ya2VyTWFuYWdlcihzKTt9KS5jYXRjaChzPT57byhzKTt9KTt9KX1hc3luYyByZXF1ZXN0QVAoZSxuLGkpe2xldCByPXYoXCJXRUJDU19ET01BSU5cIikubWFwKGE9PlwiaHR0cHM6Ly9cIi5jb25jYXQoYSxcIi9hcGkvdjFcIikpLG89YXdhaXQgZnVuY3Rpb24oYSxjLGQsbCl7bGV0e2FwcElkOnUsYXJlYUNvZGU6aCxjbmFtZTpwLHNpZDpnLHRva2VuOkUsdWlkOmZ9PWM7WXMrKztsZXQgUz1cImltYWdlX21vZGVyYXRpb25fYXBpXCIsQz17c2VydmljZV9uYW1lOlMsanNvbl9ib2R5OkpTT04uc3RyaW5naWZ5KHthcHBJZDp1LGFyZWFDb2RlOmgsY25hbWU6cCxjb21tYW5kOlwiYWxsb2NhdGVFZGdlXCIscmVxdWVzdElkOllzLHNlcTpZcyxzaWQ6Zyx0b2tlbjpFLHRzOkRhdGUubm93KCksdWlkOmYrXCJcIn0pfSxBLGIsdz1hWzBdO3JldHVybiBXaShhc3luYygpPT57QT1EYXRlLm5vdygpO2xldCBEPWF3YWl0IEhpKHcse2RhdGE6QyxjYW5jZWxUb2tlbjpkLGhlYWRlcnM6e1wiWC1QYWNrZXQtU2VydmljZS1UeXBlXCI6XCIwXCIsXCJYLVBhY2tldC1VUklcIjpcIjYxXCJ9LHBhcmFtczp7YWN0aW9uOlwid3J0Y19nYXRld2F5XCJ9fSk7aWYoYj1EYXRlLm5vdygpLUEsRC5jb2RlIT09MCl7bGV0IHo9bmV3IE8oUi5VTkVYUEVDVEVEX1JFU1BPTlNFLFwiaW1hZ2UgaW5zcGVjdCBhcCBlcnJvciwgY29kZVwiK0QuY29kZSx7cmV0cnk6ITAscmVzcG9uc2VUaW1lOmJ9KTt0aHJvdyBfLmVycm9yKHoudG9TdHJpbmcoKSksen1sZXQgaz1KU09OLnBhcnNlKEQuanNvbl9ib2R5KTtpZihrLmNvZGUhPT0yMDApe2xldCB6PW5ldyBPKFIuVU5FWFBFQ1RFRF9SRVNQT05TRSxcImltYWdlIGluc3BlY3QgYXAgZXJyb3IsIGNvZGU6IFwiLmNvbmNhdChrLmNvZGUsXCIsIHJlYXNvbjogXCIpLmNvbmNhdChrLnJlYXNvbikse2NvZGU6ay5jb2RlLHJlc3BvbnNlVGltZTpifSk7dGhyb3cgXy5lcnJvcih6LnRvU3RyaW5nKCkpLHp9aWYoIWsuc2VydmVyc3x8IUFycmF5LmlzQXJyYXkoay5zZXJ2ZXJzKXx8ay5zZXJ2ZXJzLmxlbmd0aD09PTApe2xldCB6PW5ldyBPKFIuVU5FWFBFQ1RFRF9SRVNQT05TRSxcImltYWdlIGluc3BlY3QgYXAgZW1wdHkgc2VydmVyXCIse2NvZGU6ay5jb2RlLHJlc3BvbnNlVGltZTpifSk7dGhyb3cgXy5lcnJvcih6LnRvU3RyaW5nKCkpLHp9bGV0IEI9dihcIlZJREVPX0lOU1BFQ1RfV09SS0VSX01BTkFHRVJfSE9TVFwiKSxWPXYoXCJWSURFT19JTlNQRUNUX1dPUktFUl9NQU5BR0VSX1BPUlRcIik7cmV0dXJuIHthZGRyZXNzTGlzdDprLnNlcnZlcnMubWFwKHo9PntsZXR7YWRkcmVzczpsdCx3c3M6dnR9PXo7aWYobHQmJnZ0KXJldHVybiBcIndzczovL1wiLmNvbmNhdChsdC5yZXBsYWNlKC9cXC4vZyxcIi1cIiksXCIuXCIpLmNvbmNhdChCLFwiOlwiKS5jb25jYXQoVnx8dnQpfSkuZmlsdGVyKHo9PiEheiksd29ya2VyVG9rZW46ay53b3JrZXJUb2tlbix2aWQ6ay52aWQscmVzcG9uc2VUaW1lOmJ9fSwoRCxrKT0+KFguYXB3b3JrZXJFdmVudChnLHtzdWNjZXNzOiEwLHNjOjIwMCxzZXJ2aWNlTmFtZTpTLHJlc3BvbnNlRGV0YWlsOkpTT04uc3RyaW5naWZ5KEQuYWRkcmVzc0xpc3QpLGZpcnN0U3VjY2VzczprPT09MCxyZXNwb25zZVRpbWU6YixzZXJ2ZXJJcDphW2slYS5sZW5ndGhdfSksITEpLChELGspPT4oWC5hcHdvcmtlckV2ZW50KGcse3N1Y2Nlc3M6ITEsc2M6RC5kYXRhJiZELmRhdGEuY29kZXx8MjAwLHNlcnZpY2VOYW1lOlMscmVzcG9uc2VUaW1lOmIsc2VydmVySXA6YVtrJWEubGVuZ3RoXX0pLCEhKEQuY29kZSE9PVIuT1BFUkFUSU9OX0FCT1JURUQmJkQuY29kZSE9PVIuVU5FWFBFQ1RFRF9SRVNQT05TRXx8RC5kYXRhJiZELmRhdGEucmV0cnkpJiYodz1hWyhrKzEpJWEubGVuZ3RoXSwhMCkpLGwpfShyLGUsbixpKTt0aGlzLmVtaXQod2UuU1RBVEVfQ0hBTkdFLGRpLkFQX0NPTk5FQ1RFRCk7bGV0e2FkZHJlc3NMaXN0OnN9PW87cmV0dXJuIHRoaXMud21TZXF1ZW5jZSsrLHN9YXN5bmMgY29ubmVjdFdvcmtlck1hbmFnZXIoZSl7bGV0IG49YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDAmJmFyZ3VtZW50c1sxXTt0aGlzLl9uZWVkV29ya1VybE9ubHk9bix0aGlzLmVtaXQod2UuU1RBVEVfQ0hBTkdFLGRpLkNPTk5FQ1RfV09SS0VSX01BTkFHRVIpLGF3YWl0IHRoaXMud29ya2VyTWFuYWdlckNvbm5lY3Rpb24uaW5pdChlLDFlNCk7fWFzeW5jIGNvbm5lY3RXb3JrZXIoZSl7YXdhaXQgdGhpcy53b3JrZXJDb25uZWN0aW9uLmluaXQoW2VdKTt9aGFuZGxlV29ya2VyTWFuYWdlckV2ZW50cygpe3RoaXMud29ya2VyTWFuYWdlckNvbm5lY3Rpb24ub24oaXQuQ09OTkVDVEVELGFzeW5jKCk9Pnt0aGlzLmVtaXQod2UuU1RBVEVfQ0hBTkdFLGRpLldPUktFUl9NQU5BR0VSX0NPTk5FQ1RFRCx0aGlzLndvcmtlck1hbmFnZXJDb25uZWN0aW9uLnVybCksdGhpcy53b3JrZXJNYW5hZ2VyQ29ubmVjdGlvbi5zZW5kTWVzc2FnZSh7YXBwSWQ6dGhpcy5fY29ubmVjdEluZm8uYXBwSWQsY25hbWU6dGhpcy5fY29ubmVjdEluZm8uY25hbWUsdWlkOnRoaXMuX2Nvbm5lY3RJbmZvLnVpZCtcIlwiLHNka1ZlcnNpb246XCI0LjIyLjBcIixzaWQ6dGhpcy5fY29ubmVjdEluZm8uc2lkLHNlcTp0aGlzLndtU2VxdWVuY2UsdHM6TnVtYmVyKERhdGUubm93KCkpLHJlcXVlc3RJZDpNYXRoLmZsb29yKDFlMTIqTWF0aC5yYW5kb20oKSksYWxsb2NhdGU6ITAsY2xpZW50UmVxdWVzdDp7Y29tbWFuZDpcImpvaW5cIn19LCEwKTt9KSx0aGlzLndvcmtlck1hbmFnZXJDb25uZWN0aW9uLm9uKGl0LkNMT1NFRCwoKT0+e3RoaXMuX2lubmVyQ29ubmVjdGlvblN0YXRlPGRpLkdFVF9XT1JLRVJfTUFOQUdFUl9SRVNQT05TRSYmXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5faW5zcGVjdElkLFwiXSBJbnNwZWN0IHdvcmtlciBtYW5hZ2VyIGlzIGNsb3NlZCBiZWZvcmUgY29ubmVjdGluZyB3b3JrZXJcIikpO30pLHRoaXMud29ya2VyTWFuYWdlckNvbm5lY3Rpb24ub24oaXQuRkFJTEVELCgpPT57dGhpcy5faW5uZXJDb25uZWN0aW9uU3RhdGU8ZGkuR0VUX1dPUktFUl9NQU5BR0VSX1JFU1BPTlNFJiZfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9pbnNwZWN0SWQsXCJdIENvbm5lY3RpbmcgaW5zcGVjdCB3b3JrZXIgbWFuYWdlciBpcyBmYWlsZWQgYmVmb3JlIGNvbm5lY3Rpbmcgd29ya2VyXCIpKTt9KSx0aGlzLndvcmtlck1hbmFnZXJDb25uZWN0aW9uLm9uKGl0LlJFQ09OTkVDVElORywoKT0+e3RoaXMuX2lubmVyQ29ubmVjdGlvblN0YXRlPGRpLkdFVF9XT1JLRVJfTUFOQUdFUl9SRVNQT05TRSYmXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5faW5zcGVjdElkLFwiXSBJbnNwZWN0IHdvcmtlciBtYW5hZ2VyIGlzIHJlY29ubmVjdGluZyBiZWZvcmUgY29ubmVjdGluZyB3b3JrZXJcIikpO30pLHRoaXMud29ya2VyTWFuYWdlckNvbm5lY3Rpb24ub24oaXQuT05fTUVTU0FHRSxhc3luYyBlPT57dGhpcy5lbWl0KHdlLlNUQVRFX0NIQU5HRSxkaS5HRVRfV09SS0VSX01BTkFHRVJfUkVTUE9OU0UpO2xldCBuPXRoaXMud29ya2VyTWFuYWdlckNvbm5lY3Rpb24udXJsO3RoaXMud29ya2VyTWFuYWdlckNvbm5lY3Rpb24uY2xvc2UoKTtsZXQgaT1KU09OLnBhcnNlKGUuZGF0YSk7aWYoaS5jb2RlIT09MjAwKXRocm93IF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2luc3BlY3RJZCxcIl0gVW5leHBlY3RlZCBjb2RlIFwiKS5jb25jYXQoaS5jb2RlLFwiIGZyb20gd29ya2VyIG1hbmFnZXJcIikpLG5ldyBPKFIuVU5FWFBFQ1RFRF9SRVNQT05TRSxcInJlc3BvbnNlIGNvZGUgb2Ygd29ya2VyIGlzIHVuZXhwZWN0ZWRcIixpKTtpZighKGkuc2VydmVyUmVzcG9uc2UmJmkuc2VydmVyUmVzcG9uc2UucG9ydFdzcyYmbikpdGhyb3cgXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5faW5zcGVjdElkLFwiXSBVbmV4cGVjdGVkIGNvbnRlbnQgZnJvbSB3b3JrZXIgbWFuYWdlciA6IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoaSkpKSxuZXcgTyhSLlVORVhQRUNURURfUkVTUE9OU0UsXCJyZXNwb25zZSBjb250ZW50IG9mIHdvcmtlciBpcyB1bmV4cGVjdGVkXCIsaSk7e2xldCByPXYoXCJWSURFT19JTlNQRUNUX1dPUktFUl9QT1JUXCIpfHxpLnNlcnZlclJlc3BvbnNlLnBvcnRXc3Msbz1uLnJlcGxhY2UoLzpcXGQrXFwvPyQvLFwiOlwiLmNvbmNhdChyKSk7dGhpcy5lbWl0KHdlLlNUQVRFX0NIQU5HRSxkaS5DT05ORUNUX1dPUktFUixvKSx0aGlzLl9uZWVkV29ya1VybE9ubHk/dGhpcy5lbWl0KHdlLlJFUVVFU1RfTkVXX1dPUktFUl9VUkwsbyk6YXdhaXQgdGhpcy5jb25uZWN0V29ya2VyKG8pO319KSx0aGlzLndvcmtlck1hbmFnZXJDb25uZWN0aW9uLm9uKGl0LldJTExfUkVDT05ORUNULChlLG4saSk9PntpKGUpO30pLHRoaXMud29ya2VyTWFuYWdlckNvbm5lY3Rpb24ub24oaXQuUkVRVUVTVF9ORVdfVVJMUywoZSxuKT0+e3RoaXMucmVxdWVzdEFQKHRoaXMuX2Nvbm5lY3RJbmZvLHRoaXMuX2NhbmNlbFRva2VuU291cmNlLnRva2VuLHRoaXMuX3JldHJ5Q29uZmlnKS50aGVuKGUpLmNhdGNoKG4pO30pO31oYW5kbGVXb3JrZXJFdmVudHMoKXt0aGlzLndvcmtlckNvbm5lY3Rpb24ub24oaXQuQ09OTkVDVEVELGFzeW5jKCk9Pnt0aGlzLmVtaXQod2UuU1RBVEVfQ0hBTkdFLGRpLldPUktFUl9DT05ORUNURUQsdGhpcy53b3JrZXJDb25uZWN0aW9uLnVybCksdGhpcy5jb25uZWN0aW9uU3RhdGU9RWkuQ09OTkVDVEVEO30pLHRoaXMud29ya2VyQ29ubmVjdGlvbi5vbihpdC5PTl9NRVNTQUdFLGFzeW5jIGU9PntpZihlLmRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil7bGV0IGk9ejMobmV3IFVpbnQ4QXJyYXkoZS5kYXRhKSk7aWYodihcIlNIT1dfVklERU9fSU5TUEVDVF9XT1JLRVJfTUVTU0FHRVwiKSYmXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5faW5zcGVjdElkLFwiXSBSZXNwb25zZSBtZXNzYWdlIGZvciB3b3JrZXIgb2YgaW5zcGVjdCBjb250ZW50IFwiKSxKU09OLnN0cmluZ2lmeShpKSksaS5jb2RlPT09MjAwKXtpZihBcnJheS5pc0FycmF5KHRoaXMuaW5zcGVjdFR5cGUpJiZ0aGlzLmluc3BlY3RUeXBlLmxlbmd0aD09PTEmJnRoaXMuaW5zcGVjdFR5cGVbMF09PT1cInN1cGVydmlzZVwiKXJldHVybiB2b2lkIHRoaXMuZW1pdCh3ZS5JTlNQRUNUX1JFU1VMVCx2b2lkIDAsdm9pZCAwKTtpZihpLmRhdGEmJmkuZGF0YS5zY29yZVBvcm4mJmkuZGF0YS5zY29yZVNleHkmJmkuZGF0YS5zY29yZU5ldXRyYWwpe3ZhciBuO2xldCByPXtwb3JuOmkuZGF0YS5zY29yZVBvcm4sc2V4eTppLmRhdGEuc2NvcmVTZXh5LG5ldXRyYWw6aS5kYXRhLnNjb3JlTmV1dHJhbH0sbz1qaShuPU9iamVjdC5rZXlzKHIpKS5jYWxsKG4sKGEsYyk9PnJbYV0+cltjXT9hOmMsXCJwb3JuXCIpLHM9T2JqZWN0LmtleXMocikuZmluZChhPT5hPT09byk7dGhpcy5lbWl0KHdlLklOU1BFQ1RfUkVTVUxULHMpO31lbHNlIHRoaXMuZW1pdCh3ZS5JTlNQRUNUX1JFU1VMVCx2b2lkIDAsbmV3IE8oUi5VTkVYUEVDVEVEX1JFU1BPTlNFLGkuY29kZStcIlwiLFwiVGhlcmUgaXMgYW4gdW5leHBlY3RlZCBkYXRhIG9uIG1lc3NhZ2VcIikpO31lbHNlIHRoaXMuZW1pdCh3ZS5JTlNQRUNUX1JFU1VMVCx2b2lkIDAsbmV3IE8oUi5VTkVYUEVDVEVEX1JFU1BPTlNFLGkuY29kZStcIlwiLGkubXNnKSk7fWVsc2UgXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5faW5zcGVjdElkLFwiXSBVbmV4cGVjdGVkIG1lc3NhZ2UgdHlwZSBmcm9tIHdvcmtlclwiKSksdGhpcy5lbWl0KHdlLklOU1BFQ1RfUkVTVUxULHZvaWQgMCxuZXcgTyhSLlVORVhQRUNURURfUkVTUE9OU0UsXCJpbnZhbGlkIHdvcmtlciBtZXNzYWdlIHR5cGVcIikpO30pLHRoaXMud29ya2VyQ29ubmVjdGlvbi5vbihpdC5DTE9TRUQsKCk9Pnt0aGlzLmNvbm5lY3Rpb25TdGF0ZT1FaS5DTE9TRUQ7fSksdGhpcy53b3JrZXJDb25uZWN0aW9uLm9uKGl0LkZBSUxFRCwoKT0+e3RoaXMuY29ubmVjdGlvblN0YXRlPUVpLkNMT1NFRDt9KSx0aGlzLndvcmtlckNvbm5lY3Rpb24ub24oaXQuUkVDT05ORUNUSU5HLCgpPT57dGhpcy5jb25uZWN0aW9uU3RhdGU9dGhpcy5jb25uZWN0aW9uU3RhdGU9PT1FaS5DT05ORUNURUQ/RWkuUkVDT05ORUNUSU5HOkVpLkNPTk5FQ1RJTkc7fSksdGhpcy53b3JrZXJDb25uZWN0aW9uLm9uKGl0LldJTExfUkVDT05ORUNULChlLG4saSk9PntlPT09XCJyZWNvdmVyXCImJmkoZSksaShcInRyeU5leHRcIik7fSksdGhpcy53b3JrZXJDb25uZWN0aW9uLm9uKGl0LlJFUVVFU1RfTkVXX1VSTFMsKGUsbik9Pnt0aGlzLndvcmtlck1hbmFnZXJDb25uZWN0aW9uLmNsb3NlKCksdGhpcy5vbmNlKHdlLlJFUVVFU1RfTkVXX1dPUktFUl9VUkwsaT0+e2UoW2ldKTt9KSx0aGlzLnJlcXVlc3RBUCh0aGlzLl9jb25uZWN0SW5mbyx0aGlzLl9jYW5jZWxUb2tlblNvdXJjZS50b2tlbix0aGlzLl9yZXRyeUNvbmZpZykudGhlbihpPT57dGhpcy5jb25uZWN0V29ya2VyTWFuYWdlcihpLCEwKTt9KS5jYXRjaChpPT57bihpKTt9KTt9KTt9YXN5bmMgcmVxdWVzdFRvSW5zcGVjdEltYWdlKCl7dGhpcy5zZXF1ZW5jZSsrO2xldCBlPW5pKHRoaXMsd2UuQ0xJRU5UX0xPQ0FMX1ZJREVPX1RSQUNLKSxuPXthcHBJZDp0aGlzLl9jb25uZWN0SW5mby5hcHBJZCxjbmFtZTp0aGlzLl9jb25uZWN0SW5mby5jbmFtZSxjaWQ6dGhpcy5fY29ubmVjdEluZm8uY2lkLHNpZDp0aGlzLl9jb25uZWN0SW5mby5zaWQsdWlkOnRoaXMuX2Nvbm5lY3RJbmZvLnVpZCx2aWQ6dGhpcy5fY29ubmVjdEluZm8udmlkfTtpZihlKXtpZighZS5pc1BsYXlpbmcpcmV0dXJuIHZvaWQgdGhpcy5lbWl0KHdlLklOU1BFQ1RfUkVTVUxULHZvaWQgMCxuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OLFwiT25seSB0aGUgdHJhY2sgYmVpbmcgcGxheWVkIGNhbiBiZSBpbnNwZWN0ZWRcIikpO2xldCBpPWF3YWl0IHRoaXMuZ2VuZXJhdGVSZXF1ZXN0RGF0YShlLG4pO3RoaXMud29ya2VyQ29ubmVjdGlvbi5zZW5kTWVzc2FnZShpLCEwLCEwKTt9ZWxzZSB0aGlzLmVtaXQod2UuSU5TUEVDVF9SRVNVTFQsdm9pZCAwLG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJPbmx5IHRoZSB0cmFjayBiZWluZyBwdWJsaXNoZWQgY2FuIGJlIGluc3BlY3RlZFwiKSk7fWFzeW5jIGdlbmVyYXRlUmVxdWVzdERhdGEoZSxuKXtsZXR7YXBwSWQ6aSxjbmFtZTpyLGNpZDpvLHZpZDpzLHNpZDphLHVpZDpjfT1uLGQ9RGF0ZS5ub3coKSxsPWF3YWl0IGUuZ2V0Q3VycmVudEZyYW1lSW1hZ2UoXCJpbWFnZS9qcGVnXCIsdGhpcy5xdWFsaXR5KSx1PWF3YWl0IFFPKGwsaSxyKSxoPXRoaXMuc2VxdWVuY2UrXCItXCIrbytcIi1cIitjK1wiLVwiK2QrXCItXCIrVXQoMTIsXCJcIikscD17YXBwSWQ6aSxjaWQ6byxjbmFtZTpyLGRldmljZUlkOlwiXCIsZWxhcHNlOlJBKE51bWJlcihkLXRoaXMuaW5zcGVjdFN0YXJ0VGltZSkpLGZpbGVTaXplOnUuYnl0ZUxlbmd0aCxqcGdFbmNyeXB0aW9uOjIsaGVpZ2h0OmwuaGVpZ2h0LHdpZHRoOmwud2lkdGgsanBnOnUsbmV0d29ya1R5cGU6Nixvc1R5cGU6NyxyZXF1ZXN0SWQ6aCxzZGtWZXJzaW9uOlwiNC4yMi4wXCIsc2VxdWVuY2U6dGhpcy5zZXF1ZW5jZSxzaWQ6YSx0aW1lc3RhbXA6UkEoZCksdWlkOmMsdmlkOnMsc2VydmljZTp0aGlzLl9pbnNwZWN0TW9kZSxjYWxsYmFja0RhdGE6dGhpcy5leHRyYUluZm8sb3NzRmlsZVByZWZpeDp0aGlzLm9zc0ZpbGVQcmVmaXh9O3RoaXMuZXh0cmFJbmZvPT09dm9pZCAwJiZkZWxldGUgcC5jYWxsYmFja0RhdGEsdGhpcy5vc3NGaWxlUHJlZml4PT09dm9pZCAwJiZkZWxldGUgcC5vc3NGaWxlUHJlZml4O2xldCBnPXEzKHApO2lmKGcuYnl0ZUxlbmd0aDx0aGlzLndvcmtlck1lc3NhZ2VMZW5ndGhMaW1pdCl7aWYodihcIlNIT1dfVklERU9fSU5TUEVDVF9XT1JLRVJfTUVTU0FHRVwiKSl7bGV0IEU9ZnVuY3Rpb24oZil7Zm9yKHZhciBTPTE7Uzxhcmd1bWVudHMubGVuZ3RoO1MrKyl7dmFyIEM9YXJndW1lbnRzW1NdIT1udWxsP2FyZ3VtZW50c1tTXTp7fTtTJTI/U0EoT2JqZWN0KEMpLCEwKS5mb3JFYWNoKGZ1bmN0aW9uKEEpe1QoZixBLENbQV0pO30pOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGYsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoQykpOlNBKE9iamVjdChDKSkuZm9yRWFjaChmdW5jdGlvbihBKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZixBLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoQyxBKSk7fSk7fXJldHVybiBmfSh7fSxwKTtkZWxldGUgRS5qcGcsXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5faW5zcGVjdElkLFwiXSBSZXF1ZXN0IG1lc3NhZ2UgZm9yIHdvcmtlciBvZiBpbnNwZWN0IGNvbnRlbnQgXCIpLEpTT04uc3RyaW5naWZ5KEUpKTt9cmV0dXJuIGd9e2xldCBFPXRoaXMucXVhbGl0eSp0aGlzLnF1YWxpdHlSYXRpbztyZXR1cm4gdGhpcy5xdWFsaXR5PUUsYXdhaXQgdGhpcy5nZW5lcmF0ZVJlcXVlc3REYXRhKGUse2FwcElkOmksY25hbWU6cixjaWQ6byx2aWQ6cyxzaWQ6YSx1aWQ6Y30pfX1jbG9zZSgpe3RoaXMuX2NhbmNlbFRva2VuU291cmNlLmNhbmNlbCgpLHRoaXMuX2NhbmNlbFRva2VuU291cmNlPW1uLkNhbmNlbFRva2VuLnNvdXJjZSgpLHRoaXMud29ya2VyTWFuYWdlckNvbm5lY3Rpb24mJnRoaXMud29ya2VyTWFuYWdlckNvbm5lY3Rpb24uY2xvc2UoKSx0aGlzLndvcmtlckNvbm5lY3Rpb24mJnRoaXMud29ya2VyQ29ubmVjdGlvbi5jbG9zZSgpLHRoaXMuaW5zcGVjdFRpbWVyJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmluc3BlY3RUaW1lciksdGhpcy5pbnNwZWN0VGltZXI9bnVsbCx0aGlzLmNvbm5lY3Rpb25TdGF0ZT1FaS5DTE9TRUQsdGhpcy5lbWl0KHdlLlNUQVRFX0NIQU5HRSxkaS5DTE9TRUQpO319LG5IPXtuYW1lOlwiQ29udGVudEluc3BlY3RcIixjcmVhdGU6ZnVuY3Rpb24odCl7bGV0e2NvbmZpZzplfT10O3JldHVybiBmdW5jdGlvbihuKXtpZighbil0aHJvdyBuZXcgTyhSLklOVkFMSURfUEFSQU1TLFwiaW5zcGVjdENvbmZpZyBpcyBuZWNlc3NhcnkuXCIpO2lmKCFuLmluc3BlY3RUeXBlfHwhQXJyYXkuaXNBcnJheShuLmluc3BlY3RUeXBlKSl0aHJvdyBuZXcgTyhSLklOVkFMSURfUEFSQU1TLFwiaW5zcGVjdENvbmZpZy5pbnNwZWN0VHlwZSBpcyBuZWNlc3NhcnkgYW5kIGlzIGFuIGluc3RhbmNlIG9mIEFycmF5LlwiKTt7bGV0IGk9Wy4uLm5ldyBTZXQobi5pbnNwZWN0VHlwZSldO2kuZm9yRWFjaChyPT57dmFyIG87aWYoIVcobz1bXCJzdXBlcnZpc2VcIixcIm1vZGVyYXRpb25cIl0pLmNhbGwobyxyKSl0aHJvdyBuZXcgTyhSLklOVkFMSURfUEFSQU1TLFwiXCIuY29uY2F0KHIsXCIgaXMgbm90IGEgdmFsaWQgaW5zcGVjdCB0eXBlLlwiKSl9KSxuLmluc3BlY3RUeXBlPWk7fWlmKG4mJm4uZXh0cmFJbmZvJiZuLmV4dHJhSW5mby5sZW5ndGg+MTAyNCl0aHJvdyBuZXcgTyhSLklOVkFMSURfUEFSQU1TLFwiaW5zcGVjdENvbmZpZy5leHRyYUluZm8gbGVuZ3RoIGNhbm5vdCBleGNlZWQgMTAyNCBieXRlc1wiKX0oZSksbmV3IEltKGUpfX07T3QoXCJQUk9DRVNTX0lEXCIsXCJwcm9jZXNzLVwiLmNvbmNhdChVdCg4LFwiXCIpLFwiLVwiKS5jb25jYXQoVXQoNCxcIlwiKSxcIi1cIikuY29uY2F0KFV0KDQsXCJcIiksXCItXCIpLmNvbmNhdChVdCg0LFwiXCIpLFwiLVwiKS5jb25jYXQoVXQoMTIsXCJcIikpKSxmdW5jdGlvbigpe2xldCB0O3RyeXt0PXdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIndlYnNka19uZ19nbG9iYWxfcGFyYW1ldGVyXCIpO31jYXRjaChlKXtyZXR1cm4gdm9pZCBfLmVycm9yKFwiRXJyb3IgbG9hZGluZyBzZGsgY29uZmlnXCIsZS5tZXNzYWdlKX1pZih0KXRyeXtsZXQgZT1KU09OLnBhcnNlKHdpbmRvdy5hdG9iKHQpKSxuPURhdGUubm93KCk7Xy5kZWJ1ZyhcIkxvYWRpbmcgZ2xvYmFsIHBhcmFtZXRlcnMgZnJvbSBjYWNoZVwiLGUpLE9iamVjdC5rZXlzKGUpLmZvckVhY2goaT0+e2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvZSxpKSl7bGV0e3ZhbHVlOnIsZXhwaXJlczpvfT1lW2ldO2lmKG8mJm88PW4pcmV0dXJuOyRyW2ldPXIsb2VbaV09cjt9fSk7fWNhdGNoKGUpe18uZXJyb3IoXCJFcnJvciBsb2FkaW5nIG11dGFibGVQYXJhbXNDYWNoZTogXCIuY29uY2F0KHQpLGUubWVzc2FnZSk7fX0oKSxBcnJheS5pc0FycmF5KCRyLkFSRUFTKSYmJHIuQVJFQVMubGVuZ3RoPjAmJkFmKCRyLkFSRUFTLCEwKTt2YXIgQ0E9KHQsZSxuKT0+e18uZGVidWcoXCJzZXRQYXJhbWV0ZXIga2V5OlwiLmNvbmNhdCh0LFwiLCB2YWx1ZTpcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KGUpKSksT3QodCxlLG4pO307QmEoSzMsITEpLEJhKFkzLCExKSxCYShQVywhMSksQmEobkgsITEpLEJhKEgzLCExKTt2YXIgTXQ9ZnVuY3Rpb24odCl7bGV0IGU9bmV3IFh0LG49dCxpPXtnZXRMaXN0ZW5lcnM6ZS5nZXRMaXN0ZW5lcnMuYmluZChlKSxvbjoocixvKT0+KGZ1bmN0aW9uKHMsYSl7cz09PW5yLlNFQ1VSSVRZX1BPTElDWV9WSU9MQVRJT04mJkwwKGEsITApO30ocixvKSxlLm9uLmJpbmQoZSkocixvKSksYWRkTGlzdGVuZXI6ZS5hZGRMaXN0ZW5lci5iaW5kKGUpLG9uY2U6ZS5vbmNlLmJpbmQoZSksb2ZmOmUub2ZmLmJpbmQoZSkscmVtb3ZlQWxsTGlzdGVuZXJzOmUucmVtb3ZlQWxsTGlzdGVuZXJzLmJpbmQoZSksZW1pdDplLmVtaXQuYmluZChlKSxzYWZlRW1pdDplLnNhZmVFbWl0LmJpbmQoZSl9O3JldHVybiBKeShKeSh7fSxuKSxpKX0oe19fVFJBQ0tfTElTVF9fOkFzLFZFUlNJT046aWksQlVJTEQ6RWYsRVNNX0JVTkRMRVI6ITEsRVNNOiEwLFVNRDohMSxERVY6ITEsc2V0UGFyYW1ldGVyOkNBLGdldFBhcmFtZXRlcjp2LGdldFN1cHBvcnRlZENvZGVjOmFzeW5jIGZ1bmN0aW9uKCl7bGV0IHQ9e2F1ZGlvOltdLHZpZGVvOltdfTt0cnl7bGV0IGU9bmV3IFJUQ1BlZXJDb25uZWN0aW9uLG49YXdhaXQgYXN5bmMgZnVuY3Rpb24oaSl7bGV0IHI7cmV0dXJuIGZ0KCkuc3VwcG9ydFVuaWZpZWRQbGFuPyhpLmFkZFRyYW5zY2VpdmVyKFwidmlkZW9cIix7ZGlyZWN0aW9uOlwicmVjdm9ubHlcIn0pLGkuYWRkVHJhbnNjZWl2ZXIoXCJhdWRpb1wiLHtkaXJlY3Rpb246XCJyZWN2b25seVwifSkscj0oYXdhaXQgaS5jcmVhdGVPZmZlcigpKS5zZHApOnI9KGF3YWl0IGkuY3JlYXRlT2ZmZXIoe29mZmVyVG9SZWNlaXZlQXVkaW86ITAsb2ZmZXJUb1JlY2VpdmVWaWRlbzohMH0pKS5zZHAscn0oZSk7aWYoIW4pcmV0dXJuIHQ7ZS5jbG9zZSgpLGU9bnVsbCx0PWZ1bmN0aW9uKGkpe2xldCByPXt2aWRlbzpbXSxhdWRpbzpbXX07cmV0dXJuIGkubWF0Y2goLyBWUDgvaSkmJnIudmlkZW8ucHVzaChcIlZQOFwiKSxpLm1hdGNoKC8gVlA5L2kpJiZyLnZpZGVvLnB1c2goXCJWUDlcIiksaS5tYXRjaCgvIEFWMS9pKSYmci52aWRlby5wdXNoKFwiQVYxXCIpLGkubWF0Y2goLyBIMjY0L2kpJiZyLnZpZGVvLnB1c2goXCJIMjY0XCIpLGkubWF0Y2goLyBIMjY1L2kpJiZyLnZpZGVvLnB1c2goXCJIMjY1XCIpLGkubWF0Y2goLyBvcHVzL2kpJiZyLmF1ZGlvLnB1c2goXCJPUFVTXCIpLGkubWF0Y2goLyBQQ01VL2kpJiZyLmF1ZGlvLnB1c2goXCJQQ01VXCIpLGkubWF0Y2goLyBQQ01BL2kpJiZyLmF1ZGlvLnB1c2goXCJQQ01BXCIpLGkubWF0Y2goLyBHNzIyL2kpJiZyLmF1ZGlvLnB1c2goXCJHNzIyXCIpLHJ9KG4pO31jYXRjaChlKXt0aHJvdyBuZXcgTyhSLkNSRUFURV9PRkZFUl9GQUlMRUQsZS50b1N0cmluZyYmZS50b1N0cmluZygpKS5wcmludCgpfXJldHVybiB0fSxjaGVja1N5c3RlbVJlcXVpcmVtZW50czpmdW5jdGlvbigpe2xldCB0PVgucmVwb3J0QXBpSW52b2tlKG51bGwse25hbWU6VGUuQ0hFQ0tfU1lTVEVNX1JFUVVJUkVNRU5UUyxvcHRpb25zOltdLHRhZzpadC5UUkFDRVJ9KSxlPSExO3RyeXtsZXQgbz13aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24scz1uYXZpZ2F0b3IubWVkaWFEZXZpY2VzJiZuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSxhPXdpbmRvdy5XZWJTb2NrZXQ7ZT0hIShvJiZzJiZhKSxlJiZsZigpJiZFTyg3NSkmJm5ldyBvKCkuY2xvc2UoKTt9Y2F0Y2gobyl7cmV0dXJuIF8uZXJyb3IoXCJjaGVjayBzeXN0ZW0gcmVxdWlyZW1lbnQgZmFpbGVkOiBcIixvKSwhMX1sZXQgbj0hMSxpPW10KCk7aS5uYW1lPT09SXQuQ0hST01FJiZOdW1iZXIoaS52ZXJzaW9uKT49NTgmJihWaS5lbmdpbmUubmFtZSE9PVwiV2ViS2l0XCJ8fGZ1bmN0aW9uKCl7bGV0IG89bXQoKTtpZihHbCgpKXtpZihvLm9zPT09eWUuTUFDX09TKXJldHVybiAhMDtpZihvLm9zPT09eWUuSU9TKXtsZXQgcz1WaS5vcy52ZXJzaW9uJiZWaS5vcy52ZXJzaW9uLnNwbGl0KFwiLlwiKTtpZihzJiZOdW1iZXIoc1swXSk9PT0xNCYmc1sxXSYmTnVtYmVyKHNbMV0pPj0zfHxzJiZOdW1iZXIoc1swXSk+MTQpcmV0dXJuICEwfX1yZXR1cm4gITF9KCkpJiYobj0hMCksKGkubmFtZT09PUl0LkZJUkVGT1gmJk51bWJlcihpLnZlcnNpb24pPj01Nnx8aS5uYW1lPT09SXQuT1BFUkEmJk51bWJlcihpLnZlcnNpb24pPj00NXx8aS5uYW1lPT09SXQuU0FGQVJJJiZOdW1iZXIoaS52ZXJzaW9uKT49MTF8fGkubmFtZT09PVwiV2ViS2l0XCImJihsbigpfHx2aSgpKSYmaS5vc1ZlcnNpb24mJk51bWJlcihpLm9zVmVyc2lvbi5zcGxpdChcIi5cIilbMF0pPj0xMXx8VE8oKXx8bXQoKS5uYW1lPT09SXQuUVEpJiYobj0hMCksXy5kZWJ1ZyhcImNoZWNrU3lzdGVtUmVxdWlyZW1lbnRzLCBhcGk6XCIsZSxcImJyb3dzZXJcIixuKTtsZXQgcj1lJiZuO3JldHVybiB0Lm9uU3VjY2VzcyhyKSxyfSxnZXREZXZpY2VzOmZ1bmN0aW9uKHQpe3JldHVybiBHbi5lbnVtZXJhdGVEZXZpY2VzKCEwLCEwLHQpfSxnZXRNaWNyb3Bob25lczpmdW5jdGlvbih0KXtyZXR1cm4gR24uZ2V0UmVjb3JkaW5nRGV2aWNlcyh0KX0sZ2V0Q2FtZXJhczpmdW5jdGlvbih0KXtyZXR1cm4gR24uZ2V0Q2FtZXJhc0RldmljZXModCl9LGdldEVsZWN0cm9uU2NyZWVuU291cmNlczpLTyxnZXRQbGF5YmFja0RldmljZXM6ZnVuY3Rpb24odCl7cmV0dXJuIEduLmdldFNwZWFrZXJzKHQpfSxjcmVhdGVDbGllbnQ6ZnVuY3Rpb24oKXt2YXIgdDtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXZvaWQgMD9hcmd1bWVudHNbMF06e2NvZGVjOlwidnA4XCIsYXVkaW9Db2RlYzpcIm9wdXNcIixtb2RlOlwicnRjXCJ9LG49WC5yZXBvcnRBcGlJbnZva2UobnVsbCx7bmFtZTpUZS5DUkVBVEVfQ0xJRU5ULG9wdGlvbnM6W2VdLHRhZzpadC5UUkFDRVJ9KTt0cnl7KGZ1bmN0aW9uKGkpe0NlKGkuY29kZWMsXCJjb25maWcuY29kZWNcIixbXCJ2cDhcIixcInZwOVwiLFwiYXYxXCIsXCJoMjY0XCIsXCJoMjY1XCJdKSxDZShpLm1vZGUsXCJjb25maWcubW9kZVwiLFtcInJ0Y1wiLFwibGl2ZVwiLFwicDJwXCJdKSxpLmF1ZGlvQ29kZWMhPT12b2lkIDAmJkNlKGkuYXVkaW9Db2RlYyxcImNvbmZpZy5hdWRpb0NvZGVjXCIsW1wib3B1c1wiLFwicGNtdVwiLFwicGNtYVwiLFwiZzcyMlwiXSksaS5wcm94eVNlcnZlciE9PXZvaWQgMCYmUGUoaS5wcm94eVNlcnZlcixcImNvbmZpZy5wcm94eVNlcnZlclwiLDEsMWU0KSxpLnR1cm5TZXJ2ZXIhPT12b2lkIDAmJnZPKGkudHVyblNlcnZlciksaS5odHRwUmV0cnlDb25maWchPT12b2lkIDAmJm1SKGkuaHR0cFJldHJ5Q29uZmlnKSxpLndlYnNvY2tldFJldHJ5Q29uZmlnIT09dm9pZCAwJiZtUihpLndlYnNvY2tldFJldHJ5Q29uZmlnKTt9KShlKTt9Y2F0Y2goaSl7dGhyb3cgbi5vbkVycm9yKGkpLGl9cmV0dXJuIChmTygxNiwwKXx8Z08oMTYsMCkpJiYoZS5jb2RlYz09PVwidnA5XCImJihlLmNvZGVjPVwidnA4XCIsXy5kZWJ1ZyhcImJyb3dzZXIgbm90IHN1cHBvcnQgdnA5LCBmb3JjZSB1c2UgdnA4XCIpKSxPdChcIlVOU1VQUE9SVEVEX1ZJREVPX0NPREVDXCIsW1widnA5XCJdKSksZS5hdWRpb0NvZGVjPT09dm9pZCAwJiYoZS5hdWRpb0NvZGVjPVwib3B1c1wiKSxuLm9uU3VjY2VzcygpLG5ldyBrVyh4aSh4aSh7Zm9yY2VXYWl0R2F0ZXdheVJlc3BvbnNlOiEwfSxlKSx7fSx7cm9sZTpXKHQ9W1wicnRjXCIsXCJwMnBcIl0pLmNhbGwodCxlLm1vZGUpP1wiaG9zdFwiOmUucm9sZXx8XCJhdWRpZW5jZVwifSkpfSxjcmVhdGVDYW1lcmFWaWRlb1RyYWNrOmFzeW5jIGZ1bmN0aW9uKCl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT12b2lkIDA/YXJndW1lbnRzWzBdOnt9LGU9dihcIkNBTUVSQV9DQVBUVVJFX0NPTkZJR1wiKSxuPVgucmVwb3J0QXBpSW52b2tlKG51bGwse3RhZzpadC5UUkFDRVIsbmFtZTpUZS5DUkVBVEVfQ0FNX1ZJREVPX1RSQUNLLG9wdGlvbnM6W0t0KHt9LHQpLGVdfSk7ZSYmKHQuZW5jb2RlckNvbmZpZz1lKTtsZXQgaT1ydSh0KSxyPVV0KDgsXCJ0cmFjay1jYW0tXCIpLG89bnVsbDtfLmluZm8oXCJzdGFydCBjcmVhdGUgY2FtZXJhIHZpZGVvIHRyYWNrIHdpdGggY29uZmlnXCIsSlNPTi5zdHJpbmdpZnkodCksXCJ0cmFja0lkXCIscik7dHJ5e289KGF3YWl0IEZuKHt2aWRlbzppfSxyKSkuZ2V0VmlkZW9UcmFja3MoKVswXXx8bnVsbDt9Y2F0Y2goYSl7dGhyb3cgbi5vbkVycm9yKGEpLGF9aWYoIW8pe2xldCBhPW5ldyBOKFIuVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZmluZCB0cmFjayBpbiBtZWRpYSBzdHJlYW1cIik7cmV0dXJuIG4ub25FcnJvcihhKSxhLnRocm93KF8pfXQub3B0aW1pemF0aW9uTW9kZSYmY18ocixvLHQsY3IodC5lbmNvZGVyQ29uZmlnKSk7bGV0IHM9bmV3IFhFKG8sdCxpLHQuc2NhbGFiaWx0eU1vZGU/RmQodC5zY2FsYWJpbHR5TW9kZSk6e251bVNwYXRpYWxMYXllcnM6MSxudW1UZW1wb3JhbExheWVyczoxfSx0Lm9wdGltaXphdGlvbk1vZGUscik7cmV0dXJuIG4ub25TdWNjZXNzKHMuZ2V0VHJhY2tJZCgpKSxfLmluZm8oXCJjcmVhdGUgY2FtZXJhIHZpZGVvIHN1Y2Nlc3MsIHRyYWNrSWQ6XCIsciksc30sY3JlYXRlQ3VzdG9tVmlkZW9UcmFjazpmdW5jdGlvbih0KXtsZXQgZT1YLnJlcG9ydEFwaUludm9rZShudWxsLHt0YWc6WnQuVFJBQ0VSLG5hbWU6VGUuQ1JFQVRFX0NVU1RPTV9WSURFT19UUkFDSyxvcHRpb25zOlt0XX0pLG49bmV3IEZ0KHQubWVkaWFTdHJlYW1UcmFjayx7d2lkdGg6dC53aWR0aCxoZWlnaHQ6dC5oZWlnaHQsZnJhbWVSYXRlOnQuZnJhbWVSYXRlLGJpdHJhdGVNYXg6dC5iaXRyYXRlTWF4LGJpdHJhdGVNaW46dC5iaXRyYXRlTWlufSx0LnNjYWxhYmlsdHlNb2RlP0ZkKHQuc2NhbGFiaWx0eU1vZGUpOntudW1TcGF0aWFsTGF5ZXJzOjEsbnVtVGVtcG9yYWxMYXllcnM6MX0sdC5vcHRpbWl6YXRpb25Nb2RlLFV0KDgsXCJ0cmFjay1jdXMtXCIpLFtHdC5DVVNUT01fVFJBQ0tdKTtyZXR1cm4gZS5vblN1Y2Nlc3Mobi5nZXRUcmFja0lkKCkpLF8uaW5mbyhcImNyZWF0ZSBjdXN0b20gdmlkZW8gdHJhY2sgc3VjY2VzcyB3aXRoIGNvbmZpZ1wiLHQsXCJ0cmFja0lkXCIsbi5nZXRUcmFja0lkKCkpLG59LGNyZWF0ZVNjcmVlblZpZGVvVHJhY2s6YXN5bmMgZnVuY3Rpb24oKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXZvaWQgMD9hcmd1bWVudHNbMF06e30sZT1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06XCJkaXNhYmxlXCIsbj1YLnJlcG9ydEFwaUludm9rZShudWxsLHt0YWc6WnQuVFJBQ0VSLG5hbWU6VGUuQ1JFQVRFX1NDUkVFTl9WSURFT19UUkFDSyxvcHRpb25zOltLdCh7fSx0KSxlXX0pO3QuZW5jb2RlckNvbmZpZz90eXBlb2YgdC5lbmNvZGVyQ29uZmlnPT1cInN0cmluZ1wifHx0LmVuY29kZXJDb25maWcud2lkdGgmJnQuZW5jb2RlckNvbmZpZy5oZWlnaHR8fCh0LmVuY29kZXJDb25maWcud2lkdGg9e21heDoxOTIwfSx0LmVuY29kZXJDb25maWcuaGVpZ2h0PXttYXg6MTA4MH0pOnQuZW5jb2RlckNvbmZpZz1cIjEwODBwXzJcIjtsZXQgaT1mdW5jdGlvbihsKXtsZXQgdT17fTtsLnNjcmVlblNvdXJjZVR5cGUmJih1Lm1lZGlhU291cmNlPWwuc2NyZWVuU291cmNlVHlwZSksbC5leHRlbnNpb25JZCYmb28oKSYmKHUuZXh0ZW5zaW9uSWQ9bC5leHRlbnNpb25JZCk7bGV0e2Rpc3BsYXlTdXJmYWNlOmgsc2VsZkJyb3dzZXJTdXJmYWNlOnAsc3VyZmFjZVN3aXRjaGluZzpnLHN5c3RlbUF1ZGlvOkV9PWw7KE9FKDEwNyl8fGxSKDEwNyl8fHVSKDkzKSkmJihoJiYoQ2UoaCxcImRpc3BsYXlTdXJmYWNlXCIsW1wiYnJvd3NlclwiLFwid2luZG93XCIsXCJtb25pdG9yXCJdKSx1LmRpc3BsYXlTdXJmYWNlPWgpLHA/KENlKHAsXCJzZWxmQnJvd3NlclN1cmZhY2VcIixbXCJleGNsdWRlXCIsXCJpbmNsdWRlXCJdKSx1LnNlbGZCcm93c2VyU3VyZmFjZT1wKTp1LnNlbGZCcm93c2VyU3VyZmFjZT1cImluY2x1ZGVcIixnJiYoQ2UoZyxcInN1cmZhY2VTd2l0Y2hpbmdcIixbXCJleGNsdWRlXCIsXCJpbmNsdWRlXCJdKSx1LnN1cmZhY2VTd2l0Y2hpbmc9ZykpLChPRSgxMDUpfHxsUigxMDUpfHx1Uig5MSkpJiZFJiYoQ2UoRSxcInN5c3RlbUF1ZGlvXCIsW1wiZXhjbHVkZVwiLFwiaW5jbHVkZVwiXSksdS5zeXN0ZW1BdWRpbz1FKSxsLmVsZWN0cm9uU2NyZWVuU291cmNlSWQmJih1LnNvdXJjZUlkPWwuZWxlY3Ryb25TY3JlZW5Tb3VyY2VJZCk7bGV0IGY9bC5lbmNvZGVyQ29uZmlnP3JfKGwuZW5jb2RlckNvbmZpZyk6bnVsbDtyZXR1cm4gdS5tYW5kYXRvcnk9e2Nocm9tZU1lZGlhU291cmNlOlwiZGVza3RvcFwiLG1heFdpZHRoOmY/Zi53aWR0aDp2b2lkIDAsbWF4SGVpZ2h0OmY/Zi5oZWlnaHQ6dm9pZCAwfSxmJiYoZi5mcmFtZVJhdGUmJih0eXBlb2YgZi5mcmFtZVJhdGU9PVwibnVtYmVyXCI/KHUubWFuZGF0b3J5Lm1heEZyYW1lUmF0ZT1mLmZyYW1lUmF0ZSx1Lm1hbmRhdG9yeS5taW5GcmFtZVJhdGU9Zi5mcmFtZVJhdGUpOih1Lm1hbmRhdG9yeS5tYXhGcmFtZVJhdGU9Zi5mcmFtZVJhdGUubWF4fHxmLmZyYW1lUmF0ZS5pZGVhbHx8Zi5mcmFtZVJhdGUuZXhhY3R8fHZvaWQgMCx1Lm1hbmRhdG9yeS5taW5GcmFtZVJhdGU9Zi5mcmFtZVJhdGUubWlufHxmLmZyYW1lUmF0ZS5pZGVhbHx8Zi5mcmFtZVJhdGUuZXhhY3R8fHZvaWQgMCksdS5mcmFtZVJhdGU9Zi5mcmFtZVJhdGUpLGYud2lkdGgmJih1LndpZHRoPWYud2lkdGgpLGYuaGVpZ2h0JiYodS5oZWlnaHQ9Zi5oZWlnaHQpKSx1fSh0KSxyPVV0KDgsXCJ0cmFjay1zY3Itdi1cIiksbz1udWxsLHM9bnVsbCxhPWZ0KCk7aWYoIWEuc3VwcG9ydFNoYXJlQXVkaW8mJmU9PT1cImVuYWJsZVwiKXtsZXQgbD1uZXcgTihSLk5PVF9TVVBQT1JURUQsXCJ5b3VyIGJyb3dzZXIgb3IgcGxhdGZvcm0gaXMgbm90IHN1cHBvcnQgc2hhcmUtc2NyZWVuIHdpdGggYXVkaW9cIik7cmV0dXJuIG4ub25FcnJvcihsKSxsLnRocm93KF8pfV8uaW5mbyhcInN0YXJ0IGNyZWF0ZSBzY3JlZW4gdmlkZW8gdHJhY2sgd2l0aCBjb25maWdcIix0LFwid2l0aEF1ZGlvXCIsZSxcInRyYWNrSWRcIixyKTt0cnl7bGV0IGw9YXdhaXQgRm4oe3NjcmVlbjppLHNjcmVlbkF1ZGlvOmU9PT1cImF1dG9cIj9hLnN1cHBvcnRTaGFyZUF1ZGlvOmU9PT1cImVuYWJsZVwifSxyKTtvPWwuZ2V0VmlkZW9UcmFja3MoKVswXXx8bnVsbCxzPWwuZ2V0QXVkaW9UcmFja3MoKVswXXx8bnVsbDt9Y2F0Y2gobCl7dGhyb3cgbi5vbkVycm9yKGwpLGx9aWYoIW8pe2xldCBsPW5ldyBOKFIuVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZmluZCB0cmFjayBpbiBtZWRpYSBzdHJlYW1cIik7cmV0dXJuIG4ub25FcnJvcihsKSxsLnRocm93KF8pfWlmKCFzJiZlPT09XCJlbmFibGVcIil7byYmby5zdG9wKCk7bGV0IGw9bmV3IE4oUi5TSEFSRV9BVURJT19OT1RfQUxMT1dFRCk7cmV0dXJuIG4ub25FcnJvcihsKSxsLnRocm93KF8pfXQub3B0aW1pemF0aW9uTW9kZXx8KHQub3B0aW1pemF0aW9uTW9kZT1cImRldGFpbFwiKSx0Lm9wdGltaXphdGlvbk1vZGUmJihjXyhyLG8sdCx0LmVuY29kZXJDb25maWcmJnJfKHQuZW5jb2RlckNvbmZpZyl8fHZvaWQgMCksdC5lbmNvZGVyQ29uZmlnJiZ0eXBlb2YgdC5lbmNvZGVyQ29uZmlnIT1cInN0cmluZ1wiJiYodC5lbmNvZGVyQ29uZmlnLmJpdHJhdGVNaW49dC5lbmNvZGVyQ29uZmlnLmJpdHJhdGVNYXgpKTtsZXQgYz1uZXcgRnQobyx0LmVuY29kZXJDb25maWc/cl8odC5lbmNvZGVyQ29uZmlnKTp7fSx0LnNjYWxhYmlsdHlNb2RlP0ZkKHQuc2NhbGFiaWx0eU1vZGUpOntudW1TcGF0aWFsTGF5ZXJzOjEsbnVtVGVtcG9yYWxMYXllcnM6MX0sdC5vcHRpbWl6YXRpb25Nb2RlLHIsW0d0LlNDUkVFTl9UUkFDS10pO2lmKCFzKXJldHVybiBuLm9uU3VjY2VzcyhjLmdldFRyYWNrSWQoKSksXy5pbmZvKFwiY3JlYXRlIHNjcmVlbiB2aWRlbyB0cmFjayBzdWNjZXNzXCIsXCJ2aWRlbzpcIixjLmdldFRyYWNrSWQoKSksYztsZXQgZD1uZXcgUXQocyx2b2lkIDAsVXQoOCxcInRyYWNrLXNjci1hLVwiKSwhMSk7cmV0dXJuIG4ub25TdWNjZXNzKFtjLmdldFRyYWNrSWQoKSxkLmdldFRyYWNrSWQoKV0pLF8uaW5mbyhcImNyZWF0ZSBzY3JlZW4gdmlkZW8gdHJhY2sgc3VjY2Vzc1wiLFwidmlkZW86XCIsYy5nZXRUcmFja0lkKCksXCJhdWRpbzpcIixkLmdldFRyYWNrSWQoKSksW2MsZF19LGNyZWF0ZU1pY3JvcGhvbmVBbmRDYW1lcmFUcmFja3M6YXN5bmMgZnVuY3Rpb24oKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXZvaWQgMD9hcmd1bWVudHNbMF06e30sZT1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06e30sbj12KFwiQ0FNRVJBX0NBUFRVUkVfQ09ORklHXCIpLGk9WC5yZXBvcnRBcGlJbnZva2UobnVsbCx7dGFnOlp0LlRSQUNFUixuYW1lOlRlLkNSRUFURV9NSUNfQU5EX0NBTV9UUkFDS1Msb3B0aW9uczpbdCxlLG5dfSk7biYmKGUuZW5jb2RlckNvbmZpZz1uKTtsZXQgcj1ydShlKSxvPWZDKHQpLHM9VXQoOCxcInRyYWNrLW1pYy1cIiksYT1VdCg4LFwidHJhY2stY2FtLVwiKSxjPW51bGwsZD1udWxsO18uaW5mbyhcInN0YXJ0IGNyZWF0ZSBjYW1lcmEgdmlkZW8gdHJhY2soXCIuY29uY2F0KGEsXCIpIGFuZCBtaWNyb3Bob25lIGF1ZGlvIHRyYWNrKFwiKS5jb25jYXQocyxcIikgd2l0aCBjb25maWcsIGF1ZGlvOiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KHQpLFwiLCB2aWRlbzogXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShlKSkpO3RyeXtsZXQgaD1hd2FpdCBGbih7YXVkaW86byx2aWRlbzpyfSxcIlwiLmNvbmNhdChzLFwiLVwiKS5jb25jYXQoYSkpO2M9aC5nZXRBdWRpb1RyYWNrcygpWzBdLGQ9aC5nZXRWaWRlb1RyYWNrcygpWzBdO31jYXRjaChoKXt0aHJvdyBpLm9uRXJyb3IoaCksaH1pZighY3x8IWQpe2xldCBoPW5ldyBOKFIuVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZmluZCB0cmFja3MgaW4gbWVkaWEgc3RyZWFtXCIpO3JldHVybiBpLm9uRXJyb3IoaCksaC50aHJvdyhfKX1lLm9wdGltaXphdGlvbk1vZGUmJmNfKGEsZCxlLGNyKGUuZW5jb2RlckNvbmZpZykpO2xldCBsPW5ldyBvdShjLHQsbyxzKSx1PW5ldyBYRShkLGUscixlLnNjYWxhYmlsdHlNb2RlP0ZkKGUuc2NhbGFiaWx0eU1vZGUpOntudW1TcGF0aWFsTGF5ZXJzOjEsbnVtVGVtcG9yYWxMYXllcnM6MX0sZS5vcHRpbWl6YXRpb25Nb2RlLGEpO3JldHVybiBpLm9uU3VjY2VzcyhbbC5nZXRUcmFja0lkKCksdS5nZXRUcmFja0lkKCldKSxfLmluZm8oXCJjcmVhdGUgY2FtZXJhIHZpZGVvIHRyYWNrKFwiLmNvbmNhdChhLFwiKSBhbmQgbWljcm9waG9uZSBhdWRpbyB0cmFjayhcIikuY29uY2F0KHMsXCIpIHN1Y2Nlc3NcIikpLFtsLHVdfSxjcmVhdGVNaWNyb3Bob25lQXVkaW9UcmFjazphc3luYyBmdW5jdGlvbigpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dm9pZCAwP2FyZ3VtZW50c1swXTp7fSxlPVgucmVwb3J0QXBpSW52b2tlKG51bGwse3RhZzpadC5UUkFDRVIsbmFtZTpUZS5DUkVBVEVfTUlDX0FVRElPX1RSQUNLLG9wdGlvbnM6W3RdfSksbj1mQyh0KSxpPVV0KDgsXCJ0cmFjay1taWMtXCIpLHI9bnVsbDtfLmluZm8oXCJzdGFydCBjcmVhdGUgbWljcm9waG9uZSBhdWRpbyB0cmFjayB3aXRoIGNvbmZpZ1wiLEpTT04uc3RyaW5naWZ5KHQpLFwidHJhY2tJZFwiLGkpO3RyeXtyPShhd2FpdCBGbih7YXVkaW86bn0saSkpLmdldEF1ZGlvVHJhY2tzKClbMF18fG51bGw7fWNhdGNoKHMpe3Rocm93IGUub25FcnJvcihzKSxzfWlmKCFyKXtsZXQgcz1uZXcgTihSLlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IGZpbmQgdHJhY2sgaW4gbWVkaWEgc3RyZWFtXCIpO3JldHVybiBlLm9uRXJyb3Iocykscy50aHJvdyhfKX1sZXQgbz1uZXcgb3Uocix0LG4saSk7cmV0dXJuIGUub25TdWNjZXNzKG8uZ2V0VHJhY2tJZCgpKSxfLmluZm8oXCJjcmVhdGUgbWljcm9waG9uZSBhdWRpbyB0cmFjayBzdWNjZXNzLCB0cmFja0lkOlwiLGkpLG99LGNyZWF0ZUN1c3RvbUF1ZGlvVHJhY2s6ZnVuY3Rpb24odCl7bGV0IGU9WC5yZXBvcnRBcGlJbnZva2UobnVsbCx7dGFnOlp0LlRSQUNFUixuYW1lOlRlLkNSRUFURV9DVVNUT01fQVVESU9fVFJBQ0ssb3B0aW9uczpbdF19KSxuPW5ldyBRdCh0Lm1lZGlhU3RyZWFtVHJhY2ssdC5lbmNvZGVyQ29uZmlnP0psKHQuZW5jb2RlckNvbmZpZyk6e30sVXQoOCxcInRyYWNrLWN1cy1cIiksITEpO3JldHVybiBfLmluZm8oXCJjcmVhdGUgY3VzdG9tIGF1ZGlvIHRyYWNrIHN1Y2Nlc3Mgd2l0aCBjb25maWdcIix0LFwidHJhY2tJZFwiLG4uZ2V0VHJhY2tJZCgpKSxlLm9uU3VjY2VzcyhuLmdldFRyYWNrSWQoKSksbn0sY3JlYXRlQnVmZmVyU291cmNlQXVkaW9UcmFjazphc3luYyBmdW5jdGlvbih0KXt2YXIgZTtsZXR7Y2FjaGVPbmxpbmVGaWxlOm4sZW5jb2RlckNvbmZpZzppfT10LHtzb3VyY2U6cn09dCxvPXtzb3VyY2U6ciBpbnN0YW5jZW9mIEF1ZGlvQnVmZmVyP1wiQXVkaW9CdWZmZXJcIjpyIGluc3RhbmNlb2YgRmlsZT8oZT1GaWxlLm5hbWUpIT09bnVsbCYmZSE9PXZvaWQgMD9lOlwiRmlsZVwiOnIsY2FjaGVPbmxpbmVGaWxlOm4sZW5jb2RlckNvbmZpZzppfSxzPVgucmVwb3J0QXBpSW52b2tlKG51bGwse3RhZzpadC5UUkFDRVIsbmFtZTpUZS5DUkVBVEVfQlVGRkVSX0FVRElPX1RSQUNLLG9wdGlvbnM6W29dfSk7aWYodihcIkRJU0FCTEVfV0VCQVVESU9cIikpdGhyb3cgbmV3IE4oUi5OT1RfU1VQUE9SVEVELFwiY2FuIG5vdCBjcmVhdGUgQnVmZmVyU291cmNlQXVkaW9UcmFjayB3aGVuIFdlYkF1ZGlvIGRpc2FibGVkXCIpO2xldCBhPVV0KDgsXCJ0cmFjay1idWYtXCIpO18uaW5mbyhcInN0YXJ0IGNyZWF0ZSBidWZmZXIgc291cmNlIGF1ZGlvIHRyYWNrIHdpdGggY29uZmlnXCIsSlNPTi5zdHJpbmdpZnkobyksXCJ0cmFja0lkXCIsYSk7bGV0IGM9cjtpZighKHIgaW5zdGFuY2VvZiBBdWRpb0J1ZmZlcikpdHJ5e3I9YXdhaXQgYXN5bmMgZnVuY3Rpb24odSxoKXtsZXQgcD1udWxsO2lmKHR5cGVvZiB1PT1cInN0cmluZ1wiKXtsZXQgRT1lSS5nZXQodSk7aWYoRSlyZXR1cm4gXy5kZWJ1ZyhcInVzZSBjYWNoZWQgYXVkaW8gcmVzb3VyY2U6IFwiLHUpLEU7dHJ5e3A9KGF3YWl0IFdpKCgpPT5tbi5nZXQodSx7cmVzcG9uc2VUeXBlOlwiYXJyYXlidWZmZXJcIn0pLHZvaWQgMCx2b2lkIDAse21heFJldHJ5Q291bnQ6M30pKS5kYXRhO31jYXRjaChmKXt0aHJvdyBuZXcgTihSLkZFVENIX0FVRElPX0ZJTEVfRkFJTEVELGYudG9TdHJpbmcoKSl9fWVsc2UgcD1hd2FpdCBuZXcgaigoZixTKT0+e2xldCBDPW5ldyBGaWxlUmVhZGVyO0Mub25sb2FkPUE9PntBLnRhcmdldD9mKEEudGFyZ2V0LnJlc3VsdCk6UyhuZXcgTihSLlJFQURfTE9DQUxfQVVESU9fRklMRV9FUlJPUikpO30sQy5vbmVycm9yPSgpPT57UyhuZXcgTihSLlJFQURfTE9DQUxfQVVESU9fRklMRV9FUlJPUikpO30sQy5yZWFkQXNBcnJheUJ1ZmZlcih1KTt9KTtsZXQgZz1hd2FpdCBmdW5jdGlvbihFKXtsZXQgZj1nYSgpO3JldHVybiBuZXcgaigoUyxDKT0+e2YuZGVjb2RlQXVkaW9EYXRhKEUsQT0+e1MoQSk7fSxBPT57QyhuZXcgTihSLkRFQ09ERV9BVURJT19GSUxFX0ZBSUxFRCxBLnRvU3RyaW5nKCkpKTt9KTt9KX0ocCk7cmV0dXJuIHR5cGVvZiB1PT1cInN0cmluZ1wiJiZoJiZlSS5zZXQodSxnKSxnfShyLG4pO31jYXRjaCh1KXtyZXR1cm4gcy5vbkVycm9yKHUpLHUudGhyb3coXyl9bGV0IGQ9bmV3IEpFKHIpLGw9bmV3IFZHKGMsZCxpP0psKGkpOnt9LGEpO3JldHVybiBfLmluZm8oXCJjcmVhdGUgYnVmZmVyIHNvdXJjZSBhdWRpbyB0cmFjayBzdWNjZXNzLCB0cmFja0lkOlwiLGEpLHMub25TdWNjZXNzKGwuZ2V0VHJhY2tJZCgpKSxsfSxzZXRBcHBUeXBlOmZ1bmN0aW9uKHQpe2lmKF8uZGVidWcoXCJzZXRBcHBUeXBlOiBcIi5jb25jYXQodCkpLCEoTnVtYmVyLmlzSW50ZWdlcih0KSYmdD49MCkpdGhyb3cgXy5kZWJ1ZyhcIkludmFsaWQgYXBwVHlwZVwiKSxuZXcgTyhSLklOVkFMSURfUEFSQU1TLFwiaW52YWxpZCBhcHAgdHlwZVwiLHQpO090KFwiQVBQX1RZUEVcIixNYXRoLmZsb29yKHQpKTt9LHNldExvZ0xldmVsOmZ1bmN0aW9uKHQpe18uc2V0TG9nTGV2ZWwodCk7fSxlbmFibGVMb2dVcGxvYWQ6ZnVuY3Rpb24oKXt2KFwiVVNFX05FV19MT0dcIik/T3QoXCJVUExPQURfTE9HXCIsITApOl8uZW5hYmxlTG9nVXBsb2FkKCk7fSxkaXNhYmxlTG9nVXBsb2FkOmZ1bmN0aW9uKCl7dihcIlVTRV9ORVdfTE9HXCIpP090KFwiVVBMT0FEX0xPR1wiLCExKTpfLmRpc2FibGVMb2dVcGxvYWQoKTt9LGNyZWF0ZUNoYW5uZWxNZWRpYVJlbGF5Q29uZmlndXJhdGlvbjpmdW5jdGlvbigpe3JldHVybiBuZXcgRXV9LGNoZWNrQXVkaW9UcmFja0lzQWN0aXZlOmFzeW5jIGZ1bmN0aW9uKHQpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTo1ZTMsbj1YLnJlcG9ydEFwaUludm9rZShudWxsLHt0YWc6WnQuVFJBQ0VSLG5hbWU6VGUuQ0hFQ0tfQVVESU9fVFJBQ0tfSVNfQUNUSVZFLG9wdGlvbnM6W2VdfSk7aWYoISh0IGluc3RhbmNlb2YgUXR8fHQgaW5zdGFuY2VvZiBLcykpe2xldCBjPW5ldyBPKFIuSU5WQUxJRF9UUkFDSyxcInRoZSBwYXJhbWV0ZXIgaXMgbm90IGEgYXVkaW8gdHJhY2tcIik7cmV0dXJuIG4ub25FcnJvcihjKSxjLnRocm93KCl9ZSYmZTwxZTMmJihlPTFlMyk7bGV0IGk9dCBpbnN0YW5jZW9mIFF0P3QuZ2V0VHJhY2tMYWJlbCgpOlwicmVtb3RlX3RyYWNrXCIscj10LmdldFZvbHVtZUxldmVsKCksbz1yLHM9cixhPURhdGUubm93KCk7cmV0dXJuIG5ldyBqKGM9PntsZXQgZD1zZXRJbnRlcnZhbCgoKT0+e2xldCBsPXQuZ2V0Vm9sdW1lTGV2ZWwoKTtvPWw+bz9sOm8scz1sPHM/bDpzO2xldCB1PW8tcz4xZS00LGg9RGF0ZS5ub3coKS1hO2lmKHV8fGg+ZSl7Y2xlYXJJbnRlcnZhbChkKTtsZXQgcD11LGc9e2R1cmF0aW9uOmgsZGV2aWNlTGFiZWw6aSxtYXhWb2x1bWVMZXZlbDpvLHJlc3VsdDpwfTtfLmluZm8oXCJbdHJhY2stXCIuY29uY2F0KHQuZ2V0VHJhY2tJZCgpLFwiXSBjaGVjayBhdWRpbyB0cmFjayBhY3RpdmUgY29tcGxldGVkLiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KGcpKSksbi5vblN1Y2Nlc3MoZyksYyhwKTt9fSwyMDApO30pfSxjaGVja1ZpZGVvVHJhY2tJc0FjdGl2ZTphc3luYyBmdW5jdGlvbih0KXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06NWUzLG49WC5yZXBvcnRBcGlJbnZva2UobnVsbCx7dGFnOlp0LlRSQUNFUixuYW1lOlRlLkNIRUNLX1ZJREVPX1RSQUNLX0lTX0FDVElWRSxvcHRpb25zOltlXX0pO2lmKCEodCBpbnN0YW5jZW9mIEZ0fHx0IGluc3RhbmNlb2YgSHMpKXtsZXQgdT1uZXcgTyhSLklOVkFMSURfVFJBQ0ssXCJ0aGUgcGFyYW1ldGVyIGlzIG5vdCBhIHZpZGVvIHRyYWNrXCIpO3JldHVybiBuLm9uRXJyb3IodSksdS50aHJvdygpfWUmJmU8MWUzJiYoZT0xZTMpO2xldCBpPXQgaW5zdGFuY2VvZiBGdD90LmdldFRyYWNrTGFiZWwoKTpcInJlbW90ZV90cmFja1wiLHI9dC5nZXRNZWRpYVN0cmVhbVRyYWNrKCEwKSxvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKTtvLnN0eWxlLndpZHRoPVwiMXB4XCIsby5zdHlsZS5oZWlnaHQ9XCIxcHhcIixvLnNldEF0dHJpYnV0ZShcIm11dGVkXCIsXCJcIiksby5tdXRlZD0hMCxvLnNldEF0dHJpYnV0ZShcInBsYXlzaW5saW5lXCIsXCJcIiksby5jb250cm9scz0hMSwoamUoKXx8R2woKSkmJihvLnN0eWxlLm9wYWNpdHk9XCIwLjAxXCIsby5zdHlsZS5wb3NpdGlvbj1cImZpeGVkXCIsby5zdHlsZS5sZWZ0PVwiMFwiLG8uc3R5bGUudG9wPVwiMFwiLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobykpLG8uc3JjT2JqZWN0PW5ldyBNZWRpYVN0cmVhbShbcl0pLG8ucGxheSgpO2xldCBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7cy53aWR0aD0xNjAscy5oZWlnaHQ9MTIwO2xldCBhPTAsYz0wO3RyeXtsZXQgdT1EYXRlLm5vdygpO2E9YXdhaXQgZnVuY3Rpb24oaCxwLGcsRSl7bGV0IGYsUz0wLEM9bnVsbDtyZXR1cm4gbmV3IGooKEEsYik9PntmdW5jdGlvbiB3KCl7Uz5FJiZmJiYoZigpLEEoUykpO2xldCBEPWcuZ2V0Q29udGV4dChcIjJkXCIpO2lmKCFEKXtsZXQgVj1uZXcgTyhSLlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IGdldCBjYW52YXMgMmQgY29udGV4dC5cIik7cmV0dXJuIF8uZXJyb3IoVi50b1N0cmluZygpKSx2b2lkIGIoVil9RC5kcmF3SW1hZ2UoaCwwLDAsMTYwLDEyMCk7bGV0IGs9RC5nZXRJbWFnZURhdGEoMCwwLGcud2lkdGgsZy5oZWlnaHQpLEI9TWF0aC5mbG9vcihrLmRhdGEubGVuZ3RoLzMpO2lmKEMpe2ZvcihsZXQgVj0wO1Y8QjtWKz0zKWlmKGsuZGF0YVtWXSE9PUNbVl0pcmV0dXJuIFMrPTEsdm9pZChDPWsuZGF0YSk7Qz1rLmRhdGE7fWVsc2UgQz1rLmRhdGE7fXNldFRpbWVvdXQoKCk9PntmJiYoZigpLEEoUykpO30scCksZj1SZigoKT0+e3coKTt9LDMwKTt9KX0obyxlLHMsNCksYz1EYXRlLm5vdygpLXU7fWNhdGNoKHUpe3Rocm93IG4ub25FcnJvcih1KSx1fWdXPT09SXQuU0FGQVJJJiYoby5wYXVzZSgpLG8ucmVtb3ZlKCkpLG8uc3JjT2JqZWN0PW51bGw7bGV0IGQ9YT40LGw9e2R1cmF0aW9uOmMsY2hhbmdlZFBpY051bTphLGRldmljZUxhYmVsOmkscmVzdWx0OmR9O3JldHVybiBfLmluZm8oXCJbdHJhY2stXCIuY29uY2F0KHQuZ2V0VHJhY2tJZCgpLFwiXSBjaGVjayB2aWRlbyB0cmFjayBhY3RpdmUgY29tcGxldGVkLiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KGwpKSksbi5vblN1Y2Nlc3MobCksZH0sc2V0QXJlYTpBZixhdWRpb0VsZW1lbnRQbGF5Q2VudGVyOkVuLHJlc3VtZUF1ZGlvQ29udGV4dDpmdW5jdGlvbigpe0VuLmF1dG9SZXN1bWVBZnRlckludGVycnVwdGlvbighMCk7fSxwcm9jZXNzRXh0ZXJuYWxNZWRpYUFFQzpmdW5jdGlvbih0KXtNVy5wcm9jZXNzRXh0ZXJuYWxNZWRpYUFFQyh0KTt9LHJlZ2lzdGVyRXh0ZW5zaW9uczpmdW5jdGlvbih0KXtsZXQgZT12KFwiUExVR0lOX0lORk9cIil8fFtdO3QuZm9yRWFjaChuPT57XCJuYW1lXCJpbiBuJiYhVyhlKS5jYWxsKGUsbi5uYW1lKSYmZS5wdXNoKG4ubmFtZSk7bGV0IGk9bjtpLl9fcmVnaXN0ZXJlZF9fPSEwLGkubG9nZ2VyLmhvb2tMb2c9Xy5leHRMb2csaS5yZXBvcnRlci5ob29rQXBpSW52b2tlPVguZXh0QXBpSW52b2tlLGkucGFyYW1ldGVycyYmT2JqZWN0LmtleXMoaS5wYXJhbWV0ZXJzKS5mb3JFYWNoKHI9PntpLnBhcmFtZXRlcnNbcl09dihyKTt9KTt9KSxDQShcIlBMVUdJTl9JTkZPXCIsZSk7fSxDaGFubmVsTWVkaWFSZWxheUVycm9yOnlzLENoYW5uZWxNZWRpYVJlbGF5RXZlbnQ6SXIsQ2hhbm5lbE1lZGlhUmVsYXlTdGF0ZTpTbixSZW1vdGVTdHJlYW1GYWxsYmFja1R5cGU6UEcsUmVtb3RlU3RyZWFtVHlwZTpERyxDb25uZWN0aW9uRGlzY29ubmVjdGVkUmVhc29uOkF0LEF1ZGllbmNlTGF0ZW5jeUxldmVsVHlwZTpFQixBUkVBUzpTdCxwcmVsb2FkOmFzeW5jIGZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiB5MCh0LGUsbixpKX19KTtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhNdCx7b25BdWRpb0F1dG9wbGF5RmFpbGVkOntnZXQ6KCk9PlVuLm9uQXVkaW9BdXRvcGxheUZhaWxlZCxzZXQ6dD0+e1VuLm9uQXVkaW9BdXRvcGxheUZhaWxlZD10O319LG9uQXV0b3BsYXlGYWlsZWQ6e2dldDooKT0+VW4ub25BdXRvcGxheUZhaWxlZCxzZXQ6dD0+e1VuLm9uQXV0b3BsYXlGYWlsZWQ9dDt9fSxfb25TZWN1cml0eVBvbGljeVZpb2xhdGlvbjp7dmFsdWU6dm9pZCAwLHdyaXRhYmxlOiEwfSxfY3NwRXZlbnRIYW5kbGVyUG9pbnRlcjp7dmFsdWU6dm9pZCAwLHdyaXRhYmxlOiEwfSxvblNlY3VyaXR5UG9saWN5VmlvbGF0aW9uOntnZXQ6KCk9Pk10Ll9vblNlY3VyaXR5UG9saWN5VmlvbGF0aW9uLHNldCh0KXtNdC5fb25TZWN1cml0eVBvbGljeVZpb2xhdGlvbj10LEwwKHQpO319LF9fQ0xJRU5UX0xJU1RfXzp7Z2V0OigpPT52KFwiU0hPV19HTE9CQUxfQ0xJRU5UX0xJU1RcIik/SnI6W119fSksR24ub24oQm8uQ0FNRVJBX0RFVklDRV9DSEFOR0VELHQ9PntfLmluZm8oXCJjYW1lcmEgZGV2aWNlIGNoYW5nZWRcIixKU09OLnN0cmluZ2lmeSh0KSksTXQub25DYW1lcmFDaGFuZ2VkJiZNdC5vbkNhbWVyYUNoYW5nZWQodCksTXQuc2FmZUVtaXQobnIuQ0FNRVJBX0NIQU5HRUQsdCk7fSksR24ub24oQm8uUkVDT1JESU5HX0RFVklDRV9DSEFOR0VELHQ9PntfLmluZm8oXCJtaWNyb3Bob25lIGRldmljZSBjaGFuZ2VkXCIsSlNPTi5zdHJpbmdpZnkodCkpLE10Lm9uTWljcm9waG9uZUNoYW5nZWQmJk10Lm9uTWljcm9waG9uZUNoYW5nZWQodCksTXQuc2FmZUVtaXQobnIuTUlDUk9QSE9ORV9DSEFOR0VELHQpO30pLEduLm9uKEJvLlBMQVlPVVRfREVWSUNFX0NIQU5HRUQsdD0+e18uZGVidWcoXCJwbGF5b3V0IGRldmljZSBjaGFuZ2VkXCIsSlNPTi5zdHJpbmdpZnkodCkpLE10Lm9uUGxheWJhY2tEZXZpY2VDaGFuZ2VkJiZNdC5vblBsYXliYWNrRGV2aWNlQ2hhbmdlZCh0KSxNdC5zYWZlRW1pdChuci5QTEFZQkFDS19ERVZJQ0VfQ0hBTkdFRCx0KTt9KSxFbi5vbkF1dG9wbGF5RmFpbGVkPSgpPT57Xy5pbmZvKFwiZGV0ZWN0IGF1ZGlvIGVsZW1lbnQgYXV0b3BsYXkgZmFpbGVkXCIpLFVuLm9uQXVkaW9BdXRvcGxheUZhaWxlZCYmVW4ub25BdWRpb0F1dG9wbGF5RmFpbGVkKCk7fSx3dC5vbihcImF1dG9wbGF5LWZhaWxlZFwiLCgpPT57Xy5pbmZvKFwiZGV0ZWN0IHdlYmF1ZGlvIGF1dG9wbGF5IGZhaWxlZFwiKSxVbi5vbkF1ZGlvQXV0b3BsYXlGYWlsZWQmJlVuLm9uQXVkaW9BdXRvcGxheUZhaWxlZCgpLE10LnNhZmVFbWl0KG5yLkFVVE9QTEFZX0ZBSUxFRCk7fSksd3Qub24oa2UuU1RBVEVfQ0hBTkdFLCh0LGUpPT57Xy5pbmZvKFwiYXVkaW8gY29udGV4dCBzdGF0ZSBjaGFuZ2VkOiBcIi5jb25jYXQoZSxcIiA9PiBcIikuY29uY2F0KHQpKSxNdC5vbkF1ZGlvQ29udGV4dFN0YXRlQ2hhbmdlZCYmTXQub25BdWRpb0NvbnRleHRTdGF0ZUNoYW5nZWQodCxlKSxNdC5zYWZlRW1pdChuci5BVURJT19DT05URVhUX1NUQVRFX0NIQU5HRUQsdCxlKTt9KSxoZS5vbihrcy5ORVRXT1JLX1NUQVRFX0NIQU5HRSwodCxlKT0+e18uaW5mbyhcIltuZXR3b3JrLWluZGljYXRvcl0gbmV0d29yayBzdGF0ZSBjaGFuZ2VkLCBcIi5jb25jYXQoZSxcIiA9PiBcIikuY29uY2F0KHQpKTt9KSx3aW5kb3cmJih3aW5kb3cuX19BUlRDX189TXQpO2Z1bmN0aW9uIEFlKHQsZSxuKXtyZXR1cm4gdC5vbihlLG4pLCgpPT50Lm9mZihlLG4pfWZ1bmN0aW9uIGlIKHQpe3RyeXtyZXR1cm4gdCgpfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoZSk7fX1mdW5jdGlvbiBLbih0KXtyZXR1cm4gKCk9PnQuZm9yRWFjaChpSCl9ZnVuY3Rpb24gY04odCxlKXtsZXQgbj1zZXRJbnRlcnZhbCh0LGUpO3JldHVybiAoKT0+Y2xlYXJJbnRlcnZhbChuKX1mdW5jdGlvbiBTbyh0LGUpe2xldCBuPXNldFRpbWVvdXQodCxlKTtyZXR1cm4gKCk9PmNsZWFyVGltZW91dChuKX1mdW5jdGlvbiBJYSgpe2xldCB0LGUsbjtmdW5jdGlvbiBpKCl7aWYoZSl7bGV0IGQ9ZTtlPXZvaWQgMCxkKCk7fX1hc3luYyBmdW5jdGlvbiByKCl7aWYobil7bGV0IGQ9bjtuPXZvaWQgMDt0cnl7YXdhaXQgZCgpO31jYXRjaChsKXtjb25zb2xlLmVycm9yKGwpO319fWFzeW5jIGZ1bmN0aW9uIG8oZCl7dD0hMCxhd2FpdCByKCk7dHJ5e249YXdhaXQgZCgpO31jYXRjaChsKXtjb25zb2xlLmVycm9yKGwpO310PSExLGkoKTt9YXN5bmMgZnVuY3Rpb24gcygpe3Q9ITAsYXdhaXQgcigpLHQ9ITEsaSgpO31mdW5jdGlvbiBhKGQpe3Q/ZT0oKT0+byhkKTpvKGQpO31mdW5jdGlvbiBjKCl7dD9lPXM6cygpO31yZXR1cm4ge3J1bjphLGRpc3Bvc2U6Y319dmFyIHZhPXR5cGVvZiBkb2N1bWVudDxcInVcIj91c2VMYXlvdXRFZmZlY3Q6dXNlRWZmZWN0O2Z1bmN0aW9uIGFIKHQpe3JldHVybiB0IT1udWxsJiZ0eXBlb2YgdC50aGVuPT1cImZ1bmN0aW9uXCJ9ZnVuY3Rpb24gUG4oKXtsZXQgdD11c2VSZWYoITEpO3JldHVybiB1c2VFZmZlY3QoKCk9Pih0LmN1cnJlbnQ9ITEsKCk9Pnt0LmN1cnJlbnQ9ITA7fSksW10pLHR9ZnVuY3Rpb24gY0goKXtsZXQgdD1QbigpO2Z1bmN0aW9uIGUobixpKXtyZXR1cm4gbmV3IFByb21pc2UoYXN5bmMocixvKT0+e3RyeXtsZXQgcz1hd2FpdCBuO3QuY3VycmVudHx8cihzKTt9Y2F0Y2gocyl7dC5jdXJyZW50P2k/aShzKTpwcm9jZXNzLmVudi5OT0RFX0VOVj09PVwiZGV2ZWxvcG1lbnRcIiYmY29uc29sZS5lcnJvcihcIkFuIGVycm9yIG9jY3VycyBmcm9tIGEgcHJvbWlzZSBhZnRlciBhIGNvbXBvbmVudCBpcyB1bm1vdW50ZWRcIixzKTpvKHMpO319KX1yZXR1cm4gdXNlQ2FsbGJhY2soZSxbdF0pfWZ1bmN0aW9uIGloKHQpe2xldCBlPWNIKCksW24saV09dXNlU3RhdGUoKTtyZXR1cm4gdmEoKCk9PnthSCh0KT9lKHQpLnRoZW4oaSk6aSh0KTt9LFt0LGVdKSxufWZ1bmN0aW9uIFluKHQsZSl7bGV0IG49dXNlUmVmKCk7dXNlRWZmZWN0KCgpPT57bGV0e3J1bjppLGRpc3Bvc2U6cn09bi5jdXJyZW50fHw9SWEoKTtyZXR1cm4gaSh0KSxyfSxlKTt9ZnVuY3Rpb24gbE4odCxlKXtsZXQgbj10LnNwbGl0KFwiLlwiKSxpPWUuc3BsaXQoXCIuXCIpLHI9TWF0aC5tYXgobi5sZW5ndGgsaS5sZW5ndGgpO2ZvcihsZXQgbz0wO288cjtvKyspe2xldCBzPXBhcnNlSW50KG5bb118fFwiMFwiKSxhPXBhcnNlSW50KGlbb118fFwiMFwiKTtpZihzPmEpcmV0dXJuIDE7aWYoczxhKXJldHVybiAtMX1yZXR1cm4gMH1mdW5jdGlvbiBqNSh0LGUsbil7bGV0IGk9dXNlUmVmKG4pO3ZhKCgpPT57aS5jdXJyZW50PW47fSxbbl0pLHVzZUVmZmVjdCgoKT0+e2lmKHQpcmV0dXJuIEFlKHQsZSwoLi4ucik9PntpLmN1cnJlbnQmJmkuY3VycmVudCguLi5yKTt9KX0sW2UsdF0pO31mdW5jdGlvbiBHNSh0LGUsbil7bGV0IGk9dXNlUmVmKG4pO3ZhKCgpPT57aS5jdXJyZW50PW47fSxbbl0pLHVzZUVmZmVjdCgoKT0+e2lmKHQpcmV0dXJuIEFlKHQsZSwoLi4ucik9PntpLmN1cnJlbnQmJmkuY3VycmVudCguLi5yKTt9KX0sW2UsdF0pO312YXIgcE49Y3JlYXRlQ29udGV4dChudWxsKTtmdW5jdGlvbiBLNSh7Y2xpZW50OnQsY2hpbGRyZW46ZX0pe3JldHVybiBqc3gocE4uUHJvdmlkZXIse3ZhbHVlOnQsY2hpbGRyZW46ZX0pfWZ1bmN0aW9uIHVIKHQpe2xldCBlPXVzZUNvbnRleHQocE4pO3JldHVybiB0fHxlfWZ1bmN0aW9uIFplKHQpe2xldCBlPXVIKHQpO2lmKCFlKXRocm93IG5ldyBFcnJvcihcIkFnb3JhIFJUQyBjbGllbnQgbm90IGZvdW5kLiBTaG91bGQgYmUgd3JhcHBlZCBpbiA8QWdvcmFSVENQcm92aWRlciB2YWx1ZT17Y2xpZW50fSAvPlwiKTtyZXR1cm4gZX12YXIgX049Y3JlYXRlQ29udGV4dChudWxsKTtmdW5jdGlvbiBKNSh7Y2xpZW50OnQsY2hpbGRyZW46ZX0pe3JldHVybiBqc3goX04uUHJvdmlkZXIse3ZhbHVlOnQsY2hpbGRyZW46ZX0pfWZ1bmN0aW9uIFg1KHQpe2xldCBlPXVzZUNvbnRleHQoX04pO3JldHVybiB0fHxlfWZ1bmN0aW9uIGk0KHQpe2xldCBlPVplKHQpLFtuLGldPXVzZVN0YXRlKGU/ZS5jb25uZWN0aW9uU3RhdGU6XCJESVNDT05ORUNURURcIik7cmV0dXJuIHVzZUVmZmVjdCgoKT0+e2lmKGUpe2koZS5jb25uZWN0aW9uU3RhdGUpO2xldCByO3JldHVybiBLbihbQWUoZSxcImNvbm5lY3Rpb24tc3RhdGUtY2hhbmdlXCIsbz0+e3I/LigpLG89PT1cIkNPTk5FQ1RFRFwiP3I9U28oKCk9PmkobyksMCk6aShvKTt9KSwoKT0+cj8uKCldKX1lbHNlIGkoXCJESVNDT05ORUNURURcIik7fSxbZV0pLG59ZnVuY3Rpb24gSW4odCl7bGV0IGU9WmUodCksW24saV09dXNlU3RhdGUoZT9lLmNvbm5lY3Rpb25TdGF0ZT09PVwiQ09OTkVDVEVEXCI6ITEpO3JldHVybiB1c2VFZmZlY3QoKCk9PntpZihlKXtpKGUuY29ubmVjdGlvblN0YXRlPT09XCJDT05ORUNURURcIik7bGV0IHI7cmV0dXJuIEtuKFtBZShlLFwiY29ubmVjdGlvbi1zdGF0ZS1jaGFuZ2VcIixvPT57cj8uKCkscj1TbygoKT0+aShvPT09XCJDT05ORUNURURcIiksMCk7fSksKCk9PnI/LigpXSl9ZWxzZSBpKCExKTt9LFtlXSksbn1mdW5jdGlvbiBfNCh0KXtsZXQgZT1aZSh0KSxbbixpXT11c2VTdGF0ZShlPy51aWQpO3JldHVybiB1c2VFZmZlY3QoKCk9PntpZihlKXJldHVybiBBZShlLFwiY29ubmVjdGlvbi1zdGF0ZS1jaGFuZ2VcIixyPT57aWYocj09PVwiQ09OTkVDVEVEXCIpcmV0dXJuIFNvKCgpPT5pKGUudWlkKSwwKTtyPT09XCJESVNDT05ORUNURURcIiYmaSh2b2lkIDApO30pfSxbZV0pLG59dmFyIE9lPWNsYXNzIGV4dGVuZHMgRXJyb3J7cnRjTWV0aG9kO3J0Y0Vycm9yO25hbWU9XCJBZ29yYVJUQ1JlYWN0RXhjZXB0aW9uXCI7Y29uc3RydWN0b3IoZSxuKXt0eXBlb2Ygbj09XCJzdHJpbmdcIj9zdXBlcihuKTpzdXBlcihuLm1lc3NhZ2UpLHRoaXMucnRjTWV0aG9kPWUsdGhpcy5ydGNFcnJvcj1uO31sb2coZSl7Y29uc29sZVtlXSh0aGlzKTt9fTtmdW5jdGlvbiBJNCh0LGU9ITAsbil7bGV0IGk9WmUobikscj1JbihuKSxvPXVzZVJlZigpLFtzLGFdPXVzZVN0YXRlKCExKSxbYyxkXT11c2VTdGF0ZSgwKSxbbCx1XT11c2VTdGF0ZShudWxsKSxoPVBuKCk7cmV0dXJuIFluKGFzeW5jKCk9PntpZihoLmN1cnJlbnR8fCh1KG51bGwpLGQoMCksYSghMSkpLGUmJmkpe3RyeXtoLmN1cnJlbnR8fGEoITApO2xldHthcHBpZDpnLGNoYW5uZWw6RSx0b2tlbjpmLHVpZDpTfT10eXBlb2YgdD09XCJmdW5jdGlvblwiP2F3YWl0IHQoKTp0LEM9YXdhaXQgaS5qb2luKGcsRSxmLFMpO2guY3VycmVudHx8ZChDKTt9Y2F0Y2goZyl7Y29uc29sZS5lcnJvcihnKSxoLmN1cnJlbnR8fHUobmV3IE9lKFwiSUFnb3JhUlRDQ2xpZW50LmpvaW5cIixnKSk7fWguY3VycmVudHx8YSghMSk7bGV0IHA9by5jdXJyZW50fHw9SWEoKTtyZXR1cm4gS24oWygpPT57cC5kaXNwb3NlKCk7fSwoKT0+e3AucnVuKCgpPT5pLnVucHVibGlzaChpLmxvY2FsVHJhY2tzKSk7fSwoKT0+e2ZvcihsZXQgZyBvZiBpLmxvY2FsVHJhY2tzKWcuaXNQbGF5aW5nJiZnLnN0b3AoKSxnLmNsb3NlKCk7cC5ydW4oKCk9PmkubGVhdmUoKSk7fV0pfX0sW2Usbl0pLHtkYXRhOmMsaXNMb2FkaW5nOnMsaXNDb25uZWN0ZWQ6cixlcnJvcjpsfX12YXIgRU49KCk9Pih7dXBsaW5rTmV0d29ya1F1YWxpdHk6MCxkb3dubGlua05ldHdvcmtRdWFsaXR5OjAsZGVsYXk6MH0pO2Z1bmN0aW9uIHc0KHQpe2xldCBlPVplKHQpLFtuLGldPXVzZVN0YXRlKEVOKTtyZXR1cm4gdXNlRWZmZWN0KCgpPT57aWYoZSlyZXR1cm4gQWUoZSxcIm5ldHdvcmstcXVhbGl0eVwiLHI9Pmkoe3VwbGlua05ldHdvcmtRdWFsaXR5OnIudXBsaW5rTmV0d29ya1F1YWxpdHksZG93bmxpbmtOZXR3b3JrUXVhbGl0eTpyLmRvd25saW5rTmV0d29ya1F1YWxpdHksZGVsYXk6ZS5nZXRSVENTdGF0cygpLlJUVD8/MH0pKTtpKEVOKCkpO30sW2VdKSxufWZ1bmN0aW9uIFU0KHQsZT0hMCxuKXtsZXQgaT1aZShuKSxyPUluKG4pLG89dXNlUmVmKFtdKSxbcyxhXT11c2VTdGF0ZSghMSksW2MsZF09dXNlU3RhdGUobnVsbCksbD1QbigpO3JldHVybiBZbihhc3luYygpPT57aWYobC5jdXJyZW50fHwoYSghMSksZChudWxsKSksIWl8fCFyfHwhZSlyZXR1cm47bGV0IHU9dC5maWx0ZXIoQm9vbGVhbiksaD1FPT57bGV0IGY9bE4oTXQuVkVSU0lPTixcIjQuMTguMlwiKT49MDtyZXR1cm4gZnx8bmV3IE9lKFwidXNlUHVibGlzaFwiLFwicGxlYXNlIGNoZWNrIHlvdXIgYWdvcmEtcnRjLXNkay1uZyB2ZXJzaW9uIGluIHBhY2thZ2UuanNvbiwgaXQncyByZWNvbW1lbmQgdXBncmFkZSB0byA+PSA0LjE4LjJcIikubG9nKFwid2FyblwiKSxmP2kubW9kZSE9PVwibGl2ZVwifHxpLnJvbGUhPT1cImF1ZGllbmNlXCI6ITB9LHA9RT0+by5jdXJyZW50LnNvbWUoZj0+ZiYmZi5nZXRUcmFja0lkKCk9PT1FLmdldFRyYWNrSWQoKSksZz1FPT5oKCkmJkUuZW5hYmxlZCYmZSYmIXAoRSk7Zm9yKGxldCBFPTA7RTx1Lmxlbmd0aDtFKyspe2xldCBmPXVbRV07aWYoZiYmZyhmKSl7YXdhaXQgaS51bnB1Ymxpc2goby5jdXJyZW50LmZpbHRlcihTPT5TPy50cmFja01lZGlhVHlwZT09PWYudHJhY2tNZWRpYVR5cGUpKTt0cnl7bC5jdXJyZW50fHxhKCEwKSxhd2FpdCBpLnB1Ymxpc2goZik7fWNhdGNoKFMpe2NvbnNvbGUuZXJyb3IoUyksbC5jdXJyZW50fHxkKG5ldyBPZShcIklBZ29yYVJUQ0NsaWVudC5wdWJsaXNoXCIsUykpO31sLmN1cnJlbnR8fGEoITEpO319by5jdXJyZW50PXU7fSxbcixlLGksdF0pLHtpc0xvYWRpbmc6cyxlcnJvcjpjfX1mdW5jdGlvbiBCNCh0KXtsZXRbZSxuXT11c2VTdGF0ZSgwKTtyZXR1cm4gdXNlRWZmZWN0KCgpPT57aWYodClyZXR1cm4gY04oKCk9PntuKHQuZ2V0Vm9sdW1lTGV2ZWwoKSk7fSwxZTMpfSxbdF0pLGV9ZnVuY3Rpb24gcTQodD0hMCxlPXtBTlM6ITAsQUVDOiEwfSxuKXtsZXQgaT1JbihuKSxbcixvXT11c2VTdGF0ZShudWxsKSxbcyxhXT11c2VTdGF0ZSghMSksW2MsZF09dXNlU3RhdGUobnVsbCksbD1QbigpO3JldHVybiBZbihhc3luYygpPT57aWYobC5jdXJyZW50fHwoYSghMSksZChudWxsKSksaSYmdCYmIXIpe3RyeXtsLmN1cnJlbnR8fGEoITApO2xldCB1PWF3YWl0IE10LmNyZWF0ZU1pY3JvcGhvbmVBdWRpb1RyYWNrKGUpO2wuY3VycmVudHx8byh1KTt9Y2F0Y2godSl7Y29uc29sZS5lcnJvcih1KSxsLmN1cnJlbnR8fGQobmV3IE9lKFwiSUFnb3JhUlRDLmNyZWF0ZU1pY3JvcGhvbmVBdWRpb1RyYWNrXCIsdSkpO31sLmN1cnJlbnR8fGEoITEpO30haSYmIWwuY3VycmVudCYmbyhudWxsKTt9LFtpLHRdKSx7bG9jYWxNaWNyb3Bob25lVHJhY2s6cixpc0xvYWRpbmc6cyxlcnJvcjpjfX1mdW5jdGlvbiB0Syh0PSEwLGUsbil7bGV0IGk9SW4obiksW3Isb109dXNlU3RhdGUobnVsbCksW3MsYV09dXNlU3RhdGUoITEpLFtjLGRdPXVzZVN0YXRlKG51bGwpLGw9UG4oKTtyZXR1cm4gWW4oYXN5bmMoKT0+e2lmKGwuY3VycmVudHx8KGEoITEpLGQobnVsbCkpLGkmJnQmJiFyKXt0cnl7bC5jdXJyZW50fHxhKCEwKTtsZXQgdT1hd2FpdCBNdC5jcmVhdGVDYW1lcmFWaWRlb1RyYWNrKGUpO2wuY3VycmVudHx8byh1KTt9Y2F0Y2godSl7Y29uc29sZS5lcnJvcih1KSxsLmN1cnJlbnR8fGQobmV3IE9lKFwiSUFnb3JhUlRDLmNyZWF0ZUNhbWVyYVZpZGVvVHJhY2tcIix1KSk7fWwuY3VycmVudHx8YSghMSk7fSFpJiYhbC5jdXJyZW50JiZvKG51bGwpO30sW2ksdF0pLHtsb2NhbENhbWVyYVRyYWNrOnIsaXNMb2FkaW5nOnMsZXJyb3I6Y319ZnVuY3Rpb24gZEsodCxlKXtsZXQgbj1aZShlKSxbaSxyXT11c2VTdGF0ZShbXSksbz1JbigpLHM9dXNlUmVmKFtdKSxbYSxjXT11c2VTdGF0ZSghMSksW2QsbF09dXNlU3RhdGUobnVsbCksdT1QbigpO3JldHVybiBZbihhc3luYygpPT57aWYodS5jdXJyZW50fHxsKG51bGwpLCFBcnJheS5pc0FycmF5KHQpfHwhbylyZXR1cm47bGV0IGg9YXN5bmMgRT0+e2lmKCFFLmF1ZGlvVHJhY2smJnQuc29tZSgoe3VpZDpmfSk9PkUudWlkPT09Zikpe3RyeXt1LmN1cnJlbnR8fGMoITApLGF3YWl0IG4uc3Vic2NyaWJlKEUsXCJhdWRpb1wiKTt9Y2F0Y2goZil7Y29uc29sZS5lcnJvcihmKSx1LmN1cnJlbnR8fGwobmV3IE9lKFwiSUFnb3JhUlRDQ2xpZW50LnN1YnNjcmliZVwiLGYpKTt9RS5hdWRpb1RyYWNrJiYhcy5jdXJyZW50LnNvbWUoZj0+Zi5nZXRVc2VySWQoKT09PUUudWlkKSYmcy5jdXJyZW50LnB1c2goRS5hdWRpb1RyYWNrKSxzLmN1cnJlbnQ9cy5jdXJyZW50Lm1hcChmPT5FLmF1ZGlvVHJhY2smJmYuZ2V0VXNlcklkKCk9PT1FLnVpZCYmZi5nZXRUcmFja0lkKCkhPT1FLmF1ZGlvVHJhY2suZ2V0VHJhY2tJZCgpP0UuYXVkaW9UcmFjazpmKSx1LmN1cnJlbnR8fChyKFsuLi5zLmN1cnJlbnRdKSxjKCExKSk7fX0scD1hc3luYyBFPT57aWYodC5zb21lKCh7dWlkOmZ9KT0+RS51aWQ9PT1mKSl7dS5jdXJyZW50fHwocy5jdXJyZW50PXMuY3VycmVudC5maWx0ZXIoZj0+Zi5nZXRVc2VySWQoKSE9PUUudWlkKSxyKFsuLi5zLmN1cnJlbnRdKSk7dHJ5e3UuY3VycmVudHx8YyghMCksYXdhaXQgbi51bnN1YnNjcmliZShFLFwiYXVkaW9cIik7fWNhdGNoKGYpe2NvbnNvbGUuZXJyb3IoZiksdS5jdXJyZW50fHxsKG5ldyBPZShcIklBZ29yYVJUQ0NsaWVudC51bnN1YnNjcmliZVwiLGYpKTt9dS5jdXJyZW50fHxjKCExKTt9fTt0Lm1hcChFPT57IUUuYXVkaW9UcmFjayYmRS5oYXNBdWRpbyYmaChFKTt9KTtsZXQgZz1bXTtmb3IobGV0IEU9MDtFPHMuY3VycmVudC5sZW5ndGg7RSsrKXtsZXQgZj1zLmN1cnJlbnRbRV07aWYoIXQuc29tZShTPT5TLnVpZD09PWYuZ2V0VXNlcklkKCkpKXtsZXQgUz1uLnJlbW90ZVVzZXJzLmZpbmQoQz0+Qy51aWQ9PT1mLmdldFVzZXJJZCgpKTtTJiZnLnB1c2goe3VzZXI6UyxtZWRpYVR5cGU6XCJhdWRpb1wifSkscy5jdXJyZW50LnNwbGljZShFLDEpLEUtLTt9fWlmKGcubGVuZ3RoPjApe3RyeXt1LmN1cnJlbnR8fGMoITApLGF3YWl0IG4ubWFzc1Vuc3Vic2NyaWJlKGcpO31jYXRjaChFKXtjb25zb2xlLmVycm9yKEUpLHUuY3VycmVudHx8bChuZXcgT2UoXCJJQWdvcmFSVENDbGllbnQubWFzc1Vuc3Vic2NyaWJlXCIsRSkpO311LmN1cnJlbnR8fChyKHMuY3VycmVudC5zbGljZSgpKSxjKCExKSk7fXJldHVybiBLbihbQWUobixcInVzZXItcHVibGlzaGVkXCIsKEUsZik9Pnt0LmZpbmQoUz0+Uy51aWQ9PT1FLnVpZCkmJmY9PT1cImF1ZGlvXCImJmgoRSk7fSksQWUobixcInVzZXItdW5wdWJsaXNoZWRcIiwoRSxmKT0+e3QuZmluZChTPT5TLnVpZD09PUUudWlkKSYmZj09PVwiYXVkaW9cIiYmcChFKTt9KV0pfSxbbyxuLHRdKSx7YXVkaW9UcmFja3M6aSxpc0xvYWRpbmc6YSxlcnJvcjpkfX1mdW5jdGlvbiBnSyh0LGUpe2xldCBuPVplKGUpLFtpLHJdPXVzZVN0YXRlKFtdKSxvPUluKCkscz11c2VSZWYoW10pLFthLGNdPXVzZVN0YXRlKCExKSxbZCxsXT11c2VTdGF0ZShudWxsKSx1PVBuKCk7cmV0dXJuIFluKGFzeW5jKCk9PntpZih1LmN1cnJlbnR8fGwobnVsbCksIUFycmF5LmlzQXJyYXkodCl8fCFvKXJldHVybjtsZXQgaD1hc3luYyBFPT57aWYoIUUudmlkZW9UcmFjayYmdC5zb21lKCh7dWlkOmZ9KT0+RS51aWQ9PT1mKSl7dHJ5e3UuY3VycmVudHx8YyghMCksYXdhaXQgbi5zdWJzY3JpYmUoRSxcInZpZGVvXCIpO31jYXRjaChmKXtjb25zb2xlLmVycm9yKGYpLHUuY3VycmVudHx8bChuZXcgT2UoXCJJQWdvcmFSVENDbGllbnQuc3Vic2NyaWJlXCIsZikpO31FLnZpZGVvVHJhY2smJiFzLmN1cnJlbnQuc29tZShmPT5mLmdldFVzZXJJZCgpPT09RS51aWQpJiZzLmN1cnJlbnQucHVzaChFLnZpZGVvVHJhY2spLHMuY3VycmVudD1zLmN1cnJlbnQubWFwKGY9PkUudmlkZW9UcmFjayYmZi5nZXRVc2VySWQoKT09PUUudWlkJiZmLmdldFRyYWNrSWQoKSE9PUUudmlkZW9UcmFjay5nZXRUcmFja0lkKCk/RS52aWRlb1RyYWNrOmYpLHUuY3VycmVudHx8KHIoWy4uLnMuY3VycmVudF0pLGMoITEpKTt9fSxwPWFzeW5jIEU9PntpZih0LnNvbWUoKHt1aWQ6Zn0pPT5FLnVpZD09PWYpKXt1LmN1cnJlbnR8fChzLmN1cnJlbnQ9cy5jdXJyZW50LmZpbHRlcihmPT5mLmdldFVzZXJJZCgpIT09RS51aWQpLHIoWy4uLnMuY3VycmVudF0pKTt0cnl7dS5jdXJyZW50fHxjKCEwKSxhd2FpdCBuLnVuc3Vic2NyaWJlKEUsXCJ2aWRlb1wiKTt9Y2F0Y2goZil7Y29uc29sZS5lcnJvcihmKSx1LmN1cnJlbnR8fGwobmV3IE9lKFwiSUFnb3JhUlRDQ2xpZW50LnVuc3Vic2NyaWJlXCIsZikpO311LmN1cnJlbnR8fGMoITEpO319O3QubWFwKEU9PnshRS52aWRlb1RyYWNrJiZFLmhhc1ZpZGVvJiZoKEUpO30pO2xldCBnPVtdO2ZvcihsZXQgRT0wO0U8cy5jdXJyZW50Lmxlbmd0aDtFKyspe2xldCBmPXMuY3VycmVudFtFXTtpZighdC5zb21lKFM9PlMudWlkPT09Zi5nZXRVc2VySWQoKSkpe2xldCBTPW4ucmVtb3RlVXNlcnMuZmluZChDPT5DLnVpZD09PWYuZ2V0VXNlcklkKCkpO1MmJmcucHVzaCh7dXNlcjpTLG1lZGlhVHlwZTpcInZpZGVvXCJ9KSxzLmN1cnJlbnQuc3BsaWNlKEUsMSksRS0tO319aWYoZy5sZW5ndGg+MCl7dHJ5e3UuY3VycmVudHx8YyghMCksYXdhaXQgbi5tYXNzVW5zdWJzY3JpYmUoZyk7fWNhdGNoKEUpe2NvbnNvbGUuZXJyb3IoRSksdS5jdXJyZW50fHxsKG5ldyBPZShcIklBZ29yYVJUQ0NsaWVudC5tYXNzVW5zdWJzY3JpYmVcIixFKSk7fXUuY3VycmVudHx8KHIocy5jdXJyZW50LnNsaWNlKCkpLGMoITEpKTt9cmV0dXJuIEtuKFtBZShuLFwidXNlci1wdWJsaXNoZWRcIiwoRSxmKT0+e3QuZmluZChTPT5TLnVpZD09PUUudWlkKSYmZj09PVwidmlkZW9cIiYmaChFKTt9KSxBZShuLFwidXNlci11bnB1Ymxpc2hlZFwiLChFLGYpPT57dC5maW5kKFM9PlMudWlkPT09RS51aWQpJiZmPT09XCJ2aWRlb1wiJiZwKEUpO30pXSl9LFtvLG4sdF0pLHt2aWRlb1RyYWNrczppLGlzTG9hZGluZzphLGVycm9yOmR9fWZ1bmN0aW9uIFdmKHQsZSxuKXtsZXQgaT1aZShuKSxyPWU9PT1cImF1ZGlvXCI/XCJhdWRpb1RyYWNrXCI6XCJ2aWRlb1RyYWNrXCIsW28sc109dXNlU3RhdGUodCYmdFtyXSksYT1JbigpLGM9dXNlUmVmKCksW2QsbF09dXNlU3RhdGUoITEpLFt1LGhdPXVzZVN0YXRlKG51bGwpO3JldHVybiB1c2VFZmZlY3QoKCk9PntpZighdHx8IWEpcmV0dXJuO2xldCBwPSExO3B8fGgobnVsbCk7bGV0IGc9ZT09PVwiYXVkaW9cIj9cImhhc0F1ZGlvXCI6XCJoYXNWaWRlb1wiLEU9dC51aWQsZj1hc3luYyhBLGIpPT57aWYoQVtyXSYmaS5yZW1vdGVVc2Vycy5zb21lKCh7dWlkOnd9KT0+QS51aWQ9PT13KSl0cnl7cHx8bCghMCksYXdhaXQgaS51bnN1YnNjcmliZShBLGIpO31jYXRjaCh3KXtwfHxoKG5ldyBPZShcIklBZ29yYVJUQ0NsaWVudC51bnN1YnNjcmliZVwiLHcpKSxjb25zb2xlLmVycm9yKHcpO31wfHwocyh2b2lkIDApLGwoITEpKTt9LFM9YXN5bmMoQSxiKT0+e3RyeXshQVtyXSYmaS5yZW1vdGVVc2Vycy5zb21lKCh7dWlkOnd9KT0+QS51aWQ9PT13KSYmKHB8fGwoITApLGF3YWl0IGkuc3Vic2NyaWJlKEEsYikpLHB8fHMoQVtyXSk7fWNhdGNoKHcpe3B8fGgobmV3IE9lKFwiSUFnb3JhUlRDQ2xpZW50LnN1YnNjcmliZVwiLHcpKSxjb25zb2xlLmVycm9yKHcpO31wfHxsKCExKTt9LEM9Yy5jdXJyZW50fHw9SWEoKTtyZXR1cm4gIXRbcl0mJnRbZ10/Qy5ydW4oKCk9PlModCxlKSk6cyh0W3JdKSxLbihbKCk9PntwPSEwLEMuZGlzcG9zZSgpO30sQWUoaSxcInVzZXItcHVibGlzaGVkXCIsKEEsYik9PntBLnVpZD09PUUmJmI9PT1lJiZDLnJ1bigoKT0+UyhBLGUpKTt9KSxBZShpLFwidXNlci11bnB1Ymxpc2hlZFwiLChBLGIpPT57QS51aWQ9PT1FJiZiPT09ZSYmQy5ydW4oKCk9PmYoQSxlKSk7fSldKX0sW2EsaSx0LGUscl0pLHt0cmFjazpvLGlzTG9hZGluZzpkLGVycm9yOnV9fWZ1bmN0aW9uIERLKHQpe2xldCBlPVplKHQpLFtuLGldPXVzZVN0YXRlKGU/ZS5yZW1vdGVVc2VyczpbXSk7cmV0dXJuIHVzZUVmZmVjdCgoKT0+e2lmKGUpe2xldCByPSgpPT5pKGUucmVtb3RlVXNlcnMuc2xpY2UoKSk7cmV0dXJuIEtuKFtBZShlLFwidXNlci1qb2luZWRcIixyKSxBZShlLFwidXNlci1sZWZ0XCIsciksQWUoZSxcInVzZXItcHVibGlzaGVkXCIsciksQWUoZSxcInVzZXItdW5wdWJsaXNoZWRcIixyKV0pfX0sW2VdKSxufWZ1bmN0aW9uIFZLKHQ9ITAsZSxuLGkpe2xldCByPUluKGkpLFtvLHNdPXVzZVN0YXRlKG51bGwpLFthLGNdPXVzZVN0YXRlKCExKSxbZCxsXT11c2VTdGF0ZShudWxsKSx1PVBuKCk7cmV0dXJuIFluKGFzeW5jKCk9PntpZih1LmN1cnJlbnR8fChjKCExKSxsKG51bGwpKSxyJiZ0JiYhbyl7dHJ5e3UuY3VycmVudHx8YyghMCk7bGV0IGg9YXdhaXQgTXQuY3JlYXRlU2NyZWVuVmlkZW9UcmFjayhlLG4pO3UuY3VycmVudHx8cyhoKTt9Y2F0Y2goaCl7Y29uc29sZS5lcnJvcihoKSx1LmN1cnJlbnR8fGwobmV3IE9lKFwiSUFnb3JhUlRDLmNyZWF0ZVNjcmVlblZpZGVvVHJhY2tcIixoKSk7fXUuY3VycmVudHx8YyghMSk7fSghcnx8IXQpJiYhdS5jdXJyZW50JiZzKG51bGwpO30sW3IsdF0pLHtzY3JlZW5UcmFjazpvLGlzTG9hZGluZzphLGVycm9yOmR9fWZ1bmN0aW9uIFVIKCl7bGV0IHQ9bmV3IE1hcCxlPTE1MDA7cmV0dXJuIHtvbk1vdW50Om49PntsZXQgaT10LmdldChuKTtpJiYoaSgpLHQuZGVsZXRlKG4pKTt9LG9uVW5tb3VudDpuPT57bGV0IGk9dC5nZXQobik7aSYmaSgpLHQuc2V0KG4sU28oKCk9PntuLmlzUGxheWluZyYmbi5zdG9wKCksdC5kZWxldGUobik7fSxlKSk7fSxkaXNwb3NlOigpPT57Zm9yKGxldFtuLGldb2YgdCluLmlzUGxheWluZyYmbi5zdG9wKCksaSYmaSgpO3QuY2xlYXIoKTt9fX12YXIgS2Y9Y3JlYXRlQ29udGV4dCh2b2lkIDApO2Z1bmN0aW9uIFdLKHtjaGlsZHJlbjp0fSl7bGV0W2VdPXVzZVN0YXRlKFVIKTtyZXR1cm4gdXNlRWZmZWN0KCgpPT5lLmRpc3Bvc2UsW2VdKSxqc3goS2YuUHJvdmlkZXIse3ZhbHVlOmUsY2hpbGRyZW46dH0pfWZ1bmN0aW9uIHJoKHQsZSxuLGkpe2xldCByPXVzZUNvbnRleHQoS2YpO3VzZUVmZmVjdCgoKT0+e2lmKHQpcmV0dXJuIGkmJmU/dC5wbGF5KGksbnx8dm9pZCAwKTp0LnN0b3AoKSxyPyhyLm9uTW91bnQodCksKCk9PnIub25Vbm1vdW50KHQpKTooKT0+e3QuaXNQbGF5aW5nJiZ0LnN0b3AoKTt9fSxbdCxpLGUscixuXSk7fWZ1bmN0aW9uIG9oKHQsZSl7bGV0IG49dXNlQ29udGV4dChLZik7dmEoKCk9PntpZih0KXJldHVybiBlP3QucGxheSgpOnQuc3RvcCgpLG4/KG4ub25Nb3VudCh0KSwoKT0+bi5vblVubW91bnQodCkpOigpPT57dC5pc1BsYXlpbmcmJnQuc3RvcCgpO319LFt0LGUsbl0pO31mdW5jdGlvbiBUTih7dHJhY2s6dCxwbGF5OmU9ITEsdm9sdW1lOm4sZGlzYWJsZWQ6aSxtdXRlZDpyLGNoaWxkcmVuOm99KXtsZXQgcz1paCh0KTtyZXR1cm4gb2gocyxlKSx1c2VFZmZlY3QoKCk9PntzJiZuIT1udWxsJiZzLnNldFZvbHVtZShuKTt9LFtzLG5dKSx1c2VFZmZlY3QoKCk9PntzJiZpIT1udWxsJiZzLnNldEVuYWJsZWQoIWkpLmNhdGNoKGNvbnNvbGUud2Fybik7fSxbaSxzXSksdXNlRWZmZWN0KCgpPT57cyYmciE9bnVsbCYmcy5zZXRNdXRlZChyKS5jYXRjaChjb25zb2xlLndhcm4pO30sW3Isc10pLG8/anN4KEZyYWdtZW50LHtjaGlsZHJlbjpvfSk6bnVsbH12YXIgc2g9e3Bvc2l0aW9uOlwicmVsYXRpdmVcIix3aWR0aDpcIjEwMCVcIixoZWlnaHQ6XCIxMDAlXCIsb3ZlcmZsb3c6XCJoaWRkZW5cIixiYWNrZ3JvdW5kOlwiIzAwMFwifSxhaD17d2lkdGg6XCIxMDAlXCIsaGVpZ2h0OlwiMTAwJVwifSx5YT17cG9zaXRpb246XCJhYnNvbHV0ZVwiLHRvcDowLGxlZnQ6MCx3aWR0aDpcIjEwMCVcIixoZWlnaHQ6XCIxMDAlXCIsb3ZlcmZsb3c6XCJoaWRkZW5cIix6SW5kZXg6Mn0sUm89KHQsZSk9PnVzZU1lbW8oKCk9Pih7Li4udCwuLi5lfSksW3QsZV0pO2Z1bmN0aW9uIFJOKHt0cmFjazp0LHBsYXk6ZSxkaXNhYmxlZDpuLG11dGVkOmksc3R5bGU6cix2aWRlb1BsYXllckNvbmZpZzpvLC4uLnN9KXtsZXQgYT1SbyhhaCxyKSxbYyxkXT11c2VTdGF0ZShudWxsKSxsPWloKHQpO3JldHVybiByaChsLGUsbyxjKSx1c2VFZmZlY3QoKCk9PntsJiZuIT1udWxsJiZsLnNldEVuYWJsZWQoIW4pLmNhdGNoKGNvbnNvbGUud2Fybik7fSxbbixsXSksdXNlRWZmZWN0KCgpPT57bCYmaSE9bnVsbCYmbC5zZXRNdXRlZChpKS5jYXRjaChjb25zb2xlLndhcm4pO30sW2ksbF0pLGpzeChcImRpdlwiLHsuLi5zLHJlZjpkLHN0eWxlOmF9KX12YXIgV0g9e3dpZHRoOlwiMTAwJVwiLGhlaWdodDpcIjEwMCVcIixiYWNrZ3JvdW5kOlwiIzFhMWUyMSBjZW50ZXIvY292ZXIgbm8tcmVwZWF0XCIsZmlsdGVyOlwiYmx1cigxNnB4KSBicmlnaHRuZXNzKDAuNClcIn0sSEg9e3Bvc2l0aW9uOlwiYWJzb2x1dGVcIix0b3A6XCI1MCVcIixsZWZ0OlwiNTAlXCIsbWF4V2lkdGg6XCI1MCVcIixtYXhIZWlnaHQ6XCI1MCVcIixhc3BlY3RSYXRpbzpcIjFcIix0cmFuc2Zvcm06XCJ0cmFuc2xhdGUoLTUwJSwgLTUwJSlcIixib3JkZXJSYWRpdXM6XCI1MCVcIixvdmVyZmxvdzpcImhpZGRlblwiLG9iamVjdEZpdDpcImNvdmVyXCJ9O2Z1bmN0aW9uIGNoKHtjb3Zlcjp0fSl7cmV0dXJuIGpzeChcImRpdlwiLHtzdHlsZTp5YSxjaGlsZHJlbjp0eXBlb2YgdD09XCJzdHJpbmdcIj9qc3hzKEZyYWdtZW50LHtjaGlsZHJlbjpbanN4KFwiZGl2XCIse3N0eWxlOnsuLi5XSCxiYWNrZ3JvdW5kSW1hZ2U6YHVybCgke3R9KWB9fSksanN4KFwiaW1nXCIse3NyYzp0LHN0eWxlOkhIfSldfSk6dCgpfSl9ZnVuY3Rpb24gaDYoe21pY09uOnQsY2FtZXJhT246ZSxhdWRpb1RyYWNrOm4sdmlkZW9UcmFjazppLHBsYXlBdWRpbzpyLHBsYXlWaWRlbzpvLHZvbHVtZTpzLGNvdmVyOmEsY2hpbGRyZW46YyxzdHlsZTpkLC4uLmx9KXtsZXQgdT1SbyhzaCxkKTtyZXR1cm4gbz1vPz8hIWUscj1yPz8hIXQsanN4cyhcImRpdlwiLHsuLi5sLHN0eWxlOnUsY2hpbGRyZW46W2pzeChSTix7ZGlzYWJsZWQ6IWUscGxheTpvLHRyYWNrOml9KSxqc3goVE4se2Rpc2FibGVkOiF0LHBsYXk6cix0cmFjazpuLHZvbHVtZTpzfSksYSYmIWUmJmpzeChjaCx7Y292ZXI6YX0pLGpzeChcImRpdlwiLHtzdHlsZTp5YSxjaGlsZHJlbjpjfSldfSl9ZnVuY3Rpb24gSU4oe3RyYWNrOnQscGxheTplPSExLHBsYXliYWNrRGV2aWNlSWQ6bix2b2x1bWU6aSxjaGlsZHJlbjpyfSl7cmV0dXJuIG9oKHQsZSksdXNlRWZmZWN0KCgpPT57dCYmbiE9bnVsbCYmdC5zZXRQbGF5YmFja0RldmljZShuKS5jYXRjaChjb25zb2xlLndhcm4pO30sW3Qsbl0pLHVzZUVmZmVjdCgoKT0+e3QmJmkhPW51bGwmJnQuc2V0Vm9sdW1lKGkpO30sW3QsaV0pLHI/anN4KEZyYWdtZW50LHtjaGlsZHJlbjpyfSk6bnVsbH1mdW5jdGlvbiB2Tih7dHJhY2s6dCxwbGF5OmUsc3R5bGU6bix2aWRlb1BsYXllckNvbmZpZzppLC4uLnJ9KXtsZXQgbz1SbyhhaCxuKSxbcyxhXT11c2VTdGF0ZShudWxsKTtyZXR1cm4gcmgodCxlLGkscyksanN4KFwiZGl2XCIsey4uLnIscmVmOmEsc3R5bGU6b30pfWZ1bmN0aW9uIE82KHt1c2VyOnQscGxheVZpZGVvOmUscGxheUF1ZGlvOm4scGxheWJhY2tEZXZpY2VJZDppLHZvbHVtZTpyLGNvdmVyOm8sc3R5bGU6cyxjaGlsZHJlbjphLHZpZGVvUGxheWVyQ29uZmlnOmMsLi4uZH0pe2xldCBsPVJvKHNoLHMpLHt0cmFjazp1fT1XZih0LFwidmlkZW9cIikse3RyYWNrOmh9PVdmKHQsXCJhdWRpb1wiKTtyZXR1cm4gZT1lPz90Py5oYXNWaWRlbyxuPW4/P3Q/Lmhhc0F1ZGlvLGpzeHMoXCJkaXZcIix7Li4uZCxzdHlsZTpsLGNoaWxkcmVuOltqc3godk4se3BsYXk6ZSx0cmFjazp1LHZpZGVvUGxheWVyQ29uZmlnOmN9KSxqc3goSU4se3BsYXk6bixwbGF5YmFja0RldmljZUlkOmksdHJhY2s6aCx2b2x1bWU6cn0pLG8mJiFlJiZqc3goY2gse2NvdmVyOm99KSxqc3goXCJkaXZcIix7c3R5bGU6eWEsY2hpbGRyZW46YX0pXX0pfXZhciB6Zj1jbGFzc3thcHBUeXBlPTEwMDE7Y29uc3RydWN0b3IoKXtNdC5zZXRBcHBUeXBlKHRoaXMuYXBwVHlwZSk7fX07bmV3IHpmO3ZhciBrNj1cIjIuMy4wXCI7dmFyIFU2PU10Oy8qISBCdW5kbGVkIGxpY2Vuc2UgaW5mb3JtYXRpb246XG5cbmFnb3JhLXJ0Yy1zZGstbmcvQWdvcmFSVENfTi1wcm9kdWN0aW9uLmVzbS5tanM6XG4gICgqISBmb3JtZGF0YS1wb2x5ZmlsbC4gTUlUIExpY2Vuc2UuIEppbW15IFc/cnRpbmcgPGh0dHBzOi8vamltbXkud2FydGluZy5zZS9vcGVuc291cmNlPiAqKVxuKi9cblxuZXhwb3J0IHsgSzUgYXMgQWdvcmFSVENQcm92aWRlciwgT2UgYXMgQWdvcmFSVENSZWFjdEVycm9yLCBKNSBhcyBBZ29yYVJUQ1NjcmVlblNoYXJlUHJvdmlkZXIsIFROIGFzIExvY2FsQXVkaW9UcmFjaywgaDYgYXMgTG9jYWxVc2VyLCBSTiBhcyBMb2NhbFZpZGVvVHJhY2ssIElOIGFzIFJlbW90ZUF1ZGlvVHJhY2ssIE82IGFzIFJlbW90ZVVzZXIsIHZOIGFzIFJlbW90ZVZpZGVvVHJhY2ssIFdLIGFzIFRyYWNrQm91bmRhcnksIGs2IGFzIFZFUlNJT04sIFU2IGFzIGRlZmF1bHQsIG9oIGFzIHVzZUF1dG9QbGF5QXVkaW9UcmFjaywgcmggYXMgdXNlQXV0b1BsYXlWaWRlb1RyYWNrLCBqNSBhcyB1c2VDbGllbnRFdmVudCwgaTQgYXMgdXNlQ29ubmVjdGlvblN0YXRlLCBfNCBhcyB1c2VDdXJyZW50VUlELCBJbiBhcyB1c2VJc0Nvbm5lY3RlZCwgSTQgYXMgdXNlSm9pbiwgdEsgYXMgdXNlTG9jYWxDYW1lcmFUcmFjaywgcTQgYXMgdXNlTG9jYWxNaWNyb3Bob25lVHJhY2ssIFZLIGFzIHVzZUxvY2FsU2NyZWVuVHJhY2ssIHc0IGFzIHVzZU5ldHdvcmtRdWFsaXR5LCBVNCBhcyB1c2VQdWJsaXNoLCBaZSBhcyB1c2VSVENDbGllbnQsIFg1IGFzIHVzZVJUQ1NjcmVlblNoYXJlQ2xpZW50LCBkSyBhcyB1c2VSZW1vdGVBdWRpb1RyYWNrcywgV2YgYXMgdXNlUmVtb3RlVXNlclRyYWNrLCBESyBhcyB1c2VSZW1vdGVVc2VycywgZ0sgYXMgdXNlUmVtb3RlVmlkZW9UcmFja3MsIEc1IGFzIHVzZVRyYWNrRXZlbnQsIEI0IGFzIHVzZVZvbHVtZUxldmVsIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/agora-rtc-react/dist/agora-rtc-react.mjs\n");

/***/ })

};
;