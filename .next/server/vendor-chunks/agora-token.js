/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/agora-token";
exports.ids = ["vendor-chunks/agora-token"];
exports.modules = {

/***/ "(action-browser)/./node_modules/agora-token/index.js":
/*!*******************************************!*\
  !*** ./node_modules/agora-token/index.js ***!
  \*******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("module.exports = {\n  RtcTokenBuilder: (__webpack_require__(/*! ./src/RtcTokenBuilder2 */ \"(action-browser)/./node_modules/agora-token/src/RtcTokenBuilder2.js\").RtcTokenBuilder),\n  RtcRole: (__webpack_require__(/*! ./src/RtcTokenBuilder2 */ \"(action-browser)/./node_modules/agora-token/src/RtcTokenBuilder2.js\").Role),\n  RtmTokenBuilder: (__webpack_require__(/*! ./src/RtmTokenBuilder2 */ \"(action-browser)/./node_modules/agora-token/src/RtmTokenBuilder2.js\").RtmTokenBuilder),\n  EducationTokenBuilder: (__webpack_require__(/*! ./src/EducationTokenBuilder */ \"(action-browser)/./node_modules/agora-token/src/EducationTokenBuilder.js\").EducationTokenBuilder),\n  FpaTokenBuilder: (__webpack_require__(/*! ./src/FpaTokenBuilder */ \"(action-browser)/./node_modules/agora-token/src/FpaTokenBuilder.js\").FpaTokenBuilder),\n  ChatTokenBuilder: (__webpack_require__(/*! ./src/ChatTokenBuilder */ \"(action-browser)/./node_modules/agora-token/src/ChatTokenBuilder.js\").ChatTokenBuilder)\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9hZ29yYS10b2tlbi9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBLG1CQUFtQiwwSUFBaUQ7QUFDcEUsV0FBVywrSEFBc0M7QUFDakQsbUJBQW1CLDBJQUFpRDtBQUNwRSx5QkFBeUIsMEpBQTREO0FBQ3JGLG1CQUFtQix3SUFBZ0Q7QUFDbkUsb0JBQW9CLDJJQUFrRDtBQUN0RSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hZ29yYS10b2tlbi9pbmRleC5qcz9mODZlIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1xuICBSdGNUb2tlbkJ1aWxkZXI6IHJlcXVpcmUoJy4vc3JjL1J0Y1Rva2VuQnVpbGRlcjInKS5SdGNUb2tlbkJ1aWxkZXIsXG4gIFJ0Y1JvbGU6IHJlcXVpcmUoJy4vc3JjL1J0Y1Rva2VuQnVpbGRlcjInKS5Sb2xlLFxuICBSdG1Ub2tlbkJ1aWxkZXI6IHJlcXVpcmUoJy4vc3JjL1J0bVRva2VuQnVpbGRlcjInKS5SdG1Ub2tlbkJ1aWxkZXIsXG4gIEVkdWNhdGlvblRva2VuQnVpbGRlcjogcmVxdWlyZSgnLi9zcmMvRWR1Y2F0aW9uVG9rZW5CdWlsZGVyJykuRWR1Y2F0aW9uVG9rZW5CdWlsZGVyLFxuICBGcGFUb2tlbkJ1aWxkZXI6IHJlcXVpcmUoJy4vc3JjL0ZwYVRva2VuQnVpbGRlcicpLkZwYVRva2VuQnVpbGRlcixcbiAgQ2hhdFRva2VuQnVpbGRlcjogcmVxdWlyZSgnLi9zcmMvQ2hhdFRva2VuQnVpbGRlcicpLkNoYXRUb2tlbkJ1aWxkZXJcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/agora-token/index.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/agora-token/src/AccessToken2.js":
/*!******************************************************!*\
  !*** ./node_modules/agora-token/src/AccessToken2.js ***!
  \******************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var crypto = __webpack_require__(/*! crypto */ \"crypto\")\nconst zlib = __webpack_require__(/*! zlib */ \"zlib\")\nconst VERSION_LENGTH = 3\nconst APP_ID_LENGTH = 32\n\nconst getVersion = () => {\n    return \"007\"\n}\n\nclass Service {\n    constructor(service_type) {\n        this.__type = service_type\n        this.__privileges = {}\n    }\n\n    __pack_type() {\n        let buf = new ByteBuf()\n        buf.putUint16(this.__type)\n        return buf.pack()\n    }\n\n    __pack_privileges() {\n        let buf = new ByteBuf()\n        buf.putTreeMapUInt32(this.__privileges)\n        return buf.pack()\n    }\n\n    service_type() {\n        return this.__type\n    }\n\n    add_privilege(privilege, expire) {\n        this.__privileges[privilege] = expire\n    }\n\n    pack() {\n        return Buffer.concat([this.__pack_type(), this.__pack_privileges()])\n    }\n\n    unpack(buffer) {\n        let bufReader = new ReadByteBuf(buffer)\n        this.__privileges = bufReader.getTreeMapUInt32()\n        return bufReader\n    }\n}\n\nconst kRtcServiceType = 1\n\nclass ServiceRtc extends Service {\n    constructor(channel_name, uid) {\n        super(kRtcServiceType)\n        this.__channel_name = channel_name\n        this.__uid = uid === 0 ? '' : `${uid}`\n    }\n\n    pack() {\n        let buffer = new ByteBuf()\n        buffer.putString(this.__channel_name).putString(this.__uid)\n        return Buffer.concat([super.pack(), buffer.pack()])\n    }\n\n    unpack(buffer) {\n        let bufReader = super.unpack(buffer)\n        this.__channel_name = bufReader.getString()\n        this.__uid = bufReader.getString()\n        return bufReader\n    }\n}\n\nServiceRtc.kPrivilegeJoinChannel = 1\nServiceRtc.kPrivilegePublishAudioStream = 2\nServiceRtc.kPrivilegePublishVideoStream = 3\nServiceRtc.kPrivilegePublishDataStream = 4\n\nconst kRtmServiceType = 2\n\nclass ServiceRtm extends Service {\n    constructor(user_id) {\n        super(kRtmServiceType)\n        this.__user_id = user_id || \"\"\n    }\n\n    pack() {\n        let buffer = new ByteBuf()\n        buffer.putString(this.__user_id)\n        return Buffer.concat([super.pack(), buffer.pack()])\n    }\n\n    unpack(buffer) {\n        let bufReader = super.unpack(buffer)\n        this.__user_id = bufReader.getString()\n        return bufReader\n    }\n}\n\nServiceRtm.kPrivilegeLogin = 1\n\n\nconst kFpaServiceType = 4\n\nclass ServiceFpa extends Service {\n    constructor() {\n        super(kFpaServiceType)\n    }\n\n    pack() {\n        return super.pack()\n    }\n\n    unpack(buffer) {\n        let bufReader = super.unpack(buffer)\n        return bufReader\n    }\n}\n\nServiceFpa.kPrivilegeLogin = 1\n\n\nconst kChatServiceType = 5\n\nclass ServiceChat extends Service {\n    constructor(user_id) {\n        super(kChatServiceType)\n        this.__user_id = user_id || \"\"\n    }\n\n    pack() {\n        let buffer = new ByteBuf()\n        buffer.putString(this.__user_id)\n        return Buffer.concat([super.pack(), buffer.pack()])\n    }\n\n    unpack(buffer) {\n        let bufReader = super.unpack(buffer)\n        this.__user_id = bufReader.getString()\n        return bufReader\n    }\n}\n\nServiceChat.kPrivilegeUser = 1\nServiceChat.kPrivilegeApp = 2\n\nconst kEducationServiceType = 7\n\nclass ServiceEducation extends Service {\n    constructor(roomUuid, userUuid, role) {\n        super(kEducationServiceType)\n        this.__room_uuid = roomUuid || \"\"\n        this.__user_uuid = userUuid || \"\"\n        this.__role = role || -1\n    }\n\n    pack() {\n        let buffer = new ByteBuf()\n        buffer.putString(this.__room_uuid)\n        buffer.putString(this.__user_uuid)\n        buffer.putInt16(this.__role)\n        return Buffer.concat([super.pack(), buffer.pack()])\n    }\n\n    unpack(buffer) {\n        let bufReader = super.unpack(buffer)\n        this.__room_uuid = bufReader.getString()\n        this.__user_uuid = bufReader.getString()\n        this.__role = bufReader.getInt16()\n        return bufReader\n    }\n}\n\nServiceEducation.PRIVILEGE_ROOM_USER = 1\nServiceEducation.PRIVILEGE_USER = 2\nServiceEducation.PRIVILEGE_APP = 3\n\n\nclass AccessToken2 {\n    constructor(appId, appCertificate, issueTs, expire) {\n        this.appId = appId\n        this.appCertificate = appCertificate\n        this.issueTs = issueTs || new Date().getTime() / 1000\n        this.expire = expire\n        // salt ranges in (1, 99999999)\n        this.salt = Math.floor(Math.random() * (99999999)) + 1\n        this.services = {}\n    }\n\n    __signing() {\n        let signing = encodeHMac(new ByteBuf().putUint32(this.issueTs).pack(), this.appCertificate)\n        signing = encodeHMac(new ByteBuf().putUint32(this.salt).pack(), signing)\n        return signing\n    }\n\n    __build_check() {\n        let is_uuid = (data) => {\n            if (data.length !== APP_ID_LENGTH) {\n                return false\n            }\n            let buf = Buffer.from(data, 'hex')\n            return !!buf\n        }\n\n        const {appId, appCertificate, services} = this\n        if (!is_uuid(appId) || !is_uuid(appCertificate)) {\n            return false\n        }\n\n        if (Object.keys(services).length === 0) {\n            return false\n        }\n        return true\n    }\n\n    add_service(service) {\n        this.services[service.service_type()] = service\n    }\n\n    build() {\n        if (!this.__build_check()) {\n            return \"\"\n        }\n\n        let signing = this.__signing()\n        let signing_info = new ByteBuf().putString(this.appId)\n            .putUint32(this.issueTs)\n            .putUint32(this.expire)\n            .putUint32(this.salt)\n            .putUint16(Object.keys(this.services).length).pack()\n        Object.values(this.services).forEach(service => {\n            signing_info = Buffer.concat([signing_info, service.pack()])\n        })\n\n        let signature = encodeHMac(signing, signing_info)\n        let content = Buffer.concat([new ByteBuf().putString(signature).pack(), signing_info])\n        let compressed = zlib.deflateSync(content)\n        return `${getVersion()}${Buffer.from(compressed).toString('base64')}`\n    }\n\n    from_string(origin_token) {\n        let origin_version = origin_token.substring(0, VERSION_LENGTH)\n        if (origin_version !== getVersion()) {\n            return false\n        }\n\n        let origin_content = origin_token.substring(VERSION_LENGTH, origin_token.length)\n        let buffer = zlib.inflateSync(new Buffer(origin_content, 'base64'))\n        let bufferReader = new ReadByteBuf(buffer)\n\n        let signature = bufferReader.getString()\n        this.appId = bufferReader.getString()\n        this.issueTs = bufferReader.getUint32()\n        this.expire = bufferReader.getUint32()\n        this.salt = bufferReader.getUint32()\n        let service_count = bufferReader.getUint16()\n\n        let remainBuf = bufferReader.pack()\n        for (let i = 0; i < service_count; i++) {\n            let bufferReaderService = new ReadByteBuf(remainBuf)\n            let service_type = bufferReaderService.getUint16()\n            let service = new AccessToken2.kServices[service_type]()\n            remainBuf = service.unpack(bufferReaderService.pack()).pack()\n            this.services[service_type] = service\n        }\n    }\n}\n\nvar encodeHMac = function (key, message) {\n    return crypto.createHmac('sha256', key).update(message).digest()\n}\n\nvar ByteBuf = function () {\n    var that = {\n        buffer: Buffer.alloc(1024)\n        , position: 0\n    }\n\n    that.buffer.fill(0)\n\n    that.pack = function () {\n        var out = Buffer.alloc(that.position)\n        that.buffer.copy(out, 0, 0, out.length)\n        return out\n    }\n\n    that.putUint16 = function (v) {\n        that.buffer.writeUInt16LE(v, that.position)\n        that.position += 2\n        return that\n    }\n\n    that.putUint32 = function (v) {\n        that.buffer.writeUInt32LE(v, that.position)\n        that.position += 4\n        return that\n    }\n    that.putInt32 = function (v) {\n        that.buffer.writeInt32LE(v, that.position)\n        that.position += 4\n        return that\n    }\n\n    that.putInt16 = function (v) {\n        that.buffer.writeInt16LE(v, that.position)\n        that.position += 2\n        return that\n    }\n\n    that.putBytes = function (bytes) {\n        that.putUint16(bytes.length)\n        bytes.copy(that.buffer, that.position)\n        that.position += bytes.length\n        return that\n    }\n\n    that.putString = function (str) {\n        return that.putBytes(Buffer.from(str))\n    }\n\n    that.putTreeMap = function (map) {\n        if (!map) {\n            that.putUint16(0)\n            return that\n        }\n\n        that.putUint16(Object.keys(map).length)\n        for (var key in map) {\n            that.putUint16(key)\n            that.putString(map[key])\n        }\n\n        return that\n    }\n\n    that.putTreeMapUInt32 = function (map) {\n        if (!map) {\n            that.putUint16(0)\n            return that\n        }\n\n        that.putUint16(Object.keys(map).length)\n        for (var key in map) {\n            that.putUint16(key)\n            that.putUint32(map[key])\n        }\n\n        return that\n    }\n\n    return that\n}\n\nvar ReadByteBuf = function (bytes) {\n    var that = {\n        buffer: bytes\n        , position: 0\n    }\n\n    that.getUint16 = function () {\n        var ret = that.buffer.readUInt16LE(that.position)\n        that.position += 2\n        return ret\n    }\n\n    that.getUint32 = function () {\n        var ret = that.buffer.readUInt32LE(that.position)\n        that.position += 4\n        return ret\n    }\n\n    that.getInt16 = function () {\n        var ret = that.buffer.readUInt16LE(that.position)\n        that.position += 2\n        return ret\n    }\n\n    that.getString = function () {\n        var len = that.getUint16()\n\n        var out = Buffer.alloc(len)\n        that.buffer.copy(out, 0, that.position, (that.position + len))\n        that.position += len\n        return out\n    }\n\n    that.getTreeMapUInt32 = function () {\n        var map = {}\n        var len = that.getUint16()\n        for (var i = 0; i < len; i++) {\n            var key = that.getUint16()\n            var value = that.getUint32()\n            map[key] = value\n        }\n        return map\n    }\n\n    that.pack = function () {\n        let length = that.buffer.length\n        var out = Buffer.alloc(length)\n        that.buffer.copy(out, 0, that.position, length)\n        return out\n    }\n\n    return that\n}\n\nAccessToken2.kServices = {}\nAccessToken2.kServices[kRtcServiceType] = ServiceRtc\nAccessToken2.kServices[kRtmServiceType] = ServiceRtm\nAccessToken2.kServices[kFpaServiceType] = ServiceFpa\nAccessToken2.kServices[kChatServiceType] = ServiceChat\nAccessToken2.kServices[kEducationServiceType] = ServiceEducation\n\nmodule.exports = {\n    AccessToken2, ServiceRtc, ServiceRtm, ServiceFpa, ServiceChat, ServiceEducation,\n    kRtcServiceType, kRtmServiceType, kFpaServiceType, kChatServiceType, kEducationServiceType,\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9hZ29yYS10b2tlbi9zcmMvQWNjZXNzVG9rZW4yLmpzIiwibWFwcGluZ3MiOiJBQUFBLGFBQWEsbUJBQU8sQ0FBQyxzQkFBUTtBQUM3QixhQUFhLG1CQUFPLENBQUMsa0JBQU07QUFDM0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLElBQUk7QUFDN0M7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZUFBZSxpQ0FBaUM7QUFDaEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixhQUFhLEVBQUUsMkNBQTJDO0FBQzVFOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHdCQUF3QixtQkFBbUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFNBQVM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hZ29yYS10b2tlbi9zcmMvQWNjZXNzVG9rZW4yLmpzPzkzMWUiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGNyeXB0byA9IHJlcXVpcmUoJ2NyeXB0bycpXG5jb25zdCB6bGliID0gcmVxdWlyZSgnemxpYicpXG5jb25zdCBWRVJTSU9OX0xFTkdUSCA9IDNcbmNvbnN0IEFQUF9JRF9MRU5HVEggPSAzMlxuXG5jb25zdCBnZXRWZXJzaW9uID0gKCkgPT4ge1xuICAgIHJldHVybiBcIjAwN1wiXG59XG5cbmNsYXNzIFNlcnZpY2Uge1xuICAgIGNvbnN0cnVjdG9yKHNlcnZpY2VfdHlwZSkge1xuICAgICAgICB0aGlzLl9fdHlwZSA9IHNlcnZpY2VfdHlwZVxuICAgICAgICB0aGlzLl9fcHJpdmlsZWdlcyA9IHt9XG4gICAgfVxuXG4gICAgX19wYWNrX3R5cGUoKSB7XG4gICAgICAgIGxldCBidWYgPSBuZXcgQnl0ZUJ1ZigpXG4gICAgICAgIGJ1Zi5wdXRVaW50MTYodGhpcy5fX3R5cGUpXG4gICAgICAgIHJldHVybiBidWYucGFjaygpXG4gICAgfVxuXG4gICAgX19wYWNrX3ByaXZpbGVnZXMoKSB7XG4gICAgICAgIGxldCBidWYgPSBuZXcgQnl0ZUJ1ZigpXG4gICAgICAgIGJ1Zi5wdXRUcmVlTWFwVUludDMyKHRoaXMuX19wcml2aWxlZ2VzKVxuICAgICAgICByZXR1cm4gYnVmLnBhY2soKVxuICAgIH1cblxuICAgIHNlcnZpY2VfdHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX190eXBlXG4gICAgfVxuXG4gICAgYWRkX3ByaXZpbGVnZShwcml2aWxlZ2UsIGV4cGlyZSkge1xuICAgICAgICB0aGlzLl9fcHJpdmlsZWdlc1twcml2aWxlZ2VdID0gZXhwaXJlXG4gICAgfVxuXG4gICAgcGFjaygpIHtcbiAgICAgICAgcmV0dXJuIEJ1ZmZlci5jb25jYXQoW3RoaXMuX19wYWNrX3R5cGUoKSwgdGhpcy5fX3BhY2tfcHJpdmlsZWdlcygpXSlcbiAgICB9XG5cbiAgICB1bnBhY2soYnVmZmVyKSB7XG4gICAgICAgIGxldCBidWZSZWFkZXIgPSBuZXcgUmVhZEJ5dGVCdWYoYnVmZmVyKVxuICAgICAgICB0aGlzLl9fcHJpdmlsZWdlcyA9IGJ1ZlJlYWRlci5nZXRUcmVlTWFwVUludDMyKClcbiAgICAgICAgcmV0dXJuIGJ1ZlJlYWRlclxuICAgIH1cbn1cblxuY29uc3Qga1J0Y1NlcnZpY2VUeXBlID0gMVxuXG5jbGFzcyBTZXJ2aWNlUnRjIGV4dGVuZHMgU2VydmljZSB7XG4gICAgY29uc3RydWN0b3IoY2hhbm5lbF9uYW1lLCB1aWQpIHtcbiAgICAgICAgc3VwZXIoa1J0Y1NlcnZpY2VUeXBlKVxuICAgICAgICB0aGlzLl9fY2hhbm5lbF9uYW1lID0gY2hhbm5lbF9uYW1lXG4gICAgICAgIHRoaXMuX191aWQgPSB1aWQgPT09IDAgPyAnJyA6IGAke3VpZH1gXG4gICAgfVxuXG4gICAgcGFjaygpIHtcbiAgICAgICAgbGV0IGJ1ZmZlciA9IG5ldyBCeXRlQnVmKClcbiAgICAgICAgYnVmZmVyLnB1dFN0cmluZyh0aGlzLl9fY2hhbm5lbF9uYW1lKS5wdXRTdHJpbmcodGhpcy5fX3VpZClcbiAgICAgICAgcmV0dXJuIEJ1ZmZlci5jb25jYXQoW3N1cGVyLnBhY2soKSwgYnVmZmVyLnBhY2soKV0pXG4gICAgfVxuXG4gICAgdW5wYWNrKGJ1ZmZlcikge1xuICAgICAgICBsZXQgYnVmUmVhZGVyID0gc3VwZXIudW5wYWNrKGJ1ZmZlcilcbiAgICAgICAgdGhpcy5fX2NoYW5uZWxfbmFtZSA9IGJ1ZlJlYWRlci5nZXRTdHJpbmcoKVxuICAgICAgICB0aGlzLl9fdWlkID0gYnVmUmVhZGVyLmdldFN0cmluZygpXG4gICAgICAgIHJldHVybiBidWZSZWFkZXJcbiAgICB9XG59XG5cblNlcnZpY2VSdGMua1ByaXZpbGVnZUpvaW5DaGFubmVsID0gMVxuU2VydmljZVJ0Yy5rUHJpdmlsZWdlUHVibGlzaEF1ZGlvU3RyZWFtID0gMlxuU2VydmljZVJ0Yy5rUHJpdmlsZWdlUHVibGlzaFZpZGVvU3RyZWFtID0gM1xuU2VydmljZVJ0Yy5rUHJpdmlsZWdlUHVibGlzaERhdGFTdHJlYW0gPSA0XG5cbmNvbnN0IGtSdG1TZXJ2aWNlVHlwZSA9IDJcblxuY2xhc3MgU2VydmljZVJ0bSBleHRlbmRzIFNlcnZpY2Uge1xuICAgIGNvbnN0cnVjdG9yKHVzZXJfaWQpIHtcbiAgICAgICAgc3VwZXIoa1J0bVNlcnZpY2VUeXBlKVxuICAgICAgICB0aGlzLl9fdXNlcl9pZCA9IHVzZXJfaWQgfHwgXCJcIlxuICAgIH1cblxuICAgIHBhY2soKSB7XG4gICAgICAgIGxldCBidWZmZXIgPSBuZXcgQnl0ZUJ1ZigpXG4gICAgICAgIGJ1ZmZlci5wdXRTdHJpbmcodGhpcy5fX3VzZXJfaWQpXG4gICAgICAgIHJldHVybiBCdWZmZXIuY29uY2F0KFtzdXBlci5wYWNrKCksIGJ1ZmZlci5wYWNrKCldKVxuICAgIH1cblxuICAgIHVucGFjayhidWZmZXIpIHtcbiAgICAgICAgbGV0IGJ1ZlJlYWRlciA9IHN1cGVyLnVucGFjayhidWZmZXIpXG4gICAgICAgIHRoaXMuX191c2VyX2lkID0gYnVmUmVhZGVyLmdldFN0cmluZygpXG4gICAgICAgIHJldHVybiBidWZSZWFkZXJcbiAgICB9XG59XG5cblNlcnZpY2VSdG0ua1ByaXZpbGVnZUxvZ2luID0gMVxuXG5cbmNvbnN0IGtGcGFTZXJ2aWNlVHlwZSA9IDRcblxuY2xhc3MgU2VydmljZUZwYSBleHRlbmRzIFNlcnZpY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihrRnBhU2VydmljZVR5cGUpXG4gICAgfVxuXG4gICAgcGFjaygpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLnBhY2soKVxuICAgIH1cblxuICAgIHVucGFjayhidWZmZXIpIHtcbiAgICAgICAgbGV0IGJ1ZlJlYWRlciA9IHN1cGVyLnVucGFjayhidWZmZXIpXG4gICAgICAgIHJldHVybiBidWZSZWFkZXJcbiAgICB9XG59XG5cblNlcnZpY2VGcGEua1ByaXZpbGVnZUxvZ2luID0gMVxuXG5cbmNvbnN0IGtDaGF0U2VydmljZVR5cGUgPSA1XG5cbmNsYXNzIFNlcnZpY2VDaGF0IGV4dGVuZHMgU2VydmljZSB7XG4gICAgY29uc3RydWN0b3IodXNlcl9pZCkge1xuICAgICAgICBzdXBlcihrQ2hhdFNlcnZpY2VUeXBlKVxuICAgICAgICB0aGlzLl9fdXNlcl9pZCA9IHVzZXJfaWQgfHwgXCJcIlxuICAgIH1cblxuICAgIHBhY2soKSB7XG4gICAgICAgIGxldCBidWZmZXIgPSBuZXcgQnl0ZUJ1ZigpXG4gICAgICAgIGJ1ZmZlci5wdXRTdHJpbmcodGhpcy5fX3VzZXJfaWQpXG4gICAgICAgIHJldHVybiBCdWZmZXIuY29uY2F0KFtzdXBlci5wYWNrKCksIGJ1ZmZlci5wYWNrKCldKVxuICAgIH1cblxuICAgIHVucGFjayhidWZmZXIpIHtcbiAgICAgICAgbGV0IGJ1ZlJlYWRlciA9IHN1cGVyLnVucGFjayhidWZmZXIpXG4gICAgICAgIHRoaXMuX191c2VyX2lkID0gYnVmUmVhZGVyLmdldFN0cmluZygpXG4gICAgICAgIHJldHVybiBidWZSZWFkZXJcbiAgICB9XG59XG5cblNlcnZpY2VDaGF0LmtQcml2aWxlZ2VVc2VyID0gMVxuU2VydmljZUNoYXQua1ByaXZpbGVnZUFwcCA9IDJcblxuY29uc3Qga0VkdWNhdGlvblNlcnZpY2VUeXBlID0gN1xuXG5jbGFzcyBTZXJ2aWNlRWR1Y2F0aW9uIGV4dGVuZHMgU2VydmljZSB7XG4gICAgY29uc3RydWN0b3Iocm9vbVV1aWQsIHVzZXJVdWlkLCByb2xlKSB7XG4gICAgICAgIHN1cGVyKGtFZHVjYXRpb25TZXJ2aWNlVHlwZSlcbiAgICAgICAgdGhpcy5fX3Jvb21fdXVpZCA9IHJvb21VdWlkIHx8IFwiXCJcbiAgICAgICAgdGhpcy5fX3VzZXJfdXVpZCA9IHVzZXJVdWlkIHx8IFwiXCJcbiAgICAgICAgdGhpcy5fX3JvbGUgPSByb2xlIHx8IC0xXG4gICAgfVxuXG4gICAgcGFjaygpIHtcbiAgICAgICAgbGV0IGJ1ZmZlciA9IG5ldyBCeXRlQnVmKClcbiAgICAgICAgYnVmZmVyLnB1dFN0cmluZyh0aGlzLl9fcm9vbV91dWlkKVxuICAgICAgICBidWZmZXIucHV0U3RyaW5nKHRoaXMuX191c2VyX3V1aWQpXG4gICAgICAgIGJ1ZmZlci5wdXRJbnQxNih0aGlzLl9fcm9sZSlcbiAgICAgICAgcmV0dXJuIEJ1ZmZlci5jb25jYXQoW3N1cGVyLnBhY2soKSwgYnVmZmVyLnBhY2soKV0pXG4gICAgfVxuXG4gICAgdW5wYWNrKGJ1ZmZlcikge1xuICAgICAgICBsZXQgYnVmUmVhZGVyID0gc3VwZXIudW5wYWNrKGJ1ZmZlcilcbiAgICAgICAgdGhpcy5fX3Jvb21fdXVpZCA9IGJ1ZlJlYWRlci5nZXRTdHJpbmcoKVxuICAgICAgICB0aGlzLl9fdXNlcl91dWlkID0gYnVmUmVhZGVyLmdldFN0cmluZygpXG4gICAgICAgIHRoaXMuX19yb2xlID0gYnVmUmVhZGVyLmdldEludDE2KClcbiAgICAgICAgcmV0dXJuIGJ1ZlJlYWRlclxuICAgIH1cbn1cblxuU2VydmljZUVkdWNhdGlvbi5QUklWSUxFR0VfUk9PTV9VU0VSID0gMVxuU2VydmljZUVkdWNhdGlvbi5QUklWSUxFR0VfVVNFUiA9IDJcblNlcnZpY2VFZHVjYXRpb24uUFJJVklMRUdFX0FQUCA9IDNcblxuXG5jbGFzcyBBY2Nlc3NUb2tlbjIge1xuICAgIGNvbnN0cnVjdG9yKGFwcElkLCBhcHBDZXJ0aWZpY2F0ZSwgaXNzdWVUcywgZXhwaXJlKSB7XG4gICAgICAgIHRoaXMuYXBwSWQgPSBhcHBJZFxuICAgICAgICB0aGlzLmFwcENlcnRpZmljYXRlID0gYXBwQ2VydGlmaWNhdGVcbiAgICAgICAgdGhpcy5pc3N1ZVRzID0gaXNzdWVUcyB8fCBuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDBcbiAgICAgICAgdGhpcy5leHBpcmUgPSBleHBpcmVcbiAgICAgICAgLy8gc2FsdCByYW5nZXMgaW4gKDEsIDk5OTk5OTk5KVxuICAgICAgICB0aGlzLnNhbHQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoOTk5OTk5OTkpKSArIDFcbiAgICAgICAgdGhpcy5zZXJ2aWNlcyA9IHt9XG4gICAgfVxuXG4gICAgX19zaWduaW5nKCkge1xuICAgICAgICBsZXQgc2lnbmluZyA9IGVuY29kZUhNYWMobmV3IEJ5dGVCdWYoKS5wdXRVaW50MzIodGhpcy5pc3N1ZVRzKS5wYWNrKCksIHRoaXMuYXBwQ2VydGlmaWNhdGUpXG4gICAgICAgIHNpZ25pbmcgPSBlbmNvZGVITWFjKG5ldyBCeXRlQnVmKCkucHV0VWludDMyKHRoaXMuc2FsdCkucGFjaygpLCBzaWduaW5nKVxuICAgICAgICByZXR1cm4gc2lnbmluZ1xuICAgIH1cblxuICAgIF9fYnVpbGRfY2hlY2soKSB7XG4gICAgICAgIGxldCBpc191dWlkID0gKGRhdGEpID0+IHtcbiAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCAhPT0gQVBQX0lEX0xFTkdUSCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGJ1ZiA9IEJ1ZmZlci5mcm9tKGRhdGEsICdoZXgnKVxuICAgICAgICAgICAgcmV0dXJuICEhYnVmXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7YXBwSWQsIGFwcENlcnRpZmljYXRlLCBzZXJ2aWNlc30gPSB0aGlzXG4gICAgICAgIGlmICghaXNfdXVpZChhcHBJZCkgfHwgIWlzX3V1aWQoYXBwQ2VydGlmaWNhdGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhzZXJ2aWNlcykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIGFkZF9zZXJ2aWNlKHNlcnZpY2UpIHtcbiAgICAgICAgdGhpcy5zZXJ2aWNlc1tzZXJ2aWNlLnNlcnZpY2VfdHlwZSgpXSA9IHNlcnZpY2VcbiAgICB9XG5cbiAgICBidWlsZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9fYnVpbGRfY2hlY2soKSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiXCJcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzaWduaW5nID0gdGhpcy5fX3NpZ25pbmcoKVxuICAgICAgICBsZXQgc2lnbmluZ19pbmZvID0gbmV3IEJ5dGVCdWYoKS5wdXRTdHJpbmcodGhpcy5hcHBJZClcbiAgICAgICAgICAgIC5wdXRVaW50MzIodGhpcy5pc3N1ZVRzKVxuICAgICAgICAgICAgLnB1dFVpbnQzMih0aGlzLmV4cGlyZSlcbiAgICAgICAgICAgIC5wdXRVaW50MzIodGhpcy5zYWx0KVxuICAgICAgICAgICAgLnB1dFVpbnQxNihPYmplY3Qua2V5cyh0aGlzLnNlcnZpY2VzKS5sZW5ndGgpLnBhY2soKVxuICAgICAgICBPYmplY3QudmFsdWVzKHRoaXMuc2VydmljZXMpLmZvckVhY2goc2VydmljZSA9PiB7XG4gICAgICAgICAgICBzaWduaW5nX2luZm8gPSBCdWZmZXIuY29uY2F0KFtzaWduaW5nX2luZm8sIHNlcnZpY2UucGFjaygpXSlcbiAgICAgICAgfSlcblxuICAgICAgICBsZXQgc2lnbmF0dXJlID0gZW5jb2RlSE1hYyhzaWduaW5nLCBzaWduaW5nX2luZm8pXG4gICAgICAgIGxldCBjb250ZW50ID0gQnVmZmVyLmNvbmNhdChbbmV3IEJ5dGVCdWYoKS5wdXRTdHJpbmcoc2lnbmF0dXJlKS5wYWNrKCksIHNpZ25pbmdfaW5mb10pXG4gICAgICAgIGxldCBjb21wcmVzc2VkID0gemxpYi5kZWZsYXRlU3luYyhjb250ZW50KVxuICAgICAgICByZXR1cm4gYCR7Z2V0VmVyc2lvbigpfSR7QnVmZmVyLmZyb20oY29tcHJlc3NlZCkudG9TdHJpbmcoJ2Jhc2U2NCcpfWBcbiAgICB9XG5cbiAgICBmcm9tX3N0cmluZyhvcmlnaW5fdG9rZW4pIHtcbiAgICAgICAgbGV0IG9yaWdpbl92ZXJzaW9uID0gb3JpZ2luX3Rva2VuLnN1YnN0cmluZygwLCBWRVJTSU9OX0xFTkdUSClcbiAgICAgICAgaWYgKG9yaWdpbl92ZXJzaW9uICE9PSBnZXRWZXJzaW9uKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG9yaWdpbl9jb250ZW50ID0gb3JpZ2luX3Rva2VuLnN1YnN0cmluZyhWRVJTSU9OX0xFTkdUSCwgb3JpZ2luX3Rva2VuLmxlbmd0aClcbiAgICAgICAgbGV0IGJ1ZmZlciA9IHpsaWIuaW5mbGF0ZVN5bmMobmV3IEJ1ZmZlcihvcmlnaW5fY29udGVudCwgJ2Jhc2U2NCcpKVxuICAgICAgICBsZXQgYnVmZmVyUmVhZGVyID0gbmV3IFJlYWRCeXRlQnVmKGJ1ZmZlcilcblxuICAgICAgICBsZXQgc2lnbmF0dXJlID0gYnVmZmVyUmVhZGVyLmdldFN0cmluZygpXG4gICAgICAgIHRoaXMuYXBwSWQgPSBidWZmZXJSZWFkZXIuZ2V0U3RyaW5nKClcbiAgICAgICAgdGhpcy5pc3N1ZVRzID0gYnVmZmVyUmVhZGVyLmdldFVpbnQzMigpXG4gICAgICAgIHRoaXMuZXhwaXJlID0gYnVmZmVyUmVhZGVyLmdldFVpbnQzMigpXG4gICAgICAgIHRoaXMuc2FsdCA9IGJ1ZmZlclJlYWRlci5nZXRVaW50MzIoKVxuICAgICAgICBsZXQgc2VydmljZV9jb3VudCA9IGJ1ZmZlclJlYWRlci5nZXRVaW50MTYoKVxuXG4gICAgICAgIGxldCByZW1haW5CdWYgPSBidWZmZXJSZWFkZXIucGFjaygpXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VydmljZV9jb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgYnVmZmVyUmVhZGVyU2VydmljZSA9IG5ldyBSZWFkQnl0ZUJ1ZihyZW1haW5CdWYpXG4gICAgICAgICAgICBsZXQgc2VydmljZV90eXBlID0gYnVmZmVyUmVhZGVyU2VydmljZS5nZXRVaW50MTYoKVxuICAgICAgICAgICAgbGV0IHNlcnZpY2UgPSBuZXcgQWNjZXNzVG9rZW4yLmtTZXJ2aWNlc1tzZXJ2aWNlX3R5cGVdKClcbiAgICAgICAgICAgIHJlbWFpbkJ1ZiA9IHNlcnZpY2UudW5wYWNrKGJ1ZmZlclJlYWRlclNlcnZpY2UucGFjaygpKS5wYWNrKClcbiAgICAgICAgICAgIHRoaXMuc2VydmljZXNbc2VydmljZV90eXBlXSA9IHNlcnZpY2VcbiAgICAgICAgfVxuICAgIH1cbn1cblxudmFyIGVuY29kZUhNYWMgPSBmdW5jdGlvbiAoa2V5LCBtZXNzYWdlKSB7XG4gICAgcmV0dXJuIGNyeXB0by5jcmVhdGVIbWFjKCdzaGEyNTYnLCBrZXkpLnVwZGF0ZShtZXNzYWdlKS5kaWdlc3QoKVxufVxuXG52YXIgQnl0ZUJ1ZiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGhhdCA9IHtcbiAgICAgICAgYnVmZmVyOiBCdWZmZXIuYWxsb2MoMTAyNClcbiAgICAgICAgLCBwb3NpdGlvbjogMFxuICAgIH1cblxuICAgIHRoYXQuYnVmZmVyLmZpbGwoMClcblxuICAgIHRoYXQucGFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG91dCA9IEJ1ZmZlci5hbGxvYyh0aGF0LnBvc2l0aW9uKVxuICAgICAgICB0aGF0LmJ1ZmZlci5jb3B5KG91dCwgMCwgMCwgb3V0Lmxlbmd0aClcbiAgICAgICAgcmV0dXJuIG91dFxuICAgIH1cblxuICAgIHRoYXQucHV0VWludDE2ID0gZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgdGhhdC5idWZmZXIud3JpdGVVSW50MTZMRSh2LCB0aGF0LnBvc2l0aW9uKVxuICAgICAgICB0aGF0LnBvc2l0aW9uICs9IDJcbiAgICAgICAgcmV0dXJuIHRoYXRcbiAgICB9XG5cbiAgICB0aGF0LnB1dFVpbnQzMiA9IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgIHRoYXQuYnVmZmVyLndyaXRlVUludDMyTEUodiwgdGhhdC5wb3NpdGlvbilcbiAgICAgICAgdGhhdC5wb3NpdGlvbiArPSA0XG4gICAgICAgIHJldHVybiB0aGF0XG4gICAgfVxuICAgIHRoYXQucHV0SW50MzIgPSBmdW5jdGlvbiAodikge1xuICAgICAgICB0aGF0LmJ1ZmZlci53cml0ZUludDMyTEUodiwgdGhhdC5wb3NpdGlvbilcbiAgICAgICAgdGhhdC5wb3NpdGlvbiArPSA0XG4gICAgICAgIHJldHVybiB0aGF0XG4gICAgfVxuXG4gICAgdGhhdC5wdXRJbnQxNiA9IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgIHRoYXQuYnVmZmVyLndyaXRlSW50MTZMRSh2LCB0aGF0LnBvc2l0aW9uKVxuICAgICAgICB0aGF0LnBvc2l0aW9uICs9IDJcbiAgICAgICAgcmV0dXJuIHRoYXRcbiAgICB9XG5cbiAgICB0aGF0LnB1dEJ5dGVzID0gZnVuY3Rpb24gKGJ5dGVzKSB7XG4gICAgICAgIHRoYXQucHV0VWludDE2KGJ5dGVzLmxlbmd0aClcbiAgICAgICAgYnl0ZXMuY29weSh0aGF0LmJ1ZmZlciwgdGhhdC5wb3NpdGlvbilcbiAgICAgICAgdGhhdC5wb3NpdGlvbiArPSBieXRlcy5sZW5ndGhcbiAgICAgICAgcmV0dXJuIHRoYXRcbiAgICB9XG5cbiAgICB0aGF0LnB1dFN0cmluZyA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgcmV0dXJuIHRoYXQucHV0Qnl0ZXMoQnVmZmVyLmZyb20oc3RyKSlcbiAgICB9XG5cbiAgICB0aGF0LnB1dFRyZWVNYXAgPSBmdW5jdGlvbiAobWFwKSB7XG4gICAgICAgIGlmICghbWFwKSB7XG4gICAgICAgICAgICB0aGF0LnB1dFVpbnQxNigwKVxuICAgICAgICAgICAgcmV0dXJuIHRoYXRcbiAgICAgICAgfVxuXG4gICAgICAgIHRoYXQucHV0VWludDE2KE9iamVjdC5rZXlzKG1hcCkubGVuZ3RoKVxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gbWFwKSB7XG4gICAgICAgICAgICB0aGF0LnB1dFVpbnQxNihrZXkpXG4gICAgICAgICAgICB0aGF0LnB1dFN0cmluZyhtYXBba2V5XSlcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGF0XG4gICAgfVxuXG4gICAgdGhhdC5wdXRUcmVlTWFwVUludDMyID0gZnVuY3Rpb24gKG1hcCkge1xuICAgICAgICBpZiAoIW1hcCkge1xuICAgICAgICAgICAgdGhhdC5wdXRVaW50MTYoMClcbiAgICAgICAgICAgIHJldHVybiB0aGF0XG4gICAgICAgIH1cblxuICAgICAgICB0aGF0LnB1dFVpbnQxNihPYmplY3Qua2V5cyhtYXApLmxlbmd0aClcbiAgICAgICAgZm9yICh2YXIga2V5IGluIG1hcCkge1xuICAgICAgICAgICAgdGhhdC5wdXRVaW50MTYoa2V5KVxuICAgICAgICAgICAgdGhhdC5wdXRVaW50MzIobWFwW2tleV0pXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhhdFxuICAgIH1cblxuICAgIHJldHVybiB0aGF0XG59XG5cbnZhciBSZWFkQnl0ZUJ1ZiA9IGZ1bmN0aW9uIChieXRlcykge1xuICAgIHZhciB0aGF0ID0ge1xuICAgICAgICBidWZmZXI6IGJ5dGVzXG4gICAgICAgICwgcG9zaXRpb246IDBcbiAgICB9XG5cbiAgICB0aGF0LmdldFVpbnQxNiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJldCA9IHRoYXQuYnVmZmVyLnJlYWRVSW50MTZMRSh0aGF0LnBvc2l0aW9uKVxuICAgICAgICB0aGF0LnBvc2l0aW9uICs9IDJcbiAgICAgICAgcmV0dXJuIHJldFxuICAgIH1cblxuICAgIHRoYXQuZ2V0VWludDMyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmV0ID0gdGhhdC5idWZmZXIucmVhZFVJbnQzMkxFKHRoYXQucG9zaXRpb24pXG4gICAgICAgIHRoYXQucG9zaXRpb24gKz0gNFxuICAgICAgICByZXR1cm4gcmV0XG4gICAgfVxuXG4gICAgdGhhdC5nZXRJbnQxNiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJldCA9IHRoYXQuYnVmZmVyLnJlYWRVSW50MTZMRSh0aGF0LnBvc2l0aW9uKVxuICAgICAgICB0aGF0LnBvc2l0aW9uICs9IDJcbiAgICAgICAgcmV0dXJuIHJldFxuICAgIH1cblxuICAgIHRoYXQuZ2V0U3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbGVuID0gdGhhdC5nZXRVaW50MTYoKVxuXG4gICAgICAgIHZhciBvdXQgPSBCdWZmZXIuYWxsb2MobGVuKVxuICAgICAgICB0aGF0LmJ1ZmZlci5jb3B5KG91dCwgMCwgdGhhdC5wb3NpdGlvbiwgKHRoYXQucG9zaXRpb24gKyBsZW4pKVxuICAgICAgICB0aGF0LnBvc2l0aW9uICs9IGxlblxuICAgICAgICByZXR1cm4gb3V0XG4gICAgfVxuXG4gICAgdGhhdC5nZXRUcmVlTWFwVUludDMyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWFwID0ge31cbiAgICAgICAgdmFyIGxlbiA9IHRoYXQuZ2V0VWludDE2KClcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIGtleSA9IHRoYXQuZ2V0VWludDE2KClcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoYXQuZ2V0VWludDMyKClcbiAgICAgICAgICAgIG1hcFtrZXldID0gdmFsdWVcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWFwXG4gICAgfVxuXG4gICAgdGhhdC5wYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBsZXQgbGVuZ3RoID0gdGhhdC5idWZmZXIubGVuZ3RoXG4gICAgICAgIHZhciBvdXQgPSBCdWZmZXIuYWxsb2MobGVuZ3RoKVxuICAgICAgICB0aGF0LmJ1ZmZlci5jb3B5KG91dCwgMCwgdGhhdC5wb3NpdGlvbiwgbGVuZ3RoKVxuICAgICAgICByZXR1cm4gb3V0XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoYXRcbn1cblxuQWNjZXNzVG9rZW4yLmtTZXJ2aWNlcyA9IHt9XG5BY2Nlc3NUb2tlbjIua1NlcnZpY2VzW2tSdGNTZXJ2aWNlVHlwZV0gPSBTZXJ2aWNlUnRjXG5BY2Nlc3NUb2tlbjIua1NlcnZpY2VzW2tSdG1TZXJ2aWNlVHlwZV0gPSBTZXJ2aWNlUnRtXG5BY2Nlc3NUb2tlbjIua1NlcnZpY2VzW2tGcGFTZXJ2aWNlVHlwZV0gPSBTZXJ2aWNlRnBhXG5BY2Nlc3NUb2tlbjIua1NlcnZpY2VzW2tDaGF0U2VydmljZVR5cGVdID0gU2VydmljZUNoYXRcbkFjY2Vzc1Rva2VuMi5rU2VydmljZXNba0VkdWNhdGlvblNlcnZpY2VUeXBlXSA9IFNlcnZpY2VFZHVjYXRpb25cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgQWNjZXNzVG9rZW4yLCBTZXJ2aWNlUnRjLCBTZXJ2aWNlUnRtLCBTZXJ2aWNlRnBhLCBTZXJ2aWNlQ2hhdCwgU2VydmljZUVkdWNhdGlvbixcbiAgICBrUnRjU2VydmljZVR5cGUsIGtSdG1TZXJ2aWNlVHlwZSwga0ZwYVNlcnZpY2VUeXBlLCBrQ2hhdFNlcnZpY2VUeXBlLCBrRWR1Y2F0aW9uU2VydmljZVR5cGUsXG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/agora-token/src/AccessToken2.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/agora-token/src/ChatTokenBuilder.js":
/*!**********************************************************!*\
  !*** ./node_modules/agora-token/src/ChatTokenBuilder.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const AccessToken = (__webpack_require__(/*! ../src/AccessToken2 */ \"(action-browser)/./node_modules/agora-token/src/AccessToken2.js\").AccessToken2);\nconst ServiceChat = (__webpack_require__(/*! ../src/AccessToken2 */ \"(action-browser)/./node_modules/agora-token/src/AccessToken2.js\").ServiceChat);\n\nclass ChatTokenBuilder {\n    /**\n     * Build the Chat user token.\n     *\n     * @param appId The App ID issued to you by Agora. Apply for a new App ID from\n     * Agora Dashboard if it is missing from your kit. See Get an App ID.\n     * @param appCertificate Certificate of the application that you registered in\n     * the Agora Dashboard. See Get an App Certificate.\n     * @param userUuid The user's id, must be unique.\n     * @param expire represented by the number of seconds elapsed since now. If, for example, you want to access the\n     * Agora Service within 10 minutes after the token is generated, set expireTimestamp as 600(seconds).\n     * @return The chat user token.\n     */\n    static buildUserToken(appId, appCertificate, userUuid, expire) {\n        const token = new AccessToken(appId, appCertificate, null, expire);\n        const serviceChat = new ServiceChat(userUuid);\n        serviceChat.add_privilege(ServiceChat.kPrivilegeUser, expire);\n        token.add_service(serviceChat);\n        return token.build();\n    }\n\n    /**\n     * Build the Chat App token.\n     *\n     * @param appId The App ID issued to you by Agora. Apply for a new App ID from\n     * Agora Dashboard if it is missing from your kit. See Get an App ID.\n     * @param appCertificate Certificate of the application that you registered in\n     * the Agora Dashboard. See Get an App Certificate.\n     * @param expire represented by the number of seconds elapsed since now. If, for example, you want to access the\n     * Agora Service within 10 minutes after the token is generated, set expireTimestamp as 600(seconds).\n     * @return The chat App token.\n     */\n    static buildAppToken(appId, appCertificate, expire) {\n    \tconst token = new AccessToken(appId, appCertificate, null, expire);\n    \tconst serviceChat = new ServiceChat();\n    \tserviceChat.add_privilege(ServiceChat.kPrivilegeApp, expire);\n    \ttoken.add_service(serviceChat);\n    \treturn token.build();\n    }\n}\n\nexports.ChatTokenBuilder = ChatTokenBuilder;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9hZ29yYS10b2tlbi9zcmMvQ2hhdFRva2VuQnVpbGRlci5qcyIsIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0IsZ0lBQTJDO0FBQy9ELG9CQUFvQiwrSEFBMEM7O0FBRTlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd0JBQXdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Fnb3JhLXRva2VuL3NyYy9DaGF0VG9rZW5CdWlsZGVyLmpzPzA4YjAiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgQWNjZXNzVG9rZW4gPSByZXF1aXJlKFwiLi4vc3JjL0FjY2Vzc1Rva2VuMlwiKS5BY2Nlc3NUb2tlbjI7XG5jb25zdCBTZXJ2aWNlQ2hhdCA9IHJlcXVpcmUoXCIuLi9zcmMvQWNjZXNzVG9rZW4yXCIpLlNlcnZpY2VDaGF0O1xuXG5jbGFzcyBDaGF0VG9rZW5CdWlsZGVyIHtcbiAgICAvKipcbiAgICAgKiBCdWlsZCB0aGUgQ2hhdCB1c2VyIHRva2VuLlxuICAgICAqXG4gICAgICogQHBhcmFtIGFwcElkIFRoZSBBcHAgSUQgaXNzdWVkIHRvIHlvdSBieSBBZ29yYS4gQXBwbHkgZm9yIGEgbmV3IEFwcCBJRCBmcm9tXG4gICAgICogQWdvcmEgRGFzaGJvYXJkIGlmIGl0IGlzIG1pc3NpbmcgZnJvbSB5b3VyIGtpdC4gU2VlIEdldCBhbiBBcHAgSUQuXG4gICAgICogQHBhcmFtIGFwcENlcnRpZmljYXRlIENlcnRpZmljYXRlIG9mIHRoZSBhcHBsaWNhdGlvbiB0aGF0IHlvdSByZWdpc3RlcmVkIGluXG4gICAgICogdGhlIEFnb3JhIERhc2hib2FyZC4gU2VlIEdldCBhbiBBcHAgQ2VydGlmaWNhdGUuXG4gICAgICogQHBhcmFtIHVzZXJVdWlkIFRoZSB1c2VyJ3MgaWQsIG11c3QgYmUgdW5pcXVlLlxuICAgICAqIEBwYXJhbSBleHBpcmUgcmVwcmVzZW50ZWQgYnkgdGhlIG51bWJlciBvZiBzZWNvbmRzIGVsYXBzZWQgc2luY2Ugbm93LiBJZiwgZm9yIGV4YW1wbGUsIHlvdSB3YW50IHRvIGFjY2VzcyB0aGVcbiAgICAgKiBBZ29yYSBTZXJ2aWNlIHdpdGhpbiAxMCBtaW51dGVzIGFmdGVyIHRoZSB0b2tlbiBpcyBnZW5lcmF0ZWQsIHNldCBleHBpcmVUaW1lc3RhbXAgYXMgNjAwKHNlY29uZHMpLlxuICAgICAqIEByZXR1cm4gVGhlIGNoYXQgdXNlciB0b2tlbi5cbiAgICAgKi9cbiAgICBzdGF0aWMgYnVpbGRVc2VyVG9rZW4oYXBwSWQsIGFwcENlcnRpZmljYXRlLCB1c2VyVXVpZCwgZXhwaXJlKSB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gbmV3IEFjY2Vzc1Rva2VuKGFwcElkLCBhcHBDZXJ0aWZpY2F0ZSwgbnVsbCwgZXhwaXJlKTtcbiAgICAgICAgY29uc3Qgc2VydmljZUNoYXQgPSBuZXcgU2VydmljZUNoYXQodXNlclV1aWQpO1xuICAgICAgICBzZXJ2aWNlQ2hhdC5hZGRfcHJpdmlsZWdlKFNlcnZpY2VDaGF0LmtQcml2aWxlZ2VVc2VyLCBleHBpcmUpO1xuICAgICAgICB0b2tlbi5hZGRfc2VydmljZShzZXJ2aWNlQ2hhdCk7XG4gICAgICAgIHJldHVybiB0b2tlbi5idWlsZCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJ1aWxkIHRoZSBDaGF0IEFwcCB0b2tlbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhcHBJZCBUaGUgQXBwIElEIGlzc3VlZCB0byB5b3UgYnkgQWdvcmEuIEFwcGx5IGZvciBhIG5ldyBBcHAgSUQgZnJvbVxuICAgICAqIEFnb3JhIERhc2hib2FyZCBpZiBpdCBpcyBtaXNzaW5nIGZyb20geW91ciBraXQuIFNlZSBHZXQgYW4gQXBwIElELlxuICAgICAqIEBwYXJhbSBhcHBDZXJ0aWZpY2F0ZSBDZXJ0aWZpY2F0ZSBvZiB0aGUgYXBwbGljYXRpb24gdGhhdCB5b3UgcmVnaXN0ZXJlZCBpblxuICAgICAqIHRoZSBBZ29yYSBEYXNoYm9hcmQuIFNlZSBHZXQgYW4gQXBwIENlcnRpZmljYXRlLlxuICAgICAqIEBwYXJhbSBleHBpcmUgcmVwcmVzZW50ZWQgYnkgdGhlIG51bWJlciBvZiBzZWNvbmRzIGVsYXBzZWQgc2luY2Ugbm93LiBJZiwgZm9yIGV4YW1wbGUsIHlvdSB3YW50IHRvIGFjY2VzcyB0aGVcbiAgICAgKiBBZ29yYSBTZXJ2aWNlIHdpdGhpbiAxMCBtaW51dGVzIGFmdGVyIHRoZSB0b2tlbiBpcyBnZW5lcmF0ZWQsIHNldCBleHBpcmVUaW1lc3RhbXAgYXMgNjAwKHNlY29uZHMpLlxuICAgICAqIEByZXR1cm4gVGhlIGNoYXQgQXBwIHRva2VuLlxuICAgICAqL1xuICAgIHN0YXRpYyBidWlsZEFwcFRva2VuKGFwcElkLCBhcHBDZXJ0aWZpY2F0ZSwgZXhwaXJlKSB7XG4gICAgXHRjb25zdCB0b2tlbiA9IG5ldyBBY2Nlc3NUb2tlbihhcHBJZCwgYXBwQ2VydGlmaWNhdGUsIG51bGwsIGV4cGlyZSk7XG4gICAgXHRjb25zdCBzZXJ2aWNlQ2hhdCA9IG5ldyBTZXJ2aWNlQ2hhdCgpO1xuICAgIFx0c2VydmljZUNoYXQuYWRkX3ByaXZpbGVnZShTZXJ2aWNlQ2hhdC5rUHJpdmlsZWdlQXBwLCBleHBpcmUpO1xuICAgIFx0dG9rZW4uYWRkX3NlcnZpY2Uoc2VydmljZUNoYXQpO1xuICAgIFx0cmV0dXJuIHRva2VuLmJ1aWxkKCk7XG4gICAgfVxufVxuXG5leHBvcnRzLkNoYXRUb2tlbkJ1aWxkZXIgPSBDaGF0VG9rZW5CdWlsZGVyO1xuXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/agora-token/src/ChatTokenBuilder.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/agora-token/src/EducationTokenBuilder.js":
/*!***************************************************************!*\
  !*** ./node_modules/agora-token/src/EducationTokenBuilder.js ***!
  \***************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("const AccessToken = (__webpack_require__(/*! ../src/AccessToken2 */ \"(action-browser)/./node_modules/agora-token/src/AccessToken2.js\").AccessToken2)\nconst ServiceEducation = (__webpack_require__(/*! ../src/AccessToken2 */ \"(action-browser)/./node_modules/agora-token/src/AccessToken2.js\").ServiceEducation)\nconst ServiceRtm = (__webpack_require__(/*! ../src/AccessToken2 */ \"(action-browser)/./node_modules/agora-token/src/AccessToken2.js\").ServiceRtm)\nconst ServiceChat = (__webpack_require__(/*! ../src/AccessToken2 */ \"(action-browser)/./node_modules/agora-token/src/AccessToken2.js\").ServiceChat)\nconst md5 = __webpack_require__(/*! md5 */ \"(action-browser)/./node_modules/md5/md5.js\")\n\n\nclass EducationTokenBuilder {\n    /**\n     * build user room token\n     * @param appId             The App ID issued to you by Agora. Apply for a new App ID from\n     *                          Agora Dashboard if it is missing from your kit. See Get an App ID.\n     * @param appCertificate    Certificate of the application that you registered in\n     *                          the Agora Dashboard. See Get an App Certificate.\n     * @param roomUuid          The room's id, must be unique.\n     * @param userUuid          The user's id, must be unique.\n     * @param role              The user's role, such as 0(invisible), 1(teacher), 2(student), 3(assistant), 4(observer) etc.\n     * @param expire            represented by the number of seconds elapsed since now. If, for example, you want to access the\n     *                          Agora Service within 10 minutes after the token is generated, set expireTimestamp as 600(seconds).\n     * @return The education user room token.\n     */\n    static buildRoomUserToken(appId, appCertificate, roomUuid, userUuid, role, expire) {\n        let accessToken = new AccessToken(appId, appCertificate, 0, expire)\n\n        let chatUserId = md5(userUuid)\n        let eduService = new ServiceEducation(roomUuid, userUuid, role)\n        accessToken.add_service(eduService)\n\n        let rtmService = new ServiceRtm(userUuid)\n        rtmService.add_privilege(ServiceRtm.kPrivilegeLogin, expire)\n        accessToken.add_service(rtmService)\n\n        let chatService = new ServiceChat(chatUserId)\n        chatService.add_privilege(ServiceChat.kPrivilegeUser, expire)\n        accessToken.add_service(chatService)\n\n        return accessToken.build()\n    }\n\n    /**\n     * build user individual token\n     * @param appId             The App ID issued to you by Agora. Apply for a new App ID from\n     *                          Agora Dashboard if it is missing from your kit. See Get an App ID.\n     * @param appCertificate    Certificate of the application that you registered in\n     *                          the Agora Dashboard. See Get an App Certificate.\n     * @param userUuid          The user's id, must be unique.\n     * @param expire            represented by the number of seconds elapsed since now. If, for example, you want to access the\n     *                          Agora Service within 10 minutes after the token is generated, set expireTimestamp as 600(seconds).\n     * @return The education user token.\n     */\n    static buildUserToken(appId, appCertificate, userUuid, expire) {\n        let accessToken = new AccessToken(appId, appCertificate, 0, expire)\n        let eduService = new ServiceEducation(\"\", userUuid)\n        eduService.add_privilege(ServiceEducation.PRIVILEGE_USER, expire)\n        accessToken.add_service(eduService)\n\n        return accessToken.build()\n    }\n\n    /**\n     * build app global token\n     * @param appId          The App ID issued to you by Agora. Apply for a new App ID from\n     *                       Agora Dashboard if it is missing from your kit. See Get an App ID.\n     * @param appCertificate Certificate of the application that you registered in\n     *                       the Agora Dashboard. See Get an App Certificate.\n     * @param expire         represented by the number of seconds elapsed since now. If, for example, you want to access the\n     *                       Agora Service within 10 minutes after the token is generated, set expireTimestamp as 600(seconds).\n     * @return The education global token.\n     */\n    static buildAppToken(appId, appCertificate, expire) {\n        let accessToken = new AccessToken(appId, appCertificate, 0, expire)\n        let eduService = new ServiceEducation()\n        eduService.add_privilege(ServiceEducation.PRIVILEGE_APP, expire)\n        accessToken.add_service(eduService)\n\n        return accessToken.build()\n    }\n}\n\nmodule.exports.EducationTokenBuilder = EducationTokenBuilder\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9hZ29yYS10b2tlbi9zcmMvRWR1Y2F0aW9uVG9rZW5CdWlsZGVyLmpzIiwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQixnSUFBMkM7QUFDL0QseUJBQXlCLG9JQUErQztBQUN4RSxtQkFBbUIsOEhBQXlDO0FBQzVELG9CQUFvQiwrSEFBMEM7QUFDOUQsWUFBWSxtQkFBTyxDQUFDLHVEQUFLOzs7QUFHekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsb0NBQW9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Fnb3JhLXRva2VuL3NyYy9FZHVjYXRpb25Ub2tlbkJ1aWxkZXIuanM/NWU3MSJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBBY2Nlc3NUb2tlbiA9IHJlcXVpcmUoJy4uL3NyYy9BY2Nlc3NUb2tlbjInKS5BY2Nlc3NUb2tlbjJcbmNvbnN0IFNlcnZpY2VFZHVjYXRpb24gPSByZXF1aXJlKCcuLi9zcmMvQWNjZXNzVG9rZW4yJykuU2VydmljZUVkdWNhdGlvblxuY29uc3QgU2VydmljZVJ0bSA9IHJlcXVpcmUoJy4uL3NyYy9BY2Nlc3NUb2tlbjInKS5TZXJ2aWNlUnRtXG5jb25zdCBTZXJ2aWNlQ2hhdCA9IHJlcXVpcmUoJy4uL3NyYy9BY2Nlc3NUb2tlbjInKS5TZXJ2aWNlQ2hhdFxuY29uc3QgbWQ1ID0gcmVxdWlyZShcIm1kNVwiKVxuXG5cbmNsYXNzIEVkdWNhdGlvblRva2VuQnVpbGRlciB7XG4gICAgLyoqXG4gICAgICogYnVpbGQgdXNlciByb29tIHRva2VuXG4gICAgICogQHBhcmFtIGFwcElkICAgICAgICAgICAgIFRoZSBBcHAgSUQgaXNzdWVkIHRvIHlvdSBieSBBZ29yYS4gQXBwbHkgZm9yIGEgbmV3IEFwcCBJRCBmcm9tXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgIEFnb3JhIERhc2hib2FyZCBpZiBpdCBpcyBtaXNzaW5nIGZyb20geW91ciBraXQuIFNlZSBHZXQgYW4gQXBwIElELlxuICAgICAqIEBwYXJhbSBhcHBDZXJ0aWZpY2F0ZSAgICBDZXJ0aWZpY2F0ZSBvZiB0aGUgYXBwbGljYXRpb24gdGhhdCB5b3UgcmVnaXN0ZXJlZCBpblxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgQWdvcmEgRGFzaGJvYXJkLiBTZWUgR2V0IGFuIEFwcCBDZXJ0aWZpY2F0ZS5cbiAgICAgKiBAcGFyYW0gcm9vbVV1aWQgICAgICAgICAgVGhlIHJvb20ncyBpZCwgbXVzdCBiZSB1bmlxdWUuXG4gICAgICogQHBhcmFtIHVzZXJVdWlkICAgICAgICAgIFRoZSB1c2VyJ3MgaWQsIG11c3QgYmUgdW5pcXVlLlxuICAgICAqIEBwYXJhbSByb2xlICAgICAgICAgICAgICBUaGUgdXNlcidzIHJvbGUsIHN1Y2ggYXMgMChpbnZpc2libGUpLCAxKHRlYWNoZXIpLCAyKHN0dWRlbnQpLCAzKGFzc2lzdGFudCksIDQob2JzZXJ2ZXIpIGV0Yy5cbiAgICAgKiBAcGFyYW0gZXhwaXJlICAgICAgICAgICAgcmVwcmVzZW50ZWQgYnkgdGhlIG51bWJlciBvZiBzZWNvbmRzIGVsYXBzZWQgc2luY2Ugbm93LiBJZiwgZm9yIGV4YW1wbGUsIHlvdSB3YW50IHRvIGFjY2VzcyB0aGVcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgQWdvcmEgU2VydmljZSB3aXRoaW4gMTAgbWludXRlcyBhZnRlciB0aGUgdG9rZW4gaXMgZ2VuZXJhdGVkLCBzZXQgZXhwaXJlVGltZXN0YW1wIGFzIDYwMChzZWNvbmRzKS5cbiAgICAgKiBAcmV0dXJuIFRoZSBlZHVjYXRpb24gdXNlciByb29tIHRva2VuLlxuICAgICAqL1xuICAgIHN0YXRpYyBidWlsZFJvb21Vc2VyVG9rZW4oYXBwSWQsIGFwcENlcnRpZmljYXRlLCByb29tVXVpZCwgdXNlclV1aWQsIHJvbGUsIGV4cGlyZSkge1xuICAgICAgICBsZXQgYWNjZXNzVG9rZW4gPSBuZXcgQWNjZXNzVG9rZW4oYXBwSWQsIGFwcENlcnRpZmljYXRlLCAwLCBleHBpcmUpXG5cbiAgICAgICAgbGV0IGNoYXRVc2VySWQgPSBtZDUodXNlclV1aWQpXG4gICAgICAgIGxldCBlZHVTZXJ2aWNlID0gbmV3IFNlcnZpY2VFZHVjYXRpb24ocm9vbVV1aWQsIHVzZXJVdWlkLCByb2xlKVxuICAgICAgICBhY2Nlc3NUb2tlbi5hZGRfc2VydmljZShlZHVTZXJ2aWNlKVxuXG4gICAgICAgIGxldCBydG1TZXJ2aWNlID0gbmV3IFNlcnZpY2VSdG0odXNlclV1aWQpXG4gICAgICAgIHJ0bVNlcnZpY2UuYWRkX3ByaXZpbGVnZShTZXJ2aWNlUnRtLmtQcml2aWxlZ2VMb2dpbiwgZXhwaXJlKVxuICAgICAgICBhY2Nlc3NUb2tlbi5hZGRfc2VydmljZShydG1TZXJ2aWNlKVxuXG4gICAgICAgIGxldCBjaGF0U2VydmljZSA9IG5ldyBTZXJ2aWNlQ2hhdChjaGF0VXNlcklkKVxuICAgICAgICBjaGF0U2VydmljZS5hZGRfcHJpdmlsZWdlKFNlcnZpY2VDaGF0LmtQcml2aWxlZ2VVc2VyLCBleHBpcmUpXG4gICAgICAgIGFjY2Vzc1Rva2VuLmFkZF9zZXJ2aWNlKGNoYXRTZXJ2aWNlKVxuXG4gICAgICAgIHJldHVybiBhY2Nlc3NUb2tlbi5idWlsZCgpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogYnVpbGQgdXNlciBpbmRpdmlkdWFsIHRva2VuXG4gICAgICogQHBhcmFtIGFwcElkICAgICAgICAgICAgIFRoZSBBcHAgSUQgaXNzdWVkIHRvIHlvdSBieSBBZ29yYS4gQXBwbHkgZm9yIGEgbmV3IEFwcCBJRCBmcm9tXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgIEFnb3JhIERhc2hib2FyZCBpZiBpdCBpcyBtaXNzaW5nIGZyb20geW91ciBraXQuIFNlZSBHZXQgYW4gQXBwIElELlxuICAgICAqIEBwYXJhbSBhcHBDZXJ0aWZpY2F0ZSAgICBDZXJ0aWZpY2F0ZSBvZiB0aGUgYXBwbGljYXRpb24gdGhhdCB5b3UgcmVnaXN0ZXJlZCBpblxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgQWdvcmEgRGFzaGJvYXJkLiBTZWUgR2V0IGFuIEFwcCBDZXJ0aWZpY2F0ZS5cbiAgICAgKiBAcGFyYW0gdXNlclV1aWQgICAgICAgICAgVGhlIHVzZXIncyBpZCwgbXVzdCBiZSB1bmlxdWUuXG4gICAgICogQHBhcmFtIGV4cGlyZSAgICAgICAgICAgIHJlcHJlc2VudGVkIGJ5IHRoZSBudW1iZXIgb2Ygc2Vjb25kcyBlbGFwc2VkIHNpbmNlIG5vdy4gSWYsIGZvciBleGFtcGxlLCB5b3Ugd2FudCB0byBhY2Nlc3MgdGhlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgIEFnb3JhIFNlcnZpY2Ugd2l0aGluIDEwIG1pbnV0ZXMgYWZ0ZXIgdGhlIHRva2VuIGlzIGdlbmVyYXRlZCwgc2V0IGV4cGlyZVRpbWVzdGFtcCBhcyA2MDAoc2Vjb25kcykuXG4gICAgICogQHJldHVybiBUaGUgZWR1Y2F0aW9uIHVzZXIgdG9rZW4uXG4gICAgICovXG4gICAgc3RhdGljIGJ1aWxkVXNlclRva2VuKGFwcElkLCBhcHBDZXJ0aWZpY2F0ZSwgdXNlclV1aWQsIGV4cGlyZSkge1xuICAgICAgICBsZXQgYWNjZXNzVG9rZW4gPSBuZXcgQWNjZXNzVG9rZW4oYXBwSWQsIGFwcENlcnRpZmljYXRlLCAwLCBleHBpcmUpXG4gICAgICAgIGxldCBlZHVTZXJ2aWNlID0gbmV3IFNlcnZpY2VFZHVjYXRpb24oXCJcIiwgdXNlclV1aWQpXG4gICAgICAgIGVkdVNlcnZpY2UuYWRkX3ByaXZpbGVnZShTZXJ2aWNlRWR1Y2F0aW9uLlBSSVZJTEVHRV9VU0VSLCBleHBpcmUpXG4gICAgICAgIGFjY2Vzc1Rva2VuLmFkZF9zZXJ2aWNlKGVkdVNlcnZpY2UpXG5cbiAgICAgICAgcmV0dXJuIGFjY2Vzc1Rva2VuLmJ1aWxkKClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBidWlsZCBhcHAgZ2xvYmFsIHRva2VuXG4gICAgICogQHBhcmFtIGFwcElkICAgICAgICAgIFRoZSBBcHAgSUQgaXNzdWVkIHRvIHlvdSBieSBBZ29yYS4gQXBwbHkgZm9yIGEgbmV3IEFwcCBJRCBmcm9tXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgIEFnb3JhIERhc2hib2FyZCBpZiBpdCBpcyBtaXNzaW5nIGZyb20geW91ciBraXQuIFNlZSBHZXQgYW4gQXBwIElELlxuICAgICAqIEBwYXJhbSBhcHBDZXJ0aWZpY2F0ZSBDZXJ0aWZpY2F0ZSBvZiB0aGUgYXBwbGljYXRpb24gdGhhdCB5b3UgcmVnaXN0ZXJlZCBpblxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICB0aGUgQWdvcmEgRGFzaGJvYXJkLiBTZWUgR2V0IGFuIEFwcCBDZXJ0aWZpY2F0ZS5cbiAgICAgKiBAcGFyYW0gZXhwaXJlICAgICAgICAgcmVwcmVzZW50ZWQgYnkgdGhlIG51bWJlciBvZiBzZWNvbmRzIGVsYXBzZWQgc2luY2Ugbm93LiBJZiwgZm9yIGV4YW1wbGUsIHlvdSB3YW50IHRvIGFjY2VzcyB0aGVcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgQWdvcmEgU2VydmljZSB3aXRoaW4gMTAgbWludXRlcyBhZnRlciB0aGUgdG9rZW4gaXMgZ2VuZXJhdGVkLCBzZXQgZXhwaXJlVGltZXN0YW1wIGFzIDYwMChzZWNvbmRzKS5cbiAgICAgKiBAcmV0dXJuIFRoZSBlZHVjYXRpb24gZ2xvYmFsIHRva2VuLlxuICAgICAqL1xuICAgIHN0YXRpYyBidWlsZEFwcFRva2VuKGFwcElkLCBhcHBDZXJ0aWZpY2F0ZSwgZXhwaXJlKSB7XG4gICAgICAgIGxldCBhY2Nlc3NUb2tlbiA9IG5ldyBBY2Nlc3NUb2tlbihhcHBJZCwgYXBwQ2VydGlmaWNhdGUsIDAsIGV4cGlyZSlcbiAgICAgICAgbGV0IGVkdVNlcnZpY2UgPSBuZXcgU2VydmljZUVkdWNhdGlvbigpXG4gICAgICAgIGVkdVNlcnZpY2UuYWRkX3ByaXZpbGVnZShTZXJ2aWNlRWR1Y2F0aW9uLlBSSVZJTEVHRV9BUFAsIGV4cGlyZSlcbiAgICAgICAgYWNjZXNzVG9rZW4uYWRkX3NlcnZpY2UoZWR1U2VydmljZSlcblxuICAgICAgICByZXR1cm4gYWNjZXNzVG9rZW4uYnVpbGQoKVxuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMuRWR1Y2F0aW9uVG9rZW5CdWlsZGVyID0gRWR1Y2F0aW9uVG9rZW5CdWlsZGVyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/agora-token/src/EducationTokenBuilder.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/agora-token/src/FpaTokenBuilder.js":
/*!*********************************************************!*\
  !*** ./node_modules/agora-token/src/FpaTokenBuilder.js ***!
  \*********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("const AccessToken = (__webpack_require__(/*! ../src/AccessToken2 */ \"(action-browser)/./node_modules/agora-token/src/AccessToken2.js\").AccessToken2)\nconst ServiceFpa = (__webpack_require__(/*! ../src/AccessToken2 */ \"(action-browser)/./node_modules/agora-token/src/AccessToken2.js\").ServiceFpa)\n\nclass FpaTokenBuilder {\n    /**\n     * Build the FPA token.\n     * @param appId The App ID issued to you by Agora. Apply for a new App ID from\n     * Agora Dashboard if it is missing from your kit. See Get an App ID.\n     * @param appCertificate Certificate of the application that you registered in\n     * the Agora Dashboard. See Get an App Certificate.\n     * @return The FPA token.\n     */\n    static buildToken(appId, appCertificate) {\n        let token = new AccessToken(appId, appCertificate, 0, 24 * 3600)\n\n        let serviceFpa = new ServiceFpa()\n        serviceFpa.add_privilege(ServiceFpa.kPrivilegeLogin, 0)\n        token.add_service(serviceFpa)\n\n        return token.build()\n    }\n}\n\nmodule.exports.FpaTokenBuilder = FpaTokenBuilder\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9hZ29yYS10b2tlbi9zcmMvRnBhVG9rZW5CdWlsZGVyLmpzIiwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQixnSUFBMkM7QUFDL0QsbUJBQW1CLDhIQUF5Qzs7QUFFNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLDhCQUE4QiIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hZ29yYS10b2tlbi9zcmMvRnBhVG9rZW5CdWlsZGVyLmpzPzAyMDUiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgQWNjZXNzVG9rZW4gPSByZXF1aXJlKCcuLi9zcmMvQWNjZXNzVG9rZW4yJykuQWNjZXNzVG9rZW4yXG5jb25zdCBTZXJ2aWNlRnBhID0gcmVxdWlyZSgnLi4vc3JjL0FjY2Vzc1Rva2VuMicpLlNlcnZpY2VGcGFcblxuY2xhc3MgRnBhVG9rZW5CdWlsZGVyIHtcbiAgICAvKipcbiAgICAgKiBCdWlsZCB0aGUgRlBBIHRva2VuLlxuICAgICAqIEBwYXJhbSBhcHBJZCBUaGUgQXBwIElEIGlzc3VlZCB0byB5b3UgYnkgQWdvcmEuIEFwcGx5IGZvciBhIG5ldyBBcHAgSUQgZnJvbVxuICAgICAqIEFnb3JhIERhc2hib2FyZCBpZiBpdCBpcyBtaXNzaW5nIGZyb20geW91ciBraXQuIFNlZSBHZXQgYW4gQXBwIElELlxuICAgICAqIEBwYXJhbSBhcHBDZXJ0aWZpY2F0ZSBDZXJ0aWZpY2F0ZSBvZiB0aGUgYXBwbGljYXRpb24gdGhhdCB5b3UgcmVnaXN0ZXJlZCBpblxuICAgICAqIHRoZSBBZ29yYSBEYXNoYm9hcmQuIFNlZSBHZXQgYW4gQXBwIENlcnRpZmljYXRlLlxuICAgICAqIEByZXR1cm4gVGhlIEZQQSB0b2tlbi5cbiAgICAgKi9cbiAgICBzdGF0aWMgYnVpbGRUb2tlbihhcHBJZCwgYXBwQ2VydGlmaWNhdGUpIHtcbiAgICAgICAgbGV0IHRva2VuID0gbmV3IEFjY2Vzc1Rva2VuKGFwcElkLCBhcHBDZXJ0aWZpY2F0ZSwgMCwgMjQgKiAzNjAwKVxuXG4gICAgICAgIGxldCBzZXJ2aWNlRnBhID0gbmV3IFNlcnZpY2VGcGEoKVxuICAgICAgICBzZXJ2aWNlRnBhLmFkZF9wcml2aWxlZ2UoU2VydmljZUZwYS5rUHJpdmlsZWdlTG9naW4sIDApXG4gICAgICAgIHRva2VuLmFkZF9zZXJ2aWNlKHNlcnZpY2VGcGEpXG5cbiAgICAgICAgcmV0dXJuIHRva2VuLmJ1aWxkKClcbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzLkZwYVRva2VuQnVpbGRlciA9IEZwYVRva2VuQnVpbGRlclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/agora-token/src/FpaTokenBuilder.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/agora-token/src/RtcTokenBuilder2.js":
/*!**********************************************************!*\
  !*** ./node_modules/agora-token/src/RtcTokenBuilder2.js ***!
  \**********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("const AccessToken = (__webpack_require__(/*! ../src/AccessToken2 */ \"(action-browser)/./node_modules/agora-token/src/AccessToken2.js\").AccessToken2)\nconst ServiceRtc = (__webpack_require__(/*! ../src/AccessToken2 */ \"(action-browser)/./node_modules/agora-token/src/AccessToken2.js\").ServiceRtc)\n\nconst Role = {\n    // for live broadcaster\n    PUBLISHER: 1,\n\n    // default, for live audience\n    SUBSCRIBER: 2,\n}\n\nclass RtcTokenBuilder {\n    /**\n     * Builds an RTC token using an Integer uid.\n     * @param {*} appId  The App ID issued to you by Agora.\n     * @param {*} appCertificate Certificate of the application that you registered in the Agora Dashboard.\n     * @param {*} channelName The unique channel name for the AgoraRTC session in the string format. The string length must be less than 64 bytes. Supported character scopes are:\n     * - The 26 lowercase English letters: a to z.\n     * - The 26 uppercase English letters: A to Z.\n     * - The 10 digits: 0 to 9.\n     * - The space.\n     * - \"!\", \"#\", \"$\", \"%\", \"&\", \"(\", \")\", \"+\", \"-\", \":\", \";\", \"<\", \"=\", \".\", \">\", \"?\", \"@\", \"[\", \"]\", \"^\", \"_\", \" {\", \"}\", \"|\", \"~\", \",\".\n     * @param {*} uid User ID. A 32-bit unsigned integer with a value ranging from 1 to (2^32-1).\n     * @param {*} role See #userRole.\n     * - Role.PUBLISHER; RECOMMENDED. Use this role for a voice/video call or a live broadcast.\n     * - Role.SUBSCRIBER: ONLY use this role if your live-broadcast scenario requires authentication for [Hosting-in](https://docs.agora.io/en/Agora%20Platform/terms?platform=All%20Platforms#hosting-in). In order for this role to take effect, please contact our support team to enable authentication for Hosting-in for you. Otherwise, Role_Subscriber still has the same privileges as Role_Publisher.\n     * @param {*} token_expire epresented by the number of seconds elapsed since now. If, for example, you want to access the Agora Service within 10 minutes after the token is generated, set token_expire as 600(seconds)\n     * @param {*} privilege_expire represented by the number of seconds elapsed since now. If, for example, you want to enable your privilege for 10 minutes, set privilege_expire as 600(seconds).     * @return The new Token.\n     */\n    static buildTokenWithUid(appId, appCertificate, channelName, uid, role,  token_expire, privilege_expire = 0) {\n        return this.buildTokenWithUserAccount(appId, appCertificate, channelName, uid, role, token_expire, privilege_expire)\n    }\n\n    /**\n     * Builds an RTC token using an Integer uid.\n     * @param {*} appId  The App ID issued to you by Agora.\n     * @param {*} appCertificate Certificate of the application that you registered in the Agora Dashboard.\n     * @param {*} channelName The unique channel name for the AgoraRTC session in the string format. The string length must be less than 64 bytes. Supported character scopes are:\n     * - The 26 lowercase English letters: a to z.\n     * - The 26 uppercase English letters: A to Z.\n     * - The 10 digits: 0 to 9.\n     * - The space.\n     * - \"!\", \"#\", \"$\", \"%\", \"&\", \"(\", \")\", \"+\", \"-\", \":\", \";\", \"<\", \"=\", \".\", \">\", \"?\", \"@\", \"[\", \"]\", \"^\", \"_\", \" {\", \"}\", \"|\", \"~\", \",\".\n     * @param {*} account The user account.\n     * @param {*} role See #userRole.\n     * - Role.PUBLISHER; RECOMMENDED. Use this role for a voice/video call or a live broadcast.\n     * - Role.SUBSCRIBER: ONLY use this role if your live-broadcast scenario requires authentication for [Hosting-in](https://docs.agora.io/en/Agora%20Platform/terms?platform=All%20Platforms#hosting-in). In order for this role to take effect, please contact our support team to enable authentication for Hosting-in for you. Otherwise, Role_Subscriber still has the same privileges as Role_Publisher.\n     * @param {*} token_expire epresented by the number of seconds elapsed since now. If, for example, you want to access the Agora Service within 10 minutes after the token is generated, set token_expire as 600(seconds)\n     * @param {*} privilege_expire represented by the number of seconds elapsed since now. If, for example, you want to enable your privilege for 10 minutes, set privilege_expire as 600(seconds).\n     * @return The new Token.\n     */\n    static buildTokenWithUserAccount(appId, appCertificate, channelName, account, role, token_expire, privilege_expire = 0) {\n        let token = new AccessToken(appId, appCertificate, 0, token_expire)\n\n        let serviceRtc = new ServiceRtc(channelName, account)\n        serviceRtc.add_privilege(ServiceRtc.kPrivilegeJoinChannel, privilege_expire)\n        if (role == Role.PUBLISHER) {\n            serviceRtc.add_privilege(ServiceRtc.kPrivilegePublishAudioStream, privilege_expire)\n            serviceRtc.add_privilege(ServiceRtc.kPrivilegePublishVideoStream, privilege_expire)\n            serviceRtc.add_privilege(ServiceRtc.kPrivilegePublishDataStream, privilege_expire)\n        }\n        token.add_service(serviceRtc)\n\n        return token.build()\n    }\n\n    /**\n     * Generates an RTC token with the specified privilege.\n     *\n     * This method supports generating a token with the following privileges:\n     * - Joining an RTC channel.\n     * - Publishing audio in an RTC channel.\n     * - Publishing video in an RTC channel.\n     * - Publishing data streams in an RTC channel.\n     *\n     * The privileges for publishing audio, video, and data streams in an RTC channel apply only if you have\n     * enabled co-host authentication.\n     *\n     * A user can have multiple privileges. Each privilege is valid for a maximum of 24 hours.\n     * The SDK triggers the onTokenPrivilegeWillExpire and onRequestToken callbacks when the token is about to expire\n     * or has expired. The callbacks do not report the specific privilege affected, and you need to maintain\n     * the respective timestamp for each privilege in your app logic. After receiving the callback, you need\n     * to generate a new token, and then call renewToken to pass the new token to the SDK, or call joinChannel to re-join\n     * the channel.\n     *\n     * @note\n     * Agora recommends setting a reasonable timestamp for each privilege according to your scenario.\n     * Suppose the expiration timestamp for joining the channel is set earlier than that for publishing audio.\n     * When the token for joining the channel expires, the user is immediately kicked off the RTC channel\n     * and cannot publish any audio stream, even though the timestamp for publishing audio has not expired.\n     *\n     * @param appId The App ID of your Agora project.\n     * @param appCertificate The App Certificate of your Agora project.\n     * @param channelName The unique channel name for the Agora RTC session in string format. The string length must be less than 64 bytes. The channel name may contain the following characters:\n     * - All lowercase English letters: a to z.\n     * - All uppercase English letters: A to Z.\n     * - All numeric characters: 0 to 9.\n     * - The space character.\n     * - \"!\", \"#\", \"$\", \"%\", \"&\", \"(\", \")\", \"+\", \"-\", \":\", \";\", \"<\", \"=\", \".\", \">\", \"?\", \"@\", \"[\", \"]\", \"^\", \"_\", \" {\", \"}\", \"|\", \"~\", \",\".\n     * @param uid The user ID. A 32-bit unsigned integer with a value range from 1 to (2^32 - 1). It must be unique. Set uid as 0, if you do not want to authenticate the user ID, that is, any uid from the app client can join the channel.\n     * @param tokenExpire represented by the number of seconds elapsed since now. If, for example, you want to access the\n     * Agora Service within 10 minutes after the token is generated, set token_expire as 600(seconds).\n     * @param joinChannelPrivilegeExpire The Unix timestamp when the privilege for joining the channel expires, represented\n     * by the sum of the current timestamp plus the valid time period of the token. For example, if you set joinChannelPrivilegeExpire as the\n     * current timestamp plus 600 seconds, the token expires in 10 minutes.\n     * @param pubAudioPrivilegeExpire The Unix timestamp when the privilege for publishing audio expires, represented\n     * by the sum of the current timestamp plus the valid time period of the token. For example, if you set pubAudioPrivilegeExpire as the\n     * current timestamp plus 600 seconds, the token expires in 10 minutes. If you do not want to enable this privilege,\n     * set pubAudioPrivilegeExpire as the current Unix timestamp.\n     * @param pubVideoPrivilegeExpire The Unix timestamp when the privilege for publishing video expires, represented\n     * by the sum of the current timestamp plus the valid time period of the token. For example, if you set pubVideoPrivilegeExpire as the\n     * current timestamp plus 600 seconds, the token expires in 10 minutes. If you do not want to enable this privilege,\n     * set pubVideoPrivilegeExpire as the current Unix timestamp.\n     * @param pubDataStreamPrivilegeExpire The Unix timestamp when the privilege for publishing data streams expires, represented\n     * by the sum of the current timestamp plus the valid time period of the token. For example, if you set pubDataStreamPrivilegeExpire as the\n     * current timestamp plus 600 seconds, the token expires in 10 minutes. If you do not want to enable this privilege,\n     * set pubDataStreamPrivilegeExpire as the current Unix timestamp.\n     * @return The new Token\n     */\n    static buildTokenWithUidAndPrivilege(appId, appCertificate, channelName, uid,\n                                         tokenExpire, joinChannelPrivilegeExpire, pubAudioPrivilegeExpire,\n                                         pubVideoPrivilegeExpire, pubDataStreamPrivilegeExpire) {\n        return this.BuildTokenWithUserAccountAndPrivilege(appId, appCertificate, channelName, uid,\n            tokenExpire, joinChannelPrivilegeExpire, pubAudioPrivilegeExpire, pubVideoPrivilegeExpire, pubDataStreamPrivilegeExpire)\n    }\n\n    /**\n     * Generates an RTC token with the specified privilege.\n     *\n     * This method supports generating a token with the following privileges:\n     * - Joining an RTC channel.\n     * - Publishing audio in an RTC channel.\n     * - Publishing video in an RTC channel.\n     * - Publishing data streams in an RTC channel.\n     *\n     * The privileges for publishing audio, video, and data streams in an RTC channel apply only if you have\n     * enabled co-host authentication.\n     *\n     * A user can have multiple privileges. Each privilege is valid for a maximum of 24 hours.\n     * The SDK triggers the onTokenPrivilegeWillExpire and onRequestToken callbacks when the token is about to expire\n     * or has expired. The callbacks do not report the specific privilege affected, and you need to maintain\n     * the respective timestamp for each privilege in your app logic. After receiving the callback, you need\n     * to generate a new token, and then call renewToken to pass the new token to the SDK, or call joinChannel to re-join\n     * the channel.\n     *\n     * @note\n     * Agora recommends setting a reasonable timestamp for each privilege according to your scenario.\n     * Suppose the expiration timestamp for joining the channel is set earlier than that for publishing audio.\n     * When the token for joining the channel expires, the user is immediately kicked off the RTC channel\n     * and cannot publish any audio stream, even though the timestamp for publishing audio has not expired.\n     *\n     * @param appId The App ID of your Agora project.\n     * @param appCertificate The App Certificate of your Agora project.\n     * @param channelName The unique channel name for the Agora RTC session in string format. The string length must be less than 64 bytes. The channel name may contain the following characters:\n     * - All lowercase English letters: a to z.\n     * - All uppercase English letters: A to Z.\n     * - All numeric characters: 0 to 9.\n     * - The space character.\n     * - \"!\", \"#\", \"$\", \"%\", \"&\", \"(\", \")\", \"+\", \"-\", \":\", \";\", \"<\", \"=\", \".\", \">\", \"?\", \"@\", \"[\", \"]\", \"^\", \"_\", \" {\", \"}\", \"|\", \"~\", \",\".\n     * @param userAccount The user account.\n     * @param tokenExpire represented by the number of seconds elapsed since now. If, for example, you want to access the\n     * Agora Service within 10 minutes after the token is generated, set token_expire as 600(seconds).\n     * @param joinChannelPrivilegeExpire The Unix timestamp when the privilege for joining the channel expires, represented\n     * by the sum of the current timestamp plus the valid time period of the token. For example, if you set joinChannelPrivilegeExpire as the\n     * current timestamp plus 600 seconds, the token expires in 10 minutes.\n     * @param pubAudioPrivilegeExpire The Unix timestamp when the privilege for publishing audio expires, represented\n     * by the sum of the current timestamp plus the valid time period of the token. For example, if you set pubAudioPrivilegeExpire as the\n     * current timestamp plus 600 seconds, the token expires in 10 minutes. If you do not want to enable this privilege,\n     * set pubAudioPrivilegeExpire as the current Unix timestamp.\n     * @param pubVideoPrivilegeExpire The Unix timestamp when the privilege for publishing video expires, represented\n     * by the sum of the current timestamp plus the valid time period of the token. For example, if you set pubVideoPrivilegeExpire as the\n     * current timestamp plus 600 seconds, the token expires in 10 minutes. If you do not want to enable this privilege,\n     * set pubVideoPrivilegeExpire as the current Unix timestamp.\n     * @param pubDataStreamPrivilegeExpire The Unix timestamp when the privilege for publishing data streams expires, represented\n     * by the sum of the current timestamp plus the valid time period of the token. For example, if you set pubDataStreamPrivilegeExpire as the\n     * current timestamp plus 600 seconds, the token expires in 10 minutes. If you do not want to enable this privilege,\n     * set pubDataStreamPrivilegeExpire as the current Unix timestamp.\n     * @return The new Token.\n     */\n    static BuildTokenWithUserAccountAndPrivilege(appId, appCertificate, channelName, account,\n                                                 tokenExpire, joinChannelPrivilegeExpire, pubAudioPrivilegeExpire,\n                                                 pubVideoPrivilegeExpire, pubDataStreamPrivilegeExpire) {\n        let token = new AccessToken(appId, appCertificate, 0, tokenExpire)\n\n        let serviceRtc = new ServiceRtc(channelName, account)\n        serviceRtc.add_privilege(ServiceRtc.kPrivilegeJoinChannel, joinChannelPrivilegeExpire)\n        serviceRtc.add_privilege(ServiceRtc.kPrivilegePublishAudioStream, pubAudioPrivilegeExpire)\n        serviceRtc.add_privilege(ServiceRtc.kPrivilegePublishVideoStream, pubVideoPrivilegeExpire)\n        serviceRtc.add_privilege(ServiceRtc.kPrivilegePublishDataStream, pubDataStreamPrivilegeExpire)\n        token.add_service(serviceRtc)\n\n        return token.build()\n    }\n}\n\nmodule.exports.RtcTokenBuilder = RtcTokenBuilder\nmodule.exports.Role = Role\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9hZ29yYS10b2tlbi9zcmMvUnRjVG9rZW5CdWlsZGVyMi5qcyIsIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0IsZ0lBQTJDO0FBQy9ELG1CQUFtQiw4SEFBeUM7O0FBRTVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxHQUFHO0FBQ2xCLGVBQWUsR0FBRztBQUNsQixlQUFlLEdBQUc7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsd0RBQXdELEtBQUs7QUFDMUgsZUFBZSxHQUFHO0FBQ2xCLGVBQWUsR0FBRztBQUNsQix5QkFBeUI7QUFDekI7QUFDQSxlQUFlLEdBQUc7QUFDbEIsZUFBZSxHQUFHO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLEdBQUc7QUFDbEIsZUFBZSxHQUFHO0FBQ2xCLGVBQWUsR0FBRztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCx3REFBd0QsS0FBSztBQUMxSCxlQUFlLEdBQUc7QUFDbEIsZUFBZSxHQUFHO0FBQ2xCLHlCQUF5QjtBQUN6QjtBQUNBLGVBQWUsR0FBRztBQUNsQixlQUFlLEdBQUc7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsd0RBQXdELEtBQUs7QUFDMUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELHdEQUF3RCxLQUFLO0FBQzFIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLDhCQUE4QjtBQUM5QixtQkFBbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYWdvcmEtdG9rZW4vc3JjL1J0Y1Rva2VuQnVpbGRlcjIuanM/ZjMwMCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBBY2Nlc3NUb2tlbiA9IHJlcXVpcmUoJy4uL3NyYy9BY2Nlc3NUb2tlbjInKS5BY2Nlc3NUb2tlbjJcbmNvbnN0IFNlcnZpY2VSdGMgPSByZXF1aXJlKCcuLi9zcmMvQWNjZXNzVG9rZW4yJykuU2VydmljZVJ0Y1xuXG5jb25zdCBSb2xlID0ge1xuICAgIC8vIGZvciBsaXZlIGJyb2FkY2FzdGVyXG4gICAgUFVCTElTSEVSOiAxLFxuXG4gICAgLy8gZGVmYXVsdCwgZm9yIGxpdmUgYXVkaWVuY2VcbiAgICBTVUJTQ1JJQkVSOiAyLFxufVxuXG5jbGFzcyBSdGNUb2tlbkJ1aWxkZXIge1xuICAgIC8qKlxuICAgICAqIEJ1aWxkcyBhbiBSVEMgdG9rZW4gdXNpbmcgYW4gSW50ZWdlciB1aWQuXG4gICAgICogQHBhcmFtIHsqfSBhcHBJZCAgVGhlIEFwcCBJRCBpc3N1ZWQgdG8geW91IGJ5IEFnb3JhLlxuICAgICAqIEBwYXJhbSB7Kn0gYXBwQ2VydGlmaWNhdGUgQ2VydGlmaWNhdGUgb2YgdGhlIGFwcGxpY2F0aW9uIHRoYXQgeW91IHJlZ2lzdGVyZWQgaW4gdGhlIEFnb3JhIERhc2hib2FyZC5cbiAgICAgKiBAcGFyYW0geyp9IGNoYW5uZWxOYW1lIFRoZSB1bmlxdWUgY2hhbm5lbCBuYW1lIGZvciB0aGUgQWdvcmFSVEMgc2Vzc2lvbiBpbiB0aGUgc3RyaW5nIGZvcm1hdC4gVGhlIHN0cmluZyBsZW5ndGggbXVzdCBiZSBsZXNzIHRoYW4gNjQgYnl0ZXMuIFN1cHBvcnRlZCBjaGFyYWN0ZXIgc2NvcGVzIGFyZTpcbiAgICAgKiAtIFRoZSAyNiBsb3dlcmNhc2UgRW5nbGlzaCBsZXR0ZXJzOiBhIHRvIHouXG4gICAgICogLSBUaGUgMjYgdXBwZXJjYXNlIEVuZ2xpc2ggbGV0dGVyczogQSB0byBaLlxuICAgICAqIC0gVGhlIDEwIGRpZ2l0czogMCB0byA5LlxuICAgICAqIC0gVGhlIHNwYWNlLlxuICAgICAqIC0gXCIhXCIsIFwiI1wiLCBcIiRcIiwgXCIlXCIsIFwiJlwiLCBcIihcIiwgXCIpXCIsIFwiK1wiLCBcIi1cIiwgXCI6XCIsIFwiO1wiLCBcIjxcIiwgXCI9XCIsIFwiLlwiLCBcIj5cIiwgXCI/XCIsIFwiQFwiLCBcIltcIiwgXCJdXCIsIFwiXlwiLCBcIl9cIiwgXCIge1wiLCBcIn1cIiwgXCJ8XCIsIFwiflwiLCBcIixcIi5cbiAgICAgKiBAcGFyYW0geyp9IHVpZCBVc2VyIElELiBBIDMyLWJpdCB1bnNpZ25lZCBpbnRlZ2VyIHdpdGggYSB2YWx1ZSByYW5naW5nIGZyb20gMSB0byAoMl4zMi0xKS5cbiAgICAgKiBAcGFyYW0geyp9IHJvbGUgU2VlICN1c2VyUm9sZS5cbiAgICAgKiAtIFJvbGUuUFVCTElTSEVSOyBSRUNPTU1FTkRFRC4gVXNlIHRoaXMgcm9sZSBmb3IgYSB2b2ljZS92aWRlbyBjYWxsIG9yIGEgbGl2ZSBicm9hZGNhc3QuXG4gICAgICogLSBSb2xlLlNVQlNDUklCRVI6IE9OTFkgdXNlIHRoaXMgcm9sZSBpZiB5b3VyIGxpdmUtYnJvYWRjYXN0IHNjZW5hcmlvIHJlcXVpcmVzIGF1dGhlbnRpY2F0aW9uIGZvciBbSG9zdGluZy1pbl0oaHR0cHM6Ly9kb2NzLmFnb3JhLmlvL2VuL0Fnb3JhJTIwUGxhdGZvcm0vdGVybXM/cGxhdGZvcm09QWxsJTIwUGxhdGZvcm1zI2hvc3RpbmctaW4pLiBJbiBvcmRlciBmb3IgdGhpcyByb2xlIHRvIHRha2UgZWZmZWN0LCBwbGVhc2UgY29udGFjdCBvdXIgc3VwcG9ydCB0ZWFtIHRvIGVuYWJsZSBhdXRoZW50aWNhdGlvbiBmb3IgSG9zdGluZy1pbiBmb3IgeW91LiBPdGhlcndpc2UsIFJvbGVfU3Vic2NyaWJlciBzdGlsbCBoYXMgdGhlIHNhbWUgcHJpdmlsZWdlcyBhcyBSb2xlX1B1Ymxpc2hlci5cbiAgICAgKiBAcGFyYW0geyp9IHRva2VuX2V4cGlyZSBlcHJlc2VudGVkIGJ5IHRoZSBudW1iZXIgb2Ygc2Vjb25kcyBlbGFwc2VkIHNpbmNlIG5vdy4gSWYsIGZvciBleGFtcGxlLCB5b3Ugd2FudCB0byBhY2Nlc3MgdGhlIEFnb3JhIFNlcnZpY2Ugd2l0aGluIDEwIG1pbnV0ZXMgYWZ0ZXIgdGhlIHRva2VuIGlzIGdlbmVyYXRlZCwgc2V0IHRva2VuX2V4cGlyZSBhcyA2MDAoc2Vjb25kcylcbiAgICAgKiBAcGFyYW0geyp9IHByaXZpbGVnZV9leHBpcmUgcmVwcmVzZW50ZWQgYnkgdGhlIG51bWJlciBvZiBzZWNvbmRzIGVsYXBzZWQgc2luY2Ugbm93LiBJZiwgZm9yIGV4YW1wbGUsIHlvdSB3YW50IHRvIGVuYWJsZSB5b3VyIHByaXZpbGVnZSBmb3IgMTAgbWludXRlcywgc2V0IHByaXZpbGVnZV9leHBpcmUgYXMgNjAwKHNlY29uZHMpLiAgICAgKiBAcmV0dXJuIFRoZSBuZXcgVG9rZW4uXG4gICAgICovXG4gICAgc3RhdGljIGJ1aWxkVG9rZW5XaXRoVWlkKGFwcElkLCBhcHBDZXJ0aWZpY2F0ZSwgY2hhbm5lbE5hbWUsIHVpZCwgcm9sZSwgIHRva2VuX2V4cGlyZSwgcHJpdmlsZWdlX2V4cGlyZSA9IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVpbGRUb2tlbldpdGhVc2VyQWNjb3VudChhcHBJZCwgYXBwQ2VydGlmaWNhdGUsIGNoYW5uZWxOYW1lLCB1aWQsIHJvbGUsIHRva2VuX2V4cGlyZSwgcHJpdmlsZWdlX2V4cGlyZSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCdWlsZHMgYW4gUlRDIHRva2VuIHVzaW5nIGFuIEludGVnZXIgdWlkLlxuICAgICAqIEBwYXJhbSB7Kn0gYXBwSWQgIFRoZSBBcHAgSUQgaXNzdWVkIHRvIHlvdSBieSBBZ29yYS5cbiAgICAgKiBAcGFyYW0geyp9IGFwcENlcnRpZmljYXRlIENlcnRpZmljYXRlIG9mIHRoZSBhcHBsaWNhdGlvbiB0aGF0IHlvdSByZWdpc3RlcmVkIGluIHRoZSBBZ29yYSBEYXNoYm9hcmQuXG4gICAgICogQHBhcmFtIHsqfSBjaGFubmVsTmFtZSBUaGUgdW5pcXVlIGNoYW5uZWwgbmFtZSBmb3IgdGhlIEFnb3JhUlRDIHNlc3Npb24gaW4gdGhlIHN0cmluZyBmb3JtYXQuIFRoZSBzdHJpbmcgbGVuZ3RoIG11c3QgYmUgbGVzcyB0aGFuIDY0IGJ5dGVzLiBTdXBwb3J0ZWQgY2hhcmFjdGVyIHNjb3BlcyBhcmU6XG4gICAgICogLSBUaGUgMjYgbG93ZXJjYXNlIEVuZ2xpc2ggbGV0dGVyczogYSB0byB6LlxuICAgICAqIC0gVGhlIDI2IHVwcGVyY2FzZSBFbmdsaXNoIGxldHRlcnM6IEEgdG8gWi5cbiAgICAgKiAtIFRoZSAxMCBkaWdpdHM6IDAgdG8gOS5cbiAgICAgKiAtIFRoZSBzcGFjZS5cbiAgICAgKiAtIFwiIVwiLCBcIiNcIiwgXCIkXCIsIFwiJVwiLCBcIiZcIiwgXCIoXCIsIFwiKVwiLCBcIitcIiwgXCItXCIsIFwiOlwiLCBcIjtcIiwgXCI8XCIsIFwiPVwiLCBcIi5cIiwgXCI+XCIsIFwiP1wiLCBcIkBcIiwgXCJbXCIsIFwiXVwiLCBcIl5cIiwgXCJfXCIsIFwiIHtcIiwgXCJ9XCIsIFwifFwiLCBcIn5cIiwgXCIsXCIuXG4gICAgICogQHBhcmFtIHsqfSBhY2NvdW50IFRoZSB1c2VyIGFjY291bnQuXG4gICAgICogQHBhcmFtIHsqfSByb2xlIFNlZSAjdXNlclJvbGUuXG4gICAgICogLSBSb2xlLlBVQkxJU0hFUjsgUkVDT01NRU5ERUQuIFVzZSB0aGlzIHJvbGUgZm9yIGEgdm9pY2UvdmlkZW8gY2FsbCBvciBhIGxpdmUgYnJvYWRjYXN0LlxuICAgICAqIC0gUm9sZS5TVUJTQ1JJQkVSOiBPTkxZIHVzZSB0aGlzIHJvbGUgaWYgeW91ciBsaXZlLWJyb2FkY2FzdCBzY2VuYXJpbyByZXF1aXJlcyBhdXRoZW50aWNhdGlvbiBmb3IgW0hvc3RpbmctaW5dKGh0dHBzOi8vZG9jcy5hZ29yYS5pby9lbi9BZ29yYSUyMFBsYXRmb3JtL3Rlcm1zP3BsYXRmb3JtPUFsbCUyMFBsYXRmb3JtcyNob3N0aW5nLWluKS4gSW4gb3JkZXIgZm9yIHRoaXMgcm9sZSB0byB0YWtlIGVmZmVjdCwgcGxlYXNlIGNvbnRhY3Qgb3VyIHN1cHBvcnQgdGVhbSB0byBlbmFibGUgYXV0aGVudGljYXRpb24gZm9yIEhvc3RpbmctaW4gZm9yIHlvdS4gT3RoZXJ3aXNlLCBSb2xlX1N1YnNjcmliZXIgc3RpbGwgaGFzIHRoZSBzYW1lIHByaXZpbGVnZXMgYXMgUm9sZV9QdWJsaXNoZXIuXG4gICAgICogQHBhcmFtIHsqfSB0b2tlbl9leHBpcmUgZXByZXNlbnRlZCBieSB0aGUgbnVtYmVyIG9mIHNlY29uZHMgZWxhcHNlZCBzaW5jZSBub3cuIElmLCBmb3IgZXhhbXBsZSwgeW91IHdhbnQgdG8gYWNjZXNzIHRoZSBBZ29yYSBTZXJ2aWNlIHdpdGhpbiAxMCBtaW51dGVzIGFmdGVyIHRoZSB0b2tlbiBpcyBnZW5lcmF0ZWQsIHNldCB0b2tlbl9leHBpcmUgYXMgNjAwKHNlY29uZHMpXG4gICAgICogQHBhcmFtIHsqfSBwcml2aWxlZ2VfZXhwaXJlIHJlcHJlc2VudGVkIGJ5IHRoZSBudW1iZXIgb2Ygc2Vjb25kcyBlbGFwc2VkIHNpbmNlIG5vdy4gSWYsIGZvciBleGFtcGxlLCB5b3Ugd2FudCB0byBlbmFibGUgeW91ciBwcml2aWxlZ2UgZm9yIDEwIG1pbnV0ZXMsIHNldCBwcml2aWxlZ2VfZXhwaXJlIGFzIDYwMChzZWNvbmRzKS5cbiAgICAgKiBAcmV0dXJuIFRoZSBuZXcgVG9rZW4uXG4gICAgICovXG4gICAgc3RhdGljIGJ1aWxkVG9rZW5XaXRoVXNlckFjY291bnQoYXBwSWQsIGFwcENlcnRpZmljYXRlLCBjaGFubmVsTmFtZSwgYWNjb3VudCwgcm9sZSwgdG9rZW5fZXhwaXJlLCBwcml2aWxlZ2VfZXhwaXJlID0gMCkge1xuICAgICAgICBsZXQgdG9rZW4gPSBuZXcgQWNjZXNzVG9rZW4oYXBwSWQsIGFwcENlcnRpZmljYXRlLCAwLCB0b2tlbl9leHBpcmUpXG5cbiAgICAgICAgbGV0IHNlcnZpY2VSdGMgPSBuZXcgU2VydmljZVJ0YyhjaGFubmVsTmFtZSwgYWNjb3VudClcbiAgICAgICAgc2VydmljZVJ0Yy5hZGRfcHJpdmlsZWdlKFNlcnZpY2VSdGMua1ByaXZpbGVnZUpvaW5DaGFubmVsLCBwcml2aWxlZ2VfZXhwaXJlKVxuICAgICAgICBpZiAocm9sZSA9PSBSb2xlLlBVQkxJU0hFUikge1xuICAgICAgICAgICAgc2VydmljZVJ0Yy5hZGRfcHJpdmlsZWdlKFNlcnZpY2VSdGMua1ByaXZpbGVnZVB1Ymxpc2hBdWRpb1N0cmVhbSwgcHJpdmlsZWdlX2V4cGlyZSlcbiAgICAgICAgICAgIHNlcnZpY2VSdGMuYWRkX3ByaXZpbGVnZShTZXJ2aWNlUnRjLmtQcml2aWxlZ2VQdWJsaXNoVmlkZW9TdHJlYW0sIHByaXZpbGVnZV9leHBpcmUpXG4gICAgICAgICAgICBzZXJ2aWNlUnRjLmFkZF9wcml2aWxlZ2UoU2VydmljZVJ0Yy5rUHJpdmlsZWdlUHVibGlzaERhdGFTdHJlYW0sIHByaXZpbGVnZV9leHBpcmUpXG4gICAgICAgIH1cbiAgICAgICAgdG9rZW4uYWRkX3NlcnZpY2Uoc2VydmljZVJ0YylcblxuICAgICAgICByZXR1cm4gdG9rZW4uYnVpbGQoKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBhbiBSVEMgdG9rZW4gd2l0aCB0aGUgc3BlY2lmaWVkIHByaXZpbGVnZS5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIHN1cHBvcnRzIGdlbmVyYXRpbmcgYSB0b2tlbiB3aXRoIHRoZSBmb2xsb3dpbmcgcHJpdmlsZWdlczpcbiAgICAgKiAtIEpvaW5pbmcgYW4gUlRDIGNoYW5uZWwuXG4gICAgICogLSBQdWJsaXNoaW5nIGF1ZGlvIGluIGFuIFJUQyBjaGFubmVsLlxuICAgICAqIC0gUHVibGlzaGluZyB2aWRlbyBpbiBhbiBSVEMgY2hhbm5lbC5cbiAgICAgKiAtIFB1Ymxpc2hpbmcgZGF0YSBzdHJlYW1zIGluIGFuIFJUQyBjaGFubmVsLlxuICAgICAqXG4gICAgICogVGhlIHByaXZpbGVnZXMgZm9yIHB1Ymxpc2hpbmcgYXVkaW8sIHZpZGVvLCBhbmQgZGF0YSBzdHJlYW1zIGluIGFuIFJUQyBjaGFubmVsIGFwcGx5IG9ubHkgaWYgeW91IGhhdmVcbiAgICAgKiBlbmFibGVkIGNvLWhvc3QgYXV0aGVudGljYXRpb24uXG4gICAgICpcbiAgICAgKiBBIHVzZXIgY2FuIGhhdmUgbXVsdGlwbGUgcHJpdmlsZWdlcy4gRWFjaCBwcml2aWxlZ2UgaXMgdmFsaWQgZm9yIGEgbWF4aW11bSBvZiAyNCBob3Vycy5cbiAgICAgKiBUaGUgU0RLIHRyaWdnZXJzIHRoZSBvblRva2VuUHJpdmlsZWdlV2lsbEV4cGlyZSBhbmQgb25SZXF1ZXN0VG9rZW4gY2FsbGJhY2tzIHdoZW4gdGhlIHRva2VuIGlzIGFib3V0IHRvIGV4cGlyZVxuICAgICAqIG9yIGhhcyBleHBpcmVkLiBUaGUgY2FsbGJhY2tzIGRvIG5vdCByZXBvcnQgdGhlIHNwZWNpZmljIHByaXZpbGVnZSBhZmZlY3RlZCwgYW5kIHlvdSBuZWVkIHRvIG1haW50YWluXG4gICAgICogdGhlIHJlc3BlY3RpdmUgdGltZXN0YW1wIGZvciBlYWNoIHByaXZpbGVnZSBpbiB5b3VyIGFwcCBsb2dpYy4gQWZ0ZXIgcmVjZWl2aW5nIHRoZSBjYWxsYmFjaywgeW91IG5lZWRcbiAgICAgKiB0byBnZW5lcmF0ZSBhIG5ldyB0b2tlbiwgYW5kIHRoZW4gY2FsbCByZW5ld1Rva2VuIHRvIHBhc3MgdGhlIG5ldyB0b2tlbiB0byB0aGUgU0RLLCBvciBjYWxsIGpvaW5DaGFubmVsIHRvIHJlLWpvaW5cbiAgICAgKiB0aGUgY2hhbm5lbC5cbiAgICAgKlxuICAgICAqIEBub3RlXG4gICAgICogQWdvcmEgcmVjb21tZW5kcyBzZXR0aW5nIGEgcmVhc29uYWJsZSB0aW1lc3RhbXAgZm9yIGVhY2ggcHJpdmlsZWdlIGFjY29yZGluZyB0byB5b3VyIHNjZW5hcmlvLlxuICAgICAqIFN1cHBvc2UgdGhlIGV4cGlyYXRpb24gdGltZXN0YW1wIGZvciBqb2luaW5nIHRoZSBjaGFubmVsIGlzIHNldCBlYXJsaWVyIHRoYW4gdGhhdCBmb3IgcHVibGlzaGluZyBhdWRpby5cbiAgICAgKiBXaGVuIHRoZSB0b2tlbiBmb3Igam9pbmluZyB0aGUgY2hhbm5lbCBleHBpcmVzLCB0aGUgdXNlciBpcyBpbW1lZGlhdGVseSBraWNrZWQgb2ZmIHRoZSBSVEMgY2hhbm5lbFxuICAgICAqIGFuZCBjYW5ub3QgcHVibGlzaCBhbnkgYXVkaW8gc3RyZWFtLCBldmVuIHRob3VnaCB0aGUgdGltZXN0YW1wIGZvciBwdWJsaXNoaW5nIGF1ZGlvIGhhcyBub3QgZXhwaXJlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhcHBJZCBUaGUgQXBwIElEIG9mIHlvdXIgQWdvcmEgcHJvamVjdC5cbiAgICAgKiBAcGFyYW0gYXBwQ2VydGlmaWNhdGUgVGhlIEFwcCBDZXJ0aWZpY2F0ZSBvZiB5b3VyIEFnb3JhIHByb2plY3QuXG4gICAgICogQHBhcmFtIGNoYW5uZWxOYW1lIFRoZSB1bmlxdWUgY2hhbm5lbCBuYW1lIGZvciB0aGUgQWdvcmEgUlRDIHNlc3Npb24gaW4gc3RyaW5nIGZvcm1hdC4gVGhlIHN0cmluZyBsZW5ndGggbXVzdCBiZSBsZXNzIHRoYW4gNjQgYnl0ZXMuIFRoZSBjaGFubmVsIG5hbWUgbWF5IGNvbnRhaW4gdGhlIGZvbGxvd2luZyBjaGFyYWN0ZXJzOlxuICAgICAqIC0gQWxsIGxvd2VyY2FzZSBFbmdsaXNoIGxldHRlcnM6IGEgdG8gei5cbiAgICAgKiAtIEFsbCB1cHBlcmNhc2UgRW5nbGlzaCBsZXR0ZXJzOiBBIHRvIFouXG4gICAgICogLSBBbGwgbnVtZXJpYyBjaGFyYWN0ZXJzOiAwIHRvIDkuXG4gICAgICogLSBUaGUgc3BhY2UgY2hhcmFjdGVyLlxuICAgICAqIC0gXCIhXCIsIFwiI1wiLCBcIiRcIiwgXCIlXCIsIFwiJlwiLCBcIihcIiwgXCIpXCIsIFwiK1wiLCBcIi1cIiwgXCI6XCIsIFwiO1wiLCBcIjxcIiwgXCI9XCIsIFwiLlwiLCBcIj5cIiwgXCI/XCIsIFwiQFwiLCBcIltcIiwgXCJdXCIsIFwiXlwiLCBcIl9cIiwgXCIge1wiLCBcIn1cIiwgXCJ8XCIsIFwiflwiLCBcIixcIi5cbiAgICAgKiBAcGFyYW0gdWlkIFRoZSB1c2VyIElELiBBIDMyLWJpdCB1bnNpZ25lZCBpbnRlZ2VyIHdpdGggYSB2YWx1ZSByYW5nZSBmcm9tIDEgdG8gKDJeMzIgLSAxKS4gSXQgbXVzdCBiZSB1bmlxdWUuIFNldCB1aWQgYXMgMCwgaWYgeW91IGRvIG5vdCB3YW50IHRvIGF1dGhlbnRpY2F0ZSB0aGUgdXNlciBJRCwgdGhhdCBpcywgYW55IHVpZCBmcm9tIHRoZSBhcHAgY2xpZW50IGNhbiBqb2luIHRoZSBjaGFubmVsLlxuICAgICAqIEBwYXJhbSB0b2tlbkV4cGlyZSByZXByZXNlbnRlZCBieSB0aGUgbnVtYmVyIG9mIHNlY29uZHMgZWxhcHNlZCBzaW5jZSBub3cuIElmLCBmb3IgZXhhbXBsZSwgeW91IHdhbnQgdG8gYWNjZXNzIHRoZVxuICAgICAqIEFnb3JhIFNlcnZpY2Ugd2l0aGluIDEwIG1pbnV0ZXMgYWZ0ZXIgdGhlIHRva2VuIGlzIGdlbmVyYXRlZCwgc2V0IHRva2VuX2V4cGlyZSBhcyA2MDAoc2Vjb25kcykuXG4gICAgICogQHBhcmFtIGpvaW5DaGFubmVsUHJpdmlsZWdlRXhwaXJlIFRoZSBVbml4IHRpbWVzdGFtcCB3aGVuIHRoZSBwcml2aWxlZ2UgZm9yIGpvaW5pbmcgdGhlIGNoYW5uZWwgZXhwaXJlcywgcmVwcmVzZW50ZWRcbiAgICAgKiBieSB0aGUgc3VtIG9mIHRoZSBjdXJyZW50IHRpbWVzdGFtcCBwbHVzIHRoZSB2YWxpZCB0aW1lIHBlcmlvZCBvZiB0aGUgdG9rZW4uIEZvciBleGFtcGxlLCBpZiB5b3Ugc2V0IGpvaW5DaGFubmVsUHJpdmlsZWdlRXhwaXJlIGFzIHRoZVxuICAgICAqIGN1cnJlbnQgdGltZXN0YW1wIHBsdXMgNjAwIHNlY29uZHMsIHRoZSB0b2tlbiBleHBpcmVzIGluIDEwIG1pbnV0ZXMuXG4gICAgICogQHBhcmFtIHB1YkF1ZGlvUHJpdmlsZWdlRXhwaXJlIFRoZSBVbml4IHRpbWVzdGFtcCB3aGVuIHRoZSBwcml2aWxlZ2UgZm9yIHB1Ymxpc2hpbmcgYXVkaW8gZXhwaXJlcywgcmVwcmVzZW50ZWRcbiAgICAgKiBieSB0aGUgc3VtIG9mIHRoZSBjdXJyZW50IHRpbWVzdGFtcCBwbHVzIHRoZSB2YWxpZCB0aW1lIHBlcmlvZCBvZiB0aGUgdG9rZW4uIEZvciBleGFtcGxlLCBpZiB5b3Ugc2V0IHB1YkF1ZGlvUHJpdmlsZWdlRXhwaXJlIGFzIHRoZVxuICAgICAqIGN1cnJlbnQgdGltZXN0YW1wIHBsdXMgNjAwIHNlY29uZHMsIHRoZSB0b2tlbiBleHBpcmVzIGluIDEwIG1pbnV0ZXMuIElmIHlvdSBkbyBub3Qgd2FudCB0byBlbmFibGUgdGhpcyBwcml2aWxlZ2UsXG4gICAgICogc2V0IHB1YkF1ZGlvUHJpdmlsZWdlRXhwaXJlIGFzIHRoZSBjdXJyZW50IFVuaXggdGltZXN0YW1wLlxuICAgICAqIEBwYXJhbSBwdWJWaWRlb1ByaXZpbGVnZUV4cGlyZSBUaGUgVW5peCB0aW1lc3RhbXAgd2hlbiB0aGUgcHJpdmlsZWdlIGZvciBwdWJsaXNoaW5nIHZpZGVvIGV4cGlyZXMsIHJlcHJlc2VudGVkXG4gICAgICogYnkgdGhlIHN1bSBvZiB0aGUgY3VycmVudCB0aW1lc3RhbXAgcGx1cyB0aGUgdmFsaWQgdGltZSBwZXJpb2Qgb2YgdGhlIHRva2VuLiBGb3IgZXhhbXBsZSwgaWYgeW91IHNldCBwdWJWaWRlb1ByaXZpbGVnZUV4cGlyZSBhcyB0aGVcbiAgICAgKiBjdXJyZW50IHRpbWVzdGFtcCBwbHVzIDYwMCBzZWNvbmRzLCB0aGUgdG9rZW4gZXhwaXJlcyBpbiAxMCBtaW51dGVzLiBJZiB5b3UgZG8gbm90IHdhbnQgdG8gZW5hYmxlIHRoaXMgcHJpdmlsZWdlLFxuICAgICAqIHNldCBwdWJWaWRlb1ByaXZpbGVnZUV4cGlyZSBhcyB0aGUgY3VycmVudCBVbml4IHRpbWVzdGFtcC5cbiAgICAgKiBAcGFyYW0gcHViRGF0YVN0cmVhbVByaXZpbGVnZUV4cGlyZSBUaGUgVW5peCB0aW1lc3RhbXAgd2hlbiB0aGUgcHJpdmlsZWdlIGZvciBwdWJsaXNoaW5nIGRhdGEgc3RyZWFtcyBleHBpcmVzLCByZXByZXNlbnRlZFxuICAgICAqIGJ5IHRoZSBzdW0gb2YgdGhlIGN1cnJlbnQgdGltZXN0YW1wIHBsdXMgdGhlIHZhbGlkIHRpbWUgcGVyaW9kIG9mIHRoZSB0b2tlbi4gRm9yIGV4YW1wbGUsIGlmIHlvdSBzZXQgcHViRGF0YVN0cmVhbVByaXZpbGVnZUV4cGlyZSBhcyB0aGVcbiAgICAgKiBjdXJyZW50IHRpbWVzdGFtcCBwbHVzIDYwMCBzZWNvbmRzLCB0aGUgdG9rZW4gZXhwaXJlcyBpbiAxMCBtaW51dGVzLiBJZiB5b3UgZG8gbm90IHdhbnQgdG8gZW5hYmxlIHRoaXMgcHJpdmlsZWdlLFxuICAgICAqIHNldCBwdWJEYXRhU3RyZWFtUHJpdmlsZWdlRXhwaXJlIGFzIHRoZSBjdXJyZW50IFVuaXggdGltZXN0YW1wLlxuICAgICAqIEByZXR1cm4gVGhlIG5ldyBUb2tlblxuICAgICAqL1xuICAgIHN0YXRpYyBidWlsZFRva2VuV2l0aFVpZEFuZFByaXZpbGVnZShhcHBJZCwgYXBwQ2VydGlmaWNhdGUsIGNoYW5uZWxOYW1lLCB1aWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuRXhwaXJlLCBqb2luQ2hhbm5lbFByaXZpbGVnZUV4cGlyZSwgcHViQXVkaW9Qcml2aWxlZ2VFeHBpcmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1YlZpZGVvUHJpdmlsZWdlRXhwaXJlLCBwdWJEYXRhU3RyZWFtUHJpdmlsZWdlRXhwaXJlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLkJ1aWxkVG9rZW5XaXRoVXNlckFjY291bnRBbmRQcml2aWxlZ2UoYXBwSWQsIGFwcENlcnRpZmljYXRlLCBjaGFubmVsTmFtZSwgdWlkLFxuICAgICAgICAgICAgdG9rZW5FeHBpcmUsIGpvaW5DaGFubmVsUHJpdmlsZWdlRXhwaXJlLCBwdWJBdWRpb1ByaXZpbGVnZUV4cGlyZSwgcHViVmlkZW9Qcml2aWxlZ2VFeHBpcmUsIHB1YkRhdGFTdHJlYW1Qcml2aWxlZ2VFeHBpcmUpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGFuIFJUQyB0b2tlbiB3aXRoIHRoZSBzcGVjaWZpZWQgcHJpdmlsZWdlLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2Qgc3VwcG9ydHMgZ2VuZXJhdGluZyBhIHRva2VuIHdpdGggdGhlIGZvbGxvd2luZyBwcml2aWxlZ2VzOlxuICAgICAqIC0gSm9pbmluZyBhbiBSVEMgY2hhbm5lbC5cbiAgICAgKiAtIFB1Ymxpc2hpbmcgYXVkaW8gaW4gYW4gUlRDIGNoYW5uZWwuXG4gICAgICogLSBQdWJsaXNoaW5nIHZpZGVvIGluIGFuIFJUQyBjaGFubmVsLlxuICAgICAqIC0gUHVibGlzaGluZyBkYXRhIHN0cmVhbXMgaW4gYW4gUlRDIGNoYW5uZWwuXG4gICAgICpcbiAgICAgKiBUaGUgcHJpdmlsZWdlcyBmb3IgcHVibGlzaGluZyBhdWRpbywgdmlkZW8sIGFuZCBkYXRhIHN0cmVhbXMgaW4gYW4gUlRDIGNoYW5uZWwgYXBwbHkgb25seSBpZiB5b3UgaGF2ZVxuICAgICAqIGVuYWJsZWQgY28taG9zdCBhdXRoZW50aWNhdGlvbi5cbiAgICAgKlxuICAgICAqIEEgdXNlciBjYW4gaGF2ZSBtdWx0aXBsZSBwcml2aWxlZ2VzLiBFYWNoIHByaXZpbGVnZSBpcyB2YWxpZCBmb3IgYSBtYXhpbXVtIG9mIDI0IGhvdXJzLlxuICAgICAqIFRoZSBTREsgdHJpZ2dlcnMgdGhlIG9uVG9rZW5Qcml2aWxlZ2VXaWxsRXhwaXJlIGFuZCBvblJlcXVlc3RUb2tlbiBjYWxsYmFja3Mgd2hlbiB0aGUgdG9rZW4gaXMgYWJvdXQgdG8gZXhwaXJlXG4gICAgICogb3IgaGFzIGV4cGlyZWQuIFRoZSBjYWxsYmFja3MgZG8gbm90IHJlcG9ydCB0aGUgc3BlY2lmaWMgcHJpdmlsZWdlIGFmZmVjdGVkLCBhbmQgeW91IG5lZWQgdG8gbWFpbnRhaW5cbiAgICAgKiB0aGUgcmVzcGVjdGl2ZSB0aW1lc3RhbXAgZm9yIGVhY2ggcHJpdmlsZWdlIGluIHlvdXIgYXBwIGxvZ2ljLiBBZnRlciByZWNlaXZpbmcgdGhlIGNhbGxiYWNrLCB5b3UgbmVlZFxuICAgICAqIHRvIGdlbmVyYXRlIGEgbmV3IHRva2VuLCBhbmQgdGhlbiBjYWxsIHJlbmV3VG9rZW4gdG8gcGFzcyB0aGUgbmV3IHRva2VuIHRvIHRoZSBTREssIG9yIGNhbGwgam9pbkNoYW5uZWwgdG8gcmUtam9pblxuICAgICAqIHRoZSBjaGFubmVsLlxuICAgICAqXG4gICAgICogQG5vdGVcbiAgICAgKiBBZ29yYSByZWNvbW1lbmRzIHNldHRpbmcgYSByZWFzb25hYmxlIHRpbWVzdGFtcCBmb3IgZWFjaCBwcml2aWxlZ2UgYWNjb3JkaW5nIHRvIHlvdXIgc2NlbmFyaW8uXG4gICAgICogU3VwcG9zZSB0aGUgZXhwaXJhdGlvbiB0aW1lc3RhbXAgZm9yIGpvaW5pbmcgdGhlIGNoYW5uZWwgaXMgc2V0IGVhcmxpZXIgdGhhbiB0aGF0IGZvciBwdWJsaXNoaW5nIGF1ZGlvLlxuICAgICAqIFdoZW4gdGhlIHRva2VuIGZvciBqb2luaW5nIHRoZSBjaGFubmVsIGV4cGlyZXMsIHRoZSB1c2VyIGlzIGltbWVkaWF0ZWx5IGtpY2tlZCBvZmYgdGhlIFJUQyBjaGFubmVsXG4gICAgICogYW5kIGNhbm5vdCBwdWJsaXNoIGFueSBhdWRpbyBzdHJlYW0sIGV2ZW4gdGhvdWdoIHRoZSB0aW1lc3RhbXAgZm9yIHB1Ymxpc2hpbmcgYXVkaW8gaGFzIG5vdCBleHBpcmVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIGFwcElkIFRoZSBBcHAgSUQgb2YgeW91ciBBZ29yYSBwcm9qZWN0LlxuICAgICAqIEBwYXJhbSBhcHBDZXJ0aWZpY2F0ZSBUaGUgQXBwIENlcnRpZmljYXRlIG9mIHlvdXIgQWdvcmEgcHJvamVjdC5cbiAgICAgKiBAcGFyYW0gY2hhbm5lbE5hbWUgVGhlIHVuaXF1ZSBjaGFubmVsIG5hbWUgZm9yIHRoZSBBZ29yYSBSVEMgc2Vzc2lvbiBpbiBzdHJpbmcgZm9ybWF0LiBUaGUgc3RyaW5nIGxlbmd0aCBtdXN0IGJlIGxlc3MgdGhhbiA2NCBieXRlcy4gVGhlIGNoYW5uZWwgbmFtZSBtYXkgY29udGFpbiB0aGUgZm9sbG93aW5nIGNoYXJhY3RlcnM6XG4gICAgICogLSBBbGwgbG93ZXJjYXNlIEVuZ2xpc2ggbGV0dGVyczogYSB0byB6LlxuICAgICAqIC0gQWxsIHVwcGVyY2FzZSBFbmdsaXNoIGxldHRlcnM6IEEgdG8gWi5cbiAgICAgKiAtIEFsbCBudW1lcmljIGNoYXJhY3RlcnM6IDAgdG8gOS5cbiAgICAgKiAtIFRoZSBzcGFjZSBjaGFyYWN0ZXIuXG4gICAgICogLSBcIiFcIiwgXCIjXCIsIFwiJFwiLCBcIiVcIiwgXCImXCIsIFwiKFwiLCBcIilcIiwgXCIrXCIsIFwiLVwiLCBcIjpcIiwgXCI7XCIsIFwiPFwiLCBcIj1cIiwgXCIuXCIsIFwiPlwiLCBcIj9cIiwgXCJAXCIsIFwiW1wiLCBcIl1cIiwgXCJeXCIsIFwiX1wiLCBcIiB7XCIsIFwifVwiLCBcInxcIiwgXCJ+XCIsIFwiLFwiLlxuICAgICAqIEBwYXJhbSB1c2VyQWNjb3VudCBUaGUgdXNlciBhY2NvdW50LlxuICAgICAqIEBwYXJhbSB0b2tlbkV4cGlyZSByZXByZXNlbnRlZCBieSB0aGUgbnVtYmVyIG9mIHNlY29uZHMgZWxhcHNlZCBzaW5jZSBub3cuIElmLCBmb3IgZXhhbXBsZSwgeW91IHdhbnQgdG8gYWNjZXNzIHRoZVxuICAgICAqIEFnb3JhIFNlcnZpY2Ugd2l0aGluIDEwIG1pbnV0ZXMgYWZ0ZXIgdGhlIHRva2VuIGlzIGdlbmVyYXRlZCwgc2V0IHRva2VuX2V4cGlyZSBhcyA2MDAoc2Vjb25kcykuXG4gICAgICogQHBhcmFtIGpvaW5DaGFubmVsUHJpdmlsZWdlRXhwaXJlIFRoZSBVbml4IHRpbWVzdGFtcCB3aGVuIHRoZSBwcml2aWxlZ2UgZm9yIGpvaW5pbmcgdGhlIGNoYW5uZWwgZXhwaXJlcywgcmVwcmVzZW50ZWRcbiAgICAgKiBieSB0aGUgc3VtIG9mIHRoZSBjdXJyZW50IHRpbWVzdGFtcCBwbHVzIHRoZSB2YWxpZCB0aW1lIHBlcmlvZCBvZiB0aGUgdG9rZW4uIEZvciBleGFtcGxlLCBpZiB5b3Ugc2V0IGpvaW5DaGFubmVsUHJpdmlsZWdlRXhwaXJlIGFzIHRoZVxuICAgICAqIGN1cnJlbnQgdGltZXN0YW1wIHBsdXMgNjAwIHNlY29uZHMsIHRoZSB0b2tlbiBleHBpcmVzIGluIDEwIG1pbnV0ZXMuXG4gICAgICogQHBhcmFtIHB1YkF1ZGlvUHJpdmlsZWdlRXhwaXJlIFRoZSBVbml4IHRpbWVzdGFtcCB3aGVuIHRoZSBwcml2aWxlZ2UgZm9yIHB1Ymxpc2hpbmcgYXVkaW8gZXhwaXJlcywgcmVwcmVzZW50ZWRcbiAgICAgKiBieSB0aGUgc3VtIG9mIHRoZSBjdXJyZW50IHRpbWVzdGFtcCBwbHVzIHRoZSB2YWxpZCB0aW1lIHBlcmlvZCBvZiB0aGUgdG9rZW4uIEZvciBleGFtcGxlLCBpZiB5b3Ugc2V0IHB1YkF1ZGlvUHJpdmlsZWdlRXhwaXJlIGFzIHRoZVxuICAgICAqIGN1cnJlbnQgdGltZXN0YW1wIHBsdXMgNjAwIHNlY29uZHMsIHRoZSB0b2tlbiBleHBpcmVzIGluIDEwIG1pbnV0ZXMuIElmIHlvdSBkbyBub3Qgd2FudCB0byBlbmFibGUgdGhpcyBwcml2aWxlZ2UsXG4gICAgICogc2V0IHB1YkF1ZGlvUHJpdmlsZWdlRXhwaXJlIGFzIHRoZSBjdXJyZW50IFVuaXggdGltZXN0YW1wLlxuICAgICAqIEBwYXJhbSBwdWJWaWRlb1ByaXZpbGVnZUV4cGlyZSBUaGUgVW5peCB0aW1lc3RhbXAgd2hlbiB0aGUgcHJpdmlsZWdlIGZvciBwdWJsaXNoaW5nIHZpZGVvIGV4cGlyZXMsIHJlcHJlc2VudGVkXG4gICAgICogYnkgdGhlIHN1bSBvZiB0aGUgY3VycmVudCB0aW1lc3RhbXAgcGx1cyB0aGUgdmFsaWQgdGltZSBwZXJpb2Qgb2YgdGhlIHRva2VuLiBGb3IgZXhhbXBsZSwgaWYgeW91IHNldCBwdWJWaWRlb1ByaXZpbGVnZUV4cGlyZSBhcyB0aGVcbiAgICAgKiBjdXJyZW50IHRpbWVzdGFtcCBwbHVzIDYwMCBzZWNvbmRzLCB0aGUgdG9rZW4gZXhwaXJlcyBpbiAxMCBtaW51dGVzLiBJZiB5b3UgZG8gbm90IHdhbnQgdG8gZW5hYmxlIHRoaXMgcHJpdmlsZWdlLFxuICAgICAqIHNldCBwdWJWaWRlb1ByaXZpbGVnZUV4cGlyZSBhcyB0aGUgY3VycmVudCBVbml4IHRpbWVzdGFtcC5cbiAgICAgKiBAcGFyYW0gcHViRGF0YVN0cmVhbVByaXZpbGVnZUV4cGlyZSBUaGUgVW5peCB0aW1lc3RhbXAgd2hlbiB0aGUgcHJpdmlsZWdlIGZvciBwdWJsaXNoaW5nIGRhdGEgc3RyZWFtcyBleHBpcmVzLCByZXByZXNlbnRlZFxuICAgICAqIGJ5IHRoZSBzdW0gb2YgdGhlIGN1cnJlbnQgdGltZXN0YW1wIHBsdXMgdGhlIHZhbGlkIHRpbWUgcGVyaW9kIG9mIHRoZSB0b2tlbi4gRm9yIGV4YW1wbGUsIGlmIHlvdSBzZXQgcHViRGF0YVN0cmVhbVByaXZpbGVnZUV4cGlyZSBhcyB0aGVcbiAgICAgKiBjdXJyZW50IHRpbWVzdGFtcCBwbHVzIDYwMCBzZWNvbmRzLCB0aGUgdG9rZW4gZXhwaXJlcyBpbiAxMCBtaW51dGVzLiBJZiB5b3UgZG8gbm90IHdhbnQgdG8gZW5hYmxlIHRoaXMgcHJpdmlsZWdlLFxuICAgICAqIHNldCBwdWJEYXRhU3RyZWFtUHJpdmlsZWdlRXhwaXJlIGFzIHRoZSBjdXJyZW50IFVuaXggdGltZXN0YW1wLlxuICAgICAqIEByZXR1cm4gVGhlIG5ldyBUb2tlbi5cbiAgICAgKi9cbiAgICBzdGF0aWMgQnVpbGRUb2tlbldpdGhVc2VyQWNjb3VudEFuZFByaXZpbGVnZShhcHBJZCwgYXBwQ2VydGlmaWNhdGUsIGNoYW5uZWxOYW1lLCBhY2NvdW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuRXhwaXJlLCBqb2luQ2hhbm5lbFByaXZpbGVnZUV4cGlyZSwgcHViQXVkaW9Qcml2aWxlZ2VFeHBpcmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHViVmlkZW9Qcml2aWxlZ2VFeHBpcmUsIHB1YkRhdGFTdHJlYW1Qcml2aWxlZ2VFeHBpcmUpIHtcbiAgICAgICAgbGV0IHRva2VuID0gbmV3IEFjY2Vzc1Rva2VuKGFwcElkLCBhcHBDZXJ0aWZpY2F0ZSwgMCwgdG9rZW5FeHBpcmUpXG5cbiAgICAgICAgbGV0IHNlcnZpY2VSdGMgPSBuZXcgU2VydmljZVJ0YyhjaGFubmVsTmFtZSwgYWNjb3VudClcbiAgICAgICAgc2VydmljZVJ0Yy5hZGRfcHJpdmlsZWdlKFNlcnZpY2VSdGMua1ByaXZpbGVnZUpvaW5DaGFubmVsLCBqb2luQ2hhbm5lbFByaXZpbGVnZUV4cGlyZSlcbiAgICAgICAgc2VydmljZVJ0Yy5hZGRfcHJpdmlsZWdlKFNlcnZpY2VSdGMua1ByaXZpbGVnZVB1Ymxpc2hBdWRpb1N0cmVhbSwgcHViQXVkaW9Qcml2aWxlZ2VFeHBpcmUpXG4gICAgICAgIHNlcnZpY2VSdGMuYWRkX3ByaXZpbGVnZShTZXJ2aWNlUnRjLmtQcml2aWxlZ2VQdWJsaXNoVmlkZW9TdHJlYW0sIHB1YlZpZGVvUHJpdmlsZWdlRXhwaXJlKVxuICAgICAgICBzZXJ2aWNlUnRjLmFkZF9wcml2aWxlZ2UoU2VydmljZVJ0Yy5rUHJpdmlsZWdlUHVibGlzaERhdGFTdHJlYW0sIHB1YkRhdGFTdHJlYW1Qcml2aWxlZ2VFeHBpcmUpXG4gICAgICAgIHRva2VuLmFkZF9zZXJ2aWNlKHNlcnZpY2VSdGMpXG5cbiAgICAgICAgcmV0dXJuIHRva2VuLmJ1aWxkKClcbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzLlJ0Y1Rva2VuQnVpbGRlciA9IFJ0Y1Rva2VuQnVpbGRlclxubW9kdWxlLmV4cG9ydHMuUm9sZSA9IFJvbGVcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/agora-token/src/RtcTokenBuilder2.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/agora-token/src/RtmTokenBuilder2.js":
/*!**********************************************************!*\
  !*** ./node_modules/agora-token/src/RtmTokenBuilder2.js ***!
  \**********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("const AccessToken = (__webpack_require__(/*! ../src/AccessToken2 */ \"(action-browser)/./node_modules/agora-token/src/AccessToken2.js\").AccessToken2);\nconst ServiceRtm = (__webpack_require__(/*! ../src/AccessToken2 */ \"(action-browser)/./node_modules/agora-token/src/AccessToken2.js\").ServiceRtm);\n\nclass RtmTokenBuilder {\n    /**\n     * Build the RTM token.\n     *\n     * @param appId The App ID issued to you by Agora. Apply for a new App ID from\n     * Agora Dashboard if it is missing from your kit. See Get an App ID.\n     * @param appCertificate Certificate of the application that you registered in\n     * the Agora Dashboard. See Get an App Certificate.\n     * @param userId The user's account, max length is 64 Bytes.\n     * @param expire represented by the number of seconds elapsed since now. If, for example, you want to access the\n     * Agora Service within 10 minutes after the token is generated, set expireTimestamp as 600(seconds).\n     * @return The RTM token.\n     */\n    static buildToken(appId, appCertificate, userId, expire) {\n        let token = new AccessToken(appId, appCertificate, null, expire);\n\n        let serviceRtm = new ServiceRtm(userId);\n        serviceRtm.add_privilege(ServiceRtm.kPrivilegeLogin, expire);\n        token.add_service(serviceRtm);\n\n        return token.build();\n    }\n}\n\nmodule.exports.RtmTokenBuilder = RtmTokenBuilder;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9hZ29yYS10b2tlbi9zcmMvUnRtVG9rZW5CdWlsZGVyMi5qcyIsIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0IsZ0lBQTJDO0FBQy9ELG1CQUFtQiw4SEFBeUM7O0FBRTVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLDhCQUE4QiIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hZ29yYS10b2tlbi9zcmMvUnRtVG9rZW5CdWlsZGVyMi5qcz9iOWUzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEFjY2Vzc1Rva2VuID0gcmVxdWlyZShcIi4uL3NyYy9BY2Nlc3NUb2tlbjJcIikuQWNjZXNzVG9rZW4yO1xuY29uc3QgU2VydmljZVJ0bSA9IHJlcXVpcmUoXCIuLi9zcmMvQWNjZXNzVG9rZW4yXCIpLlNlcnZpY2VSdG07XG5cbmNsYXNzIFJ0bVRva2VuQnVpbGRlciB7XG4gICAgLyoqXG4gICAgICogQnVpbGQgdGhlIFJUTSB0b2tlbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhcHBJZCBUaGUgQXBwIElEIGlzc3VlZCB0byB5b3UgYnkgQWdvcmEuIEFwcGx5IGZvciBhIG5ldyBBcHAgSUQgZnJvbVxuICAgICAqIEFnb3JhIERhc2hib2FyZCBpZiBpdCBpcyBtaXNzaW5nIGZyb20geW91ciBraXQuIFNlZSBHZXQgYW4gQXBwIElELlxuICAgICAqIEBwYXJhbSBhcHBDZXJ0aWZpY2F0ZSBDZXJ0aWZpY2F0ZSBvZiB0aGUgYXBwbGljYXRpb24gdGhhdCB5b3UgcmVnaXN0ZXJlZCBpblxuICAgICAqIHRoZSBBZ29yYSBEYXNoYm9hcmQuIFNlZSBHZXQgYW4gQXBwIENlcnRpZmljYXRlLlxuICAgICAqIEBwYXJhbSB1c2VySWQgVGhlIHVzZXIncyBhY2NvdW50LCBtYXggbGVuZ3RoIGlzIDY0IEJ5dGVzLlxuICAgICAqIEBwYXJhbSBleHBpcmUgcmVwcmVzZW50ZWQgYnkgdGhlIG51bWJlciBvZiBzZWNvbmRzIGVsYXBzZWQgc2luY2Ugbm93LiBJZiwgZm9yIGV4YW1wbGUsIHlvdSB3YW50IHRvIGFjY2VzcyB0aGVcbiAgICAgKiBBZ29yYSBTZXJ2aWNlIHdpdGhpbiAxMCBtaW51dGVzIGFmdGVyIHRoZSB0b2tlbiBpcyBnZW5lcmF0ZWQsIHNldCBleHBpcmVUaW1lc3RhbXAgYXMgNjAwKHNlY29uZHMpLlxuICAgICAqIEByZXR1cm4gVGhlIFJUTSB0b2tlbi5cbiAgICAgKi9cbiAgICBzdGF0aWMgYnVpbGRUb2tlbihhcHBJZCwgYXBwQ2VydGlmaWNhdGUsIHVzZXJJZCwgZXhwaXJlKSB7XG4gICAgICAgIGxldCB0b2tlbiA9IG5ldyBBY2Nlc3NUb2tlbihhcHBJZCwgYXBwQ2VydGlmaWNhdGUsIG51bGwsIGV4cGlyZSk7XG5cbiAgICAgICAgbGV0IHNlcnZpY2VSdG0gPSBuZXcgU2VydmljZVJ0bSh1c2VySWQpO1xuICAgICAgICBzZXJ2aWNlUnRtLmFkZF9wcml2aWxlZ2UoU2VydmljZVJ0bS5rUHJpdmlsZWdlTG9naW4sIGV4cGlyZSk7XG4gICAgICAgIHRva2VuLmFkZF9zZXJ2aWNlKHNlcnZpY2VSdG0pO1xuXG4gICAgICAgIHJldHVybiB0b2tlbi5idWlsZCgpO1xuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMuUnRtVG9rZW5CdWlsZGVyID0gUnRtVG9rZW5CdWlsZGVyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/agora-token/src/RtmTokenBuilder2.js\n");

/***/ })

};
;